var xwe=Object.defineProperty;var zne=It=>{throw TypeError(It)};var Iwe=(It,Ut,rr)=>Ut in It?xwe(It,Ut,{enumerable:!0,configurable:!0,writable:!0,value:rr}):It[Ut]=rr;var tr=(It,Ut,rr)=>Iwe(It,typeof Ut!="symbol"?Ut+"":Ut,rr),JF=(It,Ut,rr)=>Ut.has(It)||zne("Cannot "+rr);var fe=(It,Ut,rr)=>(JF(It,Ut,"read from private field"),rr?rr.call(It):Ut.get(It)),Pt=(It,Ut,rr)=>Ut.has(It)?zne("Cannot add the same private member more than once"):Ut instanceof WeakSet?Ut.add(It):Ut.set(It,rr),yt=(It,Ut,rr,gn)=>(JF(It,Ut,"write to private field"),gn?gn.call(It,rr):Ut.set(It,rr),rr),ot=(It,Ut,rr)=>(JF(It,Ut,"access private method"),rr);var yE=(It,Ut,rr,gn)=>({set _(La){yt(It,Ut,La,rr)},get _(){return fe(It,Ut,gn)}});(function(){"use strict";var It=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ut(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function rr(a){if(a.__esModule)return a;var t=a.default;if(typeof t=="function"){var u=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};u.prototype=t.prototype}else u={};return Object.defineProperty(u,"__esModule",{value:!0}),Object.keys(a).forEach(function(n){var r=Object.getOwnPropertyDescriptor(a,n);Object.defineProperty(u,n,r.get?r:{enumerable:!0,get:function(){return a[n]}})}),u}var gn={},La={},ja={},Xh={},Ma={},Jh={},qa={},Ca={},Kh="delete",Xt=5,vn=1<<Xt,zr=vn-1,Rt={};function wE(){return{value:!1}}function Tn(a){a&&(a.value=!0)}function SE(){}function qf(a){return a.size===void 0&&(a.size=a.__iterate(l6)),a.size}function Ki(a,t){if(typeof t!="number"){var u=t>>>0;if(""+u!==t||u===4294967295)return NaN;t=u}return t<0?qf(a)+t:t}function l6(){return!0}function Wh(a,t,u){return(a===0&&!f6(a)||u!==void 0&&a<=-u)&&(t===void 0||u!==void 0&&t>=u)}function Cf(a,t){return d6(a,t,0)}function Yh(a,t){return d6(a,t,t)}function d6(a,t,u){return a===void 0?u:f6(a)?t===1/0?t:Math.max(0,t+a)|0:t===void 0||t===a?a:Math.min(t,a)|0}function f6(a){return a<0||a===0&&1/a===-1/0}var h6="@@__IMMUTABLE_ITERABLE__@@";function qr(a){return!!(a&&a[h6])}var p6="@@__IMMUTABLE_KEYED__@@";function Qt(a){return!!(a&&a[p6])}var y6="@@__IMMUTABLE_INDEXED__@@";function Ar(a){return!!(a&&a[y6])}function Bf(a){return Qt(a)||Ar(a)}var Jt=function(t){return qr(t)?t:Cr(t)},wn=function(a){function t(u){return Qt(u)?u:Yi(u)}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t}(Jt),Ba=function(a){function t(u){return Ar(u)?u:On(u)}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t}(Jt),$f=function(a){function t(u){return qr(u)&&!Bf(u)?u:Qf(u)}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t}(Jt);Jt.Keyed=wn,Jt.Indexed=Ba,Jt.Set=$f;var b6="@@__IMMUTABLE_SEQ__@@";function Zh(a){return!!(a&&a[b6])}var _6="@@__IMMUTABLE_RECORD__@@";function Wi(a){return!!(a&&a[_6])}function cn(a){return qr(a)||Wi(a)}var Vf="@@__IMMUTABLE_ORDERED__@@";function ln(a){return!!(a&&a[Vf])}var ep=0,jn=1,Sn=2,OE=typeof Symbol=="function"&&Symbol.iterator,m6="@@iterator",KS=OE||m6,Lt=function(t){this.next=t};Lt.prototype.toString=function(){return"[Iterator]"},Lt.KEYS=ep,Lt.VALUES=jn,Lt.ENTRIES=Sn,Lt.prototype.inspect=Lt.prototype.toSource=function(){return this.toString()},Lt.prototype[KS]=function(){return this};function Kt(a,t,u,n){var r=a===0?t:a===1?u:[t,u];return n?n.value=r:n={value:r,done:!1},n}function Xr(){return{value:void 0,done:!0}}function AE(a){return Array.isArray(a)?!0:!!WS(a)}function g6(a){return a&&typeof a.next=="function"}function EE(a){var t=WS(a);return t&&t.call(a)}function WS(a){var t=a&&(OE&&a[OE]||a[m6]);if(typeof t=="function")return t}function mie(a){var t=WS(a);return t&&t===a.entries}function gie(a){var t=WS(a);return t&&t===a.keys}var Uf=Object.prototype.hasOwnProperty;function xE(a){return Array.isArray(a)||typeof a=="string"?!0:a&&typeof a=="object"&&Number.isInteger(a.length)&&a.length>=0&&(a.length===0?Object.keys(a).length===1:a.hasOwnProperty(a.length-1))}var Cr=function(a){function t(u){return u==null?RE():cn(u)?u.toSeq():Tie(u)}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(n,r){var e=this._cache;if(e){for(var i=e.length,o=0;o!==i;){var c=e[r?i-++o:o++];if(n(c[1],c[0],this)===!1)break}return o}return this.__iterateUncached(n,r)},t.prototype.__iterator=function(n,r){var e=this._cache;if(e){var i=e.length,o=0;return new Lt(function(){if(o===i)return Xr();var c=e[r?i-++o:o++];return Kt(n,c[0],c[1])})}return this.__iteratorUncached(n,r)},t}(Jt),Yi=function(a){function t(u){return u==null?RE().toKeyedSeq():qr(u)?Qt(u)?u.toSeq():u.fromEntrySeq():Wi(u)?u.toSeq():NE(u)}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(Cr),On=function(a){function t(u){return u==null?RE():qr(u)?Qt(u)?u.entrySeq():u.toIndexedSeq():Wi(u)?u.toSeq().entrySeq():T6(u)}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(Cr),Qf=function(a){function t(u){return(qr(u)&&!Bf(u)?u:On(u)).toSetSeq()}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(Cr);Cr.isSeq=Zh,Cr.Keyed=Yi,Cr.Set=Qf,Cr.Indexed=On,Cr.prototype[b6]=!0;var $a=function(a){function t(u){this._array=u,this.size=u.length}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.get=function(n,r){return this.has(n)?this._array[Ki(this,n)]:r},t.prototype.__iterate=function(n,r){for(var e=this._array,i=e.length,o=0;o!==i;){var c=r?i-++o:o++;if(n(e[c],c,this)===!1)break}return o},t.prototype.__iterator=function(n,r){var e=this._array,i=e.length,o=0;return new Lt(function(){if(o===i)return Xr();var c=r?i-++o:o++;return Kt(n,c,e[c])})},t}(On),IE=function(a){function t(u){var n=Object.keys(u).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(u):[]);this._object=u,this._keys=n,this.size=n.length}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.get=function(n,r){return r!==void 0&&!this.has(n)?r:this._object[n]},t.prototype.has=function(n){return Uf.call(this._object,n)},t.prototype.__iterate=function(n,r){for(var e=this._object,i=this._keys,o=i.length,c=0;c!==o;){var s=i[r?o-++c:c++];if(n(e[s],s,this)===!1)break}return c},t.prototype.__iterator=function(n,r){var e=this._object,i=this._keys,o=i.length,c=0;return new Lt(function(){if(c===o)return Xr();var s=i[r?o-++c:c++];return Kt(n,s,e[s])})},t}(Yi);IE.prototype[Vf]=!0;var vie=function(a){function t(u){this._collection=u,this.size=u.length||u.size}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(n,r){if(r)return this.cacheResult().__iterate(n,r);var e=this._collection,i=EE(e),o=0;if(g6(i))for(var c;!(c=i.next()).done&&n(c.value,o++,this)!==!1;);return o},t.prototype.__iteratorUncached=function(n,r){if(r)return this.cacheResult().__iterator(n,r);var e=this._collection,i=EE(e);if(!g6(i))return new Lt(Xr);var o=0;return new Lt(function(){var c=i.next();return c.done?c:Kt(n,o++,c.value)})},t}(On),v6;function RE(){return v6||(v6=new $a([]))}function NE(a){var t=FE(a);if(t)return t.fromEntrySeq();if(typeof a=="object")return new IE(a);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+a)}function T6(a){var t=FE(a);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+a)}function Tie(a){var t=FE(a);if(t)return mie(a)?t.fromEntrySeq():gie(a)?t.toSetSeq():t;if(typeof a=="object")return new IE(a);throw new TypeError("Expected Array or collection object of values, or keyed object: "+a)}function FE(a){return xE(a)?new $a(a):AE(a)?new vie(a):void 0}var w6="@@__IMMUTABLE_MAP__@@";function tp(a){return!!(a&&a[w6])}function YS(a){return tp(a)&&ln(a)}function ZS(a){return!!(a&&typeof a.equals=="function"&&typeof a.hashCode=="function")}function Tr(a,t){if(a===t||a!==a&&t!==t)return!0;if(!a||!t)return!1;if(typeof a.valueOf=="function"&&typeof t.valueOf=="function"){if(a=a.valueOf(),t=t.valueOf(),a===t||a!==a&&t!==t)return!0;if(!a||!t)return!1}return!!(ZS(a)&&ZS(t)&&a.equals(t))}var rp=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,u){t|=0,u|=0;var n=t&65535,r=u&65535;return n*r+((t>>>16)*r+n*(u>>>16)<<16>>>0)|0};function eO(a){return a>>>1&1073741824|a&3221225471}var wie=Object.prototype.valueOf;function Jr(a){if(a==null)return S6(a);if(typeof a.hashCode=="function")return eO(a.hashCode(a));var t=Iie(a);if(t==null)return S6(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return Sie(t);case"string":return t.length>Rie?Oie(t):DE(t);case"object":case"function":return Eie(t);case"symbol":return Aie(t);default:if(typeof t.toString=="function")return DE(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function S6(a){return a===null?1108378658:1108378659}function Sie(a){if(a!==a||a===1/0)return 0;var t=a|0;for(t!==a&&(t^=a*4294967295);a>4294967295;)a/=4294967295,t^=a;return eO(t)}function Oie(a){var t=qE[a];return t===void 0&&(t=DE(a),ME===Nie&&(ME=0,qE={}),ME++,qE[a]=t),t}function DE(a){for(var t=0,u=0;u<a.length;u++)t=31*t+a.charCodeAt(u)|0;return eO(t)}function Aie(a){var t=x6[a];return t!==void 0||(t=E6(),x6[a]=t),t}function Eie(a){var t;if(PE&&(t=LE.get(a),t!==void 0)||(t=a[Va],t!==void 0)||!A6&&(t=a.propertyIsEnumerable&&a.propertyIsEnumerable[Va],t!==void 0||(t=xie(a),t!==void 0)))return t;if(t=E6(),PE)LE.set(a,t);else{if(O6!==void 0&&O6(a)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(A6)Object.defineProperty(a,Va,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(a.propertyIsEnumerable!==void 0&&a.propertyIsEnumerable===a.constructor.prototype.propertyIsEnumerable)a.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},a.propertyIsEnumerable[Va]=t;else if(a.nodeType!==void 0)a[Va]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var O6=Object.isExtensible,A6=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function xie(a){if(a&&a.nodeType>0)switch(a.nodeType){case 1:return a.uniqueID;case 9:return a.documentElement&&a.documentElement.uniqueID}}function Iie(a){return a.valueOf!==wie&&typeof a.valueOf=="function"?a.valueOf(a):a}function E6(){var a=++jE;return jE&1073741824&&(jE=0),a}var PE=typeof WeakMap=="function",LE;PE&&(LE=new WeakMap);var x6=Object.create(null),jE=0,Va="__immutablehash__";typeof Symbol=="function"&&(Va=Symbol(Va));var Rie=16,Nie=255,ME=0,qE={},tO=function(a){function t(u,n){this._iter=u,this._useKeys=n,this.size=u.size}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.get=function(n,r){return this._iter.get(n,r)},t.prototype.has=function(n){return this._iter.has(n)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var n=this,r=CE(this,!0);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().reverse()}),r},t.prototype.map=function(n,r){var e=this,i=D6(this,n,r);return this._useKeys||(i.valueSeq=function(){return e._iter.toSeq().map(n,r)}),i},t.prototype.__iterate=function(n,r){var e=this;return this._iter.__iterate(function(i,o){return n(i,o,e)},r)},t.prototype.__iterator=function(n,r){return this._iter.__iterator(n,r)},t}(Yi);tO.prototype[Vf]=!0;var I6=function(a){function t(u){this._iter=u,this.size=u.size}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.includes=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,r){var e=this,i=0;return r&&qf(this),this._iter.__iterate(function(o){return n(o,r?e.size-++i:i++,e)},r)},t.prototype.__iterator=function(n,r){var e=this,i=this._iter.__iterator(jn,r),o=0;return r&&qf(this),new Lt(function(){var c=i.next();return c.done?c:Kt(n,r?e.size-++o:o++,c.value,c)})},t}(On),R6=function(a){function t(u){this._iter=u,this.size=u.size}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.has=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,r){var e=this;return this._iter.__iterate(function(i){return n(i,i,e)},r)},t.prototype.__iterator=function(n,r){var e=this._iter.__iterator(jn,r);return new Lt(function(){var i=e.next();return i.done?i:Kt(n,i.value,i.value,i)})},t}(Qf),N6=function(a){function t(u){this._iter=u,this.size=u.size}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(n,r){var e=this;return this._iter.__iterate(function(i){if(i){q6(i);var o=qr(i);return n(o?i.get(1):i[1],o?i.get(0):i[0],e)}},r)},t.prototype.__iterator=function(n,r){var e=this._iter.__iterator(jn,r);return new Lt(function(){for(;;){var i=e.next();if(i.done)return i;var o=i.value;if(o){q6(o);var c=qr(o);return Kt(n,c?o.get(0):o[0],c?o.get(1):o[1],i)}}})},t}(Yi);I6.prototype.cacheResult=tO.prototype.cacheResult=R6.prototype.cacheResult=N6.prototype.cacheResult=VE;function F6(a){var t=ii(a);return t._iter=a,t.size=a.size,t.flip=function(){return a},t.reverse=function(){var u=a.reverse.apply(this);return u.flip=function(){return a.reverse()},u},t.has=function(u){return a.includes(u)},t.includes=function(u){return a.has(u)},t.cacheResult=VE,t.__iterateUncached=function(u,n){var r=this;return a.__iterate(function(e,i){return u(i,e,r)!==!1},n)},t.__iteratorUncached=function(u,n){if(u===Sn){var r=a.__iterator(u,n);return new Lt(function(){var e=r.next();if(!e.done){var i=e.value[0];e.value[0]=e.value[1],e.value[1]=i}return e})}return a.__iterator(u===jn?ep:jn,n)},t}function D6(a,t,u){var n=ii(a);return n.size=a.size,n.has=function(r){return a.has(r)},n.get=function(r,e){var i=a.get(r,Rt);return i===Rt?e:t.call(u,i,r,a)},n.__iterateUncached=function(r,e){var i=this;return a.__iterate(function(o,c,s){return r(t.call(u,o,c,s),c,i)!==!1},e)},n.__iteratorUncached=function(r,e){var i=a.__iterator(Sn,e);return new Lt(function(){var o=i.next();if(o.done)return o;var c=o.value,s=c[0];return Kt(r,s,t.call(u,c[1],s,a),o)})},n}function CE(a,t){var u=this,n=ii(a);return n._iter=a,n.size=a.size,n.reverse=function(){return a},a.flip&&(n.flip=function(){var r=F6(a);return r.reverse=function(){return a.flip()},r}),n.get=function(r,e){return a.get(t?r:-1-r,e)},n.has=function(r){return a.has(t?r:-1-r)},n.includes=function(r){return a.includes(r)},n.cacheResult=VE,n.__iterate=function(r,e){var i=this,o=0;return e&&qf(a),a.__iterate(function(c,s){return r(c,t?s:e?i.size-++o:o++,i)},!e)},n.__iterator=function(r,e){var i=0;e&&qf(a);var o=a.__iterator(Sn,!e);return new Lt(function(){var c=o.next();if(c.done)return c;var s=c.value;return Kt(r,t?s[0]:e?u.size-++i:i++,s[1],c)})},n}function P6(a,t,u,n){var r=ii(a);return n&&(r.has=function(e){var i=a.get(e,Rt);return i!==Rt&&!!t.call(u,i,e,a)},r.get=function(e,i){var o=a.get(e,Rt);return o!==Rt&&t.call(u,o,e,a)?o:i}),r.__iterateUncached=function(e,i){var o=this,c=0;return a.__iterate(function(s,l,f){if(t.call(u,s,l,f))return c++,e(s,n?l:c-1,o)},i),c},r.__iteratorUncached=function(e,i){var o=a.__iterator(Sn,i),c=0;return new Lt(function(){for(;;){var s=o.next();if(s.done)return s;var l=s.value,f=l[0],d=l[1];if(t.call(u,d,f,a))return Kt(e,n?f:c++,d,s)}})},r}function Fie(a,t,u){var n=ta().asMutable();return a.__iterate(function(r,e){n.update(t.call(u,r,e,a),0,function(i){return i+1})}),n.asImmutable()}function Die(a,t,u){var n=Qt(a),r=(ln(a)?qn():ta()).asMutable();a.__iterate(function(i,o){r.update(t.call(u,i,o,a),function(c){return c=c||[],c.push(n?[o,i]:i),c})});var e=$E(a);return r.map(function(i){return Ht(a,e(i))}).asImmutable()}function Pie(a,t,u){var n=Qt(a),r=[[],[]];a.__iterate(function(i,o){r[t.call(u,i,o,a)?1:0].push(n?[o,i]:i)});var e=$E(a);return r.map(function(i){return Ht(a,e(i))})}function BE(a,t,u,n){var r=a.size;if(Wh(t,u,r))return a;if(typeof r>"u"&&(t<0||u<0))return BE(a.toSeq().cacheResult(),t,u,n);var e=Cf(t,r),i=Yh(u,r),o=i-e,c;o===o&&(c=o<0?0:o);var s=ii(a);return s.size=c===0?c:a.size&&c||void 0,!n&&Zh(a)&&c>=0&&(s.get=function(l,f){return l=Ki(this,l),l>=0&&l<c?a.get(l+e,f):f}),s.__iterateUncached=function(l,f){var d=this;if(c===0)return 0;if(f)return this.cacheResult().__iterate(l,f);var h=0,p=!0,b=0;return a.__iterate(function(m,y){if(!(p&&(p=h++<e)))return b++,l(m,n?y:b-1,d)!==!1&&b!==c}),b},s.__iteratorUncached=function(l,f){if(c!==0&&f)return this.cacheResult().__iterator(l,f);if(c===0)return new Lt(Xr);var d=a.__iterator(l,f),h=0,p=0;return new Lt(function(){for(;h++<e;)d.next();if(++p>c)return Xr();var b=d.next();return n||l===jn||b.done?b:l===ep?Kt(l,p-1,void 0,b):Kt(l,p-1,b.value[1],b)})},s}function Lie(a,t,u){var n=ii(a);return n.__iterateUncached=function(r,e){var i=this;if(e)return this.cacheResult().__iterate(r,e);var o=0;return a.__iterate(function(c,s,l){return t.call(u,c,s,l)&&++o&&r(c,s,i)}),o},n.__iteratorUncached=function(r,e){var i=this;if(e)return this.cacheResult().__iterator(r,e);var o=a.__iterator(Sn,e),c=!0;return new Lt(function(){if(!c)return Xr();var s=o.next();if(s.done)return s;var l=s.value,f=l[0],d=l[1];return t.call(u,d,f,i)?r===Sn?s:Kt(r,f,d,s):(c=!1,Xr())})},n}function L6(a,t,u,n){var r=ii(a);return r.__iterateUncached=function(e,i){var o=this;if(i)return this.cacheResult().__iterate(e,i);var c=!0,s=0;return a.__iterate(function(l,f,d){if(!(c&&(c=t.call(u,l,f,d))))return s++,e(l,n?f:s-1,o)}),s},r.__iteratorUncached=function(e,i){var o=this;if(i)return this.cacheResult().__iterator(e,i);var c=a.__iterator(Sn,i),s=!0,l=0;return new Lt(function(){var f,d,h;do{if(f=c.next(),f.done)return n||e===jn?f:e===ep?Kt(e,l++,void 0,f):Kt(e,l++,f.value[1],f);var p=f.value;d=p[0],h=p[1],s&&(s=t.call(u,h,d,o))}while(s);return e===Sn?f:Kt(e,d,h,f)})},r}function jie(a,t){var u=Qt(a),n=[a].concat(t).map(function(i){return qr(i)?u&&(i=wn(i)):i=u?NE(i):T6(Array.isArray(i)?i:[i]),i}).filter(function(i){return i.size!==0});if(n.length===0)return a;if(n.length===1){var r=n[0];if(r===a||u&&Qt(r)||Ar(a)&&Ar(r))return r}var e=new $a(n);return u?e=e.toKeyedSeq():Ar(a)||(e=e.toSetSeq()),e=e.flatten(!0),e.size=n.reduce(function(i,o){if(i!==void 0){var c=o.size;if(c!==void 0)return i+c}},0),e}function j6(a,t,u){var n=ii(a);return n.__iterateUncached=function(r,e){if(e)return this.cacheResult().__iterate(r,e);var i=0,o=!1;function c(s,l){s.__iterate(function(f,d){return(!t||l<t)&&qr(f)?c(f,l+1):(i++,r(f,u?d:i-1,n)===!1&&(o=!0)),!o},e)}return c(a,0),i},n.__iteratorUncached=function(r,e){if(e)return this.cacheResult().__iterator(r,e);var i=a.__iterator(r,e),o=[],c=0;return new Lt(function(){for(;i;){var s=i.next();if(s.done!==!1){i=o.pop();continue}var l=s.value;if(r===Sn&&(l=l[1]),(!t||o.length<t)&&qr(l))o.push(i),i=l.__iterator(r,e);else return u?s:Kt(r,c++,l,s)}return Xr()})},n}function Mie(a,t,u){var n=$E(a);return a.toSeq().map(function(r,e){return n(t.call(u,r,e,a))}).flatten(!0)}function qie(a,t){var u=ii(a);return u.size=a.size&&a.size*2-1,u.__iterateUncached=function(n,r){var e=this,i=0;return a.__iterate(function(o){return(!i||n(t,i++,e)!==!1)&&n(o,i++,e)!==!1},r),i},u.__iteratorUncached=function(n,r){var e=a.__iterator(jn,r),i=0,o;return new Lt(function(){return(!o||i%2)&&(o=e.next(),o.done)?o:i%2?Kt(n,i++,t):Kt(n,i++,o.value,o)})},u}function Hf(a,t,u){t||(t=C6);var n=Qt(a),r=0,e=a.toSeq().map(function(i,o){return[o,i,r++,u?u(i,o,a):i]}).valueSeq().toArray();return e.sort(function(i,o){return t(i[3],o[3])||i[2]-o[2]}).forEach(n?function(i,o){e[o].length=2}:function(i,o){e[o]=i[1]}),n?Yi(e):Ar(a)?On(e):Qf(e)}function rO(a,t,u){if(t||(t=C6),u){var n=a.toSeq().map(function(r,e){return[r,u(r,e,a)]}).reduce(function(r,e){return M6(t,r[1],e[1])?e:r});return n&&n[0]}return a.reduce(function(r,e){return M6(t,r,e)?e:r})}function M6(a,t,u){var n=a(u,t);return n===0&&u!==t&&(u==null||u!==u)||n>0}function nO(a,t,u,n){var r=ii(a),e=new $a(u).map(function(i){return i.size});return r.size=n?e.max():e.min(),r.__iterate=function(i,o){for(var c=this.__iterator(jn,o),s,l=0;!(s=c.next()).done&&i(s.value,l++,this)!==!1;);return l},r.__iteratorUncached=function(i,o){var c=u.map(function(f){return f=Jt(f),EE(o?f.reverse():f)}),s=0,l=!1;return new Lt(function(){var f;return l||(f=c.map(function(d){return d.next()}),l=n?f.every(function(d){return d.done}):f.some(function(d){return d.done})),l?Xr():Kt(i,s++,t.apply(null,f.map(function(d){return d.value})))})},r}function Ht(a,t){return a===t?a:Zh(a)?t:a.constructor(t)}function q6(a){if(a!==Object(a))throw new TypeError("Expected [K, V] tuple: "+a)}function $E(a){return Qt(a)?wn:Ar(a)?Ba:$f}function ii(a){return Object.create((Qt(a)?Yi:Ar(a)?On:Qf).prototype)}function VE(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Cr.prototype.cacheResult.call(this)}function C6(a,t){return a===void 0&&t===void 0?0:a===void 0?1:t===void 0?-1:a>t?1:a<t?-1:0}function ai(a,t){t=t||0;for(var u=Math.max(0,a.length-t),n=new Array(u),r=0;r<u;r++)n[r]=a[r+t];return n}function UE(a,t){if(!a)throw new Error(t)}function dn(a){UE(a!==1/0,"Cannot perform this action with an infinite size.")}function B6(a){if(xE(a)&&typeof a!="string")return a;if(ln(a))return a.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+a)}var Cie=Object.prototype.toString;function iO(a){if(!a||typeof a!="object"||Cie.call(a)!=="[object Object]")return!1;var t=Object.getPrototypeOf(a);if(t===null)return!0;for(var u=t,n=Object.getPrototypeOf(t);n!==null;)u=n,n=Object.getPrototypeOf(u);return u===t}function Zi(a){return typeof a=="object"&&(cn(a)||Array.isArray(a)||iO(a))}function np(a){try{return typeof a=="string"?JSON.stringify(a):String(a)}catch{return JSON.stringify(a)}}function QE(a,t){return cn(a)?a.has(t):Zi(a)&&Uf.call(a,t)}function aO(a,t,u){return cn(a)?a.get(t,u):QE(a,t)?typeof a.get=="function"?a.get(t):a[t]:u}function uO(a){if(Array.isArray(a))return ai(a);var t={};for(var u in a)Uf.call(a,u)&&(t[u]=a[u]);return t}function HE(a,t){if(!Zi(a))throw new TypeError("Cannot update non-data-structure value: "+a);if(cn(a)){if(!a.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+a);return a.remove(t)}if(!Uf.call(a,t))return a;var u=uO(a);return Array.isArray(u)?u.splice(t,1):delete u[t],u}function GE(a,t,u){if(!Zi(a))throw new TypeError("Cannot update non-data-structure value: "+a);if(cn(a)){if(!a.set)throw new TypeError("Cannot update immutable value without .set() method: "+a);return a.set(t,u)}if(Uf.call(a,t)&&u===a[t])return a;var n=uO(a);return n[t]=u,n}function ea(a,t,u,n){n||(n=u,u=void 0);var r=$6(cn(a),a,B6(t),0,u,n);return r===Rt?u:r}function $6(a,t,u,n,r,e){var i=t===Rt;if(n===u.length){var o=i?r:t,c=e(o);return c===o?t:c}if(!i&&!Zi(t))throw new TypeError("Cannot update within non-data-structure value in path ["+u.slice(0,n).map(np)+"]: "+t);var s=u[n],l=i?Rt:aO(t,s,Rt),f=$6(l===Rt?a:cn(l),l,u,n+1,r,e);return f===l?t:f===Rt?HE(t,s):GE(i?a?Mn():{}:t,s,f)}function kE(a,t,u){return ea(a,t,Rt,function(){return u})}function zE(a,t){return kE(this,a,t)}function XE(a,t){return ea(a,t,function(){return Rt})}function JE(a){return XE(this,a)}function oO(a,t,u,n){return ea(a,[t],u,n)}function KE(a,t,u){return arguments.length===1?a(this):oO(this,a,t,u)}function WE(a,t,u){return ea(this,a,t,u)}function V6(){for(var a=[],t=arguments.length;t--;)a[t]=arguments[t];return Q6(this,a)}function U6(a){for(var t=[],u=arguments.length-1;u-- >0;)t[u]=arguments[u+1];if(typeof a!="function")throw new TypeError("Invalid merger function: "+a);return Q6(this,t,a)}function Q6(a,t,u){for(var n=[],r=0;r<t.length;r++){var e=wn(t[r]);e.size!==0&&n.push(e)}return n.length===0?a:a.toSeq().size===0&&!a.__ownerID&&n.length===1?a.constructor(n[0]):a.withMutations(function(i){for(var o=u?function(s,l){oO(i,l,Rt,function(f){return f===Rt?s:u(f,s,l)})}:function(s,l){i.set(l,s)},c=0;c<n.length;c++)n[c].forEach(o)})}function H6(a){for(var t=[],u=arguments.length-1;u-- >0;)t[u]=arguments[u+1];return ap(a,t)}function G6(a,t){for(var u=[],n=arguments.length-2;n-- >0;)u[n]=arguments[n+2];return ap(t,u,a)}function k6(a){for(var t=[],u=arguments.length-1;u-- >0;)t[u]=arguments[u+1];return ip(a,t)}function z6(a,t){for(var u=[],n=arguments.length-2;n-- >0;)u[n]=arguments[n+2];return ip(t,u,a)}function ip(a,t,u){return ap(a,t,Bie(u))}function ap(a,t,u){if(!Zi(a))throw new TypeError("Cannot merge into non-data-structure value: "+a);if(cn(a))return typeof u=="function"&&a.mergeWith?a.mergeWith.apply(a,[u].concat(t)):a.merge?a.merge.apply(a,t):a.concat.apply(a,t);for(var n=Array.isArray(a),r=a,e=n?Ba:wn,i=n?function(c){r===a&&(r=uO(r)),r.push(c)}:function(c,s){var l=Uf.call(r,s),f=l&&u?u(r[s],c,s):c;(!l||f!==r[s])&&(r===a&&(r=uO(r)),r[s]=f)},o=0;o<t.length;o++)e(t[o]).forEach(i);return r}function Bie(a){function t(u,n,r){return Zi(u)&&Zi(n)&&$ie(u,n)?ap(u,[n],t):a?a(u,n,r):n}return t}function $ie(a,t){var u=Cr(a),n=Cr(t);return Ar(u)===Ar(n)&&Qt(u)===Qt(n)}function X6(){for(var a=[],t=arguments.length;t--;)a[t]=arguments[t];return ip(this,a)}function J6(a){for(var t=[],u=arguments.length-1;u-- >0;)t[u]=arguments[u+1];return ip(this,t,a)}function YE(a){for(var t=[],u=arguments.length-1;u-- >0;)t[u]=arguments[u+1];return ea(this,a,Mn(),function(n){return ap(n,t)})}function ZE(a){for(var t=[],u=arguments.length-1;u-- >0;)t[u]=arguments[u+1];return ea(this,a,Mn(),function(n){return ip(n,t)})}function up(a){var t=this.asMutable();return a(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function op(){return this.__ownerID?this:this.__ensureOwner(new SE)}function sp(){return this.__ensureOwner()}function ex(){return this.__altered}var ta=function(a){function t(u){return u==null?Mn():tp(u)&&!ln(u)?u:Mn().withMutations(function(n){var r=a(u);dn(r.size),r.forEach(function(e,i){return n.set(i,e)})})}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.of=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return Mn().withMutations(function(e){for(var i=0;i<n.length;i+=2){if(i+1>=n.length)throw new Error("Missing value for key: "+n[i]);e.set(n[i],n[i+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(n,r){return this._root?this._root.get(0,void 0,n,r):r},t.prototype.set=function(n,r){return Y6(this,n,r)},t.prototype.remove=function(n){return Y6(this,n,Rt)},t.prototype.deleteAll=function(n){var r=Jt(n);return r.size===0?this:this.withMutations(function(e){r.forEach(function(i){return e.remove(i)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Mn()},t.prototype.sort=function(n){return qn(Hf(this,n))},t.prototype.sortBy=function(n,r){return qn(Hf(this,r,n))},t.prototype.map=function(n,r){var e=this;return this.withMutations(function(i){i.forEach(function(o,c){i.set(c,n.call(r,o,c,e))})})},t.prototype.__iterator=function(n,r){return new Vie(this,n,r)},t.prototype.__iterate=function(n,r){var e=this,i=0;return this._root&&this._root.iterate(function(o){return i++,n(o[1],o[0],e)},r),i},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?rx(this.size,this._root,n,this.__hash):this.size===0?Mn():(this.__ownerID=n,this.__altered=!1,this)},t}(wn);ta.isMap=tp;var Wt=ta.prototype;Wt[w6]=!0,Wt[Kh]=Wt.remove,Wt.removeAll=Wt.deleteAll,Wt.setIn=zE,Wt.removeIn=Wt.deleteIn=JE,Wt.update=KE,Wt.updateIn=WE,Wt.merge=Wt.concat=V6,Wt.mergeWith=U6,Wt.mergeDeep=X6,Wt.mergeDeepWith=J6,Wt.mergeIn=YE,Wt.mergeDeepIn=ZE,Wt.withMutations=up,Wt.wasAltered=ex,Wt.asImmutable=sp,Wt["@@transducer/init"]=Wt.asMutable=op,Wt["@@transducer/step"]=function(a,t){return a.set(t[0],t[1])},Wt["@@transducer/result"]=function(a){return a.asImmutable()};var cp=function(t,u){this.ownerID=t,this.entries=u};cp.prototype.get=function(t,u,n,r){for(var e=this.entries,i=0,o=e.length;i<o;i++)if(Tr(n,e[i][0]))return e[i][1];return r},cp.prototype.update=function(t,u,n,r,e,i,o){for(var c=e===Rt,s=this.entries,l=0,f=s.length;l<f&&!Tr(r,s[l][0]);l++);var d=l<f;if(d?s[l][1]===e:c)return this;if(Tn(o),(c||!d)&&Tn(i),!(c&&s.length===1)){if(!d&&!c&&s.length>=zie)return Uie(t,s,r,e);var h=t&&t===this.ownerID,p=h?s:ai(s);return d?c?l===f-1?p.pop():p[l]=p.pop():p[l]=[r,e]:p.push([r,e]),h?(this.entries=p,this):new cp(t,p)}};var Gf=function(t,u,n){this.ownerID=t,this.bitmap=u,this.nodes=n};Gf.prototype.get=function(t,u,n,r){u===void 0&&(u=Jr(n));var e=1<<((t===0?u:u>>>t)&zr),i=this.bitmap;return(i&e)===0?r:this.nodes[eD(i&e-1)].get(t+Xt,u,n,r)},Gf.prototype.update=function(t,u,n,r,e,i,o){n===void 0&&(n=Jr(r));var c=(u===0?n:n>>>u)&zr,s=1<<c,l=this.bitmap,f=(l&s)!==0;if(!f&&e===Rt)return this;var d=eD(l&s-1),h=this.nodes,p=f?h[d]:void 0,b=nx(p,t,u+Xt,n,r,e,i,o);if(b===p)return this;if(!f&&b&&h.length>=Xie)return Hie(t,h,l,c,b);if(f&&!b&&h.length===2&&Z6(h[d^1]))return h[d^1];if(f&&b&&h.length===1&&Z6(b))return b;var m=t&&t===this.ownerID,y=f?b?l:l^s:l|s,g=f?b?tD(h,d,b,m):kie(h,d,m):Gie(h,d,b,m);return m?(this.bitmap=y,this.nodes=g,this):new Gf(t,y,g)};var lp=function(t,u,n){this.ownerID=t,this.count=u,this.nodes=n};lp.prototype.get=function(t,u,n,r){u===void 0&&(u=Jr(n));var e=(t===0?u:u>>>t)&zr,i=this.nodes[e];return i?i.get(t+Xt,u,n,r):r},lp.prototype.update=function(t,u,n,r,e,i,o){n===void 0&&(n=Jr(r));var c=(u===0?n:n>>>u)&zr,s=e===Rt,l=this.nodes,f=l[c];if(s&&!f)return this;var d=nx(f,t,u+Xt,n,r,e,i,o);if(d===f)return this;var h=this.count;if(!f)h++;else if(!d&&(h--,h<Jie))return Qie(t,l,h,c);var p=t&&t===this.ownerID,b=tD(l,c,d,p);return p?(this.count=h,this.nodes=b,this):new lp(t,h,b)};var kf=function(t,u,n){this.ownerID=t,this.keyHash=u,this.entries=n};kf.prototype.get=function(t,u,n,r){for(var e=this.entries,i=0,o=e.length;i<o;i++)if(Tr(n,e[i][0]))return e[i][1];return r},kf.prototype.update=function(t,u,n,r,e,i,o){n===void 0&&(n=Jr(r));var c=e===Rt;if(n!==this.keyHash)return c?this:(Tn(o),Tn(i),ix(this,t,u,n,[r,e]));for(var s=this.entries,l=0,f=s.length;l<f&&!Tr(r,s[l][0]);l++);var d=l<f;if(d?s[l][1]===e:c)return this;if(Tn(o),(c||!d)&&Tn(i),c&&f===2)return new Ti(t,this.keyHash,s[l^1]);var h=t&&t===this.ownerID,p=h?s:ai(s);return d?c?l===f-1?p.pop():p[l]=p.pop():p[l]=[r,e]:p.push([r,e]),h?(this.entries=p,this):new kf(t,this.keyHash,p)};var Ti=function(t,u,n){this.ownerID=t,this.keyHash=u,this.entry=n};Ti.prototype.get=function(t,u,n,r){return Tr(n,this.entry[0])?this.entry[1]:r},Ti.prototype.update=function(t,u,n,r,e,i,o){var c=e===Rt,s=Tr(r,this.entry[0]);if(s?e===this.entry[1]:c)return this;if(Tn(o),c){Tn(i);return}return s?t&&t===this.ownerID?(this.entry[1]=e,this):new Ti(t,this.keyHash,[r,e]):(Tn(i),ix(this,t,u,Jr(r),[r,e]))},cp.prototype.iterate=kf.prototype.iterate=function(a,t){for(var u=this.entries,n=0,r=u.length-1;n<=r;n++)if(a(u[t?r-n:n])===!1)return!1},Gf.prototype.iterate=lp.prototype.iterate=function(a,t){for(var u=this.nodes,n=0,r=u.length-1;n<=r;n++){var e=u[t?r-n:n];if(e&&e.iterate(a,t)===!1)return!1}},Ti.prototype.iterate=function(a,t){return a(this.entry)};var Vie=function(a){function t(u,n,r){this._type=n,this._reverse=r,this._stack=u._root&&K6(u._root)}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var n=this._type,r=this._stack;r;){var e=r.node,i=r.index++,o=void 0;if(e.entry){if(i===0)return tx(n,e.entry)}else if(e.entries){if(o=e.entries.length-1,i<=o)return tx(n,e.entries[this._reverse?o-i:i])}else if(o=e.nodes.length-1,i<=o){var c=e.nodes[this._reverse?o-i:i];if(c){if(c.entry)return tx(n,c.entry);r=this._stack=K6(c,r)}continue}r=this._stack=this._stack.__prev}return Xr()},t}(Lt);function tx(a,t){return Kt(a,t[0],t[1])}function K6(a,t){return{node:a,index:0,__prev:t}}function rx(a,t,u,n){var r=Object.create(Wt);return r.size=a,r._root=t,r.__ownerID=u,r.__hash=n,r.__altered=!1,r}var W6;function Mn(){return W6||(W6=rx(0))}function Y6(a,t,u){var n,r;if(a._root){var e=wE(),i=wE();if(n=nx(a._root,a.__ownerID,0,void 0,t,u,e,i),!i.value)return a;r=a.size+(e.value?u===Rt?-1:1:0)}else{if(u===Rt)return a;r=1,n=new cp(a.__ownerID,[[t,u]])}return a.__ownerID?(a.size=r,a._root=n,a.__hash=void 0,a.__altered=!0,a):n?rx(r,n):Mn()}function nx(a,t,u,n,r,e,i,o){return a?a.update(t,u,n,r,e,i,o):e===Rt?a:(Tn(o),Tn(i),new Ti(t,n,[r,e]))}function Z6(a){return a.constructor===Ti||a.constructor===kf}function ix(a,t,u,n,r){if(a.keyHash===n)return new kf(t,n,[a.entry,r]);var e=(u===0?a.keyHash:a.keyHash>>>u)&zr,i=(u===0?n:n>>>u)&zr,o,c=e===i?[ix(a,t,u+Xt,n,r)]:(o=new Ti(t,n,r),e<i?[a,o]:[o,a]);return new Gf(t,1<<e|1<<i,c)}function Uie(a,t,u,n){a||(a=new SE);for(var r=new Ti(a,Jr(u),[u,n]),e=0;e<t.length;e++){var i=t[e];r=r.update(a,0,void 0,i[0],i[1])}return r}function Qie(a,t,u,n){for(var r=0,e=0,i=new Array(u),o=0,c=1,s=t.length;o<s;o++,c<<=1){var l=t[o];l!==void 0&&o!==n&&(r|=c,i[e++]=l)}return new Gf(a,r,i)}function Hie(a,t,u,n,r){for(var e=0,i=new Array(vn),o=0;u!==0;o++,u>>>=1)i[o]=u&1?t[e++]:void 0;return i[n]=r,new lp(a,e+1,i)}function eD(a){return a-=a>>1&1431655765,a=(a&858993459)+(a>>2&858993459),a=a+(a>>4)&252645135,a+=a>>8,a+=a>>16,a&127}function tD(a,t,u,n){var r=n?a:ai(a);return r[t]=u,r}function Gie(a,t,u,n){var r=a.length+1;if(n&&t+1===r)return a[t]=u,a;for(var e=new Array(r),i=0,o=0;o<r;o++)o===t?(e[o]=u,i=-1):e[o]=a[o+i];return e}function kie(a,t,u){var n=a.length-1;if(u&&t===n)return a.pop(),a;for(var r=new Array(n),e=0,i=0;i<n;i++)i===t&&(e=1),r[i]=a[i+e];return r}var zie=vn/4,Xie=vn/2,Jie=vn/4,rD="@@__IMMUTABLE_LIST__@@";function sO(a){return!!(a&&a[rD])}var zf=function(a){function t(u){var n=cO();if(u==null)return n;if(sO(u))return u;var r=a(u),e=r.size;return e===0?n:(dn(e),e>0&&e<vn?fp(0,e,Xt,null,new ra(r.toArray())):n.withMutations(function(i){i.setSize(e),r.forEach(function(o,c){return i.set(c,o)})}))}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(n,r){if(n=Ki(this,n),n>=0&&n<this.size){n+=this._origin;var e=aD(this,n);return e&&e.array[n&zr]}return r},t.prototype.set=function(n,r){return Kie(this,n,r)},t.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},t.prototype.insert=function(n,r){return this.splice(n,0,r)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Xt,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):cO()},t.prototype.push=function(){var n=arguments,r=this.size;return this.withMutations(function(e){na(e,0,r+n.length);for(var i=0;i<n.length;i++)e.set(r+i,n[i])})},t.prototype.pop=function(){return na(this,0,-1)},t.prototype.unshift=function(){var n=arguments;return this.withMutations(function(r){na(r,-n.length);for(var e=0;e<n.length;e++)r.set(e,n[e])})},t.prototype.shift=function(){return na(this,1)},t.prototype.concat=function(){for(var n=arguments,r=[],e=0;e<arguments.length;e++){var i=n[e],o=a(typeof i!="string"&&AE(i)?i:[i]);o.size!==0&&r.push(o)}return r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(c){r.forEach(function(s){return s.forEach(function(l){return c.push(l)})})})},t.prototype.setSize=function(n){return na(this,0,n)},t.prototype.map=function(n,r){var e=this;return this.withMutations(function(i){for(var o=0;o<e.size;o++)i.set(o,n.call(r,i.get(o),o,e))})},t.prototype.slice=function(n,r){var e=this.size;return Wh(n,r,e)?this:na(this,Cf(n,e),Yh(r,e))},t.prototype.__iterator=function(n,r){var e=r?this.size:0,i=nD(this,r);return new Lt(function(){var o=i();return o===dp?Xr():Kt(n,r?--e:e++,o)})},t.prototype.__iterate=function(n,r){for(var e=r?this.size:0,i=nD(this,r),o;(o=i())!==dp&&n(o,r?--e:e++,this)!==!1;);return e},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?fp(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?cO():(this.__ownerID=n,this.__altered=!1,this)},t}(Ba);zf.isList=sO;var yr=zf.prototype;yr[rD]=!0,yr[Kh]=yr.remove,yr.merge=yr.concat,yr.setIn=zE,yr.deleteIn=yr.removeIn=JE,yr.update=KE,yr.updateIn=WE,yr.mergeIn=YE,yr.mergeDeepIn=ZE,yr.withMutations=up,yr.wasAltered=ex,yr.asImmutable=sp,yr["@@transducer/init"]=yr.asMutable=op,yr["@@transducer/step"]=function(a,t){return a.push(t)},yr["@@transducer/result"]=function(a){return a.asImmutable()};var ra=function(t,u){this.array=t,this.ownerID=u};ra.prototype.removeBefore=function(t,u,n){if(n===u?1<<u:this.array.length===0)return this;var r=n>>>u&zr;if(r>=this.array.length)return new ra([],t);var e=r===0,i;if(u>0){var o=this.array[r];if(i=o&&o.removeBefore(t,u-Xt,n),i===o&&e)return this}if(e&&!i)return this;var c=Xf(this,t);if(!e)for(var s=0;s<r;s++)c.array[s]=void 0;return i&&(c.array[r]=i),c},ra.prototype.removeAfter=function(t,u,n){if(n===(u?1<<u:0)||this.array.length===0)return this;var r=n-1>>>u&zr;if(r>=this.array.length)return this;var e;if(u>0){var i=this.array[r];if(e=i&&i.removeAfter(t,u-Xt,n),e===i&&r===this.array.length-1)return this}var o=Xf(this,t);return o.array.splice(r+1),e&&(o.array[r]=e),o};var dp={};function nD(a,t){var u=a._origin,n=a._capacity,r=hp(n),e=a._tail;return i(a._root,a._level,0);function i(s,l,f){return l===0?o(s,f):c(s,l,f)}function o(s,l){var f=l===r?e&&e.array:s&&s.array,d=l>u?0:u-l,h=n-l;return h>vn&&(h=vn),function(){if(d===h)return dp;var p=t?--h:d++;return f&&f[p]}}function c(s,l,f){var d,h=s&&s.array,p=f>u?0:u-f>>l,b=(n-f>>l)+1;return b>vn&&(b=vn),function(){for(;;){if(d){var m=d();if(m!==dp)return m;d=null}if(p===b)return dp;var y=t?--b:p++;d=i(h&&h[y],l-Xt,f+(y<<l))}}}}function fp(a,t,u,n,r,e,i){var o=Object.create(yr);return o.size=t-a,o._origin=a,o._capacity=t,o._level=u,o._root=n,o._tail=r,o.__ownerID=e,o.__hash=i,o.__altered=!1,o}var iD;function cO(){return iD||(iD=fp(0,0,Xt))}function Kie(a,t,u){if(t=Ki(a,t),t!==t)return a;if(t>=a.size||t<0)return a.withMutations(function(i){t<0?na(i,t).set(0,u):na(i,0,t+1).set(t,u)});t+=a._origin;var n=a._tail,r=a._root,e=wE();return t>=hp(a._capacity)?n=ax(n,a.__ownerID,0,t,u,e):r=ax(r,a.__ownerID,a._level,t,u,e),e.value?a.__ownerID?(a._root=r,a._tail=n,a.__hash=void 0,a.__altered=!0,a):fp(a._origin,a._capacity,a._level,r,n):a}function ax(a,t,u,n,r,e){var i=n>>>u&zr,o=a&&i<a.array.length;if(!o&&r===void 0)return a;var c;if(u>0){var s=a&&a.array[i],l=ax(s,t,u-Xt,n,r,e);return l===s?a:(c=Xf(a,t),c.array[i]=l,c)}return o&&a.array[i]===r?a:(e&&Tn(e),c=Xf(a,t),r===void 0&&i===c.array.length-1?c.array.pop():c.array[i]=r,c)}function Xf(a,t){return t&&a&&t===a.ownerID?a:new ra(a?a.array.slice():[],t)}function aD(a,t){if(t>=hp(a._capacity))return a._tail;if(t<1<<a._level+Xt){for(var u=a._root,n=a._level;u&&n>0;)u=u.array[t>>>n&zr],n-=Xt;return u}}function na(a,t,u){t!==void 0&&(t|=0),u!==void 0&&(u|=0);var n=a.__ownerID||new SE,r=a._origin,e=a._capacity,i=r+t,o=u===void 0?e:u<0?e+u:r+u;if(i===r&&o===e)return a;if(i>=o)return a.clear();for(var c=a._level,s=a._root,l=0;i+l<0;)s=new ra(s&&s.array.length?[void 0,s]:[],n),c+=Xt,l+=1<<c;l&&(i+=l,r+=l,o+=l,e+=l);for(var f=hp(e),d=hp(o);d>=1<<c+Xt;)s=new ra(s&&s.array.length?[s]:[],n),c+=Xt;var h=a._tail,p=d<f?aD(a,o-1):d>f?new ra([],n):h;if(h&&d>f&&i<e&&h.array.length){s=Xf(s,n);for(var b=s,m=c;m>Xt;m-=Xt){var y=f>>>m&zr;b=b.array[y]=Xf(b.array[y],n)}b.array[f>>>Xt&zr]=h}if(o<e&&(p=p&&p.removeAfter(n,0,o)),i>=d)i-=d,o-=d,c=Xt,s=null,p=p&&p.removeBefore(n,0,i);else if(i>r||d<f){for(l=0;s;){var g=i>>>c&zr;if(g!==d>>>c&zr)break;g&&(l+=(1<<c)*g),c-=Xt,s=s.array[g]}s&&i>r&&(s=s.removeBefore(n,c,i-l)),s&&d<f&&(s=s.removeAfter(n,c,d-l)),l&&(i-=l,o-=l)}return a.__ownerID?(a.size=o-i,a._origin=i,a._capacity=o,a._level=c,a._root=s,a._tail=p,a.__hash=void 0,a.__altered=!0,a):fp(i,o,c,s,p)}function hp(a){return a<vn?0:a-1>>>Xt<<Xt}var qn=function(a){function t(u){return u==null?pp():YS(u)?u:pp().withMutations(function(n){var r=wn(u);dn(r.size),r.forEach(function(e,i){return n.set(i,e)})})}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(n,r){var e=this._map.get(n);return e!==void 0?this._list.get(e)[1]:r},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):pp()},t.prototype.set=function(n,r){return oD(this,n,r)},t.prototype.remove=function(n){return oD(this,n,Rt)},t.prototype.__iterate=function(n,r){var e=this;return this._list.__iterate(function(i){return i&&n(i[1],i[0],e)},r)},t.prototype.__iterator=function(n,r){return this._list.fromEntrySeq().__iterator(n,r)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var r=this._map.__ensureOwner(n),e=this._list.__ensureOwner(n);return n?ux(r,e,n,this.__hash):this.size===0?pp():(this.__ownerID=n,this.__altered=!1,this._map=r,this._list=e,this)},t}(ta);qn.isOrderedMap=YS,qn.prototype[Vf]=!0,qn.prototype[Kh]=qn.prototype.remove;function ux(a,t,u,n){var r=Object.create(qn.prototype);return r.size=a?a.size:0,r._map=a,r._list=t,r.__ownerID=u,r.__hash=n,r.__altered=!1,r}var uD;function pp(){return uD||(uD=ux(Mn(),cO()))}function oD(a,t,u){var n=a._map,r=a._list,e=n.get(t),i=e!==void 0,o,c;if(u===Rt){if(!i)return a;r.size>=vn&&r.size>=n.size*2?(c=r.filter(function(s,l){return s!==void 0&&e!==l}),o=c.toKeyedSeq().map(function(s){return s[0]}).flip().toMap(),a.__ownerID&&(o.__ownerID=c.__ownerID=a.__ownerID)):(o=n.remove(t),c=e===r.size-1?r.pop():r.set(e,void 0))}else if(i){if(u===r.get(e)[1])return a;o=n,c=r.set(e,[t,u])}else o=n.set(t,r.size),c=r.set(r.size,[t,u]);return a.__ownerID?(a.size=o.size,a._map=o,a._list=c,a.__hash=void 0,a.__altered=!0,a):ux(o,c)}var sD="@@__IMMUTABLE_STACK__@@";function yp(a){return!!(a&&a[sD])}var bp=function(a){function t(u){return u==null?lO():yp(u)?u:lO().pushAll(u)}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(n,r){var e=this._head;for(n=Ki(this,n);e&&n--;)e=e.next;return e?e.value:r},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var r=this.size+arguments.length,e=this._head,i=arguments.length-1;i>=0;i--)e={value:n[i],next:e};return this.__ownerID?(this.size=r,this._head=e,this.__hash=void 0,this.__altered=!0,this):_p(r,e)},t.prototype.pushAll=function(n){if(n=a(n),n.size===0)return this;if(this.size===0&&yp(n))return n;dn(n.size);var r=this.size,e=this._head;return n.__iterate(function(i){r++,e={value:i,next:e}},!0),this.__ownerID?(this.size=r,this._head=e,this.__hash=void 0,this.__altered=!0,this):_p(r,e)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):lO()},t.prototype.slice=function(n,r){if(Wh(n,r,this.size))return this;var e=Cf(n,this.size),i=Yh(r,this.size);if(i!==this.size)return a.prototype.slice.call(this,n,r);for(var o=this.size-e,c=this._head;e--;)c=c.next;return this.__ownerID?(this.size=o,this._head=c,this.__hash=void 0,this.__altered=!0,this):_p(o,c)},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?_p(this.size,this._head,n,this.__hash):this.size===0?lO():(this.__ownerID=n,this.__altered=!1,this)},t.prototype.__iterate=function(n,r){var e=this;if(r)return new $a(this.toArray()).__iterate(function(c,s){return n(c,s,e)},r);for(var i=0,o=this._head;o&&n(o.value,i++,this)!==!1;)o=o.next;return i},t.prototype.__iterator=function(n,r){if(r)return new $a(this.toArray()).__iterator(n,r);var e=0,i=this._head;return new Lt(function(){if(i){var o=i.value;return i=i.next,Kt(n,e++,o)}return Xr()})},t}(Ba);bp.isStack=yp;var Kr=bp.prototype;Kr[sD]=!0,Kr.shift=Kr.pop,Kr.unshift=Kr.push,Kr.unshiftAll=Kr.pushAll,Kr.withMutations=up,Kr.wasAltered=ex,Kr.asImmutable=sp,Kr["@@transducer/init"]=Kr.asMutable=op,Kr["@@transducer/step"]=function(a,t){return a.unshift(t)},Kr["@@transducer/result"]=function(a){return a.asImmutable()};function _p(a,t,u,n){var r=Object.create(Kr);return r.size=a,r._head=t,r.__ownerID=u,r.__hash=n,r.__altered=!1,r}var cD;function lO(){return cD||(cD=_p(0))}var lD="@@__IMMUTABLE_SET__@@";function mp(a){return!!(a&&a[lD])}function dO(a){return mp(a)&&ln(a)}function ox(a,t){if(a===t)return!0;if(!qr(t)||a.size!==void 0&&t.size!==void 0&&a.size!==t.size||a.__hash!==void 0&&t.__hash!==void 0&&a.__hash!==t.__hash||Qt(a)!==Qt(t)||Ar(a)!==Ar(t)||ln(a)!==ln(t))return!1;if(a.size===0&&t.size===0)return!0;var u=!Bf(a);if(ln(a)){var n=a.entries();return t.every(function(c,s){var l=n.next().value;return l&&Tr(l[1],c)&&(u||Tr(l[0],s))})&&n.next().done}var r=!1;if(a.size===void 0)if(t.size===void 0)typeof a.cacheResult=="function"&&a.cacheResult();else{r=!0;var e=a;a=t,t=e}var i=!0,o=t.__iterate(function(c,s){if(u?!a.has(c):r?!Tr(c,a.get(s,Rt)):!Tr(a.get(s,Rt),c))return i=!1,!1});return i&&a.size===o}function Ua(a,t){var u=function(n){a.prototype[n]=t[n]};return Object.keys(t).forEach(u),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(u),a}function fO(a){if(!a||typeof a!="object")return a;if(!qr(a)){if(!Zi(a))return a;a=Cr(a)}if(Qt(a)){var t={};return a.__iterate(function(n,r){t[r]=fO(n)}),t}var u=[];return a.__iterate(function(n){u.push(fO(n))}),u}var Jf=function(a){function t(u){return u==null?gp():mp(u)&&!ln(u)?u:gp().withMutations(function(n){var r=a(u);dn(r.size),r.forEach(function(e){return n.add(e)})})}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(wn(n).keySeq())},t.intersect=function(n){return n=Jt(n).toArray(),n.length?Er.intersect.apply(t(n.pop()),n):gp()},t.union=function(n){return n=Jt(n).toArray(),n.length?Er.union.apply(t(n.pop()),n):gp()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(n){return this._map.has(n)},t.prototype.add=function(n){return hO(this,this._map.set(n,n))},t.prototype.remove=function(n){return hO(this,this._map.remove(n))},t.prototype.clear=function(){return hO(this,this._map.clear())},t.prototype.map=function(n,r){var e=this,i=!1,o=hO(this,this._map.mapEntries(function(c){var s=c[1],l=n.call(r,s,s,e);return l!==s&&(i=!0),[l,l]},r));return i?o:this},t.prototype.union=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return n=n.filter(function(e){return e.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(e){for(var i=0;i<n.length;i++)typeof n[i]=="string"?e.add(n[i]):a(n[i]).forEach(function(o){return e.add(o)})})},t.prototype.intersect=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(n.length===0)return this;n=n.map(function(i){return a(i)});var e=[];return this.forEach(function(i){n.every(function(o){return o.includes(i)})||e.push(i)}),this.withMutations(function(i){e.forEach(function(o){i.remove(o)})})},t.prototype.subtract=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(n.length===0)return this;n=n.map(function(i){return a(i)});var e=[];return this.forEach(function(i){n.some(function(o){return o.includes(i)})&&e.push(i)}),this.withMutations(function(i){e.forEach(function(o){i.remove(o)})})},t.prototype.sort=function(n){return Qa(Hf(this,n))},t.prototype.sortBy=function(n,r){return Qa(Hf(this,r,n))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(n,r){var e=this;return this._map.__iterate(function(i){return n(i,i,e)},r)},t.prototype.__iterator=function(n,r){return this._map.__iterator(n,r)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var r=this._map.__ensureOwner(n);return n?this.__make(r,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=r,this)},t}($f);Jf.isSet=mp;var Er=Jf.prototype;Er[lD]=!0,Er[Kh]=Er.remove,Er.merge=Er.concat=Er.union,Er.withMutations=up,Er.asImmutable=sp,Er["@@transducer/init"]=Er.asMutable=op,Er["@@transducer/step"]=function(a,t){return a.add(t)},Er["@@transducer/result"]=function(a){return a.asImmutable()},Er.__empty=gp,Er.__make=dD;function hO(a,t){return a.__ownerID?(a.size=t.size,a._map=t,a):t===a._map?a:t.size===0?a.__empty():a.__make(t)}function dD(a,t){var u=Object.create(Er);return u.size=a?a.size:0,u._map=a,u.__ownerID=t,u}var fD;function gp(){return fD||(fD=dD(Mn()))}var sx=function(a){function t(u,n,r){if(!(this instanceof t))return new t(u,n,r);if(UE(r!==0,"Cannot step a Range by 0"),u=u||0,n===void 0&&(n=1/0),r=r===void 0?1:Math.abs(r),n<u&&(r=-r),this._start=u,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-u)/r-1)+1),this.size===0){if(cx)return cx;cx=this}}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(n,r){return this.has(n)?this._start+Ki(this,n)*this._step:r},t.prototype.includes=function(n){var r=(n-this._start)/this._step;return r>=0&&r<this.size&&r===Math.floor(r)},t.prototype.slice=function(n,r){return Wh(n,r,this.size)?this:(n=Cf(n,this.size),r=Yh(r,this.size),r<=n?new t(0,0):new t(this.get(n,this._end),this.get(r,this._end),this._step))},t.prototype.indexOf=function(n){var r=n-this._start;if(r%this._step===0){var e=r/this._step;if(e>=0&&e<this.size)return e}return-1},t.prototype.lastIndexOf=function(n){return this.indexOf(n)},t.prototype.__iterate=function(n,r){for(var e=this.size,i=this._step,o=r?this._start+(e-1)*i:this._start,c=0;c!==e&&n(o,r?e-++c:c++,this)!==!1;)o+=r?-i:i;return c},t.prototype.__iterator=function(n,r){var e=this.size,i=this._step,o=r?this._start+(e-1)*i:this._start,c=0;return new Lt(function(){if(c===e)return Xr();var s=o;return o+=r?-i:i,Kt(n,r?e-++c:c++,s)})},t.prototype.equals=function(n){return n instanceof t?this._start===n._start&&this._end===n._end&&this._step===n._step:ox(this,n)},t}(On),cx;function pO(a,t,u){for(var n=B6(t),r=0;r!==n.length;)if(a=aO(a,n[r++],Rt),a===Rt)return u;return a}function hD(a,t){return pO(this,a,t)}function lx(a,t){return pO(a,t,Rt)!==Rt}function Wie(a){return lx(this,a)}function pD(){dn(this.size);var a={};return this.__iterate(function(t,u){a[u]=t}),a}Jt.isIterable=qr,Jt.isKeyed=Qt,Jt.isIndexed=Ar,Jt.isAssociative=Bf,Jt.isOrdered=ln,Jt.Iterator=Lt,Ua(Jt,{toArray:function(){dn(this.size);var t=new Array(this.size||0),u=Qt(this),n=0;return this.__iterate(function(r,e){t[n++]=u?[e,r]:r}),t},toIndexedSeq:function(){return new I6(this)},toJS:function(){return fO(this)},toKeyedSeq:function(){return new tO(this,!0)},toMap:function(){return ta(this.toKeyedSeq())},toObject:pD,toOrderedMap:function(){return qn(this.toKeyedSeq())},toOrderedSet:function(){return Qa(Qt(this)?this.valueSeq():this)},toSet:function(){return Jf(Qt(this)?this.valueSeq():this)},toSetSeq:function(){return new R6(this)},toSeq:function(){return Ar(this)?this.toIndexedSeq():Qt(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return bp(Qt(this)?this.valueSeq():this)},toList:function(){return zf(Qt(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,u){return this.size===0?t+u:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+u},concat:function(){for(var t=[],u=arguments.length;u--;)t[u]=arguments[u];return Ht(this,jie(this,t))},includes:function(t){return this.some(function(u){return Tr(u,t)})},entries:function(){return this.__iterator(Sn)},every:function(t,u){dn(this.size);var n=!0;return this.__iterate(function(r,e,i){if(!t.call(u,r,e,i))return n=!1,!1}),n},filter:function(t,u){return Ht(this,P6(this,t,u,!0))},partition:function(t,u){return Pie(this,t,u)},find:function(t,u,n){var r=this.findEntry(t,u);return r?r[1]:n},forEach:function(t,u){return dn(this.size),this.__iterate(u?t.bind(u):t)},join:function(t){dn(this.size),t=t!==void 0?""+t:",";var u="",n=!0;return this.__iterate(function(r){n?n=!1:u+=t,u+=r!=null?r.toString():""}),u},keys:function(){return this.__iterator(ep)},map:function(t,u){return Ht(this,D6(this,t,u))},reduce:function(t,u,n){return yD(this,t,u,n,arguments.length<2,!1)},reduceRight:function(t,u,n){return yD(this,t,u,n,arguments.length<2,!0)},reverse:function(){return Ht(this,CE(this,!0))},slice:function(t,u){return Ht(this,BE(this,t,u,!0))},some:function(t,u){dn(this.size);var n=!1;return this.__iterate(function(r,e,i){if(t.call(u,r,e,i))return n=!0,!1}),n},sort:function(t){return Ht(this,Hf(this,t))},values:function(){return this.__iterator(jn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,u){return qf(t?this.toSeq().filter(t,u):this)},countBy:function(t,u){return Fie(this,t,u)},equals:function(t){return ox(this,t)},entrySeq:function(){var t=this;if(t._cache)return new $a(t._cache);var u=t.toSeq().map(Zie).toIndexedSeq();return u.fromEntrySeq=function(){return t.toSeq()},u},filterNot:function(t,u){return this.filter(dx(t),u)},findEntry:function(t,u,n){var r=n;return this.__iterate(function(e,i,o){if(t.call(u,e,i,o))return r=[i,e],!1}),r},findKey:function(t,u){var n=this.findEntry(t,u);return n&&n[0]},findLast:function(t,u,n){return this.toKeyedSeq().reverse().find(t,u,n)},findLastEntry:function(t,u,n){return this.toKeyedSeq().reverse().findEntry(t,u,n)},findLastKey:function(t,u){return this.toKeyedSeq().reverse().findKey(t,u)},first:function(t){return this.find(l6,null,t)},flatMap:function(t,u){return Ht(this,Mie(this,t,u))},flatten:function(t){return Ht(this,j6(this,t,!0))},fromEntrySeq:function(){return new N6(this)},get:function(t,u){return this.find(function(n,r){return Tr(r,t)},void 0,u)},getIn:hD,groupBy:function(t,u){return Die(this,t,u)},has:function(t){return this.get(t,Rt)!==Rt},hasIn:Wie,isSubset:function(t){return t=typeof t.includes=="function"?t:Jt(t),this.every(function(u){return t.includes(u)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:Jt(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(u){return Tr(u,t)})},keySeq:function(){return this.toSeq().map(Yie).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return rO(this,t)},maxBy:function(t,u){return rO(this,u,t)},min:function(t){return rO(this,t?bD(t):mD)},minBy:function(t,u){return rO(this,u?bD(u):mD,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,u){return Ht(this,L6(this,t,u,!0))},skipUntil:function(t,u){return this.skipWhile(dx(t),u)},sortBy:function(t,u){return Ht(this,Hf(this,u,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,u){return Ht(this,Lie(this,t,u))},takeUntil:function(t,u){return this.takeWhile(dx(t),u)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=eae(this))}});var Br=Jt.prototype;Br[h6]=!0,Br[KS]=Br.values,Br.toJSON=Br.toArray,Br.__toStringMapper=np,Br.inspect=Br.toSource=function(){return this.toString()},Br.chain=Br.flatMap,Br.contains=Br.includes,Ua(wn,{flip:function(){return Ht(this,F6(this))},mapEntries:function(t,u){var n=this,r=0;return Ht(this,this.toSeq().map(function(e,i){return t.call(u,[i,e],r++,n)}).fromEntrySeq())},mapKeys:function(t,u){var n=this;return Ht(this,this.toSeq().flip().map(function(r,e){return t.call(u,r,e,n)}).flip())}});var vp=wn.prototype;vp[p6]=!0,vp[KS]=Br.entries,vp.toJSON=pD,vp.__toStringMapper=function(a,t){return np(t)+": "+np(a)},Ua(Ba,{toKeyedSeq:function(){return new tO(this,!1)},filter:function(t,u){return Ht(this,P6(this,t,u,!1))},findIndex:function(t,u){var n=this.findEntry(t,u);return n?n[0]:-1},indexOf:function(t){var u=this.keyOf(t);return u===void 0?-1:u},lastIndexOf:function(t){var u=this.lastKeyOf(t);return u===void 0?-1:u},reverse:function(){return Ht(this,CE(this,!1))},slice:function(t,u){return Ht(this,BE(this,t,u,!1))},splice:function(t,u){var n=arguments.length;if(u=Math.max(u||0,0),n===0||n===2&&!u)return this;t=Cf(t,t<0?this.count():this.size);var r=this.slice(0,t);return Ht(this,n===1?r:r.concat(ai(arguments,2),this.slice(t+u)))},findLastIndex:function(t,u){var n=this.findLastEntry(t,u);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return Ht(this,j6(this,t,!1))},get:function(t,u){return t=Ki(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?u:this.find(function(n,r){return r===t},void 0,u)},has:function(t){return t=Ki(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return Ht(this,qie(this,t))},interleave:function(){var t=[this].concat(ai(arguments)),u=nO(this.toSeq(),On.of,t),n=u.flatten(!0);return u.size&&(n.size=u.size*t.length),Ht(this,n)},keySeq:function(){return sx(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,u){return Ht(this,L6(this,t,u,!1))},zip:function(){var t=[this].concat(ai(arguments));return Ht(this,nO(this,_D,t))},zipAll:function(){var t=[this].concat(ai(arguments));return Ht(this,nO(this,_D,t,!0))},zipWith:function(t){var u=ai(arguments);return u[0]=this,Ht(this,nO(this,t,u))}});var Kf=Ba.prototype;Kf[y6]=!0,Kf[Vf]=!0,Ua($f,{get:function(t,u){return this.has(t)?t:u},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var Wf=$f.prototype;Wf.has=Br.includes,Wf.contains=Wf.includes,Wf.keys=Wf.values,Ua(Yi,vp),Ua(On,Kf),Ua(Qf,Wf);function yD(a,t,u,n,r,e){return dn(a.size),a.__iterate(function(i,o,c){r?(r=!1,u=i):u=t.call(n,u,i,o,c)},e),u}function Yie(a,t){return t}function Zie(a,t){return[t,a]}function dx(a){return function(){return!a.apply(this,arguments)}}function bD(a){return function(){return-a.apply(this,arguments)}}function _D(){return ai(arguments)}function mD(a,t){return a<t?1:a>t?-1:0}function eae(a){if(a.size===1/0)return 0;var t=ln(a),u=Qt(a),n=t?1:0,r=a.__iterate(u?t?function(e,i){n=31*n+gD(Jr(e),Jr(i))|0}:function(e,i){n=n+gD(Jr(e),Jr(i))|0}:t?function(e){n=31*n+Jr(e)|0}:function(e){n=n+Jr(e)|0});return tae(r,n)}function tae(a,t){return t=rp(t,3432918353),t=rp(t<<15|t>>>-15,461845907),t=rp(t<<13|t>>>-13,5),t=(t+3864292196|0)^a,t=rp(t^t>>>16,2246822507),t=rp(t^t>>>13,3266489909),t=eO(t^t>>>16),t}function gD(a,t){return a^t+2654435769+(a<<6)+(a>>2)|0}var Qa=function(a){function t(u){return u==null?fx():dO(u)?u:fx().withMutations(function(n){var r=$f(u);dn(r.size),r.forEach(function(e){return n.add(e)})})}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(wn(n).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(Jf);Qa.isOrderedSet=dO;var Ha=Qa.prototype;Ha[Vf]=!0,Ha.zip=Kf.zip,Ha.zipWith=Kf.zipWith,Ha.zipAll=Kf.zipAll,Ha.__empty=fx,Ha.__make=vD;function vD(a,t){var u=Object.create(Ha);return u.size=a?a.size:0,u._map=a,u.__ownerID=t,u}var TD;function fx(){return TD||(TD=vD(pp()))}var wD={LeftThenRight:-1,RightThenLeft:1};function rae(a){if(Wi(a))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(cn(a))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(a===null||typeof a!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var br=function(t,u){var n;rae(t);var r=function(o){var c=this;if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var s=Object.keys(t),l=e._indices={};e._name=u,e._keys=s,e._defaultValues=t;for(var f=0;f<s.length;f++){var d=s[f];l[d]=f,e[d]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+px(this)+' with property "'+d+'" since that property name is part of the Record API.'):nae(e,d)}}return this.__ownerID=void 0,this._values=zf().withMutations(function(h){h.setSize(c._keys.length),wn(o).forEach(function(p,b){h.set(c._indices[b],p===c._defaultValues[b]?void 0:p)})}),this},e=r.prototype=Object.create(Gt);return e.constructor=r,u&&(r.displayName=u),r};br.prototype.toString=function(){for(var t=px(this)+" { ",u=this._keys,n,r=0,e=u.length;r!==e;r++)n=u[r],t+=(r?", ":"")+n+": "+np(this.get(n));return t+" }"},br.prototype.equals=function(t){return this===t||Wi(t)&&Yf(this).equals(Yf(t))},br.prototype.hashCode=function(){return Yf(this).hashCode()},br.prototype.has=function(t){return this._indices.hasOwnProperty(t)},br.prototype.get=function(t,u){if(!this.has(t))return u;var n=this._indices[t],r=this._values.get(n);return r===void 0?this._defaultValues[t]:r},br.prototype.set=function(t,u){if(this.has(t)){var n=this._values.set(this._indices[t],u===this._defaultValues[t]?void 0:u);if(n!==this._values&&!this.__ownerID)return hx(this,n)}return this},br.prototype.remove=function(t){return this.set(t)},br.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:hx(this,t)},br.prototype.wasAltered=function(){return this._values.wasAltered()},br.prototype.toSeq=function(){return Yf(this)},br.prototype.toJS=function(){return fO(this)},br.prototype.entries=function(){return this.__iterator(Sn)},br.prototype.__iterator=function(t,u){return Yf(this).__iterator(t,u)},br.prototype.__iterate=function(t,u){return Yf(this).__iterate(t,u)},br.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var u=this._values.__ensureOwner(t);return t?hx(this,u,t):(this.__ownerID=t,this._values=u,this)},br.isRecord=Wi,br.getDescriptiveName=px;var Gt=br.prototype;Gt[_6]=!0,Gt[Kh]=Gt.remove,Gt.deleteIn=Gt.removeIn=JE,Gt.getIn=hD,Gt.hasIn=Br.hasIn,Gt.merge=V6,Gt.mergeWith=U6,Gt.mergeIn=YE,Gt.mergeDeep=X6,Gt.mergeDeepWith=J6,Gt.mergeDeepIn=ZE,Gt.setIn=zE,Gt.update=KE,Gt.updateIn=WE,Gt.withMutations=up,Gt.asMutable=op,Gt.asImmutable=sp,Gt[KS]=Gt.entries,Gt.toJSON=Gt.toObject=Br.toObject,Gt.inspect=Gt.toSource=function(){return this.toString()};function hx(a,t,u){var n=Object.create(Object.getPrototypeOf(a));return n._values=t,n.__ownerID=u,n}function px(a){return a.constructor.displayName||a.constructor.name||"Record"}function Yf(a){return NE(a._keys.map(function(t){return[t,a.get(t)]}))}function nae(a,t){try{Object.defineProperty(a,t,{get:function(){return this.get(t)},set:function(u){UE(this.__ownerID,"Cannot set on an immutable record."),this.set(t,u)}})}catch{}}var SD=function(a){function t(u,n){if(!(this instanceof t))return new t(u,n);if(this._value=u,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(yx)return yx;yx=this}}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(n,r){return this.has(n)?this._value:r},t.prototype.includes=function(n){return Tr(this._value,n)},t.prototype.slice=function(n,r){var e=this.size;return Wh(n,r,e)?this:new t(this._value,Yh(r,e)-Cf(n,e))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(n){return Tr(this._value,n)?0:-1},t.prototype.lastIndexOf=function(n){return Tr(this._value,n)?this.size:-1},t.prototype.__iterate=function(n,r){for(var e=this.size,i=0;i!==e&&n(this._value,r?e-++i:i++,this)!==!1;);return i},t.prototype.__iterator=function(n,r){var e=this,i=this.size,o=0;return new Lt(function(){return o===i?Xr():Kt(n,r?i-++o:o++,e._value)})},t.prototype.equals=function(n){return n instanceof t?Tr(this._value,n._value):ox(this,n)},t}(On),yx;function OD(a,t){return AD([],t||iae,a,"",t&&t.length>2?[]:void 0,{"":a})}function AD(a,t,u,n,r,e){if(typeof u!="string"&&!cn(u)&&(xE(u)||AE(u)||iO(u))){if(~a.indexOf(u))throw new TypeError("Cannot convert circular structure to Immutable");a.push(u),r&&n!==""&&r.push(n);var i=t.call(e,n,Cr(u).map(function(o,c){return AD(a,t,o,c,r,u)}),r&&r.slice());return a.pop(),r&&r.pop(),i}return u}function iae(a,t){return Ar(t)?t.toList():Qt(t)?t.toMap():t.toSet()}var ED="4.3.7",aae={version:ED,Collection:Jt,Iterable:Jt,Seq:Cr,Map:ta,OrderedMap:qn,List:zf,Stack:bp,Set:Jf,OrderedSet:Qa,PairSorting:wD,Record:br,Range:sx,Repeat:SD,is:Tr,fromJS:OD,hash:Jr,isImmutable:cn,isCollection:qr,isKeyed:Qt,isIndexed:Ar,isAssociative:Bf,isOrdered:ln,isValueObject:ZS,isPlainObject:iO,isSeq:Zh,isList:sO,isMap:tp,isOrderedMap:YS,isStack:yp,isSet:mp,isOrderedSet:dO,isRecord:Wi,get:aO,getIn:pO,has:QE,hasIn:lx,merge:H6,mergeDeep:k6,mergeWith:G6,mergeDeepWith:z6,remove:HE,removeIn:XE,set:GE,setIn:kE,update:oO,updateIn:ea},uae=Jt,oae=Object.freeze({__proto__:null,Collection:Jt,Iterable:uae,List:zf,Map:ta,OrderedMap:qn,OrderedSet:Qa,PairSorting:wD,Range:sx,Record:br,Repeat:SD,Seq:Cr,Set:Jf,Stack:bp,default:aae,fromJS:OD,get:aO,getIn:pO,has:QE,hasIn:lx,hash:Jr,is:Tr,isAssociative:Bf,isCollection:qr,isImmutable:cn,isIndexed:Ar,isKeyed:Qt,isList:sO,isMap:tp,isOrdered:ln,isOrderedMap:YS,isOrderedSet:dO,isPlainObject:iO,isRecord:Wi,isSeq:Zh,isSet:mp,isStack:yp,isValueObject:ZS,merge:H6,mergeDeep:k6,mergeDeepWith:z6,mergeWith:G6,remove:HE,removeIn:XE,set:GE,setIn:kE,update:oO,updateIn:ea,version:ED}),bx=rr(oae),xD;function ID(){if(xD)return Ca;xD=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.ActionContextKey=Ca.ActionContext=void 0;const a=bx;let t=class BS{constructor(r={}){this.map=(0,a.Map)(r)}setDefault(r,e){return this.has(r)?this:this.set(r,e)}set(r,e){return this.setRaw(r.name,e)}setRaw(r,e){return new BS(this.map.set(r,e))}delete(r){return new BS(this.map.delete(r.name))}get(r){return this.getRaw(r.name)}getRaw(r){return this.map.get(r)}getSafe(r){if(!this.has(r))throw new Error(`Context entry ${r.name} is required but not available`);return this.get(r)}has(r){return this.hasRaw(r.name)}hasRaw(r){return this.map.has(r)}merge(...r){let e=this;for(const i of r)for(const o of i.keys())e=e.set(o,i.get(o));return e}keys(){return[...this.map.keys()].map(r=>new u(r))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(r){return r instanceof BS?r:new BS((0,a.Map)(r??{}))}};Ca.ActionContext=t;class u{constructor(r){this.name=r}}return Ca.ActionContextKey=u,Ca}var Tp={},RD;function ND(){if(RD)return Tp;RD=1,Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.Bus=void 0;let a=class{constructor(u){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,u),this.failMessage=`All actors over bus ${this.name} failed to handle an action`}subscribe(u){this.actors.push(u),this.reorderForDependencies()}subscribeObserver(u){this.observers.push(u)}unsubscribe(u){const n=this.actors.indexOf(u);return n>=0?(this.actors.splice(n,1),!0):!1}unsubscribeObserver(u){const n=this.observers.indexOf(u);return n>=0?(this.observers.splice(n,1),!0):!1}publish(u){return this.actors.map(n=>({actor:n,reply:n.test(u)}))}onRun(u,n,r){for(const e of this.observers)e.onRun(u,n,r)}addDependencies(u,n){for(const r of n){let e=this.dependencyLinks.get(r);e||(e=[],this.dependencyLinks.set(r,e)),e.push(u)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const u=[];for(const n of this.dependencyLinks.keys()){const r=this.actors.indexOf(n);r>=0&&(this.actors.splice(r,1),u.push(n))}for(;u.length>0;){let n=-1;for(let e=0;e<u.length;e++){let i=!0;for(const o of this.dependencyLinks.get(u[e]))if(!this.actors.includes(o)&&u.includes(o)){i=!1;break}if(i){n=e;break}}if(n<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const r=u.splice(n,1)[0];this.actors.push(r)}}}};return Tp.Bus=a,Tp}var wp={},FD;function sae(){if(FD)return wp;FD=1,Object.defineProperty(wp,"__esModule",{value:!0}),wp.BusIndexed=void 0;const a=ND();let t=class extends a.Bus{constructor(n){super(n),this.actorsIndex={}}subscribe(n){const r=this.getActorIdentifiers(n)??["_undefined_"];for(const e of r){let i=this.actorsIndex[e];i||(i=this.actorsIndex[e]=[]),i.push(n),super.subscribe(n)}}unsubscribe(n){const r=this.getActorIdentifiers(n)??["_undefined_"];let e=!1;for(const i of r){const o=this.actorsIndex[i];if(o){const c=o.indexOf(n);c>=0&&o.splice(c,1),o.length===0&&delete this.actorsIndex[i]}e=e||super.unsubscribe(n)}return e}publish(n){const r=this.getActionIdentifier(n);return r?[...this.actorsIndex[r]||[],...this.actorsIndex._undefined_||[]].map(i=>({actor:i,reply:i.test(n)})):super.publish(n)}getActorIdentifiers(n){const r=this.actorIdentifierFields.reduce((e,i)=>e[i],n);if(r)return Array.isArray(r)?r:[r]}getActionIdentifier(n){return this.actionIdentifierFields.reduce((r,e)=>r[e],n)}};return wp.BusIndexed=t,wp}var Sp={},DD;function PD(){if(DD)return Sp;DD=1,Object.defineProperty(Sp,"__esModule",{value:!0}),Sp.CONTEXT_KEY_LOGGER=void 0;const a=ID();return Sp.CONTEXT_KEY_LOGGER=new a.ActionContextKey("@comunica/core:log"),Sp}var Op={},LD;function cae(){if(LD)return Op;LD=1,Object.defineProperty(Op,"__esModule",{value:!0}),Op.ActionObserver=void 0;let a=class{constructor(u){Object.assign(this,u)}};return Op.ActionObserver=a,Op}var Ap={},jD;function lae(){if(jD)return Ap;jD=1,Object.defineProperty(Ap,"__esModule",{value:!0}),Ap.Actor=void 0;const a=PD();let t=class Ff{constructor(n){this.beforeActors=[],Object.assign(this,n),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors),n.busFailMessage&&(this.bus.failMessage=n.busFailMessage)}static getContextLogger(n){return n.get(a.CONTEXT_KEY_LOGGER)}runObservable(n,r){const e=this.run(n,r);return this.bus.onRun(this,n,e),e}getDefaultLogData(n,r){const e=r?r():{};return e.actor=this.name,e}logTrace(n,r,e){const i=Ff.getContextLogger(n);i&&i.trace(r,this.getDefaultLogData(n,e))}logDebug(n,r,e){const i=Ff.getContextLogger(n);i&&i.debug(r,this.getDefaultLogData(n,e))}logInfo(n,r,e){const i=Ff.getContextLogger(n);i&&i.info(r,this.getDefaultLogData(n,e))}logWarn(n,r,e){const i=Ff.getContextLogger(n);i&&i.warn(r,this.getDefaultLogData(n,e))}logError(n,r,e){const i=Ff.getContextLogger(n);i&&i.error(r,this.getDefaultLogData(n,e))}logFatal(n,r,e){const i=Ff.getContextLogger(n);i&&i.fatal(r,this.getDefaultLogData(n,e))}};return Ap.Actor=t,Ap}var Ep={},MD;function dae(){if(MD)return Ep;MD=1,Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.Mediator=void 0;let a=class KF{constructor(u){Object.assign(this,u)}publish(u){const n=this.bus.publish(u);if(n.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return n}async mediateActor(u){return await this.mediateWith(u,this.publish(u))}async mediateTestable(u){return(await this.mediateActor(u)).mapAsync((r,e)=>r.runObservable(u,e))}async mediate(u){return(await this.mediateTestable(u)).getOrThrow()}constructFailureMessage(u,n){const r=`
        `;return`${this.bus.failMessage.replaceAll(/\$\{(.*?)\}/gu,(i,o)=>KF.getObjectValue({action:u},o.split("."))||i)}
    Error messages of failing actors:${r}${n.join(r)}`}static getObjectValue(u,n){if(n.length===0)return u;if(u)return KF.getObjectValue(u[n[0]],n.slice(1))}};return Ep.Mediator=a,Ep}var xr={},qD;function fae(){if(qD)return xr;qD=1,Object.defineProperty(xr,"__esModule",{value:!0}),xr.TestResultFailed=xr.TestResultPassed=xr.failTest=xr.passTestVoidWithSideData=xr.passTestWithSideData=xr.passTestVoid=xr.passTest=void 0;function a(o){return new e(o,void 0)}xr.passTest=a;function t(){return new e(!0,void 0)}xr.passTestVoid=t;function u(o,c){return new e(o,c)}xr.passTestWithSideData=u;function n(o){return new e(!0,o)}xr.passTestVoidWithSideData=n;function r(o){return new i(o)}xr.failTest=r;class e{constructor(c,s){this.value=c,this.sideData=s}isPassed(){return!0}isFailed(){return!1}get(){return this.value}getOrThrow(){return this.value}getSideData(){return this.sideData}getFailMessage(){}map(c){return new e(c(this.value,this.sideData),this.sideData)}async mapAsync(c){return new e(await c(this.value,this.sideData),this.sideData)}}xr.TestResultPassed=e;class i{constructor(c){this.failMessage=c}isPassed(){return!1}isFailed(){return!0}get(){}getOrThrow(){throw new Error(this.getFailMessage())}getSideData(){throw new Error(this.getFailMessage())}getFailMessage(){return this.failMessage}map(){return this}async mapAsync(){return this}}return xr.TestResultFailed=i,xr}var CD;function Te(){return CD||(CD=1,function(a){var t=qa&&qa.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=qa&&qa.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(ID(),a),u(ND(),a),u(sae(),a),u(PD(),a),u(cae(),a),u(lae(),a),u(dae(),a),u(fae(),a)}(qa)),qa}var BD;function hae(){if(BD)return Jh;BD=1,Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.ActorInit=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}};return Jh.ActorInit=t,Jh}var $D;function pae(){return $D||($D=1,function(a){var t=Ma&&Ma.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ma&&Ma.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(hae(),a)}(Ma)),Ma}var VD;function UD(){if(VD)return Xh;VD=1,Object.defineProperty(Xh,"__esModule",{value:!0}),Xh.ActorInitQueryBase=void 0;const a=pae(),t=Te();let u=class extends a.ActorInit{async test(r){return(0,t.passTestVoid)()}async run(r){throw new Error("ActorInitSparql#run is not supported in the browser.")}};return Xh.ActorInitQueryBase=u,Xh}function yae(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var QD={exports:{}},lr=QD.exports={},ui,oi;function _x(){throw new Error("setTimeout has not been defined")}function mx(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ui=setTimeout:ui=_x}catch{ui=_x}try{typeof clearTimeout=="function"?oi=clearTimeout:oi=mx}catch{oi=mx}})();function HD(a){if(ui===setTimeout)return setTimeout(a,0);if((ui===_x||!ui)&&setTimeout)return ui=setTimeout,setTimeout(a,0);try{return ui(a,0)}catch{try{return ui.call(null,a,0)}catch{return ui.call(this,a,0)}}}function bae(a){if(oi===clearTimeout)return clearTimeout(a);if((oi===mx||!oi)&&clearTimeout)return oi=clearTimeout,clearTimeout(a);try{return oi(a)}catch{try{return oi.call(null,a)}catch{return oi.call(this,a)}}}var wi=[],Zf=!1,Ga,yO=-1;function _ae(){!Zf||!Ga||(Zf=!1,Ga.length?wi=Ga.concat(wi):yO=-1,wi.length&&GD())}function GD(){if(!Zf){var a=HD(_ae);Zf=!0;for(var t=wi.length;t;){for(Ga=wi,wi=[];++yO<t;)Ga&&Ga[yO].run();yO=-1,t=wi.length}Ga=null,Zf=!1,bae(a)}}lr.nextTick=function(a){var t=new Array(arguments.length-1);if(arguments.length>1)for(var u=1;u<arguments.length;u++)t[u-1]=arguments[u];wi.push(new kD(a,t)),wi.length===1&&!Zf&&HD(GD)};function kD(a,t){this.fun=a,this.array=t}kD.prototype.run=function(){this.fun.apply(null,this.array)},lr.title="browser",lr.browser=!0,lr.env={},lr.argv=[],lr.version="",lr.versions={};function Si(){}lr.on=Si,lr.addListener=Si,lr.once=Si,lr.off=Si,lr.removeListener=Si,lr.removeAllListeners=Si,lr.emit=Si,lr.prependListener=Si,lr.prependOnceListener=Si,lr.listeners=function(a){return[]},lr.binding=function(a){throw new Error("process.binding is not supported")},lr.cwd=function(){return"/"},lr.chdir=function(a){throw new Error("process.chdir is not supported")},lr.umask=function(){return 0};var mae=QD.exports;const bO=yae(mae);var xp={},gx={exports:{}},zD;function ia(){if(zD)return gx.exports;zD=1;var a=gx.exports={},t,u;function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=n}catch{t=n}try{typeof clearTimeout=="function"?u=clearTimeout:u=r}catch{u=r}})();function e(b){if(t===setTimeout)return setTimeout(b,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(b,0);try{return t(b,0)}catch{try{return t.call(null,b,0)}catch{return t.call(this,b,0)}}}function i(b){if(u===clearTimeout)return clearTimeout(b);if((u===r||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(b);try{return u(b)}catch{try{return u.call(null,b)}catch{return u.call(this,b)}}}var o=[],c=!1,s,l=-1;function f(){!c||!s||(c=!1,s.length?o=s.concat(o):l=-1,o.length&&d())}function d(){if(!c){var b=e(f);c=!0;for(var m=o.length;m;){for(s=o,o=[];++l<m;)s&&s[l].run();l=-1,m=o.length}s=null,c=!1,i(b)}}a.nextTick=function(b){var m=new Array(arguments.length-1);if(arguments.length>1)for(var y=1;y<arguments.length;y++)m[y-1]=arguments[y];o.push(new h(b,m)),o.length===1&&!c&&e(d)};function h(b,m){this.fun=b,this.array=m}h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={};function p(){}return a.on=p,a.addListener=p,a.once=p,a.off=p,a.removeListener=p,a.removeAllListeners=p,a.emit=p,a.prependListener=p,a.prependOnceListener=p,a.listeners=function(b){return[]},a.binding=function(b){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(b){throw new Error("process.chdir is not supported")},a.umask=function(){return 0},gx.exports}var XD;function gae(){if(XD)return xp;XD=1,Object.defineProperty(xp,"__esModule",{value:!0}),xp.ActorInitQuery=void 0;const a=UD();typeof bO>"u"&&(globalThis.process=ia());class t extends a.ActorInitQueryBase{}return xp.ActorInitQuery=t,xp}var Ip={},ka={},Nt={},JD;function KD(){if(JD)return Nt;JD=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.KeysStatistics=Nt.KeysRdfJoin=Nt.KeysMergeBindingsContext=Nt.KeysRdfUpdateQuads=Nt.KeysQuerySourceIdentify=Nt.KeysRdfParseHtmlScript=Nt.KeysRdfParseJsonLd=Nt.KeysQueryOperation=Nt.KeysExpressionEvaluator=Nt.KeysInitQuery=Nt.KeysHttpProxy=Nt.KeysHttpMemento=Nt.KeysHttpWayback=Nt.KeysHttp=Nt.KeysCore=void 0;const a=Te();return Nt.KeysCore={log:a.CONTEXT_KEY_LOGGER},Nt.KeysHttp={includeCredentials:new a.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new a.ActionContextKey("@comunica/bus-http:auth"),fetch:new a.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new a.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new a.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new a.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelayFallback:new a.ActionContextKey("@comunica/bus-http:http-retry-delay-fallback"),httpRetryDelayLimit:new a.ActionContextKey("@comunica/bus-http:http-retry-delay-limit"),httpRetryStatusCodes:new a.ActionContextKey("@comunica/bus-http:http-retry-status-codes")},Nt.KeysHttpWayback={recoverBrokenLinks:new a.ActionContextKey("@comunica/bus-http:recover-broken-links")},Nt.KeysHttpMemento={datetime:new a.ActionContextKey("@comunica/actor-http-memento:datetime")},Nt.KeysHttpProxy={httpProxyHandler:new a.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")},Nt.KeysInitQuery={querySourcesUnidentified:new a.ActionContextKey("@comunica/actor-init-query:querySourcesUnidentified"),initialBindings:new a.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new a.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new a.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new a.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new a.ActionContextKey("@comunica/actor-init-query:queryString"),query:new a.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new a.ActionContextKey("@comunica/actor-init-query:baseIRI"),functionArgumentsCache:new a.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new a.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),queryTimestampHighResolution:new a.ActionContextKey("@comunica/actor-init-query:queryTimestampHighResolution"),extensionFunctionCreator:new a.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new a.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new a.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new a.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new a.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new a.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new a.ActionContextKey("@context"),invalidateCache:new a.ActionContextKey("@comunica/actor-init-query:invalidateCache"),dataFactory:new a.ActionContextKey("@comunica/actor-init-query:dataFactory"),distinctConstruct:new a.ActionContextKey("@comunica/actor-init-query:distinctConstruct")},Nt.KeysExpressionEvaluator={extensionFunctionCreator:new a.ActionContextKey("@comunica/utils-expression-evaluator:extensionFunctionCreator"),superTypeProvider:new a.ActionContextKey("@comunica/utils-expression-evaluator:superTypeProvider"),defaultTimeZone:new a.ActionContextKey("@comunica/utils-expression-evaluator:defaultTimeZone"),actionContext:new a.ActionContextKey("@comunica/utils-expression-evaluator:actionContext")},Nt.KeysQueryOperation={operation:new a.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new a.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new a.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new a.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new a.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new a.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new a.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new a.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),querySources:new a.ActionContextKey("@comunica/bus-query-operation:querySources")},Nt.KeysRdfParseJsonLd={documentLoader:new a.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new a.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new a.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")},Nt.KeysRdfParseHtmlScript={processingHtmlScript:new a.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new a.ActionContextKey("extractAllScripts")},Nt.KeysQuerySourceIdentify={sourceIds:new a.ActionContextKey("@comunica/bus-query-source-identify:sourceIds"),hypermediaSourcesAggregatedStores:new a.ActionContextKey("@comunica/bus-query-source-identify:hypermediaSourcesAggregatedStores"),traverse:new a.ActionContextKey("@comunica/bus-query-source-identify:traverse")},Nt.KeysRdfUpdateQuads={destination:new a.ActionContextKey("@comunica/bus-rdf-update-quads:destination")},Nt.KeysMergeBindingsContext={sourcesBinding:new a.ActionContextKey("@comunica/bus-merge-bindings-context:sourcesBinding")},Nt.KeysRdfJoin={lastPhysicalJoin:new a.ActionContextKey("@comunica/bus-rdf-join:lastPhysicalJoin")},Nt.KeysStatistics={discoveredLinks:new a.ActionContextKey("@comunica/statistic:discoveredLinks"),dereferencedLinks:new a.ActionContextKey("@comunica/statistic:dereferencedLinks"),intermediateResults:new a.ActionContextKey("@comunica/statistic:intermediateResults")},Nt}var WD;function ke(){return WD||(WD=1,function(a){var t=ka&&ka.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ka&&ka.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(KD(),a)}(ka)),ka}var YD;function vae(){if(YD)return Ip;YD=1,Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.QueryEngineBase=void 0;const a=ke(),t=Te();let u=class WF{constructor(r){this.actorInitQuery=r}async queryBindings(r,e){return this.queryOfType(r,e,"bindings")}async queryQuads(r,e){return this.queryOfType(r,e,"quads")}async queryBoolean(r,e){return this.queryOfType(r,e,"boolean")}async queryVoid(r,e){return this.queryOfType(r,e,"void")}async queryOfType(r,e,i){const o=await this.query(r,e);if(o.resultType===i)return await o.execute();throw new Error(`Query result type '${i}' was expected, while '${o.resultType}' was found.`)}async query(r,e){const i=await this.queryOrExplain(r,e);if("explain"in i)throw new Error("Tried to explain a query when in query-only mode");return i}async explain(r,e,i){return e.explain=i,await this.queryOrExplain(r,e)}async queryOrExplain(r,e){const i=t.ActionContext.ensureActionContext(e);i.get(a.KeysInitQuery.invalidateCache)&&await this.invalidateHttpCache();const{result:o}=await this.actorInitQuery.mediatorQueryProcess.mediate({query:r,context:i});return"explain"in o?o:WF.internalToFinalResult(o)}async getResultMediaTypes(r){return r=t.ActionContext.ensureActionContext(r),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeCombiner.mediate({context:r,mediaTypes:!0})).mediaTypes}async getResultMediaTypeFormats(r){return r=t.ActionContext.ensureActionContext(r),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeFormatCombiner.mediate({context:r,mediaTypeFormats:!0})).mediaTypeFormats}async resultToString(r,e,i){if(i=t.ActionContext.ensureActionContext(i),!e)switch(r.resultType){case"bindings":e="application/json";break;case"quads":e="application/trig";break;default:e="simple";break}const o={...await WF.finalToInternalResult(r),context:i};return(await this.actorInitQuery.mediatorQueryResultSerialize.mediate({context:i,handle:o,handleMediaType:e})).handle}invalidateHttpCache(r,e){return e=t.ActionContext.ensureActionContext(e),this.actorInitQuery.mediatorHttpInvalidate.mediate({url:r,context:e})}static internalToFinalResult(r){switch(r.type){case"bindings":return{resultType:"bindings",execute:async()=>r.bindingsStream,metadata:async()=>{const e=await r.metadata();return e.variables=e.variables.map(i=>i.variable),e},context:r.context};case"quads":return{resultType:"quads",execute:async()=>r.quadStream,metadata:async()=>await r.metadata(),context:r.context};case"boolean":return{resultType:"boolean",execute:async()=>r.execute(),context:r.context};case"void":return{resultType:"void",execute:async()=>r.execute(),context:r.context}}}static async finalToInternalResult(r){switch(r.resultType){case"bindings":return{type:"bindings",bindingsStream:await r.execute(),metadata:async()=>{const e=await r.metadata();return e.variables=e.variables.map(i=>({variable:i,canBeUndef:!1})),e}};case"quads":return{type:"quads",quadStream:await r.execute(),metadata:async()=>await r.metadata()};case"boolean":return{type:"boolean",execute:()=>r.execute()};case"void":return{type:"void",execute:()=>r.execute()}}}};return Ip.QueryEngineBase=u,Ip}var ZD;function e4(){return ZD||(ZD=1,function(a){var t=ja&&ja.__createBinding||(Object.create?function(r,e,i,o){o===void 0&&(o=i);var c=Object.getOwnPropertyDescriptor(e,i);(!c||("get"in c?!e.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(r,o,c)}:function(r,e,i,o){o===void 0&&(o=i),r[o]=e[i]}),u=ja&&ja.__exportStar||function(r,e){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&t(e,r,i)};Object.defineProperty(a,"__esModule",{value:!0}),a.QueryEngineBase=void 0,u(UD(),a),u(gae(),a);var n=vae();Object.defineProperty(a,"QueryEngineBase",{enumerable:!0,get:function(){return n.QueryEngineBase}})}(ja)),ja}var za={},Rp={},Xa={},vx={},t4;function Tae(){return t4||(t4=1,Object.defineProperty(vx,"__esModule",{value:!0})),vx}var Tx={},r4;function wae(){return r4||(r4=1,Object.defineProperty(Tx,"__esModule",{value:!0})),Tx}var wx={},n4;function Sae(){return n4||(n4=1,Object.defineProperty(wx,"__esModule",{value:!0})),wx}var Sx={},i4;function Oae(){return i4||(i4=1,Object.defineProperty(Sx,"__esModule",{value:!0})),Sx}var Ox={},a4;function Aae(){return a4||(a4=1,Object.defineProperty(Ox,"__esModule",{value:!0})),Ox}var Ax={},u4;function Eae(){return u4||(u4=1,Object.defineProperty(Ax,"__esModule",{value:!0})),Ax}var Ex={},o4;function xae(){return o4||(o4=1,Object.defineProperty(Ex,"__esModule",{value:!0})),Ex}var xx={},s4;function Iae(){return s4||(s4=1,Object.defineProperty(xx,"__esModule",{value:!0})),xx}var Ix={},c4;function Rae(){return c4||(c4=1,Object.defineProperty(Ix,"__esModule",{value:!0})),Ix}var Rx={},l4;function Nae(){return l4||(l4=1,Object.defineProperty(Rx,"__esModule",{value:!0})),Rx}var Nx={},d4;function Fae(){return d4||(d4=1,Object.defineProperty(Nx,"__esModule",{value:!0})),Nx}var Fx={},f4;function Dae(){return f4||(f4=1,Object.defineProperty(Fx,"__esModule",{value:!0})),Fx}var Dx={},h4;function Pae(){return h4||(h4=1,Object.defineProperty(Dx,"__esModule",{value:!0})),Dx}var Px={},p4;function Lae(){return p4||(p4=1,Object.defineProperty(Px,"__esModule",{value:!0})),Px}var Lx={},y4;function jae(){return y4||(y4=1,Object.defineProperty(Lx,"__esModule",{value:!0})),Lx}var jx={},b4;function Mae(){return b4||(b4=1,Object.defineProperty(jx,"__esModule",{value:!0})),jx}var Mx={},_4;function qae(){return _4||(_4=1,Object.defineProperty(Mx,"__esModule",{value:!0})),Mx}var qx={},m4;function Cae(){return m4||(m4=1,Object.defineProperty(qx,"__esModule",{value:!0})),qx}var Np={},g4;function Bae(){if(g4)return Np;g4=1,Object.defineProperty(Np,"__esModule",{value:!0}),Np.Logger=void 0;let a=class Xne{static getLevelOrdinal(u){return Xne.LEVELS[u]}};return Np.Logger=a,a.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Np}var Fp={},v4;function $ae(){if(v4)return Fp;v4=1,Object.defineProperty(Fp,"__esModule",{value:!0}),Fp.ExpressionType=void 0;var a;return function(t){t.Aggregate="aggregate",t.Existence="existence",t.Operator="operator",t.Term="term",t.Variable="variable"}(a||(Fp.ExpressionType=a={})),Fp}var T4;function aa(){return T4||(T4=1,function(a){var t=Xa&&Xa.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Xa&&Xa.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Tae(),a),u(wae(),a),u(Sae(),a),u(Oae(),a),u(Aae(),a),u(Eae(),a),u(xae(),a),u(Iae(),a),u(Rae(),a),u(Nae(),a),u(Fae(),a),u(Dae(),a),u(Pae(),a),u(Lae(),a),u(jae(),a),u(Mae(),a),u(qae(),a),u(Cae(),a),u(Bae(),a),u($ae(),a)}(Xa)),Xa}var w4;function Vae(){if(w4)return Rp;w4=1,Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.LoggerVoid=void 0;const a=aa();let t=class extends a.Logger{debug(){}error(){}fatal(){}info(){}trace(){}warn(){}};return Rp.LoggerVoid=t,Rp}var S4;function Uae(){return S4||(S4=1,function(a){var t=za&&za.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=za&&za.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Vae(),a)}(za)),za}var Ja={},Ka={},O4;function A4(){if(O4)return Ka;O4=1,Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.MediatorFunctionFactory=Ka.ActorFunctionFactory=void 0;const a=Te();let t=class extends a.Actor{constructor(r){super(r)}};Ka.ActorFunctionFactory=t;class u extends a.Mediator{}return Ka.MediatorFunctionFactory=u,Ka}var Dp={},E4;function Qae(){if(E4)return Dp;E4=1,Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.ActorFunctionFactoryDedicated=void 0;const a=Te(),t=A4();let u=class extends t.ActorFunctionFactory{constructor(r){super(r)}async test(r){return this.functionNames.includes(r.functionName)&&(this.termFunction||!r.requireTermExpression)?(0,a.passTestVoid)():(0,a.failTest)(`Actor ${this.name} can not provide implementation for "${r.functionName}", only for ${this.termFunction?"":"non-termExpression "}${this.functionNames.join(" and ")}.`)}};return Dp.ActorFunctionFactoryDedicated=u,Dp}var Pp={},x4;function Hae(){if(x4)return Pp;x4=1,Object.defineProperty(Pp,"__esModule",{value:!0}),Pp.BusFunctionFactory=void 0;const a=Te();let t=class extends a.BusIndexed{constructor(n){super({...n,actorIdentifierFields:["functionNames"],actionIdentifierFields:["functionName"]})}};return Pp.BusFunctionFactory=t,Pp}var Wa={},Cx={},Lp={},Bx={},Ir={},Ya={},jp={},I4;function R4(){if(I4)return jp;I4=1,Object.defineProperty(jp,"__esModule",{value:!0}),jp.BlankNode=void 0;class a{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return jp.BlankNode=a,jp}var Mp={},qp={},N4;function F4(){if(N4)return qp;N4=1,Object.defineProperty(qp,"__esModule",{value:!0}),qp.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return qp.DefaultGraph=a,a.INSTANCE=new a,qp}var Cp={},Bp={},D4;function $x(){if(D4)return Bp;D4=1,Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.NamedNode=void 0;class a{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return Bp.NamedNode=a,Bp}var P4;function L4(){if(P4)return Cp;P4=1,Object.defineProperty(Cp,"__esModule",{value:!0}),Cp.Literal=void 0;const a=$x();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return Cp.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Cp}var $p={},j4;function M4(){if(j4)return $p;j4=1,Object.defineProperty($p,"__esModule",{value:!0}),$p.Quad=void 0;class a{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return $p.Quad=a,$p}var Vp={},q4;function C4(){if(q4)return Vp;q4=1,Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.Variable=void 0;class a{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return Vp.Variable=a,Vp}var B4;function Gae(){if(B4)return Mp;B4=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.DataFactory=void 0;const a=R4(),t=F4(),u=L4(),n=$x(),r=M4(),e=C4();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return Mp.DataFactory=o,Mp}var $4;function kae(){return $4||($4=1,function(a){var t=Ya&&Ya.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ya&&Ya.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(R4(),a),u(Gae(),a),u(F4(),a),u(L4(),a),u($x(),a),u(M4(),a),u(C4(),a)}(Ya)),Ya}var V4;function zae(){if(V4)return Ir;V4=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.stringQuadToQuad=Ir.quadToStringQuad=Ir.stringToTerm=Ir.getLiteralLanguage=Ir.getLiteralType=Ir.getLiteralValue=Ir.termToString=void 0;const a=kae(),t=new a.DataFactory;function u(s){if(s)switch(s.termType){case"NamedNode":return s.value;case"BlankNode":return"_:"+s.value;case"Literal":const l=s;return'"'+l.value+'"'+(l.datatype&&l.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&l.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+l.datatype.value:"")+(l.language?"@"+l.language:"");case"Quad":return`<<${u(s.subject)} ${u(s.predicate)} ${u(s.object)}${s.graph.termType==="DefaultGraph"?"":" "+u(s.graph)}>>`;case"Variable":return"?"+s.value;case"DefaultGraph":return s.value}}Ir.termToString=u;function n(s){const l=/^"([^]*)"/.exec(s);if(!l)throw new Error(s+" is not a literal");return l[1]}Ir.getLiteralValue=n;function r(s){const l=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(s);if(!l)throw new Error(s+" is not a literal");return l[1]||(l[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Ir.getLiteralType=r;function e(s){const l=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(s);if(!l)throw new Error(s+" is not a literal");return l[1]?l[1].toLowerCase():""}Ir.getLiteralLanguage=e;function i(s,l){if(l=l||t,!s||!s.length)return l.defaultGraph();switch(s[0]){case"_":return l.blankNode(s.substr(2));case"?":if(!l.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return l.variable(s.substr(1));case'"':const f=e(s),d=l.namedNode(r(s));return l.literal(n(s),f||d);case"<":default:if(s[0]==="<"&&s.length>4&&s[1]==="<"&&s[s.length-1]===">"&&s[s.length-2]===">"){const h=s.slice(2,-2).trim();let p=[],b=0,m=0,y=!1;for(let g=0;g<h.length;g++){const _=h[g];if(_==="<"&&b++,_===">"){if(b===0)throw new Error("Found closing tag without opening tag in "+s);b--}if(_==='"'){let v=!1,T=g;for(;T-- >0&&h[T]==="\\";)v=!v;v||(y=!y)}if(_===" "&&!y&&b===0){for(p.push(h.slice(m,g));h[g+1]===" ";)g+=1;m=g+1}}if(b!==0)throw new Error("Found opening tag without closing tag in "+s);if(p.push(h.slice(m,h.length)),p.length!==3&&p.length!==4)throw new Error("Nested quad syntax error "+s);return p=p.map(g=>g.startsWith("<")&&!g.includes(" ")?g.slice(1,-1):g),l.quad(i(p[0]),i(p[1]),i(p[2]),p[3]?i(p[3]):void 0)}return l.namedNode(s)}}Ir.stringToTerm=i;function o(s){return{subject:u(s.subject),predicate:u(s.predicate),object:u(s.object),graph:u(s.graph)}}Ir.quadToStringQuad=o;function c(s,l){return l=l||t,l.quad(i(s.subject,l),i(s.predicate,l),i(s.object,l),i(s.graph,l))}return Ir.stringQuadToQuad=c,Ir}var U4;function Bt(){return U4||(U4=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.termToString=a.stringToTerm=a.stringQuadToQuad=a.quadToStringQuad=a.getLiteralValue=a.getLiteralType=a.getLiteralLanguage=void 0;const t=zae();Object.defineProperty(a,"getLiteralLanguage",{enumerable:!0,get:function(){return t.getLiteralLanguage}}),Object.defineProperty(a,"getLiteralType",{enumerable:!0,get:function(){return t.getLiteralType}}),Object.defineProperty(a,"getLiteralValue",{enumerable:!0,get:function(){return t.getLiteralValue}}),Object.defineProperty(a,"quadToStringQuad",{enumerable:!0,get:function(){return t.quadToStringQuad}}),Object.defineProperty(a,"stringQuadToQuad",{enumerable:!0,get:function(){return t.stringQuadToQuad}}),Object.defineProperty(a,"stringToTerm",{enumerable:!0,get:function(){return t.stringToTerm}}),Object.defineProperty(a,"termToString",{enumerable:!0,get:function(){return t.termToString}})}(Bx)),Bx}var Cn={},An={},Vx,Q4;function Xae(){return Q4||(Q4=1,Vx=function a(t,u){if(t===u)return!0;if(t&&u&&typeof t=="object"&&typeof u=="object"){if(t.constructor!==u.constructor)return!1;var n,r,e;if(Array.isArray(t)){if(n=t.length,n!=u.length)return!1;for(r=n;r--!==0;)if(!a(t[r],u[r]))return!1;return!0}if(t instanceof Map&&u instanceof Map){if(t.size!==u.size)return!1;for(r of t.entries())if(!u.has(r[0]))return!1;for(r of t.entries())if(!a(r[1],u.get(r[0])))return!1;return!0}if(t instanceof Set&&u instanceof Set){if(t.size!==u.size)return!1;for(r of t.entries())if(!u.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(u)){if(n=t.length,n!=u.length)return!1;for(r=n;r--!==0;)if(t[r]!==u[r])return!1;return!0}if(t.constructor===RegExp)return t.source===u.source&&t.flags===u.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===u.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===u.toString();if(e=Object.keys(t),n=e.length,n!==Object.keys(u).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(u,e[r]))return!1;for(r=n;r--!==0;){var i=e[r];if(!a(t[i],u[i]))return!1}return!0}return t!==t&&u!==u}),Vx}var Ux={},H4;function Up(){return H4||(H4=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.expressionTypes=a.types=void 0,function(t){t.ALT="alt",t.ASK="ask",t.BGP="bgp",t.CONSTRUCT="construct",t.DESCRIBE="describe",t.DISTINCT="distinct",t.EXPRESSION="expression",t.EXTEND="extend",t.FILTER="filter",t.FROM="from",t.GRAPH="graph",t.GROUP="group",t.INV="inv",t.JOIN="join",t.LEFT_JOIN="leftjoin",t.LINK="link",t.MINUS="minus",t.NOP="nop",t.NPS="nps",t.ONE_OR_MORE_PATH="OneOrMorePath",t.ORDER_BY="orderby",t.PATH="path",t.PATTERN="pattern",t.PROJECT="project",t.REDUCED="reduced",t.SEQ="seq",t.SERVICE="service",t.SLICE="slice",t.UNION="union",t.VALUES="values",t.ZERO_OR_MORE_PATH="ZeroOrMorePath",t.ZERO_OR_ONE_PATH="ZeroOrOnePath",t.COMPOSITE_UPDATE="compositeupdate",t.DELETE_INSERT="deleteinsert",t.LOAD="load",t.CLEAR="clear",t.CREATE="create",t.DROP="drop",t.ADD="add",t.MOVE="move",t.COPY="copy"}(a.types||(a.types={})),function(t){t.AGGREGATE="aggregate",t.EXISTENCE="existence",t.NAMED="named",t.OPERATOR="operator",t.TERM="term",t.WILDCARD="wildcard"}(a.expressionTypes||(a.expressionTypes={}))}(Ux)),Ux}var si={},Za={},Qp={},G4;function k4(){if(G4)return Qp;G4=1,Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.BlankNode=void 0;class a{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return Qp.BlankNode=a,Qp}var Hp={},Gp={},z4;function X4(){if(z4)return Gp;z4=1,Object.defineProperty(Gp,"__esModule",{value:!0}),Gp.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return Gp.DefaultGraph=a,a.INSTANCE=new a,Gp}var kp={},zp={},J4;function Qx(){if(J4)return zp;J4=1,Object.defineProperty(zp,"__esModule",{value:!0}),zp.NamedNode=void 0;class a{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return zp.NamedNode=a,zp}var K4;function W4(){if(K4)return kp;K4=1,Object.defineProperty(kp,"__esModule",{value:!0}),kp.Literal=void 0;const a=Qx();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return kp.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),kp}var Xp={},Y4;function Z4(){if(Y4)return Xp;Y4=1,Object.defineProperty(Xp,"__esModule",{value:!0}),Xp.Quad=void 0;class a{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return Xp.Quad=a,Xp}var Jp={},eP;function tP(){if(eP)return Jp;eP=1,Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.Variable=void 0;class a{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return Jp.Variable=a,Jp}var rP;function Jae(){if(rP)return Hp;rP=1,Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.DataFactory=void 0;const a=k4(),t=X4(),u=W4(),n=Qx(),r=Z4(),e=tP();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return Hp.DataFactory=o,Hp}var nP;function Kae(){return nP||(nP=1,function(a){var t=Za&&Za.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Za&&Za.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(k4(),a),u(Jae(),a),u(X4(),a),u(W4(),a),u(Qx(),a),u(Z4(),a),u(tP(),a)}(Za)),Za}var Hx={},iP;function aP(){if(iP)return Hx;iP=1;let a=class{constructor(){return t||this}equals(n){return n&&this.termType===n.termType}};Object.defineProperty(a.prototype,"value",{enumerable:!0,value:"*"}),Object.defineProperty(a.prototype,"termType",{enumerable:!0,value:"Wildcard"});var t=new a;return Hx.Wildcard=a,Hx}var Gx,uP;function Wae(){if(uP)return Gx;uP=1;var a=function(){var t=function(Ve,Me,Ge,We){for(Ge=Ge||{},We=Ve.length;We--;Ge[Ve[We]]=Me);return Ge},u=[6,12,13,15,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],n=[2,247],r=[100,110,113,115,116,123,126,131,329,330,331,332,333],e=[2,409],i=[1,18],o=[1,27],c=[13,16,45,197,224,229,308],s=[28,29,53],l=[28,53],f=[1,42],d=[1,45],h=[1,41],p=[1,44],b=[123,126],m=[1,67],y=[39,45,87],g=[13,16,45,197,224,308],_=[1,87],v=[2,281],T=[1,86],w=[13,16,45,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],A=[6,28,29,53,63,70,73,81,83,85],M=[6,13,16,28,29,53,63,70,73,81,83,85,87,308],F=[6,13,16,28,29,45,53,63,70,73,81,82,83,85,87,89,197,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314],O=[6,13,16,28,29,31,39,45,47,48,53,63,70,73,81,82,83,85,87,89,109,112,121,123,126,128,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,337,338,340,341,342,343,344,345,346],E=[13,16,308],x=[112,132,327,334],L=[13,16,112,132,308],V=[1,111],$=[1,117],Q=[112,132,327,328,334],ie=[13,16,112,132,308,328],ue=[28,29,45,53,87],pe=[1,138],X=[1,151],me=[1,128],Fe=[1,127],ve=[1,129],re=[1,140],je=[1,141],qe=[1,142],$e=[1,143],ge=[1,144],we=[1,145],G=[1,147],N=[1,148],P=[2,457],S=[1,158],I=[1,159],B=[1,160],z=[1,152],H=[1,153],K=[1,156],k=[1,171],Z=[1,172],de=[1,173],le=[1,174],De=[1,175],Qe=[1,176],Le=[1,167],ce=[1,168],se=[1,169],ye=[1,170],xe=[1,157],U=[1,166],R=[1,161],C=[1,162],J=[1,163],ae=[1,164],_e=[1,165],Se=[6,13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],Xe=[1,195],Y=[6,31,73,81,83,85],Ee=[2,285],Ne=[1,199],Ce=[1,201],Ue=[6,31,70,73,81,83,85],tt=[2,283],ut=[1,207],rt=[1,218],lt=[1,223],ne=[1,219],j=[1,225],D=[1,226],q=[1,224],W=[6,63,70,73,81,83,85],be=[1,236],he=[2,334],Pe=[1,243],Be=[1,241],ze=[6,193],Ke=[2,349],ct=[2,339],Ze=[28,128],Ye=[47,48,193,272],Hr=[47,48,193,242,272],Je=[47,48,193,242,246,272],oe=[47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,341,342,343,344,345,346],Oe=[39,47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,338,341,342,343,344,345,346],Ie=[1,271],nt=[1,270],it=[6,13,16,29,31,39,45,47,48,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],Ot=[1,281],ur=[1,280],zt=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],Bi=[45,89],bn=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],Zt=[13,16,31,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],Dn=[31,89],Dr=[48,87],ni=[6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338],Pr=[6,13,16,39,45,48,82,87,89,231,263,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338,340],Tf=[1,313],Gr=[6,85],Lh=[6,31,81,83,85],wf=[2,361],_n=[2,353],on=[1,343],PS=[31,112,335],$i=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],RF=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335],mne=[6,109,193],Sf=[31,112],vr=[13,16,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],NF=[1,390],FF=[1,391],Aa=[13,16,87,197,308,314],gne=[13,16,39,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],YA=[1,417],ZA=[1,418],vne=[13,16,48,197,229,308],Ea=[6,31,85],Tne=[6,13,16,31,45,73,81,83,85,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],DF=[6,13,16,29,31,45,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,231,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,346,347,348,349,350,351],Of=[29,31,85,112,159,160,161,163,164],eE=[1,443],tE=[1,444],wne=[1,449],Af=[31,112,193,232,318,335],rE=[13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],Sne=[13,16,31,45,48,82,87,89,112,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],PF=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],LS=[13,16,31,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],jS=[31,45],One=[1,507],Ane=[1,508],Ene=[6,13,16,29,31,39,45,47,48,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,336,338,341,342,343,344,345,346,347,348,349,350,351],nE=[29,31,85,112,159,160,161,163,164,335],Ef=[6,13,16,31,45,70,73,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],xne=[13,16,31,45,48,82,87,89,112,193,197,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Ine=[2,352],LF=[13,16,197,308,314],Rne=[1,565],jh=[6,13,16,31,45,76,78,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],Nne=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],Vi=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],Fne=[13,16,87,308],Ui=[2,364],Mh=[29,31,85,112,159,160,161,163,164,193,232,318,335],iE=[31,112,193,232,272,318,335],Qi=[2,359],Dne=[13,16,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],aE=[29,31,85,112,159,160,161,163,164,193,232,272,318,335],Pne=[13,16,31,45,82,87,89,112,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],Lne=[2,347],jF={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Query:7,Qry:8,Query_option0:9,Prologue_repetition0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectClauseWildcard:17,Qry_repetition0:18,WhereClause:19,SolutionModifierNoGroup:20,SelectClauseVars:21,Qry_repetition1:22,SolutionModifier:23,CONSTRUCT:24,ConstructTemplate:25,Qry_repetition2:26,Qry_repetition3:27,WHERE:28,"{":29,Qry_option0:30,"}":31,DESCRIBE:32,Qry_group0:33,Qry_repetition4:34,Qry_option1:35,ASK:36,Qry_repetition5:37,SelectClauseBase:38,"*":39,SelectClauseVars_repetition_plus0:40,SELECT:41,SelectClauseBase_option0:42,SelectClauseItem:43,Var:44,"(":45,Expression:46,AS:47,")":48,SubSelect:49,SubSelect_option0:50,SubSelect_option1:51,DatasetClause:52,FROM:53,DatasetClause_option0:54,iri:55,WhereClause_option0:56,GroupGraphPattern:57,SolutionModifier_option0:58,SolutionModifierNoGroup_option0:59,SolutionModifierNoGroup_option1:60,SolutionModifierNoGroup_option2:61,GroupClause:62,GROUP:63,BY:64,GroupClause_repetition_plus0:65,GroupCondition:66,BuiltInCall:67,FunctionCall:68,HavingClause:69,HAVING:70,HavingClause_repetition_plus0:71,OrderClause:72,ORDER:73,OrderClause_repetition_plus0:74,OrderCondition:75,ASC:76,BrackettedExpression:77,DESC:78,Constraint:79,LimitOffsetClauses:80,LIMIT:81,INTEGER:82,OFFSET:83,ValuesClause:84,VALUES:85,InlineData:86,VAR:87,InlineData_repetition0:88,NIL:89,InlineData_repetition1:90,InlineData_repetition_plus2:91,InlineData_repetition3:92,DataBlock:93,DataBlockValueList:94,DataBlockValueList_repetition_plus0:95,Update:96,Update_repetition0:97,Update1:98,Update_option0:99,LOAD:100,Update1_option0:101,Update1_option1:102,Update1_group0:103,Update1_option2:104,GraphRefAll:105,Update1_group1:106,Update1_option3:107,GraphOrDefault:108,TO:109,CREATE:110,Update1_option4:111,GRAPH:112,INSERTDATA:113,QuadPattern:114,DELETEDATA:115,DELETEWHERE:116,Update1_option5:117,InsertDeleteClause:118,Update1_repetition0:119,IntoGraphClause:120,INTO:121,GraphRef:122,DELETE:123,InsertDeleteClause_option0:124,InsertClause:125,INSERT:126,UsingClause:127,USING:128,UsingClause_option0:129,WithClause:130,WITH:131,DEFAULT:132,GraphOrDefault_option0:133,GraphRefAll_group0:134,Quads:135,Quads_option0:136,Quads_repetition0:137,QuadsNotTriples:138,VarOrIri:139,QuadsNotTriples_option0:140,QuadsNotTriples_option1:141,QuadsNotTriples_option2:142,TriplesTemplate:143,TriplesTemplate_repetition0:144,TriplesSameSubject:145,TriplesTemplate_option0:146,GroupGraphPatternSub:147,GroupGraphPatternSub_option0:148,GroupGraphPatternSub_repetition0:149,GroupGraphPatternSubTail:150,GraphPatternNotTriples:151,GroupGraphPatternSubTail_option0:152,GroupGraphPatternSubTail_option1:153,TriplesBlock:154,TriplesBlock_repetition0:155,TriplesSameSubjectPath:156,TriplesBlock_option0:157,GroupOrUnionGraphPattern:158,OPTIONAL:159,MINUS:160,SERVICE:161,GraphPatternNotTriples_option0:162,FILTER:163,BIND:164,InlineDataOneVar:165,InlineDataFull:166,InlineDataOneVar_repetition0:167,InlineDataFull_repetition0:168,InlineDataFull_repetition_plus1:169,InlineDataFull_repetition2:170,DataBlockValue:171,Literal:172,QuotedTriple:173,UNDEF:174,GroupOrUnionGraphPattern_repetition0:175,ArgList:176,ArgList_option0:177,ArgList_repetition0:178,ExpressionList:179,ExpressionList_repetition0:180,ConstructTemplate_option0:181,ConstructTriples:182,ConstructTriples_repetition0:183,ConstructTriples_option0:184,VarOrTermOrQuotedTP:185,PropertyListNotEmpty:186,TriplesNode:187,PropertyList:188,PropertyList_option0:189,VerbObjectList:190,PropertyListNotEmpty_repetition0:191,SemiOptionalVerbObjectList:192,";":193,SemiOptionalVerbObjectList_option0:194,Verb:195,ObjectList:196,a:197,ObjectList_repetition0:198,Object:199,GraphNode:200,Object_option0:201,PropertyListPathNotEmpty:202,TriplesNodePath:203,TriplesSameSubjectPath_option0:204,O:205,PropertyListPathNotEmpty_repetition0:206,PropertyListPathNotEmptyTail:207,O_group0:208,ObjectListPath:209,ObjectListPath_repetition0:210,ObjectPath:211,GraphNodePath:212,ObjectPath_option0:213,Path:214,Path_repetition0:215,PathSequence:216,PathSequence_repetition0:217,PathEltOrInverse:218,PathElt:219,PathPrimary:220,PathElt_option0:221,PathEltOrInverse_option0:222,IriOrA:223,"!":224,PathNegatedPropertySet:225,PathOneInPropertySet:226,PathNegatedPropertySet_repetition0:227,PathNegatedPropertySet_option0:228,"^":229,TriplesNode_repetition_plus0:230,"[":231,"]":232,TriplesNodePath_repetition_plus0:233,VarOrTermOrQuotedTPExpr:234,VarOrTerm:235,GraphTerm:236,BlankNode:237,ConditionalOrExpression:238,ConditionalAndExpression:239,ConditionalOrExpression_repetition0:240,ConditionalOrExpressionTail:241,"||":242,RelationalExpression:243,ConditionalAndExpression_repetition0:244,ConditionalAndExpressionTail:245,"&&":246,NumericExpression:247,RelationalExpression_group0:248,RelationalExpression_option0:249,IN:250,MultiplicativeExpression:251,NumericExpression_repetition0:252,AdditiveExpressionTail:253,AdditiveExpressionTail_group0:254,NumericLiteralPositive:255,AdditiveExpressionTail_repetition0:256,NumericLiteralNegative:257,AdditiveExpressionTail_repetition1:258,UnaryExpression:259,MultiplicativeExpression_repetition0:260,MultiplicativeExpressionTail:261,MultiplicativeExpressionTail_group0:262,"+":263,PrimaryExpression:264,"-":265,ExprQuotedTP:266,Aggregate:267,FUNC_ARITY0:268,FUNC_ARITY1:269,FUNC_ARITY1_SPARQL_STAR:270,FUNC_ARITY2:271,",":272,FUNC_ARITY3:273,FUNC_ARITY3_SPARQL_STAR:274,BuiltInCall_group0:275,BOUND:276,BNODE:277,BuiltInCall_option0:278,EXISTS:279,COUNT:280,Aggregate_option0:281,Aggregate_group0:282,FUNC_AGGREGATE:283,Aggregate_option1:284,GROUP_CONCAT:285,Aggregate_option2:286,Aggregate_option3:287,GroupConcatSeparator:288,SEPARATOR:289,"=":290,String:291,LANGTAG:292,"^^":293,DECIMAL:294,DOUBLE:295,BOOLEAN:296,INTEGER_POSITIVE:297,DECIMAL_POSITIVE:298,DOUBLE_POSITIVE:299,INTEGER_NEGATIVE:300,DECIMAL_NEGATIVE:301,DOUBLE_NEGATIVE:302,STRING_LITERAL1:303,STRING_LITERAL2:304,STRING_LITERAL_LONG1:305,STRING_LITERAL_LONG2:306,PrefixedName:307,PNAME_LN:308,BLANK_NODE_LABEL:309,ANON:310,QuotedTP:311,"<<":312,qtSubjectOrObject:313,">>":314,DataValueTerm:315,AnnotationPattern:316,"{|":317,"|}":318,AnnotationPatternPath:319,ExprVarOrTerm:320,QueryOrUpdate_group0_option0:321,Prologue_repetition0_group0:322,Qry_group0_repetition_plus0:323,SelectClauseBase_option0_group0:324,DISTINCT:325,REDUCED:326,NAMED:327,SILENT:328,CLEAR:329,DROP:330,ADD:331,MOVE:332,COPY:333,ALL:334,".":335,UNION:336,"|":337,"/":338,PathElt_option0_group0:339,"?":340,"!=":341,"<":342,">":343,"<=":344,">=":345,NOT:346,CONCAT:347,COALESCE:348,SUBSTR:349,REGEX:350,REPLACE:351,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",24:"CONSTRUCT",28:"WHERE",29:"{",31:"}",32:"DESCRIBE",36:"ASK",39:"*",41:"SELECT",45:"(",47:"AS",48:")",53:"FROM",63:"GROUP",64:"BY",70:"HAVING",73:"ORDER",76:"ASC",78:"DESC",81:"LIMIT",82:"INTEGER",83:"OFFSET",85:"VALUES",87:"VAR",89:"NIL",100:"LOAD",109:"TO",110:"CREATE",112:"GRAPH",113:"INSERTDATA",115:"DELETEDATA",116:"DELETEWHERE",121:"INTO",123:"DELETE",126:"INSERT",128:"USING",131:"WITH",132:"DEFAULT",159:"OPTIONAL",160:"MINUS",161:"SERVICE",163:"FILTER",164:"BIND",174:"UNDEF",193:";",197:"a",224:"!",229:"^",231:"[",232:"]",242:"||",246:"&&",250:"IN",263:"+",265:"-",268:"FUNC_ARITY0",269:"FUNC_ARITY1",270:"FUNC_ARITY1_SPARQL_STAR",271:"FUNC_ARITY2",272:",",273:"FUNC_ARITY3",274:"FUNC_ARITY3_SPARQL_STAR",276:"BOUND",277:"BNODE",279:"EXISTS",280:"COUNT",283:"FUNC_AGGREGATE",285:"GROUP_CONCAT",289:"SEPARATOR",290:"=",292:"LANGTAG",293:"^^",294:"DECIMAL",295:"DOUBLE",296:"BOOLEAN",297:"INTEGER_POSITIVE",298:"DECIMAL_POSITIVE",299:"DOUBLE_POSITIVE",300:"INTEGER_NEGATIVE",301:"DECIMAL_NEGATIVE",302:"DOUBLE_NEGATIVE",303:"STRING_LITERAL1",304:"STRING_LITERAL2",305:"STRING_LITERAL_LONG1",306:"STRING_LITERAL_LONG2",308:"PNAME_LN",309:"BLANK_NODE_LABEL",310:"ANON",312:"<<",314:">>",317:"{|",318:"|}",325:"DISTINCT",326:"REDUCED",327:"NAMED",328:"SILENT",329:"CLEAR",330:"DROP",331:"ADD",332:"MOVE",333:"COPY",334:"ALL",335:".",336:"UNION",337:"|",338:"/",340:"?",341:"!=",342:"<",343:">",344:"<=",345:">=",346:"NOT",347:"CONCAT",348:"COALESCE",349:"SUBSTR",350:"REGEX",351:"REPLACE"},productions_:[0,[3,3],[7,2],[4,1],[11,2],[14,3],[8,4],[8,4],[8,5],[8,7],[8,5],[8,4],[17,2],[21,2],[38,2],[43,1],[43,5],[49,4],[49,4],[52,3],[19,2],[23,2],[20,3],[62,3],[66,1],[66,1],[66,3],[66,5],[66,1],[69,2],[72,3],[75,2],[75,2],[75,1],[75,1],[80,2],[80,2],[80,4],[80,4],[84,2],[86,4],[86,4],[86,6],[86,2],[94,3],[96,3],[98,4],[98,3],[98,5],[98,4],[98,2],[98,2],[98,2],[98,5],[120,2],[118,3],[118,1],[125,2],[127,3],[130,2],[108,1],[108,2],[122,2],[105,1],[105,1],[114,3],[135,2],[138,7],[143,3],[57,3],[57,3],[147,2],[150,3],[154,3],[151,1],[151,2],[151,2],[151,3],[151,4],[151,2],[151,6],[151,1],[93,1],[93,1],[165,4],[166,4],[166,6],[171,1],[171,1],[171,1],[171,1],[158,2],[79,1],[79,1],[79,1],[68,2],[176,1],[176,5],[179,1],[179,4],[25,3],[182,3],[145,2],[145,2],[188,1],[186,2],[192,2],[190,2],[195,1],[195,1],[196,2],[199,2],[156,2],[156,2],[202,2],[207,1],[207,2],[205,2],[209,2],[211,2],[214,2],[216,2],[219,2],[218,2],[220,1],[220,2],[220,3],[225,1],[225,1],[225,4],[226,1],[226,2],[187,3],[187,3],[203,3],[203,3],[200,1],[200,1],[212,1],[212,1],[234,1],[235,1],[235,1],[139,1],[139,1],[44,1],[236,1],[236,1],[236,1],[236,1],[46,1],[238,2],[241,2],[239,2],[245,2],[243,1],[243,3],[243,4],[247,2],[253,2],[253,2],[253,2],[251,2],[261,2],[259,2],[259,2],[259,2],[259,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[77,3],[67,1],[67,2],[67,4],[67,4],[67,6],[67,8],[67,8],[67,2],[67,4],[67,2],[67,4],[67,3],[267,5],[267,5],[267,6],[288,4],[172,1],[172,2],[172,3],[172,1],[172,1],[172,1],[172,1],[172,1],[172,1],[255,1],[255,1],[255,1],[257,1],[257,1],[257,1],[291,1],[291,1],[291,1],[291,1],[55,1],[55,1],[307,1],[307,1],[237,1],[237,1],[311,5],[173,5],[313,1],[313,1],[313,1],[313,1],[313,1],[315,1],[315,1],[315,1],[185,1],[185,1],[185,1],[316,3],[319,3],[266,5],[320,1],[320,1],[320,1],[223,1],[223,1],[321,0],[321,1],[5,1],[5,1],[5,1],[9,0],[9,1],[322,1],[322,1],[10,0],[10,2],[18,0],[18,2],[22,0],[22,2],[26,0],[26,2],[27,0],[27,2],[30,0],[30,1],[323,1],[323,2],[33,1],[33,1],[34,0],[34,2],[35,0],[35,1],[37,0],[37,2],[40,1],[40,2],[324,1],[324,1],[42,0],[42,1],[50,0],[50,1],[51,0],[51,1],[54,0],[54,1],[56,0],[56,1],[58,0],[58,1],[59,0],[59,1],[60,0],[60,1],[61,0],[61,1],[65,1],[65,2],[71,1],[71,2],[74,1],[74,2],[88,0],[88,2],[90,0],[90,2],[91,1],[91,2],[92,0],[92,2],[95,1],[95,2],[97,0],[97,4],[99,0],[99,2],[101,0],[101,1],[102,0],[102,1],[103,1],[103,1],[104,0],[104,1],[106,1],[106,1],[106,1],[107,0],[107,1],[111,0],[111,1],[117,0],[117,1],[119,0],[119,2],[124,0],[124,1],[129,0],[129,1],[133,0],[133,1],[134,1],[134,1],[134,1],[136,0],[136,1],[137,0],[137,2],[140,0],[140,1],[141,0],[141,1],[142,0],[142,1],[144,0],[144,3],[146,0],[146,1],[148,0],[148,1],[149,0],[149,2],[152,0],[152,1],[153,0],[153,1],[155,0],[155,3],[157,0],[157,1],[162,0],[162,1],[167,0],[167,2],[168,0],[168,2],[169,1],[169,2],[170,0],[170,2],[175,0],[175,3],[177,0],[177,1],[178,0],[178,3],[180,0],[180,3],[181,0],[181,1],[183,0],[183,3],[184,0],[184,1],[189,0],[189,1],[191,0],[191,2],[194,0],[194,1],[198,0],[198,3],[201,0],[201,1],[204,0],[204,1],[206,0],[206,2],[208,1],[208,1],[210,0],[210,3],[213,0],[213,1],[215,0],[215,3],[217,0],[217,3],[339,1],[339,1],[339,1],[221,0],[221,1],[222,0],[222,1],[227,0],[227,3],[228,0],[228,1],[230,1],[230,2],[233,1],[233,2],[240,0],[240,2],[244,0],[244,2],[248,1],[248,1],[248,1],[248,1],[248,1],[248,1],[249,0],[249,1],[252,0],[252,2],[254,1],[254,1],[256,0],[256,2],[258,0],[258,2],[260,0],[260,2],[262,1],[262,1],[275,1],[275,1],[275,1],[275,1],[275,1],[278,0],[278,1],[281,0],[281,1],[282,1],[282,1],[284,0],[284,1],[286,0],[286,1],[287,0],[287,1]],performAction:function(Me,Ge,We,dt,pt,ee,mn){var te=ee.length-1;switch(pt){case 1:if(ee[te-1]=ee[te-1]||{},Et.base&&(ee[te-1].base=Et.base),Et.base="",ee[te-1].prefixes=Et.prefixes,Et.prefixes=null,Et.pathOnly){if(ee[te-1].type==="path"||"termType"in ee[te-1])return ee[te-1];throw new Error("Received full SPARQL query in path only mode")}else if(ee[te-1].type==="path"||"termType"in ee[te-1])throw new Error("Received only path in full SPARQL mode");if(ee[te-1].type==="update"){const At={};for(const Ct of ee[te-1].updates)if(Ct.updateType==="insert"){const vt={};for(const jr of Ct.insert)if(jr.type==="bgp"||jr.type==="graph")for(const Mr of jr.triples)Mr.subject.termType==="BlankNode"&&(vt[Mr.subject.value]=!0),Mr.predicate.termType==="BlankNode"&&(vt[Mr.predicate.value]=!0),Mr.object.termType==="BlankNode"&&(vt[Mr.object.value]=!0);for(const jr of Object.keys(vt)){if(At[jr])throw new Error("Detected reuse blank node across different INSERT DATA clauses");At[jr]=!0}}}return ee[te-1];case 2:this.$={...ee[te-1],...ee[te],type:"query"};break;case 4:Et.base=MS(ee[te]);break;case 5:Et.prefixes||(Et.prefixes={}),ee[te-1]=ee[te-1].substr(0,ee[te-1].length-1),ee[te]=MS(ee[te]),Et.prefixes[ee[te-1]]=ee[te];break;case 6:this.$={...ee[te-3],...Rf(ee[te-2]),...ee[te-1],...ee[te]};break;case 7:if(!Et.skipValidation&&(QF(ee[te-3].variables.map(Ct=>UF(Ct.expression))).some(Ct=>Ct.aggregation==="count"&&!(Ct.expression instanceof uE))||ee[te].group)){for(const Ct of ee[te-3].variables)if(Ct.termType==="Variable"){if(!ee[te].group||!ee[te].group.map(vt=>Vh(vt)).includes(Vh(Ct)))throw Error("Projection of ungrouped variable (?"+Vh(Ct)+")")}else if(UF(Ct.expression).length===0){const vt=Owe(Ct.expression);for(const jr of vt)if(!ee[te].group||!ee[te].group.map||!ee[te].group.map(Mr=>Vh(Mr)).includes(Vh(jr)))throw Error("Use of ungrouped variable in projection of operation (?"+Vh(jr)+")")}}const Uh=ee[te-1].where.filter(At=>At.type==="query");if(Uh.length>0){const At=ee[te-3].variables.filter(vt=>vt.variable&&vt.variable.value).map(vt=>vt.variable.value),Ct=QF(Uh.map(vt=>vt.variables)).map(vt=>vt.value||vt.variable.value);for(const vt of At)if(Ct.indexOf(vt)>=0)throw Error("Target id of 'AS' (?"+vt+") already used in subquery")}this.$=hr(ee[te-3],Rf(ee[te-2]),ee[te-1],ee[te]);break;case 8:this.$=hr({queryType:"CONSTRUCT",template:ee[te-3]},Rf(ee[te-2]),ee[te-1],ee[te]);break;case 9:this.$=hr({queryType:"CONSTRUCT",template:ee[te-2]=ee[te-2]?ee[te-2].triples:[]},Rf(ee[te-5]),{where:[{type:"bgp",triples:qh([],ee[te-2])}]},ee[te]);break;case 10:this.$=hr({queryType:"DESCRIBE",variables:ee[te-3]==="*"?[new uE]:ee[te-3]},Rf(ee[te-2]),ee[te-1],ee[te]);break;case 11:this.$=hr({queryType:"ASK"},Rf(ee[te-2]),ee[te-1],ee[te]);break;case 12:this.$=hr(ee[te-1],{variables:[new uE]});break;case 13:const zF=ee[te].map(At=>At.value||At.variable.value),fE=Awe(zF);if(fE.length>0)throw Error("Two or more of the resulting columns have the same name (?"+fE[0]+")");this.$=hr(ee[te-1],{variables:ee[te]});break;case 14:this.$=hr({queryType:"SELECT"},ee[te]&&(ee[te-1]=rn(ee[te]),ee[te]={},ee[te][ee[te-1]]=!0,ee[te]));break;case 16:case 27:this.$=Ch(ee[te-3],{variable:ee[te-1]});break;case 17:case 18:this.$=hr(ee[te-3],ee[te-2],ee[te-1],ee[te],{type:"query"});break;case 19:case 58:this.$={iri:ee[te],named:!!ee[te-1]};break;case 20:this.$={where:ee[te].patterns};break;case 21:this.$=hr(ee[te-1],ee[te]);break;case 22:this.$=hr(ee[te-2],ee[te-1],ee[te]);break;case 23:this.$={group:ee[te]};break;case 24:case 25:case 28:case 31:case 33:case 34:this.$=Ch(ee[te]);break;case 26:this.$=Ch(ee[te-1]);break;case 29:this.$={having:ee[te]};break;case 30:this.$={order:ee[te]};break;case 32:this.$=Ch(ee[te],{descending:!0});break;case 35:this.$={limit:$h(ee[te])};break;case 36:this.$={offset:$h(ee[te])};break;case 37:this.$={limit:$h(ee[te-2]),offset:$h(ee[te])};break;case 38:this.$={limit:$h(ee[te]),offset:$h(ee[te-2])};break;case 39:case 43:this.$={type:"values",values:ee[te]};break;case 40:case 84:this.$=ee[te-1].map(At=>({[ee[te-3]]:At}));break;case 41:case 85:this.$=ee[te-1].map(()=>({}));break;case 42:case 86:var xa=ee[te-4].length;ee[te-4]=ee[te-4].map(MF),this.$=ee[te-1].map(function(At){if(At.length!==xa)throw Error("Inconsistent VALUES length");for(var Ct={},vt=0;vt<xa;vt++)Ct["?"+ee[te-4][vt].value]=At[vt];return Ct});break;case 44:case 65:case 100:case 126:case 175:this.$=ee[te-1];break;case 45:this.$={type:"update",updates:If(ee[te-2],ee[te-1])};break;case 46:this.$=hr({type:"load",silent:!!ee[te-2],source:ee[te-1]},ee[te]&&{destination:ee[te]});break;case 47:this.$={type:rn(ee[te-2]),silent:!!ee[te-1],graph:ee[te]};break;case 48:this.$={type:rn(ee[te-4]),silent:!!ee[te-3],source:ee[te-2],destination:ee[te]};break;case 49:this.$={type:"create",silent:!!ee[te-2],graph:{type:"graph",name:ee[te]}};break;case 50:this.$={updateType:"insert",insert:Gne(ee[te])};break;case 51:this.$={updateType:"delete",delete:kF(Gne(ee[te]))};break;case 52:this.$={updateType:"deletewhere",delete:kF(ee[te])};break;case 53:this.$={updateType:"insertdelete",...ee[te-4],...ee[te-3],...Rf(ee[te-2],"using"),where:ee[te].patterns};break;case 54:case 57:case 62:case 167:case 191:case 236:this.$=ee[te];break;case 55:this.$={delete:kF(ee[te-1]),insert:ee[te]||[]};break;case 56:this.$={delete:[],insert:ee[te]};break;case 59:this.$={graph:ee[te]};break;case 60:this.$={type:"graph",default:!0};break;case 61:case 63:this.$={type:"graph",name:ee[te]};break;case 64:this.$={[rn(ee[te])]:!0};break;case 66:this.$=ee[te-1]?mi(ee[te],[ee[te-1]]):mi(ee[te]);break;case 67:var cE=hr(ee[te-3]||{triples:[]},{type:"graph",name:ee[te-5]});this.$=ee[te]?[cE,ee[te]]:[cE];break;case 68:case 73:this.$={type:"bgp",triples:mi(ee[te-2],[ee[te-1]])};break;case 69:this.$={type:"group",patterns:[ee[te-1]]};break;case 70:for(const At of ee[te-1].filter(Ct=>Ct.type==="bind")){const Ct=ee[te-1].indexOf(At),vt=new Set;for(const jr of ee[te-1].slice(0,Ct))(jr.type==="group"||jr.type==="bgp")&&Qne(jr).forEach(Mr=>vt.add(Mr));if(vt.has(At.variable.value))throw Error("Variable used to bind is already bound (?"+At.variable.value+")")}this.$={type:"group",patterns:ee[te-1]};break;case 71:this.$=ee[te-1]?mi([ee[te-1]],ee[te]):mi(ee[te]);break;case 72:this.$=ee[te]?[ee[te-2],ee[te]]:ee[te-2];break;case 75:this.$=hr(ee[te],{type:"optional"});break;case 76:this.$=hr(ee[te],{type:"minus"});break;case 77:this.$=hr(ee[te],{type:"graph",name:ee[te-1]});break;case 78:this.$=hr(ee[te],{type:"service",name:ee[te-1],silent:!!ee[te-2]});break;case 79:this.$={type:"filter",expression:ee[te]};break;case 80:this.$={type:"bind",variable:ee[te-1],expression:ee[te-3]};break;case 89:this.$=CS(ee[te]);break;case 90:this.$=void 0;break;case 91:this.$=ee[te-1].length?{type:"union",patterns:mi(ee[te-1].map(CF),[CF(ee[te])])}:ee[te];break;case 95:this.$={...ee[te],function:ee[te-1]};break;case 96:this.$={type:"functionCall",args:[]};break;case 97:this.$={type:"functionCall",args:If(ee[te-2],ee[te-1]),distinct:!!ee[te-3]};break;case 98:case 115:case 128:case 247:case 249:case 251:case 253:case 255:case 263:case 267:case 297:case 299:case 303:case 307:case 328:case 341:case 349:case 355:case 361:case 367:case 369:case 373:case 375:case 379:case 381:case 385:case 391:case 395:case 401:case 405:case 409:case 411:case 420:case 428:case 430:case 440:case 444:case 446:case 448:this.$=[];break;case 99:this.$=If(ee[te-2],ee[te-1]);break;case 101:this.$=mi(ee[te-2],[ee[te-1]]);break;case 102:case 112:this.$=GF(ee[te].map(At=>hr(Hi(ee[te-1]),At)));break;case 103:this.$=GF(qh(ee[te].map(At=>hr(Hi(ee[te-1].entity),At)),ee[te-1].triples));break;case 105:this.$=mi([ee[te-1]],ee[te]);break;case 106:this.$=mi(ee[te]);break;case 107:this.$=VF(ee[te-1],ee[te]);break;case 109:case 237:this.$=Et.factory.namedNode(pwe);break;case 110:case 118:this.$=If(ee[te-1],ee[te]);break;case 111:this.$=ee[te]?{annotation:ee[te],object:ee[te-1]}:ee[te-1];break;case 113:this.$=ee[te]?GF(qh(ee[te].map(At=>hr(Hi(ee[te-1].entity),At)),ee[te-1].triples)):ee[te-1].triples;break;case 114:this.$=VF(...ee[te-1],ee[te]);break;case 116:this.$=VF(...ee[te]);break;case 117:case 159:case 163:this.$=[ee[te-1],ee[te]];break;case 119:this.$=ee[te]?{object:ee[te-1],annotation:ee[te]}:ee[te-1];break;case 120:this.$=ee[te-1].length?Bh("|",If(ee[te-1],ee[te])):ee[te];break;case 121:this.$=ee[te-1].length?Bh("/",If(ee[te-1],ee[te])):ee[te];break;case 122:this.$=ee[te]?Bh(ee[te],[ee[te-1]]):ee[te-1];break;case 123:this.$=ee[te-1]?Bh(ee[te-1],[ee[te]]):ee[te];break;case 125:case 131:this.$=Bh(ee[te-1],[ee[te]]);break;case 129:this.$=Bh("|",If(ee[te-2],ee[te-1]));break;case 132:case 134:this.$=wwe(ee[te-1]);break;case 133:case 135:this.$=Swe(ee[te-1]);break;case 140:this.$={entity:ee[te],triples:[]};break;case 145:this.$=MF(ee[te]);break;case 149:this.$=Et.factory.namedNode(jne);break;case 151:case 153:case 158:case 162:this.$=qF(ee[te-1],ee[te]);break;case 152:this.$=["||",ee[te]];break;case 154:this.$=["&&",ee[te]];break;case 156:this.$=Lr(ee[te-1],[ee[te-2],ee[te]]);break;case 157:this.$=Lr(ee[te-2]?"notin":"in",[ee[te-3],ee[te]]);break;case 160:this.$=["+",qF(ee[te-1],ee[te])];break;case 161:var lE=gi(ee[te-1].value.replace("-",""),ee[te-1].datatype);this.$=["-",qF(lE,ee[te])];break;case 164:this.$=Lr("UPLUS",[ee[te]]);break;case 165:this.$=Lr(ee[te-1],[ee[te]]);break;case 166:this.$=Lr("UMINUS",[ee[te]]);break;case 177:this.$=Lr(rn(ee[te-1]));break;case 178:this.$=Lr(rn(ee[te-3]),[ee[te-1]]);break;case 179:this.$=CS(Lr(rn(ee[te-3]),[ee[te-1]]));break;case 180:this.$=Lr(rn(ee[te-5]),[ee[te-3],ee[te-1]]);break;case 181:this.$=Lr(rn(ee[te-7]),[ee[te-5],ee[te-3],ee[te-1]]);break;case 182:this.$=CS(Lr(rn(ee[te-7]),[ee[te-5],ee[te-3],ee[te-1]]));break;case 183:this.$=Lr(rn(ee[te-1]),ee[te]);break;case 184:this.$=Lr("bound",[MF(ee[te-1])]);break;case 185:this.$=Lr(ee[te-1],[]);break;case 186:this.$=Lr(ee[te-3],[ee[te-1]]);break;case 187:this.$=Lr(ee[te-2]?"notexists":"exists",[CF(ee[te])]);break;case 188:case 189:this.$=Ch(ee[te-1],{type:"aggregate",aggregation:rn(ee[te-4]),distinct:!!ee[te-2]});break;case 190:this.$=Ch(ee[te-2],{type:"aggregate",aggregation:rn(ee[te-5]),distinct:!!ee[te-3],separator:typeof ee[te-1]=="string"?ee[te-1]:" "});break;case 192:this.$=gi(ee[te]);break;case 193:this.$=mwe(ee[te-1],rn(ee[te].substr(1)));break;case 194:this.$=gi(ee[te-2],ee[te]);break;case 195:case 204:this.$=gi(ee[te],Mne);break;case 196:case 205:this.$=gi(ee[te],qne);break;case 197:case 206:this.$=gi(rn(ee[te]),Cne);break;case 200:this.$=gi(ee[te].toLowerCase(),_we);break;case 201:this.$=gi(ee[te].substr(1),Mne);break;case 202:this.$=gi(ee[te].substr(1),qne);break;case 203:this.$=gi(ee[te].substr(1).toLowerCase(),Cne);break;case 207:case 208:this.$=Une(ee[te],1);break;case 209:case 210:this.$=Une(ee[te],3);break;case 211:this.$=Et.factory.namedNode(MS(ee[te]));break;case 213:var dE=ee[te].indexOf(":"),pr=ee[te].substr(0,dE),vi=Et.prefixes[pr];if(!vi)throw new Error("Unknown prefix: "+pr);var Nf=MS(vi+ee[te].substr(dE+1));this.$=Et.factory.namedNode(Nf);break;case 214:if(ee[te]=ee[te].substr(0,ee[te].length-1),!(ee[te]in Et.prefixes))throw new Error("Unknown prefix: "+ee[te]);var Nf=MS(Et.prefixes[ee[te]]);this.$=Et.factory.namedNode(Nf);break;case 215:this.$=qS(ee[te].replace(/^(_:)/,""));break;case 216:this.$=qS();break;case 217:case 218:case 232:this.$=CS(BF(ee[te-3],ee[te-2],ee[te-1]));break;case 230:case 231:this.$=CS(ee[te-1]);break;case 248:case 250:case 252:case 254:case 256:case 260:case 264:case 268:case 270:case 292:case 294:case 296:case 298:case 300:case 302:case 304:case 306:case 329:case 342:case 356:case 368:case 370:case 372:case 374:case 392:case 402:case 425:case 427:case 429:case 431:case 441:case 445:case 447:case 449:ee[te-1].push(ee[te]);break;case 259:case 269:case 291:case 293:case 295:case 301:case 305:case 371:case 424:case 426:this.$=[ee[te]];break;case 308:ee[te-3].push(ee[te-2]);break;case 350:case 362:case 376:case 380:case 382:case 386:case 396:case 406:case 410:case 412:case 421:ee[te-2].push(ee[te-1]);break}},table:[t(u,n,{3:1,4:2,10:3}),{1:[3]},t(r,[2,307],{5:4,7:5,321:6,214:7,8:8,96:9,215:10,17:11,21:12,97:16,38:17,6:[2,238],13:e,16:e,45:e,197:e,224:e,229:e,308:e,24:[1,13],32:[1,14],36:[1,15],41:i}),t([6,13,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],[2,3],{322:19,11:20,14:21,12:[1,22],15:[1,23]}),{6:[1,24]},{6:[2,240]},{6:[2,241]},{6:[2,242]},{6:[2,243],9:25,84:26,85:o},{6:[2,239]},t(c,[2,411],{216:28,217:29}),t(s,[2,249],{18:30}),t(s,[2,251],{22:31}),t(l,[2,255],{25:32,27:33,29:[1,34]}),{13:f,16:d,33:35,39:[1,37],44:39,55:40,87:h,139:38,307:43,308:p,323:36},t(s,[2,267],{37:46}),t(b,[2,326],{98:47,103:49,106:50,117:55,130:61,100:[1,48],110:[1,51],113:[1,52],115:[1,53],116:[1,54],131:[1,62],329:[1,56],330:[1,57],331:[1,58],332:[1,59],333:[1,60]}),{39:[1,63],40:64,43:65,44:66,45:m,87:h},t(y,[2,273],{42:68,324:69,325:[1,70],326:[1,71]}),t(u,[2,248]),t(u,[2,245]),t(u,[2,246]),{13:[1,72]},{16:[1,73]},{1:[2,1]},{6:[2,2]},{6:[2,244]},{45:[1,77],85:[1,78],86:74,87:[1,75],89:[1,76]},t([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],[2,120],{337:[1,79]}),t(g,[2,418],{218:80,222:81,229:[1,82]}),{19:83,28:_,29:v,52:84,53:T,56:85},{19:88,28:_,29:v,52:89,53:T,56:85},t(s,[2,253],{26:90}),{28:[1,91],52:92,53:T},t(w,[2,385],{181:93,182:94,183:95,31:[2,383]}),t(A,[2,263],{34:96}),t(A,[2,261],{44:39,55:40,307:43,139:97,13:f,16:d,87:h,308:p}),t(A,[2,262]),t(M,[2,259]),t(F,[2,143]),t(F,[2,144]),t([6,13,16,28,29,31,39,45,47,48,53,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,145]),t(O,[2,211]),t(O,[2,212]),t(O,[2,213]),t(O,[2,214]),{19:98,28:_,29:v,52:99,53:T,56:85},{6:[2,309],99:100,193:[1,101]},t(E,[2,311],{101:102,328:[1,103]}),t(x,[2,317],{104:104,328:[1,105]}),t(L,[2,322],{107:106,328:[1,107]}),{111:108,112:[2,324],328:[1,109]},{29:V,114:110},{29:V,114:112},{29:V,114:113},{118:114,123:[1,115],125:116,126:$},t(Q,[2,315]),t(Q,[2,316]),t(ie,[2,319]),t(ie,[2,320]),t(ie,[2,321]),t(b,[2,327]),{13:f,16:d,55:118,307:43,308:p},t(s,[2,12]),t(s,[2,13],{44:66,43:119,45:m,87:h}),t(ue,[2,269]),t(ue,[2,15]),{13:f,16:d,44:136,45:pe,46:120,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},t(y,[2,14]),t(y,[2,274]),t(y,[2,271]),t(y,[2,272]),t(u,[2,4]),{13:[1,177]},t(Se,[2,39]),{29:[1,178]},{29:[1,179]},{87:[1,181],91:180},{45:[1,187],87:[1,185],89:[1,186],93:182,165:183,166:184},t(c,[2,410]),t([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337],[2,121],{338:[1,188]}),{13:f,16:d,45:[1,193],55:194,197:Xe,219:189,220:190,223:191,224:[1,192],307:43,308:p},t(g,[2,419]),t(Y,Ee,{20:196,59:197,69:198,70:Ne}),t(s,[2,250]),{29:Ce,57:200},t(E,[2,279],{54:202,327:[1,203]}),{29:[2,282]},t(Ue,tt,{23:204,58:205,62:206,63:ut}),t(s,[2,252]),{19:208,28:_,29:v,52:209,53:T,56:85},{29:[1,210]},t(l,[2,256]),{31:[1,211]},{31:[2,384]},{13:f,16:d,44:215,45:rt,55:220,82:X,87:h,89:lt,145:212,172:221,185:213,187:214,231:ne,236:216,237:222,255:154,257:155,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,309:j,310:D,311:217,312:q},t(W,[2,265],{56:85,35:227,52:228,19:229,28:_,29:v,53:T}),t(M,[2,260]),t(Ue,tt,{58:205,62:206,23:230,63:ut}),t(s,[2,268]),{6:[2,45]},t(u,n,{10:3,4:231}),{13:f,16:d,55:232,307:43,308:p},t(E,[2,312]),{105:233,112:be,122:234,132:[1,237],134:235,327:[1,238],334:[1,239]},t(x,[2,318]),t(E,he,{108:240,133:242,112:Pe,132:Be}),t(L,[2,323]),{112:[1,244]},{112:[2,325]},t(ze,[2,50]),t(w,Ke,{135:245,136:246,143:247,144:248,31:ct,112:ct}),t(ze,[2,51]),t(ze,[2,52]),t(Ze,[2,328],{119:249}),{29:V,114:250},t(Ze,[2,56]),{29:V,114:251},t(b,[2,59]),t(ue,[2,270]),{47:[1,252]},t(Ye,[2,150]),t(Hr,[2,428],{240:253}),t(Je,[2,430],{244:254}),t(Je,[2,155],{248:255,249:256,250:[2,438],290:[1,257],341:[1,258],342:[1,259],343:[1,260],344:[1,261],345:[1,262],346:[1,263]}),t(oe,[2,440],{252:264}),t(Oe,[2,448],{260:265}),{13:f,16:d,44:136,45:pe,55:133,67:132,68:134,77:131,82:X,87:h,172:135,255:154,257:155,264:266,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},{13:f,16:d,44:136,45:pe,55:133,67:132,68:134,77:131,82:X,87:h,172:135,255:154,257:155,264:267,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},{13:f,16:d,44:136,45:pe,55:133,67:132,68:134,77:131,82:X,87:h,172:135,255:154,257:155,264:268,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},t(Oe,[2,167]),t(Oe,[2,168]),t(Oe,[2,169]),t(Oe,[2,170],{176:269,45:Ie,89:nt}),t(Oe,[2,171]),t(Oe,[2,172]),t(Oe,[2,173]),t(Oe,[2,174]),{13:f,16:d,44:136,45:pe,46:272,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},t(it,[2,176]),{89:[1,273]},{45:[1,274]},{45:[1,275]},{45:[1,276]},{45:[1,277]},{45:[1,278]},{45:Ot,89:ur,179:279},{45:[1,282]},{45:[1,284],89:[1,283]},{279:[1,285]},t(zt,[2,192],{292:[1,286],293:[1,287]}),t(zt,[2,195]),t(zt,[2,196]),t(zt,[2,197]),t(zt,[2,198]),t(zt,[2,199]),t(zt,[2,200]),{13:f,16:d,44:39,55:40,82:X,87:h,139:289,172:291,255:154,257:155,266:290,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,320:288},{45:[1,292]},{45:[1,293]},{45:[1,294]},t(Bi,[2,452]),t(Bi,[2,453]),t(Bi,[2,454]),t(Bi,[2,455]),t(Bi,[2,456]),{279:[2,458]},t(bn,[2,207]),t(bn,[2,208]),t(bn,[2,209]),t(bn,[2,210]),t(zt,[2,201]),t(zt,[2,202]),t(zt,[2,203]),t(zt,[2,204]),t(zt,[2,205]),t(zt,[2,206]),t(u,[2,5]),t(Zt,[2,297],{88:295}),t(Dn,[2,299],{90:296}),{48:[1,297],87:[1,298]},t(Dr,[2,301]),t(Se,[2,43]),t(Se,[2,82]),t(Se,[2,83]),{29:[1,299]},{29:[1,300]},{87:[1,302],169:301},t(c,[2,412]),t(ni,[2,123]),t(ni,[2,416],{221:303,339:304,39:[1,306],263:[1,307],340:[1,305]}),t(Pr,[2,124]),{13:f,16:d,45:[1,311],55:194,89:[1,310],197:Xe,223:312,225:308,226:309,229:Tf,307:43,308:p},t(c,e,{215:10,214:314}),t(Pr,[2,236]),t(Pr,[2,237]),t(Gr,[2,6]),t(Lh,[2,287],{60:315,72:316,73:[1,317]}),t(Y,[2,286]),{13:f,16:d,45:pe,55:323,67:321,68:322,71:318,77:320,79:319,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,307:43,308:p,346:U,347:R,348:C,349:J,350:ae,351:_e},t([6,31,63,70,73,81,83,85],[2,20]),t(w,wf,{38:17,49:324,147:325,17:326,21:327,148:328,154:329,155:330,29:_n,31:_n,85:_n,112:_n,159:_n,160:_n,161:_n,163:_n,164:_n,41:i}),{13:f,16:d,55:331,307:43,308:p},t(E,[2,280]),t(Gr,[2,7]),t(Y,Ee,{59:197,69:198,20:332,70:Ne}),t(Ue,[2,284]),{64:[1,333]},t(Ue,tt,{58:205,62:206,23:334,63:ut}),t(s,[2,254]),t(w,Ke,{144:248,30:335,143:336,31:[2,257]}),t(s,[2,100]),{31:[2,387],184:337,335:[1,338]},{13:f,16:d,44:39,55:40,87:h,139:342,186:339,190:340,195:341,197:on,307:43,308:p},t(PS,[2,389],{44:39,55:40,307:43,190:340,195:341,139:342,188:344,189:345,186:346,13:f,16:d,87:h,197:on,308:p}),t($i,[2,227]),t($i,[2,228]),t($i,[2,229]),{13:f,16:d,44:215,45:rt,55:220,82:X,87:h,89:lt,172:221,185:351,187:350,200:348,230:347,231:ne,234:349,236:216,237:222,255:154,257:155,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,309:j,310:D,311:217,312:q},{13:f,16:d,44:39,55:40,87:h,139:342,186:352,190:340,195:341,197:on,307:43,308:p},t($i,[2,146]),t($i,[2,147]),t($i,[2,148]),t($i,[2,149]),{13:f,16:d,44:354,55:355,82:X,87:h,172:357,237:356,255:154,257:155,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,309:j,310:D,311:358,312:q,313:353},t(RF,[2,215]),t(RF,[2,216]),t(Ue,tt,{58:205,62:206,23:359,63:ut}),t(A,[2,264]),t(W,[2,266]),t(Gr,[2,11]),t(r,[2,308],{6:[2,310]}),t(ze,[2,313],{102:360,120:361,121:[1,362]}),t(ze,[2,47]),t(ze,[2,63]),t(ze,[2,64]),{13:f,16:d,55:363,307:43,308:p},t(ze,[2,336]),t(ze,[2,337]),t(ze,[2,338]),{109:[1,364]},t(mne,[2,60]),{13:f,16:d,55:365,307:43,308:p},t(E,[2,335]),{13:f,16:d,55:366,307:43,308:p},{31:[1,367]},t(Sf,[2,341],{137:368}),t(Sf,[2,340]),{13:f,16:d,44:215,45:rt,55:220,82:X,87:h,89:lt,145:369,172:221,185:213,187:214,231:ne,236:216,237:222,255:154,257:155,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,309:j,310:D,311:217,312:q},{28:[1,370],127:371,128:[1,372]},t(Ze,[2,330],{124:373,125:374,126:$}),t(Ze,[2,57]),{44:375,87:h},t(Ye,[2,151],{241:376,242:[1,377]}),t(Hr,[2,153],{245:378,246:[1,379]}),{13:f,16:d,44:136,45:pe,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,247:380,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},{250:[1,381]},t(vr,[2,432]),t(vr,[2,433]),t(vr,[2,434]),t(vr,[2,435]),t(vr,[2,436]),t(vr,[2,437]),{250:[2,439]},t([47,48,193,242,246,250,272,290,341,342,343,344,345,346],[2,158],{253:382,254:383,255:384,257:385,263:[1,386],265:[1,387],297:k,298:Z,299:de,300:le,301:De,302:Qe}),t(oe,[2,162],{261:388,262:389,39:NF,338:FF}),t(Oe,[2,164]),t(Oe,[2,165]),t(Oe,[2,166]),t(it,[2,95]),t(it,[2,96]),t(vr,[2,377],{177:392,325:[1,393]}),{48:[1,394]},t(it,[2,177]),{13:f,16:d,44:136,45:pe,46:395,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},{13:f,16:d,44:136,45:pe,46:396,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},{13:f,16:d,44:136,45:pe,46:397,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},{13:f,16:d,44:136,45:pe,46:398,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},{13:f,16:d,44:136,45:pe,46:399,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},t(it,[2,183]),t(it,[2,98]),t(vr,[2,381],{180:400}),{87:[1,401]},t(it,[2,185]),{13:f,16:d,44:136,45:pe,46:402,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},{29:Ce,57:403},t(zt,[2,193]),{13:f,16:d,55:404,307:43,308:p},{13:f,16:d,44:39,55:40,87:h,139:342,195:405,197:on,307:43,308:p},t(Aa,[2,233]),t(Aa,[2,234]),t(Aa,[2,235]),t(gne,[2,459],{281:406,325:[1,407]}),t(vr,[2,463],{284:408,325:[1,409]}),t(vr,[2,465],{286:410,325:[1,411]}),{13:f,16:d,31:[1,412],55:414,82:X,171:413,172:415,173:416,174:YA,255:154,257:155,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:ZA},{31:[1,419],89:[1,420]},{29:[1,421]},t(Dr,[2,302]),t(Zt,[2,367],{167:422}),t(Dn,[2,369],{168:423}),{48:[1,424],87:[1,425]},t(Dr,[2,371]),t(ni,[2,122]),t(ni,[2,417]),t(ni,[2,413]),t(ni,[2,414]),t(ni,[2,415]),t(Pr,[2,125]),t(Pr,[2,127]),t(Pr,[2,128]),t(vne,[2,420],{227:426}),t(Pr,[2,130]),{13:f,16:d,55:194,197:Xe,223:427,307:43,308:p},{48:[1,428]},t(Ea,[2,289],{61:429,80:430,81:[1,431],83:[1,432]}),t(Lh,[2,288]),{64:[1,433]},t(Y,[2,29],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:434,13:f,16:d,45:pe,268:re,269:je,270:qe,271:$e,273:ge,274:we,276:G,277:N,279:P,280:S,283:I,285:B,308:p,346:U,347:R,348:C,349:J,350:ae,351:_e}),t(Tne,[2,293]),t(DF,[2,92]),t(DF,[2,93]),t(DF,[2,94]),{45:Ie,89:nt,176:269},{31:[1,435]},{31:[1,436]},{19:437,28:_,29:v,56:85},{19:438,28:_,29:v,56:85},t(Of,[2,355],{149:439}),t(Of,[2,354]),{13:f,16:d,44:215,45:eE,55:220,82:X,87:h,89:lt,156:440,172:221,185:441,203:442,231:tE,236:216,237:222,255:154,257:155,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,309:j,310:D,311:217,312:q},t(A,[2,19]),t(Ea,[2,21]),{13:f,16:d,44:450,45:wne,55:323,65:445,66:446,67:447,68:448,87:h,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,307:43,308:p,346:U,347:R,348:C,349:J,350:ae,351:_e},t(Gr,[2,8]),{31:[1,451]},{31:[2,258]},{31:[2,101]},t(w,[2,386],{31:[2,388]}),t(PS,[2,102]),t(Af,[2,391],{191:452}),t(w,[2,395],{196:453,198:454}),t(w,[2,108]),t(w,[2,109]),t(PS,[2,103]),t(PS,[2,104]),t(PS,[2,390]),{13:f,16:d,44:215,45:rt,48:[1,455],55:220,82:X,87:h,89:lt,172:221,185:351,187:350,200:456,231:ne,234:349,236:216,237:222,255:154,257:155,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,309:j,310:D,311:217,312:q},t(rE,[2,424]),t(Sne,[2,136]),t(Sne,[2,137]),t(PF,[2,140]),{232:[1,457]},{13:f,16:d,44:39,55:40,87:h,139:342,195:458,197:on,307:43,308:p},t(Aa,[2,219]),t(Aa,[2,220]),t(Aa,[2,221]),t(Aa,[2,222]),t(Aa,[2,223]),t(Gr,[2,10]),t(ze,[2,46]),t(ze,[2,314]),{112:be,122:459},t(ze,[2,62]),t(E,he,{133:242,108:460,112:Pe,132:Be}),t(mne,[2,61]),t(ze,[2,49]),t([6,28,126,128,193],[2,65]),{31:[2,66],112:[1,462],138:461},t(Sf,[2,351],{146:463,335:[1,464]}),{29:Ce,57:465},t(Ze,[2,329]),t(E,[2,332],{129:466,327:[1,467]}),t(Ze,[2,55]),t(Ze,[2,331]),{48:[1,468]},t(Hr,[2,429]),{13:f,16:d,44:136,45:pe,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,239:469,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},t(Je,[2,431]),{13:f,16:d,44:136,45:pe,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,243:470,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},t(Je,[2,156]),{45:Ot,89:ur,179:471},t(oe,[2,441]),{13:f,16:d,44:136,45:pe,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,251:472,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},t(Oe,[2,444],{256:473}),t(Oe,[2,446],{258:474}),t(vr,[2,442]),t(vr,[2,443]),t(Oe,[2,449]),{13:f,16:d,44:136,45:pe,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,255:154,257:155,259:475,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},t(vr,[2,450]),t(vr,[2,451]),t(vr,[2,379],{178:476}),t(vr,[2,378]),t([6,13,16,29,31,39,45,47,48,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,175]),{48:[1,477]},{48:[1,478]},{272:[1,479]},{272:[1,480]},{272:[1,481]},{13:f,16:d,44:136,45:pe,46:482,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},{48:[1,483]},{48:[1,484]},t(it,[2,187]),t(zt,[2,194]),{13:f,16:d,44:39,55:40,82:X,87:h,139:289,172:291,255:154,257:155,266:290,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,320:485},{13:f,16:d,39:[1,487],44:136,45:pe,46:488,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,282:486,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},t(gne,[2,460]),{13:f,16:d,44:136,45:pe,46:489,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},t(vr,[2,464]),{13:f,16:d,44:136,45:pe,46:490,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},t(vr,[2,466]),t(Se,[2,40]),t(Zt,[2,298]),t(LS,[2,87]),t(LS,[2,88]),t(LS,[2,89]),t(LS,[2,90]),{13:f,16:d,55:492,82:X,172:493,255:154,257:155,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,311:494,312:q,315:491},t(Se,[2,41]),t(Dn,[2,300]),t(jS,[2,303],{92:495}),{13:f,16:d,31:[1,496],55:414,82:X,171:497,172:415,173:416,174:YA,255:154,257:155,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:ZA},{31:[1,498],89:[1,499]},{29:[1,500]},t(Dr,[2,372]),{13:f,16:d,48:[2,422],55:194,197:Xe,223:312,226:502,228:501,229:Tf,307:43,308:p},t(Pr,[2,131]),t(Pr,[2,126]),t(Ea,[2,22]),t(Ea,[2,290]),{82:[1,503]},{82:[1,504]},{13:f,16:d,44:510,45:pe,55:323,67:321,68:322,74:505,75:506,76:One,77:320,78:Ane,79:509,87:h,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,307:43,308:p,346:U,347:R,348:C,349:J,350:ae,351:_e},t(Tne,[2,294]),t(Ene,[2,69]),t(Ene,[2,70]),t(Y,Ee,{59:197,69:198,20:511,70:Ne}),t(Ue,tt,{58:205,62:206,23:512,63:ut}),{29:[2,375],31:[2,71],84:522,85:o,112:[1,518],150:513,151:514,158:515,159:[1,516],160:[1,517],161:[1,519],163:[1,520],164:[1,521],175:523},t(Of,[2,363],{157:524,335:[1,525]}),t(c,e,{215:10,202:526,205:527,208:528,214:529,44:530,87:h}),t(nE,[2,399],{215:10,205:527,208:528,214:529,44:530,204:531,202:532,13:e,16:e,45:e,197:e,224:e,229:e,308:e,87:h}),{13:f,16:d,44:215,45:eE,55:220,82:X,87:h,89:lt,172:221,185:351,203:536,212:534,231:tE,233:533,234:535,236:216,237:222,255:154,257:155,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,309:j,310:D,311:217,312:q},t(c,e,{215:10,205:527,208:528,214:529,44:530,202:537,87:h}),t(Ue,[2,23],{307:43,267:139,275:146,278:149,55:323,67:447,68:448,44:450,66:538,13:f,16:d,45:wne,87:h,268:re,269:je,270:qe,271:$e,273:ge,274:we,276:G,277:N,279:P,280:S,283:I,285:B,308:p,346:U,347:R,348:C,349:J,350:ae,351:_e}),t(Ef,[2,291]),t(Ef,[2,24]),t(Ef,[2,25]),{13:f,16:d,44:136,45:pe,46:539,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},t(Ef,[2,28]),t(Ue,tt,{58:205,62:206,23:540,63:ut}),t([31,112,232,318,335],[2,105],{192:541,193:[1,542]}),t(Af,[2,107]),{13:f,16:d,44:215,45:rt,55:220,82:X,87:h,89:lt,172:221,185:351,187:350,199:543,200:544,231:ne,234:349,236:216,237:222,255:154,257:155,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,309:j,310:D,311:217,312:q},t(xne,[2,132]),t(rE,[2,425]),t(xne,[2,133]),{13:f,16:d,44:354,55:355,82:X,87:h,172:357,237:356,255:154,257:155,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,309:j,310:D,311:358,312:q,313:545},t(ze,[2,54]),t(ze,[2,48]),t(Sf,[2,342]),{13:f,16:d,44:39,55:40,87:h,139:546,307:43,308:p},t(Sf,[2,68]),t(w,[2,350],{31:Ine,112:Ine}),t(ze,[2,53]),{13:f,16:d,55:547,307:43,308:p},t(E,[2,333]),t(ue,[2,16]),t(Hr,[2,152]),t(Je,[2,154]),t(Je,[2,157]),t(oe,[2,159]),t(oe,[2,160],{262:389,261:548,39:NF,338:FF}),t(oe,[2,161],{262:389,261:549,39:NF,338:FF}),t(Oe,[2,163]),{13:f,16:d,44:136,45:pe,46:550,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},t(it,[2,178]),t(it,[2,179]),{13:f,16:d,44:136,45:pe,46:551,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},{13:f,16:d,44:136,45:pe,46:552,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},{13:f,16:d,44:136,45:pe,46:553,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},{48:[1,554],272:[1,555]},t(it,[2,184]),t(it,[2,186]),{314:[1,556]},{48:[1,557]},{48:[2,461]},{48:[2,462]},{48:[1,558]},{48:[2,467],193:[1,561],287:559,288:560},{13:f,16:d,55:194,197:Xe,223:562,307:43,308:p},t(LF,[2,224]),t(LF,[2,225]),t(LF,[2,226]),{31:[1,563],45:Rne,94:564},t(Se,[2,84]),t(Zt,[2,368]),t(Se,[2,85]),t(Dn,[2,370]),t(jS,[2,373],{170:566}),{48:[1,567]},{48:[2,423],337:[1,568]},t(Ea,[2,35],{83:[1,569]}),t(Ea,[2,36],{81:[1,570]}),t(Lh,[2,30],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:509,44:510,75:571,13:f,16:d,45:pe,76:One,78:Ane,87:h,268:re,269:je,270:qe,271:$e,273:ge,274:we,276:G,277:N,279:P,280:S,283:I,285:B,308:p,346:U,347:R,348:C,349:J,350:ae,351:_e}),t(jh,[2,295]),{45:pe,77:572},{45:pe,77:573},t(jh,[2,33]),t(jh,[2,34]),{31:[2,275],50:574,84:575,85:o},{31:[2,277],51:576,84:577,85:o},t(Of,[2,356]),t(Nne,[2,357],{152:578,335:[1,579]}),t(Vi,[2,74]),{29:Ce,57:580},{29:Ce,57:581},{13:f,16:d,44:39,55:40,87:h,139:582,307:43,308:p},t(Fne,[2,365],{162:583,328:[1,584]}),{13:f,16:d,45:pe,55:323,67:321,68:322,77:320,79:585,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,307:43,308:p,346:U,347:R,348:C,349:J,350:ae,351:_e},{45:[1,586]},t(Vi,[2,81]),{29:Ce,57:587},t(Of,[2,73]),t(w,[2,362],{29:Ui,31:Ui,85:Ui,112:Ui,159:Ui,160:Ui,161:Ui,163:Ui,164:Ui}),t(nE,[2,112]),t(Mh,[2,401],{206:588}),t(w,[2,405],{209:589,210:590}),t(w,[2,403]),t(w,[2,404]),t(nE,[2,113]),t(nE,[2,400]),{13:f,16:d,44:215,45:eE,48:[1,591],55:220,82:X,87:h,89:lt,172:221,185:351,203:536,212:592,231:tE,234:535,236:216,237:222,255:154,257:155,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,309:j,310:D,311:217,312:q},t(rE,[2,426]),t(PF,[2,138]),t(PF,[2,139]),{232:[1,593]},t(Ef,[2,292]),{47:[1,595],48:[1,594]},t(Gr,[2,9]),t(Af,[2,392]),t(Af,[2,393],{44:39,55:40,307:43,195:341,139:342,194:596,190:597,13:f,16:d,87:h,197:on,308:p}),t(Af,[2,110],{272:[1,598]}),t(iE,[2,397],{201:599,316:600,317:[1,601]}),{314:[1,602]},{29:[1,603]},t(Ze,[2,58]),t(Oe,[2,445]),t(Oe,[2,447]),{48:[1,604],272:[1,605]},{48:[1,606]},{272:[1,607]},{272:[1,608]},t(it,[2,99]),t(vr,[2,382]),t([13,16,39,47,48,87,193,197,242,246,250,263,265,272,290,297,298,299,300,301,302,308,314,338,341,342,343,344,345,346],[2,232]),t(it,[2,188]),t(it,[2,189]),{48:[1,609]},{48:[2,468]},{289:[1,610]},{13:f,16:d,55:492,82:X,172:493,255:154,257:155,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,311:494,312:q,315:611},t(Se,[2,42]),t(jS,[2,304]),{13:f,16:d,55:414,82:X,95:612,171:613,172:415,173:416,174:YA,255:154,257:155,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:ZA},{31:[1,614],45:Rne,94:615},t(Pr,[2,129]),t(vne,[2,421]),{82:[1,616]},{82:[1,617]},t(jh,[2,296]),t(jh,[2,31]),t(jh,[2,32]),{31:[2,17]},{31:[2,276]},{31:[2,18]},{31:[2,278]},t(w,wf,{155:330,153:618,154:619,29:Qi,31:Qi,85:Qi,112:Qi,159:Qi,160:Qi,161:Qi,163:Qi,164:Qi}),t(Nne,[2,358]),t(Vi,[2,75]),t(Vi,[2,76]),{29:Ce,57:620},{13:f,16:d,44:39,55:40,87:h,139:621,307:43,308:p},t(Fne,[2,366]),t(Vi,[2,79]),{13:f,16:d,44:136,45:pe,46:622,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},t(Vi,[2,91],{336:[1,623]}),t([29,31,85,112,159,160,161,163,164,232,318,335],[2,114],{207:624,193:[1,625]}),t(Mh,[2,117]),{13:f,16:d,44:215,45:eE,55:220,82:X,87:h,89:lt,172:221,185:351,203:536,211:626,212:627,231:tE,234:535,236:216,237:222,255:154,257:155,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,309:j,310:D,311:217,312:q},t($i,[2,134]),t(rE,[2,427]),t($i,[2,135]),t(Ef,[2,26]),{44:628,87:h},t(Af,[2,106]),t(Af,[2,394]),t(w,[2,396]),t(iE,[2,111]),t(iE,[2,398]),{13:f,16:d,44:39,55:40,87:h,139:342,186:629,190:340,195:341,197:on,307:43,308:p},t(RF,[2,217]),t(w,Ke,{144:248,140:630,143:631,31:[2,343]}),t(it,[2,97]),t(vr,[2,380]),t(it,[2,180]),{13:f,16:d,44:136,45:pe,46:632,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},{13:f,16:d,44:136,45:pe,46:633,55:133,67:132,68:134,77:131,82:X,87:h,172:135,224:me,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Fe,264:130,265:ve,266:137,267:139,268:re,269:je,270:qe,271:$e,273:ge,274:we,275:146,276:G,277:N,278:149,279:P,280:S,283:I,285:B,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:xe,346:U,347:R,348:C,349:J,350:ae,351:_e},t(it,[2,190]),{290:[1,634]},{314:[1,635]},{13:f,16:d,48:[1,636],55:414,82:X,171:637,172:415,173:416,174:YA,255:154,257:155,291:150,294:z,295:H,296:K,297:k,298:Z,299:de,300:le,301:De,302:Qe,303:Le,304:ce,305:se,306:ye,307:43,308:p,312:ZA},t(Dne,[2,305]),t(Se,[2,86]),t(jS,[2,374]),t(Ea,[2,37]),t(Ea,[2,38]),t(Of,[2,72]),t(Of,[2,360]),t(Vi,[2,77]),{29:Ce,57:638},{47:[1,639]},{29:[2,376]},t(Mh,[2,402]),t(Mh,[2,115],{215:10,208:528,214:529,44:530,205:640,13:e,16:e,45:e,197:e,224:e,229:e,308:e,87:h}),t(Mh,[2,118],{272:[1,641]}),t(aE,[2,407],{213:642,319:643,317:[1,644]}),{48:[1,645]},{318:[1,646]},{31:[1,647]},{31:[2,344]},{48:[1,648]},{48:[1,649]},{291:650,303:Le,304:ce,305:se,306:ye},t(LS,[2,218]),t(jS,[2,44]),t(Dne,[2,306]),t(Vi,[2,78]),{44:651,87:h},t(Mh,[2,116]),t(w,[2,406]),t(aE,[2,119]),t(aE,[2,408]),t(c,e,{215:10,205:527,208:528,214:529,44:530,202:652,87:h}),t(Ef,[2,27]),t(iE,[2,230]),t(Pne,[2,345],{141:653,335:[1,654]}),t(it,[2,181]),t(it,[2,182]),{48:[2,191]},{48:[1,655]},{318:[1,656]},t(w,Ke,{144:248,142:657,143:658,31:Lne,112:Lne}),t(Pne,[2,346]),t(Vi,[2,80]),t(aE,[2,231]),t(Sf,[2,67]),t(Sf,[2,348])],defaultActions:{5:[2,240],6:[2,241],7:[2,242],9:[2,239],24:[2,1],25:[2,2],26:[2,244],87:[2,282],94:[2,384],100:[2,45],109:[2,325],166:[2,458],263:[2,439],336:[2,258],337:[2,101],487:[2,461],488:[2,462],560:[2,468],574:[2,17],575:[2,276],576:[2,18],577:[2,278],623:[2,376],631:[2,344],650:[2,191]},parseError:function(Me,Ge){if(Ge.recoverable)this.trace(Me);else{var We=new Error(Me);throw We.hash=Ge,We}},parse:function(Me){var Ge=this,We=[0],dt=[null],pt=[],ee=this.table,mn="",te=0,xa=0,cE=2,lE=1,dE=pt.slice.call(arguments,1),pr=Object.create(this.lexer),vi={yy:{}};for(var Nf in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Nf)&&(vi.yy[Nf]=this.yy[Nf]);pr.setInput(Me,vi.yy),vi.yy.lexer=pr,vi.yy.parser=this,typeof pr.yylloc>"u"&&(pr.yylloc={});var Uh=pr.yylloc;pt.push(Uh);var zF=pr.options&&pr.options.ranges;typeof vi.yy.parseError=="function"?this.parseError=vi.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var fE=function(){var Qh;return Qh=pr.lex()||lE,typeof Qh!="number"&&(Qh=Ge.symbols_[Qh]||Qh),Qh},At,Ct,vt,jr,Mr={},hE,Gi,kne,pE;;){if(Ct=We[We.length-1],this.defaultActions[Ct]?vt=this.defaultActions[Ct]:((At===null||typeof At>"u")&&(At=fE()),vt=ee[Ct]&&ee[Ct][At]),typeof vt>"u"||!vt.length||!vt[0]){var XF="";pE=[];for(hE in ee[Ct])this.terminals_[hE]&&hE>cE&&pE.push("'"+this.terminals_[hE]+"'");pr.showPosition?XF="Parse error on line "+(te+1)+`:
`+pr.showPosition()+`
Expecting `+pE.join(", ")+", got '"+(this.terminals_[At]||At)+"'":XF="Parse error on line "+(te+1)+": Unexpected "+(At==lE?"end of input":"'"+(this.terminals_[At]||At)+"'"),this.parseError(XF,{text:pr.match,token:this.terminals_[At]||At,line:pr.yylineno,loc:Uh,expected:pE})}if(vt[0]instanceof Array&&vt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ct+", token: "+At);switch(vt[0]){case 1:We.push(At),dt.push(pr.yytext),pt.push(pr.yylloc),We.push(vt[1]),At=null,xa=pr.yyleng,mn=pr.yytext,te=pr.yylineno,Uh=pr.yylloc;break;case 2:if(Gi=this.productions_[vt[1]][1],Mr.$=dt[dt.length-Gi],Mr._$={first_line:pt[pt.length-(Gi||1)].first_line,last_line:pt[pt.length-1].last_line,first_column:pt[pt.length-(Gi||1)].first_column,last_column:pt[pt.length-1].last_column},zF&&(Mr._$.range=[pt[pt.length-(Gi||1)].range[0],pt[pt.length-1].range[1]]),jr=this.performAction.apply(Mr,[mn,xa,te,vi.yy,vt[1],dt,pt].concat(dE)),typeof jr<"u")return jr;Gi&&(We=We.slice(0,-1*Gi*2),dt=dt.slice(0,-1*Gi),pt=pt.slice(0,-1*Gi)),We.push(this.productions_[vt[1]][0]),dt.push(Mr.$),pt.push(Mr._$),kne=ee[We[We.length-2]][We[We.length-1]],We.push(kne);break;case 3:return!0}}return!0}},uE=aP().Wildcard,oE="http://www.w3.org/1999/02/22-rdf-syntax-ns#",pwe=oE+"type",ywe=oE+"first",bwe=oE+"rest",jne=oE+"nil",sE="http://www.w3.org/2001/XMLSchema#",Mne=sE+"integer",qne=sE+"decimal",Cne=sE+"double",_we=sE+"boolean",xf="",Bne="",$ne="";function rn(Ve){return Ve.toLowerCase()}function If(Ve,Me){return Ve.push(Me),Ve}function qh(Ve,Me){return Ve.push.apply(Ve,Me),Ve}function hr(Ve){Ve||(Ve={});for(var Me=1,Ge=arguments.length,We;Me<Ge&&(We=arguments[Me]||{});Me++)for(var dt in We)Ve[dt]=We[dt];return Ve}function mi(){for(var Ve=[],Me=0,Ge=arguments.length;Me<Ge;Me++)Ve=Ve.concat.apply(Ve,arguments[Me]);return Ve}function MS(Ve){if(Ve[0]==="<"&&(Ve=Ve.substring(1,Ve.length-1)),/^[a-z][a-z0-9.+-]*:/i.test(Ve))return Ve;if(!Et.base)throw new Error("Cannot resolve relative IRI "+Ve+" because no base IRI was set.");switch(xf!==Et.base&&(xf=Et.base,Bne=xf.replace(/[^\/:]*$/,""),$ne=xf.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),Ve[0]){case void 0:return xf;case"#":return xf+Ve;case"?":return xf.replace(/(?:\?.*)?$/,Ve);case"/":return $ne+Ve;default:return Bne+Ve}}function MF(Ve){if(Ve){var Me=Ve[0];if(Me==="?"||Me==="$")return Et.factory.variable(Ve.substr(1))}return Ve}function Lr(Ve,Me){return{type:"operation",operator:Ve,args:Me||[]}}function Ch(Ve,Me){var Ge={expression:Ve==="*"?new uE:Ve};if(Me)for(var We in Me)Ge[We]=Me[We];return Ge}function Bh(Ve,Me){return{type:"path",pathType:Ve,items:Me}}function qF(Ve,Me){for(var Ge=0,We=Me.length,dt;Ge<We&&(dt=Me[Ge]);Ge++)Ve=Lr(dt[0],[Ve,dt[1]]);return Ve}function Rf(Ve,Me){var Ge=[],We=[],dt=Ve.length,pt,ee={};if(!dt)return null;for(var mn=0;mn<dt&&(pt=Ve[mn]);mn++)(pt.named?We:Ge).push(pt.iri);return ee[Me||"from"]={default:Ge,named:We},ee}function $h(Ve){return parseInt(Ve,10)}function CF(Ve){return Ve.type==="group"&&Ve.patterns.length===1?Ve.patterns[0]:Ve}function gi(Ve,Me){return Me&&Me.termType!=="NamedNode"&&(Me=Et.factory.namedNode(Me)),Et.factory.literal(Ve,Me)}function mwe(Ve,Me){return Et.factory.literal(Ve,Me)}function BF(Ve,Me,Ge){if(!("termType"in Me))throw new Error("Nested triples cannot contain paths");return Et.factory.quad(Ve,Me,Ge)}function Hi(Ve,Me,Ge,We){var dt={};return Ve!=null&&(dt.subject=Ve),Me!=null&&(dt.predicate=Me),Ge!=null&&(dt.object=Ge),We!=null&&(dt.annotations=We),dt}function qS(Ve){return typeof Ve=="string"?Ve.startsWith("e_")?Et.factory.blankNode(Ve):Et.factory.blankNode("e_"+Ve):Et.factory.blankNode("g_"+Vne++)}var Vne=0;Et._resetBlanks=function(){Vne=0};var gwe=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,vwe={"\\":"\\","'":"'",'"':'"',t:"	",b:"\b",n:`
`,r:"\r",f:"\f"},Twe=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,$F=String.fromCharCode;function Une(Ve,Me){Ve=Ve.substring(Me,Ve.length-Me);try{Ve=Ve.replace(gwe,function(Ge,We,dt,pt){var ee;if(We){if(ee=parseInt(We,16),isNaN(ee))throw new Error;return $F(ee)}else if(dt){if(ee=parseInt(dt,16),isNaN(ee))throw new Error;return ee<65535?$F(ee):$F(55296+((ee-=65536)>>10),56320+(ee&1023))}else{var mn=vwe[pt];if(!mn)throw new Error;return mn}})}catch{return""}if(Twe.exec(Ve))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+Ve);return Ve}function wwe(Ve){var Me=qS(),Ge=Me,We=[],dt,pt=[];Ve.forEach(function(xa){We.push(xa.entity),qh(pt,xa.triples)});for(var ee=0,mn=0,te=We.length,dt=Array(te*2);ee<te;)dt[mn++]=Hi(Ge,Et.factory.namedNode(ywe),We[ee]),dt[mn++]=Hi(Ge,Et.factory.namedNode(bwe),Ge=++ee<te?qS():Et.factory.namedNode(jne));return{entity:Me,triples:qh(dt,pt)}}function Swe(Ve){var Me=qS();return{entity:Me,triples:Ve.map(function(Ge){return hr(Hi(Me),Ge)})}}function VF(Ve,Me,Ge){var We=[],dt=[];return Me.forEach(function(pt){let ee=null;pt.annotation&&(ee=pt.annotation,pt=pt.object),We.push(Hi(null,Ve,pt.entity,ee)),qh(dt,pt.triples)}),mi(We,Ge||[],dt)}function Vh(Ve){return Ve.variable?Ve.variable.value:Ve.value||Ve.expression.value}function UF(Ve){if(!Ve)return[];if(Ve.type==="aggregate")return[Ve];if(Ve.type==="operation"){const Me=[];for(const Ge of Ve.args)Me.push(...UF(Ge));return Me}return[]}function Owe(Ve){const Me=new Set,Ge=function(We){We&&(We.termType==="Variable"?Me.add(We):We.type==="operation"&&We.args.forEach(Ge))};return Ge(Ve),Me}function QF(Ve,Me=1,Ge=[]){for(const We of Ve)Me>0&&We instanceof Array?QF(We,Me-1,Ge):Ge.push(We);return Ge}function HF(Ve){return Ve.termType==="Variable"}function Qne(Ve){if(Ve.triples){const Me=[];for(const Ge of Ve.triples)HF(Ge.subject)&&Me.push(Ge.subject.value),HF(Ge.predicate)&&Me.push(Ge.predicate.value),HF(Ge.object)&&Me.push(Ge.object.value);return Me}else if(Ve.patterns){const Me=[];for(const Ge of Ve.patterns)Me.push(...Qne(Ge));return Me}return[]}function Awe(Ve){const Me=Ve.slice().sort(),Ge=[];for(let We=0;We<Me.length-1;We++)Me[We+1]==Me[We]&&Ge.push(Me[We]);return Ge}function CS(Ve){if(!Et.sparqlStar)throw new Error("SPARQL-star support is not enabled");return Ve}function Hne(Ve,Me,Ge){for(const We of Me){const dt=Hi("subject"in We?We.subject:Ve,We.predicate,We.object);Ge.push(dt),We.annotations&&Hne(BF(Ve,We.predicate,We.object),We.annotations,Ge)}}function GF(Ve){if(Et.sparqlStar){const Me=[];return Ve.forEach(Ge=>{const We=Hi(Ge.subject,Ge.predicate,Ge.object);Me.push(We),Ge.annotations&&Hne(BF(Ge.subject,Ge.predicate,Ge.object),Ge.annotations,Me)}),Me}return Ve}function Gne(Ve){for(const Me of Ve){if(Me.type==="graph"&&Me.name.termType==="Variable")throw new Error("Detected illegal variable in GRAPH");if(Me.type==="bgp"||Me.type==="graph"){for(const Ge of Me.triples)if(Ge.subject.termType==="Variable"||Ge.predicate.termType==="Variable"||Ge.object.termType==="Variable")throw new Error("Detected illegal variable in BGP")}}return Ve}function kF(Ve){for(const Me of Ve)if(Me.type==="bgp"){for(const Ge of Me.triples)if(Ge.subject.termType==="BlankNode"||Ge.predicate.termType==="BlankNode"||Ge.object.termType==="BlankNode")throw new Error("Detected illegal blank node in BGP")}return Ve}var Ewe=function(){var Ve={EOF:1,parseError:function(Ge,We){if(this.yy.parser)this.yy.parser.parseError(Ge,We);else throw new Error(Ge)},setInput:function(Me,Ge){return this.yy=Ge||this.yy||{},this._input=Me,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Me=this._input[0];this.yytext+=Me,this.yyleng++,this.offset++,this.match+=Me,this.matched+=Me;var Ge=Me.match(/(?:\r\n?|\n).*/g);return Ge?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Me},unput:function(Me){var Ge=Me.length,We=Me.split(/(?:\r\n?|\n)/g);this._input=Me+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ge),this.offset-=Ge;var dt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),We.length-1&&(this.yylineno-=We.length-1);var pt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:We?(We.length===dt.length?this.yylloc.first_column:0)+dt[dt.length-We.length].length-We[0].length:this.yylloc.first_column-Ge},this.options.ranges&&(this.yylloc.range=[pt[0],pt[0]+this.yyleng-Ge]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Me){this.unput(this.match.slice(Me))},pastInput:function(){var Me=this.matched.substr(0,this.matched.length-this.match.length);return(Me.length>20?"...":"")+Me.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Me=this.match;return Me.length<20&&(Me+=this._input.substr(0,20-Me.length)),(Me.substr(0,20)+(Me.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Me=this.pastInput(),Ge=new Array(Me.length+1).join("-");return Me+this.upcomingInput()+`
`+Ge+"^"},test_match:function(Me,Ge){var We,dt,pt;if(this.options.backtrack_lexer&&(pt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(pt.yylloc.range=this.yylloc.range.slice(0))),dt=Me[0].match(/(?:\r\n?|\n).*/g),dt&&(this.yylineno+=dt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:dt?dt[dt.length-1].length-dt[dt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Me[0].length},this.yytext+=Me[0],this.match+=Me[0],this.matches=Me,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Me[0].length),this.matched+=Me[0],We=this.performAction.call(this,this.yy,this,Ge,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),We)return We;if(this._backtrack){for(var ee in pt)this[ee]=pt[ee];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Me,Ge,We,dt;this._more||(this.yytext="",this.match="");for(var pt=this._currentRules(),ee=0;ee<pt.length;ee++)if(We=this._input.match(this.rules[pt[ee]]),We&&(!Ge||We[0].length>Ge[0].length)){if(Ge=We,dt=ee,this.options.backtrack_lexer){if(Me=this.test_match(We,pt[ee]),Me!==!1)return Me;if(this._backtrack){Ge=!1;continue}else return!1}else if(!this.options.flex)break}return Ge?(Me=this.test_match(Ge,pt[dt]),Me!==!1?Me:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Ge=this.next();return Ge||this.lex()},begin:function(Ge){this.conditionStack.push(Ge)},popState:function(){var Ge=this.conditionStack.length-1;return Ge>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ge){return Ge=this.conditionStack.length-1-Math.abs(Ge||0),Ge>=0?this.conditionStack[Ge]:"INITIAL"},pushState:function(Ge){this.begin(Ge)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(Ge,We,dt,pt){switch(dt){case 0:break;case 1:return 12;case 2:return 15;case 3:return 41;case 4:return 325;case 5:return 326;case 6:return 45;case 7:return 47;case 8:return 48;case 9:return 39;case 10:return 24;case 11:return 28;case 12:return 29;case 13:return 31;case 14:return 32;case 15:return 36;case 16:return 53;case 17:return 327;case 18:return 63;case 19:return 64;case 20:return 70;case 21:return 73;case 22:return 76;case 23:return 78;case 24:return 81;case 25:return 83;case 26:return 85;case 27:return 193;case 28:return 100;case 29:return 328;case 30:return 121;case 31:return 329;case 32:return 330;case 33:return 110;case 34:return 331;case 35:return 109;case 36:return 332;case 37:return 333;case 38:return 113;case 39:return 115;case 40:return 116;case 41:return 131;case 42:return 123;case 43:return 126;case 44:return 128;case 45:return 132;case 46:return 112;case 47:return 334;case 48:return 335;case 49:return 159;case 50:return 161;case 51:return 164;case 52:return 174;case 53:return 160;case 54:return 336;case 55:return 163;case 56:return 312;case 57:return 314;case 58:return 317;case 59:return 318;case 60:return 272;case 61:return 197;case 62:return 337;case 63:return 338;case 64:return 229;case 65:return 340;case 66:return 263;case 67:return 224;case 68:return 231;case 69:return 232;case 70:return 242;case 71:return 246;case 72:return 290;case 73:return 341;case 74:return 342;case 75:return 343;case 76:return 344;case 77:return 345;case 78:return 250;case 79:return 346;case 80:return 265;case 81:return 276;case 82:return 277;case 83:return 268;case 84:return 269;case 85:return 270;case 86:return 271;case 87:return 347;case 88:return 348;case 89:return 273;case 90:return 274;case 91:return 350;case 92:return 349;case 93:return 351;case 94:return 279;case 95:return 280;case 96:return 283;case 97:return 285;case 98:return 289;case 99:return 293;case 100:return 296;case 101:return 13;case 102:return 16;case 103:return 308;case 104:return 309;case 105:return 87;case 106:return 292;case 107:return 82;case 108:return 294;case 109:return 295;case 110:return 297;case 111:return 298;case 112:return 299;case 113:return 300;case 114:return 301;case 115:return 302;case 116:return"EXPONENT";case 117:return 303;case 118:return 304;case 119:return 305;case 120:return 306;case 121:return 89;case 122:return 310;case 123:return 6;case 124:return"INVALID";case 125:console.log(We.yytext);break}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:\{\|)/i,/^(?:\|\})/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(SUBJECT|PREDICATE|OBJECT|isTRIPLE))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:TRIPLE)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125],inclusive:!0}}};return Ve}();jF.lexer=Ewe;function Et(){this.yy={}}return Et.prototype=jF,jF.Parser=Et,new Et}();return Gx=a,Gx}var kx,oP;function Yae(){if(oP)return kx;oP=1;var a="http://www.w3.org/2001/XMLSchema#integer",t="http://www.w3.org/2001/XMLSchema#string";function u(d){this._options=d=d||{};var h=d.prefixes||{};this._prefixByIri={};var p=[];for(var b in h){var m=h[b];o(m)&&(this._prefixByIri[m]=b,p.push(m))}var y=p.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+y+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=d.sparqlStar,this._indent=o(d.indent)?d.indent:"  ",this._newline=o(d.newline)?d.newline:`
`,this._explicitDatatype=!!d.explicitDatatype}u.prototype.toQuery=function(d){var h="";return d.queryType&&(h+=d.queryType.toUpperCase()+" "),d.reduced&&(h+="REDUCED "),d.distinct&&(h+="DISTINCT "),d.variables?h+=l(d.variables,void 0,function(p){return/^[?$]/.test(p)?p:c(p)?this.toEntity(p):"("+this.toExpression(p.expression)+" AS "+i(p.variable)+")"},this)+" ":d.template&&(h+=this.group(d.template,!0)+this._newline),d.from&&(h+=this.graphs("FROM ",d.from.default)+this.graphs("FROM NAMED ",d.from.named)),d.where&&(h+="WHERE "+this.group(d.where,!0)+this._newline),d.updates&&(h+=l(d.updates,";"+this._newline,this.toUpdate,this)),d.group&&(h+="GROUP BY "+l(d.group,void 0,function(p){var b=c(p.expression)?this.toEntity(p.expression):"("+this.toExpression(p.expression)+")";return p.variable?"("+b+" AS "+i(p.variable)+")":b},this)+this._newline),d.having&&(h+="HAVING ("+l(d.having,void 0,this.toExpression,this)+")"+this._newline),d.order&&(h+="ORDER BY "+l(d.order,void 0,function(p){var b="("+this.toExpression(p.expression)+")";return p.descending?"DESC "+b:b},this)+this._newline),d.offset&&(h+="OFFSET "+d.offset+this._newline),d.limit&&(h+="LIMIT "+d.limit+this._newline),d.values&&(h+=this.values(d)),h=this.baseAndPrefixes(d)+h,h.trim()},u.prototype.baseAndPrefixes=function(d){var h=d.base?"BASE <"+d.base+">"+this._newline:"",p="";for(var b in d.prefixes)(this._options.allPrefixes||this._usedPrefixes[b])&&(p+="PREFIX "+b+": <"+d.prefixes[b]+">"+this._newline);return h+p},u.prototype.toPattern=function(d){var h=d.type||d instanceof Array&&"array"||(d.subject&&d.predicate&&d.object?"triple":"");if(!(h in this))throw new Error("Unknown entry type: "+h);return this[h](d)},u.prototype.triple=function(d){return this.toEntity(d.subject)+" "+this.toEntity(d.predicate)+" "+this.toEntity(d.object)+"."},u.prototype.array=function(d){return l(d,this._newline,this.toPattern,this)},u.prototype.bgp=function(d){return this.encodeTriples(d.triples)},u.prototype.encodeTriples=function(d){if(!d.length)return"";for(var h=[],p=void 0,b=void 0,m=0;m<d.length;m++){var y=d[m];s(y.subject,p)?s(y.predicate,b)?h.push(","):(b=y.predicate,h.push(";"+this._newline,this._indent,this.toEntity(b))):(p&&h.push("."+this._newline),p=y.subject,b=y.predicate,h.push(this.toEntity(p)," ",this.toEntity(b))),h.push(" ",this.toEntity(y.object))}return h.push("."),h.join("")},u.prototype.graph=function(d){return"GRAPH "+this.toEntity(d.name)+" "+this.group(d)},u.prototype.graphs=function(d,h){return!h||h.length===0?"":l(h,"",function(p){return d+this.toEntity(p)+this._newline},this)},u.prototype.group=function(d,h){return d=h!==!0?this.array(d.patterns||d.triples):this.toPattern(d.type!=="group"?d:d.patterns),d.indexOf(this._newline)===-1?"{ "+d+" }":"{"+this._newline+this.indent(d)+this._newline+"}"},u.prototype.query=function(d){return this.toQuery(d)},u.prototype.filter=function(d){return"FILTER("+this.toExpression(d.expression)+")"},u.prototype.bind=function(d){return"BIND("+this.toExpression(d.expression)+" AS "+i(d.variable)+")"},u.prototype.optional=function(d){return"OPTIONAL "+this.group(d)},u.prototype.union=function(d){return l(d.patterns,this._newline+"UNION"+this._newline,function(h){return this.group(h,!0)},this)},u.prototype.minus=function(d){return"MINUS "+this.group(d)},u.prototype.values=function(d){var h=Object.keys(d.values.reduce(function(m,y){for(var g in y)m[g]=!0;return m},{})),p,b;return h.length===1?p=b="":(p="(",b=")"),"VALUES "+p+h.join(" ")+b+" {"+this._newline+l(d.values,this._newline,function(m){return"  "+p+l(h,void 0,function(y){return m[y]?this.toEntity(m[y]):"UNDEF"},this)+b},this)+this._newline+"}"},u.prototype.service=function(d){return"SERVICE "+(d.silent?"SILENT ":"")+this.toEntity(d.name)+" "+this.group(d)},u.prototype.toExpression=function(d){if(c(d))return this.toEntity(d);switch(d.type.toLowerCase()){case"aggregate":return d.aggregation.toUpperCase()+"("+(d.distinct?"DISTINCT ":"")+this.toExpression(d.expression)+(typeof d.separator=="string"?'; SEPARATOR = "'+d.separator.replace(n,r)+'"':"")+")";case"functioncall":return this.toEntity(d.function)+"("+l(d.args,", ",this.toExpression,this)+")";case"operation":var h=d.operator.toUpperCase(),p=d.args||[];switch(d.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(c(p[0])?this.toEntity(p[0]):"("+this.toExpression(p[0])+")")+" "+h+" "+(c(p[1])?this.toEntity(p[1]):"("+this.toExpression(p[1])+")");case"!":return"!("+this.toExpression(p[0])+")";case"uplus":return"+("+this.toExpression(p[0])+")";case"uminus":return"-("+this.toExpression(p[0])+")";case"notin":h="NOT IN";case"in":return this.toExpression(p[0])+" "+h+"("+(o(p[1])?p[1]:l(p[1],", ",this.toExpression,this))+")";case"notexists":h="NOT EXISTS";case"exists":return h+" "+this.group(p[0],!0);default:return h+"("+l(p,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+d.type)}},u.prototype.toEntity=function(d){if(c(d))switch(d.termType){case"Wildcard":return"*";case"Variable":return i(d);case"BlankNode":return"_:"+d.value;case"Literal":var h=d.value||"",p=d.language||"",b=d.datatype;if(d='"'+h.replace(n,r)+'"',p)d+="@"+p;else if(b){if(!this._explicitDatatype)switch(b.value){case t:return d;case a:if(/^\d+$/.test(h))return h+" "}d+="^^"+this.encodeIRI(b.value)}return d;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return d.graph&&d.graph.termType!=="DefaultGraph"?"<< GRAPH "+this.toEntity(d.graph)+" { "+this.toEntity(d.subject)+" "+this.toEntity(d.predicate)+" "+this.toEntity(d.object)+" }  >>":"<< "+this.toEntity(d.subject)+" "+this.toEntity(d.predicate)+" "+this.toEntity(d.object)+" >>";default:return this.encodeIRI(d.value)}else{var m=d.items.map(this.toEntity,this),y=d.pathType;switch(y){case"^":case"!":return y+m[0];case"*":case"+":case"?":return"("+m[0]+y+")";default:return"("+m.join(y)+")"}}};var n=/["\\\t\n\r\b\f]/g,r=function(d){return e[d]},e={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};u.prototype.encodeIRI=function(d){var h=this._prefixRegex.exec(d);if(h){var p=this._prefixByIri[h[1]];return this._usedPrefixes[p]=!0,p+":"+h[2]}return"<"+d+">"},u.prototype.toUpdate=function(d){switch(d.type||d.updateType){case"load":return"LOAD"+(d.source?" "+this.toEntity(d.source):"")+(d.destination?" INTO GRAPH "+this.toEntity(d.destination):"");case"insert":return"INSERT DATA "+this.group(d.insert,!0);case"delete":return"DELETE DATA "+this.group(d.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(d.delete,!0);case"insertdelete":return(d.graph?"WITH "+this.toEntity(d.graph)+this._newline:"")+(d.delete.length?"DELETE "+this.group(d.delete,!0)+this._newline:"")+(d.insert.length?"INSERT "+this.group(d.insert,!0)+this._newline:"")+(d.using?this.graphs("USING ",d.using.default):"")+(d.using?this.graphs("USING NAMED ",d.using.named):"")+"WHERE "+this.group(d.where,!0);case"add":case"copy":case"move":return d.type.toUpperCase()+" "+(d.silent?"SILENT ":"")+(d.source.default?"DEFAULT":this.toEntity(d.source.name))+" TO "+this.toEntity(d.destination.name);case"create":case"clear":case"drop":return d.type.toUpperCase()+(d.silent?" SILENT ":" ")+(d.graph.default?"DEFAULT":d.graph.named?"NAMED":d.graph.all?"ALL":"GRAPH "+this.toEntity(d.graph.name));default:throw new Error("Unknown update query type: "+d.type)}},u.prototype.indent=function(d){return d.replace(/^/gm,this._indent)};function i(d){return"?"+d.value}function o(d){return typeof d=="string"}function c(d){return typeof d.termType=="string"}function s(d,h){if(!d||!c(d)||!h||!c(h)||d.termType!==h.termType)return!1;switch(d.termType){case"Literal":return d.value===h.value&&d.language===h.language&&s(d.datatype,h.datatype);case"Quad":return s(d.subject,h.subject)&&s(d.predicate,h.predicate)&&s(d.object,h.object)&&s(d.graph,h.graph);default:return d.value===h.value}}function l(d,h,p,b){return d.map(p,b).join(o(h)?h:" ")}function f(d={}){return{stringify:function(h){var p=Object.create(d);return p.prefixes=h.prefixes,new u(p).toQuery(h)},createGenerator:function(){return new u(d)}}}return kx={Generator:f},kx}var eu={},Kp={},sP;function cP(){if(sP)return Kp;sP=1,Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.BlankNode=void 0;class a{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return Kp.BlankNode=a,Kp}var Wp={},Yp={},lP;function dP(){if(lP)return Yp;lP=1,Object.defineProperty(Yp,"__esModule",{value:!0}),Yp.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return Yp.DefaultGraph=a,a.INSTANCE=new a,Yp}var Zp={},e0={},fP;function zx(){if(fP)return e0;fP=1,Object.defineProperty(e0,"__esModule",{value:!0}),e0.NamedNode=void 0;class a{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return e0.NamedNode=a,e0}var hP;function pP(){if(hP)return Zp;hP=1,Object.defineProperty(Zp,"__esModule",{value:!0}),Zp.Literal=void 0;const a=zx();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return Zp.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Zp}var t0={},yP;function bP(){if(yP)return t0;yP=1,Object.defineProperty(t0,"__esModule",{value:!0}),t0.Quad=void 0;class a{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return t0.Quad=a,t0}var r0={},_P;function mP(){if(_P)return r0;_P=1,Object.defineProperty(r0,"__esModule",{value:!0}),r0.Variable=void 0;class a{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return r0.Variable=a,r0}var gP;function Zae(){if(gP)return Wp;gP=1,Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.DataFactory=void 0;const a=cP(),t=dP(),u=pP(),n=zx(),r=bP(),e=mP();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return Wp.DataFactory=o,Wp}var vP;function eue(){return vP||(vP=1,function(a){var t=eu&&eu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=eu&&eu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(cP(),a),u(Zae(),a),u(dP(),a),u(pP(),a),u(zx(),a),u(bP(),a),u(mP(),a)}(eu)),eu}var Xx,TP;function n0(){if(TP)return Xx;TP=1;const{Parser:a}=Wae(),{Generator:t}=Yae(),{Wildcard:u}=aP(),{DataFactory:n}=eue();function r({prefixes:e,baseIRI:i,factory:o,pathOnly:c,sparqlStar:s,skipValidation:l,skipUngroupedVariableCheck:f}={}){const d={};for(const p in e??{})d[p]=e[p];const h=new a;return h.parse=function(){return a.base=i||"",a.prefixes=Object.create(d),a.factory=o||new n,a.sparqlStar=!!s,a.pathOnly=!!c,a.skipValidation=!!l||!!f,a.prototype.parse.apply(h,arguments)},h._resetBlanks=a._resetBlanks,h}return Xx={Parser:r,Generator:t,Wildcard:u},Xx}var wP;function _O(){if(wP)return si;wP=1;var a=si&&si.__createBinding||(Object.create?function(c,s,l,f){f===void 0&&(f=l);var d=Object.getOwnPropertyDescriptor(s,l);(!d||("get"in d?!s.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(c,f,d)}:function(c,s,l,f){f===void 0&&(f=l),c[f]=s[l]}),t=si&&si.__setModuleDefault||(Object.create?function(c,s){Object.defineProperty(c,"default",{enumerable:!0,value:s})}:function(c,s){c.default=s}),u=si&&si.__importStar||function(c){if(c&&c.__esModule)return c;var s={};if(c!=null)for(var l in c)l!=="default"&&Object.prototype.hasOwnProperty.call(c,l)&&a(s,c,l);return t(s,c),s};Object.defineProperty(si,"__esModule",{value:!0});const n=u(Up()),r=Kae(),e=Bt(),i=n0();class o{constructor(s){this.dataFactory=s||new r.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(s,l=!0){return this.flattenMulti({type:n.types.ALT,input:s},l)}createAsk(s){return{type:n.types.ASK,input:s}}createBoundAggregate(s,l,f,d,h){const p=this.createAggregateExpression(l,f,d,h);return p.variable=s,p}createBgp(s){return{type:n.types.BGP,patterns:s}}createConstruct(s,l){return{type:n.types.CONSTRUCT,input:s,template:l}}createDescribe(s,l){return{type:n.types.DESCRIBE,input:s,terms:l}}createDistinct(s){return{type:n.types.DISTINCT,input:s}}createExtend(s,l,f){return{type:n.types.EXTEND,input:s,variable:l,expression:f}}createFrom(s,l,f){return{type:n.types.FROM,input:s,default:l,named:f}}createFilter(s,l){return{type:n.types.FILTER,input:s,expression:l}}createGraph(s,l){return{type:n.types.GRAPH,input:s,name:l}}createGroup(s,l,f){return{type:n.types.GROUP,input:s,variables:l,aggregates:f}}createInv(s){return{type:n.types.INV,path:s}}createJoin(s,l=!0){return this.flattenMulti({type:n.types.JOIN,input:s},l)}createLeftJoin(s,l,f){return f?{type:n.types.LEFT_JOIN,input:[s,l],expression:f}:{type:n.types.LEFT_JOIN,input:[s,l]}}createLink(s){return{type:n.types.LINK,iri:s}}createMinus(s,l){return{type:n.types.MINUS,input:[s,l]}}createNop(){return{type:n.types.NOP}}createNps(s){return{type:n.types.NPS,iris:s}}createOneOrMorePath(s){return{type:n.types.ONE_OR_MORE_PATH,path:s}}createOrderBy(s,l){return{type:n.types.ORDER_BY,input:s,expressions:l}}createPath(s,l,f,d){return d?{type:n.types.PATH,subject:s,predicate:l,object:f,graph:d}:{type:n.types.PATH,subject:s,predicate:l,object:f,graph:this.dataFactory.defaultGraph()}}createPattern(s,l,f,d){const h=this.dataFactory.quad(s,l,f,d);return h.type=n.types.PATTERN,h}createProject(s,l){return{type:n.types.PROJECT,input:s,variables:l}}createReduced(s){return{type:n.types.REDUCED,input:s}}createSeq(s,l=!0){return this.flattenMulti({type:n.types.SEQ,input:s},l)}createService(s,l,f){return{type:n.types.SERVICE,input:s,name:l,silent:!!f}}createSlice(s,l,f){return l=l||0,f!==void 0?{type:n.types.SLICE,input:s,start:l,length:f}:{type:n.types.SLICE,input:s,start:l}}createUnion(s,l=!0){return this.flattenMulti({type:n.types.UNION,input:s},l)}createValues(s,l){return{type:n.types.VALUES,variables:s,bindings:l}}createZeroOrMorePath(s){return{type:n.types.ZERO_OR_MORE_PATH,path:s}}createZeroOrOnePath(s){return{type:n.types.ZERO_OR_ONE_PATH,path:s}}createAggregateExpression(s,l,f,d){return d?{type:n.types.EXPRESSION,expressionType:n.expressionTypes.AGGREGATE,aggregator:s,expression:l,separator:d,distinct:f}:{type:n.types.EXPRESSION,expressionType:n.expressionTypes.AGGREGATE,aggregator:s,expression:l,distinct:f}}createExistenceExpression(s,l){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.EXISTENCE,not:s,input:l}}createNamedExpression(s,l){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.NAMED,name:s,args:l}}createOperatorExpression(s,l){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.OPERATOR,operator:s,args:l}}createTermExpression(s){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.TERM,term:s}}createWildcardExpression(){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.WILDCARD,wildcard:new i.Wildcard}}createTerm(s){return s[0]==="$"&&(s=s.replace("$","?")),(0,e.stringToTerm)(s,this.dataFactory)}createCompositeUpdate(s){return{type:n.types.COMPOSITE_UPDATE,updates:s}}createDeleteInsert(s,l,f){const d={type:n.types.DELETE_INSERT};return s&&(d.delete=s),l&&(d.insert=l),f&&(d.where=f),d}createLoad(s,l,f){const d={type:n.types.LOAD,source:s};return l&&(d.destination=l),this.addSilent(d,!!f)}createClear(s,l){return this.addSilent({type:n.types.CLEAR,source:s},!!l)}createCreate(s,l){return this.addSilent({type:n.types.CREATE,source:s},!!l)}createDrop(s,l){return this.addSilent({type:n.types.DROP,source:s},!!l)}createAdd(s,l,f){return this.addSilent({type:n.types.ADD,source:s,destination:l},!!f)}createMove(s,l,f){return this.addSilent({type:n.types.MOVE,source:s,destination:l},!!f)}createCopy(s,l,f){return this.addSilent({type:n.types.COPY,source:s,destination:l},!!f)}addSilent(s,l){return l&&(s.silent=l),s}flattenMulti(s,l){if(!l)return s;const f=s.type,d=s.input;let h=[];for(const p of d)p.type===f?h.push(...p.input):h.push(p);return s.input=h,s}}return si.default=o,si}var eh={},tu={},ft={},ru={},i0={},SP;function OP(){if(SP)return i0;SP=1,Object.defineProperty(i0,"__esModule",{value:!0}),i0.BlankNode=void 0;class a{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return i0.BlankNode=a,i0}var a0={},u0={},AP;function EP(){if(AP)return u0;AP=1,Object.defineProperty(u0,"__esModule",{value:!0}),u0.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return u0.DefaultGraph=a,a.INSTANCE=new a,u0}var o0={},s0={},xP;function Jx(){if(xP)return s0;xP=1,Object.defineProperty(s0,"__esModule",{value:!0}),s0.NamedNode=void 0;class a{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return s0.NamedNode=a,s0}var IP;function RP(){if(IP)return o0;IP=1,Object.defineProperty(o0,"__esModule",{value:!0}),o0.Literal=void 0;const a=Jx();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return o0.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),o0}var c0={},NP;function FP(){if(NP)return c0;NP=1,Object.defineProperty(c0,"__esModule",{value:!0}),c0.Quad=void 0;class a{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return c0.Quad=a,c0}var l0={},DP;function PP(){if(DP)return l0;DP=1,Object.defineProperty(l0,"__esModule",{value:!0}),l0.Variable=void 0;class a{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return l0.Variable=a,l0}var LP;function tue(){if(LP)return a0;LP=1,Object.defineProperty(a0,"__esModule",{value:!0}),a0.DataFactory=void 0;const a=OP(),t=EP(),u=RP(),n=Jx(),r=FP(),e=PP();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return a0.DataFactory=o,a0}var jP;function rue(){return jP||(jP=1,function(a){var t=ru&&ru.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ru&&ru.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(OP(),a),u(tue(),a),u(EP(),a),u(RP(),a),u(Jx(),a),u(FP(),a),u(PP(),a)}(ru)),ru}var MP;function qP(){if(MP)return ft;MP=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.matchPatternMappings=ft.matchPatternComplete=ft.matchPattern=ft.matchTerm=ft.getValueNestedPath=ft.someTermsNested=ft.someTerms=ft.everyTermsNested=ft.everyTerms=ft.reduceTermsNested=ft.reduceTerms=ft.mapTermsNested=ft.mapTerms=ft.filterQuadTermNamesNested=ft.filterQuadTermNames=ft.filterTermsNested=ft.filterTerms=ft.forEachTermsNested=ft.forEachTerms=ft.collectNamedTerms=ft.getNamedTerms=ft.getTermsNested=ft.getTerms=ft.TRIPLE_TERM_NAMES=ft.QUAD_TERM_NAMES=void 0;const a=rue(),t=new a.DataFactory;ft.QUAD_TERM_NAMES=["subject","predicate","object","graph"],ft.TRIPLE_TERM_NAMES=["subject","predicate","object"];function u(F,O){return O&&F.graph.termType==="DefaultGraph"?[F.subject,F.predicate,F.object]:[F.subject,F.predicate,F.object,F.graph]}ft.getTerms=u;function n(F,O){const E=[];for(const x of u(F,O))x.termType==="Quad"?n(x,O).forEach(L=>E.push(L)):E.push(x);return E}ft.getTermsNested=n;function r(F){return[{key:"subject",value:F.subject},{key:"predicate",value:F.predicate},{key:"object",value:F.object},{key:"graph",value:F.graph}]}ft.getNamedTerms=r;function e(F,O,E){const x={};return F.forEach(L=>x[L.key]=L.value),O&&(x.subject=x.subject||O("subject"),x.predicate=x.predicate||O("predicate"),x.object=x.object||O("object"),x.graph=x.graph||O("graph")),(E||t).quad(x.subject,x.predicate,x.object,x.graph)}ft.collectNamedTerms=e;function i(F,O){O(F.subject,"subject"),O(F.predicate,"predicate"),O(F.object,"object"),O(F.graph,"graph")}ft.forEachTerms=i;function o(F,O,E=[]){F.subject.termType==="Quad"?o(F.subject,O,[...E,"subject"]):O(F.subject,[...E,"subject"]),F.predicate.termType==="Quad"?o(F.predicate,O,[...E,"predicate"]):O(F.predicate,[...E,"predicate"]),F.object.termType==="Quad"?o(F.object,O,[...E,"object"]):O(F.object,[...E,"object"]),F.graph.termType==="Quad"?o(F.graph,O,[...E,"graph"]):O(F.graph,[...E,"graph"])}ft.forEachTermsNested=o;function c(F,O){const E=[];return O(F.subject,"subject")&&E.push(F.subject),O(F.predicate,"predicate")&&E.push(F.predicate),O(F.object,"object")&&E.push(F.object),O(F.graph,"graph")&&E.push(F.graph),E}ft.filterTerms=c;function s(F,O,E=[]){let x=[];return F.subject.termType==="Quad"?x=[...x,...s(F.subject,O,[...E,"subject"])]:O(F.subject,[...E,"subject"])&&x.push(F.subject),F.predicate.termType==="Quad"?x=[...x,...s(F.predicate,O,[...E,"predicate"])]:O(F.predicate,[...E,"predicate"])&&x.push(F.predicate),F.object.termType==="Quad"?x=[...x,...s(F.object,O,[...E,"object"])]:O(F.object,[...E,"object"])&&x.push(F.object),F.graph.termType==="Quad"?x=[...x,...s(F.graph,O,[...E,"graph"])]:O(F.graph,[...E,"graph"])&&x.push(F.graph),x}ft.filterTermsNested=s;function l(F,O){const E=[];return O(F.subject,"subject")&&E.push("subject"),O(F.predicate,"predicate")&&E.push("predicate"),O(F.object,"object")&&E.push("object"),O(F.graph,"graph")&&E.push("graph"),E}ft.filterQuadTermNames=l;function f(F,O,E=[]){let x=[];const L=[...E,"subject"];F.subject.termType==="Quad"?x=[...x,...f(F.subject,O,L)]:O(F.subject,L)&&x.push(L);const V=[...E,"predicate"];F.predicate.termType==="Quad"?x=[...x,...f(F.predicate,O,V)]:O(F.predicate,V)&&x.push(V);const $=[...E,"object"];F.object.termType==="Quad"?x=[...x,...f(F.object,O,$)]:O(F.object,$)&&x.push($);const Q=[...E,"graph"];return F.graph.termType==="Quad"?x=[...x,...f(F.graph,O,Q)]:O(F.graph,Q)&&x.push(Q),x}ft.filterQuadTermNamesNested=f;function d(F,O,E){return(E||t).quad(O(F.subject,"subject"),O(F.predicate,"predicate"),O(F.object,"object"),O(F.graph,"graph"))}ft.mapTerms=d;function h(F,O,E,x=[]){return(E||t).quad(F.subject.termType==="Quad"?h(F.subject,O,E,[...x,"subject"]):O(F.subject,[...x,"subject"]),F.predicate.termType==="Quad"?h(F.predicate,O,E,[...x,"predicate"]):O(F.predicate,[...x,"predicate"]),F.object.termType==="Quad"?h(F.object,O,E,[...x,"object"]):O(F.object,[...x,"object"]),F.graph.termType==="Quad"?h(F.graph,O,E,[...x,"graph"]):O(F.graph,[...x,"graph"]))}ft.mapTermsNested=h;function p(F,O,E){let x=E;return x=O(x,F.subject,"subject"),x=O(x,F.predicate,"predicate"),x=O(x,F.object,"object"),O(x,F.graph,"graph")}ft.reduceTerms=p;function b(F,O,E,x=[]){let L=E;return F.subject.termType==="Quad"?L=b(F.subject,O,L,[...x,"subject"]):L=O(L,F.subject,[...x,"subject"]),F.predicate.termType==="Quad"?L=b(F.predicate,O,L,[...x,"predicate"]):L=O(L,F.predicate,[...x,"predicate"]),F.object.termType==="Quad"?L=b(F.object,O,L,[...x,"object"]):L=O(L,F.object,[...x,"object"]),F.graph.termType==="Quad"?L=b(F.graph,O,L,[...x,"graph"]):L=O(L,F.graph,[...x,"graph"]),L}ft.reduceTermsNested=b;function m(F,O){return O(F.subject,"subject")&&O(F.predicate,"predicate")&&O(F.object,"object")&&O(F.graph,"graph")}ft.everyTerms=m;function y(F,O,E=[]){return(F.subject.termType==="Quad"?y(F.subject,O,[...E,"subject"]):O(F.subject,[...E,"subject"]))&&(F.predicate.termType==="Quad"?y(F.predicate,O,[...E,"predicate"]):O(F.predicate,[...E,"predicate"]))&&(F.object.termType==="Quad"?y(F.object,O,[...E,"object"]):O(F.object,[...E,"object"]))&&(F.graph.termType==="Quad"?y(F.graph,O,[...E,"graph"]):O(F.graph,[...E,"graph"]))}ft.everyTermsNested=y;function g(F,O){return O(F.subject,"subject")||O(F.predicate,"predicate")||O(F.object,"object")||O(F.graph,"graph")}ft.someTerms=g;function _(F,O,E=[]){return(F.subject.termType==="Quad"?_(F.subject,O,[...E,"subject"]):O(F.subject,[...E,"subject"]))||(F.predicate.termType==="Quad"?_(F.predicate,O,[...E,"predicate"]):O(F.predicate,[...E,"predicate"]))||(F.object.termType==="Quad"?_(F.object,O,[...E,"object"]):O(F.object,[...E,"object"]))||(F.graph.termType==="Quad"?_(F.graph,O,[...E,"graph"]):O(F.graph,[...E,"graph"]))}ft.someTermsNested=_;function v(F,O){if(O.length===0)return F;if(F.termType==="Quad")return v(F[O[0]],O.slice(1));throw new Error(`Tried to get ${O[0]} from term of type ${F.termType}`)}ft.getValueNestedPath=v;function T(F,O){return!O||O.termType==="Variable"||O.termType==="Quad"&&F.termType==="Quad"&&A(F,O)||O.equals(F)}ft.matchTerm=T;function w(F,O,E,x,L){return T(F.subject,O)&&T(F.predicate,E)&&T(F.object,x)&&T(F.graph,L)}ft.matchPattern=w;function A(F,O){return w(F,O.subject,O.predicate,O.object,O.graph)}ft.matchPatternComplete=A;function M(F,O,E={}){const x={};function L(V,$){return m(V,(Q,ie)=>{var ue,pe;const X=$[ie];switch(Q.termType){case"Variable":return E.skipVarMapping&&X.termType==="Variable"||((pe=(ue=x[Q.value])===null||ue===void 0?void 0:ue.equals(X))!==null&&pe!==void 0?pe:(x[Q.value]=X,!0));case"Quad":return X.termType==="Quad"&&L(Q,X);default:return Q.equals(X)}})}return L(O,F)&&(E.returnMappings?x:!0)}return ft.matchPatternMappings=M,ft}var dr={},CP;function nue(){if(CP)return dr;CP=1,Object.defineProperty(dr,"__esModule",{value:!0}),dr.getQuads=dr.getDefaultGraphs=dr.getVariables=dr.getLiterals=dr.getBlankNodes=dr.getNamedNodes=dr.getTermsOfType=dr.uniqTerms=dr.TERM_TYPES=void 0;const a=Bt();dr.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function t(s){const l={};return s.filter(f=>{const d=(0,a.termToString)(f);return!(d in l)&&(l[d]=!0)})}dr.uniqTerms=t;function u(s,l){return s.filter(f=>f.termType===l)}dr.getTermsOfType=u;function n(s){return u(s,"NamedNode")}dr.getNamedNodes=n;function r(s){return u(s,"BlankNode")}dr.getBlankNodes=r;function e(s){return u(s,"Literal")}dr.getLiterals=e;function i(s){return u(s,"Variable")}dr.getVariables=i;function o(s){return u(s,"DefaultGraph")}dr.getDefaultGraphs=o;function c(s){return u(s,"Quad")}return dr.getQuads=c,dr}var BP;function Rr(){return BP||(BP=1,function(a){var t=tu&&tu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=tu&&tu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(qP(),a),u(nue(),a)}(tu)),tu}var $P;function Kx(){if($P)return eh;$P=1;var a=eh&&eh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eh,"__esModule",{value:!0});const t=Up(),u=a(_O()),n=Rr();class r{static flatten(i){return Array.prototype.concat(...i).filter(o=>o)}static objectify(i){if(i.termType){if(i.termType==="Quad")return{type:"pattern",termType:"Quad",subject:r.objectify(i.subject),predicate:r.objectify(i.predicate),object:r.objectify(i.object),graph:r.objectify(i.graph)};{let o={termType:i.termType,value:i.value};return i.language&&(o.language=i.language),i.datatype&&(o.datatype=r.objectify(i.datatype)),o}}if(Array.isArray(i))return i.map(o=>r.objectify(o));if(i===Object(i)){let o={};for(let c of Object.keys(i))o[c]=r.objectify(i[c]);return o}return i}static inScopeVariables(i){const o=[];function c(l){o.find(f=>l.value===f.value)||o.push(l)}function s(l){l.subject.termType==="Variable"&&c(l.subject),l.predicate.termType==="Variable"&&c(l.predicate),l.object.termType==="Variable"&&c(l.object),l.graph.termType==="Variable"&&c(l.graph),l.subject.termType==="Quad"&&s(l.subject),l.predicate.termType==="Quad"&&s(l.predicate),l.object.termType==="Quad"&&s(l.object),l.graph.termType==="Quad"&&s(l.graph)}return r.recurseOperation(i,{[t.types.EXPRESSION]:l=>(l.expressionType===t.expressionTypes.AGGREGATE&&l.variable&&c(l.variable),!0),[t.types.EXTEND]:l=>(c(l.variable),!0),[t.types.GRAPH]:l=>(l.name.termType==="Variable"&&c(l.name),!0),[t.types.GROUP]:l=>(l.variables.forEach(c),!0),[t.types.PATH]:l=>(l.subject.termType==="Variable"&&c(l.subject),l.object.termType==="Variable"&&c(l.object),l.graph.termType==="Variable"&&c(l.graph),l.subject.termType==="Quad"&&s(l.subject),l.object.termType==="Quad"&&s(l.object),l.graph.termType==="Quad"&&s(l.graph),!0),[t.types.PATTERN]:l=>(s(l),!0),[t.types.PROJECT]:l=>(l.variables.forEach(c),!1),[t.types.SERVICE]:l=>(l.name.termType==="Variable"&&c(l.name),!0),[t.types.VALUES]:l=>(l.variables.forEach(c),!0)}),o}static recurseOperation(i,o){let c=i,s=!0;const l=o[i.type];if(l&&(s=l(i)),!s)return;let f=d=>r.recurseOperation(d,o);switch(c.type){case t.types.ALT:c.input.map(f);break;case t.types.ASK:f(c.input);break;case t.types.BGP:c.patterns.forEach(f);break;case t.types.CONSTRUCT:f(c.input),c.template.map(f);break;case t.types.DESCRIBE:f(c.input);break;case t.types.DISTINCT:f(c.input);break;case t.types.EXPRESSION:c.expressionType===t.expressionTypes.EXISTENCE&&f(c.input);break;case t.types.EXTEND:f(c.input),f(c.expression);break;case t.types.FILTER:f(c.input),f(c.expression);break;case t.types.FROM:f(c.input);break;case t.types.GRAPH:f(c.input);break;case t.types.GROUP:f(c.input),c.aggregates.forEach(f);break;case t.types.INV:f(c.path);break;case t.types.JOIN:c.input.map(f);break;case t.types.LEFT_JOIN:c.input.map(f),c.expression&&f(c.expression);break;case t.types.LINK:break;case t.types.MINUS:c.input.map(f);break;case t.types.NOP:break;case t.types.NPS:break;case t.types.ONE_OR_MORE_PATH:f(c.path);break;case t.types.ORDER_BY:f(c.input),c.expressions.forEach(f);break;case t.types.PATH:f(c.predicate);break;case t.types.PATTERN:break;case t.types.PROJECT:f(c.input);break;case t.types.REDUCED:f(c.input);break;case t.types.SEQ:c.input.map(f);break;case t.types.SERVICE:f(c.input);break;case t.types.SLICE:f(c.input);break;case t.types.UNION:c.input.map(f);break;case t.types.VALUES:break;case t.types.ZERO_OR_MORE_PATH:f(c.path);break;case t.types.ZERO_OR_ONE_PATH:f(c.path);break;case t.types.COMPOSITE_UPDATE:c.updates.forEach(d=>f(d));break;case t.types.DELETE_INSERT:c.delete&&c.delete.forEach(d=>f(d)),c.insert&&c.insert.forEach(d=>f(d)),c.where&&f(c.where);break;case t.types.LOAD:break;case t.types.CLEAR:break;case t.types.CREATE:break;case t.types.DROP:break;case t.types.ADD:break;case t.types.MOVE:break;case t.types.COPY:break;default:throw new Error(`Unknown Operation type ${c.type}`)}}static mapOperation(i,o,c){let s=i,l=!0,f=!0;c=c||new u.default;const d=o[i.type];if(d){const b=d(i,c);s=b.result,l=b.recurse,f=b.copyMetadata!==!1}let h;if(f&&(s.metadata||i.metadata)&&(h={...s.metadata,...i.metadata}),!l)return h&&(s.metadata=h),s;let p=b=>r.mapOperation(b,o,c);switch(s.type){case t.types.ALT:s=c.createAlt(s.input.map(p));break;case t.types.ASK:s=c.createAsk(p(s.input));break;case t.types.BGP:s=c.createBgp(s.patterns.map(p));break;case t.types.CONSTRUCT:s=c.createConstruct(p(s.input),s.template.map(p));break;case t.types.DESCRIBE:s=c.createDescribe(p(s.input),s.terms);break;case t.types.DISTINCT:s=c.createDistinct(p(s.input));break;case t.types.EXPRESSION:s=r.mapExpression(s,o,c);break;case t.types.EXTEND:s=c.createExtend(p(s.input),s.variable,p(s.expression));break;case t.types.FILTER:s=c.createFilter(p(s.input),p(s.expression));break;case t.types.FROM:s=c.createFrom(p(s.input),[...s.default],[...s.named]);break;case t.types.GRAPH:s=c.createGraph(p(s.input),s.name);break;case t.types.GROUP:s=c.createGroup(p(s.input),[].concat(s.variables),s.aggregates.map(p));break;case t.types.INV:s=c.createInv(p(s.path));break;case t.types.JOIN:s=c.createJoin(s.input.map(p));break;case t.types.LEFT_JOIN:s=c.createLeftJoin(p(s.input[0]),p(s.input[1]),s.expression?p(s.expression):void 0);break;case t.types.LINK:s=c.createLink(s.iri);break;case t.types.MINUS:s=c.createMinus(p(s.input[0]),p(s.input[1]));break;case t.types.NOP:s=c.createNop();break;case t.types.NPS:s=c.createNps([].concat(s.iris));break;case t.types.ONE_OR_MORE_PATH:s=c.createOneOrMorePath(p(s.path));break;case t.types.ORDER_BY:s=c.createOrderBy(p(s.input),s.expressions.map(p));break;case t.types.PATH:s=c.createPath(s.subject,p(s.predicate),s.object,s.graph);break;case t.types.PATTERN:s=c.createPattern(s.subject,s.predicate,s.object,s.graph);break;case t.types.PROJECT:s=c.createProject(p(s.input),[...s.variables]);break;case t.types.REDUCED:s=c.createReduced(p(s.input));break;case t.types.SEQ:s=c.createSeq(s.input.map(p));break;case t.types.SERVICE:s=c.createService(p(s.input),s.name,s.silent);break;case t.types.SLICE:s=c.createSlice(p(s.input),s.start,s.length);break;case t.types.UNION:s=c.createUnion(s.input.map(p));break;case t.types.VALUES:s=c.createValues([].concat(s.variables),s.bindings.map(b=>Object.assign({},b)));break;case t.types.ZERO_OR_MORE_PATH:s=c.createZeroOrMorePath(p(s.path));break;case t.types.ZERO_OR_ONE_PATH:s=c.createZeroOrOnePath(p(s.path));break;case t.types.COMPOSITE_UPDATE:s=c.createCompositeUpdate(s.updates.map(p));break;case t.types.DELETE_INSERT:s=c.createDeleteInsert(s.delete?s.delete.map(p):void 0,s.insert?s.insert.map(p):void 0,s.where?p(s.where):void 0);break;case t.types.LOAD:s=c.createLoad(s.source,s.destination,s.silent);break;case t.types.CLEAR:s=c.createClear(s.source,s.silent);break;case t.types.CREATE:s=c.createCreate(s.source,s.silent);break;case t.types.DROP:s=c.createDrop(s.source,s.silent);break;case t.types.ADD:s=c.createAdd(s.source,s.destination);break;case t.types.MOVE:s=c.createMove(s.source,s.destination);break;case t.types.COPY:s=c.createCopy(s.source,s.destination);break;default:throw new Error(`Unknown Operation type ${s.type}`)}return h&&(s.metadata=h),s}static mapExpression(i,o,c){let s=i,l=!0;c=c||new u.default;const f=o[i.expressionType];if(f&&({result:s,recurse:l}=f(i,c)),!l)return s;let d=h=>r.mapOperation(h,o,c);switch(i.expressionType){case t.expressionTypes.AGGREGATE:return i.variable?c.createBoundAggregate(i.variable,i.aggregator,d(i.expression),i.distinct,i.separator):c.createAggregateExpression(i.aggregator,d(i.expression),i.distinct,i.separator);case t.expressionTypes.EXISTENCE:return c.createExistenceExpression(i.not,d(i.input));case t.expressionTypes.NAMED:return c.createNamedExpression(i.name,i.args.map(d));case t.expressionTypes.OPERATOR:return c.createOperatorExpression(i.operator,i.args.map(d));case t.expressionTypes.TERM:return c.createTermExpression(i.term);case t.expressionTypes.WILDCARD:return c.createWildcardExpression();default:throw new Error(`Unknown Expression type ${i.expressionType}`)}}static cloneOperation(i){return r.mapOperation(i,{})}static cloneExpression(i){return r.mapExpression(i,{})}static createUniqueVariable(i,o,c){let s=0,l=i;for(;o[l];)l=`${i}${s++}`;return c.variable(l)}static isSimpleTerm(i){return i.termType!==void 0&&i.termType!=="Quad"&&i.termType!=="Wildcard"}static isQuad(i){return i.termType==="Quad"}static hasQuadVariables(i){return(0,n.someTermsNested)(i,o=>o.termType==="Variable")}static isWildcard(i){return i.termType==="Wildcard"}}return eh.default=r,eh}var VP;function iue(){if(VP)return An;VP=1;var a=An&&An.__createBinding||(Object.create?function(N,P,S,I){I===void 0&&(I=S);var B=Object.getOwnPropertyDescriptor(P,S);(!B||("get"in B?!P.__esModule:B.writable||B.configurable))&&(B={enumerable:!0,get:function(){return P[S]}}),Object.defineProperty(N,I,B)}:function(N,P,S,I){I===void 0&&(I=S),N[I]=P[S]}),t=An&&An.__setModuleDefault||(Object.create?function(N,P){Object.defineProperty(N,"default",{enumerable:!0,value:P})}:function(N,P){N.default=P}),u=An&&An.__importStar||function(N){if(N&&N.__esModule)return N;var P={};if(N!=null)for(var S in N)S!=="default"&&Object.prototype.hasOwnProperty.call(N,S)&&a(P,N,S);return t(P,N),P},n=An&&An.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(An,"__esModule",{value:!0});const r=Xae(),e=Bt(),i=u(Up()),o=n(_O()),c=n(Kx()),s=n0().Parser,l=i.types;let f=new Set,d=0,h=!1,p;function b(N,P){P=P||{},p=new o.default(P.dataFactory);let S;if(y(N)){let I=new s(P);I._resetBlanks(),S=I.parse(N)}else S=N;return m(S,P.quads,P.blankToVariable)}An.default=b;function m(N,P,S){if(f=new Set,d=0,h=!!P,!N.type)return p.createNop();if(N.type!=="query"&&N.type!=="update")throw new Error("Translate only works on complete query or update objects.");let I;if(T(N),N.type==="query"){const B={type:"group",patterns:N.where||[]};I=A(B),I=X(N,I)}else N.type==="update"&&(I=ve(N));return S&&(I=G(I)),I}function y(N){return typeof N=="string"}function g(N){return!!(N!=null&&N.termType)}function _(N){return N.subject&&N.predicate&&N.object}function v(N){return(N==null?void 0:N.termType)==="Variable"}function T(N){if(g(N))v(N)&&f.add(`?${N.value}`);else if(Array.isArray(N))for(const P of N)T(P);else if(N&&typeof N=="object")for(let P of Object.keys(N))P.startsWith("?")?f.add(P):P.startsWith("$")&&f.add(`?${P.slice(1)}`),T(N[P])}function w(N){let P={};if(_(N)){const S=[w(N.subject),w(N.predicate),w(N.object),N.graph?w(N.graph):{}];Object.assign(P,...S)}else if(g(N))v(N)&&(P[N.value]=N);else if(N.type==="bgp"){const S=N.triples;Object.assign(P,...S.map(w))}else if(N.type==="path")Object.assign(P,...N.items.map(w));else if(N.type==="group"||N.type==="union"||N.type==="optional")Object.assign(P,...N.patterns.map(w));else if(N.type==="service"||N.type==="graph")Object.assign(P,w(N.name)),Object.assign(P,...N.patterns.map(w));else if(N.type==="bind")Object.assign(P,w(N.variable));else if(N.type==="values"){if(N.values.length>0){const S=Object.keys(N.values[0]).map(I=>p.createTerm(I));Object.assign(P,...S.map(w))}}else if(N.type==="query"&&(N.queryType==="SELECT"||N.queryType==="DESCRIBE")){N.where&&N.variables.some(c.default.isWildcard)&&Object.assign(P,...N.where.map(w));for(const S of N.variables)v(S)?Object.assign(P,w(S)):S.variable&&Object.assign(P,w(S.variable));if(N.queryType==="SELECT"){if(N.group)for(const S of N.group)S.variable&&Object.assign(P,w(S.variable));if(N.values){const S={type:"values",values:N.values};Object.assign(P,w(S))}}}return P}function A(N){if(N.type==="bgp")return F(N);if(N.type==="union")return p.createUnion(N.patterns.map(P=>(P.type!=="group"&&(P={type:"group",patterns:[P]}),A(P))));if(N.type==="graph"){const P={type:"group",patterns:N.patterns};let S=A(P);return h?S=Q(S,N.name):S=p.createGraph(S,N.name),S}if(N.type==="values")return pe(N);if(N.type==="query")return m(N,h,!1);if(N.type==="group"){let P=[],S=[];for(let z of N.patterns)(z.type==="filter"?P:S).push(z);let I=S.reduce(ie,p.createBgp([])),B=P.map(z=>M(z.expression));return B.length>0&&(I=p.createFilter(I,B.reduce((z,H)=>p.createOperatorExpression("&&",[z,H])))),I}throw new Error(`Unexpected type: ${N.type}`)}function M(N){if(c.default.isSimpleTerm(N))return p.createTermExpression(N);if(c.default.isQuad(N))return c.default.hasQuadVariables(N)?p.createOperatorExpression("triple",[M(N.subject),M(N.predicate),M(N.object)]):p.createTermExpression(N);if(c.default.isWildcard(N))return p.createWildcardExpression();if("aggregation"in N)return p.createAggregateExpression(N.aggregation,M(N.expression),!!N.distinct,N.separator);if("function"in N)return p.createNamedExpression(N.function,N.args.map(M));if("operator"in N)return N.operator==="exists"||N.operator==="notexists"?p.createExistenceExpression(N.operator==="notexists",A(N.args[0])):((N.operator==="in"||N.operator==="notin")&&(N.args=[N.args[0]].concat(N.args[1])),p.createOperatorExpression(N.operator,N.args.map(M)));throw new Error(`Unknown expression: ${JSON.stringify(N)}`)}function F(N){let P=[],S=[];for(let I of N.triples)if("pathType"in I.predicate){let B=O(I);for(let z of B)z.type===l.PATH?(P.length>0&&S.push(p.createBgp(P)),P=[],S.push(z)):P.push(z)}else P.push(V(I));return P.length>0&&S.push(p.createBgp(P)),S.length===1?S[0]:p.createJoin(S)}function O(N){let P=N.subject,S=E(N.predicate),I=N.object;return x(P,S,I)}function E(N){if(c.default.isSimpleTerm(N)){if(N.termType==="NamedNode")return p.createLink(N);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(N)}`)}if(N.pathType==="^")return p.createInv(E(N.items[0]));if(N.pathType==="!"){let P=[],S=[],I;"pathType"in N.items[0]&&N.items[0].pathType==="|"?I=N.items[0].items:I=N.items;for(let H of I)if(c.default.isSimpleTerm(H))P.push(H);else if(H.pathType==="^")S.push(H.items[0]);else throw new Error(`Unexpected item: ${JSON.stringify(H)}`);let B=p.createNps(P),z=p.createInv(p.createNps(S));return S.length===0?B:P.length===0?z:p.createAlt([B,z])}if(N.pathType==="/")return p.createSeq(N.items.map(E));if(N.pathType==="|")return p.createAlt(N.items.map(E));if(N.pathType==="*")return p.createZeroOrMorePath(E(N.items[0]));if(N.pathType==="+")return p.createOneOrMorePath(E(N.items[0]));if(N.pathType==="?")return p.createZeroOrOnePath(E(N.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(N)}`)}function x(N,P,S){if(P.type===l.LINK)return[p.createPattern(N,P.iri,S)];if(P.type===l.INV)return x(S,P.path,N);if(P.type===l.SEQ){let I=N;return c.default.flatten(P.input.map((B,z)=>{const H=z===P.input.length-1?S:L(),K=x(I,B,H);return H.termType==="Variable"&&(I=H),K}))}return[p.createPath(N,P,S)]}function L(){let N=`?var${d++}`;return f.has(N)?L():(f.add(N),p.createTerm(N))}function V(N){if("pathType"in N.predicate)throw new Error("Trying to translate property path to quad.");return p.createPattern(N.subject,N.predicate,N.object,N.graph)}let $=Object.values(l);function Q(N,P,S){if(N.type===l.GRAPH){if(S)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");N=Q(N.input,N.name)}else if(N.type!==l.SERVICE)if(N.type===l.BGP)N.patterns=N.patterns.map(I=>(S&&(I.subject.equals(P)&&(I.subject=S),I.predicate.equals(P)&&(I.predicate=S),I.object.equals(P)&&(I.object=S)),I.graph.termType==="DefaultGraph"&&(I.graph=P),I));else if(N.type===l.PATH)S&&(N.subject.equals(P)&&(N.subject=S),N.object.equals(P)&&(N.object=S)),N.graph.termType==="DefaultGraph"&&(N.graph=P);else if(N.type===l.PROJECT&&!S)N.variables.some(I=>I.equals(P))||(S=L()),N.input=Q(N.input,P,S);else if(N.type===l.EXTEND&&!S)N.variable.equals(P)&&(S=L()),N.input=Q(N.input,P,S);else for(let I of Object.keys(N))Array.isArray(N[I])?N[I]=N[I].map(B=>Q(B,P,S)):$.indexOf(N[I].type)>=0?N[I]=Q(N[I],P,S):S&&v(N[I])&&N[I].equals(P)&&(N[I]=S);return N}function ie(N,P){if(P.type==="optional"){const S=A({type:"group",patterns:P.patterns});S.type===l.FILTER?N=p.createLeftJoin(N,S.input,S.expression):N=p.createLeftJoin(N,S)}else if(P.type==="minus"){const S=A({type:"group",patterns:P.patterns});N=p.createMinus(N,S)}else if(P.type==="bind")N=p.createExtend(N,P.variable,M(P.expression));else if(P.type==="service"){const S={type:"group",patterns:P.patterns},I=p.createService(A(S),P.name,P.silent);N=ue(N,I)}else{const S=A(P);N=ue(N,S)}return N}function ue(N,P){return N.type===l.BGP&&P.type===l.BGP?N=p.createBgp([...N.patterns,...P.patterns]):N.type===l.BGP&&N.patterns.length===0?N=P:P.type===l.BGP&&P.patterns.length===0||(N=p.createJoin([N,P])),N}function pe(N){let P=(N.values.length===0?[]:Object.keys(N.values[0])).map(p.createTerm.bind(p)),S=N.values.map(I=>{let B=Object.keys(I);B=B.filter(H=>I[H]!==void 0);let z={};for(let H of B)z[H]=I[H];return z});return p.createValues(P,S)}function X(N,P){const S=N,I=[],B={};if(S.variables=S.variables&&S.variables.map(H=>me(H,B)),S.having=S.having&&S.having.map(H=>me(H,B)),S.order=S.order&&S.order.map(H=>me(H,B)),S.group||Object.keys(B).length>0){const H=Object.keys(B).map(k=>Fe(B[k],p.createTerm(k))),K=[];if(S.group)for(const k of S.group)if(c.default.isSimpleTerm(k.expression))K.push(k.expression);else{const Z="variable"in k?k.variable:L();P=p.createExtend(P,Z,M(k.expression)),K.push(Z)}P=p.createGroup(P,K,H)}if(S.having)for(let H of S.having)P=p.createFilter(P,M(H));N.values&&(P=p.createJoin([P,pe(N)]));let z=[];if(N.queryType==="SELECT"||N.queryType==="DESCRIBE")if(N.variables.some(H=>H&&c.default.isWildcard(H)))z=Object.values(w(N)).sort((H,K)=>H.value.localeCompare(K.value));else for(let H of N.variables)v(H)||!("variable"in H)?z.push(H):H.variable&&(z.push(H.variable),I.push(H));for(let H of I)P=p.createExtend(P,H.variable,M(H.expression));return S.order&&(P=p.createOrderBy(P,S.order.map(H=>{let K=M(H.expression);return H.descending&&(K=p.createOperatorExpression("desc",[K])),K}))),N.queryType==="SELECT"&&(P=p.createProject(P,z)),S.distinct&&(P=p.createDistinct(P)),S.reduced&&(P=p.createReduced(P)),N.queryType==="CONSTRUCT"?P=p.createConstruct(P,(N.template||[]).map(V)):N.queryType==="ASK"?P=p.createAsk(P):N.queryType==="DESCRIBE"&&(P=p.createDescribe(P,z)),(S.offset||S.limit)&&(P=p.createSlice(P,S.offset||0,S.limit)),S.from&&(P=p.createFrom(P,S.from.default,S.from.named)),P}function me(N,P){if("type"in N&&N.type==="aggregate"){let S=!1,I;for(let B of Object.keys(P))if(r(P[B],N)){I=p.createTerm(B),S=!0;break}return S||(I=L(),P[(0,e.termToString)(I)]=N),I}return"expression"in N&&N.expression?{...N,expression:me(N.expression,P)}:"args"in N&&N.args?{...N,args:N.args.map(S=>me(S,P))}:N}function Fe(N,P){if(N.type!=="aggregate"||!N.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(N)}`);const S=M(N);return S.variable=P,S}function ve(N){return N.updates.length===1?re(N.updates[0]):p.createCompositeUpdate(N.updates.map(re))}function re(N){if("type"in N){if(N.type==="load")return ge(N);if(N.type==="clear"||N.type==="create"||N.type==="drop")return $e(N);if(N.type==="add"||N.type==="copy"||N.type==="move")return we(N)}else if(N.updateType==="insertdelete"||N.updateType==="deletewhere"||N.updateType==="delete"||N.updateType==="insert")return je(N);throw new Error(`Unknown update type ${JSON.stringify(N)}`)}function je(N){if(!h)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let P=[],S=[],I;if(N.delete&&(P=c.default.flatten(N.delete.map(B=>qe(B,N.graph)))),N.insert&&(S=c.default.flatten(N.insert.map(B=>qe(B,N.graph)))),N.where&&N.where.length>0){I=A({type:"group",patterns:N.where});const B=N.using;B?I=p.createFrom(I,B.default,B.named):N.graph&&(I=Q(I,N.graph))}else N.updateType==="deletewhere"&&P.length>0&&(I=p.createBgp(P));return p.createDeleteInsert(P.length>0?P:void 0,S.length>0?S:void 0,I)}function qe(N,P){let S=P;N.type==="graph"&&(S=N.name);let I=N.triples;return S&&(I=I.map(B=>Object.assign(B,{graph:S}))),I.map(V)}function $e(N){let P;switch(c.default.isSimpleTerm(N.graph)?P=N.graph:N.graph.all?P="ALL":N.graph.default?P="DEFAULT":N.graph.named?P="NAMED":P=N.graph.name,N.type){case"clear":return p.createClear(P,N.silent);case"create":return p.createCreate(P,N.silent);case"drop":return p.createDrop(P,N.silent)}}function ge(N){return p.createLoad(N.source,N.destination,N.silent)}function we(N){const P=N.source.default?"DEFAULT":N.source.name,S=N.destination.default?"DEFAULT":N.destination.name;switch(N.type){case"copy":return p.createCopy(P,S,N.silent);case"move":return p.createMove(P,S,N.silent);case"add":return p.createAdd(P,S,N.silent)}}function G(N){const P={},S=Array.from(f).reduce((B,z)=>(B[z]=!0,B),{});return c.default.mapOperation(N,{[i.types.DELETE_INSERT]:B=>({result:p.createDeleteInsert(B.delete,B.insert,B.where&&G(B.where)),recurse:!1}),[i.types.PATH]:(B,z)=>({result:z.createPath(I(B.subject),B.predicate,I(B.object),I(B.graph)),recurse:!1}),[i.types.PATTERN]:(B,z)=>({result:z.createPattern(I(B.subject),I(B.predicate),I(B.object),I(B.graph)),recurse:!1}),[i.types.CONSTRUCT]:B=>({result:p.createConstruct(G(B.input),B.template),recurse:!1})});function I(B){if(B.termType==="BlankNode"){let z=P[B.value];return z||(z=c.default.createUniqueVariable(B.value,S,p.dataFactory),S[z.value]=!0,P[B.value]=z),z}return B}}return An}var Wr={},nu={},xt={},Wx={},$t={},Yx,UP;function d0(){if(UP)return Yx;UP=1,Yx=a;function a(t,u){if(!t)throw new Error(u||"Assertion failed")}return a.equal=function(u,n,r){if(u!=n)throw new Error(r||"Assertion failed: "+u+" != "+n)},Yx}var mO={exports:{}},QP;function aue(){return QP||(QP=1,typeof Object.create=="function"?mO.exports=function(t,u){u&&(t.super_=u,t.prototype=Object.create(u.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:mO.exports=function(t,u){if(u){t.super_=u;var n=function(){};n.prototype=u.prototype,t.prototype=new n,t.prototype.constructor=t}}),mO.exports}var HP;function ci(){if(HP)return $t;HP=1;var a=d0(),t=aue();$t.inherits=t;function u(x,L){return(x.charCodeAt(L)&64512)!==55296||L<0||L+1>=x.length?!1:(x.charCodeAt(L+1)&64512)===56320}function n(x,L){if(Array.isArray(x))return x.slice();if(!x)return[];var V=[];if(typeof x=="string")if(L){if(L==="hex")for(x=x.replace(/[^a-z0-9]+/ig,""),x.length%2!==0&&(x="0"+x),Q=0;Q<x.length;Q+=2)V.push(parseInt(x[Q]+x[Q+1],16))}else for(var $=0,Q=0;Q<x.length;Q++){var ie=x.charCodeAt(Q);ie<128?V[$++]=ie:ie<2048?(V[$++]=ie>>6|192,V[$++]=ie&63|128):u(x,Q)?(ie=65536+((ie&1023)<<10)+(x.charCodeAt(++Q)&1023),V[$++]=ie>>18|240,V[$++]=ie>>12&63|128,V[$++]=ie>>6&63|128,V[$++]=ie&63|128):(V[$++]=ie>>12|224,V[$++]=ie>>6&63|128,V[$++]=ie&63|128)}else for(Q=0;Q<x.length;Q++)V[Q]=x[Q]|0;return V}$t.toArray=n;function r(x){for(var L="",V=0;V<x.length;V++)L+=o(x[V].toString(16));return L}$t.toHex=r;function e(x){var L=x>>>24|x>>>8&65280|x<<8&16711680|(x&255)<<24;return L>>>0}$t.htonl=e;function i(x,L){for(var V="",$=0;$<x.length;$++){var Q=x[$];L==="little"&&(Q=e(Q)),V+=c(Q.toString(16))}return V}$t.toHex32=i;function o(x){return x.length===1?"0"+x:x}$t.zero2=o;function c(x){return x.length===7?"0"+x:x.length===6?"00"+x:x.length===5?"000"+x:x.length===4?"0000"+x:x.length===3?"00000"+x:x.length===2?"000000"+x:x.length===1?"0000000"+x:x}$t.zero8=c;function s(x,L,V,$){var Q=V-L;a(Q%4===0);for(var ie=new Array(Q/4),ue=0,pe=L;ue<ie.length;ue++,pe+=4){var X;$==="big"?X=x[pe]<<24|x[pe+1]<<16|x[pe+2]<<8|x[pe+3]:X=x[pe+3]<<24|x[pe+2]<<16|x[pe+1]<<8|x[pe],ie[ue]=X>>>0}return ie}$t.join32=s;function l(x,L){for(var V=new Array(x.length*4),$=0,Q=0;$<x.length;$++,Q+=4){var ie=x[$];L==="big"?(V[Q]=ie>>>24,V[Q+1]=ie>>>16&255,V[Q+2]=ie>>>8&255,V[Q+3]=ie&255):(V[Q+3]=ie>>>24,V[Q+2]=ie>>>16&255,V[Q+1]=ie>>>8&255,V[Q]=ie&255)}return V}$t.split32=l;function f(x,L){return x>>>L|x<<32-L}$t.rotr32=f;function d(x,L){return x<<L|x>>>32-L}$t.rotl32=d;function h(x,L){return x+L>>>0}$t.sum32=h;function p(x,L,V){return x+L+V>>>0}$t.sum32_3=p;function b(x,L,V,$){return x+L+V+$>>>0}$t.sum32_4=b;function m(x,L,V,$,Q){return x+L+V+$+Q>>>0}$t.sum32_5=m;function y(x,L,V,$){var Q=x[L],ie=x[L+1],ue=$+ie>>>0,pe=(ue<$?1:0)+V+Q;x[L]=pe>>>0,x[L+1]=ue}$t.sum64=y;function g(x,L,V,$){var Q=L+$>>>0,ie=(Q<L?1:0)+x+V;return ie>>>0}$t.sum64_hi=g;function _(x,L,V,$){var Q=L+$;return Q>>>0}$t.sum64_lo=_;function v(x,L,V,$,Q,ie,ue,pe){var X=0,me=L;me=me+$>>>0,X+=me<L?1:0,me=me+ie>>>0,X+=me<ie?1:0,me=me+pe>>>0,X+=me<pe?1:0;var Fe=x+V+Q+ue+X;return Fe>>>0}$t.sum64_4_hi=v;function T(x,L,V,$,Q,ie,ue,pe){var X=L+$+ie+pe;return X>>>0}$t.sum64_4_lo=T;function w(x,L,V,$,Q,ie,ue,pe,X,me){var Fe=0,ve=L;ve=ve+$>>>0,Fe+=ve<L?1:0,ve=ve+ie>>>0,Fe+=ve<ie?1:0,ve=ve+pe>>>0,Fe+=ve<pe?1:0,ve=ve+me>>>0,Fe+=ve<me?1:0;var re=x+V+Q+ue+X+Fe;return re>>>0}$t.sum64_5_hi=w;function A(x,L,V,$,Q,ie,ue,pe,X,me){var Fe=L+$+ie+pe+me;return Fe>>>0}$t.sum64_5_lo=A;function M(x,L,V){var $=L<<32-V|x>>>V;return $>>>0}$t.rotr64_hi=M;function F(x,L,V){var $=x<<32-V|L>>>V;return $>>>0}$t.rotr64_lo=F;function O(x,L,V){return x>>>V}$t.shr64_hi=O;function E(x,L,V){var $=x<<32-V|L>>>V;return $>>>0}return $t.shr64_lo=E,$t}var Zx={},GP;function f0(){if(GP)return Zx;GP=1;var a=ci(),t=d0();function u(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Zx.BlockHash=u,u.prototype.update=function(r,e){if(r=a.toArray(r,e),this.pending?this.pending=this.pending.concat(r):this.pending=r,this.pendingTotal+=r.length,this.pending.length>=this._delta8){r=this.pending;var i=r.length%this._delta8;this.pending=r.slice(r.length-i,r.length),this.pending.length===0&&(this.pending=null),r=a.join32(r,0,r.length-i,this.endian);for(var o=0;o<r.length;o+=this._delta32)this._update(r,o,o+this._delta32)}return this},u.prototype.digest=function(r){return this.update(this._pad()),t(this.pending===null),this._digest(r)},u.prototype._pad=function(){var r=this.pendingTotal,e=this._delta8,i=e-(r+this.padLength)%e,o=new Array(i+this.padLength);o[0]=128;for(var c=1;c<i;c++)o[c]=0;if(r<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)o[c++]=0;o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=r>>>24&255,o[c++]=r>>>16&255,o[c++]=r>>>8&255,o[c++]=r&255}else for(o[c++]=r&255,o[c++]=r>>>8&255,o[c++]=r>>>16&255,o[c++]=r>>>24&255,o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=0,s=8;s<this.padLength;s++)o[c++]=0;return o},Zx}var iu={},li={},kP;function zP(){if(kP)return li;kP=1;var a=ci(),t=a.rotr32;function u(l,f,d,h){if(l===0)return n(f,d,h);if(l===1||l===3)return e(f,d,h);if(l===2)return r(f,d,h)}li.ft_1=u;function n(l,f,d){return l&f^~l&d}li.ch32=n;function r(l,f,d){return l&f^l&d^f&d}li.maj32=r;function e(l,f,d){return l^f^d}li.p32=e;function i(l){return t(l,2)^t(l,13)^t(l,22)}li.s0_256=i;function o(l){return t(l,6)^t(l,11)^t(l,25)}li.s1_256=o;function c(l){return t(l,7)^t(l,18)^l>>>3}li.g0_256=c;function s(l){return t(l,17)^t(l,19)^l>>>10}return li.g1_256=s,li}var eI,XP;function uue(){if(XP)return eI;XP=1;var a=ci(),t=f0(),u=zP(),n=a.rotl32,r=a.sum32,e=a.sum32_5,i=u.ft_1,o=t.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function s(){if(!(this instanceof s))return new s;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return a.inherits(s,o),eI=s,s.blockSize=512,s.outSize=160,s.hmacStrength=80,s.padLength=64,s.prototype._update=function(f,d){for(var h=this.W,p=0;p<16;p++)h[p]=f[d+p];for(;p<h.length;p++)h[p]=n(h[p-3]^h[p-8]^h[p-14]^h[p-16],1);var b=this.h[0],m=this.h[1],y=this.h[2],g=this.h[3],_=this.h[4];for(p=0;p<h.length;p++){var v=~~(p/20),T=e(n(b,5),i(v,m,y,g),_,h[p],c[v]);_=g,g=y,y=n(m,30),m=b,b=T}this.h[0]=r(this.h[0],b),this.h[1]=r(this.h[1],m),this.h[2]=r(this.h[2],y),this.h[3]=r(this.h[3],g),this.h[4]=r(this.h[4],_)},s.prototype._digest=function(f){return f==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")},eI}var tI,JP;function KP(){if(JP)return tI;JP=1;var a=ci(),t=f0(),u=zP(),n=d0(),r=a.sum32,e=a.sum32_4,i=a.sum32_5,o=u.ch32,c=u.maj32,s=u.s0_256,l=u.s1_256,f=u.g0_256,d=u.g1_256,h=t.BlockHash,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=p,this.W=new Array(64)}return a.inherits(b,h),tI=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(y,g){for(var _=this.W,v=0;v<16;v++)_[v]=y[g+v];for(;v<_.length;v++)_[v]=e(d(_[v-2]),_[v-7],f(_[v-15]),_[v-16]);var T=this.h[0],w=this.h[1],A=this.h[2],M=this.h[3],F=this.h[4],O=this.h[5],E=this.h[6],x=this.h[7];for(n(this.k.length===_.length),v=0;v<_.length;v++){var L=i(x,l(F),o(F,O,E),this.k[v],_[v]),V=r(s(T),c(T,w,A));x=E,E=O,O=F,F=r(M,L),M=A,A=w,w=T,T=r(L,V)}this.h[0]=r(this.h[0],T),this.h[1]=r(this.h[1],w),this.h[2]=r(this.h[2],A),this.h[3]=r(this.h[3],M),this.h[4]=r(this.h[4],F),this.h[5]=r(this.h[5],O),this.h[6]=r(this.h[6],E),this.h[7]=r(this.h[7],x)},b.prototype._digest=function(y){return y==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")},tI}var rI,WP;function oue(){if(WP)return rI;WP=1;var a=ci(),t=KP();function u(){if(!(this instanceof u))return new u;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return a.inherits(u,t),rI=u,u.blockSize=512,u.outSize=224,u.hmacStrength=192,u.padLength=64,u.prototype._digest=function(r){return r==="hex"?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")},rI}var nI,YP;function ZP(){if(YP)return nI;YP=1;var a=ci(),t=f0(),u=d0(),n=a.rotr64_hi,r=a.rotr64_lo,e=a.shr64_hi,i=a.shr64_lo,o=a.sum64,c=a.sum64_hi,s=a.sum64_lo,l=a.sum64_4_hi,f=a.sum64_4_lo,d=a.sum64_5_hi,h=a.sum64_5_lo,p=t.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function m(){if(!(this instanceof m))return new m;p.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}a.inherits(m,p),nI=m,m.blockSize=1024,m.outSize=512,m.hmacStrength=192,m.padLength=128,m.prototype._prepareBlock=function(V,$){for(var Q=this.W,ie=0;ie<32;ie++)Q[ie]=V[$+ie];for(;ie<Q.length;ie+=2){var ue=E(Q[ie-4],Q[ie-3]),pe=x(Q[ie-4],Q[ie-3]),X=Q[ie-14],me=Q[ie-13],Fe=F(Q[ie-30],Q[ie-29]),ve=O(Q[ie-30],Q[ie-29]),re=Q[ie-32],je=Q[ie-31];Q[ie]=l(ue,pe,X,me,Fe,ve,re,je),Q[ie+1]=f(ue,pe,X,me,Fe,ve,re,je)}},m.prototype._update=function(V,$){this._prepareBlock(V,$);var Q=this.W,ie=this.h[0],ue=this.h[1],pe=this.h[2],X=this.h[3],me=this.h[4],Fe=this.h[5],ve=this.h[6],re=this.h[7],je=this.h[8],qe=this.h[9],$e=this.h[10],ge=this.h[11],we=this.h[12],G=this.h[13],N=this.h[14],P=this.h[15];u(this.k.length===Q.length);for(var S=0;S<Q.length;S+=2){var I=N,B=P,z=A(je,qe),H=M(je,qe),K=y(je,qe,$e,ge,we),k=g(je,qe,$e,ge,we,G),Z=this.k[S],de=this.k[S+1],le=Q[S],De=Q[S+1],Qe=d(I,B,z,H,K,k,Z,de,le,De),Le=h(I,B,z,H,K,k,Z,de,le,De);I=T(ie,ue),B=w(ie,ue),z=_(ie,ue,pe,X,me),H=v(ie,ue,pe,X,me,Fe);var ce=c(I,B,z,H),se=s(I,B,z,H);N=we,P=G,we=$e,G=ge,$e=je,ge=qe,je=c(ve,re,Qe,Le),qe=s(re,re,Qe,Le),ve=me,re=Fe,me=pe,Fe=X,pe=ie,X=ue,ie=c(Qe,Le,ce,se),ue=s(Qe,Le,ce,se)}o(this.h,0,ie,ue),o(this.h,2,pe,X),o(this.h,4,me,Fe),o(this.h,6,ve,re),o(this.h,8,je,qe),o(this.h,10,$e,ge),o(this.h,12,we,G),o(this.h,14,N,P)},m.prototype._digest=function(V){return V==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")};function y(L,V,$,Q,ie){var ue=L&$^~L&ie;return ue<0&&(ue+=4294967296),ue}function g(L,V,$,Q,ie,ue){var pe=V&Q^~V&ue;return pe<0&&(pe+=4294967296),pe}function _(L,V,$,Q,ie){var ue=L&$^L&ie^$&ie;return ue<0&&(ue+=4294967296),ue}function v(L,V,$,Q,ie,ue){var pe=V&Q^V&ue^Q&ue;return pe<0&&(pe+=4294967296),pe}function T(L,V){var $=n(L,V,28),Q=n(V,L,2),ie=n(V,L,7),ue=$^Q^ie;return ue<0&&(ue+=4294967296),ue}function w(L,V){var $=r(L,V,28),Q=r(V,L,2),ie=r(V,L,7),ue=$^Q^ie;return ue<0&&(ue+=4294967296),ue}function A(L,V){var $=n(L,V,14),Q=n(L,V,18),ie=n(V,L,9),ue=$^Q^ie;return ue<0&&(ue+=4294967296),ue}function M(L,V){var $=r(L,V,14),Q=r(L,V,18),ie=r(V,L,9),ue=$^Q^ie;return ue<0&&(ue+=4294967296),ue}function F(L,V){var $=n(L,V,1),Q=n(L,V,8),ie=e(L,V,7),ue=$^Q^ie;return ue<0&&(ue+=4294967296),ue}function O(L,V){var $=r(L,V,1),Q=r(L,V,8),ie=i(L,V,7),ue=$^Q^ie;return ue<0&&(ue+=4294967296),ue}function E(L,V){var $=n(L,V,19),Q=n(V,L,29),ie=e(L,V,6),ue=$^Q^ie;return ue<0&&(ue+=4294967296),ue}function x(L,V){var $=r(L,V,19),Q=r(V,L,29),ie=i(L,V,6),ue=$^Q^ie;return ue<0&&(ue+=4294967296),ue}return nI}var iI,e8;function sue(){if(e8)return iI;e8=1;var a=ci(),t=ZP();function u(){if(!(this instanceof u))return new u;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return a.inherits(u,t),iI=u,u.blockSize=1024,u.outSize=384,u.hmacStrength=192,u.padLength=128,u.prototype._digest=function(r){return r==="hex"?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")},iI}var t8;function cue(){return t8||(t8=1,iu.sha1=uue(),iu.sha224=oue(),iu.sha256=KP(),iu.sha384=sue(),iu.sha512=ZP()),iu}var aI={},r8;function lue(){if(r8)return aI;r8=1;var a=ci(),t=f0(),u=a.rotl32,n=a.sum32,r=a.sum32_3,e=a.sum32_4,i=t.BlockHash;function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}a.inherits(o,i),aI.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(m,y){for(var g=this.h[0],_=this.h[1],v=this.h[2],T=this.h[3],w=this.h[4],A=g,M=_,F=v,O=T,E=w,x=0;x<80;x++){var L=n(u(e(g,c(x,_,v,T),m[f[x]+y],s(x)),h[x]),w);g=w,w=T,T=u(v,10),v=_,_=L,L=n(u(e(A,c(79-x,M,F,O),m[d[x]+y],l(x)),p[x]),E),A=E,E=O,O=u(F,10),F=M,M=L}L=r(this.h[1],v,O),this.h[1]=r(this.h[2],T,E),this.h[2]=r(this.h[3],w,A),this.h[3]=r(this.h[4],g,M),this.h[4]=r(this.h[0],_,F),this.h[0]=L},o.prototype._digest=function(m){return m==="hex"?a.toHex32(this.h,"little"):a.split32(this.h,"little")};function c(b,m,y,g){return b<=15?m^y^g:b<=31?m&y|~m&g:b<=47?(m|~y)^g:b<=63?m&g|y&~g:m^(y|~g)}function s(b){return b<=15?0:b<=31?1518500249:b<=47?1859775393:b<=63?2400959708:2840853838}function l(b){return b<=15?1352829926:b<=31?1548603684:b<=47?1836072691:b<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return aI}var uI,n8;function due(){if(n8)return uI;n8=1;var a=ci(),t=d0();function u(n,r,e){if(!(this instanceof u))return new u(n,r,e);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(r,e))}return uI=u,u.prototype._init=function(r){r.length>this.blockSize&&(r=new this.Hash().update(r).digest()),t(r.length<=this.blockSize);for(var e=r.length;e<this.blockSize;e++)r.push(0);for(e=0;e<r.length;e++)r[e]^=54;for(this.inner=new this.Hash().update(r),e=0;e<r.length;e++)r[e]^=106;this.outer=new this.Hash().update(r)},u.prototype.update=function(r,e){return this.inner.update(r,e),this},u.prototype.digest=function(r){return this.outer.update(this.inner.digest()),this.outer.digest(r)},uI}var i8;function h0(){return i8||(i8=1,function(a){var t=a;t.utils=ci(),t.common=f0(),t.sha=cue(),t.ripemd=lue(),t.hmac=due(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(Wx)),Wx}var a8;function fue(){if(a8)return xt;a8=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.isTermGrounded=xt.termToSignature=xt.quadToSignature=xt.sha1hex=xt.hashTerm=xt.hashTerms=xt.getGraphBlankNodes=xt.uniqGraph=xt.deindexGraph=xt.indexGraph=xt.getQuadsWithoutBlankNodes=xt.getQuadsWithBlankNodes=xt.hasValue=xt.hashValues=xt.getBijectionInner=xt.getBijection=xt.isomorphic=void 0;const a=h0(),t=Bt(),u=Rr();function n(T,w){return!!r(T,w)}xt.isomorphic=n;function r(T,w){const A=f(l(T)),M=f(l(w));if(Object.keys(A).length!==Object.keys(M).length)return null;for(const L in A)if(A[L]!==M[L])return null;const F=h(s(T)),O=h(s(w)),E=p(T),x=p(w);return e(F,O,E,x)}xt.getBijection=r;function e(T,w,A,M,F,O){F||(F={}),O||(O={});const[E,x]=b(T,A,F),[L,V]=b(w,M,O);if(Object.keys(E).length!==Object.keys(L).length)return null;for(const Q in E)if(!c(L,E[Q]))return null;let $={};for(const Q of A){const ie=t.termToString(Q),ue=x[ie];for(const pe in V)if(V[pe]===ue){$[ie]=pe,delete V[pe];break}}if(!i(Object.keys($).sort(),A.map(t.termToString).sort())||!i(o($).sort(),M.map(t.termToString).sort())){$=null;for(const Q of A){const ie=t.termToString(Q);if(!E[ie])for(const ue of M){const pe=t.termToString(ue);if(!L[pe]&&x[ie]===V[pe]){const X=y(ie);$=e(T,w,A,M,Object.assign(Object.assign({},E),{[ie]:X}),Object.assign(Object.assign({},L),{[pe]:X}))}}}}return $}xt.getBijectionInner=e;function i(T,w){if(T.length!==w.length)return!1;for(let A=T.length;A--;)if(T[A]!==w[A])return!1;return!0}function o(T){const w=[];for(const A in T)w.push(T[A]);return w}xt.hashValues=o;function c(T,w){for(const A in T)if(T[A]===w)return!0;return!1}xt.hasValue=c;function s(T){return T.filter(w=>u.someTerms(w,A=>A.termType==="BlankNode"||A.termType==="Quad"&&u.getTermsNested(A).some(M=>M.termType==="BlankNode")))}xt.getQuadsWithBlankNodes=s;function l(T){return T.filter(w=>u.everyTerms(w,A=>A.termType!=="BlankNode"&&!(A.termType==="Quad"&&u.getTermsNested(A).some(M=>M.termType==="BlankNode"))))}xt.getQuadsWithoutBlankNodes=l;function f(T){const w={};for(const A of T)w[JSON.stringify(t.quadToStringQuad(A))]=!0;return w}xt.indexGraph=f;function d(T){return Object.keys(T).map(w=>t.stringQuadToQuad(JSON.parse(w)))}xt.deindexGraph=d;function h(T){return d(f(T))}xt.uniqGraph=h;function p(T){return u.uniqTerms(T.map(w=>u.getBlankNodes(u.getTermsNested(w))).reduce((w,A)=>w.concat(A),[]))}xt.getGraphBlankNodes=p;function b(T,w,A){const M=Object.assign({},A),F={};let O=!0;for(;O;){const E=Object.keys(M).length;for(const L of w){const V=t.termToString(L);if(!M[V]){const[$,Q]=m(L,T,M);$&&(M[V]=Q),F[V]=Q}}const x={};for(const L in F){const V=F[L];x[V]===void 0?x[V]=L:x[V]=!1}for(const L in x){const V=x[L];V&&(M[V]=L)}O=E!==Object.keys(M).length}return[M,F]}xt.hashTerms=b;function m(T,w,A){const M=[];let F=!0;for(const E of w){const x=u.getTermsNested(E);if(x.some(L=>L.equals(T))){M.push(g(E,A,T));for(const L of x)!v(L,A)&&!L.equals(T)&&(F=!1)}}const O=y(M.sort().join(""));return[F,O]}xt.hashTerm=m;function y(T){return a.sha1().update(T).digest("hex")}xt.sha1hex=y;function g(T,w,A){return u.getTerms(T).map(M=>_(M,w,A)).join("|")}xt.quadToSignature=g;function _(T,w,A){return T.equals(A)?"@self":T.termType==="BlankNode"?w[t.termToString(T)]||"@blank":T.termType==="Quad"?`<${g(T,w,A)}>`:t.termToString(T)}xt.termToSignature=_;function v(T,w){return T.termType!=="BlankNode"&&!(T.termType==="Quad"&&u.getTermsNested(T).some(A=>!v(A,w)))||!!w[t.termToString(T)]}return xt.isTermGrounded=v,xt}var u8;function hue(){return u8||(u8=1,function(a){var t=nu&&nu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e),Object.defineProperty(n,i,{enumerable:!0,get:function(){return r[e]}})}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=nu&&nu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(fue(),a)}(nu)),nu}var o8;function pue(){if(o8)return Wr;o8=1;var a=Wr&&Wr.__createBinding||(Object.create?function(Y,Ee,Ne,Ce){Ce===void 0&&(Ce=Ne);var Ue=Object.getOwnPropertyDescriptor(Ee,Ne);(!Ue||("get"in Ue?!Ee.__esModule:Ue.writable||Ue.configurable))&&(Ue={enumerable:!0,get:function(){return Ee[Ne]}}),Object.defineProperty(Y,Ce,Ue)}:function(Y,Ee,Ne,Ce){Ce===void 0&&(Ce=Ne),Y[Ce]=Ee[Ne]}),t=Wr&&Wr.__setModuleDefault||(Object.create?function(Y,Ee){Object.defineProperty(Y,"default",{enumerable:!0,value:Ee})}:function(Y,Ee){Y.default=Ee}),u=Wr&&Wr.__importStar||function(Y){if(Y&&Y.__esModule)return Y;var Ee={};if(Y!=null)for(var Ne in Y)Ne!=="default"&&Object.prototype.hasOwnProperty.call(Y,Ne)&&a(Ee,Y,Ne);return t(Ee,Y),Ee},n=Wr&&Wr.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.toSparqlJs=Wr.toSparql=void 0;const r=hue(),e=Bt(),i=n0(),o=u(Up()),c=n(_O()),s=n(Kx()),l=o.types,f=o.expressionTypes;let d;const h=new c.default;function p(Y,Ee={}){return new i.Generator(Ee).stringify(b(Y))}Wr.toSparql=p;function b(Y){m(),Y=_e(Y);let Ee=y(Y);return Ee.type==="group"?Ee.patterns[0]:Ee}Wr.toSparqlJs=b;function m(){d={project:!1,extend:[],group:[],aggregates:[],order:[]}}function y(Y){switch(Y.type!==l.EXTEND&&Y.type!==l.ORDER_BY&&Y.type!==l.GRAPH&&(d.project=!1),Y.type){case l.EXPRESSION:return g(Y);case l.ASK:return ge(Y,l.ASK);case l.BGP:return L(Y);case l.CONSTRUCT:return V(Y);case l.DESCRIBE:return ge(Y,l.DESCRIBE);case l.DISTINCT:return $(Y);case l.EXTEND:return Q(Y);case l.FROM:return ie(Y);case l.FILTER:return ue(Y);case l.GRAPH:return pe(Y);case l.GROUP:return X(Y);case l.JOIN:return me(Y);case l.LEFT_JOIN:return Fe(Y);case l.MINUS:return ve(Y);case l.NOP:return{};case l.ORDER_BY:return re(Y);case l.PATH:return je(Y);case l.PATTERN:return qe(Y);case l.PROJECT:return ge(Y,l.PROJECT);case l.REDUCED:return G(Y);case l.SERVICE:return N(Y);case l.SLICE:return P(Y);case l.UNION:return S(Y);case l.VALUES:return I(Y);case l.COMPOSITE_UPDATE:return De(Y);case l.DELETE_INSERT:return Qe(Y);case l.LOAD:return Le(Y);case l.CLEAR:return ce(Y);case l.CREATE:return se(Y);case l.DROP:return ye(Y);case l.ADD:return U(Y);case l.MOVE:return R(Y);case l.COPY:return C(Y)}throw new Error(`Unknown Operation type ${Y.type}`)}function g(Y){switch(Y.expressionType){case f.AGGREGATE:return T(Y);case f.EXISTENCE:return w(Y);case f.NAMED:return A(Y);case f.OPERATOR:return M(Y);case f.TERM:return F(Y);case f.WILDCARD:return O(Y)}throw new Error(`Unknown Expression Operation type ${Y.expressionType}`)}function _(Y){switch(Y.type){case l.ALT:return B(Y);case l.INV:return z(Y);case l.LINK:return H(Y);case l.NPS:return K(Y);case l.ONE_OR_MORE_PATH:return k(Y);case l.SEQ:return Z(Y);case l.ZERO_OR_MORE_PATH:return de(Y);case l.ZERO_OR_ONE_PATH:return le(Y)}throw new Error(`Unknown Path type ${Y.type}`)}function v(Y){return(0,e.termToString)(Y)}function T(Y){const Ee={expression:g(Y.expression),type:"aggregate",aggregation:Y.aggregator,distinct:Y.distinct};return Y.separator&&(Ee.separator=Y.separator),Ee}function w(Y){return{type:"operation",operator:Y.not?"notexists":"exists",args:[{type:"group",patterns:s.default.flatten([y(Y.input)])}]}}function A(Y){return{type:"functionCall",function:Y.name,args:Y.args.map(g)}}function M(Y){if(Y.operator==="desc"){const Ne={expression:g(Y.args[0])};return Ne.descending=!0,Ne}const Ee={type:"operation",operator:Y.operator,args:Y.args.map(g)};return(Ee.operator==="in"||Ee.operator==="notin")&&(Ee.args=[Ee.args[0]].concat([Ee.args.slice(1)])),Ee}function F(Y){return Y.term}function O(Y){return Y.wildcard}function E(Y){return Array.isArray(Y)?Y.length===1?Y[0]:{type:"group",patterns:Y}:Y}function x(Y){return Y}function L(Y){let Ee=Y.patterns.map(qe);return Ee.length===0?null:{type:"bgp",triples:Ee}}function V(Y){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:Y.template.map(qe),where:s.default.flatten([y(Y.input)])}}function $(Y){let Ee=y(Y.input);return Ee.patterns[0].distinct=!0,Ee}function Q(Y){return d.project?(d.extend.push(Y),y(Y.input)):s.default.flatten([y(Y.input),{type:"bind",variable:Y.variable,expression:g(Y.expression)}])}function ie(Y){const Ee=y(Y.input);let Ne=Ee;return Ee.type==="group"&&(Ne=Ee.patterns[0]),Ne.from={default:Y.default,named:Y.named},Ee}function ue(Y){return{type:"group",patterns:s.default.flatten([y(Y.input),{type:"filter",expression:g(Y.expression)}])}}function pe(Y){return{type:"graph",patterns:s.default.flatten([y(Y.input)]),name:Y.name}}function X(Y){const Ee=y(Y.input),Ne=Y.aggregates.map(x);return d.aggregates.push(...Ne),d.group.push(...Y.variables),Ee}function me(Y){return s.default.flatten(Y.input.map(y)).reduce((Ne,Ce)=>(Ce.type!=="bgp"||Ne.length==0||Ne[Ne.length-1].type!=="bgp"?Ne.push(Ce):Ne[Ne.length-1].triples.push(...Ce.triples),Ne),[])}function Fe(Y){const Ee={type:"optional",patterns:[y(Y.input[1])]};return Y.expression&&Ee.patterns.push({type:"filter",expression:g(Y.expression)}),Ee.patterns=s.default.flatten(Ee.patterns),s.default.flatten([y(Y.input[0]),Ee])}function ve(Y){let Ee=y(Y.input[1]);return Ee.type==="group"&&(Ee=Ee.patterns),Array.isArray(Ee)||(Ee=[Ee]),s.default.flatten([y(Y.input[0]),{type:"minus",patterns:Ee}])}function re(Y){return d.order.push(...Y.expressions),y(Y.input)}function je(Y){return{type:"bgp",triples:[{subject:Y.subject,predicate:_(Y.predicate),object:Y.object}]}}function qe(Y){return{subject:Y.subject,predicate:Y.predicate,object:Y.object}}function $e(Y,Ee){let Ne=s.default.isSimpleTerm(Y)?v(Y):Y;if(typeof Ne=="string"){if(Ee[Ne])return Ee[Ne]}else if(Array.isArray(Y))Y=Y.map(Ce=>$e(Ce,Ee));else for(let Ce of Object.keys(Y))Y[Ce]=$e(Y[Ce],Ee);return Y}function ge(Y,Ee){const Ne={type:"query",prefixes:{}},Ce=Ne;let Ue;Ee===l.PROJECT?(Ne.queryType="SELECT",Ue=Y.variables):Ee===l.ASK?Ne.queryType="ASK":Ee===l.DESCRIBE&&(Ne.queryType="DESCRIBE",Ue=Y.terms);const tt=d.extend,ut=d.group,rt=d.aggregates,lt=d.order;m(),d.project=!0;let ne=s.default.flatten([y(Y.input)]);ne.length===1&&ne[0].type==="group"&&(ne=ne[0].patterns),Ne.where=ne;let j={};for(let W of d.aggregates)j[v(W.variable)]=g(W);let D={};for(let W=d.extend.length-1;W>=0;--W){let be=d.extend[W];D[v(be.variable)]=$e(g(be.expression),j)}d.group.length>0&&(Ce.group=d.group.map(W=>{let be=v(W);if(D[be]){let he=D[be];return delete D[be],{variable:W,expression:he}}return{expression:W}})),d.order.length>0&&(Ce.order=d.order.map(y).map(W=>W.descending?W:{expression:W})),Ue&&(Ce.variables=Ue.map(W=>{let be=v(W);if(D[be]){let he=D[be];return delete D[be],{variable:W,expression:he}}return W}),Ce.variables.length===0&&(Ce.variables=[new i.Wildcard]));const q=Object.entries(D);if(q.length>0){Ce.where=Ce.where||[];for(const[W,be]of q)Ce.where.push({type:"bind",variable:(0,e.stringToTerm)(W),expression:be})}if(Ne.where.length>0&&Ne.where[Ne.where.length-1].type==="filter"){const W=Ne.where[Ne.where.length-1];we(W,Object.keys(j))&&(Ce.having=s.default.flatten([$e(W.expression,j)]),Ne.where.splice(-1))}return d.extend=tt,d.group=ut,d.aggregates=rt,d.order=lt,{type:"group",patterns:[Ce]}}function we(Y,Ee){return s.default.isSimpleTerm(Y)?Ee.indexOf(v(Y))>=0:Array.isArray(Y)?Y.some(Ne=>we(Ne,Ee)):Y===Object(Y)?Object.keys(Y).some(Ne=>we(Y[Ne],Ee)):Ee.indexOf(Y)>=0}function G(Y){let Ee=y(Y.input);return Ee.patterns[0].reduced=!0,Ee}function N(Y){let Ee=y(Y.input);return Ee.type==="group"&&(Ee=Ee.patterns),Array.isArray(Ee)||(Ee=[Ee]),{type:"service",name:Y.name,silent:Y.silent,patterns:Ee}}function P(Y){let Ee=y(Y.input),Ne=Ee;return Ee.type&&Ee.type==="group"&&(Ne=Ee.patterns[0]),Y.start!==0&&(Ne.offset=Y.start),Y.length!==void 0&&(Ne.limit=Y.length),Ee}function S(Y){return{type:"union",patterns:Y.input.map(y).map(E)}}function I(Y){return{type:"values",values:Y.bindings.map(Ee=>{let Ne={};for(let Ce of Y.variables){let Ue=`?${Ce.value}`;Ee[Ue]?Ne[Ue]=Ee[Ue]:Ne[Ue]=void 0}return Ne})}}function B(Y){const Ee=Y.input.map(_);return Ee.every(Ne=>"pathType"in Ne&&Ne.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:s.default.flatten(Ee.map(Ne=>Ne.items))}]}:{type:"path",pathType:"|",items:Ee}}function z(Y){if(Y.path.type===l.NPS){const Ee=Y.path.iris.map(Ne=>({type:"path",pathType:"^",items:[Ne]}));return Ee.length<=1?{type:"path",pathType:"!",items:Ee}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:Ee}]}}return{type:"path",pathType:"^",items:[_(Y.path)]}}function H(Y){return Y.iri}function K(Y){return Y.iris.length<=1?{type:"path",pathType:"!",items:Y.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:Y.iris}]}}function k(Y){return{type:"path",pathType:"+",items:[_(Y.path)]}}function Z(Y){return{type:"path",pathType:"/",items:Y.input.map(_)}}function de(Y){return{type:"path",pathType:"*",items:[_(Y.path)]}}function le(Y){return{type:"path",pathType:"?",items:[_(Y.path)]}}function De(Y){const Ee=Y.updates.map(Ne=>y(Ne).updates[0]);return{prefixes:{},type:"update",updates:Ee}}function Qe(Y){var Ee;let Ne=Y.where,Ce;if(Ne&&Ne.type===l.FROM){let tt=Ne;Ne=tt.input,Ce={default:tt.default,named:tt.named}}const Ue=[{updateType:"insertdelete",delete:ae(Y.delete||[]),insert:ae(Y.insert||[])}];if(Ce&&(Ue[0].using=Ce),!Ne||Ne.type===l.BGP&&Ne.patterns.length===0)Ue[0].where=[];else{const tt=[];let ut=y(Se(Ne,tt));if(ut.type==="group"?Ue[0].where=ut.patterns:Ue[0].where=[ut],tt.length>0){if(tt.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");((Ee=tt[0])===null||Ee===void 0?void 0:Ee.value)!==""&&(Ue[0].where=[{type:"graph",patterns:Ue[0].where,name:tt[0]}])}}return!Y.delete&&!Y.where?(Ue[0].updateType="insert",delete Ue[0].delete,delete Ue[0].where):!Y.insert&&!Y.where?(delete Ue[0].insert,delete Ue[0].where,Y.delete.some(tt=>tt.subject.termType==="Variable"||tt.predicate.termType==="Variable"||tt.object.termType==="Variable")?Ue[0].updateType="deletewhere":Ue[0].updateType="delete"):!Y.insert&&Y.where&&Y.where.type==="bgp"&&(0,r.isomorphic)(Y.delete,Y.where.patterns)&&(delete Ue[0].where,Ue[0].updateType="deletewhere"),{prefixes:{},type:"update",updates:Ue}}function Le(Y){const Ee=[{type:"load",silent:!!Y.silent,source:Y.source}];return Y.destination&&(Ee[0].destination=Y.destination),{prefixes:{},type:"update",updates:Ee}}function ce(Y){return xe(Y,"clear")}function se(Y){return xe(Y,"create")}function ye(Y){return xe(Y,"drop")}function xe(Y,Ee){const Ne=[{type:Ee,silent:!!Y.silent}];return Y.source==="DEFAULT"?Ne[0].graph={default:!0}:Y.source==="NAMED"?Ne[0].graph={named:!0}:Y.source==="ALL"?Ne[0].graph={all:!0}:Ne[0].graph={type:"graph",name:Y.source},{prefixes:{},type:"update",updates:Ne}}function U(Y){return J(Y,"add")}function R(Y){return J(Y,"move")}function C(Y){return J(Y,"copy")}function J(Y,Ee){const Ne=[{type:Ee,silent:!!Y.silent}];return Ne[0].source=Y.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:Y.source},Ne[0].destination=Y.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:Y.destination},{prefixes:{},type:"update",updates:Ne}}function ae(Y){if(!Y)return[];const Ee={};return Y.forEach(Ne=>{const Ce=Ne.graph.value;Ee[Ce]||(Ee[Ce]=[]),Ee[Ce].push(Ne)}),Object.keys(Ee).map(Ne=>Ne===""?{type:"bgp",triples:Ee[Ne].map(qe)}:{type:"graph",triples:Ee[Ne].map(qe),name:Ee[Ne][0].graph})}function _e(Y){return Se(Y,[])}function Se(Y,Ee){if(Array.isArray(Y))return Y.map(ut=>Se(ut,Ee));if(!Y.type||Y.type===l.DELETE_INSERT)return Y;if((Y.type===l.PATTERN||Y.type===l.PATH)&&Y.graph)return Ee.push(Y.graph),Y.graph.name!==""?Y.type===l.PATTERN?h.createPattern(Y.subject,Y.predicate,Y.object):h.createPath(Y.subject,Y.predicate,Y.object):Y;const Ne={},Ce={},Ue={};for(let ut of Object.keys(Y)){const rt=[];if(Ne[ut]=Se(Y[ut],rt),rt.length>0){Ce[ut]=rt;for(const lt of rt)Ue[lt.value]=lt}}const tt=Object.keys(Ue);if(tt.length>0)if(tt.length===1&&![l.PROJECT,l.SERVICE].includes(Y.type))Ee.push(Ue[tt[0]]);else{if(Y.type===l.BGP)return Xe(Y,Ce.patterns);for(let ut of Object.keys(Ce)){const rt=Ne[ut];Array.isArray(rt)?Ne[ut]=rt.map((lt,ne)=>Ce[ut][0].value===""?lt:h.createGraph(lt,Ce[ut][ne])):Ce[ut][0].value!==""&&(Ne[ut]=h.createGraph(rt,Ce[ut][0]))}}return Ne}function Xe(Y,Ee){var Ne;const Ce={};for(let ut=0;ut<Y.patterns.length;++ut){const rt=Y.patterns[ut],lt=Ee[ut].value;Ce[lt]=(Ne=Ce[lt])!==null&&Ne!==void 0?Ne:{patterns:[],graph:Ee[ut]},Ce[lt].patterns.push(rt)}let Ue=[];for(const[ut,{patterns:rt,graph:lt}]of Object.entries(Ce)){const ne=h.createBgp(rt);Ue.push(ut===""?ne:h.createGraph(ne,lt))}let tt=Ue[0];for(let ut=1;ut<Ue.length;++ut)tt=h.createJoin([tt,Ue[ut]]);return tt}return Wr}var s8;function bt(){return s8||(s8=1,function(a){var t=Cn&&Cn.__createBinding||(Object.create?function(l,f,d,h){h===void 0&&(h=d);var p=Object.getOwnPropertyDescriptor(f,d);(!p||("get"in p?!f.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(l,h,p)}:function(l,f,d,h){h===void 0&&(h=d),l[h]=f[d]}),u=Cn&&Cn.__setModuleDefault||(Object.create?function(l,f){Object.defineProperty(l,"default",{enumerable:!0,value:f})}:function(l,f){l.default=f}),n=Cn&&Cn.__importStar||function(l){if(l&&l.__esModule)return l;var f={};if(l!=null)for(var d in l)d!=="default"&&Object.prototype.hasOwnProperty.call(l,d)&&t(f,l,d);return u(f,l),f},r=Cn&&Cn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(a,"__esModule",{value:!0}),a.Util=a.toSparqlJs=a.toSparql=a.Factory=a.Algebra=a.translate=void 0;const e=r(iue());a.translate=e.default;const i=n(Up());a.Algebra=i;const o=r(_O());a.Factory=o.default;const c=pue();Object.defineProperty(a,"toSparql",{enumerable:!0,get:function(){return c.toSparql}}),Object.defineProperty(a,"toSparqlJs",{enumerable:!0,get:function(){return c.toSparqlJs}});const s=r(Kx());a.Util=s.default}(Cn)),Cn}var au={},p0={},c8;function yue(){if(c8)return p0;c8=1,Object.defineProperty(p0,"__esModule",{value:!0}),p0.asTermType=void 0;function a(t){if(t==="namedNode"||t==="literal"||t==="blankNode"||t==="quad")return t}return p0.asTermType=a,p0}var y0={},l8;function bue(){if(l8)return y0;l8=1,Object.defineProperty(y0,"__esModule",{value:!0}),y0.Variable=void 0;const a=aa();class t{constructor(n){this.expressionType=a.ExpressionType.Variable,this.name=n}}return y0.Variable=t,y0}var _t={},Bn={},uu={},b0={},d8;function f8(){if(d8)return b0;d8=1,Object.defineProperty(b0,"__esModule",{value:!0}),b0.BlankNode=void 0;class a{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return b0.BlankNode=a,b0}var _0={},m0={},h8;function p8(){if(h8)return m0;h8=1,Object.defineProperty(m0,"__esModule",{value:!0}),m0.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return m0.DefaultGraph=a,a.INSTANCE=new a,m0}var g0={},v0={},y8;function oI(){if(y8)return v0;y8=1,Object.defineProperty(v0,"__esModule",{value:!0}),v0.NamedNode=void 0;class a{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return v0.NamedNode=a,v0}var b8;function _8(){if(b8)return g0;b8=1,Object.defineProperty(g0,"__esModule",{value:!0}),g0.Literal=void 0;const a=oI();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return g0.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),g0}var T0={},m8;function g8(){if(m8)return T0;m8=1,Object.defineProperty(T0,"__esModule",{value:!0}),T0.Quad=void 0;class a{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return T0.Quad=a,T0}var w0={},v8;function T8(){if(v8)return w0;v8=1,Object.defineProperty(w0,"__esModule",{value:!0}),w0.Variable=void 0;class a{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return w0.Variable=a,w0}var w8;function _ue(){if(w8)return _0;w8=1,Object.defineProperty(_0,"__esModule",{value:!0}),_0.DataFactory=void 0;const a=f8(),t=p8(),u=_8(),n=oI(),r=g8(),e=T8();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return _0.DataFactory=o,_0}var S8;function mue(){return S8||(S8=1,function(a){var t=uu&&uu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=uu&&uu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(f8(),a),u(_ue(),a),u(p8(),a),u(_8(),a),u(oI(),a),u(g8(),a),u(T8(),a)}(uu)),uu}var O8;function ou(){if(O8)return Bn;O8=1,Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.SparqlOperator=Bn.TypeURL=Bn.typedLiteral=Bn.TypeAlias=void 0;const a=mue();var t;(function(i){i.SPARQL_NUMERIC="SPARQL_NUMERIC",i.SPARQL_STRINGLY="SPARQL_STRINGLY"})(t||(Bn.TypeAlias=t={}));const u=new a.DataFactory;function n(i,o){return u.literal(i,u.namedNode(o))}Bn.typedLiteral=n;var r;(function(i){i.XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",i.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",i.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",i.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",i.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",i.XSD_DATE_TIME_STAMP="http://www.w3.org/2001/XMLSchema#dateTimeStamp",i.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",i.XSD_G_MONTH="http://www.w3.org/2001/XMLSchema#gMonth",i.XSD_G_MONTHDAY="http://www.w3.org/2001/XMLSchema#gMonthDay",i.XSD_G_YEAR="http://www.w3.org/2001/XMLSchema#gYear",i.XSD_G_YEAR_MONTH="http://www.w3.org/2001/XMLSchema#gYearMonth",i.XSD_TIME="http://www.w3.org/2001/XMLSchema#time",i.XSD_G_DAY="http://www.w3.org/2001/XMLSchema#gDay",i.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",i.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",i.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",i.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",i.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",i.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",i.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",i.XSD_INT="http://www.w3.org/2001/XMLSchema#int",i.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",i.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",i.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",i.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",i.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",i.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",i.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",i.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",i.XSD_NORMALIZED_STRING="http://www.w3.org/2001/XMLSchema#normalizedString",i.XSD_TOKEN="http://www.w3.org/2001/XMLSchema#token",i.XSD_LANGUAGE="http://www.w3.org/2001/XMLSchema#language",i.XSD_NM_TOKEN="http://www.w3.org/2001/XMLSchema#NMTOKEN",i.XSD_NAME="http://www.w3.org/2001/XMLSchema#name",i.XSD_NC_NAME="http://www.w3.org/2001/XMLSchema#NCName",i.XSD_ENTITY="http://www.w3.org/2001/XMLSchema#ENTITY",i.XSD_ID="http://www.w3.org/2001/XMLSchema#ID",i.XSD_ID_REF="http://www.w3.org/2001/XMLSchema#IDREF",i.XSD_DURATION="http://www.w3.org/2001/XMLSchema#duration",i.XSD_YEAR_MONTH_DURATION="http://www.w3.org/2001/XMLSchema#yearMonthDuration",i.XSD_DAY_TIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration"})(r||(Bn.TypeURL=r={}));var e;return function(i){i.NOT="!",i.UMINUS="uminus",i.UPLUS="uplus",i.LOGICAL_OR="||",i.LOGICAL_AND="&&",i.EQUAL="=",i.NOT_EQUAL="!=",i.LT="<",i.GT=">",i.LTE="<=",i.GTE=">=",i.SAME_TERM="sameterm",i.IN="in",i.NOT_IN="notin",i.MULTIPLICATION="*",i.DIVISION="/",i.ADDITION="+",i.SUBTRACTION="-",i.IS_IRI="isiri",i.IS_URI="isuri",i.IS_BLANK="isblank",i.IS_LITERAL="isliteral",i.IS_NUMERIC="isnumeric",i.STR="str",i.LANG="lang",i.DATATYPE="datatype",i.IRI="iri",i.URI="uri",i.BNODE="bnode",i.STRDT="strdt",i.STRLANG="strlang",i.UUID="uuid",i.STRUUID="struuid",i.STRLEN="strlen",i.SUBSTR="substr",i.UCASE="ucase",i.LCASE="lcase",i.STRSTARTS="strstarts",i.STRENDS="strends",i.CONTAINS="contains",i.STRBEFORE="strbefore",i.STRAFTER="strafter",i.ENCODE_FOR_URI="encode_for_uri",i.CONCAT="concat",i.LANG_MATCHES="langmatches",i.REGEX="regex",i.REPLACE="replace",i.ABS="abs",i.ROUND="round",i.CEIL="ceil",i.FLOOR="floor",i.RAND="rand",i.NOW="now",i.YEAR="year",i.MONTH="month",i.DAY="day",i.HOURS="hours",i.MINUTES="minutes",i.SECONDS="seconds",i.TIMEZONE="timezone",i.TZ="tz",i.MD5="md5",i.SHA1="sha1",i.SHA256="sha256",i.SHA384="sha384",i.SHA512="sha512",i.TRIPLE="triple",i.SUBJECT="subject",i.PREDICATE="predicate",i.OBJECT="object",i.IS_TRIPLE="istriple",i.BOUND="bound",i.IF="if",i.COALESCE="coalesce"}(e||(Bn.SparqlOperator=e={})),Bn}var Tt={},A8;function th(){if(A8)return Tt;A8=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.NoAggregator=Tt.ExtensionFunctionError=Tt.InvalidExpression=Tt.InvalidArity=Tt.UnexpectedError=Tt.ParseError=Tt.EmptyAggregateError=Tt.IncompatibleLanguageOperation=Tt.InvalidTimezoneCall=Tt.CastError=Tt.InvalidArgumentTypes=Tt.InError=Tt.CoalesceError=Tt.RDFEqualTypeError=Tt.EBVCoercionError=Tt.UnboundVariableError=Tt.InvalidLexicalForm=Tt.isExpressionError=Tt.ExpressionError=void 0;class a extends Error{}Tt.ExpressionError=a;function t(v){return v instanceof a}Tt.isExpressionError=t;class u extends a{constructor(T){super(`Invalid lexical form '${_(T)}'`),this.arg=T}}Tt.InvalidLexicalForm=u;class n extends a{constructor(T,w){super(`Unbound variable '${_(T)}'`),this.variable=T,this.bindings=w}}Tt.UnboundVariableError=n;class r extends a{constructor(T){super(`Cannot coerce term to EBV '${_(T)}'`),this.arg=T}}Tt.EBVCoercionError=r;class e extends a{constructor(T){super("Equality test for literals with unsupported datatypes"),this.args=T}}Tt.RDFEqualTypeError=e;class i extends a{constructor(T){super("All COALESCE arguments threw errors"),this.errors=T}}Tt.CoalesceError=i;class o extends a{constructor(T){super(`Some argument to IN errorred and none where equal. ${T.map(w=>`(${w.toString()}) `).join("and ")}`),this.errors=T}}Tt.InError=o;class c extends a{constructor(T,w){super(`Argument types not valid for operator: '${_(w)}' with '${_(T)}`),this.args=T,this.op=w}}Tt.InvalidArgumentTypes=c;class s extends a{constructor(T,w){super(`Invalid cast: '${_(T)}' to '${_(w)}'`),this.arg=T}}Tt.CastError=s;class l extends a{constructor(T){super(`TIMEZONE call on ${T} which has no timezone`),this.dateString=T}}Tt.InvalidTimezoneCall=l;class f extends a{constructor(T,w){super(`Operation on incompatible language literals '${_(T)}' and '${_(w)}'`),this.arg1=T,this.arg2=w}}Tt.IncompatibleLanguageOperation=f;class d extends a{constructor(){super("Empty aggregate expression")}}Tt.EmptyAggregateError=d;class h extends a{constructor(T,w){super(`Failed to parse "${T}" as ${w}.`)}}Tt.ParseError=h;class p extends Error{constructor(T,w){super(`Programmer Error '${T}'`),this.payload=w}}Tt.UnexpectedError=p;class b extends Error{constructor(T,w){super(`The number of args does not match the arity of the operator '${_(w)}'.`),this.args=T,this.op=w}}Tt.InvalidArity=b;class m extends Error{constructor(T){super(`Invalid SPARQL Expression '${_(T)}'`)}}Tt.InvalidExpression=m;class y extends Error{constructor(T,w){w instanceof Error?super(`Error thrown in ${T}: ${w.message}${w.stack?`
${w.stack}`:""}`):super(`Error thrown in ${T}`)}}Tt.ExtensionFunctionError=y;class g extends Error{constructor(T){super(`Aggregate expression ${_(T)} found, but no aggregate hook provided.`)}}Tt.NoAggregator=g;function _(v){return JSON.stringify(v)}return Tt}var $n={},E8;function gue(){if(E8)return $n;E8=1,Object.defineProperty($n,"__esModule",{value:!0}),$n.serializeDuration=$n.serializeTime=$n.serializeDate=$n.serializeDateTime=void 0;function a(i,o=2){return i.toLocaleString(void 0,{minimumIntegerDigits:o,useGrouping:!1})}function t(i){return`${n({year:i.year,month:i.month,day:i.day})}T${r(i)}`}$n.serializeDateTime=t;function u(i){return i.zoneHours===void 0||i.zoneMinutes===void 0?"":i.zoneHours===0&&i.zoneMinutes===0?"Z":`${i.zoneHours>=0?`+${a(i.zoneHours)}`:a(i.zoneHours)}:${a(Math.abs(i.zoneMinutes))}`}function n(i){return`${a(i.year,4)}-${a(i.month)}-${a(i.day)}${u(i)}`}$n.serializeDate=n;function r(i){return`${a(i.hours)}:${a(i.minutes)}:${a(i.seconds)}${u(i)}`}$n.serializeTime=r;function e(i,o="PT0S"){if(!Object.values(i).some(m=>(m||0)!==0))return o;const c=Object.values(i).some(m=>(m||0)<0)?"-":"",s=i.year?`${Math.abs(i.year)}Y`:"",l=i.month?`${Math.abs(i.month)}M`:"",f=i.day?`${Math.abs(i.day)}D`:"",d=`${c}P${s}${l}${f}`;if(!(i.hours||i.minutes||i.seconds))return d;const h=i.hours?`${Math.abs(i.hours)}H`:"",p=i.minutes?`${Math.abs(i.minutes)}M`:"",b=i.seconds?`${Math.abs(i.seconds)}S`:"";return`${d}T${h}${p}${b}`}return $n.serializeDuration=e,$n}var sI={},Yt={},S0={},x8;function I8(){if(x8)return S0;x8=1,Object.defineProperty(S0,"__esModule",{value:!0}),S0.OverloadTree=void 0;const a=rh(),t=gO();let u=class YF{constructor(r,e){this.identifier=r,this.implementation=void 0,this.generalOverloads=Object.create(null),this.literalOverLoads=[],this.depth=e??0,this.promotionCount=void 0}getSubtree(r){const e=(0,t.asGeneralType)(r);if(e)return this.generalOverloads[e];for(const[i,o]of this.literalOverLoads)if(r===i)return o}getImplementationExact(r){let e=this;for(const i of r)if(e=e.getSubtree(i),!e)return;return e.implementation}search(r,e,i){let o=i[this.identifier],c=0;for(;c<r.length&&(o!=null&&o.cache);){const f=r[c],d=(0,a.isLiteralTermExpression)(f);o=o.cache[d?d.dataType:f.termType],c++}if(c===r.length&&(o!=null&&o.func))return o.func;const s=[],l=0;if(r.length===0)return this.implementation;for(s.push(...this.getSubTreeWithArg(r[l],e).map(f=>({node:f,index:l+1})));s.length>0;){const{index:f,node:d}=s.pop();if(f===r.length&&d.implementation)return this.addToCache(i,r,d.implementation),d.implementation;s.push(...d.getSubTreeWithArg(r[f],e).map(h=>({node:h,index:f+1})))}}addToCache(r,e,i){function o(s,l){return l in s||(s[l]={}),s[l]}let c=o(r,this.identifier);for(const s of e){const l=(0,a.isLiteralTermExpression)(s),f=l?l.dataType:s.termType;c.cache=c.cache??{},c=o(c.cache,f)}c.func=i}addOverload(r,e){this._addOverload([...r],e,0)}_addOverload(r,e,i){const[o,...c]=r;if(!o){(this.promotionCount===void 0||i<=this.promotionCount)&&(this.promotionCount=i,this.implementation=e);return}let s=this.getSubtree(o);if(!s){const l=new YF(this.identifier,this.depth+1),f=(0,t.asGeneralType)(o);f&&(this.generalOverloads[f]=l);const d=(0,t.asOverrideType)(o);d&&this.literalOverLoads.push([d,l]),s=l}if(s._addOverload(c,e,i),t.typePromotion[o])for(const l of t.typePromotion[o])this.addPromotedOverload(l.typeToPromote,e,l.conversionFunction,c,i)}addPromotedOverload(r,e,i,o,c){let s=this.getSubtree(r);if(!s){const l=new YF(this.identifier,this.depth+1);this.literalOverLoads.push([r,l]),s=l}s._addOverload(o,l=>f=>e(l)([...f.slice(0,this.depth),i(f[this.depth]),...f.slice(this.depth+1,f.length)]),c+1)}getSubTreeWithArg(r,e){const i=[],o=(0,a.isLiteralTermExpression)(r);if(this.generalOverloads.term&&i.push(this.generalOverloads.term),this.generalOverloads[r.termType]&&i.push(this.generalOverloads[r.termType]),o){const c=(0,t.asKnownLiteralType)(o.dataType);let s;c?s=t.superTypeDictTable[c]:s=(0,t.getSuperTypes)(o.dataType,e);const l=this.literalOverLoads.filter(([f,d])=>f in s).map(([f,d])=>[s[f],d]);l.sort(([f,d],[h,p])=>f-h),i.push(...l.map(([f,d])=>d))}return i}};return S0.OverloadTree=u,S0}var R8;function N8(){if(R8)return Yt;R8=1,Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.expressionToVar=Yt.dateTime=Yt.langString=Yt.string=Yt.double=Yt.float=Yt.decimal=Yt.integer=Yt.bool=Yt.Builder=Yt.declare=void 0;const a=ke(),t=rh(),u=rh(),n=ou(),r=ou(),e=th(),i=I8();function o(g){return new c(g)}Yt.declare=o;class c{constructor(_){this.overloadTree=new i.OverloadTree(_),this.collected=!1}collect(){if(this.collected)throw new Error("Builders can only be collected once!");return this.collected=!0,this.overloadTree}static wrapInvalidLexicalProtected(_){return v=>T=>{for(const[w,A]of T.entries())if(A instanceof u.NonLexicalLiteral)throw new e.InvalidLexicalForm(T[w].toRDF(v.context.getSafe(a.KeysInitQuery.dataFactory)));return _(v)(T)}}set(_,v,T=!0){return this.overloadTree.addOverload(_,T?c.wrapInvalidLexicalProtected(v):v),this}copy({from:_,to:v}){const T=this.overloadTree.getImplementationExact(_);if(!T)throw new e.UnexpectedError("Tried to copy implementation, but types not found",{from:_,to:v});return this.set(v,T)}onUnary(_,v,T=!0){return this.set([_],w=>([A])=>v(w)(A),T)}onUnaryTyped(_,v,T=!0){return this.set([_],w=>([A])=>v(w)(A.typedValue),T)}onBinary(_,v,T=!0){return this.set(_,w=>([A,M])=>v(w)(A,M),T)}onBinaryTyped(_,v,T=!0){return this.set(_,w=>([A,M])=>v(w)(A.typedValue,M.typedValue),T)}onTernaryTyped(_,v,T=!0){return this.set(_,w=>([A,M,F])=>v(w)(A.typedValue,M.typedValue,F.typedValue),T)}onTernary(_,v,T=!0){return this.set(_,w=>([A,M,F])=>v(w)(A,M,F),T)}onQuaternaryTyped(_,v,T=!0){return this.set(_,w=>([A,M,F,O])=>v(w)(A.typedValue,M.typedValue,F.typedValue,O.typedValue),T)}onTerm1(_,v=!1){return this.set(["term"],T=>([w])=>_(T)(w),v)}onTerm3(_){return this.set(["term","term","term"],v=>([T,w,A])=>_(v)(T,w,A))}onQuad1(_){return this.set(["quad"],v=>([T])=>_(v)(T))}onLiteral1(_,v=!0){return this.set(["literal"],T=>([w])=>_(T)(w),v)}onBoolean1(_,v=!0){return this.set([n.TypeURL.XSD_BOOLEAN],T=>([w])=>_(T)(w),v)}onBoolean1Typed(_,v=!0){return this.set([n.TypeURL.XSD_BOOLEAN],T=>([w])=>_(T)(w.typedValue),v)}onString1(_,v=!0){return this.set([n.TypeURL.XSD_STRING],T=>([w])=>_(T)(w),v)}onString1Typed(_,v=!0){return this.set([n.TypeURL.XSD_STRING],T=>([w])=>_(T)(w.typedValue),v)}onLangString1(_,v=!0){return this.set([n.TypeURL.RDF_LANG_STRING],T=>([w])=>_(T)(w),v)}onStringly1(_,v=!0){return this.set([n.TypeAlias.SPARQL_STRINGLY],T=>([w])=>_(T)(w),v)}onStringly1Typed(_,v=!0){return this.set([n.TypeAlias.SPARQL_STRINGLY],T=>([w])=>_(T)(w.typedValue),v)}onNumeric1(_,v=!0){return this.set([n.TypeAlias.SPARQL_NUMERIC],T=>([w])=>_(T)(w),v)}onDateTime1(_,v=!0){return this.set([n.TypeURL.XSD_DATE_TIME],T=>([w])=>_(T)(w),v)}numericConverter(_,v=!0){const T=w=>A=>_(w)(A.typedValue);return this.onUnary(r.TypeURL.XSD_INTEGER,w=>A=>l(T(w)(A)),v).onUnary(r.TypeURL.XSD_DECIMAL,w=>A=>f(T(w)(A)),v).onUnary(r.TypeURL.XSD_FLOAT,w=>A=>d(T(w)(A)),v).onUnary(r.TypeURL.XSD_DOUBLE,w=>A=>h(T(w)(A)),v)}arithmetic(_,v=!0){const T=w=>(A,M)=>_(w)(A.typedValue,M.typedValue);return this.onBinary([r.TypeURL.XSD_INTEGER,r.TypeURL.XSD_INTEGER],w=>(A,M)=>l(T(w)(A,M)),v).onBinary([r.TypeURL.XSD_DECIMAL,r.TypeURL.XSD_DECIMAL],w=>(A,M)=>f(T(w)(A,M)),v).onBinary([r.TypeURL.XSD_FLOAT,r.TypeURL.XSD_FLOAT],w=>(A,M)=>d(T(w)(A,M)),v).onBinary([r.TypeURL.XSD_DOUBLE,r.TypeURL.XSD_DOUBLE],w=>(A,M)=>h(T(w)(A,M)),v)}numberTest(_){return this.numeric(v=>([T,w])=>{const A=_(v)(T.typedValue,w.typedValue);return s(A)})}stringTest(_,v=!0){return this.set([n.TypeURL.XSD_STRING,n.TypeURL.XSD_STRING],T=>([w,A])=>{const M=_(T)(w.typedValue,A.typedValue);return s(M)},v)}booleanTest(_,v=!0){return this.set([n.TypeURL.XSD_BOOLEAN,n.TypeURL.XSD_BOOLEAN],T=>([w,A])=>{const M=_(T)(w.typedValue,A.typedValue);return s(M)},v)}dateTimeTest(_,v=!0){return this.set([n.TypeURL.XSD_DATE_TIME,n.TypeURL.XSD_DATE_TIME],T=>([w,A])=>{const M=_(T)(w.typedValue,A.typedValue);return s(M)},v)}numeric(_){return this.set([n.TypeAlias.SPARQL_NUMERIC,n.TypeAlias.SPARQL_NUMERIC],_)}}Yt.Builder=c;function s(g){return new t.BooleanLiteral(g)}Yt.bool=s;function l(g){return new t.IntegerLiteral(g)}Yt.integer=l;function f(g){return new t.DecimalLiteral(g)}Yt.decimal=f;function d(g){return new t.FloatLiteral(g)}Yt.float=d;function h(g){return new t.DoubleLiteral(g)}Yt.double=h;function p(g){return new t.StringLiteral(g)}Yt.string=p;function b(g,_){return new t.LangStringLiteral(g,_)}Yt.langString=b;function m(g,_){return new t.DateTimeLiteral(g,_)}Yt.dateTime=m;function y(g,_){return g.variable(_.name.slice(1))}return Yt.expressionToVar=y,Yt}var F8;function gO(){return F8||(F8=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.typePromotion=a.isSubTypeOf=a.getSuperTypeDict=a.isInternalSubType=a.asGeneralType=a.asOverrideType=a.asKnownLiteralType=a.asTypeAlias=a.typeAliasCheck=a.extensionTableInit=a.getSuperTypes=a.superTypeDictTable=a.extensionTableInput=void 0;const t=rh(),u=N8(),n=ou();a.extensionTableInput={[n.TypeURL.XSD_DATE_TIME_STAMP]:n.TypeURL.XSD_DATE_TIME,[n.TypeURL.XSD_DAY_TIME_DURATION]:n.TypeURL.XSD_DURATION,[n.TypeURL.XSD_YEAR_MONTH_DURATION]:n.TypeURL.XSD_DURATION,[n.TypeURL.RDF_LANG_STRING]:n.TypeAlias.SPARQL_STRINGLY,[n.TypeURL.XSD_STRING]:n.TypeAlias.SPARQL_STRINGLY,[n.TypeURL.XSD_NORMALIZED_STRING]:n.TypeURL.XSD_STRING,[n.TypeURL.XSD_TOKEN]:n.TypeURL.XSD_NORMALIZED_STRING,[n.TypeURL.XSD_LANGUAGE]:n.TypeURL.XSD_TOKEN,[n.TypeURL.XSD_NM_TOKEN]:n.TypeURL.XSD_TOKEN,[n.TypeURL.XSD_NAME]:n.TypeURL.XSD_TOKEN,[n.TypeURL.XSD_NC_NAME]:n.TypeURL.XSD_NAME,[n.TypeURL.XSD_ENTITY]:n.TypeURL.XSD_NC_NAME,[n.TypeURL.XSD_ID]:n.TypeURL.XSD_NC_NAME,[n.TypeURL.XSD_ID_REF]:n.TypeURL.XSD_NC_NAME,[n.TypeURL.XSD_DOUBLE]:n.TypeAlias.SPARQL_NUMERIC,[n.TypeURL.XSD_FLOAT]:n.TypeAlias.SPARQL_NUMERIC,[n.TypeURL.XSD_DECIMAL]:n.TypeAlias.SPARQL_NUMERIC,[n.TypeURL.XSD_INTEGER]:n.TypeURL.XSD_DECIMAL,[n.TypeURL.XSD_NON_POSITIVE_INTEGER]:n.TypeURL.XSD_INTEGER,[n.TypeURL.XSD_NEGATIVE_INTEGER]:n.TypeURL.XSD_NON_POSITIVE_INTEGER,[n.TypeURL.XSD_LONG]:n.TypeURL.XSD_INTEGER,[n.TypeURL.XSD_INT]:n.TypeURL.XSD_LONG,[n.TypeURL.XSD_SHORT]:n.TypeURL.XSD_INT,[n.TypeURL.XSD_BYTE]:n.TypeURL.XSD_SHORT,[n.TypeURL.XSD_NON_NEGATIVE_INTEGER]:n.TypeURL.XSD_INTEGER,[n.TypeURL.XSD_POSITIVE_INTEGER]:n.TypeURL.XSD_NON_NEGATIVE_INTEGER,[n.TypeURL.XSD_UNSIGNED_LONG]:n.TypeURL.XSD_NON_NEGATIVE_INTEGER,[n.TypeURL.XSD_UNSIGNED_INT]:n.TypeURL.XSD_UNSIGNED_LONG,[n.TypeURL.XSD_UNSIGNED_SHORT]:n.TypeURL.XSD_UNSIGNED_INT,[n.TypeURL.XSD_UNSIGNED_BYTE]:n.TypeURL.XSD_UNSIGNED_SHORT,[n.TypeURL.XSD_DATE_TIME]:"term",[n.TypeURL.XSD_BOOLEAN]:"term",[n.TypeURL.XSD_DATE]:"term",[n.TypeURL.XSD_G_MONTH]:"term",[n.TypeURL.XSD_G_MONTHDAY]:"term",[n.TypeURL.XSD_G_YEAR]:"term",[n.TypeURL.XSD_G_YEAR_MONTH]:"term",[n.TypeURL.XSD_TIME]:"term",[n.TypeURL.XSD_G_DAY]:"term",[n.TypeURL.XSD_DURATION]:"term",[n.TypeAlias.SPARQL_NUMERIC]:"term",[n.TypeAlias.SPARQL_STRINGLY]:"term",[n.TypeURL.XSD_ANY_URI]:"term"},a.superTypeDictTable=Object.create(null);function r(b,m){const y=m.cache.get(b);if(y)return y;const g=m.discoverer(b);if(g==="term"){const T=Object.create(null);return T.__depth=0,T[b]=0,m.cache.set(b,T),T}let _;const v=s(g);return v?_={...a.superTypeDictTable[v]}:_={...r(g,m)},_.__depth++,_[b]=_.__depth,m.cache.set(b,_),_}a.getSuperTypes=r;function e(){for(const[b,m]of Object.entries(a.extensionTableInput)){const y=b;a.superTypeDictTable[y]||i(y,m,a.superTypeDictTable)}}a.extensionTableInit=e,e();function i(b,m,y){if(m==="term"||m===void 0){const g=Object.create(null);g.__depth=0,g[b]=0,y[b]=g;return}y[m]||i(m,a.extensionTableInput[m],y),y[b]={...y[m],[b]:y[m].__depth+1,__depth:y[m].__depth+1}}a.typeAliasCheck=Object.create(null);function o(){for(const b of Object.values(n.TypeAlias))a.typeAliasCheck[b]=!0}o();function c(b){if(b in a.typeAliasCheck)return b}a.asTypeAlias=c;function s(b){if(b in a.superTypeDictTable)return b}a.asKnownLiteralType=s;function l(b){if(s(b)??b==="term")return b}a.asOverrideType=l;function f(b){if(b==="term"||(0,t.asTermType)(b))return b}a.asGeneralType=f;function d(b,m){return b!=="term"&&a.superTypeDictTable[b]&&a.superTypeDictTable[b][m]!==void 0}a.isInternalSubType=d;function h(b,m){const y=s(b);return y?a.superTypeDictTable[y]:r(b,m)}a.getSuperTypeDict=h;function p(b,m,y){return b==="term"?!1:h(b,y)[m]!==void 0}a.isSubTypeOf=p,a.typePromotion={[n.TypeURL.XSD_STRING]:[{typeToPromote:n.TypeURL.XSD_ANY_URI,conversionFunction:b=>(0,u.string)(b.str())}],[n.TypeURL.XSD_DOUBLE]:[{typeToPromote:n.TypeURL.XSD_FLOAT,conversionFunction:b=>(0,u.double)(b.typedValue)},{typeToPromote:n.TypeURL.XSD_DECIMAL,conversionFunction:b=>(0,u.double)(b.typedValue)}],[n.TypeURL.XSD_FLOAT]:[{typeToPromote:n.TypeURL.XSD_DECIMAL,conversionFunction:b=>(0,u.float)(b.typedValue)}]}}(sI)),sI}var D8;function vue(){if(D8)return _t;D8=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.isNonLexicalLiteral=_t.NonLexicalLiteral=_t.YearMonthDurationLiteral=_t.DayTimeDurationLiteral=_t.DurationLiteral=_t.DateLiteral=_t.TimeLiteral=_t.DateTimeLiteral=_t.StringLiteral=_t.LangStringLiteral=_t.BooleanLiteral=_t.DoubleLiteral=_t.FloatLiteral=_t.DecimalLiteral=_t.IntegerLiteral=_t.NumericLiteral=_t.Literal=_t.isLiteralTermExpression=_t.DefaultGraph=_t.Quad=_t.BlankNode=_t.NamedNode=_t.Term=void 0;const a=aa(),t=ou(),u=ou(),n=th(),r=gue(),e=gO();class i{constructor(){this.expressionType=a.ExpressionType.Term}str(){throw new n.InvalidArgumentTypes([this],t.SparqlOperator.STR)}coerceEBV(){throw new n.EBVCoercionError(this)}}_t.Term=i;class o extends i{constructor(V){super(),this.value=V,this.termType="namedNode"}toRDF(V){return V.namedNode(this.value)}str(){return this.value}}_t.NamedNode=o;class c extends i{constructor(V){super(),this.termType="blankNode",this.value=V}toRDF(V){return typeof this.value=="string"?V.blankNode(this.value):this.value}}_t.BlankNode=c;class s extends i{constructor(V,$,Q,ie){super(),this.subject=V,this.predicate=$,this.object=Q,this.graph=ie,this.termType="quad"}toRDF(V){return V.quad(this.subject.toRDF(V),this.predicate.toRDF(V),this.object.toRDF(V),this.graph.toRDF(V))}str(){return`Quad: [${this.subject.str()}, ${this.predicate.str()}, ${this.object.str()}, ${this.graph.str()}]`}}_t.Quad=s;class l extends i{constructor(){super(),this.termType="defaultGraph"}toRDF(V){return V.defaultGraph()}str(){return"DefaultGraph"}}_t.DefaultGraph=l;function f(L){if(L.termType==="literal")return L}_t.isLiteralTermExpression=f;class d extends i{constructor(V,$,Q,ie){super(),this.typedValue=V,this.dataType=$,this.strValue=Q,this.language=ie,this.termType="literal"}toRDF(V){return V.literal(this.strValue??this.str(),this.language??V.namedNode(this.dataType))}str(){return this.strValue??this.typedValue.toString()}}_t.Literal=d;class h extends d{constructor(V,$,Q,ie){super(V,$,Q,ie),this.typedValue=V,this.strValue=Q,this.language=ie}coerceEBV(){return!!this.typedValue}toRDF(V){const $=super.toRDF(V);return Number.isFinite(this.typedValue)||($.value=$.value.replace("Infinity","INF")),$}str(){return this.strValue??this.specificFormatter(this.typedValue)}}_t.NumericLiteral=h;class p extends h{constructor(V,$,Q,ie){super(V,$??u.TypeURL.XSD_INTEGER,Q,ie),this.typedValue=V,this.strValue=Q,this.language=ie}specificFormatter(V){return V.toFixed(0)}}_t.IntegerLiteral=p;class b extends h{constructor(V,$,Q,ie){super(V,$??u.TypeURL.XSD_DECIMAL,Q,ie),this.typedValue=V,this.strValue=Q,this.language=ie}specificFormatter(V){return V.toString()}}_t.DecimalLiteral=b;class m extends h{constructor(V,$,Q,ie){super(V,$??u.TypeURL.XSD_FLOAT,Q,ie),this.typedValue=V,this.strValue=Q,this.language=ie}specificFormatter(V){return V.toString()}}_t.FloatLiteral=m;class y extends h{constructor(V,$,Q,ie){super(V,$??u.TypeURL.XSD_DOUBLE,Q,ie),this.typedValue=V,this.strValue=Q,this.language=ie}specificFormatter(V){if(!Number.isFinite(V))return V>0?"INF":V<0?"-INF":"NaN";const $=V.toExponential(),[Q,ie]=$.split("e"),ue=ie.replace(/\+/u,"");return`${Q.includes(".")?Q:`${Q}.0`}E${ue}`}}_t.DoubleLiteral=y;class g extends d{constructor(V,$,Q){super(V,Q??u.TypeURL.XSD_BOOLEAN,$),this.typedValue=V,this.strValue=$}coerceEBV(){return this.typedValue}}_t.BooleanLiteral=g;class _ extends d{constructor(V,$,Q){super(V,Q??u.TypeURL.RDF_LANG_STRING,V,$),this.typedValue=V,this.language=$}coerceEBV(){return this.str().length>0}}_t.LangStringLiteral=_;class v extends d{constructor(V,$){super(V,$??u.TypeURL.XSD_STRING,V),this.typedValue=V}coerceEBV(){return this.str().length>0}}_t.StringLiteral=v;class T extends d{constructor(V,$,Q){super(V,Q??u.TypeURL.XSD_DATE_TIME,$),this.typedValue=V,this.strValue=$}str(){return(0,r.serializeDateTime)(this.typedValue)}}_t.DateTimeLiteral=T;class w extends d{constructor(V,$,Q){super(V,Q??u.TypeURL.XSD_TIME,$),this.typedValue=V,this.strValue=$}str(){return(0,r.serializeTime)(this.typedValue)}}_t.TimeLiteral=w;class A extends d{constructor(V,$,Q){super(V,Q??u.TypeURL.XSD_DATE,$),this.typedValue=V,this.strValue=$}str(){return(0,r.serializeDate)(this.typedValue)}}_t.DateLiteral=A;class M extends d{constructor(V,$,Q){super(V,Q??u.TypeURL.XSD_DURATION,$),this.typedValue=V,this.strValue=$}str(){return(0,r.serializeDuration)(this.typedValue)}}_t.DurationLiteral=M;class F extends M{constructor(V,$,Q){super(V,$,Q??u.TypeURL.XSD_DAY_TIME_DURATION),this.typedValue=V,this.strValue=$}}_t.DayTimeDurationLiteral=F;class O extends d{constructor(V,$,Q){super(V,Q??u.TypeURL.XSD_YEAR_MONTH_DURATION,$),this.typedValue=V,this.strValue=$}str(){return(0,r.serializeDuration)(this.typedValue,"P0M")}}_t.YearMonthDurationLiteral=O;class E extends d{constructor(V,$,Q,ie,ue){super({toString:()=>"undefined"},$,ie,ue),this.openWorldType=Q}coerceEBV(){if((0,e.isSubTypeOf)(this.dataType,u.TypeURL.XSD_BOOLEAN,this.openWorldType)||(0,e.isSubTypeOf)(this.dataType,u.TypeAlias.SPARQL_NUMERIC,this.openWorldType))return!1;throw new n.EBVCoercionError(this)}toRDF(V){return V.literal(this.str(),this.language??V.namedNode(this.dataType))}str(){return this.strValue??""}}_t.NonLexicalLiteral=E;function x(L){if(L instanceof E)return L}return _t.isNonLexicalLiteral=x,_t}var O0={},P8;function Tue(){if(P8)return O0;P8=1,Object.defineProperty(O0,"__esModule",{value:!0}),O0.Operator=void 0;const a=aa();let t=class{constructor(n,r,e){this.name=n,this.args=r,this.apply=e,this.expressionType=a.ExpressionType.Operator}};return O0.Operator=t,O0}var A0={},L8;function wue(){if(L8)return A0;L8=1,Object.defineProperty(A0,"__esModule",{value:!0}),A0.Aggregate=void 0;const a=aa();let t=class{constructor(n,r){this.name=n,this.expression=r,this.expressionType=a.ExpressionType.Aggregate}};return A0.Aggregate=t,A0}var E0={},j8;function Sue(){if(j8)return E0;j8=1,Object.defineProperty(E0,"__esModule",{value:!0}),E0.Existence=void 0;const a=aa();let t=class{constructor(n){this.expression=n,this.expressionType=a.ExpressionType.Existence}};return E0.Existence=t,E0}var M8;function rh(){return M8||(M8=1,function(a){var t=au&&au.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=au&&au.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(yue(),a),u(bue(),a),u(vue(),a),u(Tue(),a),u(wue(),a),u(Sue(),a)}(au)),au}var wr={},Ft={},q8;function x0(){if(q8)return Ft;q8=1,Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.extractTimeZone=Ft.extractRawTimeZone=Ft.dayTimeDurationsToSeconds=Ft.yearMonthDurationsToMonths=Ft.trimToDayTimeDuration=Ft.trimToYearMonthDuration=Ft.toUTCDate=Ft.toJSDate=Ft.negateDuration=Ft.toDateTimeRepresentation=Ft.defaultedDateTimeRepresentation=Ft.simplifyDurationRepresentation=Ft.defaultedDurationRepresentation=Ft.defaultedYearMonthDurationRepresentation=Ft.defaultedDayTimeDurationRepresentation=void 0;function a(b){return{day:b.day??0,hours:b.hours??0,minutes:b.minutes??0,seconds:b.seconds??0}}Ft.defaultedDayTimeDurationRepresentation=a;function t(b){return{year:b.year??0,month:b.month??0}}Ft.defaultedYearMonthDurationRepresentation=t;function u(b){return{...a(b),...t(b)}}Ft.defaultedDurationRepresentation=u;function n(b){const m=u(b),y={},g=m.year+Math.trunc(m.month/12);g&&(y.year=g,m.month%=12),m.month&&(y.month=m.month);const _=m.day+Math.trunc(m.hours/24)+Math.trunc(m.minutes/(24*60))+Math.trunc(m.seconds/(24*60*60));_&&(y.day=_,m.hours%=24,m.minutes%=24*60,m.seconds%=24*60*60);const v=m.hours+Math.trunc(m.minutes/60)+Math.trunc(m.seconds/(60*60));v&&(y.hours=v,m.minutes%=60,m.seconds%=60*60);const T=m.minutes+Math.trunc(m.seconds/60);return T&&(y.minutes=T,m.seconds%=60),m.seconds&&(y.seconds=m.seconds),y}Ft.simplifyDurationRepresentation=n;function r(b){return{...b,day:b.day??1,hours:b.hours??0,month:b.month??1,year:b.year??0,seconds:b.seconds??0,minutes:b.minutes??0}}Ft.defaultedDateTimeRepresentation=r;function e({date:b,timeZone:m}){return{year:b.getFullYear(),month:b.getMonth()+1,day:b.getDate(),hours:b.getHours(),minutes:b.getMinutes(),seconds:b.getSeconds(),zoneHours:m.zoneHours,zoneMinutes:m.zoneMinutes}}Ft.toDateTimeRepresentation=e;function i(b){return{year:b.year===void 0?void 0:-1*b.year,month:b.month===void 0?void 0:-1*b.month,day:b.day===void 0?void 0:-1*b.day,hours:b.hours===void 0?void 0:-1*b.hours,minutes:b.minutes===void 0?void 0:-1*b.minutes,seconds:b.seconds===void 0?void 0:-1*b.seconds}}Ft.negateDuration=i;function o(b){const m=new Date(b.year,b.month-1,b.day,b.hours,b.minutes,Math.trunc(b.seconds),b.seconds%1*1e3);return b.year>=0&&b.year<100&&m.setFullYear(m.getFullYear()-1900),m}Ft.toJSDate=o;function c(b,m){const y=o(r(b)),g=y.getTimezoneOffset(),_=b.zoneHours??m.zoneHours,v=b.zoneMinutes??m.zoneMinutes;return new Date(y.getTime()-(g+_*60+v)*60*1e3)}Ft.toUTCDate=c;function s(b){return{year:b.year,month:b.month}}Ft.trimToYearMonthDuration=s;function l(b){return{day:b.day,hours:b.hours,minutes:b.minutes,seconds:b.seconds}}Ft.trimToDayTimeDuration=l;function f(b){return b.year*12+b.month}Ft.yearMonthDurationsToMonths=f;function d(b){return((b.day*24+b.hours)*60+b.minutes)*60+b.seconds}Ft.dayTimeDurationsToSeconds=d;function h(b){return/(Z|([+-]\d\d:\d\d))?$/u.exec(b)[0]}Ft.extractRawTimeZone=h;function p(b){return{zoneHours:b.getTimezoneOffset()/60,zoneMinutes:b.getTimezoneOffset()%60}}return Ft.extractTimeZone=p,Ft}var Oi={},C8;function B8(){if(C8)return Oi;C8=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.elapsedDuration=Oi.addDurationToDateTime=Oi.maximumDayInMonthFor=void 0;const a=x0();function t(e,i,o=0){const c=e-o,s=i-o,l=Math.floor(c/s);return{intDiv:l,remainder:e-l*s}}function u(e,i){const{intDiv:o,remainder:c}=t(i,13,1),s=e+o;return[1,3,5,7,8,10,12].includes(c)?31:[4,6,9,11].includes(c)?30:c===2&&(t(s,400).remainder===0||t(s,100).remainder!==0&&t(s,4).remainder===0)?29:28}Oi.maximumDayInMonthFor=u;function n(e,i){const o={...e};let c=t(e.month+i.month,13,1);for(o.month=c.remainder,o.year=e.year+i.year+c.intDiv,c=t(e.seconds+i.seconds,60),o.seconds=c.remainder,c=t(e.minutes+i.minutes+c.intDiv,60),o.minutes=c.remainder,c=t(e.hours+i.hours+c.intDiv,24),o.hours=c.remainder,o.day=e.day+i.day+c.intDiv;;){let s;if(o.day<1)o.day+=u(o.year,o.month-1),s=-1;else if(o.day>u(o.year,o.month))o.day-=u(o.year,o.month),s=1;else break;c=t(o.month+s,13,1),o.month=c.remainder,o.year+=c.intDiv}return o}Oi.addDurationToDateTime=n;function r(e,i,o){const c=(0,a.toUTCDate)(e,o),s=(0,a.toUTCDate)(i,o),l=c.getTime()-s.getTime();return{day:Math.floor(l/(1e3*60*60*24)),hours:Math.floor(l%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(l%(1e3*60*60)/(1e3*60)),seconds:l%(1e3*60)}}return Oi.elapsedDuration=r,Oi}var $8;function cI(){if($8)return wr;$8=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.parseDayTimeDuration=wr.parseYearMonthDuration=wr.parseDuration=wr.parseTime=wr.parseDate=wr.parseDateTime=wr.parseXSDDecimal=wr.parseXSDFloat=void 0;const a=x0(),t=th(),u=B8();function n(h){const p=Number(h);return Number.isNaN(p)?h==="NaN"?Number.NaN:h==="INF"||h==="+INF"?Number.POSITIVE_INFINITY:h==="-INF"?Number.NEGATIVE_INFINITY:void 0:p}wr.parseXSDFloat=n;function r(h){const p=Number(h);return Number.isNaN(p)?void 0:p}wr.parseXSDDecimal=r;function e(h){const[p,b]=h.split("T");if(b===void 0)throw new t.ParseError(h,"dateTime");return{...o(p),...c(b)}}wr.parseDateTime=e;function i(h){if(h==="")return{zoneHours:void 0,zoneMinutes:void 0};if(h==="Z")return{zoneHours:0,zoneMinutes:0};const b=h.replaceAll(/^([+|-])(\d\d):(\d\d)$/gu,"$11!$2!$3").split("!").map(Number);return{zoneHours:b[0]*b[1],zoneMinutes:b[0]*b[2]}}function o(h){const p=h.replaceAll(/^(-)?([123456789]*\d{4})-(\d\d)-(\d\d)(Z|([+-]\d\d:\d\d))?$/gu,"$11!$2!$3!$4!$5");if(p===h)throw new t.ParseError(h,"date");const b=p.split("!"),m=b.slice(0,-1).map(Number),y={year:m[0]*m[1],month:m[2],day:m[3],...i(b[4])};if(!(y.month>=1&&y.month<=12)||!(y.day>=1&&y.day<=(0,u.maximumDayInMonthFor)(y.year,y.month)))throw new t.ParseError(h,"date");return y}wr.parseDate=o;function c(h){const p=h.replaceAll(/^(\d\d):(\d\d):(\d\d(\.\d+)?)(Z|([+-]\d\d:\d\d))?$/gu,"$1!$2!$3!$5");if(p===h)throw new t.ParseError(h,"time");const b=p.split("!"),m=b.slice(0,-1).map(Number),y={hours:m[0],minutes:m[1],seconds:m[2],...i(b[3])};if(y.seconds>=60||y.minutes>=60||y.hours>24||y.hours===24&&(y.minutes!==0||y.seconds!==0))throw new t.ParseError(h,"time");return y}function s(h){const p=c(h);return p.hours%=24,p}wr.parseTime=s;function l(h){const[p,b]=h.split("T"),m=p.replaceAll(/^(-)?P(\d+Y)?(\d+M)?(\d+D)?$/gu,"$11S!$2!$3!$4");if(m===p)throw new t.ParseError(h,"duration");const y=m.split("!");if(b!==void 0){const v=b.replaceAll(/^(\d+H)?(\d+M)?(\d+(\.\d+)?S)?$/gu,"$1!$2!$3");if(b===""||b===v)throw new t.ParseError(h,"duration");y.push(...v.split("!"))}const g=y.map(v=>v.slice(0,-1));if(!g.slice(1).some(Boolean))throw new t.ParseError(h,"duration");const _=Number(g[0]);return(0,a.simplifyDurationRepresentation)({year:g[1]?_*Number(g[1]):void 0,month:g[2]?_*Number(g[2]):void 0,day:g[3]?_*Number(g[3]):void 0,hours:g[4]?_*Number(g[4]):void 0,minutes:g[5]?_*Number(g[5]):void 0,seconds:g[6]?_*Number(g[6]):void 0})}wr.parseDuration=l;function f(h){const p=l(h);if(["hours","minutes","seconds","day"].some(b=>!!p[b]))throw new t.ParseError(h,"yearMonthDuration");return p}wr.parseYearMonthDuration=f;function d(h){const p=l(h);if(["year","month"].some(b=>!!p[b]))throw new t.ParseError(h,"dayTimeDuration");return p}return wr.parseDayTimeDuration=d,wr}var V8;function Oue(){if(V8)return Lp;V8=1,Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.TermTransformer=void 0;const a=Bt(),t=bt(),u=rh(),n=ou(),r=th(),e=th(),i=cI(),o=cI(),c=gO();let s=class{constructor(f){this.superTypeProvider=f}transformRDFTermUnsafe(f){return this.transformTerm({term:f,type:t.Algebra.types.EXPRESSION,expressionType:t.Algebra.expressionTypes.TERM})}transformTerm(f){if(!f.term)throw new r.InvalidExpression(f);switch(f.term.termType){case"Variable":return new u.Variable(a.termToString(f.term));case"Literal":return this.transformLiteral(f.term);case"NamedNode":return new u.NamedNode(f.term.value);case"BlankNode":return new u.BlankNode(f.term.value);case"Quad":return new u.Quad(this.transformRDFTermUnsafe(f.term.subject),this.transformRDFTermUnsafe(f.term.predicate),this.transformRDFTermUnsafe(f.term.object),this.transformRDFTermUnsafe(f.term.graph));case"DefaultGraph":return new u.DefaultGraph}}transformLiteral(f){if(!f.datatype||[null,void 0,""].includes(f.datatype.value))return f.language?new u.LangStringLiteral(f.value,f.language):new u.StringLiteral(f.value);const d=f.datatype.value,h=(0,c.getSuperTypeDict)(d,this.superTypeProvider);try{if(n.TypeURL.XSD_STRING in h)return new u.StringLiteral(f.value,d);if(n.TypeURL.RDF_LANG_STRING in h)return new u.LangStringLiteral(f.value,f.language);if(n.TypeURL.XSD_YEAR_MONTH_DURATION in h)return new u.YearMonthDurationLiteral((0,i.parseYearMonthDuration)(f.value),f.value,d);if(n.TypeURL.XSD_DAY_TIME_DURATION in h)return new u.DayTimeDurationLiteral((0,i.parseDayTimeDuration)(f.value),f.value,d);if(n.TypeURL.XSD_DURATION in h)return new u.DurationLiteral((0,i.parseDuration)(f.value),f.value,d);if(n.TypeURL.XSD_DATE_TIME in h){const m=new Date(f.value);return Number.isNaN(m.getTime())?new u.NonLexicalLiteral(void 0,d,this.superTypeProvider,f.value):new u.DateTimeLiteral((0,i.parseDateTime)(f.value),f.value,d)}if(n.TypeURL.XSD_DATE in h)return new u.DateLiteral((0,i.parseDate)(f.value),f.value,d);if(n.TypeURL.XSD_TIME in h)return new u.TimeLiteral((0,i.parseTime)(f.value),f.value,d);if(n.TypeURL.XSD_BOOLEAN in h)return f.value!=="true"&&f.value!=="false"&&f.value!=="1"&&f.value!=="0"?new u.NonLexicalLiteral(void 0,d,this.superTypeProvider,f.value):new u.BooleanLiteral(f.value==="true"||f.value==="1",f.value);if(n.TypeURL.XSD_DECIMAL in h){const m=o.parseXSDDecimal(f.value);return m===void 0?new u.NonLexicalLiteral(void 0,d,this.superTypeProvider,f.value):n.TypeURL.XSD_INTEGER in h?new u.IntegerLiteral(m,d,f.value):new u.DecimalLiteral(m,d,f.value)}const p=n.TypeURL.XSD_FLOAT in h,b=n.TypeURL.XSD_DOUBLE in h;if(p||b){const m=o.parseXSDFloat(f.value);return m===void 0?new u.NonLexicalLiteral(void 0,d,this.superTypeProvider,f.value):p?new u.FloatLiteral(m,d,f.value):new u.DoubleLiteral(m,d,f.value)}return new u.Literal(f.value,d,f.value)}catch(p){if((0,e.isExpressionError)(p))return new u.NonLexicalLiteral(void 0,d,this.superTypeProvider,f.value);throw p}}};return Lp.TermTransformer=s,Lp}var I0={},R0={},U8;function nh(){var d,h,b,m,y,g,_,v,T,w,A,M,F,O,E,x,L,V,$,Q,ie,ue,pe,X,me,Fe,ve,re,ZF,qe,$e,ge,we,Jne,N,P,S,Ia,Ra,e6,bE,_E,er,t6,$S,Na,r6;if(U8)return R0;U8=1,Object.defineProperty(R0,"__esModule",{value:!0}),R0.LRUCache=void 0;const a=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,t=new Set,u=typeof bO=="object"&&bO?bO:{},n=(Le,ce,se,ye)=>{typeof u.emitWarning=="function"?u.emitWarning(Le,ce,se,ye):console.error(`[${se}] ${ce}: ${Le}`)};let r=globalThis.AbortController,e=globalThis.AbortSignal;if(typeof r>"u"){e=class{constructor(){tr(this,"onabort");tr(this,"_onabort",[]);tr(this,"reason");tr(this,"aborted",!1)}addEventListener(ye,xe){this._onabort.push(xe)}},r=class{constructor(){tr(this,"signal",new e);ce()}abort(ye){var xe,U;if(!this.signal.aborted){this.signal.reason=ye,this.signal.aborted=!0;for(const R of this.signal._onabort)R(ye);(U=(xe=this.signal).onabort)==null||U.call(xe,ye)}}};let Le=((d=u.env)==null?void 0:d.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const ce=()=>{Le&&(Le=!1,n("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",ce))}}const i=Le=>!t.has(Le),o=Le=>Le&&Le===Math.floor(Le)&&Le>0&&isFinite(Le),c=Le=>o(Le)?Le<=Math.pow(2,8)?Uint8Array:Le<=Math.pow(2,16)?Uint16Array:Le<=Math.pow(2,32)?Uint32Array:Le<=Number.MAX_SAFE_INTEGER?s:null:null;class s extends Array{constructor(ce){super(ce),this.fill(0)}}const p=class p{constructor(ce,se){tr(this,"heap");tr(this,"length");if(!fe(p,h))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new se(ce),this.length=0}static create(ce){const se=c(ce);if(!se)return[];yt(p,h,!0);const ye=new p(ce,se);return yt(p,h,!1),ye}push(ce){this.heap[this.length++]=ce}pop(){return this.heap[--this.length]}};h=new WeakMap,Pt(p,h,!1);let l=p;const Qe=class Qe{constructor(ce){Pt(this,re);Pt(this,y);Pt(this,g);Pt(this,_);Pt(this,v);Pt(this,T);Pt(this,w);tr(this,"ttl");tr(this,"ttlResolution");tr(this,"ttlAutopurge");tr(this,"updateAgeOnGet");tr(this,"updateAgeOnHas");tr(this,"allowStale");tr(this,"noDisposeOnSet");tr(this,"noUpdateTTL");tr(this,"maxEntrySize");tr(this,"sizeCalculation");tr(this,"noDeleteOnFetchRejection");tr(this,"noDeleteOnStaleGet");tr(this,"allowStaleOnFetchAbort");tr(this,"allowStaleOnFetchRejection");tr(this,"ignoreFetchAbort");Pt(this,A);Pt(this,M);Pt(this,F);Pt(this,O);Pt(this,E);Pt(this,x);Pt(this,L);Pt(this,V);Pt(this,$);Pt(this,Q);Pt(this,ie);Pt(this,ue);Pt(this,pe);Pt(this,X);Pt(this,me);Pt(this,Fe);Pt(this,ve);Pt(this,qe,()=>{});Pt(this,$e,()=>{});Pt(this,ge,()=>{});Pt(this,we,()=>!1);Pt(this,N,ce=>{});Pt(this,P,(ce,se,ye)=>{});Pt(this,S,(ce,se,ye,xe)=>{if(ye||xe)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});tr(this,b,"LRUCache");const{max:se=0,ttl:ye,ttlResolution:xe=1,ttlAutopurge:U,updateAgeOnGet:R,updateAgeOnHas:C,allowStale:J,dispose:ae,disposeAfter:_e,noDisposeOnSet:Se,noUpdateTTL:Xe,maxSize:Y=0,maxEntrySize:Ee=0,sizeCalculation:Ne,fetchMethod:Ce,memoMethod:Ue,noDeleteOnFetchRejection:tt,noDeleteOnStaleGet:ut,allowStaleOnFetchRejection:rt,allowStaleOnFetchAbort:lt,ignoreFetchAbort:ne}=ce;if(se!==0&&!o(se))throw new TypeError("max option must be a nonnegative integer");const j=se?c(se):Array;if(!j)throw new Error("invalid max value: "+se);if(yt(this,y,se),yt(this,g,Y),this.maxEntrySize=Ee||fe(this,g),this.sizeCalculation=Ne,this.sizeCalculation){if(!fe(this,g)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(Ue!==void 0&&typeof Ue!="function")throw new TypeError("memoMethod must be a function if defined");if(yt(this,w,Ue),Ce!==void 0&&typeof Ce!="function")throw new TypeError("fetchMethod must be a function if specified");if(yt(this,T,Ce),yt(this,Fe,!!Ce),yt(this,F,new Map),yt(this,O,new Array(se).fill(void 0)),yt(this,E,new Array(se).fill(void 0)),yt(this,x,new j(se)),yt(this,L,new j(se)),yt(this,V,0),yt(this,$,0),yt(this,Q,l.create(se)),yt(this,A,0),yt(this,M,0),typeof ae=="function"&&yt(this,_,ae),typeof _e=="function"?(yt(this,v,_e),yt(this,ie,[])):(yt(this,v,void 0),yt(this,ie,void 0)),yt(this,me,!!fe(this,_)),yt(this,ve,!!fe(this,v)),this.noDisposeOnSet=!!Se,this.noUpdateTTL=!!Xe,this.noDeleteOnFetchRejection=!!tt,this.allowStaleOnFetchRejection=!!rt,this.allowStaleOnFetchAbort=!!lt,this.ignoreFetchAbort=!!ne,this.maxEntrySize!==0){if(fe(this,g)!==0&&!o(fe(this,g)))throw new TypeError("maxSize must be a positive integer if specified");if(!o(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");ot(this,re,Jne).call(this)}if(this.allowStale=!!J,this.noDeleteOnStaleGet=!!ut,this.updateAgeOnGet=!!R,this.updateAgeOnHas=!!C,this.ttlResolution=o(xe)||xe===0?xe:1,this.ttlAutopurge=!!U,this.ttl=ye||0,this.ttl){if(!o(this.ttl))throw new TypeError("ttl must be a positive integer if specified");ot(this,re,ZF).call(this)}if(fe(this,y)===0&&this.ttl===0&&fe(this,g)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!fe(this,y)&&!fe(this,g)){const D="LRU_CACHE_UNBOUNDED";i(D)&&(t.add(D),n("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",D,Qe))}}static unsafeExposeInternals(ce){return{starts:fe(ce,pe),ttls:fe(ce,X),sizes:fe(ce,ue),keyMap:fe(ce,F),keyList:fe(ce,O),valList:fe(ce,E),next:fe(ce,x),prev:fe(ce,L),get head(){return fe(ce,V)},get tail(){return fe(ce,$)},free:fe(ce,Q),isBackgroundFetch:se=>{var ye;return ot(ye=ce,re,er).call(ye,se)},backgroundFetch:(se,ye,xe,U)=>{var R;return ot(R=ce,re,_E).call(R,se,ye,xe,U)},moveToTail:se=>{var ye;return ot(ye=ce,re,$S).call(ye,se)},indexes:se=>{var ye;return ot(ye=ce,re,Ia).call(ye,se)},rindexes:se=>{var ye;return ot(ye=ce,re,Ra).call(ye,se)},isStale:se=>{var ye;return fe(ye=ce,we).call(ye,se)}}}get max(){return fe(this,y)}get maxSize(){return fe(this,g)}get calculatedSize(){return fe(this,M)}get size(){return fe(this,A)}get fetchMethod(){return fe(this,T)}get memoMethod(){return fe(this,w)}get dispose(){return fe(this,_)}get disposeAfter(){return fe(this,v)}getRemainingTTL(ce){return fe(this,F).has(ce)?1/0:0}*entries(){for(const ce of ot(this,re,Ia).call(this))fe(this,E)[ce]!==void 0&&fe(this,O)[ce]!==void 0&&!ot(this,re,er).call(this,fe(this,E)[ce])&&(yield[fe(this,O)[ce],fe(this,E)[ce]])}*rentries(){for(const ce of ot(this,re,Ra).call(this))fe(this,E)[ce]!==void 0&&fe(this,O)[ce]!==void 0&&!ot(this,re,er).call(this,fe(this,E)[ce])&&(yield[fe(this,O)[ce],fe(this,E)[ce]])}*keys(){for(const ce of ot(this,re,Ia).call(this)){const se=fe(this,O)[ce];se!==void 0&&!ot(this,re,er).call(this,fe(this,E)[ce])&&(yield se)}}*rkeys(){for(const ce of ot(this,re,Ra).call(this)){const se=fe(this,O)[ce];se!==void 0&&!ot(this,re,er).call(this,fe(this,E)[ce])&&(yield se)}}*values(){for(const ce of ot(this,re,Ia).call(this))fe(this,E)[ce]!==void 0&&!ot(this,re,er).call(this,fe(this,E)[ce])&&(yield fe(this,E)[ce])}*rvalues(){for(const ce of ot(this,re,Ra).call(this))fe(this,E)[ce]!==void 0&&!ot(this,re,er).call(this,fe(this,E)[ce])&&(yield fe(this,E)[ce])}[(m=Symbol.iterator,b=Symbol.toStringTag,m)](){return this.entries()}find(ce,se={}){for(const ye of ot(this,re,Ia).call(this)){const xe=fe(this,E)[ye],U=ot(this,re,er).call(this,xe)?xe.__staleWhileFetching:xe;if(U!==void 0&&ce(U,fe(this,O)[ye],this))return this.get(fe(this,O)[ye],se)}}forEach(ce,se=this){for(const ye of ot(this,re,Ia).call(this)){const xe=fe(this,E)[ye],U=ot(this,re,er).call(this,xe)?xe.__staleWhileFetching:xe;U!==void 0&&ce.call(se,U,fe(this,O)[ye],this)}}rforEach(ce,se=this){for(const ye of ot(this,re,Ra).call(this)){const xe=fe(this,E)[ye],U=ot(this,re,er).call(this,xe)?xe.__staleWhileFetching:xe;U!==void 0&&ce.call(se,U,fe(this,O)[ye],this)}}purgeStale(){let ce=!1;for(const se of ot(this,re,Ra).call(this,{allowStale:!0}))fe(this,we).call(this,se)&&(ot(this,re,Na).call(this,fe(this,O)[se],"expire"),ce=!0);return ce}info(ce){const se=fe(this,F).get(ce);if(se===void 0)return;const ye=fe(this,E)[se],xe=ot(this,re,er).call(this,ye)?ye.__staleWhileFetching:ye;if(xe===void 0)return;const U={value:xe};if(fe(this,X)&&fe(this,pe)){const R=fe(this,X)[se],C=fe(this,pe)[se];if(R&&C){const J=R-(a.now()-C);U.ttl=J,U.start=Date.now()}}return fe(this,ue)&&(U.size=fe(this,ue)[se]),U}dump(){const ce=[];for(const se of ot(this,re,Ia).call(this,{allowStale:!0})){const ye=fe(this,O)[se],xe=fe(this,E)[se],U=ot(this,re,er).call(this,xe)?xe.__staleWhileFetching:xe;if(U===void 0||ye===void 0)continue;const R={value:U};if(fe(this,X)&&fe(this,pe)){R.ttl=fe(this,X)[se];const C=a.now()-fe(this,pe)[se];R.start=Math.floor(Date.now()-C)}fe(this,ue)&&(R.size=fe(this,ue)[se]),ce.unshift([ye,R])}return ce}load(ce){this.clear();for(const[se,ye]of ce){if(ye.start){const xe=Date.now()-ye.start;ye.start=a.now()-xe}this.set(se,ye.value,ye)}}set(ce,se,ye={}){var Xe,Y,Ee,Ne,Ce;if(se===void 0)return this.delete(ce),this;const{ttl:xe=this.ttl,start:U,noDisposeOnSet:R=this.noDisposeOnSet,sizeCalculation:C=this.sizeCalculation,status:J}=ye;let{noUpdateTTL:ae=this.noUpdateTTL}=ye;const _e=fe(this,S).call(this,ce,se,ye.size||0,C);if(this.maxEntrySize&&_e>this.maxEntrySize)return J&&(J.set="miss",J.maxEntrySizeExceeded=!0),ot(this,re,Na).call(this,ce,"set"),this;let Se=fe(this,A)===0?void 0:fe(this,F).get(ce);if(Se===void 0)Se=fe(this,A)===0?fe(this,$):fe(this,Q).length!==0?fe(this,Q).pop():fe(this,A)===fe(this,y)?ot(this,re,bE).call(this,!1):fe(this,A),fe(this,O)[Se]=ce,fe(this,E)[Se]=se,fe(this,F).set(ce,Se),fe(this,x)[fe(this,$)]=Se,fe(this,L)[Se]=fe(this,$),yt(this,$,Se),yE(this,A)._++,fe(this,P).call(this,Se,_e,J),J&&(J.set="add"),ae=!1;else{ot(this,re,$S).call(this,Se);const Ue=fe(this,E)[Se];if(se!==Ue){if(fe(this,Fe)&&ot(this,re,er).call(this,Ue)){Ue.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:tt}=Ue;tt!==void 0&&!R&&(fe(this,me)&&((Xe=fe(this,_))==null||Xe.call(this,tt,ce,"set")),fe(this,ve)&&((Y=fe(this,ie))==null||Y.push([tt,ce,"set"])))}else R||(fe(this,me)&&((Ee=fe(this,_))==null||Ee.call(this,Ue,ce,"set")),fe(this,ve)&&((Ne=fe(this,ie))==null||Ne.push([Ue,ce,"set"])));if(fe(this,N).call(this,Se),fe(this,P).call(this,Se,_e,J),fe(this,E)[Se]=se,J){J.set="replace";const tt=Ue&&ot(this,re,er).call(this,Ue)?Ue.__staleWhileFetching:Ue;tt!==void 0&&(J.oldValue=tt)}}else J&&(J.set="update")}if(xe!==0&&!fe(this,X)&&ot(this,re,ZF).call(this),fe(this,X)&&(ae||fe(this,ge).call(this,Se,xe,U),J&&fe(this,$e).call(this,J,Se)),!R&&fe(this,ve)&&fe(this,ie)){const Ue=fe(this,ie);let tt;for(;tt=Ue==null?void 0:Ue.shift();)(Ce=fe(this,v))==null||Ce.call(this,...tt)}return this}pop(){var ce;try{for(;fe(this,A);){const se=fe(this,E)[fe(this,V)];if(ot(this,re,bE).call(this,!0),ot(this,re,er).call(this,se)){if(se.__staleWhileFetching)return se.__staleWhileFetching}else if(se!==void 0)return se}}finally{if(fe(this,ve)&&fe(this,ie)){const se=fe(this,ie);let ye;for(;ye=se==null?void 0:se.shift();)(ce=fe(this,v))==null||ce.call(this,...ye)}}}has(ce,se={}){const{updateAgeOnHas:ye=this.updateAgeOnHas,status:xe}=se,U=fe(this,F).get(ce);if(U!==void 0){const R=fe(this,E)[U];if(ot(this,re,er).call(this,R)&&R.__staleWhileFetching===void 0)return!1;if(fe(this,we).call(this,U))xe&&(xe.has="stale",fe(this,$e).call(this,xe,U));else return ye&&fe(this,qe).call(this,U),xe&&(xe.has="hit",fe(this,$e).call(this,xe,U)),!0}else xe&&(xe.has="miss");return!1}peek(ce,se={}){const{allowStale:ye=this.allowStale}=se,xe=fe(this,F).get(ce);if(xe===void 0||!ye&&fe(this,we).call(this,xe))return;const U=fe(this,E)[xe];return ot(this,re,er).call(this,U)?U.__staleWhileFetching:U}async fetch(ce,se={}){const{allowStale:ye=this.allowStale,updateAgeOnGet:xe=this.updateAgeOnGet,noDeleteOnStaleGet:U=this.noDeleteOnStaleGet,ttl:R=this.ttl,noDisposeOnSet:C=this.noDisposeOnSet,size:J=0,sizeCalculation:ae=this.sizeCalculation,noUpdateTTL:_e=this.noUpdateTTL,noDeleteOnFetchRejection:Se=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Xe=this.allowStaleOnFetchRejection,ignoreFetchAbort:Y=this.ignoreFetchAbort,allowStaleOnFetchAbort:Ee=this.allowStaleOnFetchAbort,context:Ne,forceRefresh:Ce=!1,status:Ue,signal:tt}=se;if(!fe(this,Fe))return Ue&&(Ue.fetch="get"),this.get(ce,{allowStale:ye,updateAgeOnGet:xe,noDeleteOnStaleGet:U,status:Ue});const ut={allowStale:ye,updateAgeOnGet:xe,noDeleteOnStaleGet:U,ttl:R,noDisposeOnSet:C,size:J,sizeCalculation:ae,noUpdateTTL:_e,noDeleteOnFetchRejection:Se,allowStaleOnFetchRejection:Xe,allowStaleOnFetchAbort:Ee,ignoreFetchAbort:Y,status:Ue,signal:tt};let rt=fe(this,F).get(ce);if(rt===void 0){Ue&&(Ue.fetch="miss");const lt=ot(this,re,_E).call(this,ce,rt,ut,Ne);return lt.__returned=lt}else{const lt=fe(this,E)[rt];if(ot(this,re,er).call(this,lt)){const W=ye&&lt.__staleWhileFetching!==void 0;return Ue&&(Ue.fetch="inflight",W&&(Ue.returnedStale=!0)),W?lt.__staleWhileFetching:lt.__returned=lt}const ne=fe(this,we).call(this,rt);if(!Ce&&!ne)return Ue&&(Ue.fetch="hit"),ot(this,re,$S).call(this,rt),xe&&fe(this,qe).call(this,rt),Ue&&fe(this,$e).call(this,Ue,rt),lt;const j=ot(this,re,_E).call(this,ce,rt,ut,Ne),q=j.__staleWhileFetching!==void 0&&ye;return Ue&&(Ue.fetch=ne?"stale":"refresh",q&&ne&&(Ue.returnedStale=!0)),q?j.__staleWhileFetching:j.__returned=j}}async forceFetch(ce,se={}){const ye=await this.fetch(ce,se);if(ye===void 0)throw new Error("fetch() returned undefined");return ye}memo(ce,se={}){const ye=fe(this,w);if(!ye)throw new Error("no memoMethod provided to constructor");const{context:xe,forceRefresh:U,...R}=se,C=this.get(ce,R);if(!U&&C!==void 0)return C;const J=ye(ce,C,{options:R,context:xe});return this.set(ce,J,R),J}get(ce,se={}){const{allowStale:ye=this.allowStale,updateAgeOnGet:xe=this.updateAgeOnGet,noDeleteOnStaleGet:U=this.noDeleteOnStaleGet,status:R}=se,C=fe(this,F).get(ce);if(C!==void 0){const J=fe(this,E)[C],ae=ot(this,re,er).call(this,J);return R&&fe(this,$e).call(this,R,C),fe(this,we).call(this,C)?(R&&(R.get="stale"),ae?(R&&ye&&J.__staleWhileFetching!==void 0&&(R.returnedStale=!0),ye?J.__staleWhileFetching:void 0):(U||ot(this,re,Na).call(this,ce,"expire"),R&&ye&&(R.returnedStale=!0),ye?J:void 0)):(R&&(R.get="hit"),ae?J.__staleWhileFetching:(ot(this,re,$S).call(this,C),xe&&fe(this,qe).call(this,C),J))}else R&&(R.get="miss")}delete(ce){return ot(this,re,Na).call(this,ce,"delete")}clear(){return ot(this,re,r6).call(this,"delete")}};y=new WeakMap,g=new WeakMap,_=new WeakMap,v=new WeakMap,T=new WeakMap,w=new WeakMap,A=new WeakMap,M=new WeakMap,F=new WeakMap,O=new WeakMap,E=new WeakMap,x=new WeakMap,L=new WeakMap,V=new WeakMap,$=new WeakMap,Q=new WeakMap,ie=new WeakMap,ue=new WeakMap,pe=new WeakMap,X=new WeakMap,me=new WeakMap,Fe=new WeakMap,ve=new WeakMap,re=new WeakSet,ZF=function(){const ce=new s(fe(this,y)),se=new s(fe(this,y));yt(this,X,ce),yt(this,pe,se),yt(this,ge,(U,R,C=a.now())=>{if(se[U]=R!==0?C:0,ce[U]=R,R!==0&&this.ttlAutopurge){const J=setTimeout(()=>{fe(this,we).call(this,U)&&ot(this,re,Na).call(this,fe(this,O)[U],"expire")},R+1);J.unref&&J.unref()}}),yt(this,qe,U=>{se[U]=ce[U]!==0?a.now():0}),yt(this,$e,(U,R)=>{if(ce[R]){const C=ce[R],J=se[R];if(!C||!J)return;U.ttl=C,U.start=J,U.now=ye||xe();const ae=U.now-J;U.remainingTTL=C-ae}});let ye=0;const xe=()=>{const U=a.now();if(this.ttlResolution>0){ye=U;const R=setTimeout(()=>ye=0,this.ttlResolution);R.unref&&R.unref()}return U};this.getRemainingTTL=U=>{const R=fe(this,F).get(U);if(R===void 0)return 0;const C=ce[R],J=se[R];if(!C||!J)return 1/0;const ae=(ye||xe())-J;return C-ae},yt(this,we,U=>{const R=se[U],C=ce[U];return!!C&&!!R&&(ye||xe())-R>C})},qe=new WeakMap,$e=new WeakMap,ge=new WeakMap,we=new WeakMap,Jne=function(){const ce=new s(fe(this,y));yt(this,M,0),yt(this,ue,ce),yt(this,N,se=>{yt(this,M,fe(this,M)-ce[se]),ce[se]=0}),yt(this,S,(se,ye,xe,U)=>{if(ot(this,re,er).call(this,ye))return 0;if(!o(xe))if(U){if(typeof U!="function")throw new TypeError("sizeCalculation must be a function");if(xe=U(ye,se),!o(xe))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return xe}),yt(this,P,(se,ye,xe)=>{if(ce[se]=ye,fe(this,g)){const U=fe(this,g)-ce[se];for(;fe(this,M)>U;)ot(this,re,bE).call(this,!0)}yt(this,M,fe(this,M)+ce[se]),xe&&(xe.entrySize=ye,xe.totalCalculatedSize=fe(this,M))})},N=new WeakMap,P=new WeakMap,S=new WeakMap,Ia=function*({allowStale:ce=this.allowStale}={}){if(fe(this,A))for(let se=fe(this,$);!(!ot(this,re,e6).call(this,se)||((ce||!fe(this,we).call(this,se))&&(yield se),se===fe(this,V)));)se=fe(this,L)[se]},Ra=function*({allowStale:ce=this.allowStale}={}){if(fe(this,A))for(let se=fe(this,V);!(!ot(this,re,e6).call(this,se)||((ce||!fe(this,we).call(this,se))&&(yield se),se===fe(this,$)));)se=fe(this,x)[se]},e6=function(ce){return ce!==void 0&&fe(this,F).get(fe(this,O)[ce])===ce},bE=function(ce){var U,R;const se=fe(this,V),ye=fe(this,O)[se],xe=fe(this,E)[se];return fe(this,Fe)&&ot(this,re,er).call(this,xe)?xe.__abortController.abort(new Error("evicted")):(fe(this,me)||fe(this,ve))&&(fe(this,me)&&((U=fe(this,_))==null||U.call(this,xe,ye,"evict")),fe(this,ve)&&((R=fe(this,ie))==null||R.push([xe,ye,"evict"]))),fe(this,N).call(this,se),ce&&(fe(this,O)[se]=void 0,fe(this,E)[se]=void 0,fe(this,Q).push(se)),fe(this,A)===1?(yt(this,V,yt(this,$,0)),fe(this,Q).length=0):yt(this,V,fe(this,x)[se]),fe(this,F).delete(ye),yE(this,A)._--,se},_E=function(ce,se,ye,xe){const U=se===void 0?void 0:fe(this,E)[se];if(ot(this,re,er).call(this,U))return U;const R=new r,{signal:C}=ye;C==null||C.addEventListener("abort",()=>R.abort(C.reason),{signal:R.signal});const J={signal:R.signal,options:ye,context:xe},ae=(Ne,Ce=!1)=>{const{aborted:Ue}=R.signal,tt=ye.ignoreFetchAbort&&Ne!==void 0;if(ye.status&&(Ue&&!Ce?(ye.status.fetchAborted=!0,ye.status.fetchError=R.signal.reason,tt&&(ye.status.fetchAbortIgnored=!0)):ye.status.fetchResolved=!0),Ue&&!tt&&!Ce)return Se(R.signal.reason);const ut=Y;return fe(this,E)[se]===Y&&(Ne===void 0?ut.__staleWhileFetching?fe(this,E)[se]=ut.__staleWhileFetching:ot(this,re,Na).call(this,ce,"fetch"):(ye.status&&(ye.status.fetchUpdated=!0),this.set(ce,Ne,J.options))),Ne},_e=Ne=>(ye.status&&(ye.status.fetchRejected=!0,ye.status.fetchError=Ne),Se(Ne)),Se=Ne=>{const{aborted:Ce}=R.signal,Ue=Ce&&ye.allowStaleOnFetchAbort,tt=Ue||ye.allowStaleOnFetchRejection,ut=tt||ye.noDeleteOnFetchRejection,rt=Y;if(fe(this,E)[se]===Y&&(!ut||rt.__staleWhileFetching===void 0?ot(this,re,Na).call(this,ce,"fetch"):Ue||(fe(this,E)[se]=rt.__staleWhileFetching)),tt)return ye.status&&rt.__staleWhileFetching!==void 0&&(ye.status.returnedStale=!0),rt.__staleWhileFetching;if(rt.__returned===rt)throw Ne},Xe=(Ne,Ce)=>{var tt;const Ue=(tt=fe(this,T))==null?void 0:tt.call(this,ce,U,J);Ue&&Ue instanceof Promise&&Ue.then(ut=>Ne(ut===void 0?void 0:ut),Ce),R.signal.addEventListener("abort",()=>{(!ye.ignoreFetchAbort||ye.allowStaleOnFetchAbort)&&(Ne(void 0),ye.allowStaleOnFetchAbort&&(Ne=ut=>ae(ut,!0)))})};ye.status&&(ye.status.fetchDispatched=!0);const Y=new Promise(Xe).then(ae,_e),Ee=Object.assign(Y,{__abortController:R,__staleWhileFetching:U,__returned:void 0});return se===void 0?(this.set(ce,Ee,{...J.options,status:void 0}),se=fe(this,F).get(ce)):fe(this,E)[se]=Ee,Ee},er=function(ce){if(!fe(this,Fe))return!1;const se=ce;return!!se&&se instanceof Promise&&se.hasOwnProperty("__staleWhileFetching")&&se.__abortController instanceof r},t6=function(ce,se){fe(this,L)[se]=ce,fe(this,x)[ce]=se},$S=function(ce){ce!==fe(this,$)&&(ce===fe(this,V)?yt(this,V,fe(this,x)[ce]):ot(this,re,t6).call(this,fe(this,L)[ce],fe(this,x)[ce]),ot(this,re,t6).call(this,fe(this,$),ce),yt(this,$,ce))},Na=function(ce,se){var xe,U,R,C;let ye=!1;if(fe(this,A)!==0){const J=fe(this,F).get(ce);if(J!==void 0)if(ye=!0,fe(this,A)===1)ot(this,re,r6).call(this,se);else{fe(this,N).call(this,J);const ae=fe(this,E)[J];if(ot(this,re,er).call(this,ae)?ae.__abortController.abort(new Error("deleted")):(fe(this,me)||fe(this,ve))&&(fe(this,me)&&((xe=fe(this,_))==null||xe.call(this,ae,ce,se)),fe(this,ve)&&((U=fe(this,ie))==null||U.push([ae,ce,se]))),fe(this,F).delete(ce),fe(this,O)[J]=void 0,fe(this,E)[J]=void 0,J===fe(this,$))yt(this,$,fe(this,L)[J]);else if(J===fe(this,V))yt(this,V,fe(this,x)[J]);else{const _e=fe(this,L)[J];fe(this,x)[_e]=fe(this,x)[J];const Se=fe(this,x)[J];fe(this,L)[Se]=fe(this,L)[J]}yE(this,A)._--,fe(this,Q).push(J)}}if(fe(this,ve)&&((R=fe(this,ie))!=null&&R.length)){const J=fe(this,ie);let ae;for(;ae=J==null?void 0:J.shift();)(C=fe(this,v))==null||C.call(this,...ae)}return ye},r6=function(ce){var se,ye,xe;for(const U of ot(this,re,Ra).call(this,{allowStale:!0})){const R=fe(this,E)[U];if(ot(this,re,er).call(this,R))R.__abortController.abort(new Error("deleted"));else{const C=fe(this,O)[U];fe(this,me)&&((se=fe(this,_))==null||se.call(this,R,C,ce)),fe(this,ve)&&((ye=fe(this,ie))==null||ye.push([R,C,ce]))}}if(fe(this,F).clear(),fe(this,E).fill(void 0),fe(this,O).fill(void 0),fe(this,X)&&fe(this,pe)&&(fe(this,X).fill(0),fe(this,pe).fill(0)),fe(this,ue)&&fe(this,ue).fill(0),yt(this,V,0),yt(this,$,0),fe(this,Q).length=0,yt(this,M,0),yt(this,A,0),fe(this,ve)&&fe(this,ie)){const U=fe(this,ie);let R;for(;R=U==null?void 0:U.shift();)(xe=fe(this,v))==null||xe.call(this,...R)}};let f=Qe;return R0.LRUCache=f,R0}var Q8;function Aue(){if(Q8)return I0;Q8=1,Object.defineProperty(I0,"__esModule",{value:!0}),I0.prepareEvaluatorActionContext=void 0;const a=ke(),t=nh(),u=x0();function n(r){let e=r;if(e.has(a.KeysInitQuery.extensionFunctionCreator)&&e.has(a.KeysInitQuery.extensionFunctions))throw new Error("Illegal simultaneous usage of extensionFunctionCreator and extensionFunctions in context");if(e.has(a.KeysInitQuery.extensionFunctionCreator))e=e.set(a.KeysExpressionEvaluator.extensionFunctionCreator,e.get(a.KeysInitQuery.extensionFunctionCreator));else if(e.has(a.KeysInitQuery.extensionFunctions)){const i=e.getSafe(a.KeysInitQuery.extensionFunctions);e=e.set(a.KeysExpressionEvaluator.extensionFunctionCreator,async o=>i[o.value])}else e=e.setDefault(a.KeysExpressionEvaluator.extensionFunctionCreator,async()=>{});return e=e.setDefault(a.KeysExpressionEvaluator.defaultTimeZone,(0,u.extractTimeZone)(e.getSafe(a.KeysInitQuery.queryTimestamp))),e=e.setDefault(a.KeysExpressionEvaluator.superTypeProvider,{cache:new t.LRUCache({max:1e3}),discoverer:()=>"term"}),e}return I0.prepareEvaluatorActionContext=n,I0}var H8;function Ae(){return H8||(H8=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.LangStringLiteral=a.TimeLiteral=a.DurationLiteral=a.DateLiteral=a.DayTimeDurationLiteral=a.DateTimeLiteral=a.yearMonthDurationsToMonths=a.toUTCDate=a.toDateTimeRepresentation=a.negateDuration=a.extractRawTimeZone=a.defaultedYearMonthDurationRepresentation=a.defaultedDurationRepresentation=a.defaultedDayTimeDurationRepresentation=a.defaultedDateTimeRepresentation=a.dayTimeDurationsToSeconds=a.isSubTypeOf=a.SparqlOperator=a.TypeAlias=a.TypeURL=a.typedLiteral=a.InvalidArity=a.InvalidLexicalForm=a.ExtensionFunctionError=a.CastError=a.UnboundVariableError=a.NoAggregator=a.InError=a.CoalesceError=a.InvalidArgumentTypes=a.InvalidTimezoneCall=a.IncompatibleLanguageOperation=a.RDFEqualTypeError=a.EmptyAggregateError=a.isExpressionError=a.ExpressionError=a.Builder=a.expressionToVar=a.float=a.decimal=a.langString=a.dateTime=a.integer=a.double=a.string=a.bool=a.declare=a.prepareEvaluatorActionContext=a.OverloadTree=a.TermTransformer=void 0,a.trimToDayTimeDuration=a.trimToYearMonthDuration=a.parseDate=a.parseXSDFloat=a.parseXSDDecimal=a.parseYearMonthDuration=a.parseTime=a.parseDuration=a.parseDayTimeDuration=a.parseDateTime=a.elapsedDuration=a.addDurationToDateTime=a.isNonLexicalLiteral=a.StringLiteral=a.NonLexicalLiteral=a.FloatLiteral=a.IntegerLiteral=a.Literal=a.Existence=a.Aggregate=a.DoubleLiteral=a.DefaultGraph=a.DecimalLiteral=a.BlankNode=a.BooleanLiteral=a.NumericLiteral=a.Variable=a.NamedNode=a.Operator=a.Quad=a.YearMonthDurationLiteral=a.Term=void 0;var t=Oue();Object.defineProperty(a,"TermTransformer",{enumerable:!0,get:function(){return t.TermTransformer}});var u=I8();Object.defineProperty(a,"OverloadTree",{enumerable:!0,get:function(){return u.OverloadTree}});var n=Aue();Object.defineProperty(a,"prepareEvaluatorActionContext",{enumerable:!0,get:function(){return n.prepareEvaluatorActionContext}});var r=N8();Object.defineProperty(a,"declare",{enumerable:!0,get:function(){return r.declare}}),Object.defineProperty(a,"bool",{enumerable:!0,get:function(){return r.bool}}),Object.defineProperty(a,"string",{enumerable:!0,get:function(){return r.string}}),Object.defineProperty(a,"double",{enumerable:!0,get:function(){return r.double}}),Object.defineProperty(a,"integer",{enumerable:!0,get:function(){return r.integer}}),Object.defineProperty(a,"dateTime",{enumerable:!0,get:function(){return r.dateTime}}),Object.defineProperty(a,"langString",{enumerable:!0,get:function(){return r.langString}}),Object.defineProperty(a,"decimal",{enumerable:!0,get:function(){return r.decimal}}),Object.defineProperty(a,"float",{enumerable:!0,get:function(){return r.float}}),Object.defineProperty(a,"expressionToVar",{enumerable:!0,get:function(){return r.expressionToVar}}),Object.defineProperty(a,"Builder",{enumerable:!0,get:function(){return r.Builder}});var e=th();Object.defineProperty(a,"ExpressionError",{enumerable:!0,get:function(){return e.ExpressionError}}),Object.defineProperty(a,"isExpressionError",{enumerable:!0,get:function(){return e.isExpressionError}}),Object.defineProperty(a,"EmptyAggregateError",{enumerable:!0,get:function(){return e.EmptyAggregateError}}),Object.defineProperty(a,"RDFEqualTypeError",{enumerable:!0,get:function(){return e.RDFEqualTypeError}}),Object.defineProperty(a,"IncompatibleLanguageOperation",{enumerable:!0,get:function(){return e.IncompatibleLanguageOperation}}),Object.defineProperty(a,"InvalidTimezoneCall",{enumerable:!0,get:function(){return e.InvalidTimezoneCall}}),Object.defineProperty(a,"InvalidArgumentTypes",{enumerable:!0,get:function(){return e.InvalidArgumentTypes}}),Object.defineProperty(a,"CoalesceError",{enumerable:!0,get:function(){return e.CoalesceError}}),Object.defineProperty(a,"InError",{enumerable:!0,get:function(){return e.InError}}),Object.defineProperty(a,"NoAggregator",{enumerable:!0,get:function(){return e.NoAggregator}}),Object.defineProperty(a,"UnboundVariableError",{enumerable:!0,get:function(){return e.UnboundVariableError}}),Object.defineProperty(a,"CastError",{enumerable:!0,get:function(){return e.CastError}}),Object.defineProperty(a,"ExtensionFunctionError",{enumerable:!0,get:function(){return e.ExtensionFunctionError}}),Object.defineProperty(a,"InvalidLexicalForm",{enumerable:!0,get:function(){return e.InvalidLexicalForm}}),Object.defineProperty(a,"InvalidArity",{enumerable:!0,get:function(){return e.InvalidArity}});var i=ou();Object.defineProperty(a,"typedLiteral",{enumerable:!0,get:function(){return i.typedLiteral}}),Object.defineProperty(a,"TypeURL",{enumerable:!0,get:function(){return i.TypeURL}}),Object.defineProperty(a,"TypeAlias",{enumerable:!0,get:function(){return i.TypeAlias}}),Object.defineProperty(a,"SparqlOperator",{enumerable:!0,get:function(){return i.SparqlOperator}});var o=gO();Object.defineProperty(a,"isSubTypeOf",{enumerable:!0,get:function(){return o.isSubTypeOf}});var c=x0();Object.defineProperty(a,"dayTimeDurationsToSeconds",{enumerable:!0,get:function(){return c.dayTimeDurationsToSeconds}}),Object.defineProperty(a,"defaultedDateTimeRepresentation",{enumerable:!0,get:function(){return c.defaultedDateTimeRepresentation}}),Object.defineProperty(a,"defaultedDayTimeDurationRepresentation",{enumerable:!0,get:function(){return c.defaultedDayTimeDurationRepresentation}}),Object.defineProperty(a,"defaultedDurationRepresentation",{enumerable:!0,get:function(){return c.defaultedDurationRepresentation}}),Object.defineProperty(a,"defaultedYearMonthDurationRepresentation",{enumerable:!0,get:function(){return c.defaultedYearMonthDurationRepresentation}}),Object.defineProperty(a,"extractRawTimeZone",{enumerable:!0,get:function(){return c.extractRawTimeZone}}),Object.defineProperty(a,"negateDuration",{enumerable:!0,get:function(){return c.negateDuration}}),Object.defineProperty(a,"toDateTimeRepresentation",{enumerable:!0,get:function(){return c.toDateTimeRepresentation}}),Object.defineProperty(a,"toUTCDate",{enumerable:!0,get:function(){return c.toUTCDate}}),Object.defineProperty(a,"yearMonthDurationsToMonths",{enumerable:!0,get:function(){return c.yearMonthDurationsToMonths}});var s=rh();Object.defineProperty(a,"DateTimeLiteral",{enumerable:!0,get:function(){return s.DateTimeLiteral}}),Object.defineProperty(a,"DayTimeDurationLiteral",{enumerable:!0,get:function(){return s.DayTimeDurationLiteral}}),Object.defineProperty(a,"DateLiteral",{enumerable:!0,get:function(){return s.DateLiteral}}),Object.defineProperty(a,"DurationLiteral",{enumerable:!0,get:function(){return s.DurationLiteral}}),Object.defineProperty(a,"TimeLiteral",{enumerable:!0,get:function(){return s.TimeLiteral}}),Object.defineProperty(a,"LangStringLiteral",{enumerable:!0,get:function(){return s.LangStringLiteral}}),Object.defineProperty(a,"Term",{enumerable:!0,get:function(){return s.Term}}),Object.defineProperty(a,"YearMonthDurationLiteral",{enumerable:!0,get:function(){return s.YearMonthDurationLiteral}}),Object.defineProperty(a,"Quad",{enumerable:!0,get:function(){return s.Quad}}),Object.defineProperty(a,"Operator",{enumerable:!0,get:function(){return s.Operator}}),Object.defineProperty(a,"NamedNode",{enumerable:!0,get:function(){return s.NamedNode}}),Object.defineProperty(a,"Variable",{enumerable:!0,get:function(){return s.Variable}}),Object.defineProperty(a,"NumericLiteral",{enumerable:!0,get:function(){return s.NumericLiteral}}),Object.defineProperty(a,"BooleanLiteral",{enumerable:!0,get:function(){return s.BooleanLiteral}}),Object.defineProperty(a,"BlankNode",{enumerable:!0,get:function(){return s.BlankNode}}),Object.defineProperty(a,"DecimalLiteral",{enumerable:!0,get:function(){return s.DecimalLiteral}}),Object.defineProperty(a,"DefaultGraph",{enumerable:!0,get:function(){return s.DefaultGraph}}),Object.defineProperty(a,"DoubleLiteral",{enumerable:!0,get:function(){return s.DoubleLiteral}}),Object.defineProperty(a,"Aggregate",{enumerable:!0,get:function(){return s.Aggregate}}),Object.defineProperty(a,"Existence",{enumerable:!0,get:function(){return s.Existence}}),Object.defineProperty(a,"Literal",{enumerable:!0,get:function(){return s.Literal}}),Object.defineProperty(a,"IntegerLiteral",{enumerable:!0,get:function(){return s.IntegerLiteral}}),Object.defineProperty(a,"FloatLiteral",{enumerable:!0,get:function(){return s.FloatLiteral}}),Object.defineProperty(a,"NonLexicalLiteral",{enumerable:!0,get:function(){return s.NonLexicalLiteral}}),Object.defineProperty(a,"StringLiteral",{enumerable:!0,get:function(){return s.StringLiteral}}),Object.defineProperty(a,"isNonLexicalLiteral",{enumerable:!0,get:function(){return s.isNonLexicalLiteral}});var l=B8();Object.defineProperty(a,"addDurationToDateTime",{enumerable:!0,get:function(){return l.addDurationToDateTime}}),Object.defineProperty(a,"elapsedDuration",{enumerable:!0,get:function(){return l.elapsedDuration}});var f=cI();Object.defineProperty(a,"parseDateTime",{enumerable:!0,get:function(){return f.parseDateTime}}),Object.defineProperty(a,"parseDayTimeDuration",{enumerable:!0,get:function(){return f.parseDayTimeDuration}}),Object.defineProperty(a,"parseDuration",{enumerable:!0,get:function(){return f.parseDuration}}),Object.defineProperty(a,"parseTime",{enumerable:!0,get:function(){return f.parseTime}}),Object.defineProperty(a,"parseYearMonthDuration",{enumerable:!0,get:function(){return f.parseYearMonthDuration}}),Object.defineProperty(a,"parseXSDDecimal",{enumerable:!0,get:function(){return f.parseXSDDecimal}}),Object.defineProperty(a,"parseXSDFloat",{enumerable:!0,get:function(){return f.parseXSDFloat}}),Object.defineProperty(a,"parseDate",{enumerable:!0,get:function(){return f.parseDate}});var d=x0();Object.defineProperty(a,"trimToYearMonthDuration",{enumerable:!0,get:function(){return d.trimToYearMonthDuration}}),Object.defineProperty(a,"trimToDayTimeDuration",{enumerable:!0,get:function(){return d.trimToDayTimeDuration}})}(Cx)),Cx}var G8;function k8(){if(G8)return Wa;G8=1,Object.defineProperty(Wa,"__esModule",{value:!0}),Wa.TermFunctionBase=Wa.ExpressionFunctionBase=void 0;const a=ke(),t=Ae();class u{constructor({arity:e,operator:i,apply:o}){this.arity=e,this.operator=i,this.apply=o}checkArity(e){return Array.isArray(this.arity)?this.arity.includes(e.length):this.arity===Number.POSITIVE_INFINITY?!0:e.length===this.arity}}Wa.ExpressionFunctionBase=u;class n extends u{constructor({arity:e,operator:i,overloads:o}){super({arity:e,operator:i,apply:async({args:c,exprEval:s,mapping:l})=>this.applyOnTerms(await Promise.all(c.map(f=>s.evaluatorExpressionEvaluation(f,l))),s)}),this.supportsTermExpressions=!0,this.overloads=o}applyOnTerms(e,i){return(this.overloads.search(e,i.context.getSafe(a.KeysExpressionEvaluator.superTypeProvider),i.context.getSafe(a.KeysInitQuery.functionArgumentsCache))??this.handleInvalidTypes(e))(i)(e)}handleInvalidTypes(e){throw new t.InvalidArgumentTypes(e,this.operator)}}return Wa.TermFunctionBase=n,Wa}var z8;function Re(){return z8||(z8=1,function(a){var t=Ja&&Ja.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ja&&Ja.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(A4(),a),u(Qae(),a),u(Hae(),a),u(k8(),a)}(Ja)),Ja}var su={},N0={},X8;function J8(){if(X8)return N0;X8=1,Object.defineProperty(N0,"__esModule",{value:!0}),N0.ActorQueryOperation=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}};return N0.ActorQueryOperation=t,N0}var F0={},cu={},D0={},K8;function Eue(){if(K8)return D0;K8=1,Object.defineProperty(D0,"__esModule",{value:!0}),D0.MetadataValidationState=void 0;let a=class{constructor(){this.invalidateListeners=[],this.valid=!0}addInvalidateListener(u){this.invalidateListeners.push(u)}invalidate(){if(this.valid){this.valid=!1;for(const u of this.invalidateListeners)u()}}};return D0.MetadataValidationState=a,D0}var fn={},W8;function xue(){if(W8)return fn;W8=1,Object.defineProperty(fn,"__esModule",{value:!0}),fn.cachifyMetadata=fn.validateMetadataBindings=fn.validateMetadataQuads=fn.getMetadataBindings=fn.getMetadataQuads=void 0;function a(e){return r(()=>new Promise((i,o)=>{e.getProperty("metadata",c=>i(c)),e.on("error",o)}).then(i=>u(i)))}fn.getMetadataQuads=a;function t(e){return r(()=>new Promise((i,o)=>{e.getProperty("metadata",c=>i(c)),e.on("error",o)}).then(i=>n(i)))}fn.getMetadataBindings=t;function u(e){for(const i of["cardinality"])if(!(i in e))throw new Error(`Invalid metadata: missing ${i} in ${JSON.stringify(e)}`);return e}fn.validateMetadataQuads=u;function n(e){for(const i of["cardinality","variables"])if(!(i in e))throw new Error(`Invalid metadata: missing ${i} in ${JSON.stringify(e)}`);return e}fn.validateMetadataBindings=n;function r(e){let i;return()=>(i||(i=e(),i.then(o=>o.state.addInvalidateListener(()=>{i=void 0})).catch(()=>{})),i)}return fn.cachifyMetadata=r,fn}var Y8;function Or(){return Y8||(Y8=1,function(a){var t=cu&&cu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=cu&&cu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Eue(),a),u(xue(),a)}(cu)),cu}var Z8;function eL(){if(Z8)return F0;Z8=1,Object.defineProperty(F0,"__esModule",{value:!0}),F0.ActorQueryOperationTyped=void 0;const a=ke(),t=Te(),u=Or(),n=J8();let r=class extends n.ActorQueryOperation{constructor(i,o){if(super({...i,operationName:o}),!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(i){if(!i.operation)return(0,t.failTest)("Missing field 'operation' in a query operation action.");if(i.operation.type!==this.operationName)return(0,t.failTest)(`Actor ${this.name} only supports ${this.operationName} operations, but got ${i.operation.type}`);const o=i.operation;return this.testOperation(o,i.context)}async run(i,o){const c=i.context.get(a.KeysInitQuery.physicalQueryPlanLogger);c&&(c.logOperation(i.operation.type,void 0,i.operation,i.context.get(a.KeysInitQuery.physicalQueryPlanNode),this.name,{}),i.context=i.context.set(a.KeysInitQuery.physicalQueryPlanNode,i.operation));const s=i.operation,l=i.context.set(a.KeysQueryOperation.operation,s),f=await this.runOperation(s,l,o);return"metadata"in f&&(f.metadata=(0,u.cachifyMetadata)(f.metadata)),f}};return F0.ActorQueryOperationTyped=r,F0}var P0={},tL;function Iue(){if(tL)return P0;tL=1,Object.defineProperty(P0,"__esModule",{value:!0}),P0.ActorQueryOperationTypedMediated=void 0;const a=eL();let t=class extends a.ActorQueryOperationTyped{constructor(n,r){super(n,r)}};return P0.ActorQueryOperationTypedMediated=t,P0}var L0={},rL;function Rue(){if(rL)return L0;rL=1,Object.defineProperty(L0,"__esModule",{value:!0}),L0.BusQueryOperation=void 0;const a=Te();let t=class extends a.BusIndexed{constructor(n){super({...n,actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"]})}};return L0.BusQueryOperation=t,L0}var nL;function Vt(){return nL||(nL=1,function(a){var t=su&&su.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=su&&su.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(J8(),a),u(eL(),a),u(Iue(),a),u(Rue(),a)}(su)),su}var lu={},j0={},du={},M0={},iL;function Nue(){if(iL)return M0;iL=1,Object.defineProperty(M0,"__esModule",{value:!0}),M0.ActorContextPreprocess=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}};return M0.ActorContextPreprocess=t,M0}var aL;function q0(){return aL||(aL=1,function(a){var t=du&&du.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=du&&du.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Nue(),a)}(du)),du}var uL;function Fue(){if(uL)return j0;uL=1,Object.defineProperty(j0,"__esModule",{value:!0}),j0.ActorContextPreprocessConvertShortcuts=void 0;const a=q0(),t=Te();let u=class Kne extends a.ActorContextPreprocess{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){return{context:Kne.expandShortcuts(r.context,this.contextKeyShortcuts)}}static expandShortcuts(r,e){for(const i of r.keys())e[i.name]&&(r=r.set(new t.ActionContextKey(e[i.name]),r.get(i)).delete(i));return r}};return j0.ActorContextPreprocessConvertShortcuts=u,j0}var oL;function Due(){return oL||(oL=1,function(a){var t=lu&&lu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=lu&&lu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Fue(),a)}(lu)),lu}var fu={},C0={},hu={},B0={},sL;function cL(){if(sL)return B0;sL=1,Object.defineProperty(B0,"__esModule",{value:!0}),B0.BlankNode=void 0;class a{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return B0.BlankNode=a,B0}var $0={},V0={},lL;function dL(){if(lL)return V0;lL=1,Object.defineProperty(V0,"__esModule",{value:!0}),V0.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return V0.DefaultGraph=a,a.INSTANCE=new a,V0}var U0={},Q0={},fL;function lI(){if(fL)return Q0;fL=1,Object.defineProperty(Q0,"__esModule",{value:!0}),Q0.NamedNode=void 0;class a{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return Q0.NamedNode=a,Q0}var hL;function pL(){if(hL)return U0;hL=1,Object.defineProperty(U0,"__esModule",{value:!0}),U0.Literal=void 0;const a=lI();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return U0.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),U0}var H0={},yL;function bL(){if(yL)return H0;yL=1,Object.defineProperty(H0,"__esModule",{value:!0}),H0.Quad=void 0;class a{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return H0.Quad=a,H0}var G0={},_L;function mL(){if(_L)return G0;_L=1,Object.defineProperty(G0,"__esModule",{value:!0}),G0.Variable=void 0;class a{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return G0.Variable=a,G0}var gL;function Pue(){if(gL)return $0;gL=1,Object.defineProperty($0,"__esModule",{value:!0}),$0.DataFactory=void 0;const a=cL(),t=dL(),u=pL(),n=lI(),r=bL(),e=mL();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return $0.DataFactory=o,$0}var vL;function Lue(){return vL||(vL=1,function(a){var t=hu&&hu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=hu&&hu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(cL(),a),u(Pue(),a),u(dL(),a),u(pL(),a),u(lI(),a),u(bL(),a),u(mL(),a)}(hu)),hu}var TL;function jue(){if(TL)return C0;TL=1,Object.defineProperty(C0,"__esModule",{value:!0}),C0.ActorContextPreprocessSetDefaults=void 0;const a=q0(),t=ke(),u=Te(),n=Lue();let r=class extends a.ActorContextPreprocess{constructor(i){super(i),this.defaultFunctionArgumentsCache={}}async test(i){return(0,u.passTestVoid)()}async run(i){let o=i.context;if(i.initialize){o=o.setDefault(t.KeysInitQuery.queryTimestamp,new Date).setDefault(t.KeysInitQuery.queryTimestampHighResolution,performance.now()).setDefault(t.KeysQuerySourceIdentify.sourceIds,new Map).setDefault(t.KeysCore.log,this.logger).setDefault(t.KeysInitQuery.functionArgumentsCache,this.defaultFunctionArgumentsCache).setDefault(t.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores,new Map).setDefault(t.KeysInitQuery.dataFactory,new n.DataFactory);let c={language:"sparql",version:"1.1"};o.has(t.KeysInitQuery.queryFormat)?(c=o.get(t.KeysInitQuery.queryFormat),c.language==="graphql"&&(o=o.setDefault(t.KeysInitQuery.graphqlSingularizeVariables,{}))):o=o.set(t.KeysInitQuery.queryFormat,c)}return{context:o}}};return C0.ActorContextPreprocessSetDefaults=r,C0}var wL;function Mue(){return wL||(wL=1,function(a){var t=fu&&fu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=fu&&fu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(jue(),a)}(fu)),fu}var pu={},k0={},SL;function que(){if(SL)return k0;SL=1,Object.defineProperty(k0,"__esModule",{value:!0}),k0.ActorContextPreprocessSourceToDestination=void 0;const a=q0(),t=ke(),u=Te();let n=class extends a.ActorContextPreprocess{constructor(e){super(e)}async test(e){return(0,u.passTestVoid)()}async run(e){if(e.context.get(t.KeysInitQuery.querySourcesUnidentified)&&!e.context.get(t.KeysRdfUpdateQuads.destination)){const i=e.context.get(t.KeysInitQuery.querySourcesUnidentified);if(i.length===1)return{context:e.context.set(t.KeysRdfUpdateQuads.destination,i[0])}}return e}};return k0.ActorContextPreprocessSourceToDestination=n,k0}var OL;function Cue(){return OL||(OL=1,function(a){var t=pu&&pu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=pu&&pu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(que(),a)}(pu)),pu}var yu={},z0={},X0={},dI={},vO={exports:{}},AL;function J0(){if(AL)return vO.exports;AL=1;var a=typeof Reflect=="object"?Reflect:null,t=a&&typeof a.apply=="function"?a.apply:function(T,w,A){return Function.prototype.apply.call(T,w,A)},u;a&&typeof a.ownKeys=="function"?u=a.ownKeys:Object.getOwnPropertySymbols?u=function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:u=function(T){return Object.getOwnPropertyNames(T)};function n(v){console&&console.warn&&console.warn(v)}var r=Number.isNaN||function(T){return T!==T};function e(){e.init.call(this)}vO.exports=e,vO.exports.once=y,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._eventsCount=0,e.prototype._maxListeners=void 0;var i=10;function o(v){if(typeof v!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof v)}Object.defineProperty(e,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(v){if(typeof v!="number"||v<0||r(v))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+v+".");i=v}}),e.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},e.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||r(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this};function c(v){return v._maxListeners===void 0?e.defaultMaxListeners:v._maxListeners}e.prototype.getMaxListeners=function(){return c(this)},e.prototype.emit=function(T){for(var w=[],A=1;A<arguments.length;A++)w.push(arguments[A]);var M=T==="error",F=this._events;if(F!==void 0)M=M&&F.error===void 0;else if(!M)return!1;if(M){var O;if(w.length>0&&(O=w[0]),O instanceof Error)throw O;var E=new Error("Unhandled error."+(O?" ("+O.message+")":""));throw E.context=O,E}var x=F[T];if(x===void 0)return!1;if(typeof x=="function")t(x,this,w);else for(var L=x.length,V=p(x,L),A=0;A<L;++A)t(V[A],this,w);return!0};function s(v,T,w,A){var M,F,O;if(o(w),F=v._events,F===void 0?(F=v._events=Object.create(null),v._eventsCount=0):(F.newListener!==void 0&&(v.emit("newListener",T,w.listener?w.listener:w),F=v._events),O=F[T]),O===void 0)O=F[T]=w,++v._eventsCount;else if(typeof O=="function"?O=F[T]=A?[w,O]:[O,w]:A?O.unshift(w):O.push(w),M=c(v),M>0&&O.length>M&&!O.warned){O.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+O.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");E.name="MaxListenersExceededWarning",E.emitter=v,E.type=T,E.count=O.length,n(E)}return v}e.prototype.addListener=function(T,w){return s(this,T,w,!1)},e.prototype.on=e.prototype.addListener,e.prototype.prependListener=function(T,w){return s(this,T,w,!0)};function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(v,T,w){var A={fired:!1,wrapFn:void 0,target:v,type:T,listener:w},M=l.bind(A);return M.listener=w,A.wrapFn=M,M}e.prototype.once=function(T,w){return o(w),this.on(T,f(this,T,w)),this},e.prototype.prependOnceListener=function(T,w){return o(w),this.prependListener(T,f(this,T,w)),this},e.prototype.removeListener=function(T,w){var A,M,F,O,E;if(o(w),M=this._events,M===void 0)return this;if(A=M[T],A===void 0)return this;if(A===w||A.listener===w)--this._eventsCount===0?this._events=Object.create(null):(delete M[T],M.removeListener&&this.emit("removeListener",T,A.listener||w));else if(typeof A!="function"){for(F=-1,O=A.length-1;O>=0;O--)if(A[O]===w||A[O].listener===w){E=A[O].listener,F=O;break}if(F<0)return this;F===0?A.shift():b(A,F),A.length===1&&(M[T]=A[0]),M.removeListener!==void 0&&this.emit("removeListener",T,E||w)}return this},e.prototype.off=e.prototype.removeListener,e.prototype.removeAllListeners=function(T){var w,A,M;if(A=this._events,A===void 0)return this;if(A.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):A[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete A[T]),this;if(arguments.length===0){var F=Object.keys(A),O;for(M=0;M<F.length;++M)O=F[M],O!=="removeListener"&&this.removeAllListeners(O);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(w=A[T],typeof w=="function")this.removeListener(T,w);else if(w!==void 0)for(M=w.length-1;M>=0;M--)this.removeListener(T,w[M]);return this};function d(v,T,w){var A=v._events;if(A===void 0)return[];var M=A[T];return M===void 0?[]:typeof M=="function"?w?[M.listener||M]:[M]:w?m(M):p(M,M.length)}e.prototype.listeners=function(T){return d(this,T,!0)},e.prototype.rawListeners=function(T){return d(this,T,!1)},e.listenerCount=function(v,T){return typeof v.listenerCount=="function"?v.listenerCount(T):h.call(v,T)},e.prototype.listenerCount=h;function h(v){var T=this._events;if(T!==void 0){var w=T[v];if(typeof w=="function")return 1;if(w!==void 0)return w.length}return 0}e.prototype.eventNames=function(){return this._eventsCount>0?u(this._events):[]};function p(v,T){for(var w=new Array(T),A=0;A<T;++A)w[A]=v[A];return w}function b(v,T){for(;T+1<v.length;T++)v[T]=v[T+1];v.pop()}function m(v){for(var T=new Array(v.length),w=0;w<T.length;++w)T[w]=v[w].listener||v[w];return T}function y(v,T){return new Promise(function(w,A){function M(O){v.removeListener(T,F),A(O)}function F(){typeof v.removeListener=="function"&&v.removeListener("error",M),w([].slice.call(arguments))}_(v,T,F,{once:!0}),T!=="error"&&g(v,M,{once:!0})})}function g(v,T,w){typeof v.on=="function"&&_(v,"error",T,w)}function _(v,T,w,A){if(typeof v.on=="function")A.once?v.once(T,w):v.on(T,w);else if(typeof v.addEventListener=="function")v.addEventListener(T,function M(F){A.once&&v.removeEventListener(T,M),w(F)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof v)}return vO.exports}var K0={},EL;function Bue(){if(EL)return K0;EL=1,Object.defineProperty(K0,"__esModule",{value:!0}),K0.LinkedList=void 0;class a{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var u;return(u=this._head)===null||u===void 0?void 0:u.value}get last(){var u;return(u=this._tail)===null||u===void 0?void 0:u.value}get empty(){return this._head===null}push(u){const n={value:u,next:null};this._tail===null?this._head=this._tail=n:this._tail.next=this._tail=n,this._length++}shift(){if(this._head===null)return;const{value:u,next:n}=this._head;return this._head=n,n===null&&(this._tail=null),this._length--,u}clear(){this._length=0,this._head=this._tail=null}}return K0.LinkedList=a,K0}var W0={},xL;function $ue(){if(xL)return W0;xL=1,Object.defineProperty(W0,"__esModule",{value:!0}),W0.createTaskScheduler=void 0;const a=Promise.resolve(void 0);function t(){const u=typeof queueMicrotask=="function"?queueMicrotask:i=>a.then(i),n=typeof setImmediate=="function"?setImmediate:i=>setTimeout(i,0);let r=0,e=null;return i=>{e!==null?e.push(i):++r<100?u(i):(e=[i],n(()=>{for(const o of e)u(o);e=null,r=0}))}}return W0.createTaskScheduler=t,W0}var IL;function gt(){return IL||(IL=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isIterator=a.isIterable=a.isSourceExpression=a.isPromise=a.isEventEmitter=a.isFunction=a.range=a.union=a.fromIterable=a.fromIterator=a.fromArray=a.single=a.empty=a.wrap=a.WrappingIterator=a.ClonedIterator=a.UnionIterator=a.MultiTransformIterator=a.SimpleTransformIterator=a.TransformIterator=a.BufferedIterator=a.MappingIterator=a.DESTINATION=a.identity=a.IntegerIterator=a.ArrayIterator=a.SingletonIterator=a.EmptyIterator=a.AsyncIterator=a.DESTROYED=a.ENDED=a.CLOSED=a.CLOSING=a.OPEN=a.INIT=a.setTaskScheduler=a.getTaskScheduler=a.scheduleTask=a.LinkedList=void 0;const t=J0(),u=Bue();Object.defineProperty(a,"LinkedList",{enumerable:!0,get:function(){return u.LinkedList}});let r=$ue().createTaskScheduler();function e(P){r(P)}a.scheduleTask=e;function i(){return r}a.getTaskScheduler=i;function o(P){r=P}a.setTaskScheduler=o,a.INIT=1,a.OPEN=2,a.CLOSING=4,a.CLOSED=8,a.ENDED=16,a.DESTROYED=32;class c extends t.EventEmitter{constructor(S=a.OPEN){super(),this._readable=!1,this._state=S,this.on("newListener",s)}_changeState(S,I=!1){const B=S>this._state&&this._state<a.ENDED;return B&&(this._state=S,S===a.ENDED&&(I?r(()=>this.emit("end")):this.emit("end"))),B}read(){return null}forEach(S,I){this.on("data",je(S,I))}close(){this._changeState(a.CLOSED)&&this._endAsync()}destroy(S){this.done||this._destroy(S,I=>{S=S||I,S&&this.emit("error",S),this._end(!0)})}_destroy(S,I){I()}_end(S=!1){this._changeState(S?a.DESTROYED:a.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){r(()=>this._end())}get readable(){return this._readable}set readable(S){S=!!S&&!this.done,this._readable!==S&&(this._readable=S,S&&r(()=>this.emit("readable")))}get closed(){return this._state>=a.CLOSING}get ended(){return this._state===a.ENDED}get destroyed(){return this._state===a.DESTROYED}get done(){return this._state>=a.ENDED}toString(){const S=this._toStringDetails();return`[${this.constructor.name}${S?` ${S}`:""}]`}_toStringDetails(){return""}toArray(S){const I=[],B=typeof(S==null?void 0:S.limit)=="number"?S.limit:1/0;return this.ended||B<=0?Promise.resolve(I):new Promise((z,H)=>{const K=()=>z(I),k=Z=>{I.push(Z),I.length>=B&&(this.removeListener("error",H),this.removeListener("data",k),this.removeListener("end",K),z(I))};this.on("error",H),this.on("data",k),this.on("end",K)})}getProperty(S,I){const B=this._properties;if(!I)return B&&B[S];if(B&&S in B)r(()=>I(B[S]));else{let z;(z=this._propertyCallbacks)||(this._propertyCallbacks=z=Object.create(null)),S in z?z[S].push(I):z[S]=[I]}}setProperty(S,I){const B=this._properties||(this._properties=Object.create(null));B[S]=I;const z=this._propertyCallbacks||{},H=z[S];if(H){delete z[S],r(()=>{for(const K of H)K(I)});for(S in z)return;delete this._propertyCallbacks}}getProperties(){const S=this._properties,I={};for(const B in S)I[B]=S[B];return I}setProperties(S){for(const I in S)this.setProperty(I,S[I])}copyProperties(S,I){for(const B of I)S.getProperty(B,z=>this.setProperty(B,z))}transform(S){return new O(this,S)}map(S,I){return new y(this,je(S,I))}filter(S,I){return this.map(function(B){return S.call(I||this,B)?B:null})}uniq(S=m){const I=new Set;return this.filter(function(B){const z=S.call(this,B);return I.has(z)?!1:(I.add(z),!0)})}prepend(S){return this.transform({prepend:S})}append(S){return this.transform({append:S})}surround(S,I){return this.transform({prepend:S,append:I})}skip(S){return this.map(I=>S-- >0?null:I)}take(S){return this.transform({limit:S})}range(S,I){return this.transform({offset:S,limit:Math.max(I-S+1,0)})}clone(){return new V(this)}[Symbol.asyncIterator](){const S=this;let I=null,B=null,z=null;S.addListener("readable",H),S.addListener("end",H),S.addListener("error",K);function H(){if(I!==null)if(z!==null)K(z);else if(S.done)I({done:!0,value:void 0}),I=B=null,k();else{const Z=S.read();Z!==null&&(I({done:!1,value:Z}),I=B=null)}}function K(Z){B!==null?(B(Z),I=B=z=null,k()):z===null&&(z=Z)}function k(){S.removeListener("readable",H),S.removeListener("end",H),S.removeListener("error",K)}return{next(){return new Promise((Z,de)=>{I=Z,B=de,H()})}}}}a.AsyncIterator=c;function s(P){P==="data"&&(this.removeListener("newListener",s),f(this,"readable",l),this.readable&&r(()=>l.call(this)))}function l(){let P;for(;this.listenerCount("data")!==0&&(P=this.read())!==null;)this.emit("data",P);this.listenerCount("data")===0&&!this.done&&(this.removeListener("readable",l),f(this,"newListener",s))}function f(P,S,I){P.listeners(S).includes(I)||P.on(S,I)}class d extends c{constructor(){super(),this._changeState(a.ENDED,!0)}}a.EmptyIterator=d;class h extends c{constructor(S){super(),this._item=S,S===null?this.close():this.readable=!0}read(){const S=this._item;return this._item=null,this.close(),S}_toStringDetails(){return this._item===null?"":`(${this._item})`}}a.SingletonIterator=h;class p extends c{constructor(S=[],{autoStart:I=!0,preserve:B=!0}={}){super();const z=B||!Array.isArray(S)?[...S]:S;this._index=0,this._sourceStarted=I!==!1,this._truncateThreshold=B?-1:64,this._sourceStarted&&z.length===0?this.close():this._buffer=z,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let S=null;return this._buffer&&(this._index<this._buffer.length&&(S=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),S}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(S,I){delete this._buffer,I()}toArray(S={}){if(!this._buffer)return Promise.resolve([]);const{length:I}=this._buffer,B=this._index,z=typeof S.limit!="number"?I:B+S.limit,H=this._buffer.slice(B,z);return this._index=z,z>=I&&this.close(),Promise.resolve(H)}}a.ArrayIterator=p;class b extends c{constructor({start:S=0,step:I=1,end:B}={}){super(),Number.isFinite(S)&&(S=Math.trunc(S)),this._next=S,Number.isFinite(I)&&(I=Math.trunc(I)),this._step=I;const z=I>=0,H=z?1/0:-1/0;Number.isFinite(B)?B=Math.trunc(B):B!==-H&&(B=H),this._last=B,!Number.isFinite(S)||(z?S>B:S<B)?this.close():this.readable=!0}read(){if(this.closed)return null;const S=this._next,I=this._step,B=this._last,z=this._next+=I;return(I>=0?z>B:z<B)&&this.close(),S}_toStringDetails(){return`(${this._next}...${this._last})`}}a.IntegerIterator=b;function m(P){return P}a.identity=m,a.DESTINATION=Symbol("destination");class y extends c{constructor(S,I=m,B={}){super(),this._map=I,this._source=g(S),this._destroySource=B.destroySource!==!1,S.done?this.close():(this._source[a.DESTINATION]=this,this._source.on("end",A),this._source.on("error",w),this._source.on("readable",T),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let S,I;for(;(S=this._source.read())!==null;)if((I=this._map(S))!==null)return I}this.readable=!1,this._source.done&&this.close()}return null}_end(S){this._source.removeListener("end",A),this._source.removeListener("error",w),this._source.removeListener("readable",T),delete this._source[a.DESTINATION],this._destroySource&&this._source.destroy(),super._end(S)}}a.MappingIterator=y;function g(P,S=!1){if(!P||!qe(P.read)||!qe(P.on))throw new TypeError(`Invalid source: ${P}`);if(!S&&P[a.DESTINATION])throw new Error("The source already has a destination");return P}class _ extends c{constructor({maxBufferSize:S=4,autoStart:I=!0}={}){super(a.INIT),this._buffer=new u.LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=S,r(()=>this._init(I)),this._sourceStarted=I!==!1}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(S){S!==1/0&&(S=Number.isFinite(S)?Math.max(Math.trunc(S),1):4),this._maxBufferSize!==S&&(this._maxBufferSize=S,this._state===a.OPEN&&this._fillBuffer())}_init(S){let I=!1;this._reading=!0,this._begin(()=>{if(I)throw new Error("done callback called multiple times");I=!0,this._reading=!1,this._changeState(a.OPEN),S?this._fillBufferAsync():this.readable=!0})}_begin(S){S()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const S=this._buffer;let I;return S.empty?(I=null,this.readable=!1):I=S.shift(),!this._reading&&S.length<this._maxBufferSize&&(this.closed?S.empty&&this._endAsync():this._fillBufferAsync()),I}_read(S,I){I()}_push(S){this.done||(this._pushedCount++,this._buffer.push(S),this.readable=!0)}_fillBuffer(){let S;this._reading||(this.closed?this._completeClose():(S=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(S,()=>{if(!S)throw new Error("done callback called multiple times");S=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,r(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(a.CLOSING):this._completeClose()}_completeClose(){this._changeState(a.CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(S,I){this._buffer.clear(),I()}_flush(S){S()}_toStringDetails(){const S=this._buffer;return`{${S.empty?"":`next: ${S.first}, `}buffer: ${S.length}}`}}a.BufferedIterator=_;class v extends _{constructor(S,I=S||{}){super(I),this._boundPush=B=>this._push(B),we(S)||(S=I.source),$e(S)?this.source=S:S&&(this._createSource=ge(S)?()=>S:S,this._sourceStarted&&this._loadSourceAsync()),this._optional=!!I.optional,this._destroySource=I.destroySource!==!1}get source(){return qe(this._createSource)&&this._loadSourceAsync(),this._source}set source(S){const I=this._source=this._validateSource(S);I[a.DESTINATION]=this,this.done?this._destroySource&&I.destroy():I.done?this.close():(I.on("end",M),I.on("readable",F),I.on("error",w))}_loadSourceAsync(){qe(this._createSource)&&(Promise.resolve(this._createSource()).then(S=>{delete this._createSource,this.source=S,this._fillBuffer()},S=>this.emit("error",S)),this._createSource=null)}_validateSource(S,I=!1){if(this._source||typeof this._createSource<"u")throw new Error("The source cannot be changed after it has been set");return g(S,I)}_read(S,I){const B=()=>{this._pushedCount<S&&!this.closed?r(()=>this._readAndTransform(B,I)):I()};this._readAndTransform(B,I)}_readAndTransform(S,I){let B;const z=this.source;!z||z.done||(B=z.read())===null?I():this._optional?this._optionalTransform(B,S):this._transform(B,S,this._boundPush)}_optionalTransform(S,I){const B=this._pushedCount;this._transform(S,()=>{B===this._pushedCount&&this._push(S),I()},this._boundPush)}_transform(S,I,B){B(S),I()}_closeWhenDone(){this.close()}_end(S){const I=this._source;I&&(I.removeListener("end",M),I.removeListener("error",w),I.removeListener("readable",F),delete I[a.DESTINATION],this._destroySource&&I.destroy()),super._end(S)}}a.TransformIterator=v;function T(){this[a.DESTINATION].readable=!0}function w(P){this[a.DESTINATION].emit("error",P)}function A(){this[a.DESTINATION].close()}function M(){this[a.DESTINATION]._closeWhenDone()}function F(){this[a.DESTINATION]._sourceStarted!==!1&&this[a.DESTINATION]._fillBuffer()}class O extends v{constructor(S,I){if(super(S,I),this._offset=0,this._limit=1/0,this._filter=B=>!0,I=I||(we(S)?null:S),I){const B=qe(I)?I:I.transform,{limit:z,offset:H,filter:K,map:k,prepend:Z,append:de}=I;H===1/0||z===-1/0?this._limit=0:(Number.isFinite(H)&&(this._offset=Math.max(Math.trunc(H),0)),Number.isFinite(z)&&(this._limit=Math.max(Math.trunc(z),0)),qe(K)&&(this._filter=K),qe(k)&&(this._map=k),this._transform=qe(B)?B:null),Z&&(this._prepender=$e(Z)?Z:X(Z)),de&&(this._appender=$e(de)?de:X(de))}}_read(S,I){const B=()=>this._readAndTransformSimple(S,z,I);this._readAndTransformSimple(S,z,I);function z(){r(B)}}_readAndTransformSimple(S,I,B){let z;const{source:H}=this;if(!H||H.done){B();return}for(this._limit===0&&this.close();!this.closed&&this._pushedCount<S&&(z=H.read())!==null;){if(!this._filter(z)||this._offset!==0&&this._offset--)continue;const K=typeof this._map>"u"?z:this._map(z);if(K===null)this._optional&&this._push(z);else if(!qe(this._transform))this._push(K);else{this._optional?this._optionalTransform(K,I):this._transform(K,I,this._boundPush);return}--this._limit===0&&this.close()}B()}_begin(S){this._insert(this._prepender,S),delete this._prepender}_flush(S){this._insert(this._appender,S),delete this._appender}_insert(S,I){const B=H=>this._push(H);!S||S.done?I():(S.on("data",B),S.on("end",z));function z(){S.removeListener("data",B),S.removeListener("end",z),I()}}}a.SimpleTransformIterator=O;class E extends v{constructor(S,I){if(super(S,I),this._transformerQueue=[],I){const B=qe(I)?I:I.multiTransform;B&&(this._createTransformer=B)}}_read(S,I){const B=this._transformerQueue,z=this._optional;let H,K;for(;(H=B[0])&&H.transformer.done;){z&&H.item!==null&&(S--,this._push(H.item)),B.shift();const{transformer:Z}=H;Z.removeListener("end",F),Z.removeListener("readable",F),Z.removeListener("error",w)}const{source:k}=this;for(;k&&!k.done&&B.length<this.maxBufferSize&&(K=k.read(),K!==null);){const Z=this._createTransformer(K)||new d;Z[a.DESTINATION]=this,Z.on("end",F),Z.on("readable",F),Z.on("error",w),B.push({transformer:Z,item:K})}if(H=B[0],H){const{transformer:Z}=H;for(;S-- >0&&(K=Z.read())!==null;)this._push(K),z&&(H.item=null)}else k&&k.done&&this.close();I()}_createTransformer(S){return new h(S)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(S){if(super._end(S),this._destroySource)for(const I of this._transformerQueue)I.transformer.destroy()}}a.MultiTransformIterator=E;class x extends _{constructor(S,I={}){super(I),this._sources=[],this._currentSource=-1;const B=I.autoStart!==!1;if($e(S))S.on("error",z=>this.emit("error",z)),this._pending={loading:!1,sources:S},B&&this._loadSources();else if(Array.isArray(S)&&S.length>0)for(const z of S)this._addSource(z);else B&&this.close();this._destroySources=I.destroySources!==!1}_loadSources(){const S=this._pending.sources;this._pending.loading=!0,S.done?(delete this._pending,this.close()):(S.on("data",I=>{this._addSource(I),this._fillBufferAsync()}),S.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(S){ge(S)&&(S=ie(S)),S.done||(this._sources.push(S),S[a.DESTINATION]=this,S.on("error",w),S.on("readable",F),S.on("end",L))}_removeEmptySources(){this._sources=this._sources.filter((S,I)=>(S.done&&I<=this._currentSource&&this._currentSource--,!S.done)),this._fillBuffer()}_read(S,I){var B;((B=this._pending)===null||B===void 0?void 0:B.loading)===!1&&this._loadSources();let z=0,H;for(;z!==(z=S);)for(let K=0;K<this._sources.length&&S>0;K++)this._currentSource=(this._currentSource+1)%this._sources.length,(H=this._sources[this._currentSource].read())!==null&&(S--,this._push(H));!this._pending&&this._sources.length===0&&this.close(),I()}_end(S=!1){if(super._end(S),this._destroySources){for(const I of this._sources)I.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}a.UnionIterator=x;function L(){this[a.DESTINATION]._removeEmptySources()}class V extends v{constructor(S){super(S,{autoStart:!1}),this._readPosition=0,this._reading=!1,S&&(this.readable=!0)}_init(){}close(){c.prototype.close.call(this)}get source(){return super.source}set source(S){const I=this._source=this._validateSource(S),B=I&&I[a.DESTINATION]||(I[a.DESTINATION]=new $(I));this.done?this._destroySource&&I.destroy():B.endsAt(0)?this.close():(B.register(this),(I._sourceStarted===!1||B.readAt(0)!==null)&&(this.readable=!0));const z=this._propertyCallbacks;for(const H in z){const K=z[H];for(const k of K)this._getSourceProperty(H,k)}}_validateSource(S,I=!1){const B=S&&S[a.DESTINATION];return super._validateSource(S,!B||B instanceof $)}getProperty(S,I){const{source:B}=this,z=this._properties,H=z&&S in z;if(!I)return H?z&&z[S]:B&&B.getProperty(S);super.getProperty(S,I),B&&!H&&this._getSourceProperty(S,I)}_getSourceProperty(S,I){this.source.getProperty(S,B=>{(!this._properties||!(S in this._properties))&&I(B)})}getProperties(){const S=this.source?this.source.getProperties():{},I=this._properties;for(const B in I)S[B]=I[B];return S}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const S=this.source;let I=null;if(!this.done&&S){const B=S[a.DESTINATION];(I=B.readAt(this._readPosition))!==null?this._readPosition++:this.readable=!1,B.endsAt(this._readPosition)&&this.close()}return I}_end(S){const I=this.source,B=I==null?void 0:I[a.DESTINATION];B&&B.unregister(this),_.prototype._end.call(this,S)}}a.ClonedIterator=V;class ${constructor(S){if(this._history=[],this._trackers=new Set,this._source=S,!S.done){const I=()=>{for(const H of this._trackers)H.readable=!0},B=H=>{for(const K of this._trackers)K.emit("error",H)},z=()=>{for(const H of this._trackers)H._sourceStarted!==!1&&H._readPosition===this._history.length&&H.close();this._trackers.clear(),S.removeListener("end",z),S.removeListener("error",B),S.removeListener("readable",I)};S.on("end",z),S.on("error",B),S.on("readable",I)}}register(S){this._source.done||this._trackers.add(S)}unregister(S){this._trackers.delete(S)}readAt(S){let I=null;return S<this._history.length?I=this._history[S]:!this._source.done&&(I=this._source.read())!==null&&(this._history[S]=I),I}endsAt(S){return this._source.done&&this._history.length===S}}class Q extends c{constructor(S,I){super(),this._source=null,this._destroySource=(I==null?void 0:I.destroySource)!==!1,ge(S)?(this._source=new c,S.then(B=>{this._source=null,this.source=B}).catch(B=>this.emit("error",B))):S&&(this.source=S)}set source(S){let I=S;if(this._source!==null)throw new Error("The source cannot be changed after it has been set");if(G(I)&&(I=I[Symbol.iterator]()),N(I)){let B=I;I=new t.EventEmitter,I.read=()=>{if(B!==null){let z;for(;!(z=B.next()).done;)if(z.value!==null)return z.value;B=null,this.close()}return null}}else I=g(I);if(this.done){this._destroySource&&qe(I.destroy)&&I.destroy();return}I[a.DESTINATION]=this,I.on("end",A),I.on("error",w),I.on("readable",T),this._source=I,this.readable=I.readable!==!1}read(){if(this._source!==null&&this._source.readable!==!1){const S=this._source.read();if(S!==null)return S;this.readable=!1}return null}_end(S=!1){this._source!==null&&(this._source.removeListener("end",A),this._source.removeListener("error",w),this._source.removeListener("readable",T),delete this._source[a.DESTINATION],this._destroySource&&qe(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(S)}}a.WrappingIterator=Q;function ie(P,S){if(S&&("autoStart"in S||"optional"in S||"source"in S||"maxBufferSize"in S))return P&&!$e(P)&&(P=new Q(P)),new v(P,S);if(!P)return ue();if(ge(P))return new Q(P,S);if(P instanceof c)return P;if(Array.isArray(P))return X(P);if(G(P)||N(P)||$e(P))return new Q(P,S);throw new TypeError(`Invalid source: ${P}`)}a.wrap=ie;function ue(){return new d}a.empty=ue;function pe(P){return new h(P)}a.single=pe;function X(P){return new p(P)}a.fromArray=X;function me(P){return new Q(P)}a.fromIterator=me;function Fe(P){return new Q(P)}a.fromIterable=Fe;function ve(P){return new x(P)}a.union=ve;function re(P,S,I){return new b({start:P,end:S,step:I})}a.range=re;function je(P,S){return S?P.bind(S):P}function qe(P){return typeof P=="function"}a.isFunction=qe;function $e(P){return qe(P==null?void 0:P.on)}a.isEventEmitter=$e;function ge(P){return qe(P==null?void 0:P.then)}a.isPromise=ge;function we(P){return P&&($e(P)||ge(P)||qe(P))}a.isSourceExpression=we;function G(P){return P&&Symbol.iterator in P}a.isIterable=G;function N(P){return qe(P==null?void 0:P.next)}a.isIterator=N}(dI)),dI}var fI={},bu={},Y0={},RL;function Vue(){if(RL)return Y0;RL=1,Object.defineProperty(Y0,"__esModule",{value:!0}),Y0.BlankNodeScoped=void 0;let a=class{constructor(u,n){this.termType="BlankNode",this.value=u,this.skolemized=n}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}};return Y0.BlankNodeScoped=a,Y0}var Z0={},NL;function Uue(){if(NL)return Z0;NL=1,Object.defineProperty(Z0,"__esModule",{value:!0}),Z0.BlankNodeBindingsScoped=void 0;let a=class{constructor(u){this.termType="BlankNode",this.singleBindingsScope=!0,this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}};return Z0.BlankNodeBindingsScoped=a,Z0}var FL;function hI(){return FL||(FL=1,function(a){var t=bu&&bu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=bu&&bu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Vue(),a),u(Uue(),a)}(bu)),bu}var DL;function pI(){return DL||(DL=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.deskolemizeOperation=a.deskolemizeQuad=a.deskolemizeTermNestedThrowing=a.deskolemizeTerm=a.skolemizeBindingsStream=a.skolemizeQuadStream=a.skolemizeBindings=a.skolemizeQuad=a.skolemizeTerm=a.getSourceId=a.SKOLEM_PREFIX=void 0;const t=hI(),u=Rr(),n=bt();a.SKOLEM_PREFIX="urn:comunica_skolem:source_";function r(p,b){let m=p.get(b.referenceValue);return m===void 0&&(m=`${p.size}`,p.set(b.referenceValue,m)),m}a.getSourceId=r;function e(p,b,m){return b.termType==="BlankNode"?new t.BlankNodeScoped(`bc_${m}_${b.value}`,p.namedNode(`${a.SKOLEM_PREFIX}${m}:${b.value}`)):b}a.skolemizeTerm=e;function i(p,b,m){return(0,u.mapTermsNested)(b,y=>e(p,y,m))}a.skolemizeQuad=i;function o(p,b,m){return b.map(y=>y.termType==="Quad"?i(p,y,m):e(p,y,m))}a.skolemizeBindings=o;function c(p,b,m){const y=b.map(_=>i(p,_,m));function g(){b.getProperty("metadata",_=>{y.setProperty("metadata",_),_.state.addInvalidateListener(g)})}return g(),y}a.skolemizeQuadStream=c;function s(p,b,m){const y=b.map(_=>o(p,_,m));function g(){b.getProperty("metadata",_=>{y.setProperty("metadata",_),_.state.addInvalidateListener(g)})}return g(),y}a.skolemizeBindingsStream=s;function l(p,b,m){if(b.termType==="BlankNode"&&"skolemized"in b&&(b=b.skolemized),b.termType==="NamedNode"&&b.value.startsWith(a.SKOLEM_PREFIX)){const y=b.value.indexOf(":",a.SKOLEM_PREFIX.length);if(b.value.slice(a.SKOLEM_PREFIX.length,y)===m){const _=b.value.slice(y+1,b.value.length);return p.blankNode(_)}return null}return b}a.deskolemizeTerm=l;function f(p,b,m){if(b.termType==="Quad")return(0,u.mapTermsNested)(b,g=>{const _=l(p,g,m);if(!_)throw new Error("Skolemized term is not in scope for this source");return _});const y=l(p,b,m);if(y===null)throw new Error("Skolemized term is not in scope for this source");return y}a.deskolemizeTermNestedThrowing=f;function d(p,b,m){return(0,u.mapTermsNested)(b,y=>l(p,y,m)??y)}a.deskolemizeQuad=d;function h(p,b,m){const y=new n.Factory;try{return n.Util.mapOperation(b,{[n.Algebra.types.PATTERN](g,_){return{result:Object.assign(_.createPattern(f(p,g.subject,m),f(p,g.predicate,m),f(p,g.object,m),f(p,g.graph,m)),{metadata:g.metadata}),recurse:!1}},[n.Algebra.types.PATH](g,_){return{result:Object.assign(_.createPath(f(p,g.subject,m),g.predicate,f(p,g.object,m),f(p,g.graph,m)),{metadata:g.metadata}),recurse:!1}}},y)}catch{}}a.deskolemizeOperation=h}(fI)),fI}var PL;function LL(){if(PL)return X0;PL=1,Object.defineProperty(X0,"__esModule",{value:!0}),X0.QuerySourceSkolemized=void 0;const a=ke(),t=Or(),u=gt(),n=pI();let r=class{constructor(i,o){this.innerSource=i,this.sourceId=o}async getSelectorShape(i){return this.innerSource.getSelectorShape(i)}queryBindings(i,o,c){const s=o.getSafe(a.KeysInitQuery.dataFactory),l=(0,n.deskolemizeOperation)(s,i,this.sourceId);if(!l){const f=new u.ArrayIterator([],{autoStart:!1});return f.setProperty("metadata",{state:new t.MetadataValidationState,cardinality:{type:"exact",value:0},variables:[]}),f}return(0,n.skolemizeBindingsStream)(s,this.innerSource.queryBindings(l,o,c),this.sourceId)}queryBoolean(i,o){return this.innerSource.queryBoolean(i,o)}queryQuads(i,o){const c=o.getSafe(a.KeysInitQuery.dataFactory),s=(0,n.deskolemizeOperation)(c,i,this.sourceId);if(!s){const l=new u.ArrayIterator([],{autoStart:!1});return l.setProperty("metadata",{state:new t.MetadataValidationState,cardinality:{type:"exact",value:0}}),l}return(0,n.skolemizeQuadStream)(c,this.innerSource.queryQuads(s,o),this.sourceId)}queryVoid(i,o){return this.innerSource.queryVoid(i,o)}get referenceValue(){return this.innerSource.referenceValue}toString(){return`${this.innerSource.toString()}(SkolemID:${this.sourceId})`}};return X0.QuerySourceSkolemized=r,X0}var jL;function Que(){if(jL)return z0;jL=1,Object.defineProperty(z0,"__esModule",{value:!0}),z0.ActorContextPreprocessQuerySourceSkolemize=void 0;const a=q0(),t=ke(),u=Te(),n=LL(),r=pI();let e=class extends a.ActorContextPreprocess{constructor(o){super(o)}async test(o){return(0,u.passTestVoid)()}async run(o){let c=o.context;if(c.has(t.KeysQueryOperation.querySources)){c.has(t.KeysQuerySourceIdentify.sourceIds)||(c=c.set(t.KeysQuerySourceIdentify.sourceIds,new Map));const s=c.getSafe(t.KeysQuerySourceIdentify.sourceIds);let l=c.getSafe(t.KeysQueryOperation.querySources);l=l.map(f=>({source:new n.QuerySourceSkolemized(f.source,(0,r.getSourceId)(s,f.source)),context:f.context})),c=c.set(t.KeysQueryOperation.querySources,l)}return{context:c}}};return z0.ActorContextPreprocessQuerySourceSkolemize=e,z0}var ML;function qL(){return ML||(ML=1,function(a){var t=yu&&yu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=yu&&yu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Que(),a),u(LL(),a),u(pI(),a)}(yu)),yu}var _u={},ey={},CL;function Hue(){if(CL)return ey;CL=1,Object.defineProperty(ey,"__esModule",{value:!0}),ey.MediatorCombinePipeline=void 0;const a=Te();let t=class extends a.Mediator{constructor(n){super(n)}async mediate(n){let r;try{r=this.publish(n)}catch{return n}if(this.filterFailures){const c=[];for(const s of r)(await s.reply).isPassed()&&c.push(s);r=c}const e=[];if(r=await Promise.all(r.map(async({actor:c,reply:s},l)=>{try{const f=await s,d=f.getOrThrow();return e[l]=f.getSideData(),{actor:c,reply:d}}catch(f){throw new Error(this.constructFailureMessage(n,[f.message]))}})),this.order){const c=s=>{const l=this.field?s[this.field]:s;if(typeof l!="number")throw new TypeError("Cannot order elements that are not numbers.");return l};r=r.sort((s,l)=>(this.order==="increasing"?1:-1)*(c(s.reply)-c(l.reply)))}let i=n,o=0;for(const{actor:c}of r)i={...i,...await c.runObservable(i,e[o++])};return i}mediateWith(){throw new Error("Method not supported.")}};return ey.MediatorCombinePipeline=t,ey}var BL;function $L(){return BL||(BL=1,function(a){var t=_u&&_u.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=_u&&_u.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Hue(),a)}(_u)),_u}var mu={},ty={},gu={},ry={},VL;function Gue(){if(VL)return ry;VL=1,Object.defineProperty(ry,"__esModule",{value:!0}),ry.ActorHashBindings=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}};return ry.ActorHashBindings=t,ry}var UL;function kue(){return UL||(UL=1,function(a){var t=gu&&gu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=gu&&gu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Gue(),a)}(gu)),gu}var yI={exports:{}};/**
 * @preserve
 * JS Implementation of incremental MurmurHash3 (r150) (as of May 10, 2013)
 *
 * @author <a href="mailto:jensyt@gmail.com">Jens Taylor</a>
 * @see http://github.com/homebrewing/brauhaus-diff
 * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
 * @see http://github.com/garycourt/murmurhash-js
 * @author <a href="mailto:aappleby@gmail.com">Austin Appleby</a>
 * @see http://sites.google.com/site/murmurhash/
 */var QL;function HL(){return QL||(QL=1,function(a){(function(){var t;function u(n,r){var e=this instanceof u?this:t;if(e.reset(r),typeof n=="string"&&n.length>0&&e.hash(n),e!==this)return e}u.prototype.hash=function(n){var r,e,i,o,c;switch(c=n.length,this.len+=c,e=this.k1,i=0,this.rem){case 0:e^=c>i?n.charCodeAt(i++)&65535:0;case 1:e^=c>i?(n.charCodeAt(i++)&65535)<<8:0;case 2:e^=c>i?(n.charCodeAt(i++)&65535)<<16:0;case 3:e^=c>i?(n.charCodeAt(i)&255)<<24:0,e^=c>i?(n.charCodeAt(i++)&65280)>>8:0}if(this.rem=c+this.rem&3,c-=this.rem,c>0){for(r=this.h1;e=e*11601+(e&65535)*3432906752&4294967295,e=e<<15|e>>>17,e=e*13715+(e&65535)*461832192&4294967295,r^=e,r=r<<13|r>>>19,r=r*5+3864292196&4294967295,!(i>=c);)e=n.charCodeAt(i++)&65535^(n.charCodeAt(i++)&65535)<<8^(n.charCodeAt(i++)&65535)<<16,o=n.charCodeAt(i++),e^=(o&255)<<24^(o&65280)>>8;switch(e=0,this.rem){case 3:e^=(n.charCodeAt(i+2)&65535)<<16;case 2:e^=(n.charCodeAt(i+1)&65535)<<8;case 1:e^=n.charCodeAt(i)&65535}this.h1=r}return this.k1=e,this},u.prototype.result=function(){var n,r;return n=this.k1,r=this.h1,n>0&&(n=n*11601+(n&65535)*3432906752&4294967295,n=n<<15|n>>>17,n=n*13715+(n&65535)*461832192&4294967295,r^=n),r^=this.len,r^=r>>>16,r=r*51819+(r&65535)*2246770688&4294967295,r^=r>>>13,r=r*44597+(r&65535)*3266445312&4294967295,r^=r>>>16,r>>>0},u.prototype.reset=function(n){return this.h1=typeof n=="number"?n:0,this.rem=this.k1=this.len=0,this},t=new u,a.exports=u})()}(yI)),yI.exports}var GL;function zue(){if(GL)return ty;GL=1,Object.defineProperty(ty,"__esModule",{value:!0}),ty.ActorHashBindingsMurmur=void 0;const a=kue(),t=Te(),u=HL();let n=class extends a.ActorHashBindings{async test(e){return(0,t.passTestVoid)()}async run(e){return{hashFunction:(i,o)=>{var s;let c=u();for(const l of o)c=c.hash(((s=i.get(l))==null?void 0:s.value)??"UNDEF");return c.result()}}}};return ty.ActorHashBindingsMurmur=n,ty}var kL;function Xue(){return kL||(kL=1,function(a){var t=mu&&mu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=mu&&mu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(zue(),a)}(mu)),mu}var vu={},ny={},zL;function Jue(){if(zL)return ny;zL=1,Object.defineProperty(ny,"__esModule",{value:!0}),ny.MediatorRace=void 0;const a=Te();let t=class extends a.Mediator{constructor(n){super(n)}mediateWith(n,r){return new Promise((e,i)=>{const o=[];for(const c of r)c.reply.then(s=>{s.isPassed()?e((0,a.passTestWithSideData)(c.actor,s.getSideData())):(o.push(s.getFailMessage()),o.length===r.length&&e((0,a.failTest)(this.constructFailureMessage(n,o))))}).catch(s=>{i(s)})})}};return ny.MediatorRace=t,ny}var XL;function _r(){return XL||(XL=1,function(a){var t=vu&&vu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=vu&&vu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Jue(),a)}(vu)),vu}var Tu={},iy={},wu={},ay={},JL;function Kue(){if(JL)return ay;JL=1,Object.defineProperty(ay,"__esModule",{value:!0}),ay.ActorHashQuads=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}};return ay.ActorHashQuads=t,ay}var KL;function Wue(){return KL||(KL=1,function(a){var t=wu&&wu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=wu&&wu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Kue(),a)}(wu)),wu}var WL;function Yue(){if(WL)return iy;WL=1,Object.defineProperty(iy,"__esModule",{value:!0}),iy.ActorHashQuadsMurmur=void 0;const a=Wue(),t=Te(),u=HL();let n=class extends a.ActorHashQuads{async test(e){return(0,t.passTestVoid)()}async run(e){return{hashFunction:i=>{const o=u(i.subject.value);return o.hash(i.predicate.value),o.hash(i.object.value),o.hash(i.graph.value),o.result()}}}};return iy.ActorHashQuadsMurmur=n,iy}var YL;function Zue(){return YL||(YL=1,function(a){var t=Tu&&Tu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Tu&&Tu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Yue(),a)}(Tu)),Tu}var Su={},uy={},Ou={},oy={},ZL;function eoe(){if(ZL)return oy;ZL=1,Object.defineProperty(oy,"__esModule",{value:!0}),oy.ActorOptimizeQueryOperation=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}};return oy.ActorOptimizeQueryOperation=t,oy}var ej;function En(){return ej||(ej=1,function(a){var t=Ou&&Ou.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ou&&Ou.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(eoe(),a)}(Ou)),Ou}var tj;function toe(){if(tj)return uy;tj=1,Object.defineProperty(uy,"__esModule",{value:!0}),uy.ActorOptimizeQueryOperationRewriteCopy=void 0;const a=En(),t=ke(),u=Te(),n=bt();let r=class extends a.ActorOptimizeQueryOperation{constructor(i){super(i)}async test(i){return(0,u.passTestVoid)()}async run(i){const o=i.context.getSafe(t.KeysInitQuery.dataFactory),c=new n.Factory(o);return{operation:n.Util.mapOperation(i.operation,{[n.Algebra.types.COPY](l,f){let d;return typeof l.destination=="string"&&typeof l.source=="string"&&l.destination===l.source||typeof l.destination!="string"&&typeof l.source!="string"&&l.destination.equals(l.source)?d=f.createCompositeUpdate([]):d=f.createCompositeUpdate([f.createDrop(l.destination,!0),f.createAdd(l.source,l.destination,l.silent)]),{result:d,recurse:!1}}},c),context:i.context}}};return uy.ActorOptimizeQueryOperationRewriteCopy=r,uy}var rj;function roe(){return rj||(rj=1,function(a){var t=Su&&Su.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Su&&Su.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(toe(),a)}(Su)),Su}var Au={},sy={},nj;function noe(){if(nj)return sy;nj=1,Object.defineProperty(sy,"__esModule",{value:!0}),sy.ActorOptimizeQueryOperationRewriteMove=void 0;const a=En(),t=ke(),u=Te(),n=bt();let r=class extends a.ActorOptimizeQueryOperation{constructor(i){super(i)}async test(i){return(0,u.passTestVoid)()}async run(i){const o=i.context.getSafe(t.KeysInitQuery.dataFactory),c=new n.Factory(o);return{operation:n.Util.mapOperation(i.operation,{[n.Algebra.types.MOVE](l,f){let d;if(typeof l.destination=="string"&&typeof l.source=="string"&&l.destination===l.source||typeof l.destination!="string"&&typeof l.source!="string"&&l.destination.equals(l.source))d=f.createCompositeUpdate([]);else{const h=[f.createDrop(l.destination,!0),f.createAdd(l.source,l.destination,l.silent),f.createDrop(l.source)];d=f.createCompositeUpdate(h)}return{result:d,recurse:!1}}},c),context:i.context}}};return sy.ActorOptimizeQueryOperationRewriteMove=r,sy}var ij;function ioe(){return ij||(ij=1,function(a){var t=Au&&Au.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Au&&Au.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(noe(),a)}(Au)),Au}var Eu={},cy={},xu={},ly={},aj;function uj(){if(aj)return ly;aj=1,Object.defineProperty(ly,"__esModule",{value:!0}),ly.BlankNode=void 0;class a{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return ly.BlankNode=a,ly}var dy={},fy={},oj;function sj(){if(oj)return fy;oj=1,Object.defineProperty(fy,"__esModule",{value:!0}),fy.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return fy.DefaultGraph=a,a.INSTANCE=new a,fy}var hy={},py={},cj;function bI(){if(cj)return py;cj=1,Object.defineProperty(py,"__esModule",{value:!0}),py.NamedNode=void 0;class a{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return py.NamedNode=a,py}var lj;function dj(){if(lj)return hy;lj=1,Object.defineProperty(hy,"__esModule",{value:!0}),hy.Literal=void 0;const a=bI();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return hy.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),hy}var yy={},fj;function hj(){if(fj)return yy;fj=1,Object.defineProperty(yy,"__esModule",{value:!0}),yy.Quad=void 0;class a{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return yy.Quad=a,yy}var by={},pj;function yj(){if(pj)return by;pj=1,Object.defineProperty(by,"__esModule",{value:!0}),by.Variable=void 0;class a{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return by.Variable=a,by}var bj;function aoe(){if(bj)return dy;bj=1,Object.defineProperty(dy,"__esModule",{value:!0}),dy.DataFactory=void 0;const a=uj(),t=sj(),u=dj(),n=bI(),r=hj(),e=yj();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return dy.DataFactory=o,dy}var _j;function uoe(){return _j||(_j=1,function(a){var t=xu&&xu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=xu&&xu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(uj(),a),u(aoe(),a),u(sj(),a),u(dj(),a),u(bI(),a),u(hj(),a),u(yj(),a)}(xu)),xu}var mj;function ooe(){if(mj)return cy;mj=1,Object.defineProperty(cy,"__esModule",{value:!0}),cy.ActorOptimizeQueryOperationRewriteAdd=void 0;const a=En(),t=ke(),u=Te(),n=uoe(),r=bt(),e=new n.DataFactory;let i=class extends a.ActorOptimizeQueryOperation{constructor(c){super(c)}async test(c){return(0,u.passTestVoid)()}async run(c){const s=c.context.getSafe(t.KeysInitQuery.dataFactory),l=new r.Factory(s);return{operation:r.Util.mapOperation(c.operation,{[r.Algebra.types.ADD](d,h){const p=d.destination==="DEFAULT"?e.defaultGraph():d.destination,b=d.source==="DEFAULT"?e.defaultGraph():d.source;return{result:h.createDeleteInsert(void 0,[h.createPattern(e.variable("s"),e.variable("p"),e.variable("o"),p)],h.createPattern(e.variable("s"),e.variable("p"),e.variable("o"),b)),recurse:!1}}},l),context:c.context}}};return cy.ActorOptimizeQueryOperationRewriteAdd=i,cy}var gj;function soe(){return gj||(gj=1,function(a){var t=Eu&&Eu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Eu&&Eu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(ooe(),a)}(Eu)),Eu}var Iu={},_y={},Ru={},my={},vj;function coe(){if(vj)return my;vj=1,Object.defineProperty(my,"__esModule",{value:!0}),my.doesShapeAcceptOperation=void 0;function a(n,r,e){return t(n,n,r,e)}my.doesShapeAcceptOperation=a;function t(n,r,e,i){if(r.type==="conjunction")return r.children.every(c=>t(n,c,e,i));if(r.type==="disjunction")return r.children.some(c=>t(n,c,e,i));if(r.type==="arity")return t(n,r.child,e,i);if(((i==null?void 0:i.joinBindings)&&!r.joinBindings)??((i==null?void 0:i.filterBindings)&&!r.filterBindings))return!1;const o=r.operation;switch(o.operationType){case"type":return u(n,r,e,i)?o.type===e.type:!1;case"pattern":return u(n,r,e,i)?o.pattern.type===e.type:!1;case"wildcard":return!0}}function u(n,r,e,i){return!(e.input&&!(Array.isArray(e.input)?e.input:[e.input]).every(c=>t(n,n,c,i))||e.patterns&&!e.patterns.every(o=>t(n,n,o,i)))}return my}var fr={},Tj;function loe(){if(Tj)return fr;Tj=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.removeOperationSource=fr.assignOperationSource=fr.getOperationSource=fr.testReadOnly=fr.validateQueryOutput=fr.getSafeVoid=fr.getSafeBoolean=fr.getSafeQuads=fr.getSafeBindings=void 0;const a=ke(),t=Te();function u(f){return i(f,"bindings"),f}fr.getSafeBindings=u;function n(f){return i(f,"quads"),f}fr.getSafeQuads=n;function r(f){return i(f,"boolean"),f}fr.getSafeBoolean=r;function e(f){return i(f,"void"),f}fr.getSafeVoid=e;function i(f,d){if(f.type!==d)throw new Error(`Invalid query output type: Expected '${d}' but got '${f.type}'`)}fr.validateQueryOutput=i;function o(f){return f.get(a.KeysQueryOperation.readOnly)?(0,t.failTest)("Attempted a write operation in read-only mode"):(0,t.passTestVoid)()}fr.testReadOnly=o;function c(f){var d;return(d=f.metadata)==null?void 0:d.scopedSource}fr.getOperationSource=c;function s(f,d){return f={...f},f.metadata=f.metadata?{...f.metadata}:{},f.metadata.scopedSource=d,f}fr.assignOperationSource=s;function l(f){var d;(d=f.metadata)==null||delete d.scopedSource,f.metadata&&Object.keys(f.metadata).length===0&&delete f.metadata}return fr.removeOperationSource=l,fr}var Nu={},wj;function doe(){if(wj)return Nu;wj=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.materializeOperation=Nu.materializeTerm=void 0;const a=Bt(),t=Rr(),u=bt();function n(i,o){if(i.termType==="Variable"){const c=o.get(i);if(c)return c}return i.termType==="Quad"&&(0,t.someTermsNested)(i,c=>c.termType==="Variable")?(0,t.mapTermsNested)(i,c=>n(c,o)):i}Nu.materializeTerm=n;function r(i,o,c,s,l={}){return l={strictTargetVariables:"strictTargetVariables"in l?l.strictTargetVariables:!1,bindFilter:"bindFilter"in l?l.bindFilter:!0,originalBindings:"originalBindings"in l?l.originalBindings:o},u.Util.mapOperation(i,{path(f,d){return{recurse:!1,result:Object.assign(d.createPath(n(f.subject,o),f.predicate,n(f.object,o),n(f.graph,o)),{metadata:f.metadata})}},pattern(f,d){return{recurse:!1,result:Object.assign(d.createPattern(n(f.subject,o),n(f.predicate,o),n(f.object,o),n(f.graph,o)),{metadata:f.metadata})}},extend(f){if(o.has(f.variable)){if(l.strictTargetVariables)throw new Error(`Tried to bind variable ${(0,a.termToString)(f.variable)} in a BIND operator.`);return{recurse:!0,result:r(f.input,o,c,s,l)}}return{recurse:!0,result:f}},group(f,d){if(l.strictTargetVariables){for(const p of f.variables)if(o.has(p))throw new Error(`Tried to bind variable ${(0,a.termToString)(p)} in a GROUP BY operator.`);return{recurse:!0,result:f}}const h=f.variables.filter(p=>!o.has(p));return{recurse:!0,result:d.createGroup(f.input,h,f.aggregates)}},filter(f,d){const h=l.originalBindings;if(f.expression.expressionType!=="operator"||h.size===0)return{recurse:!1,result:f};const p=e(d,h),b=r(f.expression,o,c,s,l);let m=r(f.input,o,c,s,l);return p.length>0&&(m=d.createJoin([...p,m])),{recurse:!1,result:d.createFilter(m,b)}},project(f,d){if(l.strictTargetVariables){for(const b of f.variables)if(o.has(b))throw new Error(`Tried to bind variable ${(0,a.termToString)(b)} in a SELECT operator.`);return{recurse:!0,result:f}}for(const b of o.keys())for(const m of f.variables)if(m.equals(b)){o=o.delete(b);break}const h=e(d,l.originalBindings,f.variables);let p=r(f.input,o,c,s,l);return h.length>0&&(p=d.createJoin([...h,p])),{recurse:!1,result:d.createProject(p,f.variables)}},values(f,d){if(l.strictTargetVariables){for(const h of f.variables)if(o.has(h))throw new Error(`Tried to bind variable ${(0,a.termToString)(h)} in a VALUES operator.`)}else{const h=f.variables.filter(b=>!o.has(b)),p=f.bindings.map(b=>{const m={...b};let y=!0;return o.forEach((g,_)=>{const v=(0,a.termToString)(_);v in m&&(g.equals(m[v])||(y=!1),delete m[v])}),y?m:void 0}).filter(Boolean);return{recurse:!0,result:d.createValues(h,p)}}return{recurse:!1,result:f}},expression(f,d){if(!l.bindFilter)return{recurse:!1,result:f};if(f.expressionType==="term")return{recurse:!1,result:d.createTermExpression(n(f.term,o))};if(f.expressionType==="operator")return f.operator==="bound"&&f.args.length===1&&f.args[0].expressionType==="term"&&[...o.keys()].some(h=>f.args[0].term.equals(h))?{recurse:!1,result:d.createTermExpression(d.dataFactory.literal("true",d.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")))}:{recurse:!0,result:f};if(f.expressionType==="aggregate"&&"variable"in f&&o.has(f.variable)){if(l.strictTargetVariables)throw new Error(`Tried to bind ${(0,a.termToString)(f.variable)} in a ${f.aggregator} aggregate.`);return{recurse:!0,result:f}}return{recurse:!0,result:f}}},c)}Nu.materializeOperation=r;function e(i,o,c){const s=[];for(const[l,f]of o)if(!c||c.some(d=>d.equals(l))){const d={[(0,a.termToString)(l)]:f};s.push(i.createValues([l],[d]))}return s}return Nu}var Sj;function St(){return Sj||(Sj=1,function(a){var t=Ru&&Ru.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ru&&Ru.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(coe(),a),u(loe(),a),u(doe(),a)}(Ru)),Ru}var Oj;function foe(){if(Oj)return _y;Oj=1,Object.defineProperty(_y,"__esModule",{value:!0}),_y.ActorOptimizeQueryOperationGroupSources=void 0;const a=En(),t=ke(),u=Te(),n=St(),r=bt();let e=class extends a.ActorOptimizeQueryOperation{constructor(o){super(o)}async test(o){return(0,n.getOperationSource)(o.operation)?(0,u.failTest)(`Actor ${this.name} does not work with top-level operation sources.`):(0,u.passTestVoid)()}async run(o){return{operation:await this.groupOperation(o.operation,o.context),context:o.context}}async groupOperation(o,c){var p;const s=c.getSafe(t.KeysInitQuery.dataFactory),l=new r.Factory(s);if((0,n.getOperationSource)(o)??!("input"in o))return o;if(!Array.isArray(o.input)){const b=await this.groupOperation(o.input,c);if((p=b.metadata)!=null&&p.scopedSource){const m=(0,n.getOperationSource)(b);(0,n.doesShapeAcceptOperation)(await m.source.getSelectorShape(c),o)&&(this.logDebug(c,`Hoist 1 source-specific operation into a single ${o.type} operation for ${m.source.toString()}`),(0,n.removeOperationSource)(b),o=(0,n.assignOperationSource)(o,m))}return{...o,input:b}}const f=await Promise.all(o.input.map(b=>this.groupOperation(b,c))),d=this.clusterOperationsWithEqualSources(f);if(d.length===1){const b=d[0],m=(0,n.getOperationSource)(d[0][0]);return{...await this.moveSourceAnnotationUpwardsIfPossible(o,b,m,c),input:b}}if(d.length===f.length)return{...o,input:f};let h;switch(o.type){case r.Algebra.types.JOIN:h=l.createJoin.bind(l);break;case r.Algebra.types.UNION:h=l.createUnion.bind(l);break;case r.Algebra.types.ALT:h=l.createAlt.bind(l);break;case r.Algebra.types.SEQ:h=l.createSeq.bind(l);break;default:throw new Error(`Unsupported operation '${o.type}' detected while grouping sources`)}return await this.groupOperationMulti(d,h,c)}async groupOperationMulti(o,c,s){let l=!0;const f=await Promise.all(o.map(async d=>{const h=(0,n.getOperationSource)(d[0]),p=await this.moveSourceAnnotationUpwardsIfPossible(c(d,!0),d,h,s);return(0,n.getOperationSource)(p)&&(l=!1),p}));return c(f,l)}clusterOperationsWithEqualSources(o){const c=new Map,s=[];for(const f of o){const d=(0,n.getOperationSource)(f);d?(c.has(d)||c.set(d,[]),c.get(d).push(f)):s.push(f)}const l=[];s.length>0&&l.push(s);for(const[f,d]of c.entries())l.push(d.map(h=>(0,n.assignOperationSource)(h,f)));return l}async moveSourceAnnotationUpwardsIfPossible(o,c,s,l){if(s&&(0,n.doesShapeAcceptOperation)(await s.source.getSelectorShape(l),o)){this.logDebug(l,`Hoist ${c.length} source-specific operations into a single ${o.type} operation for ${s.source.toString()}`),o=(0,n.assignOperationSource)(o,s);for(const f of c)(0,n.removeOperationSource)(f)}return o}};return _y.ActorOptimizeQueryOperationGroupSources=e,_y}var Aj;function hoe(){return Aj||(Aj=1,function(a){var t=Iu&&Iu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Iu&&Iu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(foe(),a)}(Iu)),Iu}var Fu={},gy={},Ej;function poe(){if(Ej)return gy;Ej=1,Object.defineProperty(gy,"__esModule",{value:!0}),gy.ActorOptimizeQueryOperationConstructDistinct=void 0;const a=En(),t=KD(),u=Te(),n=bt();let r=class extends a.ActorOptimizeQueryOperation{constructor(i){super(i)}async test(i){return i.context.has(t.KeysInitQuery.distinctConstruct)?(0,u.passTestVoid)():(0,u.failTest)(`${this.name} was not enabled by the query.`)}async run(i){return{operation:n.Util.mapOperation(i.operation,{construct(c,s){return{recurse:!1,result:s.createDistinct(s.createConstruct(c.input,c.template))}}}),context:i.context.delete(t.KeysInitQuery.distinctConstruct)}}};return gy.ActorOptimizeQueryOperationConstructDistinct=r,gy}var xj;function yoe(){return xj||(xj=1,function(a){var t=Fu&&Fu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Fu&&Fu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(poe(),a)}(Fu)),Fu}var Du={},vy={},Pu={},Ty={},Ij;function boe(){if(Ij)return Ty;Ij=1,Object.defineProperty(Ty,"__esModule",{value:!0}),Ty.ActorQueryParse=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}};return Ty.ActorQueryParse=t,Ty}var Rj;function Nj(){return Rj||(Rj=1,function(a){var t=Pu&&Pu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Pu&&Pu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(boe(),a)}(Pu)),Pu}var Fj;function _oe(){if(Fj)return vy;Fj=1,Object.defineProperty(vy,"__esModule",{value:!0}),vy.ActorQueryParseSparql=void 0;const a=Nj(),t=ke(),u=Te(),n=bt(),r=n0();let e=class extends a.ActorQueryParse{constructor(o){super(o),this.prefixes=Object.freeze(this.prefixes)}async test(o){return o.queryFormat&&o.queryFormat.language!=="sparql"?(0,u.failTest)("This actor can only parse SPARQL queries"):(0,u.passTestVoid)()}async run(o){const c=o.context.getSafe(t.KeysInitQuery.dataFactory),l=new r.Parser({prefixes:this.prefixes,baseIRI:o.baseIRI,sparqlStar:!0,factory:c}).parse(o.query);return{baseIRI:l.type==="query"?l.base:void 0,operation:(0,n.translate)(l,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:o.baseIRI,dataFactory:c})}}};return vy.ActorQueryParseSparql=e,vy}var Dj;function moe(){return Dj||(Dj=1,function(a){var t=Du&&Du.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Du&&Du.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(_oe(),a)}(Du)),Du}var Lu={},wy={},ju={},Mu={},qu={},Sy={},Pj;function ih(){if(Pj)return Sy;Pj=1,Object.defineProperty(Sy,"__esModule",{value:!0}),Sy.DirectiveNodeHandlerAdapter=void 0;let a=class{constructor(u,n,r){this.targetKind=u,this.util=n,this.settings=r}getDirectiveConditionalValue(u,n){const r=this.util.getArgument(u.arguments,"if");if(!r)throw new Error(`The directive ${u.name.value} is missing an if-argument.`);const e=this.util.handleNodeValue(r.value,r.name.value,n);if(e.terms.length!==1)throw new Error(`Can not apply the directive ${u.name.value} with a list.`);return e.terms[0]}isDirectiveScopeAll(u){const n=this.util.getArgument(u.arguments,"scope");return n&&n.value.kind==="EnumValue"&&n.value.value==="all"}};return Sy.DirectiveNodeHandlerAdapter=a,Sy}var Oy={},Lj;function goe(){if(Lj)return Oy;Lj=1,Object.defineProperty(Oy,"__esModule",{value:!0}),Oy.DirectiveNodeHandlerInclude=void 0;const a=ih();let t=class extends a.DirectiveNodeHandlerAdapter{constructor(n,r){super("include",n,r)}handle(n,r){const e=this.getDirectiveConditionalValue(n.directive,r);return e.termType==="Literal"&&e.value==="false"?{ignore:!0}:{}}};return Oy.DirectiveNodeHandlerInclude=t,Oy}var Ay={},jj;function voe(){if(jj)return Ay;jj=1,Object.defineProperty(Ay,"__esModule",{value:!0}),Ay.DirectiveNodeHandlerOptional=void 0;const a=ih();let t=class extends a.DirectiveNodeHandlerAdapter{constructor(n,r){super("optional",n,r)}handle(n,r){return{operationOverrider:e=>this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),e)}}};return Ay.DirectiveNodeHandlerOptional=t,Ay}var Ey={},_I={},Mj;function xy(){return Mj||(Mj=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.SingularizeState=void 0,function(t){t[t.SINGLE=0]="SINGLE",t[t.PLURAL=1]="PLURAL"}(a.SingularizeState||(a.SingularizeState={}))}(_I)),_I}var qj;function Toe(){if(qj)return Ey;qj=1,Object.defineProperty(Ey,"__esModule",{value:!0}),Ey.DirectiveNodeHandlerPlural=void 0;const a=xy(),t=ih();let u=class extends t.DirectiveNodeHandlerAdapter{constructor(r,e){super("plural",r,e)}handle(r,e){return this.isDirectiveScopeAll(r.directive)&&(e.singularizeState=a.SingularizeState.PLURAL),delete e.singularizeVariables[this.util.nameToVariable(r.fieldLabel,e).value],{}}};return Ey.DirectiveNodeHandlerPlural=u,Ey}var Iy={},Cj;function woe(){if(Cj)return Iy;Cj=1,Object.defineProperty(Iy,"__esModule",{value:!0}),Iy.DirectiveNodeHandlerSingle=void 0;const a=xy(),t=ih();let u=class extends t.DirectiveNodeHandlerAdapter{constructor(r,e){super("single",r,e)}handle(r,e){return this.isDirectiveScopeAll(r.directive)&&(e.singularizeState=a.SingularizeState.SINGLE),e.singularizeVariables[this.util.nameToVariable(r.fieldLabel,e).value]=!0,{}}};return Iy.DirectiveNodeHandlerSingle=u,Iy}var Ry={},Bj;function Soe(){if(Bj)return Ry;Bj=1,Object.defineProperty(Ry,"__esModule",{value:!0}),Ry.DirectiveNodeHandlerSkip=void 0;const a=ih();let t=class extends a.DirectiveNodeHandlerAdapter{constructor(n,r){super("skip",n,r)}handle(n,r){const e=this.getDirectiveConditionalValue(n.directive,r);return e.termType==="Literal"&&e.value==="true"?{ignore:!0}:{}}};return Ry.DirectiveNodeHandlerSkip=t,Ry}var $j;function Vj(){return $j||($j=1,function(a){var t=qu&&qu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=qu&&qu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(ih(),a),u(goe(),a),u(voe(),a),u(Toe(),a),u(woe(),a),u(Soe(),a)}(qu)),qu}var Cu={},Ny={},Uj;function di(){if(Uj)return Ny;Uj=1,Object.defineProperty(Ny,"__esModule",{value:!0}),Ny.NodeValueHandlerAdapter=void 0;let a=class{constructor(u,n,r){this.targetKind=u,this.util=n,this.settings=r}};return Ny.NodeValueHandlerAdapter=a,Ny}var Fy={},Qj;function Ooe(){if(Qj)return Fy;Qj=1,Object.defineProperty(Fy,"__esModule",{value:!0}),Fy.NodeValueHandlerBoolean=void 0;const a=di();let t=class extends a.NodeValueHandlerAdapter{constructor(n,r){super("BooleanValue",n,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")}handle(n,r,e){return{terms:[this.util.dataFactory.literal(n.value?"true":"false",this.datatype)]}}};return Fy.NodeValueHandlerBoolean=t,Fy}var Dy={},Hj;function Aoe(){if(Hj)return Dy;Hj=1,Object.defineProperty(Dy,"__esModule",{value:!0}),Dy.NodeValueHandlerEnum=void 0;const a=di();let t=class extends a.NodeValueHandlerAdapter{constructor(n,r){super("EnumValue",n,r)}handle(n,r,e){return{terms:[this.util.valueToNamedNode(n.value,e.context)]}}};return Dy.NodeValueHandlerEnum=t,Dy}var Py={},Gj;function Eoe(){if(Gj)return Py;Gj=1,Object.defineProperty(Py,"__esModule",{value:!0}),Py.NodeValueHandlerFloat=void 0;const a=di();let t=class extends a.NodeValueHandlerAdapter{constructor(n,r){super("FloatValue",n,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#float")}handle(n,r,e){return{terms:[this.util.dataFactory.literal(n.value,this.datatype)]}}};return Py.NodeValueHandlerFloat=t,Py}var Ly={},kj;function xoe(){if(kj)return Ly;kj=1,Object.defineProperty(Ly,"__esModule",{value:!0}),Ly.NodeValueHandlerInt=void 0;const a=di();let t=class extends a.NodeValueHandlerAdapter{constructor(n,r){super("IntValue",n,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#integer")}handle(n,r,e){return{terms:[this.util.dataFactory.literal(n.value,this.datatype)]}}};return Ly.NodeValueHandlerInt=t,Ly}var jy={},zj;function Ioe(){if(zj)return jy;zj=1,Object.defineProperty(jy,"__esModule",{value:!0}),jy.NodeValueHandlerList=void 0;const a=di();let t=class extends a.NodeValueHandlerAdapter{constructor(n,r){super("ListValue",n,r),this.nodeFirst=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),this.nodeRest=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),this.nodeNil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(n,r,e){const i=[];let o=[];for(const c of n.values){const s=this.util.handleNodeValue(c,r,e);for(const l of s.terms)i.push(l);s.auxiliaryPatterns&&(o=o.concat(s.auxiliaryPatterns))}if(this.settings.arraysToRdfLists){const c=this.util.dataFactory.blankNode();let s=c,l=i.length;for(const f of i){o.push(this.util.operationFactory.createPattern(s,this.nodeFirst,f,e.graph));const d=--l===0?this.nodeNil:this.util.dataFactory.blankNode();o.push(this.util.operationFactory.createPattern(s,this.nodeRest,d,e.graph)),s=d}return{terms:[c],auxiliaryPatterns:o}}else return{terms:i,auxiliaryPatterns:o}}};return jy.NodeValueHandlerList=t,jy}var My={},Xj;function Roe(){if(Xj)return My;Xj=1,Object.defineProperty(My,"__esModule",{value:!0}),My.NodeValueHandlerNull=void 0;const a=di();let t=class extends a.NodeValueHandlerAdapter{constructor(n,r){super("NullValue",n,r),this.nil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(n,r,e){return{terms:[this.nil]}}};return My.NodeValueHandlerNull=t,My}var qy={},Jj;function Noe(){if(Jj)return qy;Jj=1,Object.defineProperty(qy,"__esModule",{value:!0}),qy.NodeValueHandlerObject=void 0;const a=di();let t=class extends a.NodeValueHandlerAdapter{constructor(n,r){super("ObjectValue",n,r)}handle(n,r,e){const i=this.util.dataFactory.blankNode();let o=[];for(const c of n.fields){const s=this.util.handleNodeValue(c.value,r,e);for(const l of s.terms)o.push(this.util.createQuadPattern(i,c.name,l,e.graph,e.context));s.auxiliaryPatterns&&(o=o.concat(s.auxiliaryPatterns))}return{terms:[i],auxiliaryPatterns:o}}};return qy.NodeValueHandlerObject=t,qy}var Cy={},Kj;function Foe(){if(Kj)return Cy;Kj=1,Object.defineProperty(Cy,"__esModule",{value:!0}),Cy.NodeValueHandlerString=void 0;const a=di();let t=class extends a.NodeValueHandlerAdapter{constructor(n,r){super("StringValue",n,r)}handle(n,r,e){const i=e.context.getContextRaw()[r];let o,c;return i&&typeof i!="string"&&(i["@language"]?o=i["@language"]:i["@type"]&&(c=this.util.dataFactory.namedNode(i["@type"]))),{terms:[this.util.dataFactory.literal(n.value,o||c)]}}};return Cy.NodeValueHandlerString=t,Cy}var By={},Wj;function Doe(){if(Wj)return By;Wj=1,Object.defineProperty(By,"__esModule",{value:!0}),By.NodeValueHandlerVariable=void 0;const a=di();let t=class extends a.NodeValueHandlerAdapter{constructor(n,r){super("Variable",n,r)}handle(n,r,e){const i=n.name.value,o=e.variablesDict[i],c=e.variablesMetaDict[i];if(!o){if(!e.ignoreUnknownVariables&&(!c||c.mandatory))throw new Error(`Undefined variable: ${i}`);{const s=this.util.dataFactory.variable(i);return e.terminalVariables.map(l=>l.value).indexOf(i)<0&&e.terminalVariables.push(s),{terms:[s]}}}if(o.kind==="Variable")throw new Error(`Variable refers to another variable: ${i}`);if(c)if(c.list){if(o.kind!=="ListValue")throw new Error(`Expected a list, but got ${o.kind} for ${i}`);if(c.type){const s=o;for(const l of s.values)if(l.kind!==c.type)throw new Error(`Expected ${c.type}, but got ${l.kind} for ${i}`)}}else c.type;return this.util.handleNodeValue(o,r,e)}};return By.NodeValueHandlerVariable=t,By}var Yj;function Poe(){return Yj||(Yj=1,function(a){var t=Cu&&Cu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Cu&&Cu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(di(),a),u(Ooe(),a),u(Aoe(),a),u(Eoe(),a),u(xoe(),a),u(Ioe(),a),u(Roe(),a),u(Noe(),a),u(Foe(),a),u(Doe(),a)}(Cu)),Cu}var $y={},Zj;function TO(){if(Zj)return $y;Zj=1,Object.defineProperty($y,"__esModule",{value:!0}),$y.NodeHandlerAdapter=void 0;let a=class{constructor(u,n,r){this.targetKind=u,this.util=n,this.settings=r}getNodeQuadContextSelectionSet(u,n,r){const e={};if(u){for(const i of u.selections)if(i.kind==="Field"){const o=i;this.handleNodeQuadContextField(o,r,e,"id","subject"),this.handleNodeQuadContextField(o,r,e,"graph","graph")}}return e}handleNodeQuadContextField(u,n,r,e,i){if(!r[i]&&u.name.value===e){if(!r[i]){const o=this.util.getArgument(u.arguments,"_");if(o){const c=this.util.handleNodeValue(o.value,u.name.value,n);if(c.terms.length!==1)throw new Error(`Only single values can be set as ${e}, but got ${c.terms.length} at ${u.name.value}`);r[i]=c.terms[0],c.auxiliaryPatterns&&(r.auxiliaryPatterns||(r.auxiliaryPatterns=[]),r.auxiliaryPatterns.concat(c.auxiliaryPatterns))}}if(!r[i]){const o=this.util.nameToVariable(this.util.getFieldLabel(u),n);n.terminalVariables.push(o),r[i]=o}}}getDirectiveOutputs(u,n,r){const e=[];if(u)for(const i of u){const o=this.util.handleDirectiveNode({directive:i,fieldLabel:n},r);if(o){if(o.ignore)return null;e.push(o)}}return e}handleDirectiveOutputs(u,n){for(const r of u){if(r.ignore)return this.util.operationFactory.createBgp([]);r.operationOverrider&&(n=r.operationOverrider(n))}return n}};return $y.NodeHandlerAdapter=a,$y}var Vy={},e5;function mI(){if(e5)return Vy;e5=1,Object.defineProperty(Vy,"__esModule",{value:!0}),Vy.NodeHandlerDefinitionAdapter=void 0;const a=TO();let t=class extends a.NodeHandlerAdapter{constructor(n,r,e){super(n,r,e)}};return Vy.NodeHandlerDefinitionAdapter=t,Vy}var Uy={},t5;function Loe(){if(t5)return Uy;t5=1,Object.defineProperty(Uy,"__esModule",{value:!0}),Uy.NodeHandlerDefinitionFragment=void 0;const a=mI();let t=class extends a.NodeHandlerDefinitionAdapter{constructor(n,r){super("FragmentDefinition",n,r)}handle(n,r){throw new Error("Illegal state: fragment definitions must be indexed and removed before processing")}};return Uy.NodeHandlerDefinitionFragment=t,Uy}var Qy={},r5;function joe(){if(r5)return Qy;r5=1,Object.defineProperty(Qy,"__esModule",{value:!0}),Qy.NodeHandlerDefinitionOperation=void 0;const a=mI();let t=class extends a.NodeHandlerDefinitionAdapter{constructor(n,r){super("OperationDefinition",n,r)}handle(n,r){if(n.operation!=="query")throw new Error("Unsupported definition operation: "+n.operation);if(n.variableDefinitions)for(const o of n.variableDefinitions){const c=o.variable.name.value;o.defaultValue&&(r.variablesDict[c]||(r.variablesDict[c]=o.defaultValue));let s=o.type;const l=s.kind==="NonNullType";l&&(s=s.type);const f=s.kind==="ListType";f&&(s=s.type);const d=s.name.value;r.variablesMetaDict[c]={mandatory:l,list:f,type:d}}const e=this.getDirectiveOutputs(n.directives,n.name?n.name.value:"",r);if(!e)return this.util.operationFactory.createBgp([]);const i=this.util.joinOperations(n.selectionSet.selections.map(o=>this.util.handleNode(o,r)));return this.handleDirectiveOutputs(e,i)}};return Qy.NodeHandlerDefinitionOperation=t,Qy}var Hy={},n5;function Moe(){if(n5)return Hy;n5=1,Object.defineProperty(Hy,"__esModule",{value:!0}),Hy.NodeHandlerDocument=void 0;const a=bt(),t=TO();let u=class extends t.NodeHandlerAdapter{constructor(r,e){super("Document",r,e)}handle(r,e){const i=r.definitions.map(c=>{const s=this.getNodeQuadContextDefinitionNode(c,Object.assign(Object.assign({},e),{ignoreUnknownVariables:!0})),l=Object.assign(Object.assign({},e),{graph:s.graph||e.graph,subject:s.subject||this.util.dataFactory.blankNode()});let f=this.util.handleNode(c,l);return s&&s.auxiliaryPatterns&&(f=this.util.joinOperations([f,this.util.operationFactory.createBgp(s.auxiliaryPatterns)])),f}),o=this.util.operationFactory.createProject(i.length===1?i[0]:this.util.operationFactory.createUnion(i),e.terminalVariables);return this.translateBlankNodesToVariables(o)}getNodeQuadContextDefinitionNode(r,e){if(r.kind==="OperationDefinition")return this.getNodeQuadContextSelectionSet(r.selectionSet,r.name?r.name.value:"",e);throw new Error(`Unsupported definition: ${r.kind}`)}translateBlankNodesToVariables(r){const e=this,i={},o=Array.from(r.variables).reduce((s,l)=>(s[l.value]=!0,s),{});return a.Util.mapOperation(r,{path:(s,l)=>({recurse:!1,result:l.createPath(c(s.subject),s.predicate,c(s.object),c(s.graph))}),pattern:(s,l)=>({recurse:!1,result:l.createPattern(c(s.subject),c(s.predicate),c(s.object),c(s.graph))})});function c(s){if(s.termType==="BlankNode"){let l=i[s.value];return l||(l=a.Util.createUniqueVariable(s.value,o,e.util.dataFactory),o[l.value]=!0,i[s.value]=l),l}return s}}};return Hy.NodeHandlerDocument=u,Hy}var Gy={},i5;function wO(){if(i5)return Gy;i5=1,Object.defineProperty(Gy,"__esModule",{value:!0}),Gy.NodeHandlerSelectionAdapter=void 0;const a=bt(),t=xy(),u=TO();let n=class extends u.NodeHandlerAdapter{constructor(e,i,o){super(e,i,o)}getNodeQuadContextFieldNode(e,i,o){return this.getNodeQuadContextSelectionSet(e.selectionSet,i,Object.assign(Object.assign({},o),{path:this.util.appendFieldToPath(o.path,i)}))}fieldToOperation(e,i,o,c){const s=o;let l=0,f;if((i.name.value==="id"||i.name.value==="graph")&&(o=!1,i.arguments))for(const T of i.arguments)T.name.value==="_"&&this.util.handleNodeValue(T.value,i.name.value,e);const d=this.util.getFieldLabel(i);if(e.singularizeState===t.SingularizeState.SINGLE&&(e.singularizeVariables[this.util.nameToVariable(d,e).value]=!0),o){const T=this.handleMetaField(e,d,c);if(T)return T}const h=c?[this.util.operationFactory.createBgp(c)]:[],p=this.getNodeQuadContextFieldNode(i,d,e);let b=p.subject||this.util.nameToVariable(d,e),m=p.graph||e.graph;p.auxiliaryPatterns&&h.push(this.util.operationFactory.createBgp(p.auxiliaryPatterns));let y=!0,g=null;if(o&&i.arguments&&i.arguments.length){for(const T of i.arguments)if(T.name.value==="_"){const w=this.util.handleNodeValue(T.value,i.name.value,e);g=w.terms,h.push(this.util.operationFactory.createBgp(w.terms.map(A=>this.util.createQuadPattern(e.subject,i.name,A,e.graph,e.context)))),w.auxiliaryPatterns&&h.push(this.util.operationFactory.createBgp(w.auxiliaryPatterns)),o=!1;break}else if(T.name.value==="graph"){const w=this.util.handleNodeValue(T.value,i.name.value,e);if(w.terms.length!==1)throw new Error(`Only single values can be set as graph, but got ${w.terms.length} at ${i.name.value}`);m=w.terms[0],e=Object.assign(Object.assign({},e),{graph:m}),w.auxiliaryPatterns&&h.push(this.util.operationFactory.createBgp(w.auxiliaryPatterns));break}else if(T.name.value==="alt"){let w=T.value;w.kind!=="ListValue"&&(w={kind:"ListValue",values:[w]}),h.push(this.util.createQuadPath(e.subject,i.name,w,b,e.graph,e.context)),y=!1;break}}if(o&&y&&h.push(this.util.operationFactory.createBgp([this.util.createQuadPattern(e.subject,i.name,b,e.graph,e.context)])),i.arguments&&i.arguments.length){for(const T of i.arguments)if(!(T.name.value==="_"||T.name.value==="graph"||T.name.value==="alt"))if(T.name.value==="first"){if(T.value.kind!=="IntValue")throw new Error("Invalid value type for 'first' argument: "+T.value.kind);f=parseInt(T.value.value,10)}else if(T.name.value==="offset"){if(T.value.kind!=="IntValue")throw new Error("Invalid value type for 'offset' argument: "+T.value.kind);l=parseInt(T.value.value,10)}else{const w=this.util.handleNodeValue(T.value,T.name.value,e);h.push(this.util.operationFactory.createBgp(w.terms.map(A=>this.util.createQuadPattern(b,T.name,A,e.graph,e.context)))),w.auxiliaryPatterns&&h.push(this.util.operationFactory.createBgp(w.auxiliaryPatterns))}}const _=this.getDirectiveOutputs(i.directives,d,e);if(!_)return this.util.operationFactory.createBgp([]);let v=this.util.joinOperations(h);if(i.selectionSet&&i.selectionSet.selections.length){if(g){if(g.length!==1)throw new Error(`Only single values can be set as id, but got ${g.length} at ${i.name.value}`);b=g[0]}const T=Object.assign(Object.assign(Object.assign({},e),s?{path:this.util.appendFieldToPath(e.path,d)}:{}),{graph:m,subject:s?b:e.subject});let w=!1;const A=i.selectionSet.selections.filter(F=>F.kind==="Field"&&F.name.value==="totalCount"?(w=!0,!1):!0);let M=this.util.joinOperations(h.concat(A.map(F=>this.util.handleNode(F,T))));if(w){const F=this.util.dataFactory.variable("var"+this.settings.expressionVariableCounter++),O=this.util.dataFactory.variable(b.value+this.settings.variableDelimiter+"totalCount"),E=this.util.operationFactory.createBoundAggregate(F,"count",this.util.operationFactory.createTermExpression(b),!1),x=this.util.operationFactory.createProject(this.util.operationFactory.createExtend(this.util.operationFactory.createGroup(v,[],[E]),O,this.util.operationFactory.createTermExpression(F)),[O]);e.terminalVariables.push(O),A.length?M=this.util.operationFactory.createJoin([this.util.operationFactory.createProject(M,[]),x]):M=x}v=M}else o&&b.termType==="Variable"&&e.terminalVariables.push(b);return(l||f)&&(v=this.util.operationFactory.createSlice(this.util.operationFactory.createProject(v,a.Util.inScopeVariables(v)),l,f)),this.handleDirectiveOutputs(_,v)}handleMetaField(e,i,o){if(i==="__typename"){const c=this.util.nameToVariable(i,e);return e.terminalVariables.push(c),this.util.operationFactory.createBgp([this.util.operationFactory.createPattern(e.subject,this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.util.nameToVariable(i,e),e.graph)].concat(o||[]))}}};return Gy.NodeHandlerSelectionAdapter=n,Gy}var ky={},a5;function qoe(){if(a5)return ky;a5=1,Object.defineProperty(ky,"__esModule",{value:!0}),ky.NodeHandlerSelectionField=void 0;const a=wO();let t=class extends a.NodeHandlerSelectionAdapter{constructor(n,r){super("Field",n,r)}handle(n,r){return this.fieldToOperation(r,n,!0)}};return ky.NodeHandlerSelectionField=t,ky}var zy={},u5;function Coe(){if(u5)return zy;u5=1,Object.defineProperty(zy,"__esModule",{value:!0}),zy.NodeHandlerSelectionFragmentSpread=void 0;const a=wO();let t=class extends a.NodeHandlerSelectionAdapter{constructor(n,r){super("FragmentSpread",n,r)}handle(n,r){const e=r.fragmentDefinitions[n.name.value];if(!e)throw new Error("Undefined fragment definition: "+n.name.value);const i={alias:void 0,arguments:void 0,directives:e.directives,kind:"Field",name:n.name,selectionSet:e.selectionSet},o=[this.util.newTypePattern(r.subject,e.typeCondition,r)];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(r,i,!1,o))}};return zy.NodeHandlerSelectionFragmentSpread=t,zy}var Xy={},o5;function Boe(){if(o5)return Xy;o5=1,Object.defineProperty(Xy,"__esModule",{value:!0}),Xy.NodeHandlerSelectionInlineFragment=void 0;const a=wO();let t=class extends a.NodeHandlerSelectionAdapter{constructor(n,r){super("InlineFragment",n,r)}handle(n,r){const e={alias:void 0,arguments:void 0,directives:n.directives,kind:"Field",name:{kind:"Name",value:r.subject.value},selectionSet:n.selectionSet},i=n.typeCondition?[this.util.newTypePattern(r.subject,n.typeCondition,r)]:[];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(r,e,!1,i))}};return Xy.NodeHandlerSelectionInlineFragment=t,Xy}var s5;function c5(){return s5||(s5=1,function(a){var t=Mu&&Mu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Mu&&Mu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Vj(),a),u(Poe(),a),u(TO(),a),u(mI(),a),u(Loe(),a),u(joe(),a),u(Moe(),a),u(wO(),a),u(qoe(),a),u(Coe(),a),u(Boe(),a)}(Mu)),Mu}var Bu={},l5=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag",gI=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;function SO(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?SO=function(u){return typeof u}:SO=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},SO(a)}var $oe=10,d5=2;function f5(a){return OO(a,[])}function OO(a,t){switch(SO(a)){case"string":return JSON.stringify(a);case"function":return a.name?"[function ".concat(a.name,"]"):"[function]";case"object":return a===null?"null":Voe(a,t);default:return String(a)}}function Voe(a,t){if(t.indexOf(a)!==-1)return"[Circular]";var u=[].concat(t,[a]),n=Hoe(a);if(n!==void 0){var r=n.call(a);if(r!==a)return typeof r=="string"?r:OO(r,u)}else if(Array.isArray(a))return Qoe(a,u);return Uoe(a,u)}function Uoe(a,t){var u=Object.keys(a);if(u.length===0)return"{}";if(t.length>d5)return"["+Goe(a)+"]";var n=u.map(function(r){var e=OO(a[r],t);return r+": "+e});return"{ "+n.join(", ")+" }"}function Qoe(a,t){if(a.length===0)return"[]";if(t.length>d5)return"[Array]";for(var u=Math.min($oe,a.length),n=a.length-u,r=[],e=0;e<u;++e)r.push(OO(a[e],t));return n===1?r.push("... 1 more item"):n>1&&r.push("... ".concat(n," more items")),"["+r.join(", ")+"]"}function Hoe(a){var t=a[String(gI)];if(typeof t=="function")return t;if(typeof a.inspect=="function")return a.inspect}function Goe(a){var t=Object.prototype.toString.call(a).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof a.constructor=="function"){var u=a.constructor.name;if(typeof u=="string"&&u!=="")return u}return t}function AO(a,t){var u=!!a;if(!u)throw new Error(t)}var koe=function(t,u){return t instanceof u};function zoe(a,t){for(var u=0;u<t.length;u++){var n=t[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}function Xoe(a,t,u){return t&&zoe(a.prototype,t),a}var vI=function(){function a(t){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof t=="string"||AO(0,"Body must be a string. Received: ".concat(f5(t),".")),this.body=t,this.name=u,this.locationOffset=n,this.locationOffset.line>0||AO(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||AO(0,"column in locationOffset is 1-indexed and must be positive.")}return Xoe(a,[{key:l5,get:function(){return"Source"}}]),a}();function Joe(a){return koe(a,vI)}function EO(a,t){for(var u=/\r\n|[\n\r]/g,n=1,r=t+1,e;(e=u.exec(a.body))&&e.index<t;)n+=1,r=t+1-(e.index+e[0].length);return{line:n,column:r}}function h5(a){return TI(a.source,EO(a.source,a.start))}function TI(a,t){var u=a.locationOffset.column-1,n=xO(u)+a.body,r=t.line-1,e=a.locationOffset.line-1,i=t.line+e,o=t.line===1?u:0,c=t.column+o,s="".concat(a.name,":").concat(i,":").concat(c,`
`),l=n.split(/\r\n|[\n\r]/g),f=l[r];if(f.length>120){for(var d=Math.floor(c/80),h=c%80,p=[],b=0;b<f.length;b+=80)p.push(f.slice(b,b+80));return s+p5([["".concat(i),p[0]]].concat(p.slice(1,d+1).map(function(m){return["",m]}),[[" ",xO(h-1)+"^"],["",p[d+1]]]))}return s+p5([["".concat(i-1),l[r-1]],["".concat(i),f],["",xO(c-1)+"^"],["".concat(i+1),l[r+1]]])}function p5(a){var t=a.filter(function(n){n[0];var r=n[1];return r!==void 0}),u=Math.max.apply(Math,t.map(function(n){var r=n[0];return r.length}));return t.map(function(n){var r=n[0],e=n[1];return Koe(u,r)+(e?" | "+e:" |")}).join(`
`)}function xO(a){return Array(a+1).join(" ")}function Koe(a,t){return xO(a-t.length)+t}var et=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),He=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function IO(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?IO=function(u){return typeof u}:IO=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},IO(a)}function Woe(a){return IO(a)=="object"&&a!==null}function RO(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?RO=function(u){return typeof u}:RO=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},RO(a)}function y5(a,t){var u=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),u.push.apply(u,n)}return u}function Yoe(a){for(var t=1;t<arguments.length;t++){var u=arguments[t]!=null?arguments[t]:{};t%2?y5(Object(u),!0).forEach(function(n){Zoe(a,n,u[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(u)):y5(Object(u)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(u,n))})}return a}function Zoe(a,t,u){return t in a?Object.defineProperty(a,t,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[t]=u,a}function ese(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function tse(a,t){for(var u=0;u<t.length;u++){var n=t[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}function rse(a,t,u){return t&&tse(a.prototype,t),a}function nse(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(t&&t.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),t&&Ky(a,t)}function ise(a){var t=_5();return function(){var n=Wy(a),r;if(t){var e=Wy(this).constructor;r=Reflect.construct(n,arguments,e)}else r=n.apply(this,arguments);return b5(this,r)}}function b5(a,t){return t&&(RO(t)==="object"||typeof t=="function")?t:Jy(a)}function Jy(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function wI(a){var t=typeof Map=="function"?new Map:void 0;return wI=function(n){if(n===null||!ase(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return NO(n,arguments,Wy(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Ky(r,n)},wI(a)}function NO(a,t,u){return _5()?NO=Reflect.construct:NO=function(r,e,i){var o=[null];o.push.apply(o,e);var c=Function.bind.apply(r,o),s=new c;return i&&Ky(s,i.prototype),s},NO.apply(null,arguments)}function _5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ase(a){return Function.toString.call(a).indexOf("[native code]")!==-1}function Ky(a,t){return Ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Ky(a,t)}function Wy(a){return Wy=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},Wy(a)}var use=function(a){nse(u,a);var t=ise(u);function u(n,r,e,i,o,c,s){var l,f,d,h;ese(this,u),h=t.call(this,n),h.name="GraphQLError",h.originalError=c??void 0,h.nodes=m5(Array.isArray(r)?r:r?[r]:void 0);for(var p=[],b=0,m=(y=h.nodes)!==null&&y!==void 0?y:[];b<m.length;b++){var y,g=m[b],_=g.loc;_!=null&&p.push(_)}p=m5(p),h.source=e??((l=p)===null||l===void 0?void 0:l[0].source),h.positions=i??((f=p)===null||f===void 0?void 0:f.map(function(T){return T.start})),h.locations=i&&e?i.map(function(T){return EO(e,T)}):(d=p)===null||d===void 0?void 0:d.map(function(T){return EO(T.source,T.start)}),h.path=o??void 0;var v=c==null?void 0:c.extensions;return s==null&&Woe(v)?h.extensions=Yoe({},v):h.extensions=s??{},Object.defineProperties(Jy(h),{message:{enumerable:!0},locations:{enumerable:h.locations!=null},path:{enumerable:h.path!=null},extensions:{enumerable:h.extensions!=null&&Object.keys(h.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?(Object.defineProperty(Jy(h),"stack",{value:c.stack,writable:!0,configurable:!0}),b5(h)):(Error.captureStackTrace?Error.captureStackTrace(Jy(h),u):Object.defineProperty(Jy(h),"stack",{value:Error().stack,writable:!0,configurable:!0}),h)}return rse(u,[{key:"toString",value:function(){return ose(this)}},{key:"toJSON",value:function(){return sse(this)}},{key:l5,get:function(){return"Object"}}]),u}(wI(Error));function m5(a){return a===void 0||a.length===0?void 0:a}function ose(a){var t=a.message;if(a.nodes)for(var u=0,n=a.nodes;u<n.length;u++){var r=n[u];r.loc&&(t+=`

`+h5(r.loc))}else if(a.source&&a.locations)for(var e=0,i=a.locations;e<i.length;e++){var o=i[e];t+=`

`+TI(a.source,o)}return t}function sse(a){var t;a||AO(0,"Received null or undefined error.");var u=(t=a.message)!==null&&t!==void 0?t:"An unknown error occurred.",n=a.locations,r=a.path,e=a.extensions;return e&&Object.keys(e).length>0?{message:u,locations:n,path:r,extensions:e}:{message:u,locations:n,path:r}}function hn(a,t,u){return new use("Syntax Error: ".concat(u),void 0,a,[t])}function cse(a,t){var u=!!a;if(!u)throw new Error("Unexpected invariant triggered.")}function g5(a){var t=a.prototype.toJSON;typeof t=="function"||cse(0),a.prototype.inspect=t,gI&&(a.prototype[gI]=t)}var SI=function(){function a(u,n,r){this.start=u.start,this.end=n.end,this.startToken=u,this.endToken=n,this.source=r}var t=a.prototype;return t.toJSON=function(){return{start:this.start,end:this.end}},a}();g5(SI);var nr=function(){function a(u,n,r,e,i,o,c){this.kind=u,this.start=n,this.end=r,this.line=e,this.column=i,this.value=c,this.prev=o,this.next=null}var t=a.prototype;return t.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},a}();g5(nr);function v5(a){return a!=null&&typeof a.kind=="string"}function lse(a){var t=a.split(/\r\n|[\n\r]/g),u=dse(a);if(u!==0)for(var n=1;n<t.length;n++)t[n]=t[n].slice(u);for(var r=0;r<t.length&&T5(t[r]);)++r;for(var e=t.length;e>r&&T5(t[e-1]);)--e;return t.slice(r,e).join(`
`)}function T5(a){for(var t=0;t<a.length;++t)if(a[t]!==" "&&a[t]!=="	")return!1;return!0}function dse(a){for(var t,u=!0,n=!0,r=0,e=null,i=0;i<a.length;++i)switch(a.charCodeAt(i)){case 13:a.charCodeAt(i+1)===10&&++i;case 10:u=!1,n=!0,r=0;break;case 9:case 32:++r;break;default:n&&!u&&(e===null||r<e)&&(e=r),n=!1}return(t=e)!==null&&t!==void 0?t:0}function fse(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=a.indexOf(`
`)===-1,r=a[0]===" "||a[0]==="	",e=a[a.length-1]==='"',i=a[a.length-1]==="\\",o=!n||e||i||u,c="";return o&&!(n&&r)&&(c+=`
`+t),c+=t?a.replace(/\n/g,`
`+t):a,o&&(c+=`
`),'"""'+c.replace(/"""/g,'\\"""')+'"""'}var w5=function(){function a(u){var n=new nr(He.SOF,0,0,0,0,null);this.source=u,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}var t=a.prototype;return t.advance=function(){this.lastToken=this.token;var n=this.token=this.lookahead();return n},t.lookahead=function(){var n=this.token;if(n.kind!==He.EOF)do{var r;n=(r=n.next)!==null&&r!==void 0?r:n.next=pse(this,n)}while(n.kind===He.COMMENT);return n},a}();function hse(a){return a===He.BANG||a===He.DOLLAR||a===He.AMP||a===He.PAREN_L||a===He.PAREN_R||a===He.SPREAD||a===He.COLON||a===He.EQUALS||a===He.AT||a===He.BRACKET_L||a===He.BRACKET_R||a===He.BRACE_L||a===He.PIPE||a===He.BRACE_R}function $u(a){return isNaN(a)?He.EOF:a<127?JSON.stringify(String.fromCharCode(a)):'"\\u'.concat(("00"+a.toString(16).toUpperCase()).slice(-4),'"')}function pse(a,t){for(var u=a.source,n=u.body,r=n.length,e=t.end;e<r;){var i=n.charCodeAt(e),o=a.line,c=1+e-a.lineStart;switch(i){case 65279:case 9:case 32:case 44:++e;continue;case 10:++e,++a.line,a.lineStart=e;continue;case 13:n.charCodeAt(e+1)===10?e+=2:++e,++a.line,a.lineStart=e;continue;case 33:return new nr(He.BANG,e,e+1,o,c,t);case 35:return bse(u,e,o,c,t);case 36:return new nr(He.DOLLAR,e,e+1,o,c,t);case 38:return new nr(He.AMP,e,e+1,o,c,t);case 40:return new nr(He.PAREN_L,e,e+1,o,c,t);case 41:return new nr(He.PAREN_R,e,e+1,o,c,t);case 46:if(n.charCodeAt(e+1)===46&&n.charCodeAt(e+2)===46)return new nr(He.SPREAD,e,e+3,o,c,t);break;case 58:return new nr(He.COLON,e,e+1,o,c,t);case 61:return new nr(He.EQUALS,e,e+1,o,c,t);case 64:return new nr(He.AT,e,e+1,o,c,t);case 91:return new nr(He.BRACKET_L,e,e+1,o,c,t);case 93:return new nr(He.BRACKET_R,e,e+1,o,c,t);case 123:return new nr(He.BRACE_L,e,e+1,o,c,t);case 124:return new nr(He.PIPE,e,e+1,o,c,t);case 125:return new nr(He.BRACE_R,e,e+1,o,c,t);case 34:return n.charCodeAt(e+1)===34&&n.charCodeAt(e+2)===34?gse(u,e,o,c,t,a):mse(u,e,o,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return _se(u,e,i,o,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Tse(u,e,o,c,t)}throw hn(u,e,yse(i))}var s=a.line,l=1+e-a.lineStart;return new nr(He.EOF,r,r,s,l,t)}function yse(a){return a<32&&a!==9&&a!==10&&a!==13?"Cannot contain the invalid character ".concat($u(a),"."):a===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat($u(a),".")}function bse(a,t,u,n,r){var e=a.body,i,o=t;do i=e.charCodeAt(++o);while(!isNaN(i)&&(i>31||i===9));return new nr(He.COMMENT,t,o,u,n,r,e.slice(t+1,o))}function _se(a,t,u,n,r,e){var i=a.body,o=u,c=t,s=!1;if(o===45&&(o=i.charCodeAt(++c)),o===48){if(o=i.charCodeAt(++c),o>=48&&o<=57)throw hn(a,c,"Invalid number, unexpected digit after 0: ".concat($u(o),"."))}else c=OI(a,c,o),o=i.charCodeAt(c);if(o===46&&(s=!0,o=i.charCodeAt(++c),c=OI(a,c,o),o=i.charCodeAt(c)),(o===69||o===101)&&(s=!0,o=i.charCodeAt(++c),(o===43||o===45)&&(o=i.charCodeAt(++c)),c=OI(a,c,o),o=i.charCodeAt(c)),o===46||wse(o))throw hn(a,c,"Invalid number, expected digit but got: ".concat($u(o),"."));return new nr(s?He.FLOAT:He.INT,t,c,n,r,e,i.slice(t,c))}function OI(a,t,u){var n=a.body,r=t,e=u;if(e>=48&&e<=57){do e=n.charCodeAt(++r);while(e>=48&&e<=57);return r}throw hn(a,r,"Invalid number, expected digit but got: ".concat($u(e),"."))}function mse(a,t,u,n,r){for(var e=a.body,i=t+1,o=i,c=0,s="";i<e.length&&!isNaN(c=e.charCodeAt(i))&&c!==10&&c!==13;){if(c===34)return s+=e.slice(o,i),new nr(He.STRING,t,i+1,u,n,r,s);if(c<32&&c!==9)throw hn(a,i,"Invalid character within String: ".concat($u(c),"."));if(++i,c===92){switch(s+=e.slice(o,i-1),c=e.charCodeAt(i),c){case 34:s+='"';break;case 47:s+="/";break;case 92:s+="\\";break;case 98:s+="\b";break;case 102:s+="\f";break;case 110:s+=`
`;break;case 114:s+="\r";break;case 116:s+="	";break;case 117:{var l=vse(e.charCodeAt(i+1),e.charCodeAt(i+2),e.charCodeAt(i+3),e.charCodeAt(i+4));if(l<0){var f=e.slice(i+1,i+5);throw hn(a,i,"Invalid character escape sequence: \\u".concat(f,"."))}s+=String.fromCharCode(l),i+=4;break}default:throw hn(a,i,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}++i,o=i}}throw hn(a,i,"Unterminated string.")}function gse(a,t,u,n,r,e){for(var i=a.body,o=t+3,c=o,s=0,l="";o<i.length&&!isNaN(s=i.charCodeAt(o));){if(s===34&&i.charCodeAt(o+1)===34&&i.charCodeAt(o+2)===34)return l+=i.slice(c,o),new nr(He.BLOCK_STRING,t,o+3,u,n,r,lse(l));if(s<32&&s!==9&&s!==10&&s!==13)throw hn(a,o,"Invalid character within String: ".concat($u(s),"."));s===10?(++o,++e.line,e.lineStart=o):s===13?(i.charCodeAt(o+1)===10?o+=2:++o,++e.line,e.lineStart=o):s===92&&i.charCodeAt(o+1)===34&&i.charCodeAt(o+2)===34&&i.charCodeAt(o+3)===34?(l+=i.slice(c,o)+'"""',o+=4,c=o):++o}throw hn(a,o,"Unterminated string.")}function vse(a,t,u,n){return FO(a)<<12|FO(t)<<8|FO(u)<<4|FO(n)}function FO(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:-1}function Tse(a,t,u,n,r){for(var e=a.body,i=e.length,o=t+1,c=0;o!==i&&!isNaN(c=e.charCodeAt(o))&&(c===95||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++o;return new nr(He.NAME,t,o,u,n,r,e.slice(t,o))}function wse(a){return a===95||a>=65&&a<=90||a>=97&&a<=122}var S5=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function Sse(a,t){var u=new AI(a,t);return u.parseDocument()}function Ose(a,t){var u=new AI(a,t);u.expectToken(He.SOF);var n=u.parseValueLiteral(!1);return u.expectToken(He.EOF),n}function Ase(a,t){var u=new AI(a,t);u.expectToken(He.SOF);var n=u.parseTypeReference();return u.expectToken(He.EOF),n}var AI=function(){function a(u,n){var r=Joe(u)?u:new vI(u);this._lexer=new w5(r),this._options=n}var t=a.prototype;return t.parseName=function(){var n=this.expectToken(He.NAME);return{kind:et.NAME,value:n.value,loc:this.loc(n)}},t.parseDocument=function(){var n=this._lexer.token;return{kind:et.DOCUMENT,definitions:this.many(He.SOF,this.parseDefinition,He.EOF),loc:this.loc(n)}},t.parseDefinition=function(){if(this.peek(He.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(He.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var n=this._lexer.token;if(this.peek(He.BRACE_L))return{kind:et.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(n)};var r=this.parseOperationType(),e;return this.peek(He.NAME)&&(e=this.parseName()),{kind:et.OPERATION_DEFINITION,operation:r,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},t.parseOperationType=function(){var n=this.expectToken(He.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(n)},t.parseVariableDefinitions=function(){return this.optionalMany(He.PAREN_L,this.parseVariableDefinition,He.PAREN_R)},t.parseVariableDefinition=function(){var n=this._lexer.token;return{kind:et.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(He.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(He.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(n)}},t.parseVariable=function(){var n=this._lexer.token;return this.expectToken(He.DOLLAR),{kind:et.VARIABLE,name:this.parseName(),loc:this.loc(n)}},t.parseSelectionSet=function(){var n=this._lexer.token;return{kind:et.SELECTION_SET,selections:this.many(He.BRACE_L,this.parseSelection,He.BRACE_R),loc:this.loc(n)}},t.parseSelection=function(){return this.peek(He.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var n=this._lexer.token,r=this.parseName(),e,i;return this.expectOptionalToken(He.COLON)?(e=r,i=this.parseName()):i=r,{kind:et.FIELD,alias:e,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(He.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(n){var r=n?this.parseConstArgument:this.parseArgument;return this.optionalMany(He.PAREN_L,r,He.PAREN_R)},t.parseArgument=function(){var n=this._lexer.token,r=this.parseName();return this.expectToken(He.COLON),{kind:et.ARGUMENT,name:r,value:this.parseValueLiteral(!1),loc:this.loc(n)}},t.parseConstArgument=function(){var n=this._lexer.token;return{kind:et.ARGUMENT,name:this.parseName(),value:(this.expectToken(He.COLON),this.parseValueLiteral(!0)),loc:this.loc(n)}},t.parseFragment=function(){var n=this._lexer.token;this.expectToken(He.SPREAD);var r=this.expectOptionalKeyword("on");return!r&&this.peek(He.NAME)?{kind:et.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(n)}:{kind:et.INLINE_FRAGMENT,typeCondition:r?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},t.parseFragmentDefinition=function(){var n,r=this._lexer.token;return this.expectKeyword("fragment"),((n=this._options)===null||n===void 0?void 0:n.experimentalFragmentVariables)===!0?{kind:et.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}:{kind:et.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}},t.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(n){var r=this._lexer.token;switch(r.kind){case He.BRACKET_L:return this.parseList(n);case He.BRACE_L:return this.parseObject(n);case He.INT:return this._lexer.advance(),{kind:et.INT,value:r.value,loc:this.loc(r)};case He.FLOAT:return this._lexer.advance(),{kind:et.FLOAT,value:r.value,loc:this.loc(r)};case He.STRING:case He.BLOCK_STRING:return this.parseStringLiteral();case He.NAME:switch(this._lexer.advance(),r.value){case"true":return{kind:et.BOOLEAN,value:!0,loc:this.loc(r)};case"false":return{kind:et.BOOLEAN,value:!1,loc:this.loc(r)};case"null":return{kind:et.NULL,loc:this.loc(r)};default:return{kind:et.ENUM,value:r.value,loc:this.loc(r)}}case He.DOLLAR:if(!n)return this.parseVariable();break}throw this.unexpected()},t.parseStringLiteral=function(){var n=this._lexer.token;return this._lexer.advance(),{kind:et.STRING,value:n.value,block:n.kind===He.BLOCK_STRING,loc:this.loc(n)}},t.parseList=function(n){var r=this,e=this._lexer.token,i=function(){return r.parseValueLiteral(n)};return{kind:et.LIST,values:this.any(He.BRACKET_L,i,He.BRACKET_R),loc:this.loc(e)}},t.parseObject=function(n){var r=this,e=this._lexer.token,i=function(){return r.parseObjectField(n)};return{kind:et.OBJECT,fields:this.any(He.BRACE_L,i,He.BRACE_R),loc:this.loc(e)}},t.parseObjectField=function(n){var r=this._lexer.token,e=this.parseName();return this.expectToken(He.COLON),{kind:et.OBJECT_FIELD,name:e,value:this.parseValueLiteral(n),loc:this.loc(r)}},t.parseDirectives=function(n){for(var r=[];this.peek(He.AT);)r.push(this.parseDirective(n));return r},t.parseDirective=function(n){var r=this._lexer.token;return this.expectToken(He.AT),{kind:et.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n),loc:this.loc(r)}},t.parseTypeReference=function(){var n=this._lexer.token,r;return this.expectOptionalToken(He.BRACKET_L)?(r=this.parseTypeReference(),this.expectToken(He.BRACKET_R),r={kind:et.LIST_TYPE,type:r,loc:this.loc(n)}):r=this.parseNamedType(),this.expectOptionalToken(He.BANG)?{kind:et.NON_NULL_TYPE,type:r,loc:this.loc(n)}:r},t.parseNamedType=function(){var n=this._lexer.token;return{kind:et.NAMED_TYPE,name:this.parseName(),loc:this.loc(n)}},t.parseTypeSystemDefinition=function(){var n=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(n.kind===He.NAME)switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(n)},t.peekDescription=function(){return this.peek(He.STRING)||this.peek(He.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var n=this._lexer.token,r=this.parseDescription();this.expectKeyword("schema");var e=this.parseDirectives(!0),i=this.many(He.BRACE_L,this.parseOperationTypeDefinition,He.BRACE_R);return{kind:et.SCHEMA_DEFINITION,description:r,directives:e,operationTypes:i,loc:this.loc(n)}},t.parseOperationTypeDefinition=function(){var n=this._lexer.token,r=this.parseOperationType();this.expectToken(He.COLON);var e=this.parseNamedType();return{kind:et.OPERATION_TYPE_DEFINITION,operation:r,type:e,loc:this.loc(n)}},t.parseScalarTypeDefinition=function(){var n=this._lexer.token,r=this.parseDescription();this.expectKeyword("scalar");var e=this.parseName(),i=this.parseDirectives(!0);return{kind:et.SCALAR_TYPE_DEFINITION,description:r,name:e,directives:i,loc:this.loc(n)}},t.parseObjectTypeDefinition=function(){var n=this._lexer.token,r=this.parseDescription();this.expectKeyword("type");var e=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:et.OBJECT_TYPE_DEFINITION,description:r,name:e,interfaces:i,directives:o,fields:c,loc:this.loc(n)}},t.parseImplementsInterfaces=function(){var n;if(!this.expectOptionalKeyword("implements"))return[];if(((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLImplementsInterfaces)===!0){var r=[];this.expectOptionalToken(He.AMP);do r.push(this.parseNamedType());while(this.expectOptionalToken(He.AMP)||this.peek(He.NAME));return r}return this.delimitedMany(He.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var n;return((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLEmptyFields)===!0&&this.peek(He.BRACE_L)&&this._lexer.lookahead().kind===He.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(He.BRACE_L,this.parseFieldDefinition,He.BRACE_R)},t.parseFieldDefinition=function(){var n=this._lexer.token,r=this.parseDescription(),e=this.parseName(),i=this.parseArgumentDefs();this.expectToken(He.COLON);var o=this.parseTypeReference(),c=this.parseDirectives(!0);return{kind:et.FIELD_DEFINITION,description:r,name:e,arguments:i,type:o,directives:c,loc:this.loc(n)}},t.parseArgumentDefs=function(){return this.optionalMany(He.PAREN_L,this.parseInputValueDef,He.PAREN_R)},t.parseInputValueDef=function(){var n=this._lexer.token,r=this.parseDescription(),e=this.parseName();this.expectToken(He.COLON);var i=this.parseTypeReference(),o;this.expectOptionalToken(He.EQUALS)&&(o=this.parseValueLiteral(!0));var c=this.parseDirectives(!0);return{kind:et.INPUT_VALUE_DEFINITION,description:r,name:e,type:i,defaultValue:o,directives:c,loc:this.loc(n)}},t.parseInterfaceTypeDefinition=function(){var n=this._lexer.token,r=this.parseDescription();this.expectKeyword("interface");var e=this.parseName(),i=this.parseImplementsInterfaces(),o=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:et.INTERFACE_TYPE_DEFINITION,description:r,name:e,interfaces:i,directives:o,fields:c,loc:this.loc(n)}},t.parseUnionTypeDefinition=function(){var n=this._lexer.token,r=this.parseDescription();this.expectKeyword("union");var e=this.parseName(),i=this.parseDirectives(!0),o=this.parseUnionMemberTypes();return{kind:et.UNION_TYPE_DEFINITION,description:r,name:e,directives:i,types:o,loc:this.loc(n)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(He.EQUALS)?this.delimitedMany(He.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var n=this._lexer.token,r=this.parseDescription();this.expectKeyword("enum");var e=this.parseName(),i=this.parseDirectives(!0),o=this.parseEnumValuesDefinition();return{kind:et.ENUM_TYPE_DEFINITION,description:r,name:e,directives:i,values:o,loc:this.loc(n)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(He.BRACE_L,this.parseEnumValueDefinition,He.BRACE_R)},t.parseEnumValueDefinition=function(){var n=this._lexer.token,r=this.parseDescription(),e=this.parseName(),i=this.parseDirectives(!0);return{kind:et.ENUM_VALUE_DEFINITION,description:r,name:e,directives:i,loc:this.loc(n)}},t.parseInputObjectTypeDefinition=function(){var n=this._lexer.token,r=this.parseDescription();this.expectKeyword("input");var e=this.parseName(),i=this.parseDirectives(!0),o=this.parseInputFieldsDefinition();return{kind:et.INPUT_OBJECT_TYPE_DEFINITION,description:r,name:e,directives:i,fields:o,loc:this.loc(n)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(He.BRACE_L,this.parseInputValueDef,He.BRACE_R)},t.parseTypeSystemExtension=function(){var n=this._lexer.lookahead();if(n.kind===He.NAME)switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(n)},t.parseSchemaExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var r=this.parseDirectives(!0),e=this.optionalMany(He.BRACE_L,this.parseOperationTypeDefinition,He.BRACE_R);if(r.length===0&&e.length===0)throw this.unexpected();return{kind:et.SCHEMA_EXTENSION,directives:r,operationTypes:e,loc:this.loc(n)}},t.parseScalarTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var r=this.parseName(),e=this.parseDirectives(!0);if(e.length===0)throw this.unexpected();return{kind:et.SCALAR_TYPE_EXTENSION,name:r,directives:e,loc:this.loc(n)}},t.parseObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var r=this.parseName(),e=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(e.length===0&&i.length===0&&o.length===0)throw this.unexpected();return{kind:et.OBJECT_TYPE_EXTENSION,name:r,interfaces:e,directives:i,fields:o,loc:this.loc(n)}},t.parseInterfaceTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var r=this.parseName(),e=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();if(e.length===0&&i.length===0&&o.length===0)throw this.unexpected();return{kind:et.INTERFACE_TYPE_EXTENSION,name:r,interfaces:e,directives:i,fields:o,loc:this.loc(n)}},t.parseUnionTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var r=this.parseName(),e=this.parseDirectives(!0),i=this.parseUnionMemberTypes();if(e.length===0&&i.length===0)throw this.unexpected();return{kind:et.UNION_TYPE_EXTENSION,name:r,directives:e,types:i,loc:this.loc(n)}},t.parseEnumTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var r=this.parseName(),e=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();if(e.length===0&&i.length===0)throw this.unexpected();return{kind:et.ENUM_TYPE_EXTENSION,name:r,directives:e,values:i,loc:this.loc(n)}},t.parseInputObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var r=this.parseName(),e=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();if(e.length===0&&i.length===0)throw this.unexpected();return{kind:et.INPUT_OBJECT_TYPE_EXTENSION,name:r,directives:e,fields:i,loc:this.loc(n)}},t.parseDirectiveDefinition=function(){var n=this._lexer.token,r=this.parseDescription();this.expectKeyword("directive"),this.expectToken(He.AT);var e=this.parseName(),i=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var c=this.parseDirectiveLocations();return{kind:et.DIRECTIVE_DEFINITION,description:r,name:e,arguments:i,repeatable:o,locations:c,loc:this.loc(n)}},t.parseDirectiveLocations=function(){return this.delimitedMany(He.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var n=this._lexer.token,r=this.parseName();if(S5[r.value]!==void 0)return r;throw this.unexpected(n)},t.loc=function(n){var r;if(((r=this._options)===null||r===void 0?void 0:r.noLocation)!==!0)return new SI(n,this._lexer.lastToken,this._lexer.source)},t.peek=function(n){return this._lexer.token.kind===n},t.expectToken=function(n){var r=this._lexer.token;if(r.kind===n)return this._lexer.advance(),r;throw hn(this._lexer.source,r.start,"Expected ".concat(O5(n),", found ").concat(EI(r),"."))},t.expectOptionalToken=function(n){var r=this._lexer.token;if(r.kind===n)return this._lexer.advance(),r},t.expectKeyword=function(n){var r=this._lexer.token;if(r.kind===He.NAME&&r.value===n)this._lexer.advance();else throw hn(this._lexer.source,r.start,'Expected "'.concat(n,'", found ').concat(EI(r),"."))},t.expectOptionalKeyword=function(n){var r=this._lexer.token;return r.kind===He.NAME&&r.value===n?(this._lexer.advance(),!0):!1},t.unexpected=function(n){var r=n??this._lexer.token;return hn(this._lexer.source,r.start,"Unexpected ".concat(EI(r),"."))},t.any=function(n,r,e){this.expectToken(n);for(var i=[];!this.expectOptionalToken(e);)i.push(r.call(this));return i},t.optionalMany=function(n,r,e){if(this.expectOptionalToken(n)){var i=[];do i.push(r.call(this));while(!this.expectOptionalToken(e));return i}return[]},t.many=function(n,r,e){this.expectToken(n);var i=[];do i.push(r.call(this));while(!this.expectOptionalToken(e));return i},t.delimitedMany=function(n,r){this.expectOptionalToken(n);var e=[];do e.push(r.call(this));while(this.expectOptionalToken(n));return e},a}();function EI(a){var t=a.value;return O5(a.kind)+(t!=null?' "'.concat(t,'"'):"")}function O5(a){return hse(a)?'"'.concat(a,'"'):a}var Ese={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},ah=Object.freeze({});function A5(a,t){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ese,n=void 0,r=Array.isArray(a),e=[a],i=-1,o=[],c=void 0,s=void 0,l=void 0,f=[],d=[],h=a;do{i++;var p=i===e.length,b=p&&o.length!==0;if(p){if(s=d.length===0?void 0:f[f.length-1],c=l,l=d.pop(),b){if(r)c=c.slice();else{for(var m={},y=0,g=Object.keys(c);y<g.length;y++){var _=g[y];m[_]=c[_]}c=m}for(var v=0,T=0;T<o.length;T++){var w=o[T][0],A=o[T][1];r&&(w-=v),r&&A===null?(c.splice(w,1),v++):c[w]=A}}i=n.index,e=n.keys,o=n.edits,r=n.inArray,n=n.prev}else{if(s=l?r?i:e[i]:void 0,c=l?l[s]:h,c==null)continue;l&&f.push(s)}var M=void 0;if(!Array.isArray(c)){if(!v5(c))throw new Error("Invalid AST Node: ".concat(f5(c),"."));var F=DO(t,c.kind,p);if(F){if(M=F.call(t,c,s,l,f,d),M===ah)break;if(M===!1){if(!p){f.pop();continue}}else if(M!==void 0&&(o.push([s,M]),!p))if(v5(M))c=M;else{f.pop();continue}}}if(M===void 0&&b&&o.push([s,c]),p)f.pop();else{var O;n={inArray:r,index:i,keys:e,edits:o,prev:n},r=Array.isArray(c),e=r?c:(O=u[c.kind])!==null&&O!==void 0?O:[],i=-1,o=[],l&&d.push(l),l=c}}while(n!==void 0);return o.length!==0&&(h=o[o.length-1][1]),h}function xse(a){var t=new Array(a.length);return{enter:function(n){for(var r=0;r<a.length;r++)if(t[r]==null){var e=DO(a[r],n.kind,!1);if(e){var i=e.apply(a[r],arguments);if(i===!1)t[r]=n;else if(i===ah)t[r]=ah;else if(i!==void 0)return i}}},leave:function(n){for(var r=0;r<a.length;r++)if(t[r]==null){var e=DO(a[r],n.kind,!0);if(e){var i=e.apply(a[r],arguments);if(i===ah)t[r]=ah;else if(i!==void 0&&i!==!1)return i}}else t[r]===n&&(t[r]=null)}}}function DO(a,t,u){var n=a[t];if(n){if(!u&&typeof n=="function")return n;var r=u?n.leave:n.enter;if(typeof r=="function")return r}else{var e=u?a.leave:a.enter;if(e){if(typeof e=="function")return e;var i=e[t];if(typeof i=="function")return i}}}function Ise(a){return A5(a,{leave:Nse})}var Rse=80,Nse={Name:function(t){return t.value},Variable:function(t){return"$"+t.name},Document:function(t){return st(t.definitions,`

`)+`
`},OperationDefinition:function(t){var u=t.operation,n=t.name,r=ir("(",st(t.variableDefinitions,", "),")"),e=st(t.directives," "),i=t.selectionSet;return!n&&!e&&!r&&u==="query"?i:st([u,st([n,r]),e,i]," ")},VariableDefinition:function(t){var u=t.variable,n=t.type,r=t.defaultValue,e=t.directives;return u+": "+n+ir(" = ",r)+ir(" ",st(e," "))},SelectionSet:function(t){var u=t.selections;return Un(u)},Field:function(t){var u=t.alias,n=t.name,r=t.arguments,e=t.directives,i=t.selectionSet,o=ir("",u,": ")+n,c=o+ir("(",st(r,", "),")");return c.length>Rse&&(c=o+ir(`(
`,PO(st(r,`
`)),`
)`)),st([c,st(e," "),i]," ")},Argument:function(t){var u=t.name,n=t.value;return u+": "+n},FragmentSpread:function(t){var u=t.name,n=t.directives;return"..."+u+ir(" ",st(n," "))},InlineFragment:function(t){var u=t.typeCondition,n=t.directives,r=t.selectionSet;return st(["...",ir("on ",u),st(n," "),r]," ")},FragmentDefinition:function(t){var u=t.name,n=t.typeCondition,r=t.variableDefinitions,e=t.directives,i=t.selectionSet;return"fragment ".concat(u).concat(ir("(",st(r,", "),")")," ")+"on ".concat(n," ").concat(ir("",st(e," ")," "))+i},IntValue:function(t){var u=t.value;return u},FloatValue:function(t){var u=t.value;return u},StringValue:function(t,u){var n=t.value,r=t.block;return r?fse(n,u==="description"?"":"  "):JSON.stringify(n)},BooleanValue:function(t){var u=t.value;return u?"true":"false"},NullValue:function(){return"null"},EnumValue:function(t){var u=t.value;return u},ListValue:function(t){var u=t.values;return"["+st(u,", ")+"]"},ObjectValue:function(t){var u=t.fields;return"{"+st(u,", ")+"}"},ObjectField:function(t){var u=t.name,n=t.value;return u+": "+n},Directive:function(t){var u=t.name,n=t.arguments;return"@"+u+ir("(",st(n,", "),")")},NamedType:function(t){var u=t.name;return u},ListType:function(t){var u=t.type;return"["+u+"]"},NonNullType:function(t){var u=t.type;return u+"!"},SchemaDefinition:Vn(function(a){var t=a.directives,u=a.operationTypes;return st(["schema",st(t," "),Un(u)]," ")}),OperationTypeDefinition:function(t){var u=t.operation,n=t.type;return u+": "+n},ScalarTypeDefinition:Vn(function(a){var t=a.name,u=a.directives;return st(["scalar",t,st(u," ")]," ")}),ObjectTypeDefinition:Vn(function(a){var t=a.name,u=a.interfaces,n=a.directives,r=a.fields;return st(["type",t,ir("implements ",st(u," & ")),st(n," "),Un(r)]," ")}),FieldDefinition:Vn(function(a){var t=a.name,u=a.arguments,n=a.type,r=a.directives;return t+(E5(u)?ir(`(
`,PO(st(u,`
`)),`
)`):ir("(",st(u,", "),")"))+": "+n+ir(" ",st(r," "))}),InputValueDefinition:Vn(function(a){var t=a.name,u=a.type,n=a.defaultValue,r=a.directives;return st([t+": "+u,ir("= ",n),st(r," ")]," ")}),InterfaceTypeDefinition:Vn(function(a){var t=a.name,u=a.interfaces,n=a.directives,r=a.fields;return st(["interface",t,ir("implements ",st(u," & ")),st(n," "),Un(r)]," ")}),UnionTypeDefinition:Vn(function(a){var t=a.name,u=a.directives,n=a.types;return st(["union",t,st(u," "),n&&n.length!==0?"= "+st(n," | "):""]," ")}),EnumTypeDefinition:Vn(function(a){var t=a.name,u=a.directives,n=a.values;return st(["enum",t,st(u," "),Un(n)]," ")}),EnumValueDefinition:Vn(function(a){var t=a.name,u=a.directives;return st([t,st(u," ")]," ")}),InputObjectTypeDefinition:Vn(function(a){var t=a.name,u=a.directives,n=a.fields;return st(["input",t,st(u," "),Un(n)]," ")}),DirectiveDefinition:Vn(function(a){var t=a.name,u=a.arguments,n=a.repeatable,r=a.locations;return"directive @"+t+(E5(u)?ir(`(
`,PO(st(u,`
`)),`
)`):ir("(",st(u,", "),")"))+(n?" repeatable":"")+" on "+st(r," | ")}),SchemaExtension:function(t){var u=t.directives,n=t.operationTypes;return st(["extend schema",st(u," "),Un(n)]," ")},ScalarTypeExtension:function(t){var u=t.name,n=t.directives;return st(["extend scalar",u,st(n," ")]," ")},ObjectTypeExtension:function(t){var u=t.name,n=t.interfaces,r=t.directives,e=t.fields;return st(["extend type",u,ir("implements ",st(n," & ")),st(r," "),Un(e)]," ")},InterfaceTypeExtension:function(t){var u=t.name,n=t.interfaces,r=t.directives,e=t.fields;return st(["extend interface",u,ir("implements ",st(n," & ")),st(r," "),Un(e)]," ")},UnionTypeExtension:function(t){var u=t.name,n=t.directives,r=t.types;return st(["extend union",u,st(n," "),r&&r.length!==0?"= "+st(r," | "):""]," ")},EnumTypeExtension:function(t){var u=t.name,n=t.directives,r=t.values;return st(["extend enum",u,st(n," "),Un(r)]," ")},InputObjectTypeExtension:function(t){var u=t.name,n=t.directives,r=t.fields;return st(["extend input",u,st(n," "),Un(r)]," ")}};function Vn(a){return function(t){return st([t.description,a(t)],`
`)}}function st(a){var t,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(t=a==null?void 0:a.filter(function(n){return n}).join(u))!==null&&t!==void 0?t:""}function Un(a){return ir(`{
`,PO(st(a,`
`)),`
}`)}function ir(a,t){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return t!=null&&t!==""?a+t+u:""}function PO(a){return ir("  ",a.replace(/\n/g,`
  `))}function Fse(a){return a.indexOf(`
`)!==-1}function E5(a){return a!=null&&a.some(Fse)}function Dse(a){return x5(a)||I5(a)||N5(a)}function x5(a){return a.kind===et.OPERATION_DEFINITION||a.kind===et.FRAGMENT_DEFINITION}function Pse(a){return a.kind===et.FIELD||a.kind===et.FRAGMENT_SPREAD||a.kind===et.INLINE_FRAGMENT}function Lse(a){return a.kind===et.VARIABLE||a.kind===et.INT||a.kind===et.FLOAT||a.kind===et.STRING||a.kind===et.BOOLEAN||a.kind===et.NULL||a.kind===et.ENUM||a.kind===et.LIST||a.kind===et.OBJECT}function jse(a){return a.kind===et.NAMED_TYPE||a.kind===et.LIST_TYPE||a.kind===et.NON_NULL_TYPE}function I5(a){return a.kind===et.SCHEMA_DEFINITION||R5(a)||a.kind===et.DIRECTIVE_DEFINITION}function R5(a){return a.kind===et.SCALAR_TYPE_DEFINITION||a.kind===et.OBJECT_TYPE_DEFINITION||a.kind===et.INTERFACE_TYPE_DEFINITION||a.kind===et.UNION_TYPE_DEFINITION||a.kind===et.ENUM_TYPE_DEFINITION||a.kind===et.INPUT_OBJECT_TYPE_DEFINITION}function N5(a){return a.kind===et.SCHEMA_EXTENSION||F5(a)}function F5(a){return a.kind===et.SCALAR_TYPE_EXTENSION||a.kind===et.OBJECT_TYPE_EXTENSION||a.kind===et.INTERFACE_TYPE_EXTENSION||a.kind===et.UNION_TYPE_EXTENSION||a.kind===et.ENUM_TYPE_EXTENSION||a.kind===et.INPUT_OBJECT_TYPE_EXTENSION}var Mse=Object.freeze({__proto__:null,BREAK:ah,DirectiveLocation:S5,Kind:et,Lexer:w5,Location:SI,Source:vI,Token:nr,TokenKind:He,getLocation:EO,getVisitFn:DO,isDefinitionNode:Dse,isExecutableDefinitionNode:x5,isSelectionNode:Pse,isTypeDefinitionNode:R5,isTypeExtensionNode:F5,isTypeNode:jse,isTypeSystemDefinitionNode:I5,isTypeSystemExtensionNode:N5,isValueNode:Lse,parse:Sse,parseType:Ase,parseValue:Ose,print:Ise,printLocation:h5,printSourceLocation:TI,visit:A5,visitInParallel:xse}),qse=rr(Mse),Yy={},Vu={},Zy={},D5;function P5(){if(D5)return Zy;D5=1,Object.defineProperty(Zy,"__esModule",{value:!0}),Zy.BlankNode=void 0;class a{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return Zy.BlankNode=a,Zy}var e1={},t1={},L5;function j5(){if(L5)return t1;L5=1,Object.defineProperty(t1,"__esModule",{value:!0}),t1.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return t1.DefaultGraph=a,a.INSTANCE=new a,t1}var r1={},n1={},M5;function xI(){if(M5)return n1;M5=1,Object.defineProperty(n1,"__esModule",{value:!0}),n1.NamedNode=void 0;class a{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return n1.NamedNode=a,n1}var q5;function C5(){if(q5)return r1;q5=1,Object.defineProperty(r1,"__esModule",{value:!0}),r1.Literal=void 0;const a=xI();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return r1.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),r1}var i1={},B5;function $5(){if(B5)return i1;B5=1,Object.defineProperty(i1,"__esModule",{value:!0}),i1.Quad=void 0;class a{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return i1.Quad=a,i1}var a1={},V5;function U5(){if(V5)return a1;V5=1,Object.defineProperty(a1,"__esModule",{value:!0}),a1.Variable=void 0;class a{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return a1.Variable=a,a1}var Q5;function Cse(){if(Q5)return e1;Q5=1,Object.defineProperty(e1,"__esModule",{value:!0}),e1.DataFactory=void 0;const a=P5(),t=j5(),u=C5(),n=xI(),r=$5(),e=U5();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return e1.DataFactory=o,e1}var H5;function Bse(){return H5||(H5=1,function(a){var t=Vu&&Vu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Vu&&Vu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(P5(),a),u(Cse(),a),u(j5(),a),u(C5(),a),u(xI(),a),u($5(),a),u(U5(),a)}(Vu)),Vu}var Uu={},u1={},Qu={},Ai={},G5;function $se(){if(G5)return Ai;G5=1,Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.removeDotSegmentsOfPath=Ai.removeDotSegments=Ai.resolve=void 0;function a(r,e){e=e||"";const i=e.indexOf("#");if(i>0&&(e=e.substr(0,i)),!r.length){if(e.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${e}' for value '${r}'`);return e}if(r.startsWith("?")){const h=e.indexOf("?");return h>0&&(e=e.substr(0,h)),e+r}if(r.startsWith("#"))return e+r;if(!e.length){const h=r.indexOf(":");if(h<0)throw new Error(`Found invalid relative IRI '${r}' for a missing baseIRI`);return u(r,h)}const o=r.indexOf(":");if(o>=0)return u(r,o);const c=e.indexOf(":");if(c<0)throw new Error(`Found invalid baseIRI '${e}' for value '${r}'`);const s=e.substr(0,c+1);if(r.indexOf("//")===0)return s+u(r,o);let l;if(e.indexOf("//",c)===c+1){if(l=e.indexOf("/",c+3),l<0)return e.length>c+3?e+"/"+u(r,o):s+u(r,o)}else if(l=e.indexOf("/",c+1),l<0)return s+u(r,o);if(r.indexOf("/")===0)return e.substr(0,l)+t(r);let f=e.substr(l);const d=f.lastIndexOf("/");return d>=0&&d<f.length-1&&(f=f.substr(0,d+1),r[0]==="."&&r[1]!=="."&&r[1]!=="/"&&r[2]&&(r=r.substr(1))),r=f+r,r=t(r),e.substr(0,l)+r}Ai.resolve=a;function t(r){const e=[];let i=0;for(;i<r.length;)switch(r[i]){case"/":if(r[i+1]===".")if(r[i+2]==="."){if(!n(r[i+3])){e.push([]),i++;break}e.pop(),r[i+3]||e.push([]),i+=3}else{if(!n(r[i+2])){e.push([]),i++;break}r[i+2]||e.push([]),i+=2}else e.push([]),i++;break;case"#":case"?":e.length||e.push([]),e[e.length-1].push(r.substr(i)),i=r.length;break;default:e.length||e.push([]),e[e.length-1].push(r[i]),i++;break}return"/"+e.map(o=>o.join("")).join("/")}Ai.removeDotSegments=t;function u(r,e){let i=e+1;e>=0?r[e+1]==="/"&&r[e+2]==="/"&&(i=e+3):r[0]==="/"&&r[1]==="/"&&(i=2);const o=r.indexOf("/",i);if(o<0)return r;const c=r.substr(0,o),s=r.substr(o);return c+t(s)}Ai.removeDotSegmentsOfPath=u;function n(r){return!r||r==="#"||r==="?"||r==="/"}return Ai}var k5;function mr(){return k5||(k5=1,function(a){var t=Qu&&Qu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e),Object.defineProperty(n,i,{enumerable:!0,get:function(){return r[e]}})}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Qu&&Qu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u($se(),a)}(Qu)),Qu}var II={},z5;function LO(){return z5||(z5=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ERROR_CODES=a.ErrorCoded=void 0;class t extends Error{constructor(n,r){super(n),this.code=r}}a.ErrorCoded=t,function(u){u.COLLIDING_KEYWORDS="colliding keywords",u.CONFLICTING_INDEXES="conflicting indexes",u.CYCLIC_IRI_MAPPING="cyclic IRI mapping",u.INVALID_ID_VALUE="invalid @id value",u.INVALID_INDEX_VALUE="invalid @index value",u.INVALID_NEST_VALUE="invalid @nest value",u.INVALID_PREFIX_VALUE="invalid @prefix value",u.INVALID_PROPAGATE_VALUE="invalid @propagate value",u.INVALID_REVERSE_VALUE="invalid @reverse value",u.INVALID_IMPORT_VALUE="invalid @import value",u.INVALID_VERSION_VALUE="invalid @version value",u.INVALID_BASE_IRI="invalid base IRI",u.INVALID_CONTAINER_MAPPING="invalid container mapping",u.INVALID_CONTEXT_ENTRY="invalid context entry",u.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",u.INVALID_DEFAULT_LANGUAGE="invalid default language",u.INVALID_INCLUDED_VALUE="invalid @included value",u.INVALID_IRI_MAPPING="invalid IRI mapping",u.INVALID_JSON_LITERAL="invalid JSON literal",u.INVALID_KEYWORD_ALIAS="invalid keyword alias",u.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",u.INVALID_LANGUAGE_MAPPING="invalid language mapping",u.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",u.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",u.INVALID_LOCAL_CONTEXT="invalid local context",u.INVALID_REMOTE_CONTEXT="invalid remote context",u.INVALID_REVERSE_PROPERTY="invalid reverse property",u.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",u.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",u.INVALID_SCOPED_CONTEXT="invalid scoped context",u.INVALID_SCRIPT_ELEMENT="invalid script element",u.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",u.INVALID_TERM_DEFINITION="invalid term definition",u.INVALID_TYPE_MAPPING="invalid type mapping",u.INVALID_TYPE_VALUE="invalid type value",u.INVALID_TYPED_VALUE="invalid typed value",u.INVALID_VALUE_OBJECT="invalid value object",u.INVALID_VALUE_OBJECT_VALUE="invalid value object value",u.INVALID_VOCAB_MAPPING="invalid vocab mapping",u.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",u.KEYWORD_REDEFINITION="keyword redefinition",u.LOADING_DOCUMENT_FAILED="loading document failed",u.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",u.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",u.PROCESSING_MODE_CONFLICT="processing mode conflict",u.PROTECTED_TERM_REDEFINITION="protected term redefinition",u.CONTEXT_OVERFLOW="context overflow",u.INVALID_BASE_DIRECTION="invalid base direction",u.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",u.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",u.INVALID_EMBEDDED_NODE="invalid embedded node",u.INVALID_ANNOTATION="invalid annotation"}(a.ERROR_CODES||(a.ERROR_CODES={}))}(II)),II}var o1={},RI={},jO={};jO.byteLength=Qse,jO.toByteArray=Gse,jO.fromByteArray=Xse;for(var fi=[],xn=[],Vse=typeof Uint8Array<"u"?Uint8Array:Array,NI="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uh=0,Use=NI.length;uh<Use;++uh)fi[uh]=NI[uh],xn[NI.charCodeAt(uh)]=uh;xn[45]=62,xn[95]=63;function X5(a){var t=a.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=a.indexOf("=");u===-1&&(u=t);var n=u===t?0:4-u%4;return[u,n]}function Qse(a){var t=X5(a),u=t[0],n=t[1];return(u+n)*3/4-n}function Hse(a,t,u){return(t+u)*3/4-u}function Gse(a){var t,u=X5(a),n=u[0],r=u[1],e=new Vse(Hse(a,n,r)),i=0,o=r>0?n-4:n,c;for(c=0;c<o;c+=4)t=xn[a.charCodeAt(c)]<<18|xn[a.charCodeAt(c+1)]<<12|xn[a.charCodeAt(c+2)]<<6|xn[a.charCodeAt(c+3)],e[i++]=t>>16&255,e[i++]=t>>8&255,e[i++]=t&255;return r===2&&(t=xn[a.charCodeAt(c)]<<2|xn[a.charCodeAt(c+1)]>>4,e[i++]=t&255),r===1&&(t=xn[a.charCodeAt(c)]<<10|xn[a.charCodeAt(c+1)]<<4|xn[a.charCodeAt(c+2)]>>2,e[i++]=t>>8&255,e[i++]=t&255),e}function kse(a){return fi[a>>18&63]+fi[a>>12&63]+fi[a>>6&63]+fi[a&63]}function zse(a,t,u){for(var n,r=[],e=t;e<u;e+=3)n=(a[e]<<16&16711680)+(a[e+1]<<8&65280)+(a[e+2]&255),r.push(kse(n));return r.join("")}function Xse(a){for(var t,u=a.length,n=u%3,r=[],e=16383,i=0,o=u-n;i<o;i+=e)r.push(zse(a,i,i+e>o?o:i+e));return n===1?(t=a[u-1],r.push(fi[t>>2]+fi[t<<4&63]+"==")):n===2&&(t=(a[u-2]<<8)+a[u-1],r.push(fi[t>>10]+fi[t>>4&63]+fi[t<<2&63]+"=")),r.join("")}var FI={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */FI.read=function(a,t,u,n,r){var e,i,o=r*8-n-1,c=(1<<o)-1,s=c>>1,l=-7,f=u?r-1:0,d=u?-1:1,h=a[t+f];for(f+=d,e=h&(1<<-l)-1,h>>=-l,l+=o;l>0;e=e*256+a[t+f],f+=d,l-=8);for(i=e&(1<<-l)-1,e>>=-l,l+=n;l>0;i=i*256+a[t+f],f+=d,l-=8);if(e===0)e=1-s;else{if(e===c)return i?NaN:(h?-1:1)*(1/0);i=i+Math.pow(2,n),e=e-s}return(h?-1:1)*i*Math.pow(2,e-n)},FI.write=function(a,t,u,n,r,e){var i,o,c,s=e*8-r-1,l=(1<<s)-1,f=l>>1,d=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:e-1,p=n?1:-1,b=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,i=l):(i=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-i))<1&&(i--,c*=2),i+f>=1?t+=d/c:t+=d*Math.pow(2,1-f),t*c>=2&&(i++,c/=2),i+f>=l?(o=0,i=l):i+f>=1?(o=(t*c-1)*Math.pow(2,r),i=i+f):(o=t*Math.pow(2,f-1)*Math.pow(2,r),i=0));r>=8;a[u+h]=o&255,h+=p,o/=256,r-=8);for(i=i<<r|o,s+=r;s>0;a[u+h]=i&255,h+=p,i/=256,s-=8);a[u+h-p]|=b*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(a){const t=jO,u=FI,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=l,a.SlowBuffer=T,a.INSPECT_MAX_BYTES=50;const r=2147483647;a.kMaxLength=r;const{Uint8Array:e,ArrayBuffer:i,SharedArrayBuffer:o}=globalThis;l.TYPED_ARRAY_SUPPORT=c(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const U=new e(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,e.prototype),Object.setPrototypeOf(U,R),U.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function s(U){if(U>r)throw new RangeError('The value "'+U+'" is invalid for option "size"');const R=new e(U);return Object.setPrototypeOf(R,l.prototype),R}function l(U,R,C){if(typeof U=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(U)}return f(U,R,C)}l.poolSize=8192;function f(U,R,C){if(typeof U=="string")return b(U,R);if(i.isView(U))return y(U);if(U==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if(Le(U,i)||U&&Le(U.buffer,i)||typeof o<"u"&&(Le(U,o)||U&&Le(U.buffer,o)))return g(U,R,C);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const J=U.valueOf&&U.valueOf();if(J!=null&&J!==U)return l.from(J,R,C);const ae=_(U);if(ae)return ae;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return l.from(U[Symbol.toPrimitive]("string"),R,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}l.from=function(U,R,C){return f(U,R,C)},Object.setPrototypeOf(l.prototype,e.prototype),Object.setPrototypeOf(l,e);function d(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function h(U,R,C){return d(U),U<=0?s(U):R!==void 0?typeof C=="string"?s(U).fill(R,C):s(U).fill(R):s(U)}l.alloc=function(U,R,C){return h(U,R,C)};function p(U){return d(U),s(U<0?0:v(U)|0)}l.allocUnsafe=function(U){return p(U)},l.allocUnsafeSlow=function(U){return p(U)};function b(U,R){if((typeof R!="string"||R==="")&&(R="utf8"),!l.isEncoding(R))throw new TypeError("Unknown encoding: "+R);const C=w(U,R)|0;let J=s(C);const ae=J.write(U,R);return ae!==C&&(J=J.slice(0,ae)),J}function m(U){const R=U.length<0?0:v(U.length)|0,C=s(R);for(let J=0;J<R;J+=1)C[J]=U[J]&255;return C}function y(U){if(Le(U,e)){const R=new e(U);return g(R.buffer,R.byteOffset,R.byteLength)}return m(U)}function g(U,R,C){if(R<0||U.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(U.byteLength<R+(C||0))throw new RangeError('"length" is outside of buffer bounds');let J;return R===void 0&&C===void 0?J=new e(U):C===void 0?J=new e(U,R):J=new e(U,R,C),Object.setPrototypeOf(J,l.prototype),J}function _(U){if(l.isBuffer(U)){const R=v(U.length)|0,C=s(R);return C.length===0||U.copy(C,0,0,R),C}if(U.length!==void 0)return typeof U.length!="number"||ce(U.length)?s(0):m(U);if(U.type==="Buffer"&&Array.isArray(U.data))return m(U.data)}function v(U){if(U>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return U|0}function T(U){return+U!=U&&(U=0),l.alloc(+U)}l.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==l.prototype},l.compare=function(R,C){if(Le(R,e)&&(R=l.from(R,R.offset,R.byteLength)),Le(C,e)&&(C=l.from(C,C.offset,C.byteLength)),!l.isBuffer(R)||!l.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===C)return 0;let J=R.length,ae=C.length;for(let _e=0,Se=Math.min(J,ae);_e<Se;++_e)if(R[_e]!==C[_e]){J=R[_e],ae=C[_e];break}return J<ae?-1:ae<J?1:0},l.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(R,C){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return l.alloc(0);let J;if(C===void 0)for(C=0,J=0;J<R.length;++J)C+=R[J].length;const ae=l.allocUnsafe(C);let _e=0;for(J=0;J<R.length;++J){let Se=R[J];if(Le(Se,e))_e+Se.length>ae.length?(l.isBuffer(Se)||(Se=l.from(Se)),Se.copy(ae,_e)):e.prototype.set.call(ae,Se,_e);else if(l.isBuffer(Se))Se.copy(ae,_e);else throw new TypeError('"list" argument must be an Array of Buffers');_e+=Se.length}return ae};function w(U,R){if(l.isBuffer(U))return U.length;if(i.isView(U)||Le(U,i))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);const C=U.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&C===0)return 0;let ae=!1;for(;;)switch(R){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return Z(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return De(U).length;default:if(ae)return J?-1:Z(U).length;R=(""+R).toLowerCase(),ae=!0}}l.byteLength=w;function A(U,R,C){let J=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,R>>>=0,C<=R))return"";for(U||(U="utf8");;)switch(U){case"hex":return Fe(this,R,C);case"utf8":case"utf-8":return ie(this,R,C);case"ascii":return X(this,R,C);case"latin1":case"binary":return me(this,R,C);case"base64":return Q(this,R,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,R,C);default:if(J)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),J=!0}}l.prototype._isBuffer=!0;function M(U,R,C){const J=U[R];U[R]=U[C],U[C]=J}l.prototype.swap16=function(){const R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let C=0;C<R;C+=2)M(this,C,C+1);return this},l.prototype.swap32=function(){const R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let C=0;C<R;C+=4)M(this,C,C+3),M(this,C+1,C+2);return this},l.prototype.swap64=function(){const R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let C=0;C<R;C+=8)M(this,C,C+7),M(this,C+1,C+6),M(this,C+2,C+5),M(this,C+3,C+4);return this},l.prototype.toString=function(){const R=this.length;return R===0?"":arguments.length===0?ie(this,0,R):A.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(R){if(!l.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:l.compare(this,R)===0},l.prototype.inspect=function(){let R="";const C=a.INSPECT_MAX_BYTES;return R=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(R+=" ... "),"<Buffer "+R+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(R,C,J,ae,_e){if(Le(R,e)&&(R=l.from(R,R.offset,R.byteLength)),!l.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(C===void 0&&(C=0),J===void 0&&(J=R?R.length:0),ae===void 0&&(ae=0),_e===void 0&&(_e=this.length),C<0||J>R.length||ae<0||_e>this.length)throw new RangeError("out of range index");if(ae>=_e&&C>=J)return 0;if(ae>=_e)return-1;if(C>=J)return 1;if(C>>>=0,J>>>=0,ae>>>=0,_e>>>=0,this===R)return 0;let Se=_e-ae,Xe=J-C;const Y=Math.min(Se,Xe),Ee=this.slice(ae,_e),Ne=R.slice(C,J);for(let Ce=0;Ce<Y;++Ce)if(Ee[Ce]!==Ne[Ce]){Se=Ee[Ce],Xe=Ne[Ce];break}return Se<Xe?-1:Xe<Se?1:0};function F(U,R,C,J,ae){if(U.length===0)return-1;if(typeof C=="string"?(J=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,ce(C)&&(C=ae?0:U.length-1),C<0&&(C=U.length+C),C>=U.length){if(ae)return-1;C=U.length-1}else if(C<0)if(ae)C=0;else return-1;if(typeof R=="string"&&(R=l.from(R,J)),l.isBuffer(R))return R.length===0?-1:O(U,R,C,J,ae);if(typeof R=="number")return R=R&255,typeof e.prototype.indexOf=="function"?ae?e.prototype.indexOf.call(U,R,C):e.prototype.lastIndexOf.call(U,R,C):O(U,[R],C,J,ae);throw new TypeError("val must be string, number or Buffer")}function O(U,R,C,J,ae){let _e=1,Se=U.length,Xe=R.length;if(J!==void 0&&(J=String(J).toLowerCase(),J==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(U.length<2||R.length<2)return-1;_e=2,Se/=2,Xe/=2,C/=2}function Y(Ne,Ce){return _e===1?Ne[Ce]:Ne.readUInt16BE(Ce*_e)}let Ee;if(ae){let Ne=-1;for(Ee=C;Ee<Se;Ee++)if(Y(U,Ee)===Y(R,Ne===-1?0:Ee-Ne)){if(Ne===-1&&(Ne=Ee),Ee-Ne+1===Xe)return Ne*_e}else Ne!==-1&&(Ee-=Ee-Ne),Ne=-1}else for(C+Xe>Se&&(C=Se-Xe),Ee=C;Ee>=0;Ee--){let Ne=!0;for(let Ce=0;Ce<Xe;Ce++)if(Y(U,Ee+Ce)!==Y(R,Ce)){Ne=!1;break}if(Ne)return Ee}return-1}l.prototype.includes=function(R,C,J){return this.indexOf(R,C,J)!==-1},l.prototype.indexOf=function(R,C,J){return F(this,R,C,J,!0)},l.prototype.lastIndexOf=function(R,C,J){return F(this,R,C,J,!1)};function E(U,R,C,J){C=Number(C)||0;const ae=U.length-C;J?(J=Number(J),J>ae&&(J=ae)):J=ae;const _e=R.length;J>_e/2&&(J=_e/2);let Se;for(Se=0;Se<J;++Se){const Xe=parseInt(R.substr(Se*2,2),16);if(ce(Xe))return Se;U[C+Se]=Xe}return Se}function x(U,R,C,J){return Qe(Z(R,U.length-C),U,C,J)}function L(U,R,C,J){return Qe(de(R),U,C,J)}function V(U,R,C,J){return Qe(De(R),U,C,J)}function $(U,R,C,J){return Qe(le(R,U.length-C),U,C,J)}l.prototype.write=function(R,C,J,ae){if(C===void 0)ae="utf8",J=this.length,C=0;else if(J===void 0&&typeof C=="string")ae=C,J=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(J)?(J=J>>>0,ae===void 0&&(ae="utf8")):(ae=J,J=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const _e=this.length-C;if((J===void 0||J>_e)&&(J=_e),R.length>0&&(J<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");ae||(ae="utf8");let Se=!1;for(;;)switch(ae){case"hex":return E(this,R,C,J);case"utf8":case"utf-8":return x(this,R,C,J);case"ascii":case"latin1":case"binary":return L(this,R,C,J);case"base64":return V(this,R,C,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,R,C,J);default:if(Se)throw new TypeError("Unknown encoding: "+ae);ae=(""+ae).toLowerCase(),Se=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Q(U,R,C){return R===0&&C===U.length?t.fromByteArray(U):t.fromByteArray(U.slice(R,C))}function ie(U,R,C){C=Math.min(U.length,C);const J=[];let ae=R;for(;ae<C;){const _e=U[ae];let Se=null,Xe=_e>239?4:_e>223?3:_e>191?2:1;if(ae+Xe<=C){let Y,Ee,Ne,Ce;switch(Xe){case 1:_e<128&&(Se=_e);break;case 2:Y=U[ae+1],(Y&192)===128&&(Ce=(_e&31)<<6|Y&63,Ce>127&&(Se=Ce));break;case 3:Y=U[ae+1],Ee=U[ae+2],(Y&192)===128&&(Ee&192)===128&&(Ce=(_e&15)<<12|(Y&63)<<6|Ee&63,Ce>2047&&(Ce<55296||Ce>57343)&&(Se=Ce));break;case 4:Y=U[ae+1],Ee=U[ae+2],Ne=U[ae+3],(Y&192)===128&&(Ee&192)===128&&(Ne&192)===128&&(Ce=(_e&15)<<18|(Y&63)<<12|(Ee&63)<<6|Ne&63,Ce>65535&&Ce<1114112&&(Se=Ce))}}Se===null?(Se=65533,Xe=1):Se>65535&&(Se-=65536,J.push(Se>>>10&1023|55296),Se=56320|Se&1023),J.push(Se),ae+=Xe}return pe(J)}const ue=4096;function pe(U){const R=U.length;if(R<=ue)return String.fromCharCode.apply(String,U);let C="",J=0;for(;J<R;)C+=String.fromCharCode.apply(String,U.slice(J,J+=ue));return C}function X(U,R,C){let J="";C=Math.min(U.length,C);for(let ae=R;ae<C;++ae)J+=String.fromCharCode(U[ae]&127);return J}function me(U,R,C){let J="";C=Math.min(U.length,C);for(let ae=R;ae<C;++ae)J+=String.fromCharCode(U[ae]);return J}function Fe(U,R,C){const J=U.length;(!R||R<0)&&(R=0),(!C||C<0||C>J)&&(C=J);let ae="";for(let _e=R;_e<C;++_e)ae+=se[U[_e]];return ae}function ve(U,R,C){const J=U.slice(R,C);let ae="";for(let _e=0;_e<J.length-1;_e+=2)ae+=String.fromCharCode(J[_e]+J[_e+1]*256);return ae}l.prototype.slice=function(R,C){const J=this.length;R=~~R,C=C===void 0?J:~~C,R<0?(R+=J,R<0&&(R=0)):R>J&&(R=J),C<0?(C+=J,C<0&&(C=0)):C>J&&(C=J),C<R&&(C=R);const ae=this.subarray(R,C);return Object.setPrototypeOf(ae,l.prototype),ae};function re(U,R,C){if(U%1!==0||U<0)throw new RangeError("offset is not uint");if(U+R>C)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(R,C,J){R=R>>>0,C=C>>>0,J||re(R,C,this.length);let ae=this[R],_e=1,Se=0;for(;++Se<C&&(_e*=256);)ae+=this[R+Se]*_e;return ae},l.prototype.readUintBE=l.prototype.readUIntBE=function(R,C,J){R=R>>>0,C=C>>>0,J||re(R,C,this.length);let ae=this[R+--C],_e=1;for(;C>0&&(_e*=256);)ae+=this[R+--C]*_e;return ae},l.prototype.readUint8=l.prototype.readUInt8=function(R,C){return R=R>>>0,C||re(R,1,this.length),this[R]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(R,C){return R=R>>>0,C||re(R,2,this.length),this[R]|this[R+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(R,C){return R=R>>>0,C||re(R,2,this.length),this[R]<<8|this[R+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(R,C){return R=R>>>0,C||re(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(R,C){return R=R>>>0,C||re(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},l.prototype.readBigUInt64LE=ye(function(R){R=R>>>0,z(R,"offset");const C=this[R],J=this[R+7];(C===void 0||J===void 0)&&H(R,this.length-8);const ae=C+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24,_e=this[++R]+this[++R]*2**8+this[++R]*2**16+J*2**24;return BigInt(ae)+(BigInt(_e)<<BigInt(32))}),l.prototype.readBigUInt64BE=ye(function(R){R=R>>>0,z(R,"offset");const C=this[R],J=this[R+7];(C===void 0||J===void 0)&&H(R,this.length-8);const ae=C*2**24+this[++R]*2**16+this[++R]*2**8+this[++R],_e=this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+J;return(BigInt(ae)<<BigInt(32))+BigInt(_e)}),l.prototype.readIntLE=function(R,C,J){R=R>>>0,C=C>>>0,J||re(R,C,this.length);let ae=this[R],_e=1,Se=0;for(;++Se<C&&(_e*=256);)ae+=this[R+Se]*_e;return _e*=128,ae>=_e&&(ae-=Math.pow(2,8*C)),ae},l.prototype.readIntBE=function(R,C,J){R=R>>>0,C=C>>>0,J||re(R,C,this.length);let ae=C,_e=1,Se=this[R+--ae];for(;ae>0&&(_e*=256);)Se+=this[R+--ae]*_e;return _e*=128,Se>=_e&&(Se-=Math.pow(2,8*C)),Se},l.prototype.readInt8=function(R,C){return R=R>>>0,C||re(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},l.prototype.readInt16LE=function(R,C){R=R>>>0,C||re(R,2,this.length);const J=this[R]|this[R+1]<<8;return J&32768?J|4294901760:J},l.prototype.readInt16BE=function(R,C){R=R>>>0,C||re(R,2,this.length);const J=this[R+1]|this[R]<<8;return J&32768?J|4294901760:J},l.prototype.readInt32LE=function(R,C){return R=R>>>0,C||re(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},l.prototype.readInt32BE=function(R,C){return R=R>>>0,C||re(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},l.prototype.readBigInt64LE=ye(function(R){R=R>>>0,z(R,"offset");const C=this[R],J=this[R+7];(C===void 0||J===void 0)&&H(R,this.length-8);const ae=this[R+4]+this[R+5]*2**8+this[R+6]*2**16+(J<<24);return(BigInt(ae)<<BigInt(32))+BigInt(C+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24)}),l.prototype.readBigInt64BE=ye(function(R){R=R>>>0,z(R,"offset");const C=this[R],J=this[R+7];(C===void 0||J===void 0)&&H(R,this.length-8);const ae=(C<<24)+this[++R]*2**16+this[++R]*2**8+this[++R];return(BigInt(ae)<<BigInt(32))+BigInt(this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+J)}),l.prototype.readFloatLE=function(R,C){return R=R>>>0,C||re(R,4,this.length),u.read(this,R,!0,23,4)},l.prototype.readFloatBE=function(R,C){return R=R>>>0,C||re(R,4,this.length),u.read(this,R,!1,23,4)},l.prototype.readDoubleLE=function(R,C){return R=R>>>0,C||re(R,8,this.length),u.read(this,R,!0,52,8)},l.prototype.readDoubleBE=function(R,C){return R=R>>>0,C||re(R,8,this.length),u.read(this,R,!1,52,8)};function je(U,R,C,J,ae,_e){if(!l.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>ae||R<_e)throw new RangeError('"value" argument is out of bounds');if(C+J>U.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(R,C,J,ae){if(R=+R,C=C>>>0,J=J>>>0,!ae){const Xe=Math.pow(2,8*J)-1;je(this,R,C,J,Xe,0)}let _e=1,Se=0;for(this[C]=R&255;++Se<J&&(_e*=256);)this[C+Se]=R/_e&255;return C+J},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(R,C,J,ae){if(R=+R,C=C>>>0,J=J>>>0,!ae){const Xe=Math.pow(2,8*J)-1;je(this,R,C,J,Xe,0)}let _e=J-1,Se=1;for(this[C+_e]=R&255;--_e>=0&&(Se*=256);)this[C+_e]=R/Se&255;return C+J},l.prototype.writeUint8=l.prototype.writeUInt8=function(R,C,J){return R=+R,C=C>>>0,J||je(this,R,C,1,255,0),this[C]=R&255,C+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(R,C,J){return R=+R,C=C>>>0,J||je(this,R,C,2,65535,0),this[C]=R&255,this[C+1]=R>>>8,C+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(R,C,J){return R=+R,C=C>>>0,J||je(this,R,C,2,65535,0),this[C]=R>>>8,this[C+1]=R&255,C+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(R,C,J){return R=+R,C=C>>>0,J||je(this,R,C,4,4294967295,0),this[C+3]=R>>>24,this[C+2]=R>>>16,this[C+1]=R>>>8,this[C]=R&255,C+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(R,C,J){return R=+R,C=C>>>0,J||je(this,R,C,4,4294967295,0),this[C]=R>>>24,this[C+1]=R>>>16,this[C+2]=R>>>8,this[C+3]=R&255,C+4};function qe(U,R,C,J,ae){B(R,J,ae,U,C,7);let _e=Number(R&BigInt(4294967295));U[C++]=_e,_e=_e>>8,U[C++]=_e,_e=_e>>8,U[C++]=_e,_e=_e>>8,U[C++]=_e;let Se=Number(R>>BigInt(32)&BigInt(4294967295));return U[C++]=Se,Se=Se>>8,U[C++]=Se,Se=Se>>8,U[C++]=Se,Se=Se>>8,U[C++]=Se,C}function $e(U,R,C,J,ae){B(R,J,ae,U,C,7);let _e=Number(R&BigInt(4294967295));U[C+7]=_e,_e=_e>>8,U[C+6]=_e,_e=_e>>8,U[C+5]=_e,_e=_e>>8,U[C+4]=_e;let Se=Number(R>>BigInt(32)&BigInt(4294967295));return U[C+3]=Se,Se=Se>>8,U[C+2]=Se,Se=Se>>8,U[C+1]=Se,Se=Se>>8,U[C]=Se,C+8}l.prototype.writeBigUInt64LE=ye(function(R,C=0){return qe(this,R,C,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=ye(function(R,C=0){return $e(this,R,C,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(R,C,J,ae){if(R=+R,C=C>>>0,!ae){const Y=Math.pow(2,8*J-1);je(this,R,C,J,Y-1,-Y)}let _e=0,Se=1,Xe=0;for(this[C]=R&255;++_e<J&&(Se*=256);)R<0&&Xe===0&&this[C+_e-1]!==0&&(Xe=1),this[C+_e]=(R/Se>>0)-Xe&255;return C+J},l.prototype.writeIntBE=function(R,C,J,ae){if(R=+R,C=C>>>0,!ae){const Y=Math.pow(2,8*J-1);je(this,R,C,J,Y-1,-Y)}let _e=J-1,Se=1,Xe=0;for(this[C+_e]=R&255;--_e>=0&&(Se*=256);)R<0&&Xe===0&&this[C+_e+1]!==0&&(Xe=1),this[C+_e]=(R/Se>>0)-Xe&255;return C+J},l.prototype.writeInt8=function(R,C,J){return R=+R,C=C>>>0,J||je(this,R,C,1,127,-128),R<0&&(R=255+R+1),this[C]=R&255,C+1},l.prototype.writeInt16LE=function(R,C,J){return R=+R,C=C>>>0,J||je(this,R,C,2,32767,-32768),this[C]=R&255,this[C+1]=R>>>8,C+2},l.prototype.writeInt16BE=function(R,C,J){return R=+R,C=C>>>0,J||je(this,R,C,2,32767,-32768),this[C]=R>>>8,this[C+1]=R&255,C+2},l.prototype.writeInt32LE=function(R,C,J){return R=+R,C=C>>>0,J||je(this,R,C,4,2147483647,-2147483648),this[C]=R&255,this[C+1]=R>>>8,this[C+2]=R>>>16,this[C+3]=R>>>24,C+4},l.prototype.writeInt32BE=function(R,C,J){return R=+R,C=C>>>0,J||je(this,R,C,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[C]=R>>>24,this[C+1]=R>>>16,this[C+2]=R>>>8,this[C+3]=R&255,C+4},l.prototype.writeBigInt64LE=ye(function(R,C=0){return qe(this,R,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=ye(function(R,C=0){return $e(this,R,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ge(U,R,C,J,ae,_e){if(C+J>U.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function we(U,R,C,J,ae){return R=+R,C=C>>>0,ae||ge(U,R,C,4),u.write(U,R,C,J,23,4),C+4}l.prototype.writeFloatLE=function(R,C,J){return we(this,R,C,!0,J)},l.prototype.writeFloatBE=function(R,C,J){return we(this,R,C,!1,J)};function G(U,R,C,J,ae){return R=+R,C=C>>>0,ae||ge(U,R,C,8),u.write(U,R,C,J,52,8),C+8}l.prototype.writeDoubleLE=function(R,C,J){return G(this,R,C,!0,J)},l.prototype.writeDoubleBE=function(R,C,J){return G(this,R,C,!1,J)},l.prototype.copy=function(R,C,J,ae){if(!l.isBuffer(R))throw new TypeError("argument should be a Buffer");if(J||(J=0),!ae&&ae!==0&&(ae=this.length),C>=R.length&&(C=R.length),C||(C=0),ae>0&&ae<J&&(ae=J),ae===J||R.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("sourceEnd out of bounds");ae>this.length&&(ae=this.length),R.length-C<ae-J&&(ae=R.length-C+J);const _e=ae-J;return this===R&&typeof e.prototype.copyWithin=="function"?this.copyWithin(C,J,ae):e.prototype.set.call(R,this.subarray(J,ae),C),_e},l.prototype.fill=function(R,C,J,ae){if(typeof R=="string"){if(typeof C=="string"?(ae=C,C=0,J=this.length):typeof J=="string"&&(ae=J,J=this.length),ae!==void 0&&typeof ae!="string")throw new TypeError("encoding must be a string");if(typeof ae=="string"&&!l.isEncoding(ae))throw new TypeError("Unknown encoding: "+ae);if(R.length===1){const Se=R.charCodeAt(0);(ae==="utf8"&&Se<128||ae==="latin1")&&(R=Se)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(C<0||this.length<C||this.length<J)throw new RangeError("Out of range index");if(J<=C)return this;C=C>>>0,J=J===void 0?this.length:J>>>0,R||(R=0);let _e;if(typeof R=="number")for(_e=C;_e<J;++_e)this[_e]=R;else{const Se=l.isBuffer(R)?R:l.from(R,ae),Xe=Se.length;if(Xe===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(_e=0;_e<J-C;++_e)this[_e+C]=Se[_e%Xe]}return this};const N={};function P(U,R,C){N[U]=class extends C{constructor(){super(),Object.defineProperty(this,"message",{value:R.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${U}]`,this.stack,delete this.name}get code(){return U}set code(ae){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ae,writable:!0})}toString(){return`${this.name} [${U}]: ${this.message}`}}}P("ERR_BUFFER_OUT_OF_BOUNDS",function(U){return U?`${U} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),P("ERR_INVALID_ARG_TYPE",function(U,R){return`The "${U}" argument must be of type number. Received type ${typeof R}`},TypeError),P("ERR_OUT_OF_RANGE",function(U,R,C){let J=`The value of "${U}" is out of range.`,ae=C;return Number.isInteger(C)&&Math.abs(C)>2**32?ae=S(String(C)):typeof C=="bigint"&&(ae=String(C),(C>BigInt(2)**BigInt(32)||C<-(BigInt(2)**BigInt(32)))&&(ae=S(ae)),ae+="n"),J+=` It must be ${R}. Received ${ae}`,J},RangeError);function S(U){let R="",C=U.length;const J=U[0]==="-"?1:0;for(;C>=J+4;C-=3)R=`_${U.slice(C-3,C)}${R}`;return`${U.slice(0,C)}${R}`}function I(U,R,C){z(R,"offset"),(U[R]===void 0||U[R+C]===void 0)&&H(R,U.length-(C+1))}function B(U,R,C,J,ae,_e){if(U>C||U<R){const Se=typeof R=="bigint"?"n":"";let Xe;throw R===0||R===BigInt(0)?Xe=`>= 0${Se} and < 2${Se} ** ${(_e+1)*8}${Se}`:Xe=`>= -(2${Se} ** ${(_e+1)*8-1}${Se}) and < 2 ** ${(_e+1)*8-1}${Se}`,new N.ERR_OUT_OF_RANGE("value",Xe,U)}I(J,ae,_e)}function z(U,R){if(typeof U!="number")throw new N.ERR_INVALID_ARG_TYPE(R,"number",U)}function H(U,R,C){throw Math.floor(U)!==U?(z(U,C),new N.ERR_OUT_OF_RANGE("offset","an integer",U)):R<0?new N.ERR_BUFFER_OUT_OF_BOUNDS:new N.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${R}`,U)}const K=/[^+/0-9A-Za-z-_]/g;function k(U){if(U=U.split("=")[0],U=U.trim().replace(K,""),U.length<2)return"";for(;U.length%4!==0;)U=U+"=";return U}function Z(U,R){R=R||1/0;let C;const J=U.length;let ae=null;const _e=[];for(let Se=0;Se<J;++Se){if(C=U.charCodeAt(Se),C>55295&&C<57344){if(!ae){if(C>56319){(R-=3)>-1&&_e.push(239,191,189);continue}else if(Se+1===J){(R-=3)>-1&&_e.push(239,191,189);continue}ae=C;continue}if(C<56320){(R-=3)>-1&&_e.push(239,191,189),ae=C;continue}C=(ae-55296<<10|C-56320)+65536}else ae&&(R-=3)>-1&&_e.push(239,191,189);if(ae=null,C<128){if((R-=1)<0)break;_e.push(C)}else if(C<2048){if((R-=2)<0)break;_e.push(C>>6|192,C&63|128)}else if(C<65536){if((R-=3)<0)break;_e.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((R-=4)<0)break;_e.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return _e}function de(U){const R=[];for(let C=0;C<U.length;++C)R.push(U.charCodeAt(C)&255);return R}function le(U,R){let C,J,ae;const _e=[];for(let Se=0;Se<U.length&&!((R-=2)<0);++Se)C=U.charCodeAt(Se),J=C>>8,ae=C%256,_e.push(ae),_e.push(J);return _e}function De(U){return t.toByteArray(k(U))}function Qe(U,R,C,J){let ae;for(ae=0;ae<J&&!(ae+C>=R.length||ae>=U.length);++ae)R[ae+C]=U[ae];return ae}function Le(U,R){return U instanceof R||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===R.name}function ce(U){return U!==U}const se=function(){const U="0123456789abcdef",R=new Array(256);for(let C=0;C<16;++C){const J=C*16;for(let ae=0;ae<16;++ae)R[J+ae]=U[C]+U[ae]}return R}();function ye(U){return typeof BigInt>"u"?xe:U}function xe(){throw new Error("BigInt not supported")}})(RI);const J5=RI.Buffer,Jse=RI.Buffer;var DI,K5;function s1(){if(K5)return DI;K5=1;var a=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,u=/\s|\uFEFF|\xA0/,n=/\r?\n[\x20\x09]+/g,r=/[;,"]/,e=/[;,"]|\s/,i=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,o={IDLE:1,URI:2,ATTR:4};function c(p){return p.replace(t,"")}function s(p){return u.test(p)}function l(p,b){for(;s(p[b]);)b++;return b}function f(p){return e.test(p)||!i.test(p)}function d(p,b){return Object.keys(p).length===Object.keys(b).length&&Object.keys(p).every(m=>m in b&&p[m]===b[m])}class h{constructor(b){this.refs=[],b&&this.parse(b)}rel(b){for(var m=[],y=b.toLowerCase(),g=0;g<this.refs.length;g++)typeof this.refs[g].rel=="string"&&this.refs[g].rel.toLowerCase()===y&&m.push(this.refs[g]);return m}get(b,m){b=b.toLowerCase(),m=m.toLowerCase();for(var y=[],g=0;g<this.refs.length;g++)typeof this.refs[g][b]=="string"&&this.refs[g][b].toLowerCase()===m&&y.push(this.refs[g]);return y}set(b){return this.refs.push(b),this}setUnique(b){return this.refs.some(m=>d(m,b))||this.refs.push(b),this}has(b,m){b=b.toLowerCase(),m=m.toLowerCase();for(var y=0;y<this.refs.length;y++)if(typeof this.refs[y][b]=="string"&&this.refs[y][b].toLowerCase()===m)return!0;return!1}parse(b,_){_=_||0,b=_?b.slice(_):b,b=c(b).replace(n,"");for(var y=o.IDLE,g=b.length,_=0,v=null;_<g;)if(y===o.IDLE){if(s(b[_])){_++;continue}else if(b[_]==="<"){v!=null&&(v.rel!=null?this.refs.push(...h.expandRelations(v)):this.refs.push(v));var T=b.indexOf(">",_);if(T===-1)throw new Error("Expected end of URI delimiter at offset "+_);v={uri:b.slice(_+1,T)},_=T,y=o.URI}else throw new Error('Unexpected character "'+b[_]+'" at offset '+_);_++}else if(y===o.URI)if(s(b[_])){_++;continue}else if(b[_]===";")y=o.ATTR,_++;else if(b[_]===",")y=o.IDLE,_++;else throw new Error('Unexpected character "'+b[_]+'" at offset '+_);else if(y===o.ATTR){if(b[_]===";"||s(b[_])){_++;continue}var T=b.indexOf("=",_);T===-1&&(T=b.indexOf(";",_)),T===-1&&(T=b.length);var w=c(b.slice(_,T)).toLowerCase(),A="";if(_=T+1,_=l(b,_),b[_]==='"')for(_++;_<g;){if(b[_]==='"'){_++;break}b[_]==="\\"&&_++,A+=b[_],_++}else{for(var T=_+1;!r.test(b[T])&&T<g;)T++;A=b.slice(_,T),_=T}switch(v[w]&&h.isSingleOccurenceAttr(w)||(w[w.length-1]==="*"?v[w]=h.parseExtendedValue(A):(A=w==="type"?A.toLowerCase():A,v[w]!=null?Array.isArray(v[w])?v[w].push(A):v[w]=[v[w],A]:v[w]=A)),b[_]){case",":y=o.IDLE;break;case";":y=o.ATTR;break}_++}else throw new Error('Unknown parser state "'+y+'"');return v!=null&&(v.rel!=null?this.refs.push(...h.expandRelations(v)):this.refs.push(v)),v=null,this}toString(){for(var b=[],m="",y=null,g=0;g<this.refs.length;g++)y=this.refs[g],m=Object.keys(this.refs[g]).reduce(function(_,v){return v==="uri"?_:_+"; "+h.formatAttribute(v,y[v])},"<"+y.uri+">"),b.push(m);return b.join(", ")}}return h.isCompatibleEncoding=function(p){return a.test(p)},h.parse=function(p,b){return new h().parse(p,b)},h.isSingleOccurenceAttr=function(p){return p==="rel"||p==="type"||p==="media"||p==="title"||p==="title*"},h.isTokenAttr=function(p){return p==="rel"||p==="type"||p==="anchor"},h.escapeQuotes=function(p){return p.replace(/"/g,'\\"')},h.expandRelations=function(p){var b=p.rel.split(" ");return b.map(function(m){var y=Object.assign({},p);return y.rel=m,y})},h.parseExtendedValue=function(p){var b=/([^']+)?(?:'([^']*)')?(.+)/.exec(p);return{language:b[2].toLowerCase(),encoding:h.isCompatibleEncoding(b[1])?null:b[1].toLowerCase(),value:h.isCompatibleEncoding(b[1])?decodeURIComponent(b[3]):b[3]}},h.formatExtendedAttribute=function(p,b){var m=(b.encoding||"utf-8").toUpperCase(),y=b.language||"en",g="";return J5.isBuffer(b.value)&&h.isCompatibleEncoding(m)?g=b.value.toString(m):J5.isBuffer(b.value)?g=b.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):g=encodeURIComponent(b.value),p+"="+m+"'"+y+"'"+g},h.formatAttribute=function(p,b){return Array.isArray(b)?b.map(m=>h.formatAttribute(p,m)).join("; "):p[p.length-1]==="*"||typeof b!="string"?h.formatExtendedAttribute(p,b):(h.isTokenAttr(p)?b=f(b)?'"'+h.escapeQuotes(b)+'"':h.escapeQuotes(b):f(b)&&(b=encodeURIComponent(b),b=b.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),b='"'+b+'"'),p+"="+b)},DI=h,DI}var W5;function Y5(){if(W5)return o1;W5=1,Object.defineProperty(o1,"__esModule",{value:!0}),o1.FetchDocumentLoader=void 0;const a=LO(),t=s1(),u=mr();class n{constructor(e){this.fetcher=e}async load(e){const i=await(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(i.ok&&i.headers){let o=i.headers.get("Content-Type");if(o){const c=o.indexOf(";");c>0&&(o=o.substr(0,c))}if(o==="application/ld+json")return await i.json();if(i.headers.has("Link")){let c;if(i.headers.forEach((s,l)=>{if(l==="link"){const f=(0,t.parse)(s);for(const d of f.get("type","application/ld+json"))if(d.rel==="alternate"){if(c)throw new Error("Multiple JSON-LD alternate links were found on "+e);c=(0,u.resolve)(d.uri,e)}}}),c)return this.load(c)}throw new a.ErrorCoded(`Unsupported JSON-LD media type ${o}`,a.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(i.statusText||`Status code: ${i.status}`)}}return o1.FetchDocumentLoader=n,o1}var PI={},c1={},Z5;function LI(){if(Z5)return c1;Z5=1,Object.defineProperty(c1,"__esModule",{value:!0}),c1.Util=void 0;class a{static isCompactIri(u){return u.indexOf(":")>0&&!(u&&u[0]==="#")}static getPrefix(u,n){if(u&&u[0]==="#")return null;const r=u.indexOf(":");if(r>=0){if(u.length>r+1&&u.charAt(r+1)==="/"&&u.charAt(r+2)==="/")return null;const e=u.substr(0,r);if(e==="_")return null;if(n[e])return e}return null}static getContextValueId(u){if(u===null||typeof u=="string")return u;const n=u["@id"];return n||null}static isSimpleTermDefinitionPrefix(u,n){return!a.isPotentialKeyword(u)&&(n.allowPrefixNonGenDelims||typeof u=="string"&&(u[0]==="_"||a.isPrefixIriEndingWithGenDelim(u)))}static isPotentialKeyword(u){return typeof u=="string"&&a.KEYWORD_REGEX.test(u)}static isPrefixIriEndingWithGenDelim(u){return a.ENDS_WITH_GEN_DELIM.test(u)}static isPrefixValue(u){return u&&(typeof u=="string"||u&&typeof u=="object")}static isValidIri(u){return!!(u&&a.IRI_REGEX.test(u))}static isValidIriWeak(u){return!!u&&u[0]!==":"&&a.IRI_REGEX_WEAK.test(u)}static isValidKeyword(u){return a.VALID_KEYWORDS[u]}static isTermProtected(u,n){const r=u[n];return typeof r!="string"&&r&&r["@protected"]}static hasProtectedTerms(u){for(const n of Object.keys(u))if(a.isTermProtected(u,n))return!0;return!1}static isReservedInternalKeyword(u){return u.startsWith("@__")}static deepEqual(u,n){const r=Object.keys(u),e=Object.keys(n);return r.length!==e.length?!1:r.every(i=>{const o=u[i],c=n[i];return o===c||o!==null&&c!==null&&typeof o=="object"&&typeof c=="object"&&this.deepEqual(o,c)})}}return a.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,a.IRI_REGEX_WEAK=/(?::[^:])|\//,a.KEYWORD_REGEX=/^@[a-z]+$/i,a.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,a.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,a.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,a.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},a.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],a.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],a.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],a.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],a.CONTAINERS_1_0=["@list","@set","@index"],c1.Util=a,c1}var eM;function tM(){return eM||(eM=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.defaultExpandOptions=a.JsonLdContextNormalized=void 0;const t=mr(),u=LO(),n=LI();class r{constructor(i){this.contextRaw=i}getContextRaw(){return this.contextRaw}expandTerm(i,o,c=a.defaultExpandOptions){const s=this.contextRaw[i];if(s===null||s&&s["@id"]===null)return null;let l=!0;if(s&&o){const m=n.Util.getContextValueId(s);if(m&&m!==i)if(typeof m!="string"||!n.Util.isValidIri(m)&&!n.Util.isValidKeyword(m))n.Util.isPotentialKeyword(m)||(l=!1);else return m}const f=n.Util.getPrefix(i,this.contextRaw),d=this.contextRaw["@vocab"],h=(!!d||d==="")&&d.indexOf(":")<0,p=this.contextRaw["@base"],b=n.Util.isPotentialKeyword(i);if(f){const m=this.contextRaw[f],y=n.Util.getContextValueId(m);if(y){if(typeof m=="string"||!c.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(y,c))return i}else if(y[0]!=="_"&&!b&&!m["@prefix"]&&!(i in this.contextRaw))return i;return y+i.substr(f.length+1)}}else if(o&&(d||d===""||c.allowVocabRelativeToBase&&p&&h)&&!b&&!n.Util.isCompactIri(i))if(h){if(c.allowVocabRelativeToBase)return(d||p?(0,t.resolve)(d,p):"")+i;throw new u.ErrorCoded(`Relative vocab expansion for term '${i}' with vocab '${d}' is not allowed.`,u.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return d+i;else if(!o&&p&&!b&&!n.Util.isCompactIri(i))return(0,t.resolve)(i,p);if(l)return i;throw new u.ErrorCoded(`Invalid IRI mapping found for context entry '${i}': '${JSON.stringify(s)}'`,u.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(i,o){if(o&&this.contextRaw["@vocab"]&&i.startsWith(this.contextRaw["@vocab"]))return i.substr(this.contextRaw["@vocab"].length);if(!o&&this.contextRaw["@base"]&&i.startsWith(this.contextRaw["@base"]))return i.substr(this.contextRaw["@base"].length);const c={prefix:"",suffix:i};for(const s in this.contextRaw){const l=this.contextRaw[s];if(l&&!n.Util.isPotentialKeyword(s)){const f=n.Util.getContextValueId(l);if(i.startsWith(f)){const d=i.substr(f.length);if(d)d.length<c.suffix.length&&(c.prefix=s,c.suffix=d);else if(o)return s}}}return c.prefix?c.prefix+":"+c.suffix:i}}a.JsonLdContextNormalized=r,a.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(PI)),PI}var rM;function Kse(){if(rM)return u1;rM=1,Object.defineProperty(u1,"__esModule",{value:!0}),u1.ContextParser=void 0;const a=mr(),t=LO(),u=Y5(),n=tM(),r=LI();class e{constructor(o){o=o||{},this.documentLoader=o.documentLoader||new u.FetchDocumentLoader,this.documentCache={},this.validateContext=!o.skipValidation,this.expandContentTypeToBase=!!o.expandContentTypeToBase,this.remoteContextsDepthLimit=o.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in o?!!o.redirectSchemaOrgHttps:!0}static validateLanguage(o,c,s){if(typeof o!="string")throw new t.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(o)}'`,s);if(!r.Util.REGEX_LANGUAGE_TAG.test(o)){if(c)throw new t.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(o)}'`,s);return!1}return!0}static validateDirection(o,c){if(typeof o!="string")throw new t.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(o)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);if(!r.Util.REGEX_DIRECTION_TAG.test(o)){if(c)throw new t.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(o)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(o){for(const c of Object.keys(o)){let s=o[c];if(s&&typeof s=="object"&&s["@reverse"]&&!s["@id"]){if(typeof s["@reverse"]!="string"||r.Util.isValidKeyword(s["@reverse"]))throw new t.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${s["@reverse"]}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);s=o[c]=Object.assign(Object.assign({},s),{"@id":s["@reverse"]}),s["@id"]=s["@reverse"],r.Util.isPotentialKeyword(s["@reverse"])?delete s["@reverse"]:s["@reverse"]=!0}}return o}expandPrefixedTerms(o,c,s){const l=o.getContextRaw();for(const f of s||Object.keys(l))if(r.Util.EXPAND_KEYS_BLACKLIST.indexOf(f)<0&&!r.Util.isReservedInternalKeyword(f)){const d=l[f];if(r.Util.isPotentialKeyword(f)&&r.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(f)>=0&&(f!=="@type"||typeof l[f]=="object"&&!(l[f]["@protected"]||l[f]["@container"]==="@set")))throw new t.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${f} to ${JSON.stringify(d)}`,t.ERROR_CODES.KEYWORD_REDEFINITION);if(r.Util.ALIAS_RANGE_BLACKLIST.indexOf(r.Util.getContextValueId(d))>=0)throw new t.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${f} to ${JSON.stringify(d)}`,t.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(d&&r.Util.isPotentialKeyword(r.Util.getContextValueId(d))&&d["@prefix"]===!0)throw new t.ErrorCoded(`Tried to use keyword aliases as prefix: '${f}': '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);for(;r.Util.isPrefixValue(l[f]);){const h=l[f];let p=!1;if(typeof h=="string")l[f]=o.expandTerm(h,!0),p=p||h!==l[f];else{const b=h["@id"],m=h["@type"],y=!("@prefix"in h)||r.Util.isValidIri(f);if("@id"in h)b!=null&&typeof b=="string"&&(l[f]=Object.assign(Object.assign({},l[f]),{"@id":o.expandTerm(b,!0)}),p=p||b!==l[f]["@id"]);else if(!r.Util.isPotentialKeyword(f)&&y){const g=o.expandTerm(f,!0);g!==f&&(l[f]=Object.assign(Object.assign({},l[f]),{"@id":g}),p=!0)}if(m&&typeof m=="string"&&m!=="@vocab"&&(!h["@container"]||!h["@container"]["@type"])&&y){let g=o.expandTerm(m,!0);c&&m===g&&(g=o.expandTerm(m,!1)),g!==m&&(p=!0,l[f]=Object.assign(Object.assign({},l[f]),{"@type":g}))}}if(!p)break}}}normalize(o,{processingMode:c,normalizeLanguageTags:s}){if(s||c===1)for(const l of Object.keys(o))if(l==="@language"&&typeof o[l]=="string")o[l]=o[l].toLowerCase();else{const f=o[l];if(f&&typeof f=="object"&&typeof f["@language"]=="string"){const d=f["@language"].toLowerCase();d!==f["@language"]&&(o[l]=Object.assign(Object.assign({},f),{"@language":d}))}}}containersToHash(o){for(const c of Object.keys(o)){const s=o[c];if(s&&typeof s=="object"){if(typeof s["@container"]=="string")o[c]=Object.assign(Object.assign({},s),{"@container":{[s["@container"]]:!0}});else if(Array.isArray(s["@container"])){const l={};for(const f of s["@container"])l[f]=!0;o[c]=Object.assign(Object.assign({},s),{"@container":l})}}}}applyScopedProtected(o,{processingMode:c},s){if(c&&c>=1.1&&o["@protected"]){for(const l of Object.keys(o))if(!r.Util.isReservedInternalKeyword(l)&&!r.Util.isPotentialKeyword(l)&&!r.Util.isTermProtected(o,l)){const f=o[l];f&&typeof f=="object"?"@protected"in o[l]||(o[l]=Object.assign(Object.assign({},o[l]),{"@protected":!0})):(o[l]={"@id":f,"@protected":!0},r.Util.isSimpleTermDefinitionPrefix(f,s)&&(o[l]=Object.assign(Object.assign({},o[l]),{"@prefix":!0})))}delete o["@protected"]}}validateKeywordRedefinitions(o,c,s,l){for(const f of l??Object.keys(c))if(r.Util.isTermProtected(o,f)&&(typeof c[f]=="string"?c[f]={"@id":c[f],"@protected":!0}:c[f]=Object.assign(Object.assign({},c[f]),{"@protected":!0}),!r.Util.deepEqual(o[f],c[f])))throw new t.ErrorCoded(`Attempted to override the protected keyword ${f} from ${JSON.stringify(r.Util.getContextValueId(o[f]))} to ${JSON.stringify(r.Util.getContextValueId(c[f]))}`,t.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(o,{processingMode:c}){for(const s of Object.keys(o)){if(r.Util.isReservedInternalKeyword(s))continue;if(s==="")throw new t.ErrorCoded(`The empty term is not allowed, got: '${s}': '${JSON.stringify(o[s])}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);const l=o[s],f=typeof l;if(r.Util.isPotentialKeyword(s)){switch(s.substr(1)){case"vocab":if(l!==null&&f!=="string")throw new t.ErrorCoded(`Found an invalid @vocab IRI: ${l}`,t.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(l!==null&&f!=="string")throw new t.ErrorCoded(`Found an invalid @base IRI: ${o[s]}`,t.ERROR_CODES.INVALID_BASE_IRI);break;case"language":l!==null&&e.validateLanguage(l,!0,t.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(l!==null&&f!=="number")throw new t.ErrorCoded(`Found an invalid @version number: ${l}`,t.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":l!==null&&e.validateDirection(l,!0);break;case"propagate":if(c===1)throw new t.ErrorCoded(`Found an illegal @propagate keyword: ${l}`,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(l!==null&&f!=="boolean")throw new t.ErrorCoded(`Found an invalid @propagate value: ${l}`,t.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(r.Util.isValidKeyword(s)&&r.Util.isValidKeyword(r.Util.getContextValueId(l)))throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${s}': '${r.Util.getContextValueId(l)}'`,t.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(l!==null)switch(f){case"string":if(r.Util.getPrefix(l,o)===s)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);if(r.Util.isValidIriWeak(s)){if(l==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${s}': '${l}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(l)&&l!==new n.JsonLdContextNormalized(o).expandTerm(s))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${s}': '${l}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!r.Util.isCompactIri(s)&&!("@id"in l)&&(l["@type"]==="@id"?!o["@base"]:!o["@vocab"]))throw new t.ErrorCoded(`Missing @id in context entry: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);for(const d of Object.keys(l)){const h=l[d];if(h)switch(d){case"@id":if(r.Util.isValidKeyword(h)&&h!=="@type"&&h!=="@id"&&h!=="@graph"&&h!=="@nest")throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIriWeak(s)){if(h==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(h)&&h!==new n.JsonLdContextNormalized(o).expandTerm(s))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof h!="string")throw new t.ErrorCoded(`Detected non-string @id in context entry: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.getPrefix(h,o)===s)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(l["@container"]==="@type"&&h!=="@id"&&h!=="@vocab")throw new t.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${s}': '${h}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof h!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(h!=="@id"&&h!=="@vocab"&&(c===1||h!=="@json")&&(c===1||h!=="@none")&&(h[0]==="_"||!r.Util.isValidIri(h)))throw new t.ErrorCoded(`A context @type must be an absolute IRI, found: '${s}': '${h}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof h=="string"&&l["@id"]&&l["@id"]!==h)throw new t.ErrorCoded(`Found non-matching @id and @reverse term values in '${s}':'${h}' and '${l["@id"]}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in l)throw new t.ErrorCoded(`@nest is not allowed in the reverse property '${s}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(c===1&&(Object.keys(h).length>1||r.Util.CONTAINERS_1_0.indexOf(Object.keys(h)[0])<0))throw new t.ErrorCoded(`Invalid term @container for '${s}' ('${Object.keys(h)}') in 1.0, must be only one of ${r.Util.CONTAINERS_1_0.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const p of Object.keys(h)){if(p==="@list"&&l["@reverse"])throw new t.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${s}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(r.Util.CONTAINERS.indexOf(p)<0)throw new t.ErrorCoded(`Invalid term @container for '${s}' ('${p}'), must be one of ${r.Util.CONTAINERS.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":e.validateLanguage(h,!0,t.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":e.validateDirection(h,!0);break;case"@prefix":if(h!==null&&typeof h!="boolean")throw new t.ErrorCoded(`Found an invalid term @prefix boolean in: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in l)&&!r.Util.isValidIri(s))throw new t.ErrorCoded(`Invalid @prefix definition for '${s}' ('${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(c===1||!l["@container"]||!l["@container"]["@index"])throw new t.ErrorCoded(`Attempt to add illegal key to value object: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(r.Util.isPotentialKeyword(h)&&h!=="@nest")throw new t.ErrorCoded(`Found an invalid term @nest value in: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new t.ErrorCoded(`Found an invalid term value: '${s}': '${l}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(o,c,s){return typeof o=="string"||(s&&!("@base"in o)&&c.parentContext&&typeof c.parentContext=="object"&&"@base"in c.parentContext&&(o["@base"]=c.parentContext["@base"],c.parentContext["@__baseDocument"]&&(o["@__baseDocument"]=!0)),c.baseIRI&&!c.external&&("@base"in o?o["@base"]!==null&&typeof o["@base"]=="string"&&!r.Util.isValidIri(o["@base"])&&(o["@base"]=(0,a.resolve)(o["@base"],c.parentContext&&c.parentContext["@base"]||c.baseIRI)):(o["@base"]=c.baseIRI,o["@__baseDocument"]=!0))),o}normalizeContextIri(o,c){if(!r.Util.isValidIri(o))try{o=(0,a.resolve)(o,c)}catch{throw new Error(`Invalid context IRI: ${o}`)}return this.redirectSchemaOrgHttps&&o.startsWith("http://schema.org")&&(o="https://schema.org/"),o}async parseInnerContexts(o,c,s){for(const l of s??Object.keys(o)){const f=o[l];if(f&&typeof f=="object"&&"@context"in f&&f["@context"]!==null&&!c.ignoreScopedContexts){if(this.validateContext)try{const d=Object.assign(Object.assign({},o),{[l]:Object.assign({},o[l])});delete d[l]["@context"],await this.parse(f["@context"],Object.assign(Object.assign({},c),{external:!1,parentContext:d,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(d){throw new t.ErrorCoded(d.message,t.ERROR_CODES.INVALID_SCOPED_CONTEXT)}o[l]=Object.assign(Object.assign({},f),{"@context":(await this.parse(f["@context"],Object.assign(Object.assign({},c),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:o}))).getContextRaw()})}}return o}async parse(o,c={},s={}){const{baseIRI:l,parentContext:f,external:d,processingMode:h=e.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:p,ignoreProtection:b,minimalProcessing:m}=c,y=c.remoteContexts||{};if(Object.keys(y).length>=this.remoteContextsDepthLimit)throw new t.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(y),t.ERROR_CODES.CONTEXT_OVERFLOW);if(o==null){if(!b&&f&&r.Util.hasProtectedTerms(f))throw new t.ErrorCoded("Illegal context nullification when terms are protected",t.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new n.JsonLdContextNormalized(this.applyBaseEntry({},c,!1))}else if(typeof o=="string"){const g=this.normalizeContextIri(o,l),_=this.getOverriddenLoad(g,c);if(_)return new n.JsonLdContextNormalized(_);const v=await this.parse(await this.load(g),Object.assign(Object.assign({},c),{baseIRI:g,external:!0,remoteContexts:Object.assign(Object.assign({},y),{[g]:!0})}));return this.applyBaseEntry(v.getContextRaw(),c,!0),v}else if(Array.isArray(o)){const g=[],_=await Promise.all(o.map((T,w)=>{if(typeof T=="string"){const A=this.normalizeContextIri(T,l);g[w]=A;const M=this.getOverriddenLoad(A,c);return M||this.load(A)}else return T}));if(m)return new n.JsonLdContextNormalized(_);const v=await _.reduce((T,w,A)=>T.then(M=>this.parse(w,Object.assign(Object.assign({},c),{baseIRI:g[A]||c.baseIRI,external:!!g[A]||c.external,parentContext:M.getContextRaw(),remoteContexts:g[A]?Object.assign(Object.assign({},y),{[g[A]]:!0}):y}),{skipValidation:A<_.length-1})),Promise.resolve(new n.JsonLdContextNormalized(f||{})));return this.applyBaseEntry(v.getContextRaw(),c,!0),v}else if(typeof o=="object"){if("@context"in o)return await this.parse(o["@context"],c);if(o=Object.assign({},o),d&&delete o["@base"],this.applyBaseEntry(o,c,!0),this.containersToHash(o),m)return new n.JsonLdContextNormalized(o);let g={};if("@import"in o)if(h>=1.1){if(typeof o["@import"]!="string")throw new t.ErrorCoded("An @import value must be a string, but got "+typeof o["@import"],t.ERROR_CODES.INVALID_IMPORT_VALUE);g=await this.loadImportContext(this.normalizeContextIri(o["@import"],l)),delete o["@import"]}else throw new t.ErrorCoded("Context importing is not supported in JSON-LD 1.0",t.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(g,{processingMode:h},n.defaultExpandOptions);const _=Object.assign(g,o);this.idifyReverseTerms(_),this.normalize(_,{processingMode:h,normalizeLanguageTags:p}),this.applyScopedProtected(_,{processingMode:h},n.defaultExpandOptions);const v=Object.keys(_),T=[];if(typeof f=="object")for(const A in f)A in _?T.push(A):_[A]=f[A];await this.parseInnerContexts(_,c,v);const w=new n.JsonLdContextNormalized(_);return(_&&_["@version"]||e.DEFAULT_PROCESSING_MODE)>=1.1&&(o["@vocab"]&&typeof o["@vocab"]=="string"||o["@vocab"]==="")&&(f&&"@vocab"in f&&o["@vocab"].indexOf(":")<0?_["@vocab"]=f["@vocab"]+o["@vocab"]:(r.Util.isCompactIri(o["@vocab"])||o["@vocab"]in _)&&(_["@vocab"]=w.expandTerm(o["@vocab"],!0))),this.expandPrefixedTerms(w,this.expandContentTypeToBase,v),!b&&f&&h>=1.1&&this.validateKeywordRedefinitions(f,_,n.defaultExpandOptions,T),this.validateContext&&!s.skipValidation&&this.validate(_,{processingMode:h}),w}else throw new t.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${o}`,t.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(o){const c=this.documentCache[o];if(c)return c;let s;try{s=await this.documentLoader.load(o)}catch(l){throw new t.ErrorCoded(`Failed to load remote context ${o}: ${l.message}`,t.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in s))throw new t.ErrorCoded(`Missing @context in remote context at ${o}`,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[o]=s["@context"]}getOverriddenLoad(o,c){if(o in(c.remoteContexts||{})){if(c.ignoreRemoteScopedContexts)return o;throw new t.ErrorCoded("Detected a cyclic context inclusion of "+o,t.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(o){let c=await this.load(o);if(typeof c!="object"||Array.isArray(c))throw new t.ErrorCoded("An imported context must be a single object: "+o,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in c)throw new t.ErrorCoded("An imported context can not import another context: "+o,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);return c=Object.assign({},c),this.containersToHash(c),c}}return e.DEFAULT_PROCESSING_MODE=1.1,u1.ContextParser=e,u1}var jI={},nM;function Wse(){return nM||(nM=1,Object.defineProperty(jI,"__esModule",{value:!0})),jI}var MI={},iM;function Yse(){return iM||(iM=1,Object.defineProperty(MI,"__esModule",{value:!0})),MI}var aM;function Zse(){return aM||(aM=1,function(a){var t=Uu&&Uu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Uu&&Uu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Kse(),a),u(LO(),a),u(Y5(),a),u(Wse(),a),u(Yse(),a),u(tM(),a),u(LI(),a)}(Uu)),Uu}var uM;function oM(){if(uM)return Yy;uM=1,Object.defineProperty(Yy,"__esModule",{value:!0}),Yy.Util=void 0;const a=Bse(),t=Zse(),u=bt();class n{constructor(e){this.nodeHandlers={},this.nodeValueHandlers={},this.directiveNodeHandlers={},this.settings=e,this.dataFactory=e.dataFactory||new a.DataFactory,this.operationFactory=new u.Factory(this.dataFactory),this.contextParser=new t.ContextParser}registerNodeHandler(e){this.nodeHandlers[e.targetKind]=e}registerNodeValueHandler(e){this.nodeValueHandlers[e.targetKind]=e}registerDirectiveNodeHandler(e){this.directiveNodeHandlers[e.targetKind]=e}handleNode(e,i){const o=this.nodeHandlers[e.kind];if(!o)throw new Error(`Unsupported GraphQL node '${e.kind}'`);return o.handle(e,i)}handleNodeValue(e,i,o){const c=this.nodeValueHandlers[e.kind];if(!c)throw new Error(`Unsupported GraphQL value node '${e.kind}'`);return c.handle(e,i,o)}handleDirectiveNode(e,i){const o=this.directiveNodeHandlers[e.directive.name.value];return o?o.handle(e,i):null}joinOperations(e){if(e.length===1)return e[0];const i=[],o=[];for(const c of e)c.type==="bgp"?i.push(c):o.push(c);if(i.length===e.length)return this.joinOperationsAsBgp(i);if(i.length===e.length-1&&o[0].type==="leftjoin"&&o[0].input[0].type==="bgp"){const c=o[0];return i.push(c.input[0]),this.operationFactory.createLeftJoin(this.joinOperationsAsBgp(i),c.input[1])}else return o.length===e.length?this.joinOperationsAsNestedJoin(o):this.joinOperationsAsNestedJoin([this.joinOperationsAsBgp(i),this.joinOperationsAsNestedJoin(o)])}joinOperationsAsBgp(e){return this.operationFactory.createBgp([].concat.apply([],e.map(i=>i.patterns)))}joinOperationsAsNestedJoin(e){return this.operationFactory.createJoin(e)}appendFieldToPath(e,i){return e.concat([i])}getFieldLabel(e){return(e.alias?e.alias:e.name).value}nameToVariable(e,i){return this.dataFactory.variable((i.path.length?i.path.join(this.settings.variableDelimiter)+this.settings.variableDelimiter:"")+e)}valueToNamedNode(e,i){const o=i.expandTerm(e,!0);if(this.settings.requireContext&&!o)throw new Error("No context entry was found for "+e);return this.dataFactory.namedNode(o||e)}getArgument(e,i){if(e){for(const o of e)if(o.name.value===i)return o}}newTypePattern(e,i,o){return this.operationFactory.createPattern(e,this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.valueToNamedNode(i.name.value,o.context),o.graph)}createQuadPattern(e,i,o,c,s){const l=this.valueToNamedNode(i.value,s);return s&&s.getContextRaw()[i.value]&&s.getContextRaw()[i.value]["@reverse"]?this.operationFactory.createPattern(o,l,e,c):this.operationFactory.createPattern(e,l,o,c)}createQuadPath(e,i,o,c,s,l){const f=this.valueToNamedNode(i.value,l);let d=this.operationFactory.createLink(f);for(const h of o.values){if(h.kind!=="EnumValue")throw new Error("Invalid value type for 'alt' argument, must be EnumValue, but got "+h.kind);d=this.operationFactory.createAlt([d,this.operationFactory.createLink(this.valueToNamedNode(h.value,l))])}return l&&l.getContextRaw()[i.value]&&l.getContextRaw()[i.value]["@reverse"]?this.operationFactory.createPath(c,d,e,s):this.operationFactory.createPath(e,d,c,s)}}return Yy.Util=n,Yy}var sM;function ece(){if(sM)return Bu;sM=1;var a=Bu&&Bu.__awaiter||function(o,c,s,l){function f(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function p(y){try{m(l.next(y))}catch(g){h(g)}}function b(y){try{m(l.throw(y))}catch(g){h(g)}}function m(y){y.done?d(y.value):f(y.value).then(p,b)}m((l=l.apply(o,c||[])).next())})};Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.Converter=void 0;const t=qse,u=c5(),n=Vj(),r=xy(),e=oM();class i{constructor(c){c=c||{},c.variableDelimiter=c.variableDelimiter||"_",c.expressionVariableCounter=c.expressionVariableCounter||0,this.util=new e.Util(c),this.initializeNodeHandlers(c)}static registerNodeHandlers(c,s){c.registerNodeHandler(new u.NodeHandlerDocument(c,s)),c.registerNodeHandler(new u.NodeHandlerDefinitionOperation(c,s)),c.registerNodeHandler(new u.NodeHandlerDefinitionFragment(c,s)),c.registerNodeHandler(new u.NodeHandlerSelectionFragmentSpread(c,s)),c.registerNodeHandler(new u.NodeHandlerSelectionInlineFragment(c,s)),c.registerNodeHandler(new u.NodeHandlerSelectionField(c,s))}static registerNodeValueHandlers(c,s){c.registerNodeValueHandler(new u.NodeValueHandlerVariable(c,s)),c.registerNodeValueHandler(new u.NodeValueHandlerInt(c,s)),c.registerNodeValueHandler(new u.NodeValueHandlerFloat(c,s)),c.registerNodeValueHandler(new u.NodeValueHandlerString(c,s)),c.registerNodeValueHandler(new u.NodeValueHandlerBoolean(c,s)),c.registerNodeValueHandler(new u.NodeValueHandlerNull(c,s)),c.registerNodeValueHandler(new u.NodeValueHandlerEnum(c,s)),c.registerNodeValueHandler(new u.NodeValueHandlerList(c,s)),c.registerNodeValueHandler(new u.NodeValueHandlerObject(c,s))}static registerDirectiveNodeHandlers(c,s){c.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerInclude(c,s)),c.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerOptional(c,s)),c.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerPlural(c,s)),c.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerSingle(c,s)),c.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerSkip(c,s))}graphqlToSparqlAlgebra(c,s,l){return a(this,void 0,void 0,function*(){return this.graphqlToSparqlAlgebraRawContext(c,yield this.util.contextParser.parse(s),l)})}graphqlToSparqlAlgebraRawContext(c,s,l){l=l||{};const f=typeof c=="string"?(0,t.parse)(c):c,d=this.indexFragments(f),h={context:s,fragmentDefinitions:d,graph:this.util.dataFactory.defaultGraph(),path:[],singularizeState:r.SingularizeState.PLURAL,singularizeVariables:l.singularizeVariables||{},subject:null,terminalVariables:[],variablesDict:l.variablesDict||{},variablesMetaDict:{}};return this.util.handleNode(f,h)}indexFragments(c){const s={},l=[];for(const f of c.definitions)f.kind==="FragmentDefinition"?s[f.name.value]=f:l.push(f);return c.definitions=l,s}initializeNodeHandlers(c){i.registerNodeHandlers(this.util,c),i.registerNodeValueHandlers(this.util,c),i.registerDirectiveNodeHandlers(this.util,c)}}return Bu.Converter=i,Bu}var qI={},cM;function tce(){return cM||(cM=1,Object.defineProperty(qI,"__esModule",{value:!0})),qI}var lM;function rce(){return lM||(lM=1,function(a){var t=ju&&ju.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ju&&ju.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(c5(),a),u(ece(),a),u(xy(),a),u(tce(),a),u(oM(),a)}(ju)),ju}var dM;function nce(){if(dM)return wy;dM=1,Object.defineProperty(wy,"__esModule",{value:!0}),wy.ActorQueryParseGraphql=void 0;const a=Nj(),t=ke(),u=Te(),n=rce();let r=class extends a.ActorQueryParse{constructor(i){super(i),this.graphqlToSparql=new n.Converter({requireContext:!0})}async test(i){var o;return((o=i.queryFormat)==null?void 0:o.language)!=="graphql"?(0,u.failTest)("This actor can only parse GraphQL queries"):(0,u.passTestVoid)()}async run(i){const o=i.context.get(t.KeysInitQuery.jsonLdContext)||{},c={singularizeVariables:i.context.get(t.KeysInitQuery.graphqlSingularizeVariables)};return{operation:await this.graphqlToSparql.graphqlToSparqlAlgebra(i.query,o,c)}}};return wy.ActorQueryParseGraphql=r,wy}var fM;function ice(){return fM||(fM=1,function(a){var t=Lu&&Lu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Lu&&Lu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(nce(),a)}(Lu)),Lu}var Hu={},l1={},Gu={},d1={},ku={},f1={},hM;function pM(){if(hM)return f1;hM=1,Object.defineProperty(f1,"__esModule",{value:!0}),f1.ActorAbstractMediaTyped=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}async run(n){if("handle"in n){const r=n;return{handle:await this.runHandle(r.handle,r.handleMediaType,n.context)}}if("mediaTypes"in n)return{mediaTypes:await this.getMediaTypes(n.context)};if("mediaTypeFormats"in n)return{mediaTypeFormats:await this.getMediaTypeFormats(n.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(n){if("handle"in n){const r=n;return(await this.testHandle(r.handle,r.handleMediaType,n.context)).map(e=>({handle:e}))}return"mediaTypes"in n?(await this.testMediaType(n.context)).map(r=>({mediaTypes:r})):"mediaTypeFormats"in n?(await this.testMediaTypeFormats(n.context)).map(r=>({mediaTypeFormats:r})):(0,a.failTest)("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}};return f1.ActorAbstractMediaTyped=t,f1}var h1={},yM;function ace(){if(yM)return h1;yM=1,Object.defineProperty(h1,"__esModule",{value:!0}),h1.ActorAbstractMediaTypedFixed=void 0;const a=Te(),t=pM();let u=class extends t.ActorAbstractMediaTyped{constructor(r){super(r);const e=this.priorityScale||this.priorityScale===0?this.priorityScale:1;if(this.mediaTypePriorities)for(const[i,[o,c]]of Object.entries(this.mediaTypePriorities).entries())this.mediaTypePriorities[o]=e*c;this.mediaTypePriorities=Object.freeze(this.mediaTypePriorities),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(r,e,i){return!e||!(e in this.mediaTypePriorities)?(0,a.failTest)(`Unrecognized media type: ${e}`):await this.testHandleChecked(r,i)}async testMediaType(r){return(0,a.passTestVoid)()}async getMediaTypes(r){return this.mediaTypePriorities}async testMediaTypeFormats(r){return(0,a.passTestVoid)()}async getMediaTypeFormats(r){return this.mediaTypeFormats}};return h1.ActorAbstractMediaTypedFixed=u,h1}var bM;function oh(){return bM||(bM=1,function(a){var t=ku&&ku.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ku&&ku.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(pM(),a),u(ace(),a)}(ku)),ku}var _M;function uce(){if(_M)return d1;_M=1,Object.defineProperty(d1,"__esModule",{value:!0}),d1.ActorQueryResultSerialize=void 0;const a=oh();let t=class extends a.ActorAbstractMediaTyped{constructor(n){super(n)}};return d1.ActorQueryResultSerialize=t,d1}var p1={},mM;function oce(){if(mM)return p1;mM=1,Object.defineProperty(p1,"__esModule",{value:!0}),p1.ActorQueryResultSerializeFixedMediaTypes=void 0;const a=oh(),t=Te();let u=class extends a.ActorAbstractMediaTypedFixed{constructor(r){super(r)}async testHandleChecked(r,e){return(0,t.passTestVoid)()}};return p1.ActorQueryResultSerializeFixedMediaTypes=u,p1}var gM;function hi(){return gM||(gM=1,function(a){var t=Gu&&Gu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Gu&&Gu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(uce(),a),u(oce(),a)}(Gu)),Gu}var CI={exports:{}},BI={exports:{}},$I={},vM;function Ei(){return vM||(vM=1,function(a){Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var t={},u={};u.byteLength=l,u.toByteArray=d,u.fromByteArray=b;for(var n=[],r=[],e=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,c=i.length;o<c;++o)n[o]=i[o],r[i.charCodeAt(o)]=o;r[45]=62,r[95]=63;function s(g){var _=g.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=g.indexOf("=");v===-1&&(v=_);var T=v===_?0:4-v%4;return[v,T]}function l(g){var _=s(g),v=_[0],T=_[1];return(v+T)*3/4-T}function f(g,_,v){return(_+v)*3/4-v}function d(g){var _,v=s(g),T=v[0],w=v[1],A=new e(f(g,T,w)),M=0,F=w>0?T-4:T,O;for(O=0;O<F;O+=4)_=r[g.charCodeAt(O)]<<18|r[g.charCodeAt(O+1)]<<12|r[g.charCodeAt(O+2)]<<6|r[g.charCodeAt(O+3)],A[M++]=_>>16&255,A[M++]=_>>8&255,A[M++]=_&255;return w===2&&(_=r[g.charCodeAt(O)]<<2|r[g.charCodeAt(O+1)]>>4,A[M++]=_&255),w===1&&(_=r[g.charCodeAt(O)]<<10|r[g.charCodeAt(O+1)]<<4|r[g.charCodeAt(O+2)]>>2,A[M++]=_>>8&255,A[M++]=_&255),A}function h(g){return n[g>>18&63]+n[g>>12&63]+n[g>>6&63]+n[g&63]}function p(g,_,v){for(var T,w=[],A=_;A<v;A+=3)T=(g[A]<<16&16711680)+(g[A+1]<<8&65280)+(g[A+2]&255),w.push(h(T));return w.join("")}function b(g){for(var _,v=g.length,T=v%3,w=[],A=16383,M=0,F=v-T;M<F;M+=A)w.push(p(g,M,M+A>F?F:M+A));return T===1?(_=g[v-1],w.push(n[_>>2]+n[_<<4&63]+"==")):T===2&&(_=(g[v-2]<<8)+g[v-1],w.push(n[_>>10]+n[_>>4&63]+n[_<<2&63]+"=")),w.join("")}var m={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */m.read=function(g,_,v,T,w){var A,M,F=w*8-T-1,O=(1<<F)-1,E=O>>1,x=-7,L=v?w-1:0,V=v?-1:1,$=g[_+L];for(L+=V,A=$&(1<<-x)-1,$>>=-x,x+=F;x>0;A=A*256+g[_+L],L+=V,x-=8);for(M=A&(1<<-x)-1,A>>=-x,x+=T;x>0;M=M*256+g[_+L],L+=V,x-=8);if(A===0)A=1-E;else{if(A===O)return M?NaN:($?-1:1)*(1/0);M=M+Math.pow(2,T),A=A-E}return($?-1:1)*M*Math.pow(2,A-T)},m.write=function(g,_,v,T,w,A){var M,F,O,E=A*8-w-1,x=(1<<E)-1,L=x>>1,V=w===23?Math.pow(2,-24)-Math.pow(2,-77):0,$=T?0:A-1,Q=T?1:-1,ie=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(F=isNaN(_)?1:0,M=x):(M=Math.floor(Math.log(_)/Math.LN2),_*(O=Math.pow(2,-M))<1&&(M--,O*=2),M+L>=1?_+=V/O:_+=V*Math.pow(2,1-L),_*O>=2&&(M++,O/=2),M+L>=x?(F=0,M=x):M+L>=1?(F=(_*O-1)*Math.pow(2,w),M=M+L):(F=_*Math.pow(2,L-1)*Math.pow(2,w),M=0));w>=8;g[v+$]=F&255,$+=Q,F/=256,w-=8);for(M=M<<w|F,E+=w;E>0;g[v+$]=M&255,$+=Q,M/=256,E-=8);g[v+$-Q]|=ie*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(g){const _=u,v=m,T=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;g.Buffer=x,g.SlowBuffer=ve,g.INSPECT_MAX_BYTES=50;const w=2147483647;g.kMaxLength=w;const{Uint8Array:A,ArrayBuffer:M,SharedArrayBuffer:F}=globalThis;x.TYPED_ARRAY_SUPPORT=O(),!x.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function O(){try{const j=new A(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,A.prototype),Object.setPrototypeOf(j,D),j.foo()===42}catch{return!1}}Object.defineProperty(x.prototype,"parent",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.buffer}}),Object.defineProperty(x.prototype,"offset",{enumerable:!0,get:function(){if(x.isBuffer(this))return this.byteOffset}});function E(j){if(j>w)throw new RangeError('The value "'+j+'" is invalid for option "size"');const D=new A(j);return Object.setPrototypeOf(D,x.prototype),D}function x(j,D,q){if(typeof j=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Q(j)}return L(j,D,q)}x.poolSize=8192;function L(j,D,q){if(typeof j=="string")return ie(j,D);if(M.isView(j))return pe(j);if(j==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j);if(tt(j,M)||j&&tt(j.buffer,M)||typeof F<"u"&&(tt(j,F)||j&&tt(j.buffer,F)))return X(j,D,q);if(typeof j=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const W=j.valueOf&&j.valueOf();if(W!=null&&W!==j)return x.from(W,D,q);const be=me(j);if(be)return be;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof j[Symbol.toPrimitive]=="function")return x.from(j[Symbol.toPrimitive]("string"),D,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j)}x.from=function(j,D,q){return L(j,D,q)},Object.setPrototypeOf(x.prototype,A.prototype),Object.setPrototypeOf(x,A);function V(j){if(typeof j!="number")throw new TypeError('"size" argument must be of type number');if(j<0)throw new RangeError('The value "'+j+'" is invalid for option "size"')}function $(j,D,q){return V(j),j<=0?E(j):D!==void 0?typeof q=="string"?E(j).fill(D,q):E(j).fill(D):E(j)}x.alloc=function(j,D,q){return $(j,D,q)};function Q(j){return V(j),E(j<0?0:Fe(j)|0)}x.allocUnsafe=function(j){return Q(j)},x.allocUnsafeSlow=function(j){return Q(j)};function ie(j,D){if((typeof D!="string"||D==="")&&(D="utf8"),!x.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const q=re(j,D)|0;let W=E(q);const be=W.write(j,D);return be!==q&&(W=W.slice(0,be)),W}function ue(j){const D=j.length<0?0:Fe(j.length)|0,q=E(D);for(let W=0;W<D;W+=1)q[W]=j[W]&255;return q}function pe(j){if(tt(j,A)){const D=new A(j);return X(D.buffer,D.byteOffset,D.byteLength)}return ue(j)}function X(j,D,q){if(D<0||j.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(j.byteLength<D+(q||0))throw new RangeError('"length" is outside of buffer bounds');let W;return D===void 0&&q===void 0?W=new A(j):q===void 0?W=new A(j,D):W=new A(j,D,q),Object.setPrototypeOf(W,x.prototype),W}function me(j){if(x.isBuffer(j)){const D=Fe(j.length)|0,q=E(D);return q.length===0||j.copy(q,0,0,D),q}if(j.length!==void 0)return typeof j.length!="number"||ut(j.length)?E(0):ue(j);if(j.type==="Buffer"&&Array.isArray(j.data))return ue(j.data)}function Fe(j){if(j>=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return j|0}function ve(j){return+j!=j&&(j=0),x.alloc(+j)}x.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==x.prototype},x.compare=function(D,q){if(tt(D,A)&&(D=x.from(D,D.offset,D.byteLength)),tt(q,A)&&(q=x.from(q,q.offset,q.byteLength)),!x.isBuffer(D)||!x.isBuffer(q))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===q)return 0;let W=D.length,be=q.length;for(let he=0,Pe=Math.min(W,be);he<Pe;++he)if(D[he]!==q[he]){W=D[he],be=q[he];break}return W<be?-1:be<W?1:0},x.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},x.concat=function(D,q){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return x.alloc(0);let W;if(q===void 0)for(q=0,W=0;W<D.length;++W)q+=D[W].length;const be=x.allocUnsafe(q);let he=0;for(W=0;W<D.length;++W){let Pe=D[W];if(tt(Pe,A))he+Pe.length>be.length?(x.isBuffer(Pe)||(Pe=x.from(Pe)),Pe.copy(be,he)):A.prototype.set.call(be,Pe,he);else if(x.isBuffer(Pe))Pe.copy(be,he);else throw new TypeError('"list" argument must be an Array of Buffers');he+=Pe.length}return be};function re(j,D){if(x.isBuffer(j))return j.length;if(M.isView(j)||tt(j,M))return j.byteLength;if(typeof j!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof j);const q=j.length,W=arguments.length>2&&arguments[2]===!0;if(!W&&q===0)return 0;let be=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return Y(j).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q*2;case"hex":return q>>>1;case"base64":return Ce(j).length;default:if(be)return W?-1:Y(j).length;D=(""+D).toLowerCase(),be=!0}}x.byteLength=re;function je(j,D,q){let W=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((q===void 0||q>this.length)&&(q=this.length),q<=0)||(q>>>=0,D>>>=0,q<=D))return"";for(j||(j="utf8");;)switch(j){case"hex":return Z(this,D,q);case"utf8":case"utf-8":return B(this,D,q);case"ascii":return K(this,D,q);case"latin1":case"binary":return k(this,D,q);case"base64":return I(this,D,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,D,q);default:if(W)throw new TypeError("Unknown encoding: "+j);j=(j+"").toLowerCase(),W=!0}}x.prototype._isBuffer=!0;function qe(j,D,q){const W=j[D];j[D]=j[q],j[q]=W}x.prototype.swap16=function(){const D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let q=0;q<D;q+=2)qe(this,q,q+1);return this},x.prototype.swap32=function(){const D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let q=0;q<D;q+=4)qe(this,q,q+3),qe(this,q+1,q+2);return this},x.prototype.swap64=function(){const D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let q=0;q<D;q+=8)qe(this,q,q+7),qe(this,q+1,q+6),qe(this,q+2,q+5),qe(this,q+3,q+4);return this},x.prototype.toString=function(){const D=this.length;return D===0?"":arguments.length===0?B(this,0,D):je.apply(this,arguments)},x.prototype.toLocaleString=x.prototype.toString,x.prototype.equals=function(D){if(!x.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:x.compare(this,D)===0},x.prototype.inspect=function(){let D="";const q=g.INSPECT_MAX_BYTES;return D=this.toString("hex",0,q).replace(/(.{2})/g,"$1 ").trim(),this.length>q&&(D+=" ... "),"<Buffer "+D+">"},T&&(x.prototype[T]=x.prototype.inspect),x.prototype.compare=function(D,q,W,be,he){if(tt(D,A)&&(D=x.from(D,D.offset,D.byteLength)),!x.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(q===void 0&&(q=0),W===void 0&&(W=D?D.length:0),be===void 0&&(be=0),he===void 0&&(he=this.length),q<0||W>D.length||be<0||he>this.length)throw new RangeError("out of range index");if(be>=he&&q>=W)return 0;if(be>=he)return-1;if(q>=W)return 1;if(q>>>=0,W>>>=0,be>>>=0,he>>>=0,this===D)return 0;let Pe=he-be,Be=W-q;const ze=Math.min(Pe,Be),Ke=this.slice(be,he),ct=D.slice(q,W);for(let Ze=0;Ze<ze;++Ze)if(Ke[Ze]!==ct[Ze]){Pe=Ke[Ze],Be=ct[Ze];break}return Pe<Be?-1:Be<Pe?1:0};function $e(j,D,q,W,be){if(j.length===0)return-1;if(typeof q=="string"?(W=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,ut(q)&&(q=be?0:j.length-1),q<0&&(q=j.length+q),q>=j.length){if(be)return-1;q=j.length-1}else if(q<0)if(be)q=0;else return-1;if(typeof D=="string"&&(D=x.from(D,W)),x.isBuffer(D))return D.length===0?-1:ge(j,D,q,W,be);if(typeof D=="number")return D=D&255,typeof A.prototype.indexOf=="function"?be?A.prototype.indexOf.call(j,D,q):A.prototype.lastIndexOf.call(j,D,q):ge(j,[D],q,W,be);throw new TypeError("val must be string, number or Buffer")}function ge(j,D,q,W,be){let he=1,Pe=j.length,Be=D.length;if(W!==void 0&&(W=String(W).toLowerCase(),W==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(j.length<2||D.length<2)return-1;he=2,Pe/=2,Be/=2,q/=2}function ze(ct,Ze){return he===1?ct[Ze]:ct.readUInt16BE(Ze*he)}let Ke;if(be){let ct=-1;for(Ke=q;Ke<Pe;Ke++)if(ze(j,Ke)===ze(D,ct===-1?0:Ke-ct)){if(ct===-1&&(ct=Ke),Ke-ct+1===Be)return ct*he}else ct!==-1&&(Ke-=Ke-ct),ct=-1}else for(q+Be>Pe&&(q=Pe-Be),Ke=q;Ke>=0;Ke--){let ct=!0;for(let Ze=0;Ze<Be;Ze++)if(ze(j,Ke+Ze)!==ze(D,Ze)){ct=!1;break}if(ct)return Ke}return-1}x.prototype.includes=function(D,q,W){return this.indexOf(D,q,W)!==-1},x.prototype.indexOf=function(D,q,W){return $e(this,D,q,W,!0)},x.prototype.lastIndexOf=function(D,q,W){return $e(this,D,q,W,!1)};function we(j,D,q,W){q=Number(q)||0;const be=j.length-q;W?(W=Number(W),W>be&&(W=be)):W=be;const he=D.length;W>he/2&&(W=he/2);let Pe;for(Pe=0;Pe<W;++Pe){const Be=parseInt(D.substr(Pe*2,2),16);if(ut(Be))return Pe;j[q+Pe]=Be}return Pe}function G(j,D,q,W){return Ue(Y(D,j.length-q),j,q,W)}function N(j,D,q,W){return Ue(Ee(D),j,q,W)}function P(j,D,q,W){return Ue(Ce(D),j,q,W)}function S(j,D,q,W){return Ue(Ne(D,j.length-q),j,q,W)}x.prototype.write=function(D,q,W,be){if(q===void 0)be="utf8",W=this.length,q=0;else if(W===void 0&&typeof q=="string")be=q,W=this.length,q=0;else if(isFinite(q))q=q>>>0,isFinite(W)?(W=W>>>0,be===void 0&&(be="utf8")):(be=W,W=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const he=this.length-q;if((W===void 0||W>he)&&(W=he),D.length>0&&(W<0||q<0)||q>this.length)throw new RangeError("Attempt to write outside buffer bounds");be||(be="utf8");let Pe=!1;for(;;)switch(be){case"hex":return we(this,D,q,W);case"utf8":case"utf-8":return G(this,D,q,W);case"ascii":case"latin1":case"binary":return N(this,D,q,W);case"base64":return P(this,D,q,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,D,q,W);default:if(Pe)throw new TypeError("Unknown encoding: "+be);be=(""+be).toLowerCase(),Pe=!0}},x.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(j,D,q){return D===0&&q===j.length?_.fromByteArray(j):_.fromByteArray(j.slice(D,q))}function B(j,D,q){q=Math.min(j.length,q);const W=[];let be=D;for(;be<q;){const he=j[be];let Pe=null,Be=he>239?4:he>223?3:he>191?2:1;if(be+Be<=q){let ze,Ke,ct,Ze;switch(Be){case 1:he<128&&(Pe=he);break;case 2:ze=j[be+1],(ze&192)===128&&(Ze=(he&31)<<6|ze&63,Ze>127&&(Pe=Ze));break;case 3:ze=j[be+1],Ke=j[be+2],(ze&192)===128&&(Ke&192)===128&&(Ze=(he&15)<<12|(ze&63)<<6|Ke&63,Ze>2047&&(Ze<55296||Ze>57343)&&(Pe=Ze));break;case 4:ze=j[be+1],Ke=j[be+2],ct=j[be+3],(ze&192)===128&&(Ke&192)===128&&(ct&192)===128&&(Ze=(he&15)<<18|(ze&63)<<12|(Ke&63)<<6|ct&63,Ze>65535&&Ze<1114112&&(Pe=Ze))}}Pe===null?(Pe=65533,Be=1):Pe>65535&&(Pe-=65536,W.push(Pe>>>10&1023|55296),Pe=56320|Pe&1023),W.push(Pe),be+=Be}return H(W)}const z=4096;function H(j){const D=j.length;if(D<=z)return String.fromCharCode.apply(String,j);let q="",W=0;for(;W<D;)q+=String.fromCharCode.apply(String,j.slice(W,W+=z));return q}function K(j,D,q){let W="";q=Math.min(j.length,q);for(let be=D;be<q;++be)W+=String.fromCharCode(j[be]&127);return W}function k(j,D,q){let W="";q=Math.min(j.length,q);for(let be=D;be<q;++be)W+=String.fromCharCode(j[be]);return W}function Z(j,D,q){const W=j.length;(!D||D<0)&&(D=0),(!q||q<0||q>W)&&(q=W);let be="";for(let he=D;he<q;++he)be+=rt[j[he]];return be}function de(j,D,q){const W=j.slice(D,q);let be="";for(let he=0;he<W.length-1;he+=2)be+=String.fromCharCode(W[he]+W[he+1]*256);return be}x.prototype.slice=function(D,q){const W=this.length;D=~~D,q=q===void 0?W:~~q,D<0?(D+=W,D<0&&(D=0)):D>W&&(D=W),q<0?(q+=W,q<0&&(q=0)):q>W&&(q=W),q<D&&(q=D);const be=this.subarray(D,q);return Object.setPrototypeOf(be,x.prototype),be};function le(j,D,q){if(j%1!==0||j<0)throw new RangeError("offset is not uint");if(j+D>q)throw new RangeError("Trying to access beyond buffer length")}x.prototype.readUintLE=x.prototype.readUIntLE=function(D,q,W){D=D>>>0,q=q>>>0,W||le(D,q,this.length);let be=this[D],he=1,Pe=0;for(;++Pe<q&&(he*=256);)be+=this[D+Pe]*he;return be},x.prototype.readUintBE=x.prototype.readUIntBE=function(D,q,W){D=D>>>0,q=q>>>0,W||le(D,q,this.length);let be=this[D+--q],he=1;for(;q>0&&(he*=256);)be+=this[D+--q]*he;return be},x.prototype.readUint8=x.prototype.readUInt8=function(D,q){return D=D>>>0,q||le(D,1,this.length),this[D]},x.prototype.readUint16LE=x.prototype.readUInt16LE=function(D,q){return D=D>>>0,q||le(D,2,this.length),this[D]|this[D+1]<<8},x.prototype.readUint16BE=x.prototype.readUInt16BE=function(D,q){return D=D>>>0,q||le(D,2,this.length),this[D]<<8|this[D+1]},x.prototype.readUint32LE=x.prototype.readUInt32LE=function(D,q){return D=D>>>0,q||le(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},x.prototype.readUint32BE=x.prototype.readUInt32BE=function(D,q){return D=D>>>0,q||le(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},x.prototype.readBigUInt64LE=lt(function(D){D=D>>>0,ae(D,"offset");const q=this[D],W=this[D+7];(q===void 0||W===void 0)&&_e(D,this.length-8);const be=q+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24,he=this[++D]+this[++D]*2**8+this[++D]*2**16+W*2**24;return BigInt(be)+(BigInt(he)<<BigInt(32))}),x.prototype.readBigUInt64BE=lt(function(D){D=D>>>0,ae(D,"offset");const q=this[D],W=this[D+7];(q===void 0||W===void 0)&&_e(D,this.length-8);const be=q*2**24+this[++D]*2**16+this[++D]*2**8+this[++D],he=this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+W;return(BigInt(be)<<BigInt(32))+BigInt(he)}),x.prototype.readIntLE=function(D,q,W){D=D>>>0,q=q>>>0,W||le(D,q,this.length);let be=this[D],he=1,Pe=0;for(;++Pe<q&&(he*=256);)be+=this[D+Pe]*he;return he*=128,be>=he&&(be-=Math.pow(2,8*q)),be},x.prototype.readIntBE=function(D,q,W){D=D>>>0,q=q>>>0,W||le(D,q,this.length);let be=q,he=1,Pe=this[D+--be];for(;be>0&&(he*=256);)Pe+=this[D+--be]*he;return he*=128,Pe>=he&&(Pe-=Math.pow(2,8*q)),Pe},x.prototype.readInt8=function(D,q){return D=D>>>0,q||le(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},x.prototype.readInt16LE=function(D,q){D=D>>>0,q||le(D,2,this.length);const W=this[D]|this[D+1]<<8;return W&32768?W|4294901760:W},x.prototype.readInt16BE=function(D,q){D=D>>>0,q||le(D,2,this.length);const W=this[D+1]|this[D]<<8;return W&32768?W|4294901760:W},x.prototype.readInt32LE=function(D,q){return D=D>>>0,q||le(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},x.prototype.readInt32BE=function(D,q){return D=D>>>0,q||le(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},x.prototype.readBigInt64LE=lt(function(D){D=D>>>0,ae(D,"offset");const q=this[D],W=this[D+7];(q===void 0||W===void 0)&&_e(D,this.length-8);const be=this[D+4]+this[D+5]*2**8+this[D+6]*2**16+(W<<24);return(BigInt(be)<<BigInt(32))+BigInt(q+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24)}),x.prototype.readBigInt64BE=lt(function(D){D=D>>>0,ae(D,"offset");const q=this[D],W=this[D+7];(q===void 0||W===void 0)&&_e(D,this.length-8);const be=(q<<24)+this[++D]*2**16+this[++D]*2**8+this[++D];return(BigInt(be)<<BigInt(32))+BigInt(this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+W)}),x.prototype.readFloatLE=function(D,q){return D=D>>>0,q||le(D,4,this.length),v.read(this,D,!0,23,4)},x.prototype.readFloatBE=function(D,q){return D=D>>>0,q||le(D,4,this.length),v.read(this,D,!1,23,4)},x.prototype.readDoubleLE=function(D,q){return D=D>>>0,q||le(D,8,this.length),v.read(this,D,!0,52,8)},x.prototype.readDoubleBE=function(D,q){return D=D>>>0,q||le(D,8,this.length),v.read(this,D,!1,52,8)};function De(j,D,q,W,be,he){if(!x.isBuffer(j))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>be||D<he)throw new RangeError('"value" argument is out of bounds');if(q+W>j.length)throw new RangeError("Index out of range")}x.prototype.writeUintLE=x.prototype.writeUIntLE=function(D,q,W,be){if(D=+D,q=q>>>0,W=W>>>0,!be){const Be=Math.pow(2,8*W)-1;De(this,D,q,W,Be,0)}let he=1,Pe=0;for(this[q]=D&255;++Pe<W&&(he*=256);)this[q+Pe]=D/he&255;return q+W},x.prototype.writeUintBE=x.prototype.writeUIntBE=function(D,q,W,be){if(D=+D,q=q>>>0,W=W>>>0,!be){const Be=Math.pow(2,8*W)-1;De(this,D,q,W,Be,0)}let he=W-1,Pe=1;for(this[q+he]=D&255;--he>=0&&(Pe*=256);)this[q+he]=D/Pe&255;return q+W},x.prototype.writeUint8=x.prototype.writeUInt8=function(D,q,W){return D=+D,q=q>>>0,W||De(this,D,q,1,255,0),this[q]=D&255,q+1},x.prototype.writeUint16LE=x.prototype.writeUInt16LE=function(D,q,W){return D=+D,q=q>>>0,W||De(this,D,q,2,65535,0),this[q]=D&255,this[q+1]=D>>>8,q+2},x.prototype.writeUint16BE=x.prototype.writeUInt16BE=function(D,q,W){return D=+D,q=q>>>0,W||De(this,D,q,2,65535,0),this[q]=D>>>8,this[q+1]=D&255,q+2},x.prototype.writeUint32LE=x.prototype.writeUInt32LE=function(D,q,W){return D=+D,q=q>>>0,W||De(this,D,q,4,4294967295,0),this[q+3]=D>>>24,this[q+2]=D>>>16,this[q+1]=D>>>8,this[q]=D&255,q+4},x.prototype.writeUint32BE=x.prototype.writeUInt32BE=function(D,q,W){return D=+D,q=q>>>0,W||De(this,D,q,4,4294967295,0),this[q]=D>>>24,this[q+1]=D>>>16,this[q+2]=D>>>8,this[q+3]=D&255,q+4};function Qe(j,D,q,W,be){J(D,W,be,j,q,7);let he=Number(D&BigInt(4294967295));j[q++]=he,he=he>>8,j[q++]=he,he=he>>8,j[q++]=he,he=he>>8,j[q++]=he;let Pe=Number(D>>BigInt(32)&BigInt(4294967295));return j[q++]=Pe,Pe=Pe>>8,j[q++]=Pe,Pe=Pe>>8,j[q++]=Pe,Pe=Pe>>8,j[q++]=Pe,q}function Le(j,D,q,W,be){J(D,W,be,j,q,7);let he=Number(D&BigInt(4294967295));j[q+7]=he,he=he>>8,j[q+6]=he,he=he>>8,j[q+5]=he,he=he>>8,j[q+4]=he;let Pe=Number(D>>BigInt(32)&BigInt(4294967295));return j[q+3]=Pe,Pe=Pe>>8,j[q+2]=Pe,Pe=Pe>>8,j[q+1]=Pe,Pe=Pe>>8,j[q]=Pe,q+8}x.prototype.writeBigUInt64LE=lt(function(D,q=0){return Qe(this,D,q,BigInt(0),BigInt("0xffffffffffffffff"))}),x.prototype.writeBigUInt64BE=lt(function(D,q=0){return Le(this,D,q,BigInt(0),BigInt("0xffffffffffffffff"))}),x.prototype.writeIntLE=function(D,q,W,be){if(D=+D,q=q>>>0,!be){const ze=Math.pow(2,8*W-1);De(this,D,q,W,ze-1,-ze)}let he=0,Pe=1,Be=0;for(this[q]=D&255;++he<W&&(Pe*=256);)D<0&&Be===0&&this[q+he-1]!==0&&(Be=1),this[q+he]=(D/Pe>>0)-Be&255;return q+W},x.prototype.writeIntBE=function(D,q,W,be){if(D=+D,q=q>>>0,!be){const ze=Math.pow(2,8*W-1);De(this,D,q,W,ze-1,-ze)}let he=W-1,Pe=1,Be=0;for(this[q+he]=D&255;--he>=0&&(Pe*=256);)D<0&&Be===0&&this[q+he+1]!==0&&(Be=1),this[q+he]=(D/Pe>>0)-Be&255;return q+W},x.prototype.writeInt8=function(D,q,W){return D=+D,q=q>>>0,W||De(this,D,q,1,127,-128),D<0&&(D=255+D+1),this[q]=D&255,q+1},x.prototype.writeInt16LE=function(D,q,W){return D=+D,q=q>>>0,W||De(this,D,q,2,32767,-32768),this[q]=D&255,this[q+1]=D>>>8,q+2},x.prototype.writeInt16BE=function(D,q,W){return D=+D,q=q>>>0,W||De(this,D,q,2,32767,-32768),this[q]=D>>>8,this[q+1]=D&255,q+2},x.prototype.writeInt32LE=function(D,q,W){return D=+D,q=q>>>0,W||De(this,D,q,4,2147483647,-2147483648),this[q]=D&255,this[q+1]=D>>>8,this[q+2]=D>>>16,this[q+3]=D>>>24,q+4},x.prototype.writeInt32BE=function(D,q,W){return D=+D,q=q>>>0,W||De(this,D,q,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[q]=D>>>24,this[q+1]=D>>>16,this[q+2]=D>>>8,this[q+3]=D&255,q+4},x.prototype.writeBigInt64LE=lt(function(D,q=0){return Qe(this,D,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),x.prototype.writeBigInt64BE=lt(function(D,q=0){return Le(this,D,q,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ce(j,D,q,W,be,he){if(q+W>j.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function se(j,D,q,W,be){return D=+D,q=q>>>0,be||ce(j,D,q,4),v.write(j,D,q,W,23,4),q+4}x.prototype.writeFloatLE=function(D,q,W){return se(this,D,q,!0,W)},x.prototype.writeFloatBE=function(D,q,W){return se(this,D,q,!1,W)};function ye(j,D,q,W,be){return D=+D,q=q>>>0,be||ce(j,D,q,8),v.write(j,D,q,W,52,8),q+8}x.prototype.writeDoubleLE=function(D,q,W){return ye(this,D,q,!0,W)},x.prototype.writeDoubleBE=function(D,q,W){return ye(this,D,q,!1,W)},x.prototype.copy=function(D,q,W,be){if(!x.isBuffer(D))throw new TypeError("argument should be a Buffer");if(W||(W=0),!be&&be!==0&&(be=this.length),q>=D.length&&(q=D.length),q||(q=0),be>0&&be<W&&(be=W),be===W||D.length===0||this.length===0)return 0;if(q<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(be<0)throw new RangeError("sourceEnd out of bounds");be>this.length&&(be=this.length),D.length-q<be-W&&(be=D.length-q+W);const he=be-W;return this===D&&typeof A.prototype.copyWithin=="function"?this.copyWithin(q,W,be):A.prototype.set.call(D,this.subarray(W,be),q),he},x.prototype.fill=function(D,q,W,be){if(typeof D=="string"){if(typeof q=="string"?(be=q,q=0,W=this.length):typeof W=="string"&&(be=W,W=this.length),be!==void 0&&typeof be!="string")throw new TypeError("encoding must be a string");if(typeof be=="string"&&!x.isEncoding(be))throw new TypeError("Unknown encoding: "+be);if(D.length===1){const Pe=D.charCodeAt(0);(be==="utf8"&&Pe<128||be==="latin1")&&(D=Pe)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if(q<0||this.length<q||this.length<W)throw new RangeError("Out of range index");if(W<=q)return this;q=q>>>0,W=W===void 0?this.length:W>>>0,D||(D=0);let he;if(typeof D=="number")for(he=q;he<W;++he)this[he]=D;else{const Pe=x.isBuffer(D)?D:x.from(D,be),Be=Pe.length;if(Be===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(he=0;he<W-q;++he)this[he+q]=Pe[he%Be]}return this};const xe={};function U(j,D,q){xe[j]=class extends q{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${j}]`,this.stack,delete this.name}get code(){return j}set code(be){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:be,writable:!0})}toString(){return`${this.name} [${j}]: ${this.message}`}}}U("ERR_BUFFER_OUT_OF_BOUNDS",function(j){return j?`${j} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),U("ERR_INVALID_ARG_TYPE",function(j,D){return`The "${j}" argument must be of type number. Received type ${typeof D}`},TypeError),U("ERR_OUT_OF_RANGE",function(j,D,q){let W=`The value of "${j}" is out of range.`,be=q;return Number.isInteger(q)&&Math.abs(q)>2**32?be=R(String(q)):typeof q=="bigint"&&(be=String(q),(q>BigInt(2)**BigInt(32)||q<-(BigInt(2)**BigInt(32)))&&(be=R(be)),be+="n"),W+=` It must be ${D}. Received ${be}`,W},RangeError);function R(j){let D="",q=j.length;const W=j[0]==="-"?1:0;for(;q>=W+4;q-=3)D=`_${j.slice(q-3,q)}${D}`;return`${j.slice(0,q)}${D}`}function C(j,D,q){ae(D,"offset"),(j[D]===void 0||j[D+q]===void 0)&&_e(D,j.length-(q+1))}function J(j,D,q,W,be,he){if(j>q||j<D){const Pe=typeof D=="bigint"?"n":"";let Be;throw D===0||D===BigInt(0)?Be=`>= 0${Pe} and < 2${Pe} ** ${(he+1)*8}${Pe}`:Be=`>= -(2${Pe} ** ${(he+1)*8-1}${Pe}) and < 2 ** ${(he+1)*8-1}${Pe}`,new xe.ERR_OUT_OF_RANGE("value",Be,j)}C(W,be,he)}function ae(j,D){if(typeof j!="number")throw new xe.ERR_INVALID_ARG_TYPE(D,"number",j)}function _e(j,D,q){throw Math.floor(j)!==j?(ae(j,q),new xe.ERR_OUT_OF_RANGE("offset","an integer",j)):D<0?new xe.ERR_BUFFER_OUT_OF_BOUNDS:new xe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${D}`,j)}const Se=/[^+/0-9A-Za-z-_]/g;function Xe(j){if(j=j.split("=")[0],j=j.trim().replace(Se,""),j.length<2)return"";for(;j.length%4!==0;)j=j+"=";return j}function Y(j,D){D=D||1/0;let q;const W=j.length;let be=null;const he=[];for(let Pe=0;Pe<W;++Pe){if(q=j.charCodeAt(Pe),q>55295&&q<57344){if(!be){if(q>56319){(D-=3)>-1&&he.push(239,191,189);continue}else if(Pe+1===W){(D-=3)>-1&&he.push(239,191,189);continue}be=q;continue}if(q<56320){(D-=3)>-1&&he.push(239,191,189),be=q;continue}q=(be-55296<<10|q-56320)+65536}else be&&(D-=3)>-1&&he.push(239,191,189);if(be=null,q<128){if((D-=1)<0)break;he.push(q)}else if(q<2048){if((D-=2)<0)break;he.push(q>>6|192,q&63|128)}else if(q<65536){if((D-=3)<0)break;he.push(q>>12|224,q>>6&63|128,q&63|128)}else if(q<1114112){if((D-=4)<0)break;he.push(q>>18|240,q>>12&63|128,q>>6&63|128,q&63|128)}else throw new Error("Invalid code point")}return he}function Ee(j){const D=[];for(let q=0;q<j.length;++q)D.push(j.charCodeAt(q)&255);return D}function Ne(j,D){let q,W,be;const he=[];for(let Pe=0;Pe<j.length&&!((D-=2)<0);++Pe)q=j.charCodeAt(Pe),W=q>>8,be=q%256,he.push(be),he.push(W);return he}function Ce(j){return _.toByteArray(Xe(j))}function Ue(j,D,q,W){let be;for(be=0;be<W&&!(be+q>=D.length||be>=j.length);++be)D[be+q]=j[be];return be}function tt(j,D){return j instanceof D||j!=null&&j.constructor!=null&&j.constructor.name!=null&&j.constructor.name===D.name}function ut(j){return j!==j}const rt=function(){const j="0123456789abcdef",D=new Array(256);for(let q=0;q<16;++q){const W=q*16;for(let be=0;be<16;++be)D[W+be]=j[q]+j[be]}return D}();function lt(j){return typeof BigInt>"u"?ne:j}function ne(){throw new Error("BigInt not supported")}})(t);const y=t.Buffer;a.Blob=t.Blob,a.BlobOptions=t.BlobOptions,a.Buffer=t.Buffer,a.File=t.File,a.FileOptions=t.FileOptions,a.INSPECT_MAX_BYTES=t.INSPECT_MAX_BYTES,a.SlowBuffer=t.SlowBuffer,a.TranscodeEncoding=t.TranscodeEncoding,a.atob=t.atob,a.btoa=t.btoa,a.constants=t.constants,a.default=y,a.isAscii=t.isAscii,a.isUtf8=t.isUtf8,a.kMaxLength=t.kMaxLength,a.kStringMaxLength=t.kStringMaxLength,a.resolveObjectURL=t.resolveObjectURL,a.transcode=t.transcode}($I)),$I}var VI,TM;function ar(){if(TM)return VI;TM=1;class a extends Error{constructor(u){if(!Array.isArray(u))throw new TypeError(`Expected input to be an Array, got ${typeof u}`);let n="";for(let r=0;r<u.length;r++)n+=`    ${u[r].stack}
`;super(n),this.name="AggregateError",this.errors=u}}return VI={AggregateError:a,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,u){return t.includes(u)},ArrayPrototypeIndexOf(t,u){return t.indexOf(u)},ArrayPrototypeJoin(t,u){return t.join(u)},ArrayPrototypeMap(t,u){return t.map(u)},ArrayPrototypePop(t,u){return t.pop(u)},ArrayPrototypePush(t,u){return t.push(u)},ArrayPrototypeSlice(t,u,n){return t.slice(u,n)},Error,FunctionPrototypeCall(t,u,...n){return t.call(u,...n)},FunctionPrototypeSymbolHasInstance(t,u){return Function.prototype[Symbol.hasInstance].call(t,u)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,u){return Object.defineProperties(t,u)},ObjectDefineProperty(t,u,n){return Object.defineProperty(t,u,n)},ObjectGetOwnPropertyDescriptor(t,u){return Object.getOwnPropertyDescriptor(t,u)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,u){return Object.setPrototypeOf(t,u)},Promise,PromisePrototypeCatch(t,u){return t.catch(u)},PromisePrototypeThen(t,u,n){return t.then(u,n)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,u){return t.test(u)},SafeSet:Set,String,StringPrototypeSlice(t,u,n){return t.slice(u,n)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,u,n){return t.set(u,n)},Boolean,Uint8Array},VI}var UI={exports:{}},QI,wM;function SM(){return wM||(wM=1,QI={format(a,...t){return a.replace(/%([sdifj])/g,function(...[u,n]){const r=t.shift();return n==="f"?r.toFixed(6):n==="j"?JSON.stringify(r):n==="s"&&typeof r=="object"?`${r.constructor!==Object?r.constructor.name:""} {}`.trim():r.toString()})},inspect(a){switch(typeof a){case"string":if(a.includes("'"))if(a.includes('"')){if(!a.includes("`")&&!a.includes("${"))return`\`${a}\``}else return`"${a}"`;return`'${a}'`;case"number":return isNaN(a)?"NaN":Object.is(a,-0)?String(a):a;case"bigint":return`${String(a)}n`;case"boolean":case"undefined":return String(a);case"object":return"{}"}}}),QI}var HI,OM;function Yr(){if(OM)return HI;OM=1;const{format:a,inspect:t}=SM(),{AggregateError:u}=ar(),n=globalThis.AggregateError||u,r=Symbol("kIsNodeError"),e=["string","function","number","object","Function","Object","boolean","bigint","symbol"],i=/^([A-Z][a-z0-9]*)+$/,o="__node_internal_",c={};function s(m,y){if(!m)throw new c.ERR_INTERNAL_ASSERTION(y)}function l(m){let y="",g=m.length;const _=m[0]==="-"?1:0;for(;g>=_+4;g-=3)y=`_${m.slice(g-3,g)}${y}`;return`${m.slice(0,g)}${y}`}function f(m,y,g){if(typeof y=="function")return s(y.length<=g.length,`Code: ${m}; The provided arguments length (${g.length}) does not match the required ones (${y.length}).`),y(...g);const _=(y.match(/%[dfijoOs]/g)||[]).length;return s(_===g.length,`Code: ${m}; The provided arguments length (${g.length}) does not match the required ones (${_}).`),g.length===0?y:a(y,...g)}function d(m,y,g){g||(g=Error);class _ extends g{constructor(...T){super(f(m,y,T))}toString(){return`${this.name} [${m}]: ${this.message}`}}Object.defineProperties(_.prototype,{name:{value:g.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${m}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),_.prototype.code=m,_.prototype[r]=!0,c[m]=_}function h(m){const y=o+m.name;return Object.defineProperty(m,"name",{value:y}),m}function p(m,y){if(m&&y&&m!==y){if(Array.isArray(y.errors))return y.errors.push(m),y;const g=new n([y,m],y.message);return g.code=y.code,g}return m||y}class b extends Error{constructor(y="The operation was aborted",g=void 0){if(g!==void 0&&typeof g!="object")throw new c.ERR_INVALID_ARG_TYPE("options","Object",g);super(y,g),this.code="ABORT_ERR",this.name="AbortError"}}return d("ERR_ASSERTION","%s",Error),d("ERR_INVALID_ARG_TYPE",(m,y,g)=>{s(typeof m=="string","'name' must be a string"),Array.isArray(y)||(y=[y]);let _="The ";m.endsWith(" argument")?_+=`${m} `:_+=`"${m}" ${m.includes(".")?"property":"argument"} `,_+="must be ";const v=[],T=[],w=[];for(const M of y)s(typeof M=="string","All expected entries have to be of type string"),e.includes(M)?v.push(M.toLowerCase()):i.test(M)?T.push(M):(s(M!=="object",'The value "object" should be written as "Object"'),w.push(M));if(T.length>0){const M=v.indexOf("object");M!==-1&&(v.splice(v,M,1),T.push("Object"))}if(v.length>0){switch(v.length){case 1:_+=`of type ${v[0]}`;break;case 2:_+=`one of type ${v[0]} or ${v[1]}`;break;default:{const M=v.pop();_+=`one of type ${v.join(", ")}, or ${M}`}}(T.length>0||w.length>0)&&(_+=" or ")}if(T.length>0){switch(T.length){case 1:_+=`an instance of ${T[0]}`;break;case 2:_+=`an instance of ${T[0]} or ${T[1]}`;break;default:{const M=T.pop();_+=`an instance of ${T.join(", ")}, or ${M}`}}w.length>0&&(_+=" or ")}switch(w.length){case 0:break;case 1:w[0].toLowerCase()!==w[0]&&(_+="an "),_+=`${w[0]}`;break;case 2:_+=`one of ${w[0]} or ${w[1]}`;break;default:{const M=w.pop();_+=`one of ${w.join(", ")}, or ${M}`}}if(g==null)_+=`. Received ${g}`;else if(typeof g=="function"&&g.name)_+=`. Received function ${g.name}`;else if(typeof g=="object"){var A;if((A=g.constructor)!==null&&A!==void 0&&A.name)_+=`. Received an instance of ${g.constructor.name}`;else{const M=t(g,{depth:-1});_+=`. Received ${M}`}}else{let M=t(g,{colors:!1});M.length>25&&(M=`${M.slice(0,25)}...`),_+=`. Received type ${typeof g} (${M})`}return _},TypeError),d("ERR_INVALID_ARG_VALUE",(m,y,g="is invalid")=>{let _=t(y);return _.length>128&&(_=_.slice(0,128)+"..."),`The ${m.includes(".")?"property":"argument"} '${m}' ${g}. Received ${_}`},TypeError),d("ERR_INVALID_RETURN_VALUE",(m,y,g)=>{var _;const v=g!=null&&(_=g.constructor)!==null&&_!==void 0&&_.name?`instance of ${g.constructor.name}`:`type ${typeof g}`;return`Expected ${m} to be returned from the "${y}" function but got ${v}.`},TypeError),d("ERR_MISSING_ARGS",(...m)=>{s(m.length>0,"At least one arg needs to be specified");let y;const g=m.length;switch(m=(Array.isArray(m)?m:[m]).map(_=>`"${_}"`).join(" or "),g){case 1:y+=`The ${m[0]} argument`;break;case 2:y+=`The ${m[0]} and ${m[1]} arguments`;break;default:{const _=m.pop();y+=`The ${m.join(", ")}, and ${_} arguments`}break}return`${y} must be specified`},TypeError),d("ERR_OUT_OF_RANGE",(m,y,g)=>{s(y,'Missing "range" argument');let _;if(Number.isInteger(g)&&Math.abs(g)>2**32)_=l(String(g));else if(typeof g=="bigint"){_=String(g);const v=BigInt(2)**BigInt(32);(g>v||g<-v)&&(_=l(_)),_+="n"}else _=t(g);return`The value of "${m}" is out of range. It must be ${y}. Received ${_}`},RangeError),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),d("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),d("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),d("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),d("ERR_STREAM_WRITE_AFTER_END","write after end",Error),d("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),HI={AbortError:b,aggregateTwoErrors:h(p),hideStackFrames:h,codes:c},HI}var y1={exports:{}},AM;function b1(){if(AM)return y1.exports;AM=1;const{AbortController:a,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return y1.exports=a,y1.exports.AbortSignal=t,y1.exports.default=a,y1.exports}var EM;function nn(){return EM||(EM=1,function(a){const t=Ei(),{format:u,inspect:n}=SM(),{codes:{ERR_INVALID_ARG_TYPE:r}}=Yr(),{kResistStopPropagation:e,AggregateError:i,SymbolDispose:o}=ar(),c=globalThis.AbortSignal||b1().AbortSignal,s=globalThis.AbortController||b1().AbortController,l=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||t.Blob,d=typeof f<"u"?function(m){return m instanceof f}:function(m){return!1},h=(b,m)=>{if(b!==void 0&&(b===null||typeof b!="object"||!("aborted"in b)))throw new r(m,"AbortSignal",b)},p=(b,m)=>{if(typeof b!="function")throw new r(m,"Function",b)};a.exports={AggregateError:i,kEmptyObject:Object.freeze({}),once(b){let m=!1;return function(...y){m||(m=!0,b.apply(this,y))}},createDeferredPromise:function(){let b,m;return{promise:new Promise((g,_)=>{b=g,m=_}),resolve:b,reject:m}},promisify(b){return new Promise((m,y)=>{b((g,..._)=>g?y(g):m(..._))})},debuglog(){return function(){}},format:u,inspect:n,types:{isAsyncFunction(b){return b instanceof l},isArrayBufferView(b){return ArrayBuffer.isView(b)}},isBlob:d,deprecate(b,m){return b},addAbortListener:J0().addAbortListener||function(m,y){if(m===void 0)throw new r("signal","AbortSignal",m);h(m,"signal"),p(y,"listener");let g;return m.aborted?queueMicrotask(()=>y()):(m.addEventListener("abort",y,{__proto__:null,once:!0,[e]:!0}),g=()=>{m.removeEventListener("abort",y)}),{__proto__:null,[o](){var _;(_=g)===null||_===void 0||_()}}},AbortSignalAny:c.any||function(m){if(m.length===1)return m[0];const y=new s,g=()=>y.abort();return m.forEach(_=>{h(_,"signals"),_.addEventListener("abort",g,{once:!0})}),y.signal.addEventListener("abort",()=>{m.forEach(_=>_.removeEventListener("abort",g))},{once:!0}),y.signal}},a.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(UI)),UI.exports}var MO={},GI,xM;function _1(){if(xM)return GI;xM=1;const{ArrayIsArray:a,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:u,ArrayPrototypeMap:n,NumberIsInteger:r,NumberIsNaN:e,NumberMAX_SAFE_INTEGER:i,NumberMIN_SAFE_INTEGER:o,NumberParseInt:c,ObjectPrototypeHasOwnProperty:s,RegExpPrototypeExec:l,String:f,StringPrototypeToUpperCase:d,StringPrototypeTrim:h}=ar(),{hideStackFrames:p,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:m,ERR_INVALID_ARG_VALUE:y,ERR_OUT_OF_RANGE:g,ERR_UNKNOWN_SIGNAL:_}}=Yr(),{normalizeEncoding:v}=nn(),{isAsyncFunction:T,isArrayBufferView:w}=nn().types,A={};function M(k){return k===(k|0)}function F(k){return k===k>>>0}const O=/^[0-7]+$/,E="must be a 32-bit unsigned integer or an octal string";function x(k,Z,de){if(typeof k>"u"&&(k=de),typeof k=="string"){if(l(O,k)===null)throw new y(Z,k,E);k=c(k,8)}return $(k,Z),k}const L=p((k,Z,de=o,le=i)=>{if(typeof k!="number")throw new m(Z,"number",k);if(!r(k))throw new g(Z,"an integer",k);if(k<de||k>le)throw new g(Z,`>= ${de} && <= ${le}`,k)}),V=p((k,Z,de=-2147483648,le=2147483647)=>{if(typeof k!="number")throw new m(Z,"number",k);if(!r(k))throw new g(Z,"an integer",k);if(k<de||k>le)throw new g(Z,`>= ${de} && <= ${le}`,k)}),$=p((k,Z,de=!1)=>{if(typeof k!="number")throw new m(Z,"number",k);if(!r(k))throw new g(Z,"an integer",k);const le=de?1:0,De=4294967295;if(k<le||k>De)throw new g(Z,`>= ${le} && <= ${De}`,k)});function Q(k,Z){if(typeof k!="string")throw new m(Z,"string",k)}function ie(k,Z,de=void 0,le){if(typeof k!="number")throw new m(Z,"number",k);if(de!=null&&k<de||le!=null&&k>le||(de!=null||le!=null)&&e(k))throw new g(Z,`${de!=null?`>= ${de}`:""}${de!=null&&le!=null?" && ":""}${le!=null?`<= ${le}`:""}`,k)}const ue=p((k,Z,de)=>{if(!t(de,k)){const De="must be one of: "+u(n(de,Qe=>typeof Qe=="string"?`'${Qe}'`:f(Qe)),", ");throw new y(Z,k,De)}});function pe(k,Z){if(typeof k!="boolean")throw new m(Z,"boolean",k)}function X(k,Z,de){return k==null||!s(k,Z)?de:k[Z]}const me=p((k,Z,de=null)=>{const le=X(de,"allowArray",!1),De=X(de,"allowFunction",!1);if(!X(de,"nullable",!1)&&k===null||!le&&a(k)||typeof k!="object"&&(!De||typeof k!="function"))throw new m(Z,"Object",k)}),Fe=p((k,Z)=>{if(k!=null&&typeof k!="object"&&typeof k!="function")throw new m(Z,"a dictionary",k)}),ve=p((k,Z,de=0)=>{if(!a(k))throw new m(Z,"Array",k);if(k.length<de){const le=`must be longer than ${de}`;throw new y(Z,k,le)}});function re(k,Z){ve(k,Z);for(let de=0;de<k.length;de++)Q(k[de],`${Z}[${de}]`)}function je(k,Z){ve(k,Z);for(let de=0;de<k.length;de++)pe(k[de],`${Z}[${de}]`)}function qe(k,Z){ve(k,Z);for(let de=0;de<k.length;de++){const le=k[de],De=`${Z}[${de}]`;if(le==null)throw new m(De,"AbortSignal",le);N(le,De)}}function $e(k,Z="signal"){if(Q(k,Z),A[k]===void 0)throw A[d(k)]!==void 0?new _(k+" (signals must use all capital letters)"):new _(k)}const ge=p((k,Z="buffer")=>{if(!w(k))throw new m(Z,["Buffer","TypedArray","DataView"],k)});function we(k,Z){const de=v(Z),le=k.length;if(de==="hex"&&le%2!==0)throw new y("encoding",Z,`is invalid for data of length ${le}`)}function G(k,Z="Port",de=!0){if(typeof k!="number"&&typeof k!="string"||typeof k=="string"&&h(k).length===0||+k!==+k>>>0||k>65535||k===0&&!de)throw new b(Z,k,de);return k|0}const N=p((k,Z)=>{if(k!==void 0&&(k===null||typeof k!="object"||!("aborted"in k)))throw new m(Z,"AbortSignal",k)}),P=p((k,Z)=>{if(typeof k!="function")throw new m(Z,"Function",k)}),S=p((k,Z)=>{if(typeof k!="function"||T(k))throw new m(Z,"Function",k)}),I=p((k,Z)=>{if(k!==void 0)throw new m(Z,"undefined",k)});function B(k,Z,de){if(!t(de,k))throw new m(Z,`('${u(de,"|")}')`,k)}const z=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function H(k,Z){if(typeof k>"u"||!l(z,k))throw new y(Z,k,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function K(k){if(typeof k=="string")return H(k,"hints"),k;if(a(k)){const Z=k.length;let de="";if(Z===0)return de;for(let le=0;le<Z;le++){const De=k[le];H(De,"hints"),de+=De,le!==Z-1&&(de+=", ")}return de}throw new y("hints",k,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return GI={isInt32:M,isUint32:F,parseFileMode:x,validateArray:ve,validateStringArray:re,validateBooleanArray:je,validateAbortSignalArray:qe,validateBoolean:pe,validateBuffer:ge,validateDictionary:Fe,validateEncoding:we,validateFunction:P,validateInt32:V,validateInteger:L,validateNumber:ie,validateObject:me,validateOneOf:ue,validatePlainFunction:S,validatePort:G,validateSignalName:$e,validateString:Q,validateUint32:$,validateUndefined:I,validateUnion:B,validateAbortSignal:N,validateLinkHeaderValue:K},GI}var qO={exports:{}},kI,IM;function xi(){if(IM)return kI;IM=1;const{SymbolAsyncIterator:a,SymbolIterator:t,SymbolFor:u}=ar(),n=u("nodejs.stream.destroyed"),r=u("nodejs.stream.errored"),e=u("nodejs.stream.readable"),i=u("nodejs.stream.writable"),o=u("nodejs.stream.disturbed"),c=u("nodejs.webstream.isClosedPromise"),s=u("nodejs.webstream.controllerErrorFunction");function l(X,me=!1){var Fe;return!!(X&&typeof X.pipe=="function"&&typeof X.on=="function"&&(!me||typeof X.pause=="function"&&typeof X.resume=="function")&&(!X._writableState||((Fe=X._readableState)===null||Fe===void 0?void 0:Fe.readable)!==!1)&&(!X._writableState||X._readableState))}function f(X){var me;return!!(X&&typeof X.write=="function"&&typeof X.on=="function"&&(!X._readableState||((me=X._writableState)===null||me===void 0?void 0:me.writable)!==!1))}function d(X){return!!(X&&typeof X.pipe=="function"&&X._readableState&&typeof X.on=="function"&&typeof X.write=="function")}function h(X){return X&&(X._readableState||X._writableState||typeof X.write=="function"&&typeof X.on=="function"||typeof X.pipe=="function"&&typeof X.on=="function")}function p(X){return!!(X&&!h(X)&&typeof X.pipeThrough=="function"&&typeof X.getReader=="function"&&typeof X.cancel=="function")}function b(X){return!!(X&&!h(X)&&typeof X.getWriter=="function"&&typeof X.abort=="function")}function m(X){return!!(X&&!h(X)&&typeof X.readable=="object"&&typeof X.writable=="object")}function y(X){return p(X)||b(X)||m(X)}function g(X,me){return X==null?!1:me===!0?typeof X[a]=="function":me===!1?typeof X[t]=="function":typeof X[a]=="function"||typeof X[t]=="function"}function _(X){if(!h(X))return null;const me=X._writableState,Fe=X._readableState,ve=me||Fe;return!!(X.destroyed||X[n]||ve!=null&&ve.destroyed)}function v(X){if(!f(X))return null;if(X.writableEnded===!0)return!0;const me=X._writableState;return me!=null&&me.errored?!1:typeof(me==null?void 0:me.ended)!="boolean"?null:me.ended}function T(X,me){if(!f(X))return null;if(X.writableFinished===!0)return!0;const Fe=X._writableState;return Fe!=null&&Fe.errored?!1:typeof(Fe==null?void 0:Fe.finished)!="boolean"?null:!!(Fe.finished||me===!1&&Fe.ended===!0&&Fe.length===0)}function w(X){if(!l(X))return null;if(X.readableEnded===!0)return!0;const me=X._readableState;return!me||me.errored?!1:typeof(me==null?void 0:me.ended)!="boolean"?null:me.ended}function A(X,me){if(!l(X))return null;const Fe=X._readableState;return Fe!=null&&Fe.errored?!1:typeof(Fe==null?void 0:Fe.endEmitted)!="boolean"?null:!!(Fe.endEmitted||me===!1&&Fe.ended===!0&&Fe.length===0)}function M(X){return X&&X[e]!=null?X[e]:typeof(X==null?void 0:X.readable)!="boolean"?null:_(X)?!1:l(X)&&X.readable&&!A(X)}function F(X){return X&&X[i]!=null?X[i]:typeof(X==null?void 0:X.writable)!="boolean"?null:_(X)?!1:f(X)&&X.writable&&!v(X)}function O(X,me){return h(X)?_(X)?!0:!((me==null?void 0:me.readable)!==!1&&M(X)||(me==null?void 0:me.writable)!==!1&&F(X)):null}function E(X){var me,Fe;return h(X)?X.writableErrored?X.writableErrored:(me=(Fe=X._writableState)===null||Fe===void 0?void 0:Fe.errored)!==null&&me!==void 0?me:null:null}function x(X){var me,Fe;return h(X)?X.readableErrored?X.readableErrored:(me=(Fe=X._readableState)===null||Fe===void 0?void 0:Fe.errored)!==null&&me!==void 0?me:null:null}function L(X){if(!h(X))return null;if(typeof X.closed=="boolean")return X.closed;const me=X._writableState,Fe=X._readableState;return typeof(me==null?void 0:me.closed)=="boolean"||typeof(Fe==null?void 0:Fe.closed)=="boolean"?(me==null?void 0:me.closed)||(Fe==null?void 0:Fe.closed):typeof X._closed=="boolean"&&V(X)?X._closed:null}function V(X){return typeof X._closed=="boolean"&&typeof X._defaultKeepAlive=="boolean"&&typeof X._removedConnection=="boolean"&&typeof X._removedContLen=="boolean"}function $(X){return typeof X._sent100=="boolean"&&V(X)}function Q(X){var me;return typeof X._consuming=="boolean"&&typeof X._dumped=="boolean"&&((me=X.req)===null||me===void 0?void 0:me.upgradeOrConnect)===void 0}function ie(X){if(!h(X))return null;const me=X._writableState,Fe=X._readableState,ve=me||Fe;return!ve&&$(X)||!!(ve&&ve.autoDestroy&&ve.emitClose&&ve.closed===!1)}function ue(X){var me;return!!(X&&((me=X[o])!==null&&me!==void 0?me:X.readableDidRead||X.readableAborted))}function pe(X){var me,Fe,ve,re,je,qe,$e,ge,we,G;return!!(X&&((me=(Fe=(ve=(re=(je=(qe=X[r])!==null&&qe!==void 0?qe:X.readableErrored)!==null&&je!==void 0?je:X.writableErrored)!==null&&re!==void 0?re:($e=X._readableState)===null||$e===void 0?void 0:$e.errorEmitted)!==null&&ve!==void 0?ve:(ge=X._writableState)===null||ge===void 0?void 0:ge.errorEmitted)!==null&&Fe!==void 0?Fe:(we=X._readableState)===null||we===void 0?void 0:we.errored)!==null&&me!==void 0?me:!((G=X._writableState)===null||G===void 0)&&G.errored))}return kI={isDestroyed:_,kIsDestroyed:n,isDisturbed:ue,kIsDisturbed:o,isErrored:pe,kIsErrored:r,isReadable:M,kIsReadable:e,kIsClosedPromise:c,kControllerErrorFunction:s,kIsWritable:i,isClosed:L,isDuplexNodeStream:d,isFinished:O,isIterable:g,isReadableNodeStream:l,isReadableStream:p,isReadableEnded:w,isReadableFinished:A,isReadableErrored:x,isNodeStream:h,isWebStream:y,isWritable:F,isWritableNodeStream:f,isWritableStream:b,isWritableEnded:v,isWritableFinished:T,isWritableErrored:E,isServerRequest:Q,isServerResponse:$,willEmitClose:ie,isTransformStream:m},kI}var RM;function ua(){if(RM)return qO.exports;RM=1;const a=ia(),{AbortError:t,codes:u}=Yr(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:r}=u,{kEmptyObject:e,once:i}=nn(),{validateAbortSignal:o,validateFunction:c,validateObject:s,validateBoolean:l}=_1(),{Promise:f,PromisePrototypeThen:d,SymbolDispose:h}=ar(),{isClosed:p,isReadable:b,isReadableNodeStream:m,isReadableStream:y,isReadableFinished:g,isReadableErrored:_,isWritable:v,isWritableNodeStream:T,isWritableStream:w,isWritableFinished:A,isWritableErrored:M,isNodeStream:F,willEmitClose:O,kIsClosedPromise:E}=xi();let x;function L(ue){return ue.setHeader&&typeof ue.abort=="function"}const V=()=>{};function $(ue,pe,X){var me,Fe;if(arguments.length===2?(X=pe,pe=e):pe==null?pe=e:s(pe,"options"),c(X,"callback"),o(pe.signal,"options.signal"),X=i(X),y(ue)||w(ue))return Q(ue,pe,X);if(!F(ue))throw new n("stream",["ReadableStream","WritableStream","Stream"],ue);const ve=(me=pe.readable)!==null&&me!==void 0?me:m(ue),re=(Fe=pe.writable)!==null&&Fe!==void 0?Fe:T(ue),je=ue._writableState,qe=ue._readableState,$e=()=>{ue.writable||G()};let ge=O(ue)&&m(ue)===ve&&T(ue)===re,we=A(ue,!1);const G=()=>{we=!0,ue.destroyed&&(ge=!1),!(ge&&(!ue.readable||ve))&&(!ve||N)&&X.call(ue)};let N=g(ue,!1);const P=()=>{N=!0,ue.destroyed&&(ge=!1),!(ge&&(!ue.writable||re))&&(!re||we)&&X.call(ue)},S=k=>{X.call(ue,k)};let I=p(ue);const B=()=>{I=!0;const k=M(ue)||_(ue);if(k&&typeof k!="boolean")return X.call(ue,k);if(ve&&!N&&m(ue,!0)&&!g(ue,!1))return X.call(ue,new r);if(re&&!we&&!A(ue,!1))return X.call(ue,new r);X.call(ue)},z=()=>{I=!0;const k=M(ue)||_(ue);if(k&&typeof k!="boolean")return X.call(ue,k);X.call(ue)},H=()=>{ue.req.on("finish",G)};L(ue)?(ue.on("complete",G),ge||ue.on("abort",B),ue.req?H():ue.on("request",H)):re&&!je&&(ue.on("end",$e),ue.on("close",$e)),!ge&&typeof ue.aborted=="boolean"&&ue.on("aborted",B),ue.on("end",P),ue.on("finish",G),pe.error!==!1&&ue.on("error",S),ue.on("close",B),I?a.nextTick(B):je!=null&&je.errorEmitted||qe!=null&&qe.errorEmitted?ge||a.nextTick(z):(!ve&&(!ge||b(ue))&&(we||v(ue)===!1)||!re&&(!ge||v(ue))&&(N||b(ue)===!1)||qe&&ue.req&&ue.aborted)&&a.nextTick(z);const K=()=>{X=V,ue.removeListener("aborted",B),ue.removeListener("complete",G),ue.removeListener("abort",B),ue.removeListener("request",H),ue.req&&ue.req.removeListener("finish",G),ue.removeListener("end",$e),ue.removeListener("close",$e),ue.removeListener("finish",G),ue.removeListener("end",P),ue.removeListener("error",S),ue.removeListener("close",B)};if(pe.signal&&!I){const k=()=>{const Z=X;K(),Z.call(ue,new t(void 0,{cause:pe.signal.reason}))};if(pe.signal.aborted)a.nextTick(k);else{x=x||nn().addAbortListener;const Z=x(pe.signal,k),de=X;X=i((...le)=>{Z[h](),de.apply(ue,le)})}}return K}function Q(ue,pe,X){let me=!1,Fe=V;if(pe.signal)if(Fe=()=>{me=!0,X.call(ue,new t(void 0,{cause:pe.signal.reason}))},pe.signal.aborted)a.nextTick(Fe);else{x=x||nn().addAbortListener;const re=x(pe.signal,Fe),je=X;X=i((...qe)=>{re[h](),je.apply(ue,qe)})}const ve=(...re)=>{me||a.nextTick(()=>X.apply(ue,re))};return d(ue[E].promise,ve,ve),V}function ie(ue,pe){var X;let me=!1;return pe===null&&(pe=e),(X=pe)!==null&&X!==void 0&&X.cleanup&&(l(pe.cleanup,"cleanup"),me=pe.cleanup),new f((Fe,ve)=>{const re=$(ue,pe,je=>{me&&re(),je?ve(je):Fe()})})}return qO.exports=$,qO.exports.finished=ie,qO.exports}var zI,NM;function sh(){if(NM)return zI;NM=1;const a=ia(),{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:u},AbortError:n}=Yr(),{Symbol:r}=ar(),{kIsDestroyed:e,isDestroyed:i,isFinished:o,isServerRequest:c}=xi(),s=r("kDestroy"),l=r("kConstruct");function f(O,E,x){O&&(O.stack,E&&!E.errored&&(E.errored=O),x&&!x.errored&&(x.errored=O))}function d(O,E){const x=this._readableState,L=this._writableState,V=L||x;return L!=null&&L.destroyed||x!=null&&x.destroyed?(typeof E=="function"&&E(),this):(f(O,L,x),L&&(L.destroyed=!0),x&&(x.destroyed=!0),V.constructed?h(this,O,E):this.once(s,function($){h(this,t($,O),E)}),this)}function h(O,E,x){let L=!1;function V($){if(L)return;L=!0;const Q=O._readableState,ie=O._writableState;f($,ie,Q),ie&&(ie.closed=!0),Q&&(Q.closed=!0),typeof x=="function"&&x($),$?a.nextTick(p,O,$):a.nextTick(b,O)}try{O._destroy(E||null,V)}catch($){V($)}}function p(O,E){m(O,E),b(O)}function b(O){const E=O._readableState,x=O._writableState;x&&(x.closeEmitted=!0),E&&(E.closeEmitted=!0),(x!=null&&x.emitClose||E!=null&&E.emitClose)&&O.emit("close")}function m(O,E){const x=O._readableState,L=O._writableState;L!=null&&L.errorEmitted||x!=null&&x.errorEmitted||(L&&(L.errorEmitted=!0),x&&(x.errorEmitted=!0),O.emit("error",E))}function y(){const O=this._readableState,E=this._writableState;O&&(O.constructed=!0,O.closed=!1,O.closeEmitted=!1,O.destroyed=!1,O.errored=null,O.errorEmitted=!1,O.reading=!1,O.ended=O.readable===!1,O.endEmitted=O.readable===!1),E&&(E.constructed=!0,E.destroyed=!1,E.closed=!1,E.closeEmitted=!1,E.errored=null,E.errorEmitted=!1,E.finalCalled=!1,E.prefinished=!1,E.ended=E.writable===!1,E.ending=E.writable===!1,E.finished=E.writable===!1)}function g(O,E,x){const L=O._readableState,V=O._writableState;if(V!=null&&V.destroyed||L!=null&&L.destroyed)return this;L!=null&&L.autoDestroy||V!=null&&V.autoDestroy?O.destroy(E):E&&(E.stack,V&&!V.errored&&(V.errored=E),L&&!L.errored&&(L.errored=E),x?a.nextTick(m,O,E):m(O,E))}function _(O,E){if(typeof O._construct!="function")return;const x=O._readableState,L=O._writableState;x&&(x.constructed=!1),L&&(L.constructed=!1),O.once(l,E),!(O.listenerCount(l)>1)&&a.nextTick(v,O)}function v(O){let E=!1;function x(L){if(E){g(O,L??new u);return}E=!0;const V=O._readableState,$=O._writableState,Q=$||V;V&&(V.constructed=!0),$&&($.constructed=!0),Q.destroyed?O.emit(s,L):L?g(O,L,!0):a.nextTick(T,O)}try{O._construct(L=>{a.nextTick(x,L)})}catch(L){a.nextTick(x,L)}}function T(O){O.emit(l)}function w(O){return(O==null?void 0:O.setHeader)&&typeof O.abort=="function"}function A(O){O.emit("close")}function M(O,E){O.emit("error",E),a.nextTick(A,O)}function F(O,E){!O||i(O)||(!E&&!o(O)&&(E=new n),c(O)?(O.socket=null,O.destroy(E)):w(O)?O.abort():w(O.req)?O.req.abort():typeof O.destroy=="function"?O.destroy(E):typeof O.close=="function"?O.close():E?a.nextTick(M,O,E):a.nextTick(A,O),O.destroyed||(O[e]=!0))}return zI={construct:_,destroyer:F,destroy:d,undestroy:y,errorOrDestroy:g},zI}var XI,FM;function JI(){if(FM)return XI;FM=1;const{ArrayIsArray:a,ObjectSetPrototypeOf:t}=ar(),{EventEmitter:u}=J0();function n(e){u.call(this,e)}t(n.prototype,u.prototype),t(n,u),n.prototype.pipe=function(e,i){const o=this;function c(b){e.writable&&e.write(b)===!1&&o.pause&&o.pause()}o.on("data",c);function s(){o.readable&&o.resume&&o.resume()}e.on("drain",s),!e._isStdio&&(!i||i.end!==!1)&&(o.on("end",f),o.on("close",d));let l=!1;function f(){l||(l=!0,e.end())}function d(){l||(l=!0,typeof e.destroy=="function"&&e.destroy())}function h(b){p(),u.listenerCount(this,"error")===0&&this.emit("error",b)}r(o,"error",h),r(e,"error",h);function p(){o.removeListener("data",c),e.removeListener("drain",s),o.removeListener("end",f),o.removeListener("close",d),o.removeListener("error",h),e.removeListener("error",h),o.removeListener("end",p),o.removeListener("close",p),e.removeListener("close",p)}return o.on("end",p),o.on("close",p),e.on("close",p),e.emit("pipe",o),e};function r(e,i,o){if(typeof e.prependListener=="function")return e.prependListener(i,o);!e._events||!e._events[i]?e.on(i,o):a(e._events[i])?e._events[i].unshift(o):e._events[i]=[o,e._events[i]]}return XI={Stream:n,prependListener:r},XI}var KI={exports:{}},DM;function CO(){return DM||(DM=1,function(a){const{SymbolDispose:t}=ar(),{AbortError:u,codes:n}=Yr(),{isNodeStream:r,isWebStream:e,kControllerErrorFunction:i}=xi(),o=ua(),{ERR_INVALID_ARG_TYPE:c}=n;let s;const l=(f,d)=>{if(typeof f!="object"||!("aborted"in f))throw new c(d,"AbortSignal",f)};a.exports.addAbortSignal=function(d,h){if(l(d,"signal"),!r(h)&&!e(h))throw new c("stream",["ReadableStream","WritableStream","Stream"],h);return a.exports.addAbortSignalNoValidate(d,h)},a.exports.addAbortSignalNoValidate=function(f,d){if(typeof f!="object"||!("aborted"in f))return d;const h=r(d)?()=>{d.destroy(new u(void 0,{cause:f.reason}))}:()=>{d[i](new u(void 0,{cause:f.reason}))};if(f.aborted)h();else{s=s||nn().addAbortListener;const p=s(f,h);o(d,p[t])}return d}}(KI)),KI.exports}var WI,PM;function sce(){if(PM)return WI;PM=1;const{StringPrototypeSlice:a,SymbolIterator:t,TypedArrayPrototypeSet:u,Uint8Array:n}=ar(),{Buffer:r}=Ei(),{inspect:e}=nn();return WI=class{constructor(){this.head=null,this.tail=null,this.length=0}push(o){const c={data:o,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}unshift(o){const c={data:o,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}shift(){if(this.length===0)return;const o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}clear(){this.head=this.tail=null,this.length=0}join(o){if(this.length===0)return"";let c=this.head,s=""+c.data;for(;(c=c.next)!==null;)s+=o+c.data;return s}concat(o){if(this.length===0)return r.alloc(0);const c=r.allocUnsafe(o>>>0);let s=this.head,l=0;for(;s;)u(c,s.data,l),l+=s.data.length,s=s.next;return c}consume(o,c){const s=this.head.data;if(o<s.length){const l=s.slice(0,o);return this.head.data=s.slice(o),l}return o===s.length?this.shift():c?this._getString(o):this._getBuffer(o)}first(){return this.head.data}*[t](){for(let o=this.head;o;o=o.next)yield o.data}_getString(o){let c="",s=this.head,l=0;do{const f=s.data;if(o>f.length)c+=f,o-=f.length;else{o===f.length?(c+=f,++l,s.next?this.head=s.next:this.head=this.tail=null):(c+=a(f,0,o),this.head=s,s.data=a(f,o));break}++l}while((s=s.next)!==null);return this.length-=l,c}_getBuffer(o){const c=r.allocUnsafe(o),s=o;let l=this.head,f=0;do{const d=l.data;if(o>d.length)u(c,d,s-o),o-=d.length;else{o===d.length?(u(c,d,s-o),++f,l.next?this.head=l.next:this.head=this.tail=null):(u(c,new n(d.buffer,d.byteOffset,o),s-o),this.head=l,l.data=d.slice(o));break}++f}while((l=l.next)!==null);return this.length-=f,c}[Symbol.for("nodejs.util.inspect.custom")](o,c){return e(this,{...c,depth:0,customInspect:!1})}},WI}var YI,LM;function BO(){if(LM)return YI;LM=1;const{MathFloor:a,NumberIsInteger:t}=ar(),{validateInteger:u}=_1(),{ERR_INVALID_ARG_VALUE:n}=Yr().codes;let r=16*1024,e=16;function i(l,f,d){return l.highWaterMark!=null?l.highWaterMark:f?l[d]:null}function o(l){return l?e:r}function c(l,f){u(f,"value",0),l?e=f:r=f}function s(l,f,d,h){const p=i(f,h,d);if(p!=null){if(!t(p)||p<0){const b=h?`options.${d}`:"options.highWaterMark";throw new n(b,p)}return a(p)}return o(l.objectMode)}return YI={getHighWaterMark:s,getDefaultHighWaterMark:o,setDefaultHighWaterMark:c},YI}var ZI={},$O={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var jM;function cce(){return jM||(jM=1,function(a,t){var u=Ei(),n=u.Buffer;function r(i,o){for(var c in i)o[c]=i[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?a.exports=u:(r(u,t),t.Buffer=e);function e(i,o,c){return n(i,o,c)}e.prototype=Object.create(n.prototype),r(n,e),e.from=function(i,o,c){if(typeof i=="number")throw new TypeError("Argument must not be a number");return n(i,o,c)},e.alloc=function(i,o,c){if(typeof i!="number")throw new TypeError("Argument must be a number");var s=n(i);return o!==void 0?typeof c=="string"?s.fill(o,c):s.fill(o):s.fill(0),s},e.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return n(i)},e.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return u.SlowBuffer(i)}}($O,$O.exports)),$O.exports}var MM;function lce(){if(MM)return ZI;MM=1;var a=cce().Buffer,t=a.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u(y){if(!y)return"utf8";for(var g;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(g)return;y=(""+y).toLowerCase(),g=!0}}function n(y){var g=u(y);if(typeof g!="string"&&(a.isEncoding===t||!t(y)))throw new Error("Unknown encoding: "+y);return g||y}ZI.StringDecoder=r;function r(y){this.encoding=n(y);var g;switch(this.encoding){case"utf16le":this.text=f,this.end=d,g=4;break;case"utf8":this.fillLast=c,g=4;break;case"base64":this.text=h,this.end=p,g=3;break;default:this.write=b,this.end=m;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(g)}r.prototype.write=function(y){if(y.length===0)return"";var g,_;if(this.lastNeed){if(g=this.fillLast(y),g===void 0)return"";_=this.lastNeed,this.lastNeed=0}else _=0;return _<y.length?g?g+this.text(y,_):this.text(y,_):g||""},r.prototype.end=l,r.prototype.text=s,r.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function e(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function i(y,g,_){var v=g.length-1;if(v<_)return 0;var T=e(g[v]);return T>=0?(T>0&&(y.lastNeed=T-1),T):--v<_||T===-2?0:(T=e(g[v]),T>=0?(T>0&&(y.lastNeed=T-2),T):--v<_||T===-2?0:(T=e(g[v]),T>=0?(T>0&&(T===2?T=0:y.lastNeed=T-3),T):0))}function o(y,g,_){if((g[0]&192)!==128)return y.lastNeed=0,"";if(y.lastNeed>1&&g.length>1){if((g[1]&192)!==128)return y.lastNeed=1,"";if(y.lastNeed>2&&g.length>2&&(g[2]&192)!==128)return y.lastNeed=2,""}}function c(y){var g=this.lastTotal-this.lastNeed,_=o(this,y);if(_!==void 0)return _;if(this.lastNeed<=y.length)return y.copy(this.lastChar,g,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,g,0,y.length),this.lastNeed-=y.length}function s(y,g){var _=i(this,y,g);if(!this.lastNeed)return y.toString("utf8",g);this.lastTotal=_;var v=y.length-(_-this.lastNeed);return y.copy(this.lastChar,0,v),y.toString("utf8",g,v)}function l(y){var g=y&&y.length?this.write(y):"";return this.lastNeed?g+"":g}function f(y,g){if((y.length-g)%2===0){var _=y.toString("utf16le",g);if(_){var v=_.charCodeAt(_.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],_.slice(0,-1)}return _}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",g,y.length-1)}function d(y){var g=y&&y.length?this.write(y):"";if(this.lastNeed){var _=this.lastTotal-this.lastNeed;return g+this.lastChar.toString("utf16le",0,_)}return g}function h(y,g){var _=(y.length-g)%3;return _===0?y.toString("base64",g):(this.lastNeed=3-_,this.lastTotal=3,_===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",g,y.length-_))}function p(y){var g=y&&y.length?this.write(y):"";return this.lastNeed?g+this.lastChar.toString("base64",0,3-this.lastNeed):g}function b(y){return y.toString(this.encoding)}function m(y){return y&&y.length?this.write(y):""}return ZI}var eR,qM;function CM(){if(qM)return eR;qM=1;const a=ia(),{PromisePrototypeThen:t,SymbolAsyncIterator:u,SymbolIterator:n}=ar(),{Buffer:r}=Ei(),{ERR_INVALID_ARG_TYPE:e,ERR_STREAM_NULL_VALUES:i}=Yr().codes;function o(c,s,l){let f;if(typeof s=="string"||s instanceof r)return new c({objectMode:!0,...l,read(){this.push(s),this.push(null)}});let d;if(s&&s[u])d=!0,f=s[u]();else if(s&&s[n])d=!1,f=s[n]();else throw new e("iterable",["Iterable"],s);const h=new c({objectMode:!0,highWaterMark:1,...l});let p=!1;h._read=function(){p||(p=!0,m())},h._destroy=function(y,g){t(b(y),()=>a.nextTick(g,y),_=>a.nextTick(g,_||y))};async function b(y){const g=y!=null,_=typeof f.throw=="function";if(g&&_){const{value:v,done:T}=await f.throw(y);if(await v,T)return}if(typeof f.return=="function"){const{value:v}=await f.return();await v}}async function m(){for(;;){try{const{value:y,done:g}=d?await f.next():f.next();if(g)h.push(null);else{const _=y&&typeof y.then=="function"?await y:y;if(_===null)throw p=!1,new i;if(h.push(_))continue;p=!1}}catch(y){h.destroy(y)}break}}return h}return eR=o,eR}var tR,BM;function VO(){if(BM)return tR;BM=1;const a=ia(),{ArrayPrototypeIndexOf:t,NumberIsInteger:u,NumberIsNaN:n,NumberParseInt:r,ObjectDefineProperties:e,ObjectKeys:i,ObjectSetPrototypeOf:o,Promise:c,SafeSet:s,SymbolAsyncDispose:l,SymbolAsyncIterator:f,Symbol:d}=ar();tR=le,le.ReadableState=de;const{EventEmitter:h}=J0(),{Stream:p,prependListener:b}=JI(),{Buffer:m}=Ei(),{addAbortSignal:y}=CO(),g=ua();let _=nn().debuglog("stream",ne=>{_=ne});const v=sce(),T=sh(),{getHighWaterMark:w,getDefaultHighWaterMark:A}=BO(),{aggregateTwoErrors:M,codes:{ERR_INVALID_ARG_TYPE:F,ERR_METHOD_NOT_IMPLEMENTED:O,ERR_OUT_OF_RANGE:E,ERR_STREAM_PUSH_AFTER_EOF:x,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:L},AbortError:V}=Yr(),{validateObject:$}=_1(),Q=d("kPaused"),{StringDecoder:ie}=lce(),ue=CM();o(le.prototype,p.prototype),o(le,p);const pe=()=>{},{errorOrDestroy:X}=T,me=1,Fe=2,ve=4,re=8,je=16,qe=32,$e=64,ge=128,we=256,G=512,N=1024,P=2048,S=4096,I=8192,B=16384,z=32768,H=65536,K=1<<17,k=1<<18;function Z(ne){return{enumerable:!1,get(){return(this.state&ne)!==0},set(j){j?this.state|=ne:this.state&=~ne}}}e(de.prototype,{objectMode:Z(me),ended:Z(Fe),endEmitted:Z(ve),reading:Z(re),constructed:Z(je),sync:Z(qe),needReadable:Z($e),emittedReadable:Z(ge),readableListening:Z(we),resumeScheduled:Z(G),errorEmitted:Z(N),emitClose:Z(P),autoDestroy:Z(S),destroyed:Z(I),closed:Z(B),closeEmitted:Z(z),multiAwaitDrain:Z(H),readingMore:Z(K),dataEmitted:Z(k)});function de(ne,j,D){typeof D!="boolean"&&(D=j instanceof Ii()),this.state=P|S|je|qe,ne&&ne.objectMode&&(this.state|=me),D&&ne&&ne.readableObjectMode&&(this.state|=me),this.highWaterMark=ne?w(this,ne,"readableHighWaterMark",D):A(!1),this.buffer=new v,this.length=0,this.pipes=[],this.flowing=null,this[Q]=null,ne&&ne.emitClose===!1&&(this.state&=-2049),ne&&ne.autoDestroy===!1&&(this.state&=-4097),this.errored=null,this.defaultEncoding=ne&&ne.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,ne&&ne.encoding&&(this.decoder=new ie(ne.encoding),this.encoding=ne.encoding)}function le(ne){if(!(this instanceof le))return new le(ne);const j=this instanceof Ii();this._readableState=new de(ne,this,j),ne&&(typeof ne.read=="function"&&(this._read=ne.read),typeof ne.destroy=="function"&&(this._destroy=ne.destroy),typeof ne.construct=="function"&&(this._construct=ne.construct),ne.signal&&!j&&y(ne.signal,this)),p.call(this,ne),T.construct(this,()=>{this._readableState.needReadable&&R(this,this._readableState)})}le.prototype.destroy=T.destroy,le.prototype._undestroy=T.undestroy,le.prototype._destroy=function(ne,j){j(ne)},le.prototype[h.captureRejectionSymbol]=function(ne){this.destroy(ne)},le.prototype[l]=function(){let ne;return this.destroyed||(ne=this.readableEnded?null:new V,this.destroy(ne)),new c((j,D)=>g(this,q=>q&&q!==ne?D(q):j(null)))},le.prototype.push=function(ne,j){return De(this,ne,j,!1)},le.prototype.unshift=function(ne,j){return De(this,ne,j,!0)};function De(ne,j,D,q){_("readableAddChunk",j);const W=ne._readableState;let be;if((W.state&me)===0&&(typeof j=="string"?(D=D||W.defaultEncoding,W.encoding!==D&&(q&&W.encoding?j=m.from(j,D).toString(W.encoding):(j=m.from(j,D),D=""))):j instanceof m?D="":p._isUint8Array(j)?(j=p._uint8ArrayToBuffer(j),D=""):j!=null&&(be=new F("chunk",["string","Buffer","Uint8Array"],j))),be)X(ne,be);else if(j===null)W.state&=-9,ye(ne,W);else if((W.state&me)!==0||j&&j.length>0)if(q)if((W.state&ve)!==0)X(ne,new L);else{if(W.destroyed||W.errored)return!1;Qe(ne,W,j,!0)}else if(W.ended)X(ne,new x);else{if(W.destroyed||W.errored)return!1;W.state&=-9,W.decoder&&!D?(j=W.decoder.write(j),W.objectMode||j.length!==0?Qe(ne,W,j,!1):R(ne,W)):Qe(ne,W,j,!1)}else q||(W.state&=-9,R(ne,W));return!W.ended&&(W.length<W.highWaterMark||W.length===0)}function Qe(ne,j,D,q){j.flowing&&j.length===0&&!j.sync&&ne.listenerCount("data")>0?((j.state&H)!==0?j.awaitDrainWriters.clear():j.awaitDrainWriters=null,j.dataEmitted=!0,ne.emit("data",D)):(j.length+=j.objectMode?1:D.length,q?j.buffer.unshift(D):j.buffer.push(D),(j.state&$e)!==0&&xe(ne)),R(ne,j)}le.prototype.isPaused=function(){const ne=this._readableState;return ne[Q]===!0||ne.flowing===!1},le.prototype.setEncoding=function(ne){const j=new ie(ne);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;const D=this._readableState.buffer;let q="";for(const W of D)q+=j.write(W);return D.clear(),q!==""&&D.push(q),this._readableState.length=q.length,this};const Le=1073741824;function ce(ne){if(ne>Le)throw new E("size","<= 1GiB",ne);return ne--,ne|=ne>>>1,ne|=ne>>>2,ne|=ne>>>4,ne|=ne>>>8,ne|=ne>>>16,ne++,ne}function se(ne,j){return ne<=0||j.length===0&&j.ended?0:(j.state&me)!==0?1:n(ne)?j.flowing&&j.length?j.buffer.first().length:j.length:ne<=j.length?ne:j.ended?j.length:0}le.prototype.read=function(ne){_("read",ne),ne===void 0?ne=NaN:u(ne)||(ne=r(ne,10));const j=this._readableState,D=ne;if(ne>j.highWaterMark&&(j.highWaterMark=ce(ne)),ne!==0&&(j.state&=-129),ne===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return _("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?Ue(this):xe(this),null;if(ne=se(ne,j),ne===0&&j.ended)return j.length===0&&Ue(this),null;let q=(j.state&$e)!==0;if(_("need readable",q),(j.length===0||j.length-ne<j.highWaterMark)&&(q=!0,_("length less than watermark",q)),j.ended||j.reading||j.destroyed||j.errored||!j.constructed)q=!1,_("reading, ended or constructing",q);else if(q){_("do read"),j.state|=re|qe,j.length===0&&(j.state|=$e);try{this._read(j.highWaterMark)}catch(be){X(this,be)}j.state&=-33,j.reading||(ne=se(D,j))}let W;return ne>0?W=Ce(ne,j):W=null,W===null?(j.needReadable=j.length<=j.highWaterMark,ne=0):(j.length-=ne,j.multiAwaitDrain?j.awaitDrainWriters.clear():j.awaitDrainWriters=null),j.length===0&&(j.ended||(j.needReadable=!0),D!==ne&&j.ended&&Ue(this)),W!==null&&!j.errorEmitted&&!j.closeEmitted&&(j.dataEmitted=!0,this.emit("data",W)),W};function ye(ne,j){if(_("onEofChunk"),!j.ended){if(j.decoder){const D=j.decoder.end();D&&D.length&&(j.buffer.push(D),j.length+=j.objectMode?1:D.length)}j.ended=!0,j.sync?xe(ne):(j.needReadable=!1,j.emittedReadable=!0,U(ne))}}function xe(ne){const j=ne._readableState;_("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(_("emitReadable",j.flowing),j.emittedReadable=!0,a.nextTick(U,ne))}function U(ne){const j=ne._readableState;_("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&!j.errored&&(j.length||j.ended)&&(ne.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,Y(ne)}function R(ne,j){!j.readingMore&&j.constructed&&(j.readingMore=!0,a.nextTick(C,ne,j))}function C(ne,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){const D=j.length;if(_("maybeReadMore read 0"),ne.read(0),D===j.length)break}j.readingMore=!1}le.prototype._read=function(ne){throw new O("_read()")},le.prototype.pipe=function(ne,j){const D=this,q=this._readableState;q.pipes.length===1&&(q.multiAwaitDrain||(q.multiAwaitDrain=!0,q.awaitDrainWriters=new s(q.awaitDrainWriters?[q.awaitDrainWriters]:[]))),q.pipes.push(ne),_("pipe count=%d opts=%j",q.pipes.length,j);const be=(!j||j.end!==!1)&&ne!==a.stdout&&ne!==a.stderr?Pe:oe;q.endEmitted?a.nextTick(be):D.once("end",be),ne.on("unpipe",he);function he(Oe,Ie){_("onunpipe"),Oe===D&&Ie&&Ie.hasUnpiped===!1&&(Ie.hasUnpiped=!0,Ke())}function Pe(){_("onend"),ne.end()}let Be,ze=!1;function Ke(){_("cleanup"),ne.removeListener("close",Hr),ne.removeListener("finish",Je),Be&&ne.removeListener("drain",Be),ne.removeListener("error",Ye),ne.removeListener("unpipe",he),D.removeListener("end",Pe),D.removeListener("end",oe),D.removeListener("data",Ze),ze=!0,Be&&q.awaitDrainWriters&&(!ne._writableState||ne._writableState.needDrain)&&Be()}function ct(){ze||(q.pipes.length===1&&q.pipes[0]===ne?(_("false write response, pause",0),q.awaitDrainWriters=ne,q.multiAwaitDrain=!1):q.pipes.length>1&&q.pipes.includes(ne)&&(_("false write response, pause",q.awaitDrainWriters.size),q.awaitDrainWriters.add(ne)),D.pause()),Be||(Be=J(D,ne),ne.on("drain",Be))}D.on("data",Ze);function Ze(Oe){_("ondata");const Ie=ne.write(Oe);_("dest.write",Ie),Ie===!1&&ct()}function Ye(Oe){if(_("onerror",Oe),oe(),ne.removeListener("error",Ye),ne.listenerCount("error")===0){const Ie=ne._writableState||ne._readableState;Ie&&!Ie.errorEmitted?X(ne,Oe):ne.emit("error",Oe)}}b(ne,"error",Ye);function Hr(){ne.removeListener("finish",Je),oe()}ne.once("close",Hr);function Je(){_("onfinish"),ne.removeListener("close",Hr),oe()}ne.once("finish",Je);function oe(){_("unpipe"),D.unpipe(ne)}return ne.emit("pipe",D),ne.writableNeedDrain===!0?ct():q.flowing||(_("pipe resume"),D.resume()),ne};function J(ne,j){return function(){const q=ne._readableState;q.awaitDrainWriters===j?(_("pipeOnDrain",1),q.awaitDrainWriters=null):q.multiAwaitDrain&&(_("pipeOnDrain",q.awaitDrainWriters.size),q.awaitDrainWriters.delete(j)),(!q.awaitDrainWriters||q.awaitDrainWriters.size===0)&&ne.listenerCount("data")&&ne.resume()}}le.prototype.unpipe=function(ne){const j=this._readableState,D={hasUnpiped:!1};if(j.pipes.length===0)return this;if(!ne){const W=j.pipes;j.pipes=[],this.pause();for(let be=0;be<W.length;be++)W[be].emit("unpipe",this,{hasUnpiped:!1});return this}const q=t(j.pipes,ne);return q===-1?this:(j.pipes.splice(q,1),j.pipes.length===0&&this.pause(),ne.emit("unpipe",this,D),this)},le.prototype.on=function(ne,j){const D=p.prototype.on.call(this,ne,j),q=this._readableState;return ne==="data"?(q.readableListening=this.listenerCount("readable")>0,q.flowing!==!1&&this.resume()):ne==="readable"&&!q.endEmitted&&!q.readableListening&&(q.readableListening=q.needReadable=!0,q.flowing=!1,q.emittedReadable=!1,_("on readable",q.length,q.reading),q.length?xe(this):q.reading||a.nextTick(_e,this)),D},le.prototype.addListener=le.prototype.on,le.prototype.removeListener=function(ne,j){const D=p.prototype.removeListener.call(this,ne,j);return ne==="readable"&&a.nextTick(ae,this),D},le.prototype.off=le.prototype.removeListener,le.prototype.removeAllListeners=function(ne){const j=p.prototype.removeAllListeners.apply(this,arguments);return(ne==="readable"||ne===void 0)&&a.nextTick(ae,this),j};function ae(ne){const j=ne._readableState;j.readableListening=ne.listenerCount("readable")>0,j.resumeScheduled&&j[Q]===!1?j.flowing=!0:ne.listenerCount("data")>0?ne.resume():j.readableListening||(j.flowing=null)}function _e(ne){_("readable nexttick read 0"),ne.read(0)}le.prototype.resume=function(){const ne=this._readableState;return ne.flowing||(_("resume"),ne.flowing=!ne.readableListening,Se(this,ne)),ne[Q]=!1,this};function Se(ne,j){j.resumeScheduled||(j.resumeScheduled=!0,a.nextTick(Xe,ne,j))}function Xe(ne,j){_("resume",j.reading),j.reading||ne.read(0),j.resumeScheduled=!1,ne.emit("resume"),Y(ne),j.flowing&&!j.reading&&ne.read(0)}le.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Q]=!0,this};function Y(ne){const j=ne._readableState;for(_("flow",j.flowing);j.flowing&&ne.read()!==null;);}le.prototype.wrap=function(ne){let j=!1;ne.on("data",q=>{!this.push(q)&&ne.pause&&(j=!0,ne.pause())}),ne.on("end",()=>{this.push(null)}),ne.on("error",q=>{X(this,q)}),ne.on("close",()=>{this.destroy()}),ne.on("destroy",()=>{this.destroy()}),this._read=()=>{j&&ne.resume&&(j=!1,ne.resume())};const D=i(ne);for(let q=1;q<D.length;q++){const W=D[q];this[W]===void 0&&typeof ne[W]=="function"&&(this[W]=ne[W].bind(ne))}return this},le.prototype[f]=function(){return Ee(this)},le.prototype.iterator=function(ne){return ne!==void 0&&$(ne,"options"),Ee(this,ne)};function Ee(ne,j){typeof ne.read!="function"&&(ne=le.wrap(ne,{objectMode:!0}));const D=Ne(ne,j);return D.stream=ne,D}async function*Ne(ne,j){let D=pe;function q(he){this===ne?(D(),D=pe):D=he}ne.on("readable",q);let W;const be=g(ne,{writable:!1},he=>{W=he?M(W,he):null,D(),D=pe});try{for(;;){const he=ne.destroyed?null:ne.read();if(he!==null)yield he;else{if(W)throw W;if(W===null)return;await new c(q)}}}catch(he){throw W=M(W,he),W}finally{(W||(j==null?void 0:j.destroyOnReturn)!==!1)&&(W===void 0||ne._readableState.autoDestroy)?T.destroyer(ne,null):(ne.off("readable",q),be())}}e(le.prototype,{readable:{__proto__:null,get(){const ne=this._readableState;return!!ne&&ne.readable!==!1&&!ne.destroyed&&!ne.errorEmitted&&!ne.endEmitted},set(ne){this._readableState&&(this._readableState.readable=!!ne)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(ne){this._readableState&&(this._readableState.flowing=ne)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(ne){this._readableState&&(this._readableState.destroyed=ne)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),e(de.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Q]!==!1},set(ne){this[Q]=!!ne}}}),le._fromList=Ce;function Ce(ne,j){if(j.length===0)return null;let D;return j.objectMode?D=j.buffer.shift():!ne||ne>=j.length?(j.decoder?D=j.buffer.join(""):j.buffer.length===1?D=j.buffer.first():D=j.buffer.concat(j.length),j.buffer.clear()):D=j.buffer.consume(ne,j.decoder),D}function Ue(ne){const j=ne._readableState;_("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,a.nextTick(tt,j,ne))}function tt(ne,j){if(_("endReadableNT",ne.endEmitted,ne.length),!ne.errored&&!ne.closeEmitted&&!ne.endEmitted&&ne.length===0){if(ne.endEmitted=!0,j.emit("end"),j.writable&&j.allowHalfOpen===!1)a.nextTick(ut,j);else if(ne.autoDestroy){const D=j._writableState;(!D||D.autoDestroy&&(D.finished||D.writable===!1))&&j.destroy()}}}function ut(ne){ne.writable&&!ne.writableEnded&&!ne.destroyed&&ne.end()}le.from=function(ne,j){return ue(le,ne,j)};let rt;function lt(){return rt===void 0&&(rt={}),rt}return le.fromWeb=function(ne,j){return lt().newStreamReadableFromReadableStream(ne,j)},le.toWeb=function(ne,j){return lt().newReadableStreamFromStreamReadable(ne,j)},le.wrap=function(ne,j){var D,q;return new le({objectMode:(D=(q=ne.readableObjectMode)!==null&&q!==void 0?q:ne.objectMode)!==null&&D!==void 0?D:!0,...j,destroy(W,be){T.destroyer(ne,W),be(W)}}).wrap(ne)},tR}var rR,$M;function nR(){if($M)return rR;$M=1;const a=ia(),{ArrayPrototypeSlice:t,Error:u,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:r,ObjectDefineProperties:e,ObjectSetPrototypeOf:i,StringPrototypeToLowerCase:o,Symbol:c,SymbolHasInstance:s}=ar();rR=$,$.WritableState=L;const{EventEmitter:l}=J0(),f=JI().Stream,{Buffer:d}=Ei(),h=sh(),{addAbortSignal:p}=CO(),{getHighWaterMark:b,getDefaultHighWaterMark:m}=BO(),{ERR_INVALID_ARG_TYPE:y,ERR_METHOD_NOT_IMPLEMENTED:g,ERR_MULTIPLE_CALLBACK:_,ERR_STREAM_CANNOT_PIPE:v,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:w,ERR_STREAM_NULL_VALUES:A,ERR_STREAM_WRITE_AFTER_END:M,ERR_UNKNOWN_ENCODING:F}=Yr().codes,{errorOrDestroy:O}=h;i($.prototype,f.prototype),i($,f);function E(){}const x=c("kOnFinished");function L(S,I,B){typeof B!="boolean"&&(B=I instanceof Ii()),this.objectMode=!!(S&&S.objectMode),B&&(this.objectMode=this.objectMode||!!(S&&S.writableObjectMode)),this.highWaterMark=S?b(this,S,"writableHighWaterMark",B):m(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const z=!!(S&&S.decodeStrings===!1);this.decodeStrings=!z,this.defaultEncoding=S&&S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=X.bind(void 0,I),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,V(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!S||S.emitClose!==!1,this.autoDestroy=!S||S.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[x]=[]}function V(S){S.buffered=[],S.bufferedIndex=0,S.allBuffers=!0,S.allNoop=!0}L.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},r(L.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function $(S){const I=this instanceof Ii();if(!I&&!n($,this))return new $(S);this._writableState=new L(S,this,I),S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final),typeof S.construct=="function"&&(this._construct=S.construct),S.signal&&p(S.signal,this)),f.call(this,S),h.construct(this,()=>{const B=this._writableState;B.writing||re(this,B),ge(this,B)})}r($,s,{__proto__:null,value:function(S){return n(this,S)?!0:this!==$?!1:S&&S._writableState instanceof L}}),$.prototype.pipe=function(){O(this,new v)};function Q(S,I,B,z){const H=S._writableState;if(typeof B=="function")z=B,B=H.defaultEncoding;else{if(!B)B=H.defaultEncoding;else if(B!=="buffer"&&!d.isEncoding(B))throw new F(B);typeof z!="function"&&(z=E)}if(I===null)throw new A;if(!H.objectMode)if(typeof I=="string")H.decodeStrings!==!1&&(I=d.from(I,B),B="buffer");else if(I instanceof d)B="buffer";else if(f._isUint8Array(I))I=f._uint8ArrayToBuffer(I),B="buffer";else throw new y("chunk",["string","Buffer","Uint8Array"],I);let K;return H.ending?K=new M:H.destroyed&&(K=new T("write")),K?(a.nextTick(z,K),O(S,K,!0),K):(H.pendingcb++,ie(S,H,I,B,z))}$.prototype.write=function(S,I,B){return Q(this,S,I,B)===!0},$.prototype.cork=function(){this._writableState.corked++},$.prototype.uncork=function(){const S=this._writableState;S.corked&&(S.corked--,S.writing||re(this,S))},$.prototype.setDefaultEncoding=function(I){if(typeof I=="string"&&(I=o(I)),!d.isEncoding(I))throw new F(I);return this._writableState.defaultEncoding=I,this};function ie(S,I,B,z,H){const K=I.objectMode?1:B.length;I.length+=K;const k=I.length<I.highWaterMark;return k||(I.needDrain=!0),I.writing||I.corked||I.errored||!I.constructed?(I.buffered.push({chunk:B,encoding:z,callback:H}),I.allBuffers&&z!=="buffer"&&(I.allBuffers=!1),I.allNoop&&H!==E&&(I.allNoop=!1)):(I.writelen=K,I.writecb=H,I.writing=!0,I.sync=!0,S._write(B,z,I.onwrite),I.sync=!1),k&&!I.errored&&!I.destroyed}function ue(S,I,B,z,H,K,k){I.writelen=z,I.writecb=k,I.writing=!0,I.sync=!0,I.destroyed?I.onwrite(new T("write")):B?S._writev(H,I.onwrite):S._write(H,K,I.onwrite),I.sync=!1}function pe(S,I,B,z){--I.pendingcb,z(B),ve(I),O(S,B)}function X(S,I){const B=S._writableState,z=B.sync,H=B.writecb;if(typeof H!="function"){O(S,new _);return}B.writing=!1,B.writecb=null,B.length-=B.writelen,B.writelen=0,I?(I.stack,B.errored||(B.errored=I),S._readableState&&!S._readableState.errored&&(S._readableState.errored=I),z?a.nextTick(pe,S,B,I,H):pe(S,B,I,H)):(B.buffered.length>B.bufferedIndex&&re(S,B),z?B.afterWriteTickInfo!==null&&B.afterWriteTickInfo.cb===H?B.afterWriteTickInfo.count++:(B.afterWriteTickInfo={count:1,cb:H,stream:S,state:B},a.nextTick(me,B.afterWriteTickInfo)):Fe(S,B,1,H))}function me({stream:S,state:I,count:B,cb:z}){return I.afterWriteTickInfo=null,Fe(S,I,B,z)}function Fe(S,I,B,z){for(!I.ending&&!S.destroyed&&I.length===0&&I.needDrain&&(I.needDrain=!1,S.emit("drain"));B-- >0;)I.pendingcb--,z();I.destroyed&&ve(I),ge(S,I)}function ve(S){if(S.writing)return;for(let H=S.bufferedIndex;H<S.buffered.length;++H){var I;const{chunk:K,callback:k}=S.buffered[H],Z=S.objectMode?1:K.length;S.length-=Z,k((I=S.errored)!==null&&I!==void 0?I:new T("write"))}const B=S[x].splice(0);for(let H=0;H<B.length;H++){var z;B[H]((z=S.errored)!==null&&z!==void 0?z:new T("end"))}V(S)}function re(S,I){if(I.corked||I.bufferProcessing||I.destroyed||!I.constructed)return;const{buffered:B,bufferedIndex:z,objectMode:H}=I,K=B.length-z;if(!K)return;let k=z;if(I.bufferProcessing=!0,K>1&&S._writev){I.pendingcb-=K-1;const Z=I.allNoop?E:le=>{for(let De=k;De<B.length;++De)B[De].callback(le)},de=I.allNoop&&k===0?B:t(B,k);de.allBuffers=I.allBuffers,ue(S,I,!0,I.length,de,"",Z),V(I)}else{do{const{chunk:Z,encoding:de,callback:le}=B[k];B[k++]=null;const De=H?1:Z.length;ue(S,I,!1,De,Z,de,le)}while(k<B.length&&!I.writing);k===B.length?V(I):k>256?(B.splice(0,k),I.bufferedIndex=0):I.bufferedIndex=k}I.bufferProcessing=!1}$.prototype._write=function(S,I,B){if(this._writev)this._writev([{chunk:S,encoding:I}],B);else throw new g("_write()")},$.prototype._writev=null,$.prototype.end=function(S,I,B){const z=this._writableState;typeof S=="function"?(B=S,S=null,I=null):typeof I=="function"&&(B=I,I=null);let H;if(S!=null){const K=Q(this,S,I);K instanceof u&&(H=K)}return z.corked&&(z.corked=1,this.uncork()),H||(!z.errored&&!z.ending?(z.ending=!0,ge(this,z,!0),z.ended=!0):z.finished?H=new w("end"):z.destroyed&&(H=new T("end"))),typeof B=="function"&&(H||z.finished?a.nextTick(B,H):z[x].push(B)),this};function je(S){return S.ending&&!S.destroyed&&S.constructed&&S.length===0&&!S.errored&&S.buffered.length===0&&!S.finished&&!S.writing&&!S.errorEmitted&&!S.closeEmitted}function qe(S,I){let B=!1;function z(H){if(B){O(S,H??_());return}if(B=!0,I.pendingcb--,H){const K=I[x].splice(0);for(let k=0;k<K.length;k++)K[k](H);O(S,H,I.sync)}else je(I)&&(I.prefinished=!0,S.emit("prefinish"),I.pendingcb++,a.nextTick(we,S,I))}I.sync=!0,I.pendingcb++;try{S._final(z)}catch(H){z(H)}I.sync=!1}function $e(S,I){!I.prefinished&&!I.finalCalled&&(typeof S._final=="function"&&!I.destroyed?(I.finalCalled=!0,qe(S,I)):(I.prefinished=!0,S.emit("prefinish")))}function ge(S,I,B){je(I)&&($e(S,I),I.pendingcb===0&&(B?(I.pendingcb++,a.nextTick((z,H)=>{je(H)?we(z,H):H.pendingcb--},S,I)):je(I)&&(I.pendingcb++,we(S,I))))}function we(S,I){I.pendingcb--,I.finished=!0;const B=I[x].splice(0);for(let z=0;z<B.length;z++)B[z]();if(S.emit("finish"),I.autoDestroy){const z=S._readableState;(!z||z.autoDestroy&&(z.endEmitted||z.readable===!1))&&S.destroy()}}e($.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(S){this._writableState&&(this._writableState.destroyed=S)}},writable:{__proto__:null,get(){const S=this._writableState;return!!S&&S.writable!==!1&&!S.destroyed&&!S.errored&&!S.ending&&!S.ended},set(S){this._writableState&&(this._writableState.writable=!!S)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const S=this._writableState;return S?!S.destroyed&&!S.ending&&S.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const G=h.destroy;$.prototype.destroy=function(S,I){const B=this._writableState;return!B.destroyed&&(B.bufferedIndex<B.buffered.length||B[x].length)&&a.nextTick(ve,B),G.call(this,S,I),this},$.prototype._undestroy=h.undestroy,$.prototype._destroy=function(S,I){I(S)},$.prototype[l.captureRejectionSymbol]=function(S){this.destroy(S)};let N;function P(){return N===void 0&&(N={}),N}return $.fromWeb=function(S,I){return P().newStreamWritableFromWritableStream(S,I)},$.toWeb=function(S){return P().newWritableStreamFromStreamWritable(S)},rR}var iR,VM;function dce(){if(VM)return iR;VM=1;const a=ia(),t=Ei(),{isReadable:u,isWritable:n,isIterable:r,isNodeStream:e,isReadableNodeStream:i,isWritableNodeStream:o,isDuplexNodeStream:c,isReadableStream:s,isWritableStream:l}=xi(),f=ua(),{AbortError:d,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:p}}=Yr(),{destroyer:b}=sh(),m=Ii(),y=VO(),g=nR(),{createDeferredPromise:_}=nn(),v=CM(),T=globalThis.Blob||t.Blob,w=typeof T<"u"?function(L){return L instanceof T}:function(L){return!1},A=globalThis.AbortController||b1().AbortController,{FunctionPrototypeCall:M}=ar();class F extends m{constructor(L){super(L),(L==null?void 0:L.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(L==null?void 0:L.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}iR=function x(L,V){if(c(L))return L;if(i(L))return E({readable:L});if(o(L))return E({writable:L});if(e(L))return E({writable:!1,readable:!1});if(s(L))return E({readable:y.fromWeb(L)});if(l(L))return E({writable:g.fromWeb(L)});if(typeof L=="function"){const{value:Q,write:ie,final:ue,destroy:pe}=O(L);if(r(Q))return v(F,Q,{objectMode:!0,write:ie,final:ue,destroy:pe});const X=Q==null?void 0:Q.then;if(typeof X=="function"){let me;const Fe=M(X,Q,ve=>{if(ve!=null)throw new p("nully","body",ve)},ve=>{b(me,ve)});return me=new F({objectMode:!0,readable:!1,write:ie,final(ve){ue(async()=>{try{await Fe,a.nextTick(ve,null)}catch(re){a.nextTick(ve,re)}})},destroy:pe})}throw new p("Iterable, AsyncIterable or AsyncFunction",V,Q)}if(w(L))return x(L.arrayBuffer());if(r(L))return v(F,L,{objectMode:!0,writable:!1});if(s(L==null?void 0:L.readable)&&l(L==null?void 0:L.writable))return F.fromWeb(L);if(typeof(L==null?void 0:L.writable)=="object"||typeof(L==null?void 0:L.readable)=="object"){const Q=L!=null&&L.readable?i(L==null?void 0:L.readable)?L==null?void 0:L.readable:x(L.readable):void 0,ie=L!=null&&L.writable?o(L==null?void 0:L.writable)?L==null?void 0:L.writable:x(L.writable):void 0;return E({readable:Q,writable:ie})}const $=L==null?void 0:L.then;if(typeof $=="function"){let Q;return M($,L,ie=>{ie!=null&&Q.push(ie),Q.push(null)},ie=>{b(Q,ie)}),Q=new F({objectMode:!0,writable:!1,read(){}})}throw new h(V,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],L)};function O(x){let{promise:L,resolve:V}=_();const $=new A,Q=$.signal;return{value:x(async function*(){for(;;){const ue=L;L=null;const{chunk:pe,done:X,cb:me}=await ue;if(a.nextTick(me),X)return;if(Q.aborted)throw new d(void 0,{cause:Q.reason});({promise:L,resolve:V}=_()),yield pe}}(),{signal:Q}),write(ue,pe,X){const me=V;V=null,me({chunk:ue,done:!1,cb:X})},final(ue){const pe=V;V=null,pe({done:!0,cb:ue})},destroy(ue,pe){$.abort(),pe(ue)}}}function E(x){const L=x.readable&&typeof x.readable.read!="function"?y.wrap(x.readable):x.readable,V=x.writable;let $=!!u(L),Q=!!n(V),ie,ue,pe,X,me;function Fe(ve){const re=X;X=null,re?re(ve):ve&&me.destroy(ve)}return me=new F({readableObjectMode:!!(L!=null&&L.readableObjectMode),writableObjectMode:!!(V!=null&&V.writableObjectMode),readable:$,writable:Q}),Q&&(f(V,ve=>{Q=!1,ve&&b(L,ve),Fe(ve)}),me._write=function(ve,re,je){V.write(ve,re)?je():ie=je},me._final=function(ve){V.end(),ue=ve},V.on("drain",function(){if(ie){const ve=ie;ie=null,ve()}}),V.on("finish",function(){if(ue){const ve=ue;ue=null,ve()}})),$&&(f(L,ve=>{$=!1,ve&&b(L,ve),Fe(ve)}),L.on("readable",function(){if(pe){const ve=pe;pe=null,ve()}}),L.on("end",function(){me.push(null)}),me._read=function(){for(;;){const ve=L.read();if(ve===null){pe=me._read;return}if(!me.push(ve))return}}),me._destroy=function(ve,re){!ve&&X!==null&&(ve=new d),pe=null,ie=null,ue=null,X===null?re(ve):(X=re,b(V,ve),b(L,ve))},me}return iR}var aR,UM;function Ii(){if(UM)return aR;UM=1;const{ObjectDefineProperties:a,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:u,ObjectSetPrototypeOf:n}=ar();aR=i;const r=VO(),e=nR();n(i.prototype,r.prototype),n(i,r);{const l=u(e.prototype);for(let f=0;f<l.length;f++){const d=l[f];i.prototype[d]||(i.prototype[d]=e.prototype[d])}}function i(l){if(!(this instanceof i))return new i(l);r.call(this,l),e.call(this,l),l?(this.allowHalfOpen=l.allowHalfOpen!==!1,l.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),l.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}a(i.prototype,{writable:{__proto__:null,...t(e.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(e.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(e.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(e.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(e.prototype,"writableLength")},writableFinished:{__proto__:null,...t(e.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(e.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(e.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(e.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(l){this._readableState&&this._writableState&&(this._readableState.destroyed=l,this._writableState.destroyed=l)}}});let o;function c(){return o===void 0&&(o={}),o}i.fromWeb=function(l,f){return c().newStreamDuplexFromReadableWritablePair(l,f)},i.toWeb=function(l){return c().newReadableWritablePairFromDuplex(l)};let s;return i.from=function(l){return s||(s=dce()),s(l,"body")},aR}var uR,QM;function HM(){if(QM)return uR;QM=1;const{ObjectSetPrototypeOf:a,Symbol:t}=ar();uR=i;const{ERR_METHOD_NOT_IMPLEMENTED:u}=Yr().codes,n=Ii(),{getHighWaterMark:r}=BO();a(i.prototype,n.prototype),a(i,n);const e=t("kCallback");function i(s){if(!(this instanceof i))return new i(s);const l=s?r(this,s,"readableHighWaterMark",!0):null;l===0&&(s={...s,highWaterMark:null,readableHighWaterMark:l,writableHighWaterMark:s.writableHighWaterMark||0}),n.call(this,s),this._readableState.sync=!1,this[e]=null,s&&(typeof s.transform=="function"&&(this._transform=s.transform),typeof s.flush=="function"&&(this._flush=s.flush)),this.on("prefinish",c)}function o(s){typeof this._flush=="function"&&!this.destroyed?this._flush((l,f)=>{if(l){s?s(l):this.destroy(l);return}f!=null&&this.push(f),this.push(null),s&&s()}):(this.push(null),s&&s())}function c(){this._final!==o&&o.call(this)}return i.prototype._final=o,i.prototype._transform=function(s,l,f){throw new u("_transform()")},i.prototype._write=function(s,l,f){const d=this._readableState,h=this._writableState,p=d.length;this._transform(s,l,(b,m)=>{if(b){f(b);return}m!=null&&this.push(m),h.ended||p===d.length||d.length<d.highWaterMark?f():this[e]=f})},i.prototype._read=function(){if(this[e]){const s=this[e];this[e]=null,s()}},uR}var oR,GM;function kM(){if(GM)return oR;GM=1;const{ObjectSetPrototypeOf:a}=ar();oR=u;const t=HM();a(u.prototype,t.prototype),a(u,t);function u(n){if(!(this instanceof u))return new u(n);t.call(this,n)}return u.prototype._transform=function(n,r,e){e(null,n)},oR}var sR,zM;function cR(){if(zM)return sR;zM=1;const a=ia(),{ArrayIsArray:t,Promise:u,SymbolAsyncIterator:n,SymbolDispose:r}=ar(),e=ua(),{once:i}=nn(),o=sh(),c=Ii(),{aggregateTwoErrors:s,codes:{ERR_INVALID_ARG_TYPE:l,ERR_INVALID_RETURN_VALUE:f,ERR_MISSING_ARGS:d,ERR_STREAM_DESTROYED:h,ERR_STREAM_PREMATURE_CLOSE:p},AbortError:b}=Yr(),{validateFunction:m,validateAbortSignal:y}=_1(),{isIterable:g,isReadable:_,isReadableNodeStream:v,isNodeStream:T,isTransformStream:w,isWebStream:A,isReadableStream:M,isReadableFinished:F}=xi(),O=globalThis.AbortController||b1().AbortController;let E,x,L;function V(ve,re,je){let qe=!1;ve.on("close",()=>{qe=!0});const $e=e(ve,{readable:re,writable:je},ge=>{qe=!ge});return{destroy:ge=>{qe||(qe=!0,o.destroyer(ve,ge||new h("pipe")))},cleanup:$e}}function $(ve){return m(ve[ve.length-1],"streams[stream.length - 1]"),ve.pop()}function Q(ve){if(g(ve))return ve;if(v(ve))return ie(ve);throw new l("val",["Readable","Iterable","AsyncIterable"],ve)}async function*ie(ve){x||(x=VO()),yield*x.prototype[n].call(ve)}async function ue(ve,re,je,{end:qe}){let $e,ge=null;const we=P=>{if(P&&($e=P),ge){const S=ge;ge=null,S()}},G=()=>new u((P,S)=>{$e?S($e):ge=()=>{$e?S($e):P()}});re.on("drain",we);const N=e(re,{readable:!1},we);try{re.writableNeedDrain&&await G();for await(const P of ve)re.write(P)||await G();qe&&(re.end(),await G()),je()}catch(P){je($e!==P?s($e,P):P)}finally{N(),re.off("drain",we)}}async function pe(ve,re,je,{end:qe}){w(re)&&(re=re.writable);const $e=re.getWriter();try{for await(const ge of ve)await $e.ready,$e.write(ge).catch(()=>{});await $e.ready,qe&&await $e.close(),je()}catch(ge){try{await $e.abort(ge),je(ge)}catch(we){je(we)}}}function X(...ve){return me(ve,i($(ve)))}function me(ve,re,je){if(ve.length===1&&t(ve[0])&&(ve=ve[0]),ve.length<2)throw new d("streams");const qe=new O,$e=qe.signal,ge=je==null?void 0:je.signal,we=[];y(ge,"options.signal");function G(){H(new b)}L=L||nn().addAbortListener;let N;ge&&(N=L(ge,G));let P,S;const I=[];let B=0;function z(de){H(de,--B===0)}function H(de,le){var De;if(de&&(!P||P.code==="ERR_STREAM_PREMATURE_CLOSE")&&(P=de),!(!P&&!le)){for(;I.length;)I.shift()(P);(De=N)===null||De===void 0||De[r](),qe.abort(),le&&(P||we.forEach(Qe=>Qe()),a.nextTick(re,P,S))}}let K;for(let de=0;de<ve.length;de++){const le=ve[de],De=de<ve.length-1,Qe=de>0,Le=De||(je==null?void 0:je.end)!==!1,ce=de===ve.length-1;if(T(le)){let se=function(ye){ye&&ye.name!=="AbortError"&&ye.code!=="ERR_STREAM_PREMATURE_CLOSE"&&z(ye)};if(Le){const{destroy:ye,cleanup:xe}=V(le,De,Qe);I.push(ye),_(le)&&ce&&we.push(xe)}le.on("error",se),_(le)&&ce&&we.push(()=>{le.removeListener("error",se)})}if(de===0)if(typeof le=="function"){if(K=le({signal:$e}),!g(K))throw new f("Iterable, AsyncIterable or Stream","source",K)}else g(le)||v(le)||w(le)?K=le:K=c.from(le);else if(typeof le=="function"){if(w(K)){var k;K=Q((k=K)===null||k===void 0?void 0:k.readable)}else K=Q(K);if(K=le(K,{signal:$e}),De){if(!g(K,!0))throw new f("AsyncIterable",`transform[${de-1}]`,K)}else{var Z;E||(E=kM());const se=new E({objectMode:!0}),ye=(Z=K)===null||Z===void 0?void 0:Z.then;if(typeof ye=="function")B++,ye.call(K,R=>{S=R,R!=null&&se.write(R),Le&&se.end(),a.nextTick(z)},R=>{se.destroy(R),a.nextTick(z,R)});else if(g(K,!0))B++,ue(K,se,z,{end:Le});else if(M(K)||w(K)){const R=K.readable||K;B++,ue(R,se,z,{end:Le})}else throw new f("AsyncIterable or Promise","destination",K);K=se;const{destroy:xe,cleanup:U}=V(K,!1,!0);I.push(xe),ce&&we.push(U)}}else if(T(le)){if(v(K)){B+=2;const se=Fe(K,le,z,{end:Le});_(le)&&ce&&we.push(se)}else if(w(K)||M(K)){const se=K.readable||K;B++,ue(se,le,z,{end:Le})}else if(g(K))B++,ue(K,le,z,{end:Le});else throw new l("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],K);K=le}else if(A(le)){if(v(K))B++,pe(Q(K),le,z,{end:Le});else if(M(K)||g(K))B++,pe(K,le,z,{end:Le});else if(w(K))B++,pe(K.readable,le,z,{end:Le});else throw new l("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],K);K=le}else K=c.from(le)}return($e!=null&&$e.aborted||ge!=null&&ge.aborted)&&a.nextTick(G),K}function Fe(ve,re,je,{end:qe}){let $e=!1;if(re.on("close",()=>{$e||je(new p)}),ve.pipe(re,{end:!1}),qe){let ge=function(){$e=!0,re.end()};F(ve)?a.nextTick(ge):ve.once("end",ge)}else je();return e(ve,{readable:!0,writable:!1},ge=>{const we=ve._readableState;ge&&ge.code==="ERR_STREAM_PREMATURE_CLOSE"&&we&&we.ended&&!we.errored&&!we.errorEmitted?ve.once("end",je).once("error",je):je(ge)}),e(re,{readable:!1,writable:!0},je)}return sR={pipelineImpl:me,pipeline:X},sR}var lR,XM;function JM(){if(XM)return lR;XM=1;const{pipeline:a}=cR(),t=Ii(),{destroyer:u}=sh(),{isNodeStream:n,isReadable:r,isWritable:e,isWebStream:i,isTransformStream:o,isWritableStream:c,isReadableStream:s}=xi(),{AbortError:l,codes:{ERR_INVALID_ARG_VALUE:f,ERR_MISSING_ARGS:d}}=Yr(),h=ua();return lR=function(...b){if(b.length===0)throw new d("streams");if(b.length===1)return t.from(b[0]);const m=[...b];if(typeof b[0]=="function"&&(b[0]=t.from(b[0])),typeof b[b.length-1]=="function"){const E=b.length-1;b[E]=t.from(b[E])}for(let E=0;E<b.length;++E)if(!(!n(b[E])&&!i(b[E]))){if(E<b.length-1&&!(r(b[E])||s(b[E])||o(b[E])))throw new f(`streams[${E}]`,m[E],"must be readable");if(E>0&&!(e(b[E])||c(b[E])||o(b[E])))throw new f(`streams[${E}]`,m[E],"must be writable")}let y,g,_,v,T;function w(E){const x=v;v=null,x?x(E):E?T.destroy(E):!O&&!F&&T.destroy()}const A=b[0],M=a(b,w),F=!!(e(A)||c(A)||o(A)),O=!!(r(M)||s(M)||o(M));if(T=new t({writableObjectMode:!!(A!=null&&A.writableObjectMode),readableObjectMode:!!(M!=null&&M.readableObjectMode),writable:F,readable:O}),F){if(n(A))T._write=function(x,L,V){A.write(x,L)?V():y=V},T._final=function(x){A.end(),g=x},A.on("drain",function(){if(y){const x=y;y=null,x()}});else if(i(A)){const L=(o(A)?A.writable:A).getWriter();T._write=async function(V,$,Q){try{await L.ready,L.write(V).catch(()=>{}),Q()}catch(ie){Q(ie)}},T._final=async function(V){try{await L.ready,L.close().catch(()=>{}),g=V}catch($){V($)}}}const E=o(M)?M.readable:M;h(E,()=>{if(g){const x=g;g=null,x()}})}if(O){if(n(M))M.on("readable",function(){if(_){const E=_;_=null,E()}}),M.on("end",function(){T.push(null)}),T._read=function(){for(;;){const E=M.read();if(E===null){_=T._read;return}if(!T.push(E))return}};else if(i(M)){const x=(o(M)?M.readable:M).getReader();T._read=async function(){for(;;)try{const{value:L,done:V}=await x.read();if(!T.push(L))return;if(V){T.push(null);return}}catch{return}}}}return T._destroy=function(E,x){!E&&v!==null&&(E=new l),_=null,y=null,g=null,v===null?x(E):(v=x,n(M)&&u(M,E))},T},lR}var KM;function fce(){if(KM)return MO;KM=1;const a=globalThis.AbortController||b1().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:u,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:r},AbortError:e}=Yr(),{validateAbortSignal:i,validateInteger:o,validateObject:c}=_1(),s=ar().Symbol("kWeak"),l=ar().Symbol("kResistStopPropagation"),{finished:f}=ua(),d=JM(),{addAbortSignalNoValidate:h}=CO(),{isWritable:p,isNodeStream:b}=xi(),{deprecate:m}=nn(),{ArrayPrototypePush:y,Boolean:g,MathFloor:_,Number:v,NumberIsNaN:T,Promise:w,PromiseReject:A,PromiseResolve:M,PromisePrototypeThen:F,Symbol:O}=ar(),E=O("kEmpty"),x=O("kEof");function L(ge,we){if(we!=null&&c(we,"options"),(we==null?void 0:we.signal)!=null&&i(we.signal,"options.signal"),b(ge)&&!p(ge))throw new t("stream",ge,"must be writable");const G=d(this,ge);return we!=null&&we.signal&&h(we.signal,G),G}function V(ge,we){if(typeof ge!="function")throw new u("fn",["Function","AsyncFunction"],ge);we!=null&&c(we,"options"),(we==null?void 0:we.signal)!=null&&i(we.signal,"options.signal");let G=1;(we==null?void 0:we.concurrency)!=null&&(G=_(we.concurrency));let N=G-1;return(we==null?void 0:we.highWaterMark)!=null&&(N=_(we.highWaterMark)),o(G,"options.concurrency",1),o(N,"options.highWaterMark",0),N+=G,(async function*(){const S=nn().AbortSignalAny([we==null?void 0:we.signal].filter(g)),I=this,B=[],z={signal:S};let H,K,k=!1,Z=0;function de(){k=!0,le()}function le(){Z-=1,De()}function De(){K&&!k&&Z<G&&B.length<N&&(K(),K=null)}async function Qe(){try{for await(let Le of I){if(k)return;if(S.aborted)throw new e;try{if(Le=ge(Le,z),Le===E)continue;Le=M(Le)}catch(ce){Le=A(ce)}Z+=1,F(Le,le,de),B.push(Le),H&&(H(),H=null),!k&&(B.length>=N||Z>=G)&&await new w(ce=>{K=ce})}B.push(x)}catch(Le){const ce=A(Le);F(ce,le,de),B.push(ce)}finally{k=!0,H&&(H(),H=null)}}Qe();try{for(;;){for(;B.length>0;){const Le=await B[0];if(Le===x)return;if(S.aborted)throw new e;Le!==E&&(yield Le),B.shift(),De()}await new w(Le=>{H=Le})}}finally{k=!0,K&&(K(),K=null)}}).call(this)}function $(ge=void 0){return ge!=null&&c(ge,"options"),(ge==null?void 0:ge.signal)!=null&&i(ge.signal,"options.signal"),(async function*(){let G=0;for await(const P of this){var N;if(ge!=null&&(N=ge.signal)!==null&&N!==void 0&&N.aborted)throw new e({cause:ge.signal.reason});yield[G++,P]}}).call(this)}async function Q(ge,we=void 0){for await(const G of X.call(this,ge,we))return!0;return!1}async function ie(ge,we=void 0){if(typeof ge!="function")throw new u("fn",["Function","AsyncFunction"],ge);return!await Q.call(this,async(...G)=>!await ge(...G),we)}async function ue(ge,we){for await(const G of X.call(this,ge,we))return G}async function pe(ge,we){if(typeof ge!="function")throw new u("fn",["Function","AsyncFunction"],ge);async function G(N,P){return await ge(N,P),E}for await(const N of V.call(this,G,we));}function X(ge,we){if(typeof ge!="function")throw new u("fn",["Function","AsyncFunction"],ge);async function G(N,P){return await ge(N,P)?N:E}return V.call(this,G,we)}class me extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function Fe(ge,we,G){var N;if(typeof ge!="function")throw new u("reducer",["Function","AsyncFunction"],ge);G!=null&&c(G,"options"),(G==null?void 0:G.signal)!=null&&i(G.signal,"options.signal");let P=arguments.length>1;if(G!=null&&(N=G.signal)!==null&&N!==void 0&&N.aborted){const H=new e(void 0,{cause:G.signal.reason});throw this.once("error",()=>{}),await f(this.destroy(H)),H}const S=new a,I=S.signal;if(G!=null&&G.signal){const H={once:!0,[s]:this,[l]:!0};G.signal.addEventListener("abort",()=>S.abort(),H)}let B=!1;try{for await(const H of this){var z;if(B=!0,G!=null&&(z=G.signal)!==null&&z!==void 0&&z.aborted)throw new e;P?we=await ge(we,H,{signal:I}):(we=H,P=!0)}if(!B&&!P)throw new me}finally{S.abort()}return we}async function ve(ge){ge!=null&&c(ge,"options"),(ge==null?void 0:ge.signal)!=null&&i(ge.signal,"options.signal");const we=[];for await(const N of this){var G;if(ge!=null&&(G=ge.signal)!==null&&G!==void 0&&G.aborted)throw new e(void 0,{cause:ge.signal.reason});y(we,N)}return we}function re(ge,we){const G=V.call(this,ge,we);return(async function*(){for await(const P of G)yield*P}).call(this)}function je(ge){if(ge=v(ge),T(ge))return 0;if(ge<0)throw new r("number",">= 0",ge);return ge}function qe(ge,we=void 0){return we!=null&&c(we,"options"),(we==null?void 0:we.signal)!=null&&i(we.signal,"options.signal"),ge=je(ge),(async function*(){var N;if(we!=null&&(N=we.signal)!==null&&N!==void 0&&N.aborted)throw new e;for await(const S of this){var P;if(we!=null&&(P=we.signal)!==null&&P!==void 0&&P.aborted)throw new e;ge--<=0&&(yield S)}}).call(this)}function $e(ge,we=void 0){return we!=null&&c(we,"options"),(we==null?void 0:we.signal)!=null&&i(we.signal,"options.signal"),ge=je(ge),(async function*(){var N;if(we!=null&&(N=we.signal)!==null&&N!==void 0&&N.aborted)throw new e;for await(const S of this){var P;if(we!=null&&(P=we.signal)!==null&&P!==void 0&&P.aborted)throw new e;if(ge-- >0&&(yield S),ge<=0)return}}).call(this)}return MO.streamReturningOperators={asIndexedPairs:m($,"readable.asIndexedPairs will be removed in a future version."),drop:qe,filter:X,flatMap:re,map:V,take:$e,compose:L},MO.promiseReturningOperators={every:ie,forEach:pe,reduce:Fe,toArray:ve,some:Q,find:ue},MO}var dR,WM;function YM(){if(WM)return dR;WM=1;const{ArrayPrototypePop:a,Promise:t}=ar(),{isIterable:u,isNodeStream:n,isWebStream:r}=xi(),{pipelineImpl:e}=cR(),{finished:i}=ua();eq();function o(...c){return new t((s,l)=>{let f,d;const h=c[c.length-1];if(h&&typeof h=="object"&&!n(h)&&!u(h)&&!r(h)){const p=a(c);f=p.signal,d=p.end}e(c,(p,b)=>{p?l(p):s(b)},{signal:f,end:d})})}return dR={finished:i,pipeline:o},dR}var ZM;function eq(){if(ZM)return BI.exports;ZM=1;const{Buffer:a}=Ei(),{ObjectDefineProperty:t,ObjectKeys:u,ReflectApply:n}=ar(),{promisify:{custom:r}}=nn(),{streamReturningOperators:e,promiseReturningOperators:i}=fce(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:o}}=Yr(),c=JM(),{setDefaultHighWaterMark:s,getDefaultHighWaterMark:l}=BO(),{pipeline:f}=cR(),{destroyer:d}=sh(),h=ua(),p=YM(),b=xi(),m=BI.exports=JI().Stream;m.isDestroyed=b.isDestroyed,m.isDisturbed=b.isDisturbed,m.isErrored=b.isErrored,m.isReadable=b.isReadable,m.isWritable=b.isWritable,m.Readable=VO();for(const g of u(e)){let v=function(...T){if(new.target)throw o();return m.Readable.from(n(_,this,T))};const _=e[g];t(v,"name",{__proto__:null,value:_.name}),t(v,"length",{__proto__:null,value:_.length}),t(m.Readable.prototype,g,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}for(const g of u(i)){let v=function(...T){if(new.target)throw o();return n(_,this,T)};const _=i[g];t(v,"name",{__proto__:null,value:_.name}),t(v,"length",{__proto__:null,value:_.length}),t(m.Readable.prototype,g,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}m.Writable=nR(),m.Duplex=Ii(),m.Transform=HM(),m.PassThrough=kM(),m.pipeline=f;const{addAbortSignal:y}=CO();return m.addAbortSignal=y,m.finished=h,m.destroy=d,m.compose=c,m.setDefaultHighWaterMark=s,m.getDefaultHighWaterMark=l,t(m,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return p}}),t(f,r,{__proto__:null,enumerable:!0,get(){return p.pipeline}}),t(h,r,{__proto__:null,enumerable:!0,get(){return p.finished}}),m.Stream=m,m._isUint8Array=function(_){return _ instanceof Uint8Array},m._uint8ArrayToBuffer=function(_){return a.from(_.buffer,_.byteOffset,_.byteLength)},BI.exports}var tq;function Mt(){return tq||(tq=1,function(a){const t=eq(),u=YM(),n=t.Readable.destroy;a.exports=t.Readable,a.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,a.exports._isUint8Array=t._isUint8Array,a.exports.isDisturbed=t.isDisturbed,a.exports.isErrored=t.isErrored,a.exports.isReadable=t.isReadable,a.exports.Readable=t.Readable,a.exports.Writable=t.Writable,a.exports.Duplex=t.Duplex,a.exports.Transform=t.Transform,a.exports.PassThrough=t.PassThrough,a.exports.addAbortSignal=t.addAbortSignal,a.exports.finished=t.finished,a.exports.destroy=t.destroy,a.exports.destroy=n,a.exports.pipeline=t.pipeline,a.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return u}}),a.exports.Stream=t.Stream,a.exports.default=a.exports}(CI)),CI.exports}var rq;function hce(){if(rq)return l1;rq=1,Object.defineProperty(l1,"__esModule",{value:!0}),l1.ActorQueryResultSerializeJson=void 0;const a=hi(),t=Te(),u=gt(),n=Bt(),r=Mt();let e=class extends a.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}async testHandleChecked(o,c){return["bindings","quads","boolean"].includes(o.type)?(0,t.passTestVoid)():(0,t.failTest)("This actor can only handle bindings or quad streams.")}async runHandle(o,c,s){const l=new r.Readable;if(l._read=()=>{},o.type==="bindings"||o.type==="quads"){let f=o.type==="bindings"?(0,u.wrap)(o.bindingsStream).map(h=>JSON.stringify(Object.fromEntries([...h].map(([p,b])=>[p.value,n.termToString(b)])))):(0,u.wrap)(o.quadStream).map(h=>JSON.stringify(n.quadToStringQuad(h))),d=!0;f=f.map(h=>{const p=`${d?"":","}
${h}`;return d=!1,p}).prepend(["["]).append([`
]
`]),l.wrap(f)}else try{l.push(`${JSON.stringify(await o.execute())}
`),l.push(null)}catch(f){setTimeout(()=>l.emit("error",f))}return{data:l}}};return l1.ActorQueryResultSerializeJson=e,l1}var nq;function pce(){return nq||(nq=1,function(a){var t=Hu&&Hu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Hu&&Hu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(hce(),a)}(Hu)),Hu}var zu={},m1={},iq;function yce(){if(iq)return m1;iq=1,Object.defineProperty(m1,"__esModule",{value:!0}),m1.ActorQueryResultSerializeSimple=void 0;const a=hi(),t=Te(),u=gt(),n=Bt(),r=Mt();let e=class Hh extends a.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}async testHandleChecked(o,c){return["bindings","quads","boolean","void"].includes(o.type)?(0,t.passTestVoid)():(0,t.failTest)("This actor can only handle bindings streams, quad streams, booleans, or updates.")}static termToString(o){return o.termType==="Quad"?(0,n.termToString)(o):o.value}async runHandle(o,c,s){const l=new r.Readable;return o.type==="bindings"?l.wrap(o.bindingsStream.map(f=>`${[...f].map(([d,h])=>`?${d.value}: ${Hh.termToString(h)}`).join(`
`)}

`)):o.type==="quads"?l.wrap(o.quadStream.map(f=>`subject: ${Hh.termToString(f.subject)}
predicate: ${Hh.termToString(f.predicate)}
object: ${Hh.termToString(f.object)}
graph: ${Hh.termToString(f.graph)}

`)):l.wrap((0,u.wrap)(o.type==="boolean"?o.execute().then(f=>[`${f}
`]):o.execute().then(()=>[`ok
`]))),{data:l}}};return m1.ActorQueryResultSerializeSimple=e,m1}var aq;function bce(){return aq||(aq=1,function(a){var t=zu&&zu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=zu&&zu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(yce(),a)}(zu)),zu}var Xu={},g1={},uq;function _ce(){if(uq)return g1;uq=1,Object.defineProperty(g1,"__esModule",{value:!0}),g1.ActorQueryResultSerializeSparqlCsv=void 0;const a=hi(),t=Te(),u=Mt();let n=class VS extends a.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToCsvBindings(e){if(!e)return"";let i=e.value;if(e.termType==="Literal")i=`${i}`;else if(e.termType==="BlankNode")i=`_:${i}`;else if(e.termType==="Quad"){let o=VS.bindingToCsvBindings(e.object);e.object.termType==="Literal"&&(o=`"${o.replaceAll('"','""')}"`),i=`<< ${VS.bindingToCsvBindings(e.subject)} ${VS.bindingToCsvBindings(e.predicate)} ${o} >>`}else i=`<${i}>`;return/[",\n\r]/u.test(i)&&(i=`"${i.replaceAll('"','""')}"`),i}async testHandleChecked(e,i){return e.type!=="bindings"?(0,t.failTest)("This actor can only handle bindings streams."):(0,t.passTestVoid)()}async runHandle(e,i,o){const c=e,s=new u.Readable,l=await c.metadata();return s.push(`${l.variables.map(f=>f.variable.value).join(",")}\r
`),s.wrap(c.bindingsStream.map(f=>`${l.variables.map(d=>VS.bindingToCsvBindings(f.get(d.variable))).join(",")}\r
`)),{data:s}}};return g1.ActorQueryResultSerializeSparqlCsv=n,g1}var oq;function mce(){return oq||(oq=1,function(a){var t=Xu&&Xu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Xu&&Xu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(_ce(),a)}(Xu)),Xu}var Ju={},v1={},fR={},Nr={},Ku={},T1={},sq;function cq(){if(sq)return T1;sq=1,Object.defineProperty(T1,"__esModule",{value:!0}),T1.BlankNode=void 0;class a{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return T1.BlankNode=a,T1}var w1={},S1={},lq;function dq(){if(lq)return S1;lq=1,Object.defineProperty(S1,"__esModule",{value:!0}),S1.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return S1.DefaultGraph=a,a.INSTANCE=new a,S1}var O1={},A1={},fq;function hR(){if(fq)return A1;fq=1,Object.defineProperty(A1,"__esModule",{value:!0}),A1.NamedNode=void 0;class a{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return A1.NamedNode=a,A1}var hq;function pq(){if(hq)return O1;hq=1,Object.defineProperty(O1,"__esModule",{value:!0}),O1.Literal=void 0;const a=hR();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return O1.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),O1}var E1={},yq;function bq(){if(yq)return E1;yq=1,Object.defineProperty(E1,"__esModule",{value:!0}),E1.Quad=void 0;class a{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return E1.Quad=a,E1}var x1={},_q;function mq(){if(_q)return x1;_q=1,Object.defineProperty(x1,"__esModule",{value:!0}),x1.Variable=void 0;class a{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return x1.Variable=a,x1}var gq;function gce(){if(gq)return w1;gq=1,Object.defineProperty(w1,"__esModule",{value:!0}),w1.DataFactory=void 0;const a=cq(),t=dq(),u=pq(),n=hR(),r=bq(),e=mq();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return w1.DataFactory=o,w1}var vq;function vce(){return vq||(vq=1,function(a){var t=Ku&&Ku.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ku&&Ku.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(cq(),a),u(gce(),a),u(dq(),a),u(pq(),a),u(hR(),a),u(bq(),a),u(mq(),a)}(Ku)),Ku}var Tq;function Tce(){if(Tq)return Nr;Tq=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.stringQuadToQuad=Nr.quadToStringQuad=Nr.stringToTerm=Nr.getLiteralLanguage=Nr.getLiteralType=Nr.getLiteralValue=Nr.termToString=void 0;const a=vce(),t=new a.DataFactory;function u(p){if(p)switch(p.termType){case"NamedNode":return`<${s(p.value)}>`;case"BlankNode":return`_:${p.value}`;case"Literal":{const b=p;return`"${l(b.value)}"${b.datatype&&b.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&b.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?`^^<${b.datatype.value}>`:""}${b.language?`@${b.language}`:""}`}case"Quad":return`<<${u(p.subject)} ${u(p.predicate)} ${u(p.object)}${p.graph.termType==="DefaultGraph"?"":` ${u(p.graph)}`}>>`;case"Variable":return`?${p.value}`;case"DefaultGraph":return p.value}}Nr.termToString=u;function n(p){const b=/^"([^]*)"((\^\^.*)|(@.*))?$/u.exec(p);if(!b)throw new Error(`${p} is not a literal`);return b[1].replace(/\\"/ug,'"')}Nr.getLiteralValue=n;function r(p){const b=/^"[^]*"(?:\^\^<([^"]+)>|(@)[^@"]+)?$/u.exec(p);if(!b)throw new Error(`${p} is not a literal`);return b[1]||(b[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Nr.getLiteralType=r;function e(p){const b=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/u.exec(p);if(!b)throw new Error(`${p} is not a literal`);return b[1]?b[1].toLowerCase():""}Nr.getLiteralLanguage=e;function i(p,b){if(b=b||t,!p||p.length===0)return b.defaultGraph();switch(p[0]){case"_":return b.blankNode(p.slice(2));case"?":if(!b.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return b.variable(p.slice(1));case'"':{const m=e(p),y=b.namedNode(r(p));return b.literal(n(p),m||y)}case"<":default:if(p.startsWith("<<")&&p.endsWith(">>")){const m=p.slice(2,-2),y=[];let g=0,_=0;for(let v=0;v<m.length;v++){const T=m[v];if(T==="<"&&g++,T===">"){if(g===0)throw new Error(`Found closing tag without opening tag in ${p}`);g--}T===" "&&g===0&&(y.push(m.slice(_,v)),_=v+1)}if(g!==0)throw new Error(`Found opening tag without closing tag in ${p}`);if(y.push(m.slice(_,m.length)),y.length!==3&&y.length!==4)throw new Error(`Nested quad syntax error ${p}`);return b.quad(i(y[0]),i(y[1]),i(y[2]),y[3]?i(y[3]):void 0)}if(!p.startsWith("<")||!p.endsWith(">"))throw new Error(`Detected invalid iri for named node (must be wrapped in <>): ${p}`);return b.namedNode(p.slice(1,-1))}}Nr.stringToTerm=i;function o(p){return{subject:u(p.subject),predicate:u(p.predicate),object:u(p.object),graph:u(p.graph)}}Nr.quadToStringQuad=o;function c(p,b){return b=b||t,b.quad(i(p.subject,b),i(p.predicate,b),i(p.object,b),i(p.graph,b))}Nr.stringQuadToQuad=c;function s(p){return p.replace(f,h)}function l(p){return f.test(p)&&(p=p.replace(f,h)),p}const f=/["\\\t\n\r\b\f\u0000-\u0019]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=new Map([["\\","\\\\"],['"','\\"'],["	","\\t"],[`
`,"\\n"],["\r","\\r"],["\b","\\b"],["\f","\\f"]]);function h(p){const b=d.get(p);if(!b){if(p.length===1){const y=p.charCodeAt(0).toString(16);return`${"\\u0000".slice(0,-y.length)}${y}`}const m=((p.charCodeAt(0)-55296)*1024+p.charCodeAt(1)+9216).toString(16);return`${"\\U00000000".slice(0,-m.length)}${m}`}return b}return Nr}var wq;function I1(){return wq||(wq=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.termToString=a.stringToTerm=a.stringQuadToQuad=a.quadToStringQuad=a.getLiteralValue=a.getLiteralType=a.getLiteralLanguage=void 0;const t=Tce();Object.defineProperty(a,"getLiteralLanguage",{enumerable:!0,get:function(){return t.getLiteralLanguage}}),Object.defineProperty(a,"getLiteralType",{enumerable:!0,get:function(){return t.getLiteralType}}),Object.defineProperty(a,"getLiteralValue",{enumerable:!0,get:function(){return t.getLiteralValue}}),Object.defineProperty(a,"quadToStringQuad",{enumerable:!0,get:function(){return t.quadToStringQuad}}),Object.defineProperty(a,"stringQuadToQuad",{enumerable:!0,get:function(){return t.stringQuadToQuad}}),Object.defineProperty(a,"stringToTerm",{enumerable:!0,get:function(){return t.stringToTerm}}),Object.defineProperty(a,"termToString",{enumerable:!0,get:function(){return t.termToString}})}(fR)),fR}var Sq;function wce(){if(Sq)return v1;Sq=1,Object.defineProperty(v1,"__esModule",{value:!0}),v1.ActorQueryResultSerializeSparqlTsv=void 0;const a=hi(),t=Te(),u=I1(),n=Mt();let r=class Wne extends a.ActorQueryResultSerializeFixedMediaTypes{constructor(i){super(i)}static bindingToTsvBindings(i){return i?(0,u.termToString)(i).replaceAll("	","\\t").replaceAll(`
`,"\\n").replaceAll("\r","\\r"):""}async testHandleChecked(i,o){return i.type!=="bindings"?(0,t.failTest)("This actor can only handle bindings streams."):(0,t.passTestVoid)()}async runHandle(i,o,c){const s=i,l=new n.Readable,f=await s.metadata();return l.push(`${f.variables.map(d=>d.variable.value).join("	")}
`),l.wrap(s.bindingsStream.map(d=>`${f.variables.map(h=>Wne.bindingToTsvBindings(d.get(h.variable))).join("	")}
`)),{data:l}}};return v1.ActorQueryResultSerializeSparqlTsv=r,v1}var Oq;function Sce(){return Oq||(Oq=1,function(a){var t=Ju&&Ju.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ju&&Ju.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(wce(),a)}(Ju)),Ju}var Wu={},R1={},N1={},Aq;function Oce(){if(Aq)return N1;Aq=1,Object.defineProperty(N1,"__esModule",{value:!0}),N1.XmlSerializer=void 0;let a=class{constructor(){this.stack=[]}open(u,n){const r=`${this.identation()+this.formatTag(u,n,"open")}
`;return this.stack.push(u),r}close(){const u=this.stack.pop();if(u===void 0)throw new Error("There is no tag left to close");return`${this.identation()+this.formatTag(u,{},"close")}
`}serializeNode(u){if(u.children===void 0)return`${this.identation()+this.formatTag(u.name,u.attributes,"self-closing")}
`;if(typeof u.children=="string")return`${this.identation()+this.formatTag(u.name,u.attributes,"open")+this.escape(u.children)+this.formatTag(u.name,{},"close")}
`;const n=[];n.push(`${this.identation()+this.formatTag(u.name,u.attributes,"open")}
`),this.stack.push(u.name);for(const r of u.children)n.push(this.serializeNode(r));return this.stack.pop(),n.push(`${this.identation()+this.formatTag(u.name,{},"close")}
`),n.join("")}identation(){return this.stack.map(u=>"  ").join("")}formatTag(u,n,r){return`<${r==="close"?"/":""}${u}${Object.entries(n??{}).map(e=>` ${e[0]}="${this.escape(e[1])}"`)}${r==="self-closing"?"/":""}>`}escape(u){return u.replaceAll(/["&'<>]/gu,n=>{switch(n){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})}};return N1.XmlSerializer=a,a.header=`<?xml version="1.0" encoding="UTF-8"?>
`,N1}var Eq;function Ace(){if(Eq)return R1;Eq=1,Object.defineProperty(R1,"__esModule",{value:!0}),R1.ActorQueryResultSerializeSparqlXml=void 0;const a=hi(),t=Te(),u=gt(),n=Mt(),r=Oce();let e=class Yne extends a.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}static bindingToXmlBindings(o,c){return{name:"binding",attributes:{name:c.value},children:[this.valueToXmlValue(o)]}}static valueToXmlValue(o){let c;switch(o.termType){case"Literal":return o.language?c={"xml:lang":o.language}:o.datatype&&o.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"?c={datatype:o.datatype.value}:c={},{name:"literal",attributes:c,children:o.value};case"BlankNode":return{name:"bnode",children:o.value};case"Quad":return{name:"triple",children:[{name:"subject",children:[this.valueToXmlValue(o.subject)]},{name:"predicate",children:[this.valueToXmlValue(o.predicate)]},{name:"object",children:[this.valueToXmlValue(o.object)]}]};default:return{name:"uri",children:o.value}}}async testHandleChecked(o,c){return["bindings","boolean"].includes(o.type)?(0,t.passTestVoid)():(0,t.failTest)("This actor can only handle bindings streams or booleans.")}async runHandle(o,c,s){const l=new n.Readable;l._read=()=>{};const f=new r.XmlSerializer,d=await o.metadata();if(l.push(r.XmlSerializer.header),l.push(f.open("sparql",{xmlns:"http://www.w3.org/2005/sparql-results#"})),l.push(f.serializeNode({name:"head",children:d.variables.map(h=>({name:"variable",attributes:{name:h.variable.value}}))})),o.type==="bindings"){function*h(){yield f.close(),yield f.close()}l.push(f.open("results"));const p=(0,u.wrap)(o.bindingsStream).map(b=>f.serializeNode({name:"result",children:[...b].map(([m,y])=>Yne.bindingToXmlBindings(y,m))})).append((0,u.wrap)(h()));l.wrap(p)}else try{const h=await o.execute();l.push(f.serializeNode({name:"boolean",children:h.toString()})),l.push(f.close()),setTimeout(()=>l.push(null))}catch(h){setTimeout(()=>l.emit("error",h))}return{data:l}}};return R1.ActorQueryResultSerializeSparqlXml=e,R1}var xq;function Ece(){return xq||(xq=1,function(a){var t=Wu&&Wu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Wu&&Wu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Ace(),a)}(Wu)),Wu}var Yu={},F1={},Iq;function xce(){if(Iq)return F1;Iq=1,Object.defineProperty(F1,"__esModule",{value:!0}),F1.ActorQueryResultSerializeTable=void 0;const a=hi(),t=ke(),u=Te(),n=Bt(),r=Rr(),e=Mt();let i=class n6 extends a.ActorQueryResultSerializeFixedMediaTypes{constructor(c){super(c),this.padding=n6.repeat(" ",this.columnWidth)}static repeat(c,s){return c.repeat(s)}async testHandleChecked(c,s){return["bindings","quads"].includes(c.type)?(0,u.passTestVoid)():(0,u.failTest)("This actor can only handle bindings or quad streams.")}termToString(c){return c.termType==="Quad"?(0,n.termToString)(c):c.value}pad(c){return c.length<=this.columnWidth?c+this.padding.slice(c.length):`${c.slice(0,this.columnWidth-1)}`}pushHeader(c,s){const l=s.map(f=>this.pad(f.value)).join(" ");c.push(`${l}
${n6.repeat("-",l.length)}
`)}createRow(c,s){return`${c.map(l=>s.has(l)?this.termToString(s.get(l)):"").map(l=>this.pad(l)).join(" ")}
`}async runHandle(c,s,l){const f=new e.Readable;let d;if(c.type==="bindings"){d=c.bindingsStream.map(p=>this.createRow(h,p));const h=(await c.metadata()).variables.map(p=>p.variable);this.pushHeader(f,h)}else{d=c.quadStream.map(p=>`${(0,r.getTerms)(p).map(b=>this.pad(this.termToString(b))).join(" ")}
`);const h=c.context.getSafe(t.KeysInitQuery.dataFactory);this.pushHeader(f,r.QUAD_TERM_NAMES.map(p=>h.variable(p)))}return f.wrap(d),{data:f}}};return F1.ActorQueryResultSerializeTable=i,F1}var Rq;function Ice(){return Rq||(Rq=1,function(a){var t=Yu&&Yu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Yu&&Yu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(xce(),a)}(Yu)),Yu}var Zu={},D1={},eo={},P1={},to={},ro={},L1={},Nq;function Fq(){if(Nq)return L1;Nq=1,Object.defineProperty(L1,"__esModule",{value:!0}),L1.BlankNode=void 0;class a{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return L1.BlankNode=a,L1}var j1={},M1={},Dq;function Pq(){if(Dq)return M1;Dq=1,Object.defineProperty(M1,"__esModule",{value:!0}),M1.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return M1.DefaultGraph=a,a.INSTANCE=new a,M1}var q1={},C1={},Lq;function pR(){if(Lq)return C1;Lq=1,Object.defineProperty(C1,"__esModule",{value:!0}),C1.NamedNode=void 0;class a{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return C1.NamedNode=a,C1}var jq;function Mq(){if(jq)return q1;jq=1,Object.defineProperty(q1,"__esModule",{value:!0}),q1.Literal=void 0;const a=pR();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return q1.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),q1}var B1={},qq;function Cq(){if(qq)return B1;qq=1,Object.defineProperty(B1,"__esModule",{value:!0}),B1.Quad=void 0;class a{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return B1.Quad=a,B1}var $1={},Bq;function $q(){if(Bq)return $1;Bq=1,Object.defineProperty($1,"__esModule",{value:!0}),$1.Variable=void 0;class a{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return $1.Variable=a,$1}var Vq;function Rce(){if(Vq)return j1;Vq=1,Object.defineProperty(j1,"__esModule",{value:!0}),j1.DataFactory=void 0;const a=Fq(),t=Pq(),u=Mq(),n=pR(),r=Cq(),e=$q();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return j1.DataFactory=o,j1}var Uq;function Nce(){return Uq||(Uq=1,function(a){var t=ro&&ro.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ro&&ro.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Fq(),a),u(Rce(),a),u(Pq(),a),u(Mq(),a),u(pR(),a),u(Cq(),a),u($q(),a)}(ro)),ro}var no={},V1={},U1={},Qq;function ch(){if(Qq)return U1;Qq=1,Object.defineProperty(U1,"__esModule",{value:!0}),U1.Translator=void 0;let a=class{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(u){throw new Error(`Invalid RDF ${u.datatype.value} value: '${u.value}'`)}registerHandler(u,n,r){for(const e of n)this.supportedRdfDatatypes.push(e),this.fromRdfHandlers[e.value]=u;for(const e of r){let i=this.toRdfHandlers[e];i||(this.toRdfHandlers[e]=i=[]),i.push(u)}}fromRdf(u,n){const r=this.fromRdfHandlers[u.datatype.value];return r?r.fromRdf(u,n):u.value}toRdf(u,n){const r=this.toRdfHandlers[typeof u];if(r)for(const e of r){const i=e.toRdf(u,n);if(i)return i}throw new Error(`Invalid JavaScript value: '${u}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}};return U1.Translator=a,U1}var Hq;function Fce(){if(Hq)return V1;Hq=1,Object.defineProperty(V1,"__esModule",{value:!0}),V1.TypeHandlerBoolean=void 0;const a=ch();let t=class Zne{fromRdf(n,r){switch(n.value){case"true":return!0;case"false":return!1;case"1":return!0;case"0":return!1}return r&&a.Translator.incorrectRdfDataType(n),!1}toRdf(n,{datatype:r,dataFactory:e}){return e.literal(n?"true":"false",r||e.namedNode(Zne.TYPE))}};return t.TYPE="http://www.w3.org/2001/XMLSchema#boolean",V1.TypeHandlerBoolean=t,V1}var Q1={},Gq;function Dce(){if(Gq)return Q1;Gq=1,Object.defineProperty(Q1,"__esModule",{value:!0}),Q1.TypeHandlerDate=void 0;const a=ch();let t=class i6{fromRdf(n,r){switch(r&&!n.value.match(i6.VALIDATORS[n.datatype.value.substr(33,n.datatype.value.length)])&&a.Translator.incorrectRdfDataType(n),n.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(n.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const e=n.value.split("-");return new Date(0,parseInt(e[0],10)-1,parseInt(e[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(n.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(n.value+"-01");default:return new Date(n.value)}}toRdf(n,{datatype:r,dataFactory:e}){if(r=r||e.namedNode(i6.TYPES[0]),!(n instanceof Date))return null;const i=n;let o;switch(r.value){case"http://www.w3.org/2001/XMLSchema#gDay":o=String(i.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":o=i.getUTCMonth()+1+"-"+i.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":o=String(i.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":o=i.getUTCFullYear()+"-"+(i.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":o=i.toISOString().replace(/T.*$/,"");break;default:o=i.toISOString()}return e.literal(o,r)}};return t.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],t.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/},Q1.TypeHandlerDate=t,Q1}var H1={},kq;function Pce(){if(kq)return H1;kq=1,Object.defineProperty(H1,"__esModule",{value:!0}),H1.TypeHandlerNumberDouble=void 0;const a=ch();let t=class eie{fromRdf(n,r){const e=parseFloat(n.value);return r&&isNaN(e)&&a.Translator.incorrectRdfDataType(n),e}toRdf(n,{datatype:r,dataFactory:e}){return r=r||e.namedNode(eie.TYPES[0]),isNaN(n)?e.literal("NaN",r):isFinite(n)?n%1===0?null:e.literal(n.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),r):e.literal(n>0?"INF":"-INF",r)}};return t.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"],H1.TypeHandlerNumberDouble=t,H1}var G1={},zq;function Lce(){if(zq)return G1;zq=1,Object.defineProperty(G1,"__esModule",{value:!0}),G1.TypeHandlerNumberInteger=void 0;const a=ch();let t=class US{fromRdf(n,r){const e=parseInt(n.value,10);return r&&(isNaN(e)||n.value.indexOf(".")>=0)&&a.Translator.incorrectRdfDataType(n),e}toRdf(n,{datatype:r,dataFactory:e}){return e.literal(String(n),r||(n<=US.MAX_INT&&n>=US.MIN_INT?e.namedNode(US.TYPES[0]):e.namedNode(US.TYPES[1])))}};return t.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],t.MAX_INT=2147483647,t.MIN_INT=-2147483648,G1.TypeHandlerNumberInteger=t,G1}var k1={},Xq;function jce(){if(Xq)return k1;Xq=1,Object.defineProperty(k1,"__esModule",{value:!0}),k1.TypeHandlerString=void 0;let a=class{fromRdf(u){return u.value}toRdf(u,{datatype:n,dataFactory:r}){return r.literal(u,n)}};return a.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"],k1.TypeHandlerString=a,k1}var Jq;function Kq(){return Jq||(Jq=1,function(a){var t=no&&no.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=no&&no.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Fce(),a),u(Dce(),a),u(Pce(),a),u(Lce(),a),u(jce(),a)}(no)),no}var yR={},Wq;function Mce(){return Wq||(Wq=1,Object.defineProperty(yR,"__esModule",{value:!0})),yR}var Yq;function qce(){return Yq||(Yq=1,function(a){var t=to&&to.__createBinding||(Object.create?function(h,p,b,m){m===void 0&&(m=b);var y=Object.getOwnPropertyDescriptor(p,b);(!y||("get"in y?!p.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return p[b]}}),Object.defineProperty(h,m,y)}:function(h,p,b,m){m===void 0&&(m=b),h[m]=p[b]}),u=to&&to.__exportStar||function(h,p){for(var b in h)b!=="default"&&!Object.prototype.hasOwnProperty.call(p,b)&&t(p,h,b)};Object.defineProperty(a,"__esModule",{value:!0}),a.getSupportedJavaScriptPrimitives=a.getSupportedRdfDatatypes=a.getTermRaw=a.toRdf=a.fromRdf=void 0;const n=Nce(),r=Kq(),e=ch();u(Kq(),a),u(Mce(),a),u(ch(),a);const i=new n.DataFactory,o=new e.Translator;o.registerHandler(new r.TypeHandlerString,r.TypeHandlerString.TYPES.map(h=>i.namedNode(h)),["string"]),o.registerHandler(new r.TypeHandlerBoolean,[r.TypeHandlerBoolean.TYPE].map(h=>i.namedNode(h)),["boolean"]),o.registerHandler(new r.TypeHandlerNumberDouble,r.TypeHandlerNumberDouble.TYPES.map(h=>i.namedNode(h)),["number"]),o.registerHandler(new r.TypeHandlerNumberInteger,r.TypeHandlerNumberInteger.TYPES.map(h=>i.namedNode(h)),["number"]),o.registerHandler(new r.TypeHandlerDate,r.TypeHandlerDate.TYPES.map(h=>i.namedNode(h)),["object"]);function c(h,p){return o.fromRdf(h,p)}a.fromRdf=c;function s(h,p){return p&&"namedNode"in p&&(p={dataFactory:p}),p=p||{},p&&!p.dataFactory&&(p.dataFactory=i),o.toRdf(h,p)}a.toRdf=s;function l(h,p){return h.termType==="Literal"?c(h,p):h.value}a.getTermRaw=l;function f(){return o.getSupportedRdfDatatypes()}a.getSupportedRdfDatatypes=f;function d(){return o.getSupportedJavaScriptPrimitives()}a.getSupportedJavaScriptPrimitives=d}(to)),to}var io={},z1={},ao={},X1={},Zq;function e9(){if(Zq)return X1;Zq=1,Object.defineProperty(X1,"__esModule",{value:!0}),X1.BlankNode=void 0;class a{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return X1.BlankNode=a,X1}var J1={},K1={},t9;function r9(){if(t9)return K1;t9=1,Object.defineProperty(K1,"__esModule",{value:!0}),K1.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return K1.DefaultGraph=a,a.INSTANCE=new a,K1}var W1={},Y1={},n9;function bR(){if(n9)return Y1;n9=1,Object.defineProperty(Y1,"__esModule",{value:!0}),Y1.NamedNode=void 0;class a{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return Y1.NamedNode=a,Y1}var i9;function a9(){if(i9)return W1;i9=1,Object.defineProperty(W1,"__esModule",{value:!0}),W1.Literal=void 0;const a=bR();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return W1.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),W1}var Z1={},u9;function o9(){if(u9)return Z1;u9=1,Object.defineProperty(Z1,"__esModule",{value:!0}),Z1.Quad=void 0;class a{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return Z1.Quad=a,Z1}var eb={},s9;function c9(){if(s9)return eb;s9=1,Object.defineProperty(eb,"__esModule",{value:!0}),eb.Variable=void 0;class a{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return eb.Variable=a,eb}var l9;function Cce(){if(l9)return J1;l9=1,Object.defineProperty(J1,"__esModule",{value:!0}),J1.DataFactory=void 0;const a=e9(),t=r9(),u=a9(),n=bR(),r=o9(),e=c9();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return J1.DataFactory=o,J1}var d9;function Bce(){return d9||(d9=1,function(a){var t=ao&&ao.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ao&&ao.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(e9(),a),u(Cce(),a),u(r9(),a),u(a9(),a),u(bR(),a),u(o9(),a),u(c9(),a)}(ao)),ao}var _R,f9;function h9(){if(f9)return _R;f9=1;var{Buffer:a}=Ei(),t={},u=t.LEFT_BRACE=1,n=t.RIGHT_BRACE=2,r=t.LEFT_BRACKET=3,e=t.RIGHT_BRACKET=4,i=t.COLON=5,o=t.COMMA=6,c=t.TRUE=7,s=t.FALSE=8,l=t.NULL=9,f=t.STRING=10,d=t.NUMBER=11,h=t.START=17,p=t.STOP=18,b=t.TRUE1=33,m=t.TRUE2=34,y=t.TRUE3=35,g=t.FALSE1=49,_=t.FALSE2=50,v=t.FALSE3=51,T=t.FALSE4=52,w=t.NULL1=65,A=t.NULL2=66,M=t.NULL3=67,F=t.NUMBER1=81,O=t.NUMBER3=83,E=t.STRING1=97,x=t.STRING2=98,L=t.STRING3=99,V=t.STRING4=100,$=t.STRING5=101,Q=t.STRING6=102,ie=t.VALUE=113,ue=t.KEY=114,pe=t.OBJECT=129,X=t.ARRAY=130,me=92,Fe=47,ve=8,re=12,je=10,qe=13,$e=9,ge=64*1024;function we(P){return a.alloc?a.alloc(P):new a(P)}function G(){this.tState=h,this.value=void 0,this.string=void 0,this.stringBuffer=we(ge),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=ie,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:we(2),3:we(3),4:we(4)},this.offset=-1}G.toknam=function(P){for(var S=Object.keys(t),I=0,B=S.length;I<B;I++){var z=S[I];if(t[z]===P)return z}return P&&"0x"+P.toString(16)};var N=G.prototype;return N.onError=function(P){throw P},N.charError=function(P,S){this.tState=p,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(P[S]))+" at position "+S+" in state "+G.toknam(this.tState)))},N.appendStringChar=function(P){this.stringBufferOffset>=ge&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=P},N.appendStringBuf=function(P,S,I){var B=P.length;typeof S=="number"&&(typeof I=="number"?I<0?B=P.length-S+I:B=I-S:B=P.length-S),B<0&&(B=0),this.stringBufferOffset+B>ge&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),P.copy(this.stringBuffer,this.stringBufferOffset,S,I),this.stringBufferOffset+=B},N.write=function(P){typeof P=="string"&&(P=new a(P));for(var S,I=0,B=P.length;I<B;I++)if(this.tState===h){if(S=P[I],this.offset++,S===123)this.onToken(u,"{");else if(S===125)this.onToken(n,"}");else if(S===91)this.onToken(r,"[");else if(S===93)this.onToken(e,"]");else if(S===58)this.onToken(i,":");else if(S===44)this.onToken(o,",");else if(S===116)this.tState=b;else if(S===102)this.tState=g;else if(S===110)this.tState=w;else if(S===34)this.string="",this.stringBufferOffset=0,this.tState=E;else if(S===45)this.string="-",this.tState=F;else if(S>=48&&S<64)this.string=String.fromCharCode(S),this.tState=O;else if(!(S===32||S===9||S===10||S===13))return this.charError(P,I)}else if(this.tState===E)if(S=P[I],this.bytes_remaining>0){for(var z=0;z<this.bytes_remaining;z++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+z]=P[z];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,I=I+z-1}else if(this.bytes_remaining===0&&S>=128){if(S<=193||S>244)return this.onError(new Error("Invalid UTF-8 character at position "+I+" in state "+G.toknam(this.tState)));if(S>=194&&S<=223&&(this.bytes_in_sequence=2),S>=224&&S<=239&&(this.bytes_in_sequence=3),S>=240&&S<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+I>P.length){for(var H=0;H<=P.length-1-I;H++)this.temp_buffs[this.bytes_in_sequence][H]=P[I+H];this.bytes_remaining=I+this.bytes_in_sequence-P.length,I=P.length-1}else this.appendStringBuf(P,I,I+this.bytes_in_sequence),I=I+this.bytes_in_sequence-1}else if(S===34)this.tState=h,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(f,this.string),this.offset+=a.byteLength(this.string,"utf8")+1,this.string=void 0;else if(S===92)this.tState=x;else if(S>=32)this.appendStringChar(S);else return this.charError(P,I);else if(this.tState===x)if(S=P[I],S===34)this.appendStringChar(S),this.tState=E;else if(S===92)this.appendStringChar(me),this.tState=E;else if(S===47)this.appendStringChar(Fe),this.tState=E;else if(S===98)this.appendStringChar(ve),this.tState=E;else if(S===102)this.appendStringChar(re),this.tState=E;else if(S===110)this.appendStringChar(je),this.tState=E;else if(S===114)this.appendStringChar(qe),this.tState=E;else if(S===116)this.appendStringChar($e),this.tState=E;else if(S===117)this.unicode="",this.tState=L;else return this.charError(P,I);else if(this.tState===L||this.tState===V||this.tState===$||this.tState===Q)if(S=P[I],S>=48&&S<64||S>64&&S<=70||S>96&&S<=102){if(this.unicode+=String.fromCharCode(S),this.tState++===Q){var K=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&K>=56320&&K<57344?(this.appendStringBuf(new a(String.fromCharCode(this.highSurrogate,K))),this.highSurrogate=void 0):this.highSurrogate===void 0&&K>=55296&&K<56320?this.highSurrogate=K:(this.highSurrogate!==void 0&&(this.appendStringBuf(new a(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new a(String.fromCharCode(K)))),this.tState=E}}else return this.charError(P,I);else if(this.tState===F||this.tState===O)switch(S=P[I],S){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(S),this.tState=O;break;default:this.tState=h;var k=this.numberReviver(this.string,P,I);if(k)return k;this.offset+=this.string.length-1,this.string=void 0,I--;break}else if(this.tState===b)if(P[I]===114)this.tState=m;else return this.charError(P,I);else if(this.tState===m)if(P[I]===117)this.tState=y;else return this.charError(P,I);else if(this.tState===y)if(P[I]===101)this.tState=h,this.onToken(c,!0),this.offset+=3;else return this.charError(P,I);else if(this.tState===g)if(P[I]===97)this.tState=_;else return this.charError(P,I);else if(this.tState===_)if(P[I]===108)this.tState=v;else return this.charError(P,I);else if(this.tState===v)if(P[I]===115)this.tState=T;else return this.charError(P,I);else if(this.tState===T)if(P[I]===101)this.tState=h,this.onToken(s,!1),this.offset+=4;else return this.charError(P,I);else if(this.tState===w)if(P[I]===117)this.tState=A;else return this.charError(P,I);else if(this.tState===A)if(P[I]===108)this.tState=M;else return this.charError(P,I);else if(this.tState===M)if(P[I]===108)this.tState=h,this.onToken(l,null),this.offset+=3;else return this.charError(P,I)},N.onToken=function(P,S){},N.parseError=function(P,S){this.tState=p,this.onError(new Error("Unexpected "+G.toknam(P)+(S?"("+JSON.stringify(S)+")":"")+" in state "+G.toknam(this.state)))},N.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},N.pop=function(){var P=this.value,S=this.stack.pop();this.value=S.value,this.key=S.key,this.mode=S.mode,this.emit(P),this.mode||(this.state=ie)},N.emit=function(P){this.mode&&(this.state=o),this.onValue(P)},N.onValue=function(P){},N.onToken=function(P,S){if(this.state===ie)if(P===f||P===d||P===c||P===s||P===l)this.value&&(this.value[this.key]=S),this.emit(S);else if(P===u)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=ue,this.mode=pe;else if(P===r)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=X,this.state=ie;else if(P===n)if(this.mode===pe)this.pop();else return this.parseError(P,S);else if(P===e)if(this.mode===X)this.pop();else return this.parseError(P,S);else return this.parseError(P,S);else if(this.state===ue)if(P===f)this.key=S,this.state=i;else if(P===n)this.pop();else return this.parseError(P,S);else if(this.state===i)if(P===i)this.state=ie;else return this.parseError(P,S);else if(this.state===o)if(P===o)this.mode===X?(this.key++,this.state=ie):this.mode===pe&&(this.state=ue);else if(P===e&&this.mode===X||P===n&&this.mode===pe)this.pop();else return this.parseError(P,S);else return this.parseError(P,S)},N.numberReviver=function(P,S,I){var B=Number(P);if(isNaN(B))return this.charError(S,I);P.match(/[0-9]+/)==P&&B.toString()!=P?this.onToken(f,P):this.onToken(d,B)},G.C=t,_R=G,_R}var p9;function $ce(){if(p9)return z1;p9=1,Object.defineProperty(z1,"__esModule",{value:!0}),z1.SparqlJsonParser=void 0;const a=Bce(),t=Mt(),u=h9();let n=class{constructor(e){var i;e=e||{},this.dataFactory=e.dataFactory||new a.DataFactory,this.prefixVariableQuestionMark=!!e.prefixVariableQuestionMark,this.suppressMissingStreamResultsError=(i=e.suppressMissingStreamResultsError)!==null&&i!==void 0?i:!0}parseJsonResults(e){return e.results.bindings.map(i=>this.parseJsonBindings(i))}parseJsonResultsStream(e){const i=f=>l.emit("error",f);e.on("error",i);const o=new u;o.onError=i;let c=!1,s=!1;o.onValue=f=>{if(o.key==="vars"&&o.stack.length===2&&o.stack[1].key==="head")l.emit("variables",f.map(d=>this.dataFactory.variable(d))),c=!0;else if(o.key==="results"&&o.stack.length===1)s=!0;else if(typeof o.key=="number"&&o.stack.length===3&&o.stack[1].key==="results"&&o.stack[2].key==="bindings")try{l.push(this.parseJsonBindings(f))}catch(d){l.emit("error",d)}else o.key==="metadata"&&o.stack.length===1&&l.emit("metadata",f)};const l=e.on("end",f=>{!s&&!this.suppressMissingStreamResultsError?l.emit("error",new Error("No valid SPARQL query results were found.")):c||l.emit("variables",[])}).pipe(new t.Transform({objectMode:!0,transform(f,d,h){o.write(f),h()}}));return l}parseJsonBindings(e){const i={};for(const o in e){const c=e[o];i[this.prefixVariableQuestionMark?"?"+o:o]=this.parseJsonValue(c)}return i}parseJsonValue(e){let i;switch(e.type){case"bnode":i=this.dataFactory.blankNode(e.value);break;case"literal":e["xml:lang"]?i=this.dataFactory.literal(e.value,e["xml:lang"]):e.datatype?i=this.dataFactory.literal(e.value,this.dataFactory.namedNode(e.datatype)):i=this.dataFactory.literal(e.value);break;case"typed-literal":i=this.dataFactory.literal(e.value,this.dataFactory.namedNode(e.datatype));break;case"triple":const o=e.value;if(!o||!o.subject||!o.predicate||!o.object)throw new Error("Invalid quoted triple: "+JSON.stringify(e));i=this.dataFactory.quad(this.parseJsonValue(o.subject),this.parseJsonValue(o.predicate),this.parseJsonValue(o.object));break;default:i=this.dataFactory.namedNode(e.value);break}return i}parseJsonBoolean(e){if("boolean"in e)return e.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(e){return new Promise((i,o)=>{const c=new u;c.onError=o,c.onValue=s=>{c.key==="boolean"&&typeof s=="boolean"&&c.stack.length===1&&i(s)},e.on("error",o).on("data",s=>c.write(s)).on("end",()=>o(new Error("No valid ASK response was found.")))})}};return z1.SparqlJsonParser=n,z1}var y9;function b9(){return y9||(y9=1,function(a){var t=io&&io.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=io&&io.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u($ce(),a)}(io)),io}var _9;function Vce(){if(_9)return P1;_9=1,Object.defineProperty(P1,"__esModule",{value:!0}),P1.Converter=void 0;const a=qce(),t=b9();let u=class ki{constructor(r){r=r||{delimiter:"_"},r.prefixVariableQuestionMark=!1,this.delimiter=r.delimiter||"_",this.parser=new t.SparqlJsonParser(r),this.materializeRdfJsTerms=r.materializeRdfJsTerms}static addValueToTree(r,e,i,o,c,s){const l=e[0],f=o?o+s+l:l,d=c.singularizeVariables[f];if(e.length===1)d?r[l]||(r[l]=i):(r[l]||(r[l]=[]),r[l].push(i));else{let h;d?(r[l]||(r[l]={}),h=r[l]):(r[l]||(r[l]=[{}]),h=r[l][0]),ki.addValueToTree(h,e.slice(1),i,f,c,s)}}static mergeTrees(r,e){if(typeof r!=typeof e)throw new Error(`Two incompatible tree nodes were found: ${typeof r} and ${typeof e}`);if(Array.isArray(r)!==Array.isArray(e))throw new Error(`Two incompatible tree nodes were found: Array?${Array.isArray(r)} and Array?${Array.isArray(e)}`);if(typeof r=="object"&&typeof e=="object"){if(r.termType&&e.termType)return r.equals(e)?{valid:!0,result:r}:{valid:!1,result:r};if(Array.isArray(r)&&Array.isArray(e)){if(r.length>0){const i=[];let o=!1;for(const c of r){const s=ki.mergeTrees(c,e[0]);s.valid?(o=!0,i.push(s.result)):i.push(c)}if(o)return{valid:!0,result:i}}return{valid:!0,result:r.concat(e)}}else{const i={};for(const o in e)i[o]=e[o];for(const o in r)if(i[o]){const c=ki.mergeTrees(r[o],i[o]);if(c.valid)i[o]=c.result;else return{valid:!1,result:r}}else i[o]=r[o];return{valid:!0,result:i}}}else throw new Error(`Unmergable tree types: ${typeof r} and ${typeof e}`)}static materializeTree(r){if(r.termType)return(0,a.getTermRaw)(r);if(Array.isArray(r))return r.map(ki.materializeTree);{const e={};for(const i in r)e[i]=ki.materializeTree(r[i]);return e}}sparqlJsonResultsToTree(r,e){return this.bindingsToTree(this.parser.parseJsonResults(r),e||{singularizeVariables:{}})}bindingsToTree(r,e){const i=e&&e.singularizeVariables[""];let o=i?{}:[];for(const c of r){const s=i?{}:[{}];for(const l in c){const f=l.split(this.delimiter),d=c[l];ki.addValueToTree(i?s:s[0],f,d,"",e,this.delimiter)}o=ki.mergeTrees(o,s).result}return this.materializeRdfJsTerms&&(o=ki.materializeTree(o)),o}};return P1.Converter=u,P1}var m9;function Uce(){return m9||(m9=1,function(a){var t=eo&&eo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=eo&&eo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Vce(),a)}(eo)),eo}var g9;function v9(){if(g9)return D1;g9=1,Object.defineProperty(D1,"__esModule",{value:!0}),D1.ActorQueryResultSerializeTree=void 0;const a=hi(),t=ke(),u=Te(),n=Mt(),r=Uce();let e=class tie extends a.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}static async bindingsStreamToGraphQl(o,c,s){const l=u.ActionContext.ensureActionContext(c),f=new r.Converter(s),d={singularizeVariables:l.get(t.KeysInitQuery.graphqlSingularizeVariables)??{}};return f.bindingsToTree(await o.map(h=>Object.fromEntries([...h].map(([p,b])=>[p.value,b]))).toArray(),d)}async testHandleChecked(o){return o.type!=="bindings"?(0,u.failTest)("This actor can only handle bindings streams."):(0,u.passTestVoid)()}async runHandle(o,c){const s=new n.Readable;return s._read=()=>{s._read=()=>{},tie.bindingsStreamToGraphQl(o.bindingsStream,o.context,{materializeRdfJsTerms:!0}).then(l=>{s.push(JSON.stringify(l,null,"  ")),s.push(null)}).catch(l=>s.emit("error",l))},{data:s}}};return D1.ActorQueryResultSerializeTree=e,D1}var T9;function Qce(){return T9||(T9=1,function(a){var t=Zu&&Zu.__createBinding||(Object.create?function(e,i,o,c){c===void 0&&(c=o);var s=Object.getOwnPropertyDescriptor(i,o);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(e,c,s)}:function(e,i,o,c){c===void 0&&(c=o),e[c]=i[o]}),u=Zu&&Zu.__exportStar||function(e,i){for(var o in e)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,e,o)};Object.defineProperty(a,"__esModule",{value:!0}),a.bindingsStreamToGraphQl=void 0;const n=v9(),{bindingsStreamToGraphQl:r}=n.ActorQueryResultSerializeTree;a.bindingsStreamToGraphQl=r,u(v9(),a)}(Zu)),Zu}var uo={},tb={},w9;function Hce(){if(w9)return tb;w9=1,Object.defineProperty(tb,"__esModule",{value:!0}),tb.MediatorCombineUnion=void 0;const a=Te();let t=class extends a.Mediator{constructor(n){super(n),this.combiner=this.createCombiner()}async mediate(n){let r;try{r=this.publish(n)}catch{r=[]}if(this.filterFailures){const o=[];for(const c of r)(await c.reply).isPassed()&&o.push(c);r=o}const e=[];await Promise.all(r.map(async({reply:o},c)=>{const s=await o,l=s.getOrThrow();return e[c]=s.getSideData(),l}));const i=await Promise.all(r.map((o,c)=>o.actor.runObservable(n,e[c])));return this.combiner(i)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return n=>{const r={};return r[this.field]={},[{}].concat(n.map(e=>e[this.field])).forEach(e=>{r[this.field]={...e,...r[this.field]}}),r}}};return tb.MediatorCombineUnion=t,tb}var S9;function oa(){return S9||(S9=1,function(a){var t=uo&&uo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=uo&&uo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Hce(),a)}(uo)),uo}var oo={},rb={},O9;function Gce(){if(O9)return rb;O9=1,Object.defineProperty(rb,"__esModule",{value:!0}),rb.MediatorNumber=void 0;const a=Te();let t=class extends a.Mediator{constructor(n){super(n),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return n=>n.reduce((r,e,i)=>{const o=this.getOrDefault(e[this.field],Number.POSITIVE_INFINITY);return o!==null&&(Number.isNaN(r[0])||r[0]>o)?[o,i]:r},[Number.NaN,-1])[1];case"max":return n=>n.reduce((r,e,i)=>{const o=this.getOrDefault(e[this.field],Number.NEGATIVE_INFINITY);return o!==null&&(Number.isNaN(r[0])||r[0]<o)?[o,i]:r},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(n,r){return n===void 0?r:n}async mediateWith(n,r){let e=await Promise.all(r.map(({reply:l})=>l));const i=[];if(this.ignoreFailures){const l={};l[this.field]=null,e=e.map(f=>f.isFailed()?(i.push(f.getFailMessage()),(0,a.passTestWithSideData)(l,void 0)):f)}const o=[],c=e.map((l,f)=>{const d=l.getOrThrow();return o[f]=l.getSideData(),d}),s=this.indexPicker(c);return s<0?(0,a.failTest)(this.constructFailureMessage(n,i)):(0,a.passTestWithSideData)(r[s].actor,o[s])}};return rb.MediatorNumber=t,rb}var A9;function nb(){return A9||(A9=1,function(a){var t=oo&&oo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=oo&&oo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Gce(),a)}(oo)),oo}var so={},ib={},co={},ab={},Ri={},E9;function mR(){if(E9)return Ri;E9=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.ActorDereferenceBase=Ri.isHardError=Ri.emptyReadable=void 0;const a=ke(),t=Te(),u=Mt();function n(){const i=new u.Readable;return i.push(null),i}Ri.emptyReadable=n;function r(i){return!i.get(a.KeysInitQuery.lenient)}Ri.isHardError=r;let e=class extends t.Actor{constructor(o){super(o)}async dereferenceErrorHandler(o,c,s){if(r(o.context))throw c;return this.logWarn(o.context,c.message),{...s,data:n()}}};return Ri.ActorDereferenceBase=e,Ri}var x9;function kce(){if(x9)return ab;x9=1,Object.defineProperty(ab,"__esModule",{value:!0}),ab.ActorDereference=void 0;const a=mR();let t=class extends a.ActorDereferenceBase{constructor(n){super(n)}async handleDereferenceErrors(n,r,e,i=0){return this.dereferenceErrorHandler(n,r,{url:n.url,exists:!1,headers:e,requestTime:i})}};return ab.ActorDereference=t,ab}var lo={},I9;function zce(){if(I9)return lo;I9=1,Object.defineProperty(lo,"__esModule",{value:!0}),lo.ActorDereferenceParse=lo.getMediaTypeFromExtension=void 0;const a=Te(),t=Mt(),u=mR();function n(e,i){const o=e.lastIndexOf(".");return o>=0&&(i==null?void 0:i[e.slice(o+1)])||""}lo.getMediaTypeFromExtension=n;let r=class extends u.ActorDereferenceBase{constructor(i){super(i)}async test(i){return(0,a.passTestVoid)()}handleDereferenceStreamErrors(i,o){return(0,u.isHardError)(i.context)||(o.on("error",c=>{this.logWarn(i.context,c.message,()=>({url:i.url})),o.push(null)}),o=o.pipe(new t.PassThrough({objectMode:!0}))),o}async run(i){var l,f;const{context:o}=i,c=await this.mediatorDereference.mediate({...i,mediaTypes:async()=>{var d,h;return(h=await((d=this.mediatorParseMediatypes)==null?void 0:d.mediate({context:o,mediaTypes:!0})))==null?void 0:h.mediaTypes}});let s;try{s=(await this.mediatorParse.mediate({context:o,handle:{context:o,...c,metadata:await this.getMetadata(c)},handleMediaType:c.mediaType||n(c.url,this.mediaMappings)||i.mediaType})).handle,s.data=this.handleDereferenceStreamErrors(i,s.data)}catch(d){await((f=(l=c.data).close)==null?void 0:f.call(l)),s=await this.dereferenceErrorHandler(i,d,{})}return{...c,...s}}};return lo.ActorDereferenceParse=r,lo}var R9;function gR(){return R9||(R9=1,function(a){var t=co&&co.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=co&&co.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(kce(),a),u(zce(),a),u(mR(),a)}(co)),co}var N9;function Xce(){if(N9)return ib;N9=1,Object.defineProperty(ib,"__esModule",{value:!0}),ib.ActorDereferenceFallback=void 0;const a=gR(),t=Te();let u=class extends a.ActorDereference{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){return this.handleDereferenceErrors(r,new Error(`Could not dereference '${r.url}'`))}};return ib.ActorDereferenceFallback=u,ib}var F9;function Jce(){return F9||(F9=1,function(a){var t=so&&so.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=so&&so.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Xce(),a)}(so)),so}var fo={},ub={},ho={},ob={},D9;function Kce(){if(D9)return ob;D9=1,Object.defineProperty(ob,"__esModule",{value:!0}),ob.ActorRdfJoinEntriesSort=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}};return ob.ActorRdfJoinEntriesSort=t,ob}var P9;function Wce(){return P9||(P9=1,function(a){var t=ho&&ho.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ho&&ho.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Kce(),a)}(ho)),ho}var L9;function Yce(){if(L9)return ub;L9=1,Object.defineProperty(ub,"__esModule",{value:!0}),ub.ActorRdfJoinEntriesSortCardinality=void 0;const a=Wce(),t=Te();let u=class extends a.ActorRdfJoinEntriesSort{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){return{entries:[...r.entries].sort((i,o)=>i.metadata.cardinality.value-o.metadata.cardinality.value)}}};return ub.ActorRdfJoinEntriesSortCardinality=u,ub}var j9;function Zce(){return j9||(j9=1,function(a){var t=fo&&fo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=fo&&fo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Yce(),a)}(fo)),fo}var po={},yo={},bo={},sb={},M9;function ele(){if(M9)return sb;M9=1,Object.defineProperty(sb,"__esModule",{value:!0}),sb.ActorRdfJoinSelectivity=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}};return sb.ActorRdfJoinSelectivity=t,sb}var q9;function tle(){return q9||(q9=1,function(a){var t=bo&&bo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=bo&&bo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(ele(),a)}(bo)),bo}var C9;function rle(){if(C9)return yo;C9=1,Object.defineProperty(yo,"__esModule",{value:!0}),yo.JoinTypes=yo.ActorRdfJoinSelectivityVariableCounting=void 0;const a=tle(),t=Te(),u=bt();let n=class Df extends a.ActorRdfJoinSelectivity{constructor(i){super(i)}async test(i){return(0,t.passTest)({accuracy:.5})}static getPatternCost(i){let o=1;return i.subject.termType==="Variable"&&(o+=4),(i.predicate.termType==="Variable"||i.type===u.Algebra.types.PATH)&&(o+=1),i.object.termType==="Variable"&&(o+=2),i.graph.termType==="Variable"&&(o+=1),o/9}static getJoinTypes(i,o){const c=[];return i.subject.termType==="Variable"?(i.subject.equals(o.subject)&&c.push(r.unboundSS),o.type==="pattern"&&i.subject.equals(o.predicate)&&c.push(r.unboundSP),i.subject.equals(o.object)&&c.push(r.unboundSO),i.subject.equals(o.graph)&&c.push(r.unboundSG)):(i.subject.equals(o.subject)&&c.push(r.boundSS),o.type==="pattern"&&i.subject.equals(o.predicate)&&c.push(r.boundSP),i.subject.equals(o.object)&&c.push(r.boundSO),i.subject.equals(o.graph)&&c.push(r.boundSG)),i.type==="pattern"&&(i.predicate.termType==="Variable"?(i.predicate.equals(o.subject)&&c.push(r.unboundPS),o.type==="pattern"&&i.predicate.equals(o.predicate)&&c.push(r.unboundPP),i.predicate.equals(o.object)&&c.push(r.unboundPO),i.predicate.equals(o.graph)&&c.push(r.unboundPG)):(i.predicate.equals(o.subject)&&c.push(r.boundPS),o.type==="pattern"&&i.predicate.equals(o.predicate)&&c.push(r.boundPP),i.predicate.equals(o.object)&&c.push(r.boundPO),i.predicate.equals(o.graph)&&c.push(r.boundPG))),i.object.termType==="Variable"?(i.object.equals(o.subject)&&c.push(r.unboundOS),o.type==="pattern"&&i.object.equals(o.predicate)&&c.push(r.unboundOP),i.object.equals(o.object)&&c.push(r.unboundOO),i.object.equals(o.graph)&&c.push(r.unboundOG)):(i.object.equals(o.subject)&&c.push(r.boundOS),o.type==="pattern"&&i.object.equals(o.predicate)&&c.push(r.boundOP),i.object.equals(o.object)&&c.push(r.boundOO),i.object.equals(o.graph)&&c.push(r.boundOG)),i.graph.termType==="Variable"?(i.graph.equals(o.subject)&&c.push(r.unboundGS),o.type==="pattern"&&i.graph.equals(o.predicate)&&c.push(r.unboundGP),i.graph.equals(o.object)&&c.push(r.unboundGO),i.graph.equals(o.graph)&&c.push(r.unboundGG)):(i.graph.equals(o.subject)&&c.push(r.boundGS),o.type==="pattern"&&i.graph.equals(o.predicate)&&c.push(r.boundGP),i.graph.equals(o.object)&&c.push(r.boundGO),i.graph.equals(o.graph)&&c.push(r.boundGG)),c}static getOperationsPairwiseJoinCost(i,o){let c=Df.MAX_PAIRWISE_COST;for(const s of Df.getJoinTypes(i,o))switch(s){case r.boundSS:c-=2*2;break;case r.boundSP:c-=3*2;break;case r.boundSO:c-=1*2;break;case r.boundSG:c-=3*2;break;case r.boundPS:c-=3*2;break;case r.boundPP:return 1;case r.boundPO:c-=3*2;break;case r.boundPG:c-=3*2;break;case r.boundOS:c-=1*2;break;case r.boundOP:c-=3*2;break;case r.boundOO:c-=1*2;break;case r.boundOG:c-=3*2;break;case r.boundGS:c-=3*2;break;case r.boundGP:c-=3*2;break;case r.boundGO:c-=3*2;break;case r.boundGG:c-=3*2;break;case r.unboundSS:c-=2;break;case r.unboundSP:c-=3;break;case r.unboundSO:c-=1;break;case r.unboundSG:c-=3;break;case r.unboundPS:c-=3;break;case r.unboundPP:c-=3;break;case r.unboundPO:c-=3;break;case r.unboundPG:c-=3;break;case r.unboundOS:c-=1;break;case r.unboundOP:c-=3;break;case r.unboundOO:c-=1;break;case r.unboundOG:c-=3;break;case r.unboundGS:c-=3;break;case r.unboundGP:c-=3;break;case r.unboundGO:c-=3;break;case r.unboundGG:c-=3;break}return c/Df.MAX_PAIRWISE_COST}static getOperationsJoinCost(i){const o=[];for(const l of i)u.Util.recurseOperation(l,{[u.Algebra.types.PATTERN](f){return o.push(f),!1},[u.Algebra.types.PATH](f){return o.push(f),!1}});let c=0,s=0;for(const l of o)for(const f of o)l!==f&&(c+=Df.getOperationsPairwiseJoinCost(l,f),s++);return s===0?1:c/s*o.reduce((l,f)=>l*Df.getPatternCost(f),1)}async run(i){return i.entries.length<=1?{selectivity:1}:{selectivity:Df.getOperationsJoinCost(i.entries.map(o=>o.operation))}}};yo.ActorRdfJoinSelectivityVariableCounting=n,n.MAX_PAIRWISE_COST=41*2;var r;return function(e){e[e.boundSS=0]="boundSS",e[e.boundSP=1]="boundSP",e[e.boundSO=2]="boundSO",e[e.boundSG=3]="boundSG",e[e.boundPS=4]="boundPS",e[e.boundPP=5]="boundPP",e[e.boundPO=6]="boundPO",e[e.boundPG=7]="boundPG",e[e.boundOS=8]="boundOS",e[e.boundOP=9]="boundOP",e[e.boundOO=10]="boundOO",e[e.boundOG=11]="boundOG",e[e.boundGS=12]="boundGS",e[e.boundGP=13]="boundGP",e[e.boundGO=14]="boundGO",e[e.boundGG=15]="boundGG",e[e.unboundSS=16]="unboundSS",e[e.unboundSP=17]="unboundSP",e[e.unboundSO=18]="unboundSO",e[e.unboundSG=19]="unboundSG",e[e.unboundPS=20]="unboundPS",e[e.unboundPP=21]="unboundPP",e[e.unboundPO=22]="unboundPO",e[e.unboundPG=23]="unboundPG",e[e.unboundOS=24]="unboundOS",e[e.unboundOP=25]="unboundOP",e[e.unboundOO=26]="unboundOO",e[e.unboundOG=27]="unboundOG",e[e.unboundGS=28]="unboundGS",e[e.unboundGP=29]="unboundGP",e[e.unboundGO=30]="unboundGO",e[e.unboundGG=31]="unboundGG"}(r||(yo.JoinTypes=r={})),yo}var B9;function nle(){return B9||(B9=1,function(a){var t=po&&po.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=po&&po.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(rle(),a)}(po)),po}var _o={},cb={},mo={},lb={},$9;function ile(){if($9)return lb;$9=1,Object.defineProperty(lb,"__esModule",{value:!0}),lb.ActorRdfMetadata=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}};return lb.ActorRdfMetadata=t,lb}var V9;function U9(){return V9||(V9=1,function(a){var t=mo&&mo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=mo&&mo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(ile(),a)}(mo)),mo}var Q9;function ale(){if(Q9)return cb;Q9=1,Object.defineProperty(cb,"__esModule",{value:!0}),cb.ActorRdfMetadataPrimaryTopic=void 0;const a=U9(),t=Te(),u=Mt();let n=class extends a.ActorRdfMetadata{constructor(e){super(e)}async test(e){return e.triples?(0,t.failTest)("This actor only supports non-triple quad streams."):(0,t.passTestVoid)()}async run(e){const i=new u.Readable({objectMode:!0}),o=new u.Readable({objectMode:!0}),c=()=>{i._read=o._read=()=>{},e.quads.on("error",d=>{i.emit("error",d),o.emit("error",d)});const s={};let l;const f={};e.quads.on("data",d=>{d.predicate.value==="http://rdfs.org/ns/void#subset"&&d.object.value===e.url?l=d.subject.value:d.predicate.value==="http://xmlns.com/foaf/0.1/primaryTopic"&&(f[d.object.value]=d.subject.value);let h=s[d.graph.value];h||(h=s[d.graph.value]=[]),h.push(d)}),e.quads.on("end",()=>{const d=l?f[l]:void 0;for(const h in s)if(h===d){for(const p of s[h])o.push(p);if(this.metadataToData)for(const p of s[h])i.push(p)}else{for(const p of s[h])i.push(p);if(!d&&this.dataToMetadataOnInvalidMetadataGraph)for(const p of s[h])o.push(p)}i.push(null),o.push(null)})};return i._read=o._read=()=>{c()},{data:i,metadata:o}}};return cb.ActorRdfMetadataPrimaryTopic=n,cb}var H9;function ule(){return H9||(H9=1,function(a){var t=_o&&_o.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=_o&&_o.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(ale(),a)}(_o)),_o}var go={},db={},G9;function ole(){if(G9)return db;G9=1,Object.defineProperty(db,"__esModule",{value:!0}),db.ActorRdfMetadataAll=void 0;const a=U9(),t=Te(),u=Mt();let n=class extends a.ActorRdfMetadata{constructor(e){super(e)}async test(e){return(0,t.passTestVoid)()}async run(e){const i=new u.Readable({objectMode:!0}),o=new u.Readable({objectMode:!0});e.quads.on("error",s=>{i.emit("error",s),o.emit("error",s)}),e.quads.on("end",()=>{i.push(null),o.push(null)});const c=i._read=o._read=s=>{for(;s>0;){const l=e.quads.read();if(l===null)return e.quads.once("readable",()=>c(s));s--,i.push(l),o.push(l)}};return{data:i,metadata:o}}};return db.ActorRdfMetadataAll=n,db}var k9;function sle(){return k9||(k9=1,function(a){var t=go&&go.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=go&&go.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(ole(),a)}(go)),go}var vo={},fb={},To={},hb={},z9;function cle(){if(z9)return hb;z9=1,Object.defineProperty(hb,"__esModule",{value:!0}),hb.ActorRdfMetadataAccumulate=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}};return hb.ActorRdfMetadataAccumulate=t,hb}var X9;function vR(){return X9||(X9=1,function(a){var t=To&&To.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=To&&To.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(cle(),a)}(To)),To}var J9;function lle(){if(J9)return fb;J9=1,Object.defineProperty(fb,"__esModule",{value:!0}),fb.ActorRdfMetadataAccumulateCardinality=void 0;const a=vR(),t=Te();let u=class extends a.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){if(r.mode==="initialize")return{metadata:{cardinality:{type:"exact",value:0}}};const e={...r.accumulatedMetadata.cardinality};if(e.dataset){if(r.accumulatedMetadata.defaultGraph===e.dataset&&e.dataset!==r.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:r.appendingMetadata.cardinality}};if(r.appendingMetadata.cardinality.dataset){if(e.dataset!==r.appendingMetadata.cardinality.dataset&&r.appendingMetadata.subsetOf===e.dataset)return{metadata:{cardinality:r.appendingMetadata.cardinality}};if(e.dataset===r.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:e}};delete e.dataset}else return{metadata:{cardinality:e}}}return!r.appendingMetadata.cardinality||!Number.isFinite(r.appendingMetadata.cardinality.value)?(e.type="estimate",e.value=Number.POSITIVE_INFINITY):(r.appendingMetadata.cardinality.type==="estimate"&&(e.type="estimate"),e.value+=r.appendingMetadata.cardinality.value),{metadata:{cardinality:e}}}};return fb.ActorRdfMetadataAccumulateCardinality=u,fb}var K9;function dle(){return K9||(K9=1,function(a){var t=vo&&vo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=vo&&vo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(lle(),a)}(vo)),vo}var wo={},pb={},W9;function fle(){if(W9)return pb;W9=1,Object.defineProperty(pb,"__esModule",{value:!0}),pb.ActorRdfMetadataAccumulatePageSize=void 0;const a=vR(),t=Te();let u=class extends a.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){return r.mode==="initialize"?{metadata:{}}:{metadata:{..."pageSize"in r.accumulatedMetadata||"pageSize"in r.appendingMetadata?{pageSize:(r.accumulatedMetadata.pageSize??0)+(r.appendingMetadata.pageSize??0)}:{}}}}};return pb.ActorRdfMetadataAccumulatePageSize=u,pb}var Y9;function hle(){return Y9||(Y9=1,function(a){var t=wo&&wo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=wo&&wo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(fle(),a)}(wo)),wo}var So={},yb={},Z9;function ple(){if(Z9)return yb;Z9=1,Object.defineProperty(yb,"__esModule",{value:!0}),yb.ActorRdfMetadataAccumulateRequestTime=void 0;const a=vR(),t=Te();let u=class extends a.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){return r.mode==="initialize"?{metadata:{}}:{metadata:{..."requestTime"in r.accumulatedMetadata||"requestTime"in r.appendingMetadata?{requestTime:(r.accumulatedMetadata.requestTime??0)+(r.appendingMetadata.requestTime??0)}:{}}}}};return yb.ActorRdfMetadataAccumulateRequestTime=u,yb}var eC;function yle(){return eC||(eC=1,function(a){var t=So&&So.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=So&&So.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(ple(),a)}(So)),So}var Oo={},bb={},Ao={},_b={},tC;function ble(){if(tC)return _b;tC=1,Object.defineProperty(_b,"__esModule",{value:!0}),_b.ActorRdfMetadataExtract=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}};return _b.ActorRdfMetadataExtract=t,_b}var rC;function sa(){return rC||(rC=1,function(a){var t=Ao&&Ao.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ao&&Ao.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(ble(),a)}(Ao)),Ao}var TR={exports:{}},nC;function _le(){return nC||(nC=1,function(a){(function(t){var u=function(){function p(b){this.options=b}return p.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},p}(),n=function(){function p(A){return Object.prototype.toString.apply(A)==="[object Array]"}function b(A){return Object.prototype.toString.apply(A)==="[object String]"}function m(A){return Object.prototype.toString.apply(A)==="[object Number]"}function y(A){return Object.prototype.toString.apply(A)==="[object Boolean]"}function g(A,M){var F="",O=!0,E;for(E=0;E<A.length;E+=1)O?O=!1:F+=M,F+=A[E];return F}function _(A,M){for(var F=[],O=0;O<A.length;O+=1)F.push(M(A[O]));return F}function v(A,M){for(var F=[],O=0;O<A.length;O+=1)M(A[O])&&F.push(A[O]);return F}function T(A){if(typeof A!="object"||A===null)return A;Object.freeze(A);var M,F;for(F in A)A.hasOwnProperty(F)&&(M=A[F],typeof M=="object"&&w(M));return A}function w(A){return typeof Object.freeze=="function"?T(A):A}return{isArray:p,isString:b,isNumber:m,isBoolean:y,join:g,map:_,filter:v,deepFreeze:w}}(),r=function(){function p(y){return y>="a"&&y<="z"||y>="A"&&y<="Z"}function b(y){return y>="0"&&y<="9"}function m(y){return b(y)||y>="a"&&y<="f"||y>="A"&&y<="F"}return{isAlpha:p,isDigit:b,isHexDigit:m}}(),e=function(){var p={encode:function(v){return unescape(encodeURIComponent(v))},numBytes:function(v){return v<=127?1:194<=v&&v<=223?2:224<=v&&v<=239?3:240<=v&&v<=244?4:0},isValidFollowingCharCode:function(v){return 128<=v&&v<=191}};function b(v){var T="",w=p.encode(v),A,M;for(M=0;M<w.length;M+=1)A=w.charCodeAt(M),T+="%"+(A<16?"0":"")+A.toString(16).toUpperCase();return T}function m(v,T){return v.charAt(T)==="%"&&r.isHexDigit(v.charAt(T+1))&&r.isHexDigit(v.charAt(T+2))}function y(v,T){return parseInt(v.substr(T,2),16)}function g(v){if(!m(v,0))return!1;var T=y(v,1),w=p.numBytes(T);if(w===0)return!1;for(var A=1;A<w;A+=1)if(!m(v,3*A)||!p.isValidFollowingCharCode(y(v,3*A+1)))return!1;return!0}function _(v,T){var w=v.charAt(T);if(!m(v,T))return w;var A=y(v,T+1),M=p.numBytes(A);if(M===0)return w;for(var F=1;F<M;F+=1)if(!m(v,T+3*F)||!p.isValidFollowingCharCode(y(v,T+3*F+1)))return w;return v.substr(T,3*M)}return{encodeCharacter:b,isPctEncoded:g,pctCharAt:_}}(),i=function(){function p(y){return r.isAlpha(y)||r.isDigit(y)||y==="_"||e.isPctEncoded(y)}function b(y){return r.isAlpha(y)||r.isDigit(y)||y==="-"||y==="."||y==="_"||y==="~"}function m(y){return y===":"||y==="/"||y==="?"||y==="#"||y==="["||y==="]"||y==="@"||y==="!"||y==="$"||y==="&"||y==="("||y===")"||y==="*"||y==="+"||y===","||y===";"||y==="="||y==="'"}return{isVarchar:p,isUnreserved:b,isReserved:m}}(),o=function(){function p(g,_){var v="",T,w="";for((typeof g=="number"||typeof g=="boolean")&&(g=g.toString()),T=0;T<g.length;T+=w.length)w=g.charAt(T),v+=i.isUnreserved(w)||_&&i.isReserved(w)?w:e.encodeCharacter(w);return v}function b(g){return p(g,!0)}function m(g,_){var v=e.pctCharAt(g,_);return v.length>1||i.isReserved(v)||i.isUnreserved(v)?v:e.encodeCharacter(v)}function y(g){var _="",v,T="";for(v=0;v<g.length;v+=T.length)T=e.pctCharAt(g,v),T.length>1?_+=T:_+=i.isReserved(T)||i.isUnreserved(T)?T:e.encodeCharacter(T);return _}return{encode:p,encodePassReserved:b,encodeLiteral:y,encodeLiteralCharacter:m}}(),c=function(){var p={};function b(m){p[m]={symbol:m,separator:m==="?"?"&":m===""||m==="+"||m==="#"?",":m,named:m===";"||m==="&"||m==="?",ifEmpty:m==="&"||m==="?"?"=":"",first:m==="+"?"":m,encode:m==="+"||m==="#"?o.encodePassReserved:o.encode,toString:function(){return this.symbol}}}return b(""),b("+"),b("#"),b("."),b("/"),b(";"),b("?"),b("&"),{valueOf:function(m){return p[m]?p[m]:"=,!@|".indexOf(m)>=0?null:p[""]}}}();function s(p){var b;if(p==null)return!1;if(n.isArray(p))return p.length>0;if(typeof p=="string"||typeof p=="number"||typeof p=="boolean")return!0;for(b in p)if(p.hasOwnProperty(b)&&s(p[b]))return!0;return!1}var l=function(){function p(b){this.literal=o.encodeLiteral(b)}return p.prototype.expand=function(){return this.literal},p.prototype.toString=p.prototype.expand,p}(),f=function(){function p(m){var y,g=[],_=null,v=null,T=null,w,A="";function M(){var O=m.substring(v,w);if(O.length===0)throw new u({expressionText:m,message:"a varname must be specified",position:w});_={varname:O,exploded:!1,maxLength:null},v=null}function F(){if(T===w)throw new u({expressionText:m,message:"after a ':' you have to specify the length",position:w});_.maxLength=parseInt(m.substring(T,w),10),T=null}for(y=function(O){var E=c.valueOf(O);if(E===null)throw new u({expressionText:m,message:"illegal use of reserved operator",position:w,operator:O});return E}(m.charAt(0)),w=y.symbol.length,v=w;w<m.length;w+=A.length){if(A=e.pctCharAt(m,w),v!==null){if(A==="."){if(v===w)throw new u({expressionText:m,message:"a varname MUST NOT start with a dot",position:w});continue}if(i.isVarchar(A))continue;M()}if(T!==null){if(w===T&&A==="0")throw new u({expressionText:m,message:"A :prefix must not start with digit 0",position:w});if(r.isDigit(A)){if(w-T>=4)throw new u({expressionText:m,message:"A :prefix must have max 4 digits",position:w});continue}F()}if(A===":"){if(_.maxLength!==null)throw new u({expressionText:m,message:"only one :maxLength is allowed per varspec",position:w});if(_.exploded)throw new u({expressionText:m,message:"an exploeded varspec MUST NOT be varspeced",position:w});T=w+1;continue}if(A==="*"){if(_===null)throw new u({expressionText:m,message:"exploded without varspec",position:w});if(_.exploded)throw new u({expressionText:m,message:"exploded twice",position:w});if(_.maxLength)throw new u({expressionText:m,message:"an explode (*) MUST NOT follow to a prefix",position:w});_.exploded=!0;continue}if(A===","){g.push(_),_=null,v=w+1;continue}throw new u({expressionText:m,message:"illegal character",character:A,position:w})}return v!==null&&M(),T!==null&&F(),g.push(_),new d(m,y,g)}function b(m){var y,g,_=[],v=null,T=0;for(y=0;y<m.length;y+=1){if(g=m.charAt(y),T!==null){if(g==="}")throw new u({templateText:m,message:"unopened brace closed",position:y});g==="{"&&(T<y&&_.push(new l(m.substring(T,y))),T=null,v=y);continue}if(v!==null){if(g==="{")throw new u({templateText:m,message:"brace already opened",position:y});if(g==="}"){if(v+1===y)throw new u({templateText:m,message:"empty braces",position:v});try{_.push(p(m.substring(v+1,y)))}catch(w){throw w.prototype===u.prototype?new u({templateText:m,message:w.options.message,position:v+w.options.position,details:w.options}):w}v=null,T=y+1}continue}throw new Error("reached unreachable code")}if(v!==null)throw new u({templateText:m,message:"unclosed brace",position:v});return T<m.length&&_.push(new l(m.substr(T))),new h(m,_)}return b}(),d=function(){function p(A){return JSON&&JSON.stringify?JSON.stringify(A):A}function b(A){if(!s(A))return!0;if(n.isString(A))return A==="";if(n.isNumber(A)||n.isBoolean(A))return!1;if(n.isArray(A))return A.length===0;for(var M in A)if(A.hasOwnProperty(M))return!1;return!0}function m(A){var M=[],F;for(F in A)A.hasOwnProperty(F)&&M.push({name:F,value:A[F]});return M}function y(A,M,F){this.templateText=A,this.operator=M,this.varspecs=F}y.prototype.toString=function(){return this.templateText};function g(A,M,F){var O="";if(F=F.toString(),M.named){if(O+=o.encodeLiteral(A.varname),F==="")return O+=M.ifEmpty,O;O+="="}return A.maxLength!==null&&(F=F.substr(0,A.maxLength)),O+=M.encode(F),O}function _(A){return s(A.value)}function v(A,M,F){var O=[],E="";if(M.named){if(E+=o.encodeLiteral(A.varname),b(F))return E+=M.ifEmpty,E;E+="="}return n.isArray(F)?(O=F,O=n.filter(O,s),O=n.map(O,M.encode),E+=n.join(O,",")):(O=m(F),O=n.filter(O,_),O=n.map(O,function(x){return M.encode(x.name)+","+M.encode(x.value)}),E+=n.join(O,",")),E}function T(A,M,F){var O=n.isArray(F),E=[];return O?(E=F,E=n.filter(E,s),E=n.map(E,function(x){var L=o.encodeLiteral(A.varname);return b(x)?L+=M.ifEmpty:L+="="+M.encode(x),L})):(E=m(F),E=n.filter(E,_),E=n.map(E,function(x){var L=o.encodeLiteral(x.name);return b(x.value)?L+=M.ifEmpty:L+="="+M.encode(x.value),L})),n.join(E,M.separator)}function w(A,M){var F=[],O="";return n.isArray(M)?(F=M,F=n.filter(F,s),F=n.map(F,A.encode),O+=n.join(F,A.separator)):(F=m(M),F=n.filter(F,function(E){return s(E.value)}),F=n.map(F,function(E){return A.encode(E.name)+"="+A.encode(E.value)}),O+=n.join(F,A.separator)),O}return y.prototype.expand=function(A){var M=[],F,O,E,x=this.operator;for(F=0;F<this.varspecs.length;F+=1)if(O=this.varspecs[F],E=A[O.varname],E!=null)if(O.exploded,n.isArray(E),typeof E=="string"||typeof E=="number"||typeof E=="boolean")M.push(g(O,x,E));else{if(O.maxLength&&s(E))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+p(E));O.exploded?s(E)&&(x.named?M.push(T(O,x,E)):M.push(w(x,E))):(x.named||!b(E))&&M.push(v(O,x,E))}return M.length===0?"":x.first+n.join(M,x.separator)},y}(),h=function(){function p(b,m){this.templateText=b,this.expressions=m,n.deepFreeze(this)}return p.prototype.toString=function(){return this.templateText},p.prototype.expand=function(b){var m,y="";for(m=0;m<this.expressions.length;m+=1)y+=this.expressions[m].expand(b);return y},p.parse=f,p.UriTemplateError=u,p}();t(h)})(function(t){a.exports=t})}(TR)),TR.exports}var iC;function mle(){if(iC)return bb;iC=1,Object.defineProperty(bb,"__esModule",{value:!0}),bb.ActorRdfMetadataExtractHydraControls=void 0;const a=sa(),t=Te(),u=_le();let n=class mE extends a.ActorRdfMetadataExtract{constructor(e){super(e),this.parsedUriTemplateCache={}}async test(e){return(0,t.passTestVoid)()}getLinks(e,i){return Object.fromEntries(mE.LINK_TYPES.map(o=>{const c=i[o]||i[`${o}Page`],s=c&&c[e];return[o,s&&s.length>0?[s[0]]:[]]}))}parseUriTemplateCached(e){const i=this.parsedUriTemplateCache[e];return i||(this.parsedUriTemplateCache[e]=(0,u.parse)(e))}getSearchForms(e){const i=e.search,o=[];if(i)for(const c in i)for(const s of i[c]){const l=(e.template||{})[s]||[];if(l.length!==1)throw new Error(`Expected 1 hydra:template for ${s}`);const f=l[0],d=this.parseUriTemplateCached(f),h=Object.fromEntries(((e.mapping||{})[s]||[]).map(b=>{const m=((e.variable||{})[b]||[])[0],y=((e.property||{})[b]||[])[0];if(!m)throw new Error(`Expected a hydra:variable for ${b}`);if(!y)throw new Error(`Expected a hydra:property for ${b}`);return[y,m]})),p=b=>d.expand(Object.fromEntries(Object.keys(b).map(m=>[h[m],b[m]])));o.push({dataset:c,template:f,mappings:h,getUri:p})}return{values:o}}getHydraProperties(e){return new Promise((i,o)=>{e.on("error",o);const c={};e.on("data",s=>{if(s.predicate.value.startsWith(mE.HYDRA)){const l=s.predicate.value.slice(mE.HYDRA.length),f=c[l]||(c[l]={});(f[s.subject.value]||(f[s.subject.value]=[])).push(s.object.value)}}),e.on("end",()=>i(c))})}async run(e){const i={},o=await this.getHydraProperties(e.metadata);return Object.assign(i,this.getLinks(e.url,o)),i.searchForms=this.getSearchForms(o),{metadata:i}}};return bb.ActorRdfMetadataExtractHydraControls=n,n.HYDRA="http://www.w3.org/ns/hydra/core#",n.LINK_TYPES=["first","next","previous","last"],bb}var aC;function gle(){return aC||(aC=1,function(a){var t=Oo&&Oo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Oo&&Oo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(mle(),a)}(Oo)),Oo}var Eo={},mb={},uC;function vle(){if(uC)return mb;uC=1,Object.defineProperty(mb,"__esModule",{value:!0}),mb.ActorRdfMetadataExtractHydraCount=void 0;const a=sa(),t=Te();let u=class extends a.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}run(r){return new Promise((e,i)=>{r.metadata.on("error",i),r.metadata.on("data",o=>{this.predicates.includes(o.predicate.value)&&e({metadata:{cardinality:{type:"estimate",value:Number.parseInt(o.object.value,10),dataset:o.subject.value}}})}),r.metadata.on("end",()=>{e({metadata:{cardinality:{type:"estimate",value:0}}})})})}};return mb.ActorRdfMetadataExtractHydraCount=u,mb}var oC;function Tle(){return oC||(oC=1,function(a){var t=Eo&&Eo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Eo&&Eo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(vle(),a)}(Eo)),Eo}var xo={},gb={},sC;function wle(){if(sC)return gb;sC=1,Object.defineProperty(gb,"__esModule",{value:!0}),gb.ActorRdfMetadataExtractHydraPagesize=void 0;const a=sa(),t=Te();let u=class extends a.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){return new Promise((e,i)=>{r.metadata.on("error",i),r.metadata.on("data",o=>{this.predicates.includes(o.predicate.value)&&e({metadata:{pageSize:Number.parseInt(o.object.value,10)}})}),r.metadata.on("end",()=>{e({metadata:{}})})})}};return gb.ActorRdfMetadataExtractHydraPagesize=u,gb}var cC;function Sle(){return cC||(cC=1,function(a){var t=xo&&xo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=xo&&xo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(wle(),a)}(xo)),xo}var Io={},vb={},lC;function Ole(){if(lC)return vb;lC=1,Object.defineProperty(vb,"__esModule",{value:!0}),vb.ActorRdfMetadataExtractRequestTime=void 0;const a=sa(),t=Te();let u=class extends a.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){return{metadata:{requestTime:r.requestTime}}}};return vb.ActorRdfMetadataExtractRequestTime=u,vb}var dC;function Ale(){return dC||(dC=1,function(a){var t=Io&&Io.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Io&&Io.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Ole(),a)}(Io)),Io}var Ro={},Tb={},fC;function Ele(){if(fC)return Tb;fC=1,Object.defineProperty(Tb,"__esModule",{value:!0}),Tb.ActorRdfMetadataExtractAllowHttpMethods=void 0;const a=sa(),t=Te();let u=class extends a.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){var i,o;const e={};return(i=r.headers)!=null&&i.get("allow")&&(e.allowHttpMethods=(o=r.headers.get("allow"))==null?void 0:o.split(/, */u)),{metadata:e}}};return Tb.ActorRdfMetadataExtractAllowHttpMethods=u,Tb}var hC;function xle(){return hC||(hC=1,function(a){var t=Ro&&Ro.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ro&&Ro.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Ele(),a)}(Ro)),Ro}var No={},wb={},pC;function Ile(){if(pC)return wb;pC=1,Object.defineProperty(wb,"__esModule",{value:!0}),wb.ActorRdfMetadataExtractPutAccepted=void 0;const a=sa(),t=Te();let u=class extends a.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){var i,o;const e={};return(i=r.headers)!=null&&i.get("accept-put")&&(e.putAccepted=(o=r.headers.get("accept-put"))==null?void 0:o.split(/, */u)),{metadata:e}}};return wb.ActorRdfMetadataExtractPutAccepted=u,wb}var yC;function Rle(){return yC||(yC=1,function(a){var t=No&&No.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=No&&No.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Ile(),a)}(No)),No}var Fo={},Sb={},bC;function Nle(){if(bC)return Sb;bC=1,Object.defineProperty(Sb,"__esModule",{value:!0}),Sb.ActorRdfMetadataExtractPatchSparqlUpdate=void 0;const a=sa(),t=Te();let u=class extends a.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){var i,o,c,s;const e={};return(((o=(i=r.headers)==null?void 0:i.get("accept-patch"))==null?void 0:o.includes("application/sparql-update"))??((s=(c=r.headers)==null?void 0:c.get("ms-author-via"))==null?void 0:s.includes("SPARQL")))&&(e.patchSparqlUpdate=!0),{metadata:e}}};return Sb.ActorRdfMetadataExtractPatchSparqlUpdate=u,Sb}var _C;function Fle(){return _C||(_C=1,function(a){var t=Fo&&Fo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Fo&&Fo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Nle(),a)}(Fo)),Fo}var Do={},Ob={},mC;function Dle(){if(mC)return Ob;mC=1,Object.defineProperty(Ob,"__esModule",{value:!0}),Ob.ActorRdfMetadataExtractSparqlService=void 0;const a=sa(),t=Te(),u=mr();let n=class extends a.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return(0,t.passTestVoid)()}async run(e){return new Promise((i,o)=>{e.metadata.on("error",o);const c=new Set([e.url]),s={},l=new Set,f=new Set,d=new Set;e.metadata.on("data",h=>{if(h.predicate.value==="http://rdfs.org/ns/void#subset"&&h.object.value===e.url)c.add(h.subject.value);else if(h.subject.value===s.defaultDataset||h.subject.termType==="BlankNode"||c.has(h.subject.value))switch(h.predicate.value){case"http://www.w3.org/ns/sparql-service-description#endpoint":s.sparqlService=h.object.termType==="Literal"?(0,u.resolve)(h.object.value,e.url):h.object.value,this.inferHttpsEndpoint&&e.url.startsWith("https")&&!h.object.value.startsWith("https")&&(s.sparqlService=s.sparqlService.replace(/^http:/u,"https:"));break;case"http://www.w3.org/ns/sparql-service-description#defaultDataset":s.defaultDataset=h.object.value;break;case"http://www.w3.org/ns/sparql-service-description#defaultGraph":s.defaultGraph=h.object.value;break;case"http://www.w3.org/ns/sparql-service-description#inputFormat":l.add(h.object.value);break;case"http://www.w3.org/ns/sparql-service-description#resultFormat":f.add(h.object.value);break;case"http://www.w3.org/ns/sparql-service-description#supportedLanguage":d.add(h.object.value);break;case"http://www.w3.org/ns/sparql-service-description#feature":h.object.value==="http://www.w3.org/ns/sparql-service-description#UnionDefaultGraph"?s.unionDefaultGraph=!0:h.object.value==="http://www.w3.org/ns/sparql-service-description#BasicFederatedQuery"&&(s.basicFederatedQuery=!0);break}}),e.metadata.on("end",()=>{i({metadata:{...s,...l.size>0?{inputFormats:[...l.values()]}:{},...f.size>0?{resultFormats:[...f.values()]}:{},...d.size>0?{supportedLanguages:[...d.values()]}:{}}})})})}};return Ob.ActorRdfMetadataExtractSparqlService=n,Ob}var gC;function Ple(){return gC||(gC=1,function(a){var t=Do&&Do.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Do&&Do.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Dle(),a)}(Do)),Do}var Po={},Ab={},Lo={},Eb={},vC;function Lle(){if(vC)return Eb;vC=1,Object.defineProperty(Eb,"__esModule",{value:!0}),Eb.ActorRdfParse=void 0;const a=oh();let t=class extends a.ActorAbstractMediaTyped{constructor(n){super(n)}};return Eb.ActorRdfParse=t,Eb}var xb={},TC;function jle(){if(TC)return xb;TC=1,Object.defineProperty(xb,"__esModule",{value:!0}),xb.ActorRdfParseFixedMediaTypes=void 0;const a=oh(),t=Te();let u=class extends a.ActorAbstractMediaTypedFixed{constructor(r){super(r)}async testHandleChecked(r){return(0,t.passTestVoid)()}};return xb.ActorRdfParseFixedMediaTypes=u,xb}var wC;function lh(){return wC||(wC=1,function(a){var t=Lo&&Lo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Lo&&Lo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Lle(),a),u(jle(),a)}(Lo)),Lo}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var wR,SC;function Mle(){if(SC)return wR;SC=1;let a;return wR=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:It):t=>(a||(a=Promise.resolve())).then(t).catch(u=>setTimeout(()=>{throw u},0)),wR}var qle=Mle(),Cle=Ut(qle);const Ib="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Rb="http://www.w3.org/2001/XMLSchema#",UO="http://www.w3.org/2000/10/swap/";var Fr={xsd:{decimal:`${Rb}decimal`,boolean:`${Rb}boolean`,double:`${Rb}double`,integer:`${Rb}integer`,string:`${Rb}string`},rdf:{type:`${Ib}type`,nil:`${Ib}nil`,first:`${Ib}first`,rest:`${Ib}rest`,langString:`${Ib}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${UO}reify#forSome`,forAll:`${UO}reify#forAll`},log:{implies:`${UO}log#implies`,isImpliedBy:`${UO}log#isImpliedBy`}};const{xsd:QO}=Fr,Ble=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,OC={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},$le=/[\x00-\x20<>\\"\{\}\|\^\`]/,Vle={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},Ule=/$0^/;class SR{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._isImpliedBy=t.isImpliedBy,this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const u in this)!(u in Vle)&&this[u]instanceof RegExp&&(this[u]=Ule)}else this._n3Mode=t.n3!==!1;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,u){let n=this._input,r=n.length;for(;;){let o,c;for(;o=this._newline.exec(n);)this.comments&&(c=this._comment.exec(o[0]))&&e("comment",c[1],"",this._line,o[0].length),n=n.substr(o[0].length,n.length),r=n.length,this._line++;if(!o&&(o=this._whitespace.exec(n))&&(n=n.substr(o[0].length,n.length)),this._endOfFile.test(n))return u&&(this.comments&&(c=this._comment.exec(n))&&e("comment",c[1],"",this._line,n.length),n=null,e("eof","","",this._line,0)),this._input=n;const s=this._line,l=n[0];let f="",d="",h="",p=null,b=0,m=!1;switch(l){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){m=!0;break}}else{this._n3Mode&&(b=1,f="^");break}case"<":if(p=this._unescapedIri.exec(n))f="IRI",d=p[1];else if(p=this._iri.exec(n)){if(d=this._unescape(p[1]),d===null||$le.test(d))return i(this);f="IRI"}else n.length>1&&n[1]==="<"?(f="<<",b=2):this._n3Mode&&n.length>1&&n[1]==="="&&(b=2,this._isImpliedBy?(f="abbreviation",d="<"):(f="inverse",d=">"));break;case">":n.length>1&&n[1]===">"&&(f=">>",b=2);break;case"_":((p=this._blank.exec(n))||u&&(p=this._blank.exec(`${n} `)))&&(f="blank",h="_",d=p[1]);break;case'"':if(p=this._simpleQuotedString.exec(n))d=p[1];else if({value:d,matchLength:b}=this._parseLiteral(n),d===null)return i(this);(p!==null||b!==0)&&(f="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(p=this._simpleApostropheString.exec(n))d=p[1];else if({value:d,matchLength:b}=this._parseLiteral(n),d===null)return i(this);(p!==null||b!==0)&&(f="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(p=this._variable.exec(n))&&(f="var",d=p[0]);break;case"@":this._previousMarker==="literal"&&(p=this._langcode.exec(n))?(f="langcode",d=p[1]):(p=this._keyword.exec(n))&&(f=p[0]);break;case".":if(n.length===1?u:n[1]<"0"||n[1]>"9"){f=".",b=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(p=this._number.exec(n)||u&&(p=this._number.exec(`${n} `)))&&(f="literal",d=p[0],h=typeof p[1]=="string"?QO.double:typeof p[2]=="string"?QO.decimal:QO.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(p=this._sparqlKeyword.exec(n))?f=p[0].toUpperCase():m=!0;break;case"f":case"t":(p=this._boolean.exec(n))?(f="literal",d=p[0],h=QO.boolean):m=!0;break;case"a":(p=this._shortPredicates.exec(n))?(f="abbreviation",d="a"):m=!0;break;case"=":this._n3Mode&&n.length>1&&(f="abbreviation",n[1]!==">"?(b=1,d="="):(b=2,d=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(b=1,f=l);break;case"{":!this._lineMode&&n.length>=2&&(n[1]==="|"?(f="{|",b=2):(f=l,b=1));break;case"|":n.length>=2&&n[1]==="}"&&(f="|}",b=2);break;default:m=!0}if(m&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(p=this._prefix.exec(n))?(f="prefix",d=p[1]||""):((p=this._prefixed.exec(n))||u&&(p=this._prefixed.exec(`${n} `)))&&(f="prefixed",h=p[1]||"",d=this._unescape(p[2]))),this._previousMarker==="^^")switch(f){case"prefixed":f="type";break;case"IRI":f="typeIRI";break;default:f=""}if(!f)return u||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?i(this):this._input=n;const y=b||p[0].length,g=e(f,d,h,s,y);this.previousToken=g,this._previousMarker=f,n=n.substr(y,n.length)}function e(o,c,s,l,f){const d=n?r-n.length:r,h=d+f,p={type:o,value:c,prefix:s,line:l,start:d,end:h};return t(null,p),p}function i(o){t(o._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(t){let u=!1;const n=t.replace(Ble,(r,e,i,o)=>{if(typeof e=="string")return String.fromCharCode(Number.parseInt(e,16));if(typeof i=="string"){let c=Number.parseInt(i,16);return c<=65535?String.fromCharCode(Number.parseInt(i,16)):String.fromCharCode(55296+((c-=65536)>>10),56320+(c&1023))}return o in OC?OC[o]:(u=!0,"")});return u?null:n}_parseLiteral(t){if(t.length>=3){const u=t.match(/^(?:"""|"|'''|'|)/)[0],n=u.length;let r=Math.max(this._literalClosingPos,n);for(;(r=t.indexOf(u,r))>0;){let e=0;for(;t[r-e-1]==="\\";)e++;if(e%2===0){const i=t.substring(n,r),o=i.split(/\r\n|\r|\n/).length-1,c=r+n;if(n===1&&o!==0||n===3&&this._lineMode)break;return this._line+=o,{value:this._unescape(i),matchLength:c}}r++}this._literalClosingPos=t.length-n+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const u=new Error(`Unexpected "${t}" on line ${this._line}.`);return u.context={token:void 0,line:this._line,previousToken:this.previousToken},u}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,u){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof u=="function")Cle(()=>this._tokenizeToEnd(u,!0));else{const n=[];let r;if(this._tokenizeToEnd((e,i)=>e?r=e:n.push(i),!0),r)throw r;return n}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=Jse.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(u,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(u,!0)}),t.on("error",u)}}const{rdf:Qle,xsd:jo}=Fr;let dh,Hle=0;const Qn={namedNode:AC,blankNode:EC,variable:IC,literal:xC,defaultGraph:Gle,quad:xR,triple:xR,fromTerm:Nb,fromQuad:RC};class pn{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof pn?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let HO=class extends pn{get termType(){return"NamedNode"}},fh=class rie extends pn{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let u=t.lastIndexOf('"')+1;return u<t.length&&t[u++]==="@"?t.substr(u).toLowerCase():""}get datatype(){return new HO(this.datatypeString)}get datatypeString(){const t=this.id,u=t.lastIndexOf('"')+1,n=u<t.length?t[u]:"";return n==="^"?t.substr(u+2):n!=="@"?jo.string:Qle.langString}equals(t){return t instanceof rie?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},OR=class extends pn{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},AR=class extends pn{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},ER=class extends pn{constructor(){return super(""),dh||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};dh=new ER;function Mo(a,t,u){if(t=t||Qn,!a)return t.defaultGraph();switch(a[0]){case"?":return t.variable(a.substr(1));case"_":return t.blankNode(a.substr(2));case'"':if(t===Qn)return new fh(a);if(a[a.length-1]==='"')return t.literal(a.substr(1,a.length-2));const n=a.lastIndexOf('"',a.length-1);return t.literal(a.substr(1,n-1),a[n+1]==="@"?a.substr(n+2):t.namedNode(a.substr(n+3)));case"[":a=JSON.parse(a);break;default:if(!u||!Array.isArray(a))return t.namedNode(a)}return t.quad(Mo(a[0],t,!0),Mo(a[1],t,!0),Mo(a[2],t,!0),a[3]&&Mo(a[3],t,!0))}function ca(a,t){if(typeof a=="string")return a;if(a instanceof pn&&a.termType!=="Quad")return a.id;if(!a)return dh.id;switch(a.termType){case"NamedNode":return a.value;case"BlankNode":return`_:${a.value}`;case"Variable":return`?${a.value}`;case"DefaultGraph":return"";case"Literal":return`"${a.value}"${a.language?`@${a.language}`:a.datatype&&a.datatype.value!==jo.string?`^^${a.datatype.value}`:""}`;case"Quad":const u=[ca(a.subject,!0),ca(a.predicate,!0),ca(a.object,!0)];return a.graph&&a.graph.termType!=="DefaultGraph"&&u.push(ca(a.graph,!0)),t?u:JSON.stringify(u);default:throw new Error(`Unexpected termType: ${a.termType}`)}}let hh=class extends pn{constructor(t,u,n,r){super(""),this._subject=t,this._predicate=u,this._object=n,this._graph=r||dh}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}};function AC(a){return new HO(a)}function EC(a){return new OR(a||`n3-${Hle++}`)}function xC(a,t){if(typeof t=="string")return new fh(`"${a}"@${t.toLowerCase()}`);let u=t?t.value:"";return u===""&&(typeof a=="boolean"?u=jo.boolean:typeof a=="number"&&(Number.isFinite(a)?u=Number.isInteger(a)?jo.integer:jo.double:(u=jo.double,Number.isNaN(a)||(a=a>0?"INF":"-INF")))),u===""||u===jo.string?new fh(`"${a}"`):new fh(`"${a}"^^${u}`)}function IC(a){return new AR(a)}function Gle(){return dh}function xR(a,t,u,n){return new hh(a,t,u,n)}function Nb(a){if(a instanceof pn)return a;switch(a.termType){case"NamedNode":return AC(a.value);case"BlankNode":return EC(a.value);case"Variable":return IC(a.value);case"DefaultGraph":return dh;case"Literal":return xC(a.value,a.language||a.datatype);case"Quad":return RC(a);default:throw new Error(`Unexpected termType: ${a.termType}`)}}function RC(a){if(a instanceof hh)return a;if(a.termType!=="Quad")throw new Error(`Unexpected termType: ${a.termType}`);return xR(Nb(a.subject),Nb(a.predicate),Nb(a.object),Nb(a.graph))}let NC=0;class GO{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&FC(this,t.factory);const u=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(u),r=/trig/.test(u),e=/triple/.test(u),i=/quad/.test(u),o=this._n3Mode=/n3/.test(u),c=e||i;(this._supportsNamedGraphs=!(n||o))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||r||e||o),this._isImpliedBy=t.isImpliedBy,this._supportsRDFStar=u===""||/star|\*$/.test(u),c&&(this._resolveRelativeIRI=s=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new SR({lineMode:c,n3:o,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){NC=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const u=t.indexOf("#");u>=0&&(t=t.substr(0,u)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,u,n,r,e){const i=this._n3Mode;this._contextStack.push({type:t,subject:n,predicate:r,object:e,graph:u,inverse:i?this._inversePredicate:!1,blankPrefix:i?this._prefixes._:"",quantified:i?this._quantified:null}),i&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,u){const n=this._contextStack.pop();if(!n||n.type!==t)return this._error(`Unexpected ${u.type}`,u);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,u){let n;switch(t.type){case"IRI":case"typeIRI":const r=this._resolveIRI(t.value);if(r===null)return this._error("Invalid IRI",t);n=this._factory.namedNode(r);break;case"type":case"prefixed":const e=this._prefixes[t.prefix];if(e===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);n=this._factory.namedNode(e+t.value);break;case"blank":n=this._factory.blankNode(this._prefixes[t.prefix]+t.value);break;case"var":n=this._factory.variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!u&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const u=t.type;switch(u){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${u}`,t):(this._subject=null,u==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const u=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:u?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let u=null,n=null,r=this._readListItem;const e=this._subject,i=this._contextStack,o=i[i.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this._subject=u=this._factory.blankNode()),r=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),i.length!==0&&i[i.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(r=this._readPredicate,this._subject===this.RDF_NIL)return r}else if(r=this._getContextEndReader(),this._object===this.RDF_NIL)return r;n=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,r=this._readListItemDataTypeOrLang):(u=this._factory.literal(t.value,this._factory.namedNode(t.prefix)),r=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((u=this._readEntity(t))===void 0)return}if(n===null&&(this._subject=n=this._factory.blankNode()),e===null?o.predicate===null?o.subject=n:o.object=n:this._emit(e,this.RDF_REST,n,this._graph),u!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,u),this._subject=u,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,u,this._graph)}return r}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let u=this._factory.literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const n=this._readEntity(t);if(n===void 0)return;u=this._factory.literal(this._literalValue,n),t=null;break;case"langcode":u=this._factory.literal(this._literalValue,t.value),t=null;break}return{token:t,literal:u}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,u){const n=this._completeLiteral(t);if(n)return this._object=n.literal,u&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let u,n=this._graph;const r=this._subject,e=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,u=this._contextStack.length?this._readSubject:this._readInTopContext,e&&(this._inversePredicate=!1);break;case";":u=this._readPredicate;break;case",":u=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);const i=this._predicate,o=this._object;this._subject=this._factory.quad(r,i,o,this.DEFAULTGRAPH),u=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,u=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(t))!==void 0){u=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(r!==null){const i=this._predicate,o=this._object;e?this._emit(o,i,r,n):this._emit(r,i,o,n)}return u}_readBlankNodePunctuation(t){let u;switch(t.type){case";":u=this._readPredicate;break;case",":u=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),u}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const u=this._readEntity(t);return this._prefixes[this._prefix]=u.value,this._prefixCallback(this._prefix,u),this._readDeclarationPunctuation}_readBaseIRI(t){const u=t.type==="IRI"&&this._resolveIRI(t.value);return u?(this._setBase(u),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let u;switch(t.type){case"IRI":case"prefixed":if((u=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,u,this.QUANTIFIERS_GRAPH)):this._quantified[u.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const u=this._contextStack,n=u.length&&u[u.length-1];if(n&&n.type==="item"){const r=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,r,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let u,n;const r=this._factory.blankNode();if((n=this._readEntity(t))!==void 0)return this._predicate===null?(u=this._subject,this._subject=r):(u=this._object,this._object=r),this._emit(u,n,r,this._graph),this._readPath}_readBackwardPath(t){const u=this._factory.blankNode();let n,r;if((n=this._readEntity(t))!==void 0)return this._predicate===null?(r=this._subject,this._subject=u):(r=this._object,this._object=u),this._emit(u,n,r,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const u=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=u,this._readPredicate):(this._object=u,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,u,n,r){this._callback(null,this._factory.quad(t,u,n,r||this.DEFAULTGRAPH))}_error(t,u){const n=new Error(`${t} on line ${u.line}.`);n.context={token:u,line:u.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=kO}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const u=t.length;let n="",r=-1,e=-1,i=0,o="/";for(;r<u;){switch(o){case":":if(e<0&&t[++r]==="/"&&t[++r]==="/")for(;(e=r+1)<u&&t[e]!=="/";)r=e;break;case"?":case"#":r=u;break;case"/":if(t[r+1]===".")switch(o=t[++r+1],o){case"/":n+=t.substring(i,r-1),i=r+1;break;case void 0:case"?":case"#":return n+t.substring(i,r)+t.substr(r+1);case".":if(o=t[++r+1],o===void 0||o==="/"||o==="?"||o==="#"){if(n+=t.substring(i,r-2),(i=n.lastIndexOf("/"))>=e&&(n=n.substr(0,i)),o!=="/")return`${n}/${t.substr(r+1)}`;i=r+1}}}o=t[++r]}return n+t.substring(i)}parse(t,u,n){let r,e,i;if(u&&(u.onQuad||u.onPrefix||u.onComment)?(r=u.onQuad,e=u.onPrefix,i=u.onComment):(r=u,e=n),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${NC++}_`,this._prefixCallback=e||kO,this._inversePredicate=!1,this._quantified=Object.create(null),!r){const c=[];let s;if(this._callback=(l,f)=>{l?s=l:f&&c.push(f)},this._lexer.tokenize(t).every(l=>this._readCallback=this._readCallback(l)),s)throw s;return c}let o=(c,s)=>{c!==null?(this._callback(c),this._callback=kO):this._readCallback&&(this._readCallback=this._readCallback(s))};i&&(this._lexer.comments=!0,o=(c,s)=>{c!==null?(this._callback(c),this._callback=kO):this._readCallback&&(s.type==="comment"?i(s.value):this._readCallback=this._readCallback(s))}),this._callback=r,this._lexer.tokenize(t,o)}}function kO(){}function FC(a,t){a._factory=t,a.DEFAULTGRAPH=t.defaultGraph(),a.RDF_FIRST=t.namedNode(Fr.rdf.first),a.RDF_REST=t.namedNode(Fr.rdf.rest),a.RDF_NIL=t.namedNode(Fr.rdf.nil),a.N3_FORALL=t.namedNode(Fr.r.forAll),a.N3_FORSOME=t.namedNode(Fr.r.forSome),a.ABBREVIATIONS={a:t.namedNode(Fr.rdf.type),"=":t.namedNode(Fr.owl.sameAs),">":t.namedNode(Fr.log.implies),"<":t.namedNode(Fr.log.isImpliedBy)},a.QUANTIFIERS_GRAPH=t.namedNode("urn:n3:quantifiers")}FC(GO.prototype,Qn);function kle(a){return!!a&&a.termType==="NamedNode"}function zle(a){return!!a&&a.termType==="BlankNode"}function Xle(a){return!!a&&a.termType==="Literal"}function Jle(a){return!!a&&a.termType==="Variable"}function Fb(a){return!!a&&a.termType==="DefaultGraph"}function Kle(a){return Fb(a.graph)}function Wle(a,t){return DC({"":a.value||a},t)("")}function DC(a,t){const u=Object.create(null);for(const r in a)n(r,a[r]);t=t||Qn;function n(r,e){if(typeof e=="string"){const i=Object.create(null);u[r]=o=>i[o]||(i[o]=t.namedNode(e+o))}else if(!(r in u))throw new Error(`Unknown prefix: ${r}`);return u[r]}return n}var PC=Object.freeze({__proto__:null,inDefaultGraph:Kle,isBlankNode:zle,isDefaultGraph:Fb,isLiteral:Xle,isNamedNode:kle,isVariable:Jle,prefix:Wle,prefixes:DC});const Db=Qn.defaultGraph(),{rdf:Yle,xsd:ph}=Fr,LC=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,jC=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,Zle={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class Pb extends pn{equals(t){return t===this}}class Lb{constructor(t,u){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(u=t,t=null),u=u||{},this._lists=u.lists,t)this._outputStream=t,this._endStream=u.end===void 0?!0:!!u.end;else{let n="";this._outputStream={write(r,e,i){n+=r,i&&i()},end:r=>{r&&r(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(u.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=Db,this._prefixIRIs=Object.create(null),u.prefixes&&this.addPrefixes(u.prefixes),u.baseIRI&&(this._baseMatcher=new RegExp(`^${qC(u.baseIRI)}${u.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=u.baseIRI.length))}get _inDefaultGraph(){return Db.equals(this._graph)}_write(t,u){this._outputStream.write(t,"utf8",u)}_writeQuad(t,u,n,r,e){try{r.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(Db.equals(r)?"":`${this._encodeIriOrBlank(r)} {
`)),this._graph=r,this._subject=null),t.equals(this._subject)?u.equals(this._predicate)?this._write(`, ${this._encodeObject(n)}`,e):this._write(`;
    ${this._encodePredicate(this._predicate=u)} ${this._encodeObject(n)}`,e):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=u)} ${this._encodeObject(n)}`,e)}catch(i){e&&e(i)}}_writeQuadLine(t,u,n,r,e){delete this._prefixMatch,this._write(this.quadToString(t,u,n,r),e)}quadToString(t,u,n,r){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(u)} ${this._encodeObject(n)}${r&&r.value?` ${this._encodeIriOrBlank(r)} .
`:` .
`}`}quadsToString(t){let u="";for(const n of t)u+=this.quadToString(n.subject,n.predicate,n.object,n.graph);return u}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let u=t.value;this._baseMatcher&&this._baseMatcher.test(u)&&(u=u.substr(this._baseLength)),LC.test(u)&&(u=u.replace(jC,MC));const n=this._prefixRegex.exec(u);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:u:`<${u}>`}_encodeLiteral(t){let u=t.value;if(LC.test(u)&&(u=u.replace(jC,MC)),t.language)return`"${u}"@${t.language}`;if(this._lineMode){if(t.datatype.value===ph.string)return`"${u}"`}else switch(t.datatype.value){case ph.string:return`"${u}"`;case ph.boolean:if(u==="true"||u==="false")return u;break;case ph.integer:if(/^[+-]?\d+$/.test(u))return u;break;case ph.decimal:if(/^[+-]?\d*\.\d+$/.test(u))return u;break;case ph.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(u))return u;break}return`"${u}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===Yle.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:u,object:n,graph:r}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(u)} ${this._encodeObject(n)}${Fb(r)?"":` ${this._encodeIriOrBlank(r)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,u,n,r,e){n===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,u):typeof r=="function"?this._writeQuad(t,u,n,Db,r):this._writeQuad(t,u,n,r||Db,e)}addQuads(t){for(let u=0;u<t.length;u++)this.addQuad(t[u])}addPrefix(t,u,n){const r={};r[t]=u,this.addPrefixes(r,n)}addPrefixes(t,u){if(!this._prefixIRIs)return u&&u();let n=!1;for(let r in t){let e=t[r];typeof e!="string"&&(e=e.value),n=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[e]=r+=":",this._write(`@prefix ${r} <${e}>.
`)}if(n){let r="",e="";for(const i in this._prefixIRIs)r+=r?`|${i}`:i,e+=(e?"|":"")+this._prefixIRIs[i];r=qC(r),this._prefixRegex=new RegExp(`^(?:${e})[^/]*$|^(${r})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(n?`
`:"",u)}blank(t,u){let n=t,r,e;switch(t===void 0?n=[]:t.termType?n=[{predicate:t,object:u}]:"length"in t||(n=[t]),e=n.length){case 0:return new Pb("[]");case 1:if(r=n[0],!(r.object instanceof Pb))return new Pb(`[ ${this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)} ]`);default:let i="[";for(let o=0;o<e;o++)r=n[o],r.predicate.equals(t)?i+=`, ${this._encodeObject(r.object)}`:(i+=`${(o?`;
  `:`
  `)+this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)}`,t=r.predicate);return new Pb(`${i}
]`)}}list(t){const u=t&&t.length||0,n=new Array(u);for(let r=0;r<u;r++)n[r]=this._encodeObject(t[r]);return new Pb(`(${n.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let u=t&&((n,r)=>{u=null,t(n,r)});if(this._endStream)try{return this._outputStream.end(u)}catch{}u&&u()}}function MC(a){let t=Zle[a];return t===void 0&&(a.length===1?(t=a.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((a.charCodeAt(0)-55296)*1024+a.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function qC(a){return a.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var zO=Mt();const IR=Symbol("iter");function jb(a,t,u=4){if(u===0)return Object.assign(a,t);for(const n in t)a[n]=jb(a[n]||Object.create(null),t[n],u-1);return a}function CC(a,t,u=4){let n=!1;for(const r in a)if(r in t){const e=u===0?null:CC(a[r],t[r],u-1);if(e!==!1)n=n||Object.create(null),n[r]=e;else if(u===3)return!1}return n}function BC(a,t,u=4){let n=!1;for(const r in a)if(!(r in t))n=n||Object.create(null),n[r]=u===0?null:jb({},a[r],u-1);else if(u!==0){const e=BC(a[r],t[r],u-1);if(e!==!1)n=n||Object.create(null),n[r]=e;else if(u===3)return!1}return n}class RR{constructor(t={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=t.factory||Qn}_termFromId(t){if(t[0]==="."){const u=this._entities,n=t.split(".");return this._factory.quad(this._termFromId(u[n[1]]),this._termFromId(u[n[2]]),this._termFromId(u[n[3]]),n[4]&&this._termFromId(u[n[4]]))}return Mo(t,this._factory)}_termToNumericId(t){if(t.termType==="Quad"){const u=this._termToNumericId(t.subject),n=this._termToNumericId(t.predicate),r=this._termToNumericId(t.object);let e;return u&&n&&r&&(Fb(t.graph)||(e=this._termToNumericId(t.graph)))&&this._ids[e?`.${u}.${n}.${r}.${e}`:`.${u}.${n}.${r}`]}return this._ids[ca(t)]}_termToNewNumericId(t){const u=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${Fb(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:ca(t);return this._ids[u]||(this._ids[this._entities[++this._id]=u]=this._id)}createBlankNode(t){let u,n;if(t)for(u=t=`_:${t}`,n=1;this._ids[u];)u=t+n++;else do u=`_:b${this._blankNodeIndex++}`;while(this._ids[u]);return this._ids[u]=++this._id,this._entities[this._id]=u,this._factory.blankNode(u.substr(2))}}class $r{constructor(t,u){this._size=0,this._graphs=Object.create(null),!u&&t&&!t[0]&&(u=t,t=null),u=u||{},this._factory=u.factory||Qn,this._entityIndex=u.entityIndex||new RR({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),t&&this.addQuads(t)}get size(){let t=this._size;if(t!==null)return t;t=0;const u=this._graphs;let n,r;for(const e in u)for(const i in n=u[e].subjects)for(const o in r=n[i])t+=Object.keys(r[o]).length;return this._size=t}_addToIndex(t,u,n,r){const e=t[u]||(t[u]={}),i=e[n]||(e[n]={}),o=r in i;return o||(i[r]=null),!o}_removeFromIndex(t,u,n,r){const e=t[u],i=e[n];delete i[r];for(const o in i)return;delete e[n];for(const o in e)return;delete t[u]}*_findInIndex(t,u,n,r,e,i,o,c){let s,l,f;const d=this._entities,h=this._termFromId(d[c]),p={subject:null,predicate:null,object:null};u&&((s=t,t={})[u]=s[u]);for(const b in t)if(l=t[b]){p[e]=this._termFromId(d[b]),n&&((s=l,l={})[n]=s[n]);for(const m in l)if(f=l[m]){p[i]=this._termFromId(d[m]);const y=r?r in f?[r]:[]:Object.keys(f);for(let g=0;g<y.length;g++)p[o]=this._termFromId(d[y[g]]),yield this._factory.quad(p.subject,p.predicate,p.object,h)}}}_loop(t,u){for(const n in t)u(n)}_loopByKey0(t,u,n){let r,e;if(r=t[u])for(e in r)n(e)}_loopByKey1(t,u,n){let r,e;for(r in t)e=t[r],e[u]&&n(r)}_loopBy2Keys(t,u,n,r){let e,i,o;if((e=t[u])&&(i=e[n]))for(o in i)r(o)}_countInIndex(t,u,n,r){let e=0,i,o,c;u&&((i=t,t={})[u]=i[u]);for(const s in t)if(o=t[s]){n&&((i=o,o={})[n]=i[n]);for(const l in o)(c=o[l])&&(r?r in c&&e++:e+=Object.keys(c).length)}return e}_getGraphs(t){return t=t===""?1:t&&(this._termToNumericId(t)||-1),typeof t!="number"?this._graphs:{[t]:this._graphs[t]}}_uniqueEntities(t){const u=Object.create(null);return n=>{n in u||(u[n]=!0,t(this._termFromId(this._entities[n],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,u,n,r){u||(r=t.graph,n=t.object,u=t.predicate,t=t.subject),r=r?this._termToNewNumericId(r):1;let e=this._graphs[r];return e||(e=this._graphs[r]={subjects:{},predicates:{},objects:{}},Object.freeze(e)),t=this._termToNewNumericId(t),u=this._termToNewNumericId(u),n=this._termToNewNumericId(n),this._addToIndex(e.subjects,t,u,n)?(this._addToIndex(e.predicates,u,n,t),this._addToIndex(e.objects,n,t,u),this._size=null,!0):!1}addQuads(t){for(let u=0;u<t.length;u++)this.addQuad(t[u])}delete(t){return this.removeQuad(t),this}has(t,u,n,r){return t&&t.subject&&({subject:t,predicate:u,object:n,graph:r}=t),!this.readQuads(t,u,n,r).next().done}import(t){return t.on("data",u=>{this.addQuad(u)}),t}removeQuad(t,u,n,r){u||({subject:t,predicate:u,object:n,graph:r}=t),r=r?this._termToNumericId(r):1;const e=this._graphs;let i,o,c;if(!(t=t&&this._termToNumericId(t))||!(u=u&&this._termToNumericId(u))||!(n=n&&this._termToNumericId(n))||!(i=e[r])||!(o=i.subjects[t])||!(c=o[u])||!(n in c))return!1;this._removeFromIndex(i.subjects,t,u,n),this._removeFromIndex(i.predicates,u,n,t),this._removeFromIndex(i.objects,n,t,u),this._size!==null&&this._size--;for(t in i.subjects)return!0;return delete e[r],!0}removeQuads(t){for(let u=0;u<t.length;u++)this.removeQuad(t[u])}remove(t){return t.on("data",u=>{this.removeQuad(u)}),t}removeMatches(t,u,n,r){const e=new zO.Readable({objectMode:!0}),i=this.readQuads(t,u,n,r);return e._read=o=>{for(;--o>=0;){const{done:c,value:s}=i.next();if(c){e.push(null);return}e.push(s)}},this.remove(e)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,u,n,r){return[...this.readQuads(t,u,n,r)]}*readQuads(t,u,n,r){const e=this._getGraphs(r);let i,o,c,s;if(!(t&&!(o=this._termToNumericId(t))||u&&!(c=this._termToNumericId(u))||n&&!(s=this._termToNumericId(n))))for(const l in e)(i=e[l])&&(o?s?yield*this._findInIndex(i.objects,s,o,c,"object","subject","predicate",l):yield*this._findInIndex(i.subjects,o,c,null,"subject","predicate","object",l):c?yield*this._findInIndex(i.predicates,c,s,null,"predicate","object","subject",l):s?yield*this._findInIndex(i.objects,s,null,null,"object","subject","predicate",l):yield*this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",l))}match(t,u,n,r){return new la(this,t,u,n,r,{entityIndex:this._entityIndex})}countQuads(t,u,n,r){const e=this._getGraphs(r);let i=0,o,c,s,l;if(t&&!(c=this._termToNumericId(t))||u&&!(s=this._termToNumericId(u))||n&&!(l=this._termToNumericId(n)))return 0;for(const f in e)(o=e[f])&&(t?n?i+=this._countInIndex(o.objects,l,c,s):i+=this._countInIndex(o.subjects,c,s,l):u?i+=this._countInIndex(o.predicates,s,l,c):i+=this._countInIndex(o.objects,l,c,s));return i}forEach(t,u,n,r,e){this.some(i=>(t(i,this),!1),u,n,r,e)}every(t,u,n,r,e){return!this.some(i=>!t(i,this),u,n,r,e)}some(t,u,n,r,e){for(const i of this.readQuads(u,n,r,e))if(t(i))return!0;return!1}getSubjects(t,u,n){const r=[];return this.forSubjects(e=>{r.push(e)},t,u,n),r}forSubjects(t,u,n,r){const e=this._getGraphs(r);let i,o,c;if(t=this._uniqueEntities(t),!(u&&!(o=this._termToNumericId(u))||n&&!(c=this._termToNumericId(n))))for(r in e)(i=e[r])&&(o?c?this._loopBy2Keys(i.predicates,o,c,t):this._loopByKey1(i.subjects,o,t):c?this._loopByKey0(i.objects,c,t):this._loop(i.subjects,t))}getPredicates(t,u,n){const r=[];return this.forPredicates(e=>{r.push(e)},t,u,n),r}forPredicates(t,u,n,r){const e=this._getGraphs(r);let i,o,c;if(t=this._uniqueEntities(t),!(u&&!(o=this._termToNumericId(u))||n&&!(c=this._termToNumericId(n))))for(r in e)(i=e[r])&&(o?c?this._loopBy2Keys(i.objects,c,o,t):this._loopByKey0(i.subjects,o,t):c?this._loopByKey1(i.predicates,c,t):this._loop(i.predicates,t))}getObjects(t,u,n){const r=[];return this.forObjects(e=>{r.push(e)},t,u,n),r}forObjects(t,u,n,r){const e=this._getGraphs(r);let i,o,c;if(t=this._uniqueEntities(t),!(u&&!(o=this._termToNumericId(u))||n&&!(c=this._termToNumericId(n))))for(r in e)(i=e[r])&&(o?c?this._loopBy2Keys(i.subjects,o,c,t):this._loopByKey1(i.objects,o,t):c?this._loopByKey0(i.predicates,c,t):this._loop(i.objects,t))}getGraphs(t,u,n){const r=[];return this.forGraphs(e=>{r.push(e)},t,u,n),r}forGraphs(t,u,n,r){for(const e in this._graphs)this.some(i=>(t(i.graph),!0),u,n,r,this._termFromId(this._entities[e]))}createBlankNode(t){return this._entityIndex.createBlankNode(t)}extractLists({remove:t=!1,ignoreErrors:u=!1}={}){const n={},r=u?()=>!0:(o,c)=>{throw new Error(`${o.value} ${c}`)},e=this.getQuads(null,Fr.rdf.rest,Fr.rdf.nil,null),i=t?[...e]:[];return e.forEach(o=>{const c=[];let s=!1,l,f;const d=o.graph;let h=o.subject;for(;h&&!s;){const p=this.getQuads(null,null,h,null),b=this.getQuads(h,null,null,null);let m,y=null,g=null,_=null;for(let v=0;v<b.length&&!s;v++)m=b[v],m.graph.equals(d)?l?s=r(h,"has non-list arcs out"):m.predicate.value===Fr.rdf.first?y?s=r(h,"has multiple rdf:first arcs"):i.push(y=m):m.predicate.value===Fr.rdf.rest?g?s=r(h,"has multiple rdf:rest arcs"):i.push(g=m):p.length?s=r(h,"can't be subject and object"):(l=m,f="subject"):s=r(h,"not confined to single graph");for(let v=0;v<p.length&&!s;++v)m=p[v],l?s=r(h,"can't have coreferences"):m.predicate.value===Fr.rdf.rest?_?s=r(h,"has incoming rdf:rest arcs"):_=m:(l=m,f="object");y?c.unshift(y.object):s=r(h,"has no list head"),h=_&&_.subject}s?t=!1:l&&(n[l[f].value]=c)}),t&&this.removeQuads(i),n}addAll(t){if(t instanceof la&&(t=t.filtered),Array.isArray(t))this.addQuads(t);else if(t instanceof $r&&t._entityIndex===this._entityIndex)t._size!==0&&(this._graphs=jb(this._graphs,t._graphs),this._size=null);else for(const u of t)this.add(u);return this}contains(t){if(t instanceof la&&(t=t.filtered),t===this)return!0;if(!(t instanceof $r)||this._entityIndex!==t._entityIndex)return t.every(s=>this.has(s));const u=this._graphs,n=t._graphs;let r,e,i,o,c;for(const s in n){if(!(r=u[s]))return!1;r=r.subjects;for(const l in e=n[s].subjects){if(!(i=r[l]))return!1;for(const f in o=e[l]){if(!(c=i[f]))return!1;for(const d in o[f])if(!(d in c))return!1}}}return!0}deleteMatches(t,u,n,r){for(const e of this.match(t,u,n,r))this.removeQuad(e);return this}difference(t){if(t&&t instanceof la&&(t=t.filtered),t===this)return new $r({entityIndex:this._entityIndex});if(t instanceof $r&&t._entityIndex===this._entityIndex){const u=new $r({entityIndex:this._entityIndex}),n=BC(this._graphs,t._graphs);return n&&(u._graphs=n,u._size=null),u}return this.filter(u=>!t.has(u))}equals(t){return t instanceof la&&(t=t.filtered),t===this||this.size===t.size&&this.contains(t)}filter(t){const u=new $r({entityIndex:this._entityIndex});for(const n of this)t(n,this)&&u.add(n);return u}intersection(t){if(t instanceof la&&(t=t.filtered),t===this){const u=new $r({entityIndex:this._entityIndex});return u._graphs=jb(Object.create(null),this._graphs),u._size=this._size,u}else if(t instanceof $r&&this._entityIndex===t._entityIndex){const u=new $r({entityIndex:this._entityIndex}),n=CC(t._graphs,this._graphs);return n&&(u._graphs=n,u._size=null),u}return this.filter(u=>t.has(u))}map(t){const u=new $r({entityIndex:this._entityIndex});for(const n of this)u.add(t(n,this));return u}reduce(t,u){const n=this.readQuads();let r=u===void 0?n.next().value:u;for(const e of n)r=t(r,e,this);return r}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new Lb().quadsToString(this)}union(t){const u=new $r({entityIndex:this._entityIndex});return u._graphs=jb(Object.create(null),this._graphs),u._size=this._size,u.addAll(t),u}*[Symbol.iterator](){yield*this.readQuads()}}function pi(a,t,u=0){const n=t[u];if(n&&!(n in a))return!1;let r=!1;for(const e in n?{[n]:a[n]}:a){const i=u===2?null:pi(a[e],t,u+1);i!==!1&&(r=r||Object.create(null),r[e]=i)}return r}class la extends zO.Readable{constructor(t,u,n,r,e,i){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:u,predicate:n,object:r,graph:e,options:i})}get filtered(){if(!this._filtered){const{n3Store:t,graph:u,object:n,predicate:r,subject:e}=this,i=this._filtered=new $r({factory:t._factory,entityIndex:this.options.entityIndex});let o,c,s;if(e&&!(o=i._termToNumericId(e))||r&&!(c=i._termToNumericId(r))||n&&!(s=i._termToNumericId(n)))return i;const l=t._getGraphs(u);for(const f in l){let d,h,p,b;(b=l[f])&&(!o&&c?(h=pi(b.predicates,[c,s,o]))&&(d=pi(b.subjects,[o,c,s]),p=pi(b.objects,[s,o,c])):s?(p=pi(b.objects,[s,o,c]))&&(d=pi(b.subjects,[o,c,s]),h=pi(b.predicates,[c,s,o])):(d=pi(b.subjects,[o,c,s]))&&(h=pi(b.predicates,[c,s,o]),p=pi(b.objects,[s,o,c])),d&&(i._graphs[f]={subjects:d,predicates:h,objects:p}))}i._size=null}return this._filtered}get size(){return this.filtered.size}_read(t){t>0&&!this[IR]&&(this[IR]=this[Symbol.iterator]());const u=this[IR];for(;--t>=0;){const{done:n,value:r}=u.next();if(n){this.push(null);return}this.push(r)}}addAll(t){return this.filtered.addAll(t)}contains(t){return this.filtered.contains(t)}deleteMatches(t,u,n,r){return this.filtered.deleteMatches(t,u,n,r)}difference(t){return this.filtered.difference(t)}equals(t){return this.filtered.equals(t)}every(t,u,n,r,e){return this.filtered.every(t,u,n,r,e)}filter(t){return this.filtered.filter(t)}forEach(t,u,n,r,e){return this.filtered.forEach(t,u,n,r,e)}import(t){return this.filtered.import(t)}intersection(t){return this.filtered.intersection(t)}map(t){return this.filtered.map(t)}some(t,u,n,r,e){return this.filtered.some(t,u,n,r,e)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(t){return this._filtered?this._filtered.union(t):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(t)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(t,u){return this.filtered.reduce(t,u)}toString(){return new Lb().quadsToString(this)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,u,n,r){return new la(this.filtered,t,u,n,r,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class $C{dataset(t){return new $r(t)}}function VC(a){const t=[];for(const{subject:u,object:n}of a.match(null,Qn.namedNode("http://www.w3.org/2000/10/swap/log#implies"),null,Qn.defaultGraph())){const r=[...a.match(null,null,null,u)],e=[...a.match(null,null,null,n)];t.push({premise:r,conclusion:e})}return t}class UC{constructor(t){this._store=t}_add(t,u,n,r,e){this._store._addToIndex(r.subjects,t,u,n)&&(this._store._addToIndex(r.predicates,u,n,t),this._store._addToIndex(r.objects,n,t,u),e())}_evaluatePremise(t,u,n,r=0){let e,i,o,c,s;const[l,f,d]=t.premise[r].value,h=u[t.premise[r].content],p=!(o=l.value);for(o in p?h:{[o]:h[o]})if(c=h[o]){p&&(l.value=Number(o)),e=!(o=f.value);for(o in e?c:{[o]:c[o]})if(s=c[o]){e&&(f.value=Number(o)),i=!(o=d.value);for(o in i?s:{[o]:s[o]})i&&(d.value=Number(o)),r===t.premise.length-1?t.conclusion.forEach(b=>{this._add(b.subject.value,b.predicate.value,b.object.value,u,()=>{n(b)})}):this._evaluatePremise(t,u,n,r+1);i&&(d.value=null)}e&&(f.value=null)}p&&(l.value=null)}_evaluateRules(t,u,n){for(let r=0;r<t.length;r++)this._evaluatePremise(t[r],u,n)}_reasonGraphNaive(t,u){const n=[];function r(o){o.next&&o.next.forEach(c=>{n.push([o.subject.value,o.predicate.value,o.object.value,c])})}const e=o=>{o.forEach(c=>{this._add(c.subject.value,c.predicate.value,c.object.value,u,()=>{r(c)})})};this._evaluateRules(t,u,r);let i;for(;(i=n.pop())!==void 0;){const[o,c,s,l]=i,f=l.basePremise.subject.value;f||(l.basePremise.subject.value=o);const d=l.basePremise.predicate.value;d||(l.basePremise.predicate.value=c);const h=l.basePremise.object.value;h||(l.basePremise.object.value=s),l.premise.length===0?e(l.conclusion):this._evaluatePremise(l,u,r),f||(l.basePremise.subject.value=null),d||(l.basePremise.predicate.value=null),h||(l.basePremise.object.value=null)}}_createRule({premise:t,conclusion:u}){const n={},r=i=>i.termType==="Variable"?n[i.value]=n[i.value]||{}:{value:this._store._termToNewNumericId(i)},e=i=>({subject:r(i.subject),predicate:r(i.predicate),object:r(i.object)});return{premise:t.map(i=>e(i)),conclusion:u.map(i=>e(i)),variables:Object.values(n)}}reason(t){Array.isArray(t)||(t=VC(t)),t=t.map(n=>this._createRule(n));for(const n of t)for(const r of t)for(let e=0;e<r.premise.length;e++){const i=r.premise[e];for(const o of n.conclusion){if(NR(i.subject,o.subject)&&NR(i.predicate,o.predicate)&&NR(i.object,o.object)){const c=new Set,s=[];i.subject.value=i.subject.value||1,i.object.value=i.object.value||1,i.predicate.value=i.predicate.value||1;for(let l=0;l<r.premise.length;l++)l!==e&&s.push(QC(r.premise[l],c));(o.next=o.next||[]).push({premise:s,conclusion:r.conclusion,basePremise:i})}r.variables.forEach(c=>{c.value=null})}}for(const n of t){const r=new Set;n.premise=n.premise.map(e=>QC(e,r))}const u=this._store._getGraphs();for(const n in u)this._reasonGraphNaive(t,u[n]);this._store._size=null}}function QC({subject:a,predicate:t,object:u},n){const r=a.value||n.has(a)||(n.add(a),!1),e=t.value||n.has(t)||(n.add(t),!1),i=u.value||n.has(u)||(n.add(u),!1);return!r&&e?{content:"predicates",value:[t,u,a]}:i?{content:"objects",value:[u,a,t]}:{content:"subjects",value:[a,t,u]}}function NR(a,t){return a.value===null&&(a.value=t.value),a.value===t.value}class HC extends zO.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const u=new GO(t);let n,r;const e={onQuad:(i,o)=>{i&&this.emit("error",i)||o&&this.push(o)},onPrefix:(i,o)=>{this.emit("prefix",i,o)}};t&&t.comments&&(e.onComment=i=>{this.emit("comment",i)}),u.parse({on:(i,o)=>{switch(i){case"data":n=o;break;case"end":r=o;break}}},e),this._transform=(i,o,c)=>{n(i),c()},this._flush=i=>{r(),i()}}import(t){return t.on("data",u=>{this.write(u)}),t.on("end",()=>{this.end()}),t.on("error",u=>{this.emit("error",u)}),this}}class GC extends zO.Transform{constructor(t){super({encoding:"utf8",writableObjectMode:!0});const u=this._writer=new Lb({write:(n,r,e)=>{this.push(n),e&&e()},end:n=>{this.push(null),n&&n()}},t);this._transform=(n,r,e)=>{u.addQuad(n,e)},this._flush=n=>{u.end(n)}}import(t){return t.on("data",u=>{this.write(u)}),t.on("end",()=>{this.end()}),t.on("error",u=>{this.emit("error",u)}),t.on("prefix",(u,n)=>{this._writer.addPrefix(u,n)}),this}}var ede={Lexer:SR,Parser:GO,Writer:Lb,Store:$r,StoreFactory:$C,EntityIndex:RR,StreamParser:HC,StreamWriter:GC,Util:PC,Reasoner:UC,DataFactory:Qn,Term:pn,NamedNode:HO,Literal:fh,BlankNode:OR,Variable:AR,DefaultGraph:ER,Quad:hh,Triple:hh,termFromId:Mo,termToId:ca},tde=Object.freeze({__proto__:null,BlankNode:OR,DataFactory:Qn,DefaultGraph:ER,EntityIndex:RR,Lexer:SR,Literal:fh,NamedNode:HO,Parser:GO,Quad:hh,Reasoner:UC,Store:$r,StoreFactory:$C,StreamParser:HC,StreamWriter:GC,Term:pn,Triple:hh,Util:PC,Variable:AR,Writer:Lb,default:ede,getRulesFromDataset:VC,termFromId:Mo,termToId:ca}),da=rr(tde),kC;function rde(){if(kC)return Ab;kC=1,Object.defineProperty(Ab,"__esModule",{value:!0}),Ab.ActorRdfParseN3=void 0;const a=lh(),t=ke(),u=da;let n=class extends a.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,i,o){var l;const c=e.context.getSafe(t.KeysInitQuery.dataFactory);e.data.on("error",f=>s.emit("error",f));const s=e.data.pipe(new u.StreamParser({factory:c,baseIRI:(l=e.metadata)==null?void 0:l.baseIRI,format:i.endsWith("n3")?i:`${i}*`}));return{data:s,metadata:{triples:i==="text/turtle"||i==="application/n-triples"||i==="text/n3"}}}};return Ab.ActorRdfParseN3=n,Ab}var zC;function nde(){return zC||(zC=1,function(a){var t=Po&&Po.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Po&&Po.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(rde(),a)}(Po)),Po}var qo={},Mb={},Co={},Bo={},$o={},FR={},XC;function ide(){return XC||(XC=1,function(a){/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(a,"__esModule",{value:!0}),a.CHAR=`	
\r ---`,a.S=` 	\r
`,a.NAME_START_CHAR=":A-Z_a-z-----------",a.NAME_CHAR="-"+a.NAME_START_CHAR+".0-9--",a.CHAR_RE=new RegExp("^["+a.CHAR+"]$","u"),a.S_RE=new RegExp("^["+a.S+"]+$","u"),a.NAME_START_CHAR_RE=new RegExp("^["+a.NAME_START_CHAR+"]$","u"),a.NAME_CHAR_RE=new RegExp("^["+a.NAME_CHAR+"]$","u"),a.NAME_RE=new RegExp("^["+a.NAME_START_CHAR+"]["+a.NAME_CHAR+"]*$","u"),a.NMTOKEN_RE=new RegExp("^["+a.NAME_CHAR+"]+$","u");var t=9,u=10,n=13,r=32;a.S_LIST=[r,u,n,t];function e(s){return s>=r&&s<=55295||s===u||s===n||s===t||s>=57344&&s<=65533||s>=65536&&s<=1114111}a.isChar=e;function i(s){return s===r||s===u||s===n||s===t}a.isS=i;function o(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}a.isNameStartChar=o;function c(s){return o(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}a.isNameChar=c}(FR)),FR}var DR={},JC;function ade(){return JC||(JC=1,function(a){/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(a,"__esModule",{value:!0}),a.CHAR="---",a.RESTRICTED_CHAR="-\b\v\f---",a.S=` 	\r
`,a.NAME_START_CHAR=":A-Z_a-z-----------",a.NAME_CHAR="-"+a.NAME_START_CHAR+".0-9--",a.CHAR_RE=new RegExp("^["+a.CHAR+"]$","u"),a.RESTRICTED_CHAR_RE=new RegExp("^["+a.RESTRICTED_CHAR+"]$","u"),a.S_RE=new RegExp("^["+a.S+"]+$","u"),a.NAME_START_CHAR_RE=new RegExp("^["+a.NAME_START_CHAR+"]$","u"),a.NAME_CHAR_RE=new RegExp("^["+a.NAME_CHAR+"]$","u"),a.NAME_RE=new RegExp("^["+a.NAME_START_CHAR+"]["+a.NAME_CHAR+"]*$","u"),a.NMTOKEN_RE=new RegExp("^["+a.NAME_CHAR+"]+$","u");var t=9,u=10,n=13,r=32;a.S_LIST=[r,u,n,t];function e(f){return f>=1&&f<=55295||f>=57344&&f<=65533||f>=65536&&f<=1114111}a.isChar=e;function i(f){return f>=1&&f<=8||f===11||f===12||f>=14&&f<=31||f>=127&&f<=132||f>=134&&f<=159}a.isRestrictedChar=i;function o(f){return f===9||f===10||f===13||f>31&&f<127||f===133||f>159&&f<=55295||f>=57344&&f<=65533||f>=65536&&f<=1114111}a.isCharAndNotRestricted=o;function c(f){return f===r||f===u||f===n||f===t}a.isS=c;function s(f){return f>=65&&f<=90||f>=97&&f<=122||f===58||f===95||f===8204||f===8205||f>=192&&f<=214||f>=216&&f<=246||f>=248&&f<=767||f>=880&&f<=893||f>=895&&f<=8191||f>=8304&&f<=8591||f>=11264&&f<=12271||f>=12289&&f<=55295||f>=63744&&f<=64975||f>=65008&&f<=65533||f>=65536&&f<=983039}a.isNameStartChar=s;function l(f){return s(f)||f>=48&&f<=57||f===45||f===46||f===183||f>=768&&f<=879||f>=8255&&f<=8256}a.isNameChar=l}(DR)),DR}var PR={},KC;function ude(){return KC||(KC=1,function(a){/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(a,"__esModule",{value:!0}),a.NC_NAME_START_CHAR="A-Z_a-z------------",a.NC_NAME_CHAR="-"+a.NC_NAME_START_CHAR+".0-9--",a.NC_NAME_START_CHAR_RE=new RegExp("^["+a.NC_NAME_START_CHAR+"]$","u"),a.NC_NAME_CHAR_RE=new RegExp("^["+a.NC_NAME_CHAR+"]$","u"),a.NC_NAME_RE=new RegExp("^["+a.NC_NAME_START_CHAR+"]["+a.NC_NAME_CHAR+"]*$","u");function t(n){return n>=65&&n<=90||n===95||n>=97&&n<=122||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}a.isNCNameStartChar=t;function u(n){return t(n)||n===45||n===46||n>=48&&n<=57||n===183||n>=768&&n<=879||n>=8255&&n<=8256}a.isNCNameChar=u}(PR)),PR}var WC;function YC(){if(WC)return $o;WC=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.SaxesParser=$o.EVENTS=void 0;const a=ide(),t=ade(),u=ude();var n=a.isS,r=a.isChar,e=a.isNameStartChar,i=a.isNameChar,o=a.S_LIST,c=a.NAME_RE,s=t.isChar,l=u.isNCNameStartChar,f=u.isNCNameChar,d=u.NC_NAME_RE;const h="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",b={__proto__:null,xml:h,xmlns:p},m={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},y=-1,g=-2,_=0,v=1,T=2,w=3,A=4,M=5,F=6,O=7,E=8,x=9,L=10,V=11,$=12,Q=13,ie=14,ue=15,pe=16,X=17,me=18,Fe=19,ve=20,re=21,je=22,qe=23,$e=24,ge=25,we=26,G=27,N=28,P=29,S=30,I=31,B=32,z=33,H=34,K=35,k=36,Z=37,de=38,le=39,De=40,Qe=41,Le=42,ce=43,se=44,ye=9,xe=10,U=13,R=32,C=33,J=34,ae=38,_e=39,Se=45,Xe=47,Y=59,Ee=60,Ne=61,Ce=62,Ue=63,tt=91,ut=93,rt=133,lt=8232,ne=Je=>Je===J||Je===_e,j=[J,_e],D=[...j,tt,Ce],q=[...j,Ee,ut],W=[Ne,Ue,...o],be=[...o,Ce,ae,Ee];function he(Je,oe,Oe){switch(oe){case"xml":Oe!==h&&Je.fail(`xml prefix must be bound to ${h}.`);break;case"xmlns":Oe!==p&&Je.fail(`xmlns prefix must be bound to ${p}.`);break}switch(Oe){case p:Je.fail(oe===""?`the default namespace may not be set to ${Oe}.`:`may not assign a prefix (even "xmlns") to the URI ${p}.`);break;case h:switch(oe){case"xml":break;case"":Je.fail(`the default namespace may not be set to ${Oe}.`);break;default:Je.fail("may not assign the xml namespace to another prefix.")}break}}function Pe(Je,oe){for(const Oe of Object.keys(oe))he(Je,Oe,oe[Oe])}const Be=Je=>d.test(Je),ze=Je=>c.test(Je),Ke=0,ct=1,Ze=2;$o.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const Ye={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class Hr{get closed(){return this._closed}constructor(oe){this.opt=oe??{},this.fragmentOpt=!!this.opt.fragment;const Oe=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,Oe){this.nameStartCheck=l,this.nameCheck=f,this.isName=Be,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},b);const Ie=this.opt.additionalNamespaces;Ie!=null&&(Pe(this,Ie),Object.assign(this.ns,Ie))}else this.nameStartCheck=e,this.nameCheck=i,this.isName=ze,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var oe;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Ke,this.attribList=[];const{fragmentOpt:Oe}=this;this.state=Oe?Q:_,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=Oe,this.xmlDeclPossible=!Oe,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:Ie}=this.opt;if(Ie===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");Ie="1.0"}this.setXMLVersion(Ie),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(m),(oe=this.readyHandler)===null||oe===void 0||oe.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(oe,Oe){this[Ye[oe]]=Oe}off(oe){this[Ye[oe]]=void 0}makeError(oe){var Oe;let Ie=(Oe=this.fileName)!==null&&Oe!==void 0?Oe:"";return this.trackPosition&&(Ie.length>0&&(Ie+=":"),Ie+=`${this.line}:${this.column}`),Ie.length>0&&(Ie+=": "),new Error(Ie+oe)}fail(oe){const Oe=this.makeError(oe),Ie=this.errorHandler;if(Ie===void 0)throw Oe;return Ie(Oe),this}write(oe){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let Oe=!1;oe===null?(Oe=!0,oe=""):typeof oe=="object"&&(oe=oe.toString()),this.carriedFromPrevious!==void 0&&(oe=`${this.carriedFromPrevious}${oe}`,this.carriedFromPrevious=void 0);let Ie=oe.length;const nt=oe.charCodeAt(Ie-1);!Oe&&(nt===U||nt>=55296&&nt<=56319)&&(this.carriedFromPrevious=oe[Ie-1],Ie--,oe=oe.slice(0,Ie));const{stateTable:it}=this;for(this.chunk=oe,this.i=0;this.i<Ie;)it[this.state].call(this);return this.chunkPosition+=Ie,Oe?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:oe,i:Oe}=this;if(this.prevI=Oe,this.i=Oe+1,Oe>=oe.length)return y;const Ie=oe.charCodeAt(Oe);if(this.column++,Ie<55296){if(Ie>=R||Ie===ye)return Ie;switch(Ie){case xe:return this.line++,this.column=0,this.positionAtNewLine=this.position,xe;case U:return oe.charCodeAt(Oe+1)===xe&&(this.i=Oe+2),this.line++,this.column=0,this.positionAtNewLine=this.position,g;default:return this.fail("disallowed character."),Ie}}if(Ie>56319)return Ie>=57344&&Ie<=65533||this.fail("disallowed character."),Ie;const nt=65536+(Ie-55296)*1024+(oe.charCodeAt(Oe+1)-56320);return this.i=Oe+2,nt>1114111&&this.fail("disallowed character."),nt}getCode11(){const{chunk:oe,i:Oe}=this;if(this.prevI=Oe,this.i=Oe+1,Oe>=oe.length)return y;const Ie=oe.charCodeAt(Oe);if(this.column++,Ie<55296){if(Ie>31&&Ie<127||Ie>159&&Ie!==lt||Ie===ye)return Ie;switch(Ie){case xe:return this.line++,this.column=0,this.positionAtNewLine=this.position,xe;case U:{const it=oe.charCodeAt(Oe+1);(it===xe||it===rt)&&(this.i=Oe+2)}case rt:case lt:return this.line++,this.column=0,this.positionAtNewLine=this.position,g;default:return this.fail("disallowed character."),Ie}}if(Ie>56319)return Ie>=57344&&Ie<=65533||this.fail("disallowed character."),Ie;const nt=65536+(Ie-55296)*1024+(oe.charCodeAt(Oe+1)-56320);return this.i=Oe+2,nt>1114111&&this.fail("disallowed character."),nt}getCodeNorm(){const oe=this.getCode();return oe===g?xe:oe}unget(){this.i=this.prevI,this.column--}captureTo(oe){let{i:Oe}=this;const{chunk:Ie}=this;for(;;){const nt=this.getCode(),it=nt===g,Ot=it?xe:nt;if(Ot===y||oe.includes(Ot))return this.text+=Ie.slice(Oe,this.prevI),Ot;it&&(this.text+=`${Ie.slice(Oe,this.prevI)}
`,Oe=this.i)}}captureToChar(oe){let{i:Oe}=this;const{chunk:Ie}=this;for(;;){let nt=this.getCode();switch(nt){case g:this.text+=`${Ie.slice(Oe,this.prevI)}
`,Oe=this.i,nt=xe;break;case y:return this.text+=Ie.slice(Oe),!1}if(nt===oe)return this.text+=Ie.slice(Oe,this.prevI),!0}}captureNameChars(){const{chunk:oe,i:Oe}=this;for(;;){const Ie=this.getCode();if(Ie===y)return this.name+=oe.slice(Oe),y;if(!i(Ie))return this.name+=oe.slice(Oe,this.prevI),Ie===g?xe:Ie}}skipSpaces(){for(;;){const oe=this.getCodeNorm();if(oe===y||!n(oe))return oe}}setXMLVersion(oe){this.currentXMLVersion=oe,oe==="1.0"?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=s,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=v}sBeginWhitespace(){const oe=this.i,Oe=this.skipSpaces();switch(this.prevI!==oe&&(this.xmlDeclPossible=!1),Oe){case Ee:if(this.state=ue,this.text.length!==0)throw new Error("no-empty text at start");break;case y:break;default:this.unget(),this.state=Q,this.xmlDeclPossible=!1}}sDoctype(){var oe;const Oe=this.captureTo(D);switch(Oe){case Ce:{(oe=this.doctypeHandler)===null||oe===void 0||oe.call(this,this.text),this.text="",this.state=Q,this.doctype=!0;break}case y:break;default:this.text+=String.fromCodePoint(Oe),Oe===tt?this.state=A:ne(Oe)&&(this.state=w,this.q=Oe)}}sDoctypeQuote(){const oe=this.q;this.captureToChar(oe)&&(this.text+=String.fromCodePoint(oe),this.q=null,this.state=T)}sDTD(){const oe=this.captureTo(q);oe!==y&&(this.text+=String.fromCodePoint(oe),oe===ut?this.state=T:oe===Ee?this.state=F:ne(oe)&&(this.state=M,this.q=oe))}sDTDQuoted(){const oe=this.q;this.captureToChar(oe)&&(this.text+=String.fromCodePoint(oe),this.state=A,this.q=null)}sDTDOpenWaka(){const oe=this.getCodeNorm();switch(this.text+=String.fromCodePoint(oe),oe){case C:this.state=O,this.openWakaBang="";break;case Ue:this.state=V;break;default:this.state=A}}sDTDOpenWakaBang(){const oe=String.fromCodePoint(this.getCodeNorm()),Oe=this.openWakaBang+=oe;this.text+=oe,Oe!=="-"&&(this.state=Oe==="--"?E:A,this.openWakaBang="")}sDTDComment(){this.captureToChar(Se)&&(this.text+="-",this.state=x)}sDTDCommentEnding(){const oe=this.getCodeNorm();this.text+=String.fromCodePoint(oe),this.state=oe===Se?L:E}sDTDCommentEnded(){const oe=this.getCodeNorm();this.text+=String.fromCodePoint(oe),oe===Ce?this.state=A:(this.fail("malformed comment."),this.state=E)}sDTDPI(){this.captureToChar(Ue)&&(this.text+="?",this.state=$)}sDTDPIEnding(){const oe=this.getCodeNorm();this.text+=String.fromCodePoint(oe),oe===Ce&&(this.state=A)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:oe}=this;const{chunk:Oe}=this;e:for(;;)switch(this.getCode()){case g:this.entity+=`${Oe.slice(oe,this.prevI)}
`,oe=this.i;break;case Y:{const{entityReturnState:Ie}=this,nt=this.entity+Oe.slice(oe,this.prevI);this.state=Ie;let it;nt===""?(this.fail("empty entity name."),it="&;"):(it=this.parseEntity(nt),this.entity=""),(Ie!==Q||this.textHandler!==void 0)&&(this.text+=it);break e}case y:this.entity+=Oe.slice(oe);break e}}sOpenWaka(){const oe=this.getCode();if(e(oe))this.state=H,this.unget(),this.xmlDeclPossible=!1;else switch(oe){case Xe:this.state=ce,this.xmlDeclPossible=!1;break;case C:this.state=pe,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Ue:this.state=qe;break;default:this.fail("disallowed character in tag name"),this.state=Q,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=ve,this.openWakaBang="";break;case"--":this.state=X,this.openWakaBang="";break;case"DOCTYPE":this.state=T,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(Se)&&(this.state=me)}sCommentEnding(){var oe;const Oe=this.getCodeNorm();Oe===Se?(this.state=Fe,(oe=this.commentHandler)===null||oe===void 0||oe.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(Oe)}`,this.state=X)}sCommentEnded(){const oe=this.getCodeNorm();oe!==Ce?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(oe)}`,this.state=X):this.state=Q}sCData(){this.captureToChar(ut)&&(this.state=re)}sCDataEnding(){const oe=this.getCodeNorm();oe===ut?this.state=je:(this.text+=`]${String.fromCodePoint(oe)}`,this.state=ve)}sCDataEnding2(){var oe;const Oe=this.getCodeNorm();switch(Oe){case Ce:{(oe=this.cdataHandler)===null||oe===void 0||oe.call(this,this.text),this.text="",this.state=Q;break}case ut:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(Oe)}`,this.state=ve}}sPIFirstChar(){const oe=this.getCodeNorm();this.nameStartCheck(oe)?(this.piTarget+=String.fromCodePoint(oe),this.state=$e):oe===Ue||n(oe)?(this.fail("processing instruction without a target."),this.state=oe===Ue?we:ge):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(oe),this.state=$e)}sPIRest(){const{chunk:oe,i:Oe}=this;for(;;){const Ie=this.getCodeNorm();if(Ie===y){this.piTarget+=oe.slice(Oe);return}if(!this.nameCheck(Ie)){this.piTarget+=oe.slice(Oe,this.prevI);const nt=Ie===Ue;nt||n(Ie)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=nt?z:G):this.state=nt?we:ge:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(Ie));break}}}sPIBody(){if(this.text.length===0){const oe=this.getCodeNorm();oe===Ue?this.state=we:n(oe)||(this.text=String.fromCodePoint(oe))}else this.captureToChar(Ue)&&(this.state=we)}sPIEnding(){var oe;const Oe=this.getCodeNorm();if(Oe===Ce){const{piTarget:Ie}=this;Ie.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(oe=this.piHandler)===null||oe===void 0||oe.call(this,{target:Ie,body:this.text}),this.piTarget=this.text="",this.state=Q}else Oe===Ue?this.text+="?":(this.text+=`?${String.fromCodePoint(Oe)}`,this.state=ge);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const oe=this.skipSpaces();if(oe===Ue){this.state=z;return}oe!==y&&(this.state=N,this.name=String.fromCodePoint(oe))}sXMLDeclName(){const oe=this.captureTo(W);if(oe===Ue){this.state=z,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(n(oe)||oe===Ne){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=oe===Ne?S:P}}sXMLDeclEq(){const oe=this.getCodeNorm();if(oe===Ue){this.state=z,this.fail("XML declaration is incomplete.");return}n(oe)||(oe!==Ne&&this.fail("value required."),this.state=S)}sXMLDeclValueStart(){const oe=this.getCodeNorm();if(oe===Ue){this.state=z,this.fail("XML declaration is incomplete.");return}n(oe)||(ne(oe)?this.q=oe:(this.fail("value must be quoted."),this.q=R),this.state=I)}sXMLDeclValue(){const oe=this.captureTo([this.q,Ue]);if(oe===Ue){this.state=z,this.text="",this.fail("XML declaration is incomplete.");return}if(oe===y)return;const Oe=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const Ie=Oe;this.xmlDecl.version=Ie,/^1\.[0-9]+$/.test(Ie)?this.opt.forceXMLVersion||this.setXMLVersion(Ie):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(Oe)||this.fail("encoding value must match 	/^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=Oe;break;case"standalone":Oe!=="yes"&&Oe!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=Oe;break}this.name="",this.state=B}sXMLDeclSeparator(){const oe=this.getCodeNorm();if(oe===Ue){this.state=z;return}n(oe)||(this.fail("whitespace required."),this.unget()),this.state=G}sXMLDeclEnding(){var oe;this.getCodeNorm()===Ce?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(oe=this.xmldeclHandler)===null||oe===void 0||oe.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=Q):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var oe;const Oe=this.captureNameChars();if(Oe===y)return;const Ie=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=Ie.ns=Object.create(null)),(oe=this.openTagStartHandler)===null||oe===void 0||oe.call(this,Ie),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),Oe){case Ce:this.openTag();break;case Xe:this.state=K;break;default:n(Oe)||this.fail("disallowed character in tag name."),this.state=k}}sOpenTagSlash(){this.getCode()===Ce?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=k)}sAttrib(){const oe=this.skipSpaces();oe!==y&&(e(oe)?(this.unget(),this.state=Z):oe===Ce?this.openTag():oe===Xe?this.state=K:this.fail("disallowed character in attribute name."))}sAttribName(){const oe=this.captureNameChars();oe===Ne?this.state=le:n(oe)?this.state=de:oe===Ce?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):oe!==y&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const oe=this.skipSpaces();switch(oe){case y:return;case Ne:this.state=le;break;default:this.fail("attribute without value."),this.text="",this.name="",oe===Ce?this.openTag():e(oe)?(this.unget(),this.state=Z):(this.fail("disallowed character in attribute name."),this.state=k)}}sAttribValue(){const oe=this.getCodeNorm();ne(oe)?(this.q=oe,this.state=De):n(oe)||(this.fail("unquoted attribute value."),this.state=Le,this.unget())}sAttribValueQuoted(){const{q:oe,chunk:Oe}=this;let{i:Ie}=this;for(;;)switch(this.getCode()){case oe:this.pushAttrib(this.name,this.text+Oe.slice(Ie,this.prevI)),this.name=this.text="",this.q=null,this.state=Qe;return;case ae:this.text+=Oe.slice(Ie,this.prevI),this.state=ie,this.entityReturnState=De;return;case xe:case g:case ye:this.text+=`${Oe.slice(Ie,this.prevI)} `,Ie=this.i;break;case Ee:this.text+=Oe.slice(Ie,this.prevI),this.fail("disallowed character.");return;case y:this.text+=Oe.slice(Ie);return}}sAttribValueClosed(){const oe=this.getCodeNorm();n(oe)?this.state=k:oe===Ce?this.openTag():oe===Xe?this.state=K:e(oe)?(this.fail("no whitespace between attributes."),this.unget(),this.state=Z):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const oe=this.captureTo(be);switch(oe){case ae:this.state=ie,this.entityReturnState=Le;break;case Ee:this.fail("disallowed character.");break;case y:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",oe===Ce?this.openTag():this.state=k}}sCloseTag(){const oe=this.captureNameChars();oe===Ce?this.closeTag():n(oe)?this.state=se:oe!==y&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Ce:this.closeTag();break;case y:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:oe,forbiddenState:Oe}=this;const{chunk:Ie,textHandler:nt}=this;e:for(;;)switch(this.getCode()){case Ee:{if(this.state=ue,nt!==void 0){const{text:it}=this,Ot=Ie.slice(oe,this.prevI);it.length!==0?(nt(it+Ot),this.text=""):Ot.length!==0&&nt(Ot)}Oe=Ke;break e}case ae:this.state=ie,this.entityReturnState=Q,nt!==void 0&&(this.text+=Ie.slice(oe,this.prevI)),Oe=Ke;break e;case ut:switch(Oe){case Ke:Oe=ct;break;case ct:Oe=Ze;break;case Ze:break;default:throw new Error("impossible state")}break;case Ce:Oe===Ze&&this.fail('the string "]]>" is disallowed in char data.'),Oe=Ke;break;case g:nt!==void 0&&(this.text+=`${Ie.slice(oe,this.prevI)}
`),oe=this.i,Oe=Ke;break;case y:nt!==void 0&&(this.text+=Ie.slice(oe));break e;default:Oe=Ke}this.forbiddenState=Oe}handleTextOutsideRoot(){let{i:oe}=this;const{chunk:Oe,textHandler:Ie}=this;let nt=!1;e:for(;;){const it=this.getCode();switch(it){case Ee:{if(this.state=ue,Ie!==void 0){const{text:Ot}=this,ur=Oe.slice(oe,this.prevI);Ot.length!==0?(Ie(Ot+ur),this.text=""):ur.length!==0&&Ie(ur)}break e}case ae:this.state=ie,this.entityReturnState=Q,Ie!==void 0&&(this.text+=Oe.slice(oe,this.prevI)),nt=!0;break e;case g:Ie!==void 0&&(this.text+=`${Oe.slice(oe,this.prevI)}
`),oe=this.i;break;case y:Ie!==void 0&&(this.text+=Oe.slice(oe));break e;default:n(it)||(nt=!0)}}nt&&(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(oe,Oe){var Ie;const{prefix:nt,local:it}=this.qname(oe),Ot={name:oe,prefix:nt,local:it,value:Oe};if(this.attribList.push(Ot),(Ie=this.attributeHandler)===null||Ie===void 0||Ie.call(this,Ot),nt==="xmlns"){const ur=Oe.trim();this.currentXMLVersion==="1.0"&&ur===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[it]=ur,he(this,it,ur)}else if(oe==="xmlns"){const ur=Oe.trim();this.topNS[""]=ur,he(this,"",ur)}}pushAttribPlain(oe,Oe){var Ie;const nt={name:oe,value:Oe};this.attribList.push(nt),(Ie=this.attributeHandler)===null||Ie===void 0||Ie.call(this,nt)}end(){var oe,Oe;this.sawRoot||this.fail("document must contain a root element.");const{tags:Ie}=this;for(;Ie.length>0;){const it=Ie.pop();this.fail(`unclosed tag: ${it.name}`)}this.state!==_&&this.state!==Q&&this.fail("unexpected end.");const{text:nt}=this;return nt.length!==0&&((oe=this.textHandler)===null||oe===void 0||oe.call(this,nt),this.text=""),this._closed=!0,(Oe=this.endHandler)===null||Oe===void 0||Oe.call(this),this._init(),this}resolve(oe){var Oe,Ie;let nt=this.topNS[oe];if(nt!==void 0)return nt;const{tags:it}=this;for(let Ot=it.length-1;Ot>=0;Ot--)if(nt=it[Ot].ns[oe],nt!==void 0)return nt;return nt=this.ns[oe],nt!==void 0?nt:(Ie=(Oe=this.opt).resolvePrefix)===null||Ie===void 0?void 0:Ie.call(Oe,oe)}qname(oe){const Oe=oe.indexOf(":");if(Oe===-1)return{prefix:"",local:oe};const Ie=oe.slice(Oe+1),nt=oe.slice(0,Oe);return(nt===""||Ie===""||Ie.includes(":"))&&this.fail(`malformed name: ${oe}.`),{prefix:nt,local:Ie}}processAttribsNS(){var oe;const{attribList:Oe}=this,Ie=this.tag;{const{prefix:Ot,local:ur}=this.qname(Ie.name);Ie.prefix=Ot,Ie.local=ur;const zt=Ie.uri=(oe=this.resolve(Ot))!==null&&oe!==void 0?oe:"";Ot!==""&&(Ot==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),zt===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Ot)}.`),Ie.uri=Ot))}if(Oe.length===0)return;const{attributes:nt}=Ie,it=new Set;for(const Ot of Oe){const{name:ur,prefix:zt,local:Bi}=Ot;let bn,Zt;zt===""?(bn=ur==="xmlns"?p:"",Zt=ur):(bn=this.resolve(zt),bn===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(zt)}.`),bn=zt),Zt=`{${bn}}${Bi}`),it.has(Zt)&&this.fail(`duplicate attribute: ${Zt}.`),it.add(Zt),Ot.uri=bn,nt[ur]=Ot}this.attribList=[]}processAttribsPlain(){const{attribList:oe}=this,Oe=this.tag.attributes;for(const{name:Ie,value:nt}of oe)Oe[Ie]!==void 0&&this.fail(`duplicate attribute: ${Ie}.`),Oe[Ie]=nt;this.attribList=[]}openTag(){var oe;this.processAttribs();const{tags:Oe}=this,Ie=this.tag;Ie.isSelfClosing=!1,(oe=this.openTagHandler)===null||oe===void 0||oe.call(this,Ie),Oe.push(Ie),this.state=Q,this.name=""}openSelfClosingTag(){var oe,Oe,Ie;this.processAttribs();const{tags:nt}=this,it=this.tag;it.isSelfClosing=!0,(oe=this.openTagHandler)===null||oe===void 0||oe.call(this,it),(Oe=this.closeTagHandler)===null||Oe===void 0||Oe.call(this,it),(this.tag=(Ie=nt[nt.length-1])!==null&&Ie!==void 0?Ie:null)===null&&(this.closedRoot=!0),this.state=Q,this.name=""}closeTag(){const{tags:oe,name:Oe}=this;if(this.state=Q,this.name="",Oe===""){this.fail("weird empty close tag."),this.text+="</>";return}const Ie=this.closeTagHandler;let nt=oe.length;for(;nt-- >0;){const it=this.tag=oe.pop();if(this.topNS=it.ns,Ie==null||Ie(it),it.name===Oe)break;this.fail("unexpected close tag.")}nt===0?this.closedRoot=!0:nt<0&&(this.fail(`unmatched closing tag: ${Oe}.`),this.text+=`</${Oe}>`)}parseEntity(oe){if(oe[0]!=="#"){const Ie=this.ENTITIES[oe];return Ie!==void 0?Ie:(this.fail(this.isName(oe)?"undefined entity.":"disallowed character in entity name."),`&${oe};`)}let Oe=NaN;return oe[1]==="x"&&/^#x[0-9a-f]+$/i.test(oe)?Oe=parseInt(oe.slice(2),16):/^#[0-9]+$/.test(oe)&&(Oe=parseInt(oe.slice(1),10)),this.isChar(Oe)?String.fromCodePoint(Oe):(this.fail("malformed character entity."),`&${oe};`)}}return $o.SaxesParser=Hr,$o}var qb={},ZC;function ode(){if(ZC)return qb;ZC=1,Object.defineProperty(qb,"__esModule",{value:!0}),qb.ParseError=void 0;let a=class extends Error{constructor(u,n){const r=u.saxParser;super(u.trackPosition?`Line ${r.line} column ${r.column+1}: ${n}`:n)}};return qb.ParseError=a,qb}var Vo={},Cb={},e7;function t7(){if(e7)return Cb;e7=1,Object.defineProperty(Cb,"__esModule",{value:!0}),Cb.BlankNode=void 0;class a{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return Cb.BlankNode=a,Cb}var Bb={},$b={},r7;function n7(){if(r7)return $b;r7=1,Object.defineProperty($b,"__esModule",{value:!0}),$b.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return $b.DefaultGraph=a,a.INSTANCE=new a,$b}var Vb={},Ub={},i7;function LR(){if(i7)return Ub;i7=1,Object.defineProperty(Ub,"__esModule",{value:!0}),Ub.NamedNode=void 0;class a{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return Ub.NamedNode=a,Ub}var a7;function u7(){if(a7)return Vb;a7=1,Object.defineProperty(Vb,"__esModule",{value:!0}),Vb.Literal=void 0;const a=LR();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return Vb.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Vb}var Qb={},o7;function s7(){if(o7)return Qb;o7=1,Object.defineProperty(Qb,"__esModule",{value:!0}),Qb.Quad=void 0;class a{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return Qb.Quad=a,Qb}var Hb={},c7;function l7(){if(c7)return Hb;c7=1,Object.defineProperty(Hb,"__esModule",{value:!0}),Hb.Variable=void 0;class a{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return Hb.Variable=a,Hb}var d7;function sde(){if(d7)return Bb;d7=1,Object.defineProperty(Bb,"__esModule",{value:!0}),Bb.DataFactory=void 0;const a=t7(),t=n7(),u=u7(),n=LR(),r=s7(),e=l7();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return Bb.DataFactory=o,Bb}var f7;function cde(){return f7||(f7=1,function(a){var t=Vo&&Vo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Vo&&Vo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(t7(),a),u(sde(),a),u(n7(),a),u(u7(),a),u(LR(),a),u(s7(),a),u(l7(),a)}(Vo)),Vo}var Uo={},jR={},h7;function lde(){return h7||(h7=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.validateIri=a.IriValidationStrategy=void 0;function t(){const o="[!$&'()*+,;=]",c="%[a-fA-F0-9]{2}",s="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",l=`${s}\\.${s}\\.${s}\\.${s}`,f="[a-fA-F0-9]{1,4}",d=`(${f}:${f}|${l})`,h=`((${f}:){6}${d}|::(${f}:){5}${d}|(${f})?::(${f}:){4}${d}|((${f}:){0,1}${f})?::(${f}:){3}${d}|((${f}:){0,2}${f})?::(${f}:){2}${d}|((${f}:){0,3}${f})?::${f}:${d}|((${f}:){0,4}${f})?::${d}|((${f}:){0,5}${f})?::${f}|((${f}:){0,6}${f})?::)`,p=`v[a-fA-F0-9]+\\.(${o}|${o}|":)+`,b=`\\[(${h}|${p})\\]`,m="[0-9]*",y="[a-zA-Z][a-zA-Z0-9+\\-.]*",_="[---]",w="[a-zA-Z0-9\\-._~-----------------]",A=`(${w}|${c}|${o}|[:@])*`,M=`(${A}|[\\/?])*`,F=`(${A}|${_}|[\\/?])*`,O=`(${A})+`,E=`(${A})*`,x="",L=`${O}(\\/${E})*`,V=`\\/(${O}(\\/${E})*)?`,$=`(\\/${E})*`,Q=`(${w}|${c}|${o})*`,ie=`(${b}|${l}|${Q})`,X=`(\\/\\/${`(${`(${w}|${c}|${o}|:)*`}@)?${ie}(:${m})?`}${$}|${V}|${L}|${x})`,me=`^${y}:${X}(\\?${F})?(#${M})?$`;return new RegExp(me,"u")}const u=t(),n=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var r;(function(i){i.Strict="strict",i.Pragmatic="pragmatic",i.None="none"})(r=a.IriValidationStrategy||(a.IriValidationStrategy={}));function e(i,o=r.Strict){switch(o){case r.Strict:return u.test(i)?void 0:new Error(`Invalid IRI according to RFC 3987: '${i}'`);case r.Pragmatic:return n.test(i)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${i}'`);case r.None:return;default:return new Error(`Not supported validation strategy "${o}"`)}}a.validateIri=e}(jR)),jR}var p7;function dde(){return p7||(p7=1,function(a){var t=Uo&&Uo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Uo&&Uo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(lde(),a)}(Uo)),Uo}var y7;function fde(){if(y7)return Bo;y7=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.ParseType=Bo.RdfXmlParser=void 0;const a=mr(),t=YC(),u=Mt(),n=ode(),r=cde(),e=dde();let i=class or extends u.Transform{constructor(s){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},s&&(Object.assign(this,s),this.options=s),this.dataFactory||(this.dataFactory=new r.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?e.IriValidationStrategy.Pragmatic:e.IriValidationStrategy.None),this.saxParser=new t.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(s){const l=new u.PassThrough({readableObjectMode:!0});s.on("error",d=>f.emit("error",d)),s.on("data",d=>l.push(d)),s.on("end",()=>l.push(null));const f=l.pipe(new or(this.options));return f}_transform(s,l,f){try{this.saxParser.write(s)}catch(d){return f(d)}f()}newParseError(s){return new n.ParseError(this,s)}valueToUri(s,l){return this.uriToNamedNode((0,a.resolve)(s,l.baseIRI))}uriToNamedNode(s){const l=(0,e.validateIri)(s,this.iriValidationStrategy);if(l instanceof Error)throw this.newParseError(l.message);return this.dataFactory.namedNode(s)}validateNcname(s){if(!or.NCNAME_MATCHER.test(s))throw this.newParseError(`Not a valid NCName: ${s}`)}attachSaxListeners(){this.saxParser.on("error",s=>this.emit("error",s)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(s){const l=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let f=o.RESOURCE;if(l&&(l.hadChildren=!0,f=l.childrenParseType),l&&l.childrenStringTags){const h=s.name;let p="";for(const g in s.attributes)p+=` ${g}="${s.attributes[g].value}"`;const m=`<${`${h}${p}`}>`;l.childrenStringTags.push(m);const y={childrenStringTags:l.childrenStringTags};y.childrenStringEmitClosingTag=`</${h}>`,this.activeTagStack.push(y);return}const d={};l?(d.language=l.language,d.baseIRI=l.baseIRI):d.baseIRI=this.baseIRI,this.activeTagStack.push(d),f===o.RESOURCE?this.onTagResource(s,d,l,!l):this.onTagProperty(s,d,l)}onTagResource(s,l,f,d){l.childrenParseType=o.PROPERTY;let h=!0;if(s.uri===or.RDF){if(!d&&or.FORBIDDEN_NODE_ELEMENTS.indexOf(s.local)>=0)throw this.newParseError(`Illegal node element name: ${s.local}`);switch(s.local){case"RDF":l.childrenParseType=o.RESOURCE;case"Description":h=!1}}const p=[],b=[];let m=null,y=!1,g=!1,_=null;for(const v in s.attributes){const T=s.attributes[v];if(f&&T.uri===or.RDF)switch(T.local){case"about":if(m)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${T.value} and ${m} where found.`);m=T.value;continue;case"ID":if(m)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${T.value} and ${m} where found.`);this.validateNcname(T.value),m="#"+T.value,y=!0;continue;case"nodeID":if(m)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${T.value} and ${m} where found.`);this.validateNcname(T.value),m=T.value,g=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":_=T.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(T.uri===or.XML){if(T.local==="lang"){l.language=T.value===""?null:T.value.toLowerCase();continue}else if(T.local==="base"){l.baseIRI=(0,a.resolve)(T.value,l.baseIRI);continue}}T.prefix!=="xml"&&T.prefix!=="xmlns"&&(T.prefix!==""||T.local!=="xmlns")&&T.uri&&(p.push(this.uriToNamedNode(T.uri+T.local)),b.push(T.value))}if(m!==null&&(l.subject=g?this.dataFactory.blankNode(m):this.valueToUri(m,l),y&&this.claimNodeId(l.subject)),l.subject||(l.subject=this.dataFactory.blankNode()),h){const v=this.uriToNamedNode(s.uri+s.local);this.emitTriple(l.subject,this.dataFactory.namedNode(or.RDF+"type"),v,f?f.reifiedStatementId:null)}if(f){if(f.predicate)if(f.childrenCollectionSubject){const v=this.dataFactory.blankNode();this.emitTriple(f.childrenCollectionSubject,f.childrenCollectionPredicate,v,f.reifiedStatementId),this.emitTriple(v,this.dataFactory.namedNode(or.RDF+"first"),l.subject,l.reifiedStatementId),f.childrenCollectionSubject=v,f.childrenCollectionPredicate=this.dataFactory.namedNode(or.RDF+"rest")}else{this.emitTriple(f.subject,f.predicate,l.subject,f.reifiedStatementId);for(let v=0;v<f.predicateSubPredicates.length;v++)this.emitTriple(l.subject,f.predicateSubPredicates[v],f.predicateSubObjects[v],null);f.predicateSubPredicates=[],f.predicateSubObjects=[],f.predicateEmitted=!0}for(let v=0;v<p.length;v++){const T=this.dataFactory.literal(b[v],l.datatype||l.language);this.emitTriple(l.subject,p[v],T,f.reifiedStatementId)}_&&this.emitTriple(l.subject,this.dataFactory.namedNode(or.RDF+"type"),this.uriToNamedNode(_),null)}}onTagProperty(s,l,f){if(l.childrenParseType=o.RESOURCE,l.subject=f.subject,s.uri===or.RDF&&s.local==="li"?(f.listItemCounter||(f.listItemCounter=1),l.predicate=this.uriToNamedNode(s.uri+"_"+f.listItemCounter++)):l.predicate=this.uriToNamedNode(s.uri+s.local),s.uri===or.RDF&&or.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(s.local)>=0)throw this.newParseError(`Illegal property element name: ${s.local}`);l.predicateSubPredicates=[],l.predicateSubObjects=[];let d=!1,h=!1,p=null,b=!0;const m=[],y=[];for(const g in s.attributes){const _=s.attributes[g];if(_.uri===or.RDF)switch(_.local){case"resource":if(p)throw this.newParseError(`Found both rdf:resource (${_.value}) and rdf:nodeID (${p}).`);if(d)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${_.value})`);l.hadChildren=!0,p=_.value,b=!1;continue;case"datatype":if(h)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${_.value}).`);if(d)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${_.value})`);l.datatype=this.valueToUri(_.value,l);continue;case"nodeID":if(h)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${_.value}).`);if(l.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${_.value}).`);if(d)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${_.value})`);this.validateNcname(_.value),l.hadChildren=!0,p=_.value,b=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(h)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(l.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${l.datatype.value})`);if(p)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${p})`);if(_.value==="Resource"){d=!0,l.childrenParseType=o.PROPERTY;const v=this.dataFactory.blankNode();this.emitTriple(l.subject,l.predicate,v,l.reifiedStatementId),l.subject=v,l.predicate=null}else _.value==="Collection"?(d=!0,l.hadChildren=!0,l.childrenCollectionSubject=l.subject,l.childrenCollectionPredicate=l.predicate,b=!1):_.value==="Literal"&&(d=!0,l.childrenTagsToString=!0,l.childrenStringTags=[]);continue;case"ID":this.validateNcname(_.value),l.reifiedStatementId=this.valueToUri("#"+_.value,l),this.claimNodeId(l.reifiedStatementId);continue}else if(_.uri===or.XML&&_.local==="lang"){l.language=_.value===""?null:_.value.toLowerCase();continue}if(_.prefix!=="xml"&&_.prefix!=="xmlns"&&(_.prefix!==""||_.local!=="xmlns")&&_.uri){if(d||l.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${_.value}`);l.hadChildren=!0,h=!0,m.push(this.uriToNamedNode(_.uri+_.local)),y.push(this.dataFactory.literal(_.value,l.datatype||l.language))}}if(p!==null){const g=l.subject;l.subject=b?this.dataFactory.blankNode(p):this.valueToUri(p,l),this.emitTriple(g,l.predicate,l.subject,l.reifiedStatementId);for(let _=0;_<m.length;_++)this.emitTriple(l.subject,m[_],y[_],null);l.predicateEmitted=!0}else b&&(l.predicateSubPredicates=m,l.predicateSubObjects=y,l.predicateEmitted=!1)}emitTriple(s,l,f,d){this.push(this.dataFactory.quad(s,l,f,this.defaultGraph)),d&&(this.push(this.dataFactory.quad(d,this.dataFactory.namedNode(or.RDF+"type"),this.dataFactory.namedNode(or.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(d,this.dataFactory.namedNode(or.RDF+"subject"),s,this.defaultGraph)),this.push(this.dataFactory.quad(d,this.dataFactory.namedNode(or.RDF+"predicate"),l,this.defaultGraph)),this.push(this.dataFactory.quad(d,this.dataFactory.namedNode(or.RDF+"object"),f,this.defaultGraph)))}claimNodeId(s){if(!this.allowDuplicateRdfIds){if(this.nodeIds[s.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${s.value}'.`);this.nodeIds[s.value]=!0}}onText(s){const l=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;l&&(l.childrenStringTags?l.childrenStringTags.push(s):l.predicate&&(l.text=s))}onCloseTag(){const s=this.activeTagStack.pop();if(s.childrenStringEmitClosingTag&&s.childrenStringTags.push(s.childrenStringEmitClosingTag),s.childrenTagsToString&&(s.datatype=this.dataFactory.namedNode(or.RDF+"XMLLiteral"),s.text=s.childrenStringTags.join(""),s.hadChildren=!1),s.childrenCollectionSubject)this.emitTriple(s.childrenCollectionSubject,s.childrenCollectionPredicate,this.dataFactory.namedNode(or.RDF+"nil"),s.reifiedStatementId);else if(s.predicate){if(!s.hadChildren&&s.childrenParseType!==o.PROPERTY)this.emitTriple(s.subject,s.predicate,this.dataFactory.literal(s.text||"",s.datatype||s.language),s.reifiedStatementId);else if(!s.predicateEmitted){const l=this.dataFactory.blankNode();this.emitTriple(s.subject,s.predicate,l,s.reifiedStatementId);for(let f=0;f<s.predicateSubPredicates.length;f++)this.emitTriple(l,s.predicateSubPredicates[f],s.predicateSubObjects[f],null)}}}onDoctype(s){s.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(l,f,d)=>(this.saxParser.ENTITIES[f]=d,""))}};Bo.RdfXmlParser=i,i.MIME_TYPE="application/rdf+xml",i.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i.XML="http://www.w3.org/XML/1998/namespace",i.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],i.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],i.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u;var o;return function(c){c[c.RESOURCE=0]="RESOURCE",c[c.PROPERTY=1]="PROPERTY"}(o||(Bo.ParseType=o={})),Bo}var b7;function hde(){return b7||(b7=1,function(a){var t=Co&&Co.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Co&&Co.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(fde(),a)}(Co)),Co}var _7;function pde(){if(_7)return Mb;_7=1,Object.defineProperty(Mb,"__esModule",{value:!0}),Mb.ActorRdfParseRdfXml=void 0;const a=lh(),t=ke(),u=hde();let n=class extends a.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e){var c;const i=e.context.getSafe(t.KeysInitQuery.dataFactory);e.data.on("error",s=>o.emit("error",s));const o=e.data.pipe(new u.RdfXmlParser({dataFactory:i,baseIRI:(c=e.metadata)==null?void 0:c.baseIRI}));return{data:o,metadata:{triples:!0}}}};return Mb.ActorRdfParseRdfXml=n,Mb}var m7;function yde(){return m7||(m7=1,function(a){var t=qo&&qo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=qo&&qo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(pde(),a)}(qo)),qo}var Qo={},Gb={},Ho={},MR={},g7;function bde(){return g7||(g7=1,Object.defineProperty(MR,"__esModule",{value:!0})),MR}var qR={},v7;function _de(){return v7||(v7=1,Object.defineProperty(qR,"__esModule",{value:!0})),qR}var CR={},T7;function mde(){return T7||(T7=1,Object.defineProperty(CR,"__esModule",{value:!0})),CR}var kb={},Hn={},Gn={},BR={},kn={},XO={},w7;function gde(){return w7||(w7=1,Object.defineProperty(XO,"__esModule",{value:!0}),XO.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(a){return a.charCodeAt(0)}))),XO}var JO={},S7;function vde(){return S7||(S7=1,Object.defineProperty(JO,"__esModule",{value:!0}),JO.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(a){return a.charCodeAt(0)}))),JO}var $R={},O7;function A7(){return O7||(O7=1,function(a){var t;Object.defineProperty(a,"__esModule",{value:!0}),a.replaceCodePoint=a.fromCodePoint=void 0;var u=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);a.fromCodePoint=(t=String.fromCodePoint)!==null&&t!==void 0?t:function(e){var i="";return e>65535&&(e-=65536,i+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),i+=String.fromCharCode(e),i};function n(e){var i;return e>=55296&&e<=57343||e>1114111?65533:(i=u.get(e))!==null&&i!==void 0?i:e}a.replaceCodePoint=n;function r(e){return(0,a.fromCodePoint)(n(e))}a.default=r}($R)),$R}var E7;function yh(){return E7||(E7=1,function(a){var t=kn&&kn.__createBinding||(Object.create?function(E,x,L,V){V===void 0&&(V=L);var $=Object.getOwnPropertyDescriptor(x,L);(!$||("get"in $?!x.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return x[L]}}),Object.defineProperty(E,V,$)}:function(E,x,L,V){V===void 0&&(V=L),E[V]=x[L]}),u=kn&&kn.__setModuleDefault||(Object.create?function(E,x){Object.defineProperty(E,"default",{enumerable:!0,value:x})}:function(E,x){E.default=x}),n=kn&&kn.__importStar||function(E){if(E&&E.__esModule)return E;var x={};if(E!=null)for(var L in E)L!=="default"&&Object.prototype.hasOwnProperty.call(E,L)&&t(x,E,L);return u(x,E),x},r=kn&&kn.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(a,"__esModule",{value:!0}),a.decodeXML=a.decodeHTMLStrict=a.decodeHTMLAttribute=a.decodeHTML=a.determineBranch=a.EntityDecoder=a.DecodingMode=a.BinTrieFlags=a.fromCodePoint=a.replaceCodePoint=a.decodeCodePoint=a.xmlDecodeTree=a.htmlDecodeTree=void 0;var e=r(gde());a.htmlDecodeTree=e.default;var i=r(vde());a.xmlDecodeTree=i.default;var o=n(A7());a.decodeCodePoint=o.default;var c=A7();Object.defineProperty(a,"replaceCodePoint",{enumerable:!0,get:function(){return c.replaceCodePoint}}),Object.defineProperty(a,"fromCodePoint",{enumerable:!0,get:function(){return c.fromCodePoint}});var s;(function(E){E[E.NUM=35]="NUM",E[E.SEMI=59]="SEMI",E[E.EQUALS=61]="EQUALS",E[E.ZERO=48]="ZERO",E[E.NINE=57]="NINE",E[E.LOWER_A=97]="LOWER_A",E[E.LOWER_F=102]="LOWER_F",E[E.LOWER_X=120]="LOWER_X",E[E.LOWER_Z=122]="LOWER_Z",E[E.UPPER_A=65]="UPPER_A",E[E.UPPER_F=70]="UPPER_F",E[E.UPPER_Z=90]="UPPER_Z"})(s||(s={}));var l=32,f;(function(E){E[E.VALUE_LENGTH=49152]="VALUE_LENGTH",E[E.BRANCH_LENGTH=16256]="BRANCH_LENGTH",E[E.JUMP_TABLE=127]="JUMP_TABLE"})(f=a.BinTrieFlags||(a.BinTrieFlags={}));function d(E){return E>=s.ZERO&&E<=s.NINE}function h(E){return E>=s.UPPER_A&&E<=s.UPPER_F||E>=s.LOWER_A&&E<=s.LOWER_F}function p(E){return E>=s.UPPER_A&&E<=s.UPPER_Z||E>=s.LOWER_A&&E<=s.LOWER_Z||d(E)}function b(E){return E===s.EQUALS||p(E)}var m;(function(E){E[E.EntityStart=0]="EntityStart",E[E.NumericStart=1]="NumericStart",E[E.NumericDecimal=2]="NumericDecimal",E[E.NumericHex=3]="NumericHex",E[E.NamedEntity=4]="NamedEntity"})(m||(m={}));var y;(function(E){E[E.Legacy=0]="Legacy",E[E.Strict=1]="Strict",E[E.Attribute=2]="Attribute"})(y=a.DecodingMode||(a.DecodingMode={}));var g=function(){function E(x,L,V){this.decodeTree=x,this.emitCodePoint=L,this.errors=V,this.state=m.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=y.Strict}return E.prototype.startEntity=function(x){this.decodeMode=x,this.state=m.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},E.prototype.write=function(x,L){switch(this.state){case m.EntityStart:return x.charCodeAt(L)===s.NUM?(this.state=m.NumericStart,this.consumed+=1,this.stateNumericStart(x,L+1)):(this.state=m.NamedEntity,this.stateNamedEntity(x,L));case m.NumericStart:return this.stateNumericStart(x,L);case m.NumericDecimal:return this.stateNumericDecimal(x,L);case m.NumericHex:return this.stateNumericHex(x,L);case m.NamedEntity:return this.stateNamedEntity(x,L)}},E.prototype.stateNumericStart=function(x,L){return L>=x.length?-1:(x.charCodeAt(L)|l)===s.LOWER_X?(this.state=m.NumericHex,this.consumed+=1,this.stateNumericHex(x,L+1)):(this.state=m.NumericDecimal,this.stateNumericDecimal(x,L))},E.prototype.addToNumericResult=function(x,L,V,$){if(L!==V){var Q=V-L;this.result=this.result*Math.pow($,Q)+parseInt(x.substr(L,Q),$),this.consumed+=Q}},E.prototype.stateNumericHex=function(x,L){for(var V=L;L<x.length;){var $=x.charCodeAt(L);if(d($)||h($))L+=1;else return this.addToNumericResult(x,V,L,16),this.emitNumericEntity($,3)}return this.addToNumericResult(x,V,L,16),-1},E.prototype.stateNumericDecimal=function(x,L){for(var V=L;L<x.length;){var $=x.charCodeAt(L);if(d($))L+=1;else return this.addToNumericResult(x,V,L,10),this.emitNumericEntity($,2)}return this.addToNumericResult(x,V,L,10),-1},E.prototype.emitNumericEntity=function(x,L){var V;if(this.consumed<=L)return(V=this.errors)===null||V===void 0||V.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(x===s.SEMI)this.consumed+=1;else if(this.decodeMode===y.Strict)return 0;return this.emitCodePoint((0,o.replaceCodePoint)(this.result),this.consumed),this.errors&&(x!==s.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},E.prototype.stateNamedEntity=function(x,L){for(var V=this.decodeTree,$=V[this.treeIndex],Q=($&f.VALUE_LENGTH)>>14;L<x.length;L++,this.excess++){var ie=x.charCodeAt(L);if(this.treeIndex=v(V,$,this.treeIndex+Math.max(1,Q),ie),this.treeIndex<0)return this.result===0||this.decodeMode===y.Attribute&&(Q===0||b(ie))?0:this.emitNotTerminatedNamedEntity();if($=V[this.treeIndex],Q=($&f.VALUE_LENGTH)>>14,Q!==0){if(ie===s.SEMI)return this.emitNamedEntityData(this.treeIndex,Q,this.consumed+this.excess);this.decodeMode!==y.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},E.prototype.emitNotTerminatedNamedEntity=function(){var x,L=this,V=L.result,$=L.decodeTree,Q=($[V]&f.VALUE_LENGTH)>>14;return this.emitNamedEntityData(V,Q,this.consumed),(x=this.errors)===null||x===void 0||x.missingSemicolonAfterCharacterReference(),this.consumed},E.prototype.emitNamedEntityData=function(x,L,V){var $=this.decodeTree;return this.emitCodePoint(L===1?$[x]&~f.VALUE_LENGTH:$[x+1],V),L===3&&this.emitCodePoint($[x+2],V),V},E.prototype.end=function(){var x;switch(this.state){case m.NamedEntity:return this.result!==0&&(this.decodeMode!==y.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case m.NumericDecimal:return this.emitNumericEntity(0,2);case m.NumericHex:return this.emitNumericEntity(0,3);case m.NumericStart:return(x=this.errors)===null||x===void 0||x.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case m.EntityStart:return 0}},E}();a.EntityDecoder=g;function _(E){var x="",L=new g(E,function(V){return x+=(0,o.fromCodePoint)(V)});return function($,Q){for(var ie=0,ue=0;(ue=$.indexOf("&",ue))>=0;){x+=$.slice(ie,ue),L.startEntity(Q);var pe=L.write($,ue+1);if(pe<0){ie=ue+L.end();break}ie=ue+pe,ue=pe===0?ie+1:ie}var X=x+$.slice(ie);return x="",X}}function v(E,x,L,V){var $=(x&f.BRANCH_LENGTH)>>7,Q=x&f.JUMP_TABLE;if($===0)return Q!==0&&V===Q?L:-1;if(Q){var ie=V-Q;return ie<0||ie>=$?-1:E[L+ie]-1}for(var ue=L,pe=ue+$-1;ue<=pe;){var X=ue+pe>>>1,me=E[X];if(me<V)ue=X+1;else if(me>V)pe=X-1;else return E[X+$]}return-1}a.determineBranch=v;var T=_(e.default),w=_(i.default);function A(E,x){return x===void 0&&(x=y.Legacy),T(E,x)}a.decodeHTML=A;function M(E){return T(E,y.Attribute)}a.decodeHTMLAttribute=M;function F(E){return T(E,y.Strict)}a.decodeHTMLStrict=F;function O(E){return w(E,y.Strict)}a.decodeXML=O}(kn)),kn}var x7;function I7(){return x7||(x7=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.QuoteType=void 0;var t=yh(),u;(function(d){d[d.Tab=9]="Tab",d[d.NewLine=10]="NewLine",d[d.FormFeed=12]="FormFeed",d[d.CarriageReturn=13]="CarriageReturn",d[d.Space=32]="Space",d[d.ExclamationMark=33]="ExclamationMark",d[d.Number=35]="Number",d[d.Amp=38]="Amp",d[d.SingleQuote=39]="SingleQuote",d[d.DoubleQuote=34]="DoubleQuote",d[d.Dash=45]="Dash",d[d.Slash=47]="Slash",d[d.Zero=48]="Zero",d[d.Nine=57]="Nine",d[d.Semi=59]="Semi",d[d.Lt=60]="Lt",d[d.Eq=61]="Eq",d[d.Gt=62]="Gt",d[d.Questionmark=63]="Questionmark",d[d.UpperA=65]="UpperA",d[d.LowerA=97]="LowerA",d[d.UpperF=70]="UpperF",d[d.LowerF=102]="LowerF",d[d.UpperZ=90]="UpperZ",d[d.LowerZ=122]="LowerZ",d[d.LowerX=120]="LowerX",d[d.OpeningSquareBracket=91]="OpeningSquareBracket"})(u||(u={}));var n;(function(d){d[d.Text=1]="Text",d[d.BeforeTagName=2]="BeforeTagName",d[d.InTagName=3]="InTagName",d[d.InSelfClosingTag=4]="InSelfClosingTag",d[d.BeforeClosingTagName=5]="BeforeClosingTagName",d[d.InClosingTagName=6]="InClosingTagName",d[d.AfterClosingTagName=7]="AfterClosingTagName",d[d.BeforeAttributeName=8]="BeforeAttributeName",d[d.InAttributeName=9]="InAttributeName",d[d.AfterAttributeName=10]="AfterAttributeName",d[d.BeforeAttributeValue=11]="BeforeAttributeValue",d[d.InAttributeValueDq=12]="InAttributeValueDq",d[d.InAttributeValueSq=13]="InAttributeValueSq",d[d.InAttributeValueNq=14]="InAttributeValueNq",d[d.BeforeDeclaration=15]="BeforeDeclaration",d[d.InDeclaration=16]="InDeclaration",d[d.InProcessingInstruction=17]="InProcessingInstruction",d[d.BeforeComment=18]="BeforeComment",d[d.CDATASequence=19]="CDATASequence",d[d.InSpecialComment=20]="InSpecialComment",d[d.InCommentLike=21]="InCommentLike",d[d.BeforeSpecialS=22]="BeforeSpecialS",d[d.SpecialStartSequence=23]="SpecialStartSequence",d[d.InSpecialTag=24]="InSpecialTag",d[d.BeforeEntity=25]="BeforeEntity",d[d.BeforeNumericEntity=26]="BeforeNumericEntity",d[d.InNamedEntity=27]="InNamedEntity",d[d.InNumericEntity=28]="InNumericEntity",d[d.InHexEntity=29]="InHexEntity"})(n||(n={}));function r(d){return d===u.Space||d===u.NewLine||d===u.Tab||d===u.FormFeed||d===u.CarriageReturn}function e(d){return d===u.Slash||d===u.Gt||r(d)}function i(d){return d>=u.Zero&&d<=u.Nine}function o(d){return d>=u.LowerA&&d<=u.LowerZ||d>=u.UpperA&&d<=u.UpperZ}function c(d){return d>=u.UpperA&&d<=u.UpperF||d>=u.LowerA&&d<=u.LowerF}var s;(function(d){d[d.NoValue=0]="NoValue",d[d.Unquoted=1]="Unquoted",d[d.Single=2]="Single",d[d.Double=3]="Double"})(s=a.QuoteType||(a.QuoteType={}));var l={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},f=function(){function d(h,p){var b=h.xmlMode,m=b===void 0?!1:b,y=h.decodeEntities,g=y===void 0?!0:y;this.cbs=p,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=m,this.decodeEntities=g,this.entityTrie=m?t.xmlDecodeTree:t.htmlDecodeTree}return d.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},d.prototype.write=function(h){this.offset+=this.buffer.length,this.buffer=h,this.parse()},d.prototype.end=function(){this.running&&this.finish()},d.prototype.pause=function(){this.running=!1},d.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},d.prototype.getIndex=function(){return this.index},d.prototype.getSectionStart=function(){return this.sectionStart},d.prototype.stateText=function(h){h===u.Lt||!this.decodeEntities&&this.fastForwardTo(u.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&h===u.Amp&&(this.state=n.BeforeEntity)},d.prototype.stateSpecialStartSequence=function(h){var p=this.sequenceIndex===this.currentSequence.length,b=p?e(h):(h|32)===this.currentSequence[this.sequenceIndex];if(!b)this.isSpecial=!1;else if(!p){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(h)},d.prototype.stateInSpecialTag=function(h){if(this.sequenceIndex===this.currentSequence.length){if(h===u.Gt||r(h)){var p=this.index-this.currentSequence.length;if(this.sectionStart<p){var b=this.index;this.index=p,this.cbs.ontext(this.sectionStart,p),this.index=b}this.isSpecial=!1,this.sectionStart=p+2,this.stateInClosingTagName(h);return}this.sequenceIndex=0}(h|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===l.TitleEnd?this.decodeEntities&&h===u.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(u.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(h===u.Lt)},d.prototype.stateCDATASequence=function(h){h===l.Cdata[this.sequenceIndex]?++this.sequenceIndex===l.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=l.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(h))},d.prototype.fastForwardTo=function(h){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===h)return!0;return this.index=this.buffer.length+this.offset-1,!1},d.prototype.stateInCommentLike=function(h){h===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):h!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},d.prototype.isTagStartChar=function(h){return this.xmlMode?!e(h):o(h)},d.prototype.startSpecial=function(h,p){this.isSpecial=!0,this.currentSequence=h,this.sequenceIndex=p,this.state=n.SpecialStartSequence},d.prototype.stateBeforeTagName=function(h){if(h===u.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(h===u.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(h)){var p=h|32;this.sectionStart=this.index,!this.xmlMode&&p===l.TitleEnd[2]?this.startSpecial(l.TitleEnd,3):this.state=!this.xmlMode&&p===l.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else h===u.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(h))},d.prototype.stateInTagName=function(h){e(h)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h))},d.prototype.stateBeforeClosingTagName=function(h){r(h)||(h===u.Gt?this.state=n.Text:(this.state=this.isTagStartChar(h)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},d.prototype.stateInClosingTagName=function(h){(h===u.Gt||r(h))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(h))},d.prototype.stateAfterClosingTagName=function(h){(h===u.Gt||this.fastForwardTo(u.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeAttributeName=function(h){h===u.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):h===u.Slash?this.state=n.InSelfClosingTag:r(h)||(this.state=n.InAttributeName,this.sectionStart=this.index)},d.prototype.stateInSelfClosingTag=function(h){h===u.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):r(h)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h))},d.prototype.stateInAttributeName=function(h){(h===u.Eq||e(h))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(h))},d.prototype.stateAfterAttributeName=function(h){h===u.Eq?this.state=n.BeforeAttributeValue:h===u.Slash||h===u.Gt?(this.cbs.onattribend(s.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h)):r(h)||(this.cbs.onattribend(s.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},d.prototype.stateBeforeAttributeValue=function(h){h===u.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):h===u.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):r(h)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(h))},d.prototype.handleInAttributeValue=function(h,p){h===p||!this.decodeEntities&&this.fastForwardTo(p)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(p===u.DoubleQuote?s.Double:s.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&h===u.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},d.prototype.stateInAttributeValueDoubleQuotes=function(h){this.handleInAttributeValue(h,u.DoubleQuote)},d.prototype.stateInAttributeValueSingleQuotes=function(h){this.handleInAttributeValue(h,u.SingleQuote)},d.prototype.stateInAttributeValueNoQuotes=function(h){r(h)||h===u.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(s.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h)):this.decodeEntities&&h===u.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},d.prototype.stateBeforeDeclaration=function(h){h===u.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=h===u.Dash?n.BeforeComment:n.InDeclaration},d.prototype.stateInDeclaration=function(h){(h===u.Gt||this.fastForwardTo(u.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateInProcessingInstruction=function(h){(h===u.Gt||this.fastForwardTo(u.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeComment=function(h){h===u.Dash?(this.state=n.InCommentLike,this.currentSequence=l.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},d.prototype.stateInSpecialComment=function(h){(h===u.Gt||this.fastForwardTo(u.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeSpecialS=function(h){var p=h|32;p===l.ScriptEnd[3]?this.startSpecial(l.ScriptEnd,4):p===l.StyleEnd[3]?this.startSpecial(l.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(h))},d.prototype.stateBeforeEntity=function(h){this.entityExcess=1,this.entityResult=0,h===u.Number?this.state=n.BeforeNumericEntity:h===u.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(h))},d.prototype.stateInNamedEntity=function(h){if(this.entityExcess+=1,this.trieIndex=(0,t.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,h),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var p=this.trieCurrent&t.BinTrieFlags.VALUE_LENGTH;if(p){var b=(p>>14)-1;if(!this.allowLegacyEntity()&&h!==u.Semi)this.trieIndex+=b;else{var m=this.index-this.entityExcess+1;m>this.sectionStart&&this.emitPartial(this.sectionStart,m),this.entityResult=this.trieIndex,this.trieIndex+=b,this.entityExcess=0,this.sectionStart=this.index+1,b===0&&this.emitNamedEntity()}}},d.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var h=(this.entityTrie[this.entityResult]&t.BinTrieFlags.VALUE_LENGTH)>>14;switch(h){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~t.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},d.prototype.stateBeforeNumericEntity=function(h){(h|32)===u.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(h))},d.prototype.emitNumericEntity=function(h){var p=this.index-this.entityExcess-1,b=p+2+ +(this.state===n.InHexEntity);b!==this.index&&(p>this.sectionStart&&this.emitPartial(this.sectionStart,p),this.sectionStart=this.index+Number(h),this.emitCodePoint((0,t.replaceCodePoint)(this.entityResult))),this.state=this.baseState},d.prototype.stateInNumericEntity=function(h){h===u.Semi?this.emitNumericEntity(!0):i(h)?(this.entityResult=this.entityResult*10+(h-u.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},d.prototype.stateInHexEntity=function(h){h===u.Semi?this.emitNumericEntity(!0):i(h)?(this.entityResult=this.entityResult*16+(h-u.Zero),this.entityExcess++):c(h)?(this.entityResult=this.entityResult*16+((h|32)-u.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},d.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},d.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},d.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},d.prototype.parse=function(){for(;this.shouldContinue();){var h=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(h);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(h);break}case n.InSpecialTag:{this.stateInSpecialTag(h);break}case n.CDATASequence:{this.stateCDATASequence(h);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(h);break}case n.InAttributeName:{this.stateInAttributeName(h);break}case n.InCommentLike:{this.stateInCommentLike(h);break}case n.InSpecialComment:{this.stateInSpecialComment(h);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(h);break}case n.InTagName:{this.stateInTagName(h);break}case n.InClosingTagName:{this.stateInClosingTagName(h);break}case n.BeforeTagName:{this.stateBeforeTagName(h);break}case n.AfterAttributeName:{this.stateAfterAttributeName(h);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(h);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(h);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(h);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(h);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(h);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(h);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(h);break}case n.InDeclaration:{this.stateInDeclaration(h);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(h);break}case n.BeforeComment:{this.stateBeforeComment(h);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(h);break}case n.InNamedEntity:{this.stateInNamedEntity(h);break}case n.BeforeEntity:{this.stateBeforeEntity(h);break}case n.InHexEntity:{this.stateInHexEntity(h);break}case n.InNumericEntity:{this.stateInNumericEntity(h);break}default:this.stateBeforeNumericEntity(h)}this.index++}this.cleanup()},d.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},d.prototype.handleTrailingData=function(){var h=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,h,0):this.cbs.oncomment(this.sectionStart,h,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,h)},d.prototype.emitPartial=function(h,p){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(h,p):this.cbs.ontext(h,p)},d.prototype.emitCodePoint=function(h){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(h):this.cbs.ontextentity(h)},d}();a.default=f}(BR)),BR}var R7;function N7(){if(R7)return Gn;R7=1;var a=Gn&&Gn.__createBinding||(Object.create?function(m,y,g,_){_===void 0&&(_=g);var v=Object.getOwnPropertyDescriptor(y,g);(!v||("get"in v?!y.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(m,_,v)}:function(m,y,g,_){_===void 0&&(_=g),m[_]=y[g]}),t=Gn&&Gn.__setModuleDefault||(Object.create?function(m,y){Object.defineProperty(m,"default",{enumerable:!0,value:y})}:function(m,y){m.default=y}),u=Gn&&Gn.__importStar||function(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var g in m)g!=="default"&&Object.prototype.hasOwnProperty.call(m,g)&&a(y,m,g);return t(y,m),y};Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.Parser=void 0;var n=u(I7()),r=yh(),e=new Set(["input","option","optgroup","select","button","datalist","textarea"]),i=new Set(["p"]),o=new Set(["thead","tbody"]),c=new Set(["dd","dt"]),s=new Set(["rt","rp"]),l=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",i],["h1",i],["h2",i],["h3",i],["h4",i],["h5",i],["h6",i],["select",e],["input",e],["output",e],["button",e],["datalist",e],["textarea",e],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",c],["dt",c],["address",i],["article",i],["aside",i],["blockquote",i],["details",i],["div",i],["dl",i],["fieldset",i],["figcaption",i],["figure",i],["footer",i],["form",i],["header",i],["hr",i],["main",i],["nav",i],["ol",i],["pre",i],["section",i],["table",i],["ul",i],["rt",s],["rp",s],["tbody",o],["tfoot",o]]),f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),d=new Set(["math","svg"]),h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),p=/\s|\//,b=function(){function m(y,g){g===void 0&&(g={});var _,v,T,w,A;this.options=g,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=y??{},this.lowerCaseTagNames=(_=g.lowerCaseTags)!==null&&_!==void 0?_:!g.xmlMode,this.lowerCaseAttributeNames=(v=g.lowerCaseAttributeNames)!==null&&v!==void 0?v:!g.xmlMode,this.tokenizer=new((T=g.Tokenizer)!==null&&T!==void 0?T:n.default)(this.options,this),(A=(w=this.cbs).onparserinit)===null||A===void 0||A.call(w,this)}return m.prototype.ontext=function(y,g){var _,v,T=this.getSlice(y,g);this.endIndex=g-1,(v=(_=this.cbs).ontext)===null||v===void 0||v.call(_,T),this.startIndex=g},m.prototype.ontextentity=function(y){var g,_,v=this.tokenizer.getSectionStart();this.endIndex=v-1,(_=(g=this.cbs).ontext)===null||_===void 0||_.call(g,(0,r.fromCodePoint)(y)),this.startIndex=v},m.prototype.isVoidElement=function(y){return!this.options.xmlMode&&f.has(y)},m.prototype.onopentagname=function(y,g){this.endIndex=g;var _=this.getSlice(y,g);this.lowerCaseTagNames&&(_=_.toLowerCase()),this.emitOpenTag(_)},m.prototype.emitOpenTag=function(y){var g,_,v,T;this.openTagStart=this.startIndex,this.tagname=y;var w=!this.options.xmlMode&&l.get(y);if(w)for(;this.stack.length>0&&w.has(this.stack[this.stack.length-1]);){var A=this.stack.pop();(_=(g=this.cbs).onclosetag)===null||_===void 0||_.call(g,A,!0)}this.isVoidElement(y)||(this.stack.push(y),d.has(y)?this.foreignContext.push(!0):h.has(y)&&this.foreignContext.push(!1)),(T=(v=this.cbs).onopentagname)===null||T===void 0||T.call(v,y),this.cbs.onopentag&&(this.attribs={})},m.prototype.endOpenTag=function(y){var g,_;this.startIndex=this.openTagStart,this.attribs&&((_=(g=this.cbs).onopentag)===null||_===void 0||_.call(g,this.tagname,this.attribs,y),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},m.prototype.onopentagend=function(y){this.endIndex=y,this.endOpenTag(!1),this.startIndex=y+1},m.prototype.onclosetag=function(y,g){var _,v,T,w,A,M;this.endIndex=g;var F=this.getSlice(y,g);if(this.lowerCaseTagNames&&(F=F.toLowerCase()),(d.has(F)||h.has(F))&&this.foreignContext.pop(),this.isVoidElement(F))!this.options.xmlMode&&F==="br"&&((v=(_=this.cbs).onopentagname)===null||v===void 0||v.call(_,"br"),(w=(T=this.cbs).onopentag)===null||w===void 0||w.call(T,"br",{},!0),(M=(A=this.cbs).onclosetag)===null||M===void 0||M.call(A,"br",!1));else{var O=this.stack.lastIndexOf(F);if(O!==-1)if(this.cbs.onclosetag)for(var E=this.stack.length-O;E--;)this.cbs.onclosetag(this.stack.pop(),E!==0);else this.stack.length=O;else!this.options.xmlMode&&F==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=g+1},m.prototype.onselfclosingtag=function(y){this.endIndex=y,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=y+1):this.onopentagend(y)},m.prototype.closeCurrentTag=function(y){var g,_,v=this.tagname;this.endOpenTag(y),this.stack[this.stack.length-1]===v&&((_=(g=this.cbs).onclosetag)===null||_===void 0||_.call(g,v,!y),this.stack.pop())},m.prototype.onattribname=function(y,g){this.startIndex=y;var _=this.getSlice(y,g);this.attribname=this.lowerCaseAttributeNames?_.toLowerCase():_},m.prototype.onattribdata=function(y,g){this.attribvalue+=this.getSlice(y,g)},m.prototype.onattribentity=function(y){this.attribvalue+=(0,r.fromCodePoint)(y)},m.prototype.onattribend=function(y,g){var _,v;this.endIndex=g,(v=(_=this.cbs).onattribute)===null||v===void 0||v.call(_,this.attribname,this.attribvalue,y===n.QuoteType.Double?'"':y===n.QuoteType.Single?"'":y===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},m.prototype.getInstructionName=function(y){var g=y.search(p),_=g<0?y:y.substr(0,g);return this.lowerCaseTagNames&&(_=_.toLowerCase()),_},m.prototype.ondeclaration=function(y,g){this.endIndex=g;var _=this.getSlice(y,g);if(this.cbs.onprocessinginstruction){var v=this.getInstructionName(_);this.cbs.onprocessinginstruction("!".concat(v),"!".concat(_))}this.startIndex=g+1},m.prototype.onprocessinginstruction=function(y,g){this.endIndex=g;var _=this.getSlice(y,g);if(this.cbs.onprocessinginstruction){var v=this.getInstructionName(_);this.cbs.onprocessinginstruction("?".concat(v),"?".concat(_))}this.startIndex=g+1},m.prototype.oncomment=function(y,g,_){var v,T,w,A;this.endIndex=g,(T=(v=this.cbs).oncomment)===null||T===void 0||T.call(v,this.getSlice(y,g-_)),(A=(w=this.cbs).oncommentend)===null||A===void 0||A.call(w),this.startIndex=g+1},m.prototype.oncdata=function(y,g,_){var v,T,w,A,M,F,O,E,x,L;this.endIndex=g;var V=this.getSlice(y,g-_);this.options.xmlMode||this.options.recognizeCDATA?((T=(v=this.cbs).oncdatastart)===null||T===void 0||T.call(v),(A=(w=this.cbs).ontext)===null||A===void 0||A.call(w,V),(F=(M=this.cbs).oncdataend)===null||F===void 0||F.call(M)):((E=(O=this.cbs).oncomment)===null||E===void 0||E.call(O,"[CDATA[".concat(V,"]]")),(L=(x=this.cbs).oncommentend)===null||L===void 0||L.call(x)),this.startIndex=g+1},m.prototype.onend=function(){var y,g;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var _=this.stack.length;_>0;this.cbs.onclosetag(this.stack[--_],!0));}(g=(y=this.cbs).onend)===null||g===void 0||g.call(y)},m.prototype.reset=function(){var y,g,_,v;(g=(y=this.cbs).onreset)===null||g===void 0||g.call(y),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(v=(_=this.cbs).onparserinit)===null||v===void 0||v.call(_,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},m.prototype.parseComplete=function(y){this.reset(),this.end(y)},m.prototype.getSlice=function(y,g){for(;y-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var _=this.buffers[0].slice(y-this.bufferOffset,g-this.bufferOffset);g-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),_+=this.buffers[0].slice(0,g-this.bufferOffset);return _},m.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},m.prototype.write=function(y){var g,_;if(this.ended){(_=(g=this.cbs).onerror)===null||_===void 0||_.call(g,new Error(".write() after done!"));return}this.buffers.push(y),this.tokenizer.running&&(this.tokenizer.write(y),this.writeIndex++)},m.prototype.end=function(y){var g,_;if(this.ended){(_=(g=this.cbs).onerror)===null||_===void 0||_.call(g,new Error(".end() after done!"));return}y&&this.write(y),this.ended=!0,this.tokenizer.end()},m.prototype.pause=function(){this.tokenizer.pause()},m.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},m.prototype.parseChunk=function(y){this.write(y)},m.prototype.done=function(y){this.end(y)},m}();return Gn.Parser=b,Gn}var Go={},VR={},F7;function ko(){return F7||(F7=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Doctype=a.CDATA=a.Tag=a.Style=a.Script=a.Comment=a.Directive=a.Text=a.Root=a.isTag=a.ElementType=void 0;var t;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(t=a.ElementType||(a.ElementType={}));function u(n){return n.type===t.Tag||n.type===t.Script||n.type===t.Style}a.isTag=u,a.Root=t.Root,a.Text=t.Text,a.Directive=t.Directive,a.Comment=t.Comment,a.Script=t.Script,a.Style=t.Style,a.Tag=t.Tag,a.CDATA=t.CDATA,a.Doctype=t.Doctype}(VR)),VR}var wt={},D7;function P7(){if(D7)return wt;D7=1;var a=wt&&wt.__extends||function(){var T=function(w,A){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,F){M.__proto__=F}||function(M,F){for(var O in F)Object.prototype.hasOwnProperty.call(F,O)&&(M[O]=F[O])},T(w,A)};return function(w,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");T(w,A);function M(){this.constructor=w}w.prototype=A===null?Object.create(A):(M.prototype=A.prototype,new M)}}(),t=wt&&wt.__assign||function(){return t=Object.assign||function(T){for(var w,A=1,M=arguments.length;A<M;A++){w=arguments[A];for(var F in w)Object.prototype.hasOwnProperty.call(w,F)&&(T[F]=w[F])}return T},t.apply(this,arguments)};Object.defineProperty(wt,"__esModule",{value:!0}),wt.cloneNode=wt.hasChildren=wt.isDocument=wt.isDirective=wt.isComment=wt.isText=wt.isCDATA=wt.isTag=wt.Element=wt.Document=wt.CDATA=wt.NodeWithChildren=wt.ProcessingInstruction=wt.Comment=wt.Text=wt.DataNode=wt.Node=void 0;var u=ko(),n=function(){function T(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(T.prototype,"parentNode",{get:function(){return this.parent},set:function(w){this.parent=w},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"previousSibling",{get:function(){return this.prev},set:function(w){this.prev=w},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"nextSibling",{get:function(){return this.next},set:function(w){this.next=w},enumerable:!1,configurable:!0}),T.prototype.cloneNode=function(w){return w===void 0&&(w=!1),_(this,w)},T}();wt.Node=n;var r=function(T){a(w,T);function w(A){var M=T.call(this)||this;return M.data=A,M}return Object.defineProperty(w.prototype,"nodeValue",{get:function(){return this.data},set:function(A){this.data=A},enumerable:!1,configurable:!0}),w}(n);wt.DataNode=r;var e=function(T){a(w,T);function w(){var A=T!==null&&T.apply(this,arguments)||this;return A.type=u.ElementType.Text,A}return Object.defineProperty(w.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),w}(r);wt.Text=e;var i=function(T){a(w,T);function w(){var A=T!==null&&T.apply(this,arguments)||this;return A.type=u.ElementType.Comment,A}return Object.defineProperty(w.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),w}(r);wt.Comment=i;var o=function(T){a(w,T);function w(A,M){var F=T.call(this,M)||this;return F.name=A,F.type=u.ElementType.Directive,F}return Object.defineProperty(w.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),w}(r);wt.ProcessingInstruction=o;var c=function(T){a(w,T);function w(A){var M=T.call(this)||this;return M.children=A,M}return Object.defineProperty(w.prototype,"firstChild",{get:function(){var A;return(A=this.children[0])!==null&&A!==void 0?A:null},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"childNodes",{get:function(){return this.children},set:function(A){this.children=A},enumerable:!1,configurable:!0}),w}(n);wt.NodeWithChildren=c;var s=function(T){a(w,T);function w(){var A=T!==null&&T.apply(this,arguments)||this;return A.type=u.ElementType.CDATA,A}return Object.defineProperty(w.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),w}(c);wt.CDATA=s;var l=function(T){a(w,T);function w(){var A=T!==null&&T.apply(this,arguments)||this;return A.type=u.ElementType.Root,A}return Object.defineProperty(w.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),w}(c);wt.Document=l;var f=function(T){a(w,T);function w(A,M,F,O){F===void 0&&(F=[]),O===void 0&&(O=A==="script"?u.ElementType.Script:A==="style"?u.ElementType.Style:u.ElementType.Tag);var E=T.call(this,F)||this;return E.name=A,E.attribs=M,E.type=O,E}return Object.defineProperty(w.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"tagName",{get:function(){return this.name},set:function(A){this.name=A},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"attributes",{get:function(){var A=this;return Object.keys(this.attribs).map(function(M){var F,O;return{name:M,value:A.attribs[M],namespace:(F=A["x-attribsNamespace"])===null||F===void 0?void 0:F[M],prefix:(O=A["x-attribsPrefix"])===null||O===void 0?void 0:O[M]}})},enumerable:!1,configurable:!0}),w}(c);wt.Element=f;function d(T){return(0,u.isTag)(T)}wt.isTag=d;function h(T){return T.type===u.ElementType.CDATA}wt.isCDATA=h;function p(T){return T.type===u.ElementType.Text}wt.isText=p;function b(T){return T.type===u.ElementType.Comment}wt.isComment=b;function m(T){return T.type===u.ElementType.Directive}wt.isDirective=m;function y(T){return T.type===u.ElementType.Root}wt.isDocument=y;function g(T){return Object.prototype.hasOwnProperty.call(T,"children")}wt.hasChildren=g;function _(T,w){w===void 0&&(w=!1);var A;if(p(T))A=new e(T.data);else if(b(T))A=new i(T.data);else if(d(T)){var M=w?v(T.children):[],F=new f(T.name,t({},T.attribs),M);M.forEach(function(L){return L.parent=F}),T.namespace!=null&&(F.namespace=T.namespace),T["x-attribsNamespace"]&&(F["x-attribsNamespace"]=t({},T["x-attribsNamespace"])),T["x-attribsPrefix"]&&(F["x-attribsPrefix"]=t({},T["x-attribsPrefix"])),A=F}else if(h(T)){var M=w?v(T.children):[],O=new s(M);M.forEach(function(V){return V.parent=O}),A=O}else if(y(T)){var M=w?v(T.children):[],E=new l(M);M.forEach(function(V){return V.parent=E}),T["x-mode"]&&(E["x-mode"]=T["x-mode"]),A=E}else if(m(T)){var x=new o(T.name,T.data);T["x-name"]!=null&&(x["x-name"]=T["x-name"],x["x-publicId"]=T["x-publicId"],x["x-systemId"]=T["x-systemId"]),A=x}else throw new Error("Not implemented yet: ".concat(T.type));return A.startIndex=T.startIndex,A.endIndex=T.endIndex,T.sourceCodeLocation!=null&&(A.sourceCodeLocation=T.sourceCodeLocation),A}wt.cloneNode=_;function v(T){for(var w=T.map(function(M){return _(M,!0)}),A=1;A<w.length;A++)w[A].prev=w[A-1],w[A-1].next=w[A];return w}return wt}var L7;function In(){return L7||(L7=1,function(a){var t=Go&&Go.__createBinding||(Object.create?function(o,c,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(c,s);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[s]}}),Object.defineProperty(o,l,f)}:function(o,c,s,l){l===void 0&&(l=s),o[l]=c[s]}),u=Go&&Go.__exportStar||function(o,c){for(var s in o)s!=="default"&&!Object.prototype.hasOwnProperty.call(c,s)&&t(c,o,s)};Object.defineProperty(a,"__esModule",{value:!0}),a.DomHandler=void 0;var n=ko(),r=P7();u(P7(),a);var e={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},i=function(){function o(c,s,l){this.dom=[],this.root=new r.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof s=="function"&&(l=s,s=e),typeof c=="object"&&(s=c,c=void 0),this.callback=c??null,this.options=s??e,this.elementCB=l??null}return o.prototype.onparserinit=function(c){this.parser=c},o.prototype.onreset=function(){this.dom=[],this.root=new r.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},o.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},o.prototype.onerror=function(c){this.handleCallback(c)},o.prototype.onclosetag=function(){this.lastNode=null;var c=this.tagStack.pop();this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(c)},o.prototype.onopentag=function(c,s){var l=this.options.xmlMode?n.ElementType.Tag:void 0,f=new r.Element(c,s,void 0,l);this.addNode(f),this.tagStack.push(f)},o.prototype.ontext=function(c){var s=this.lastNode;if(s&&s.type===n.ElementType.Text)s.data+=c,this.options.withEndIndices&&(s.endIndex=this.parser.endIndex);else{var l=new r.Text(c);this.addNode(l),this.lastNode=l}},o.prototype.oncomment=function(c){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=c;return}var s=new r.Comment(c);this.addNode(s),this.lastNode=s},o.prototype.oncommentend=function(){this.lastNode=null},o.prototype.oncdatastart=function(){var c=new r.Text(""),s=new r.CDATA([c]);this.addNode(s),c.parent=s,this.lastNode=c},o.prototype.oncdataend=function(){this.lastNode=null},o.prototype.onprocessinginstruction=function(c,s){var l=new r.ProcessingInstruction(c,s);this.addNode(l)},o.prototype.handleCallback=function(c){if(typeof this.callback=="function")this.callback(c,this.dom);else if(c)throw c},o.prototype.addNode=function(c){var s=this.tagStack[this.tagStack.length-1],l=s.children[s.children.length-1];this.options.withStartIndices&&(c.startIndex=this.parser.startIndex),this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),s.children.push(c),l&&(c.prev=l,l.next=c),c.parent=s,this.lastNode=null},o}();a.DomHandler=i,a.default=i}(Go)),Go}var zo={},yi={},an={},UR={},Ni={},KO={},j7;function Tde(){if(j7)return KO;j7=1,Object.defineProperty(KO,"__esModule",{value:!0});function a(t){for(var u=1;u<t.length;u++)t[u][0]+=t[u-1][0]+1;return t}return KO.default=new Map(a([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(a([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(a([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(a([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),KO}var QR={},M7;function HR(){return M7||(M7=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.escapeText=a.escapeAttribute=a.escapeUTF8=a.escape=a.encodeXML=a.getCodePoint=a.xmlReplacer=void 0,a.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var t=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);a.getCodePoint=String.prototype.codePointAt!=null?function(r,e){return r.codePointAt(e)}:function(r,e){return(r.charCodeAt(e)&64512)===55296?(r.charCodeAt(e)-55296)*1024+r.charCodeAt(e+1)-56320+65536:r.charCodeAt(e)};function u(r){for(var e="",i=0,o;(o=a.xmlReplacer.exec(r))!==null;){var c=o.index,s=r.charCodeAt(c),l=t.get(s);l!==void 0?(e+=r.substring(i,c)+l,i=c+1):(e+="".concat(r.substring(i,c),"&#x").concat((0,a.getCodePoint)(r,c).toString(16),";"),i=a.xmlReplacer.lastIndex+=+((s&64512)===55296))}return e+r.substr(i)}a.encodeXML=u,a.escape=u;function n(r,e){return function(o){for(var c,s=0,l="";c=r.exec(o);)s!==c.index&&(l+=o.substring(s,c.index)),l+=e.get(c[0].charCodeAt(0)),s=c.index+1;return l+o.substring(s)}}a.escapeUTF8=n(/[&<>'"]/g,t),a.escapeAttribute=n(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),a.escapeText=n(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))}(QR)),QR}var q7;function C7(){if(q7)return Ni;q7=1;var a=Ni&&Ni.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.encodeNonAsciiHTML=Ni.encodeHTML=void 0;var t=a(Tde()),u=HR(),n=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function r(o){return i(n,o)}Ni.encodeHTML=r;function e(o){return i(u.xmlReplacer,o)}Ni.encodeNonAsciiHTML=e;function i(o,c){for(var s="",l=0,f;(f=o.exec(c))!==null;){var d=f.index;s+=c.substring(l,d);var h=c.charCodeAt(d),p=t.default.get(h);if(typeof p=="object"){if(d+1<c.length){var b=c.charCodeAt(d+1),m=typeof p.n=="number"?p.n===b?p.o:void 0:p.n.get(b);if(m!==void 0){s+=m,l=o.lastIndex+=1;continue}}p=p.v}if(p!==void 0)s+=p,l=d+1;else{var y=(0,u.getCodePoint)(c,d);s+="&#x".concat(y.toString(16),";"),l=o.lastIndex+=+(y!==h)}}return s+c.substr(l)}return Ni}var B7;function wde(){return B7||(B7=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.decodeXMLStrict=a.decodeHTML5Strict=a.decodeHTML4Strict=a.decodeHTML5=a.decodeHTML4=a.decodeHTMLAttribute=a.decodeHTMLStrict=a.decodeHTML=a.decodeXML=a.DecodingMode=a.EntityDecoder=a.encodeHTML5=a.encodeHTML4=a.encodeNonAsciiHTML=a.encodeHTML=a.escapeText=a.escapeAttribute=a.escapeUTF8=a.escape=a.encodeXML=a.encode=a.decodeStrict=a.decode=a.EncodingMode=a.EntityLevel=void 0;var t=yh(),u=C7(),n=HR(),r;(function(d){d[d.XML=0]="XML",d[d.HTML=1]="HTML"})(r=a.EntityLevel||(a.EntityLevel={}));var e;(function(d){d[d.UTF8=0]="UTF8",d[d.ASCII=1]="ASCII",d[d.Extensive=2]="Extensive",d[d.Attribute=3]="Attribute",d[d.Text=4]="Text"})(e=a.EncodingMode||(a.EncodingMode={}));function i(d,h){h===void 0&&(h=r.XML);var p=typeof h=="number"?h:h.level;if(p===r.HTML){var b=typeof h=="object"?h.mode:void 0;return(0,t.decodeHTML)(d,b)}return(0,t.decodeXML)(d)}a.decode=i;function o(d,h){var p;h===void 0&&(h=r.XML);var b=typeof h=="number"?{level:h}:h;return(p=b.mode)!==null&&p!==void 0||(b.mode=t.DecodingMode.Strict),i(d,b)}a.decodeStrict=o;function c(d,h){h===void 0&&(h=r.XML);var p=typeof h=="number"?{level:h}:h;return p.mode===e.UTF8?(0,n.escapeUTF8)(d):p.mode===e.Attribute?(0,n.escapeAttribute)(d):p.mode===e.Text?(0,n.escapeText)(d):p.level===r.HTML?p.mode===e.ASCII?(0,u.encodeNonAsciiHTML)(d):(0,u.encodeHTML)(d):(0,n.encodeXML)(d)}a.encode=c;var s=HR();Object.defineProperty(a,"encodeXML",{enumerable:!0,get:function(){return s.encodeXML}}),Object.defineProperty(a,"escape",{enumerable:!0,get:function(){return s.escape}}),Object.defineProperty(a,"escapeUTF8",{enumerable:!0,get:function(){return s.escapeUTF8}}),Object.defineProperty(a,"escapeAttribute",{enumerable:!0,get:function(){return s.escapeAttribute}}),Object.defineProperty(a,"escapeText",{enumerable:!0,get:function(){return s.escapeText}});var l=C7();Object.defineProperty(a,"encodeHTML",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(a,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return l.encodeNonAsciiHTML}}),Object.defineProperty(a,"encodeHTML4",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(a,"encodeHTML5",{enumerable:!0,get:function(){return l.encodeHTML}});var f=yh();Object.defineProperty(a,"EntityDecoder",{enumerable:!0,get:function(){return f.EntityDecoder}}),Object.defineProperty(a,"DecodingMode",{enumerable:!0,get:function(){return f.DecodingMode}}),Object.defineProperty(a,"decodeXML",{enumerable:!0,get:function(){return f.decodeXML}}),Object.defineProperty(a,"decodeHTML",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(a,"decodeHTMLStrict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(a,"decodeHTMLAttribute",{enumerable:!0,get:function(){return f.decodeHTMLAttribute}}),Object.defineProperty(a,"decodeHTML4",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(a,"decodeHTML5",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(a,"decodeHTML4Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(a,"decodeHTML5Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(a,"decodeXMLStrict",{enumerable:!0,get:function(){return f.decodeXML}})}(UR)),UR}var Xo={},$7;function Sde(){return $7||($7=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.attributeNames=Xo.elementNames=void 0,Xo.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(a){return[a.toLowerCase(),a]})),Xo.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(a){return[a.toLowerCase(),a]}))),Xo}var V7;function Ode(){if(V7)return an;V7=1;var a=an&&an.__assign||function(){return a=Object.assign||function(v){for(var T,w=1,A=arguments.length;w<A;w++){T=arguments[w];for(var M in T)Object.prototype.hasOwnProperty.call(T,M)&&(v[M]=T[M])}return v},a.apply(this,arguments)},t=an&&an.__createBinding||(Object.create?function(v,T,w,A){A===void 0&&(A=w);var M=Object.getOwnPropertyDescriptor(T,w);(!M||("get"in M?!T.__esModule:M.writable||M.configurable))&&(M={enumerable:!0,get:function(){return T[w]}}),Object.defineProperty(v,A,M)}:function(v,T,w,A){A===void 0&&(A=w),v[A]=T[w]}),u=an&&an.__setModuleDefault||(Object.create?function(v,T){Object.defineProperty(v,"default",{enumerable:!0,value:T})}:function(v,T){v.default=T}),n=an&&an.__importStar||function(v){if(v&&v.__esModule)return v;var T={};if(v!=null)for(var w in v)w!=="default"&&Object.prototype.hasOwnProperty.call(v,w)&&t(T,v,w);return u(T,v),T};Object.defineProperty(an,"__esModule",{value:!0}),an.render=void 0;var r=n(ko()),e=wde(),i=Sde(),o=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function c(v){return v.replace(/"/g,"&quot;")}function s(v,T){var w;if(v){var A=((w=T.encodeEntities)!==null&&w!==void 0?w:T.decodeEntities)===!1?c:T.xmlMode||T.encodeEntities!=="utf8"?e.encodeXML:e.escapeAttribute;return Object.keys(v).map(function(M){var F,O,E=(F=v[M])!==null&&F!==void 0?F:"";return T.xmlMode==="foreign"&&(M=(O=i.attributeNames.get(M))!==null&&O!==void 0?O:M),!T.emptyAttrs&&!T.xmlMode&&E===""?M:"".concat(M,'="').concat(A(E),'"')}).join(" ")}}var l=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function f(v,T){T===void 0&&(T={});for(var w=("length"in v)?v:[v],A="",M=0;M<w.length;M++)A+=d(w[M],T);return A}an.render=f,an.default=f;function d(v,T){switch(v.type){case r.Root:return f(v.children,T);case r.Doctype:case r.Directive:return m(v);case r.Comment:return _(v);case r.CDATA:return g(v);case r.Script:case r.Style:case r.Tag:return b(v,T);case r.Text:return y(v,T)}}var h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),p=new Set(["svg","math"]);function b(v,T){var w;T.xmlMode==="foreign"&&(v.name=(w=i.elementNames.get(v.name))!==null&&w!==void 0?w:v.name,v.parent&&h.has(v.parent.name)&&(T=a(a({},T),{xmlMode:!1}))),!T.xmlMode&&p.has(v.name)&&(T=a(a({},T),{xmlMode:"foreign"}));var A="<".concat(v.name),M=s(v.attribs,T);return M&&(A+=" ".concat(M)),v.children.length===0&&(T.xmlMode?T.selfClosingTags!==!1:T.selfClosingTags&&l.has(v.name))?(T.xmlMode||(A+=" "),A+="/>"):(A+=">",v.children.length>0&&(A+=f(v.children,T)),(T.xmlMode||!l.has(v.name))&&(A+="</".concat(v.name,">"))),A}function m(v){return"<".concat(v.data,">")}function y(v,T){var w,A=v.data||"";return((w=T.encodeEntities)!==null&&w!==void 0?w:T.decodeEntities)!==!1&&!(!T.xmlMode&&v.parent&&o.has(v.parent.name))&&(A=T.xmlMode||T.encodeEntities!=="utf8"?(0,e.encodeXML)(A):(0,e.escapeText)(A)),A}function g(v){return"<![CDATA[".concat(v.children[0].data,"]]>")}function _(v){return"<!--".concat(v.data,"-->")}return an}var U7;function Q7(){if(U7)return yi;U7=1;var a=yi&&yi.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(yi,"__esModule",{value:!0}),yi.getOuterHTML=r,yi.getInnerHTML=e,yi.getText=i,yi.textContent=o,yi.innerText=c;var t=In(),u=a(Ode()),n=ko();function r(s,l){return(0,u.default)(s,l)}function e(s,l){return(0,t.hasChildren)(s)?s.children.map(function(f){return r(f,l)}).join(""):""}function i(s){return Array.isArray(s)?s.map(i).join(""):(0,t.isTag)(s)?s.name==="br"?`
`:i(s.children):(0,t.isCDATA)(s)?i(s.children):(0,t.isText)(s)?s.data:""}function o(s){return Array.isArray(s)?s.map(o).join(""):(0,t.hasChildren)(s)&&!(0,t.isComment)(s)?o(s.children):(0,t.isText)(s)?s.data:""}function c(s){return Array.isArray(s)?s.map(c).join(""):(0,t.hasChildren)(s)&&(s.type===n.ElementType.Tag||(0,t.isCDATA)(s))?c(s.children):(0,t.isText)(s)?s.data:""}return yi}var zn={},H7;function Ade(){if(H7)return zn;H7=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.getChildren=t,zn.getParent=u,zn.getSiblings=n,zn.getAttributeValue=r,zn.hasAttrib=e,zn.getName=i,zn.nextElementSibling=o,zn.prevElementSibling=c;var a=In();function t(s){return(0,a.hasChildren)(s)?s.children:[]}function u(s){return s.parent||null}function n(s){var l,f,d=u(s);if(d!=null)return t(d);for(var h=[s],p=s.prev,b=s.next;p!=null;)h.unshift(p),l=p,p=l.prev;for(;b!=null;)h.push(b),f=b,b=f.next;return h}function r(s,l){var f;return(f=s.attribs)===null||f===void 0?void 0:f[l]}function e(s,l){return s.attribs!=null&&Object.prototype.hasOwnProperty.call(s.attribs,l)&&s.attribs[l]!=null}function i(s){return s.name}function o(s){for(var l,f=s.next;f!==null&&!(0,a.isTag)(f);)l=f,f=l.next;return f}function c(s){for(var l,f=s.prev;f!==null&&!(0,a.isTag)(f);)l=f,f=l.prev;return f}return zn}var Fi={},G7;function Ede(){if(G7)return Fi;G7=1,Object.defineProperty(Fi,"__esModule",{value:!0}),Fi.removeElement=a,Fi.replaceElement=t,Fi.appendChild=u,Fi.append=n,Fi.prependChild=r,Fi.prepend=e;function a(i){if(i.prev&&(i.prev.next=i.next),i.next&&(i.next.prev=i.prev),i.parent){var o=i.parent.children,c=o.lastIndexOf(i);c>=0&&o.splice(c,1)}i.next=null,i.prev=null,i.parent=null}function t(i,o){var c=o.prev=i.prev;c&&(c.next=o);var s=o.next=i.next;s&&(s.prev=o);var l=o.parent=i.parent;if(l){var f=l.children;f[f.lastIndexOf(i)]=o,i.parent=null}}function u(i,o){if(a(o),o.next=null,o.parent=i,i.children.push(o)>1){var c=i.children[i.children.length-2];c.next=o,o.prev=c}else o.prev=null}function n(i,o){a(o);var c=i.parent,s=i.next;if(o.next=s,o.prev=i,i.next=o,o.parent=c,s){if(s.prev=o,c){var l=c.children;l.splice(l.lastIndexOf(s),0,o)}}else c&&c.children.push(o)}function r(i,o){if(a(o),o.parent=i,o.prev=null,i.children.unshift(o)!==1){var c=i.children[1];c.prev=o,o.next=c}else o.next=null}function e(i,o){a(o);var c=i.parent;if(c){var s=c.children;s.splice(s.indexOf(i),0,o)}i.prev&&(i.prev.next=o),o.parent=c,o.prev=i.prev,o.next=i,i.prev=o}return Fi}var Di={},k7;function z7(){if(k7)return Di;k7=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.filter=t,Di.find=u,Di.findOneChild=n,Di.findOne=r,Di.existsOne=e,Di.findAll=i;var a=In();function t(o,c,s,l){return s===void 0&&(s=!0),l===void 0&&(l=1/0),u(o,Array.isArray(c)?c:[c],s,l)}function u(o,c,s,l){for(var f=[],d=[Array.isArray(c)?c:[c]],h=[0];;){if(h[0]>=d[0].length){if(h.length===1)return f;d.shift(),h.shift();continue}var p=d[0][h[0]++];if(o(p)&&(f.push(p),--l<=0))return f;s&&(0,a.hasChildren)(p)&&p.children.length>0&&(h.unshift(0),d.unshift(p.children))}}function n(o,c){return c.find(o)}function r(o,c,s){s===void 0&&(s=!0);for(var l=Array.isArray(c)?c:[c],f=0;f<l.length;f++){var d=l[f];if((0,a.isTag)(d)&&o(d))return d;if(s&&(0,a.hasChildren)(d)&&d.children.length>0){var h=r(o,d.children,!0);if(h)return h}}return null}function e(o,c){return(Array.isArray(c)?c:[c]).some(function(s){return(0,a.isTag)(s)&&o(s)||(0,a.hasChildren)(s)&&e(o,s.children)})}function i(o,c){for(var s=[],l=[Array.isArray(c)?c:[c]],f=[0];;){if(f[0]>=l[0].length){if(l.length===1)return s;l.shift(),f.shift();continue}var d=l[0][f[0]++];(0,a.isTag)(d)&&o(d)&&s.push(d),(0,a.hasChildren)(d)&&d.children.length>0&&(f.unshift(0),l.unshift(d.children))}}return Di}var Pi={},X7;function J7(){if(X7)return Pi;X7=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.testElement=i,Pi.getElements=o,Pi.getElementById=c,Pi.getElementsByTagName=s,Pi.getElementsByClassName=l,Pi.getElementsByTagType=f;var a=In(),t=z7(),u={tag_name:function(d){return typeof d=="function"?function(h){return(0,a.isTag)(h)&&d(h.name)}:d==="*"?a.isTag:function(h){return(0,a.isTag)(h)&&h.name===d}},tag_type:function(d){return typeof d=="function"?function(h){return d(h.type)}:function(h){return h.type===d}},tag_contains:function(d){return typeof d=="function"?function(h){return(0,a.isText)(h)&&d(h.data)}:function(h){return(0,a.isText)(h)&&h.data===d}}};function n(d,h){return typeof h=="function"?function(p){return(0,a.isTag)(p)&&h(p.attribs[d])}:function(p){return(0,a.isTag)(p)&&p.attribs[d]===h}}function r(d,h){return function(p){return d(p)||h(p)}}function e(d){var h=Object.keys(d).map(function(p){var b=d[p];return Object.prototype.hasOwnProperty.call(u,p)?u[p](b):n(p,b)});return h.length===0?null:h.reduce(r)}function i(d,h){var p=e(d);return p?p(h):!0}function o(d,h,p,b){b===void 0&&(b=1/0);var m=e(d);return m?(0,t.filter)(m,h,p,b):[]}function c(d,h,p){return p===void 0&&(p=!0),Array.isArray(h)||(h=[h]),(0,t.findOne)(n("id",d),h,p)}function s(d,h,p,b){return p===void 0&&(p=!0),b===void 0&&(b=1/0),(0,t.filter)(u.tag_name(d),h,p,b)}function l(d,h,p,b){return p===void 0&&(p=!0),b===void 0&&(b=1/0),(0,t.filter)(n("class",d),h,p,b)}function f(d,h,p,b){return p===void 0&&(p=!0),b===void 0&&(b=1/0),(0,t.filter)(u.tag_type(d),h,p,b)}return Pi}var fa={},K7;function xde(){if(K7)return fa;K7=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.DocumentPosition=void 0,fa.removeSubsets=t,fa.compareDocumentPosition=n,fa.uniqueSort=r;var a=In();function t(e){for(var i=e.length;--i>=0;){var o=e[i];if(i>0&&e.lastIndexOf(o,i-1)>=0){e.splice(i,1);continue}for(var c=o.parent;c;c=c.parent)if(e.includes(c)){e.splice(i,1);break}}return e}var u;(function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"})(u||(fa.DocumentPosition=u={}));function n(e,i){var o=[],c=[];if(e===i)return 0;for(var s=(0,a.hasChildren)(e)?e:e.parent;s;)o.unshift(s),s=s.parent;for(s=(0,a.hasChildren)(i)?i:i.parent;s;)c.unshift(s),s=s.parent;for(var l=Math.min(o.length,c.length),f=0;f<l&&o[f]===c[f];)f++;if(f===0)return u.DISCONNECTED;var d=o[f-1],h=d.children,p=o[f],b=c[f];return h.indexOf(p)>h.indexOf(b)?d===i?u.FOLLOWING|u.CONTAINED_BY:u.FOLLOWING:d===e?u.PRECEDING|u.CONTAINS:u.PRECEDING}function r(e){return e=e.filter(function(i,o,c){return!c.includes(i,o+1)}),e.sort(function(i,o){var c=n(i,o);return c&u.PRECEDING?-1:c&u.FOLLOWING?1:0}),e}return fa}var WO={},W7;function Ide(){if(W7)return WO;W7=1,Object.defineProperty(WO,"__esModule",{value:!0}),WO.getFeed=u;var a=Q7(),t=J7();function u(d){var h=c(f,d);return h?h.name==="feed"?n(h):r(h):null}function n(d){var h,p=d.children,b={type:"atom",items:(0,t.getElementsByTagName)("entry",p).map(function(g){var _,v=g.children,T={media:o(v)};l(T,"id","id",v),l(T,"title","title",v);var w=(_=c("link",v))===null||_===void 0?void 0:_.attribs.href;w&&(T.link=w);var A=s("summary",v)||s("content",v);A&&(T.description=A);var M=s("updated",v);return M&&(T.pubDate=new Date(M)),T})};l(b,"id","id",p),l(b,"title","title",p);var m=(h=c("link",p))===null||h===void 0?void 0:h.attribs.href;m&&(b.link=m),l(b,"description","subtitle",p);var y=s("updated",p);return y&&(b.updated=new Date(y)),l(b,"author","email",p,!0),b}function r(d){var h,p,b=(p=(h=c("channel",d.children))===null||h===void 0?void 0:h.children)!==null&&p!==void 0?p:[],m={type:d.name.substr(0,3),id:"",items:(0,t.getElementsByTagName)("item",d.children).map(function(g){var _=g.children,v={media:o(_)};l(v,"id","guid",_),l(v,"title","title",_),l(v,"link","link",_),l(v,"description","description",_);var T=s("pubDate",_)||s("dc:date",_);return T&&(v.pubDate=new Date(T)),v})};l(m,"title","title",b),l(m,"link","link",b),l(m,"description","description",b);var y=s("lastBuildDate",b);return y&&(m.updated=new Date(y)),l(m,"author","managingEditor",b,!0),m}var e=["url","type","lang"],i=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function o(d){return(0,t.getElementsByTagName)("media:content",d).map(function(h){for(var p=h.attribs,b={medium:p.medium,isDefault:!!p.isDefault},m=0,y=e;m<y.length;m++){var g=y[m];p[g]&&(b[g]=p[g])}for(var _=0,v=i;_<v.length;_++){var g=v[_];p[g]&&(b[g]=parseInt(p[g],10))}return p.expression&&(b.expression=p.expression),b})}function c(d,h){return(0,t.getElementsByTagName)(d,h,!0,1)[0]}function s(d,h,p){return p===void 0&&(p=!1),(0,a.textContent)((0,t.getElementsByTagName)(d,h,p,1)).trim()}function l(d,h,p,b,m){m===void 0&&(m=!1);var y=s(p,b,m);y&&(d[h]=y)}function f(d){return d==="rss"||d==="feed"||d==="rdf:RDF"}return WO}var Y7;function Li(){return Y7||(Y7=1,function(a){var t=zo&&zo.__createBinding||(Object.create?function(r,e,i,o){o===void 0&&(o=i);var c=Object.getOwnPropertyDescriptor(e,i);(!c||("get"in c?!e.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(r,o,c)}:function(r,e,i,o){o===void 0&&(o=i),r[o]=e[i]}),u=zo&&zo.__exportStar||function(r,e){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&t(e,r,i)};Object.defineProperty(a,"__esModule",{value:!0}),a.hasChildren=a.isDocument=a.isComment=a.isText=a.isCDATA=a.isTag=void 0,u(Q7(),a),u(Ade(),a),u(Ede(),a),u(z7(),a),u(J7(),a),u(xde(),a),u(Ide(),a);var n=In();Object.defineProperty(a,"isTag",{enumerable:!0,get:function(){return n.isTag}}),Object.defineProperty(a,"isCDATA",{enumerable:!0,get:function(){return n.isCDATA}}),Object.defineProperty(a,"isText",{enumerable:!0,get:function(){return n.isText}}),Object.defineProperty(a,"isComment",{enumerable:!0,get:function(){return n.isComment}}),Object.defineProperty(a,"isDocument",{enumerable:!0,get:function(){return n.isDocument}}),Object.defineProperty(a,"hasChildren",{enumerable:!0,get:function(){return n.hasChildren}})}(zo)),zo}var Z7;function Rde(){return Z7||(Z7=1,function(a){var t=Hn&&Hn.__createBinding||(Object.create?function(y,g,_,v){v===void 0&&(v=_);var T=Object.getOwnPropertyDescriptor(g,_);(!T||("get"in T?!g.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return g[_]}}),Object.defineProperty(y,v,T)}:function(y,g,_,v){v===void 0&&(v=_),y[v]=g[_]}),u=Hn&&Hn.__setModuleDefault||(Object.create?function(y,g){Object.defineProperty(y,"default",{enumerable:!0,value:g})}:function(y,g){y.default=g}),n=Hn&&Hn.__importStar||function(y){if(y&&y.__esModule)return y;var g={};if(y!=null)for(var _ in y)_!=="default"&&Object.prototype.hasOwnProperty.call(y,_)&&t(g,y,_);return u(g,y),g},r=Hn&&Hn.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomUtils=a.parseFeed=a.getFeed=a.ElementType=a.Tokenizer=a.createDomStream=a.parseDOM=a.parseDocument=a.DefaultHandler=a.DomHandler=a.Parser=void 0;var e=N7(),i=N7();Object.defineProperty(a,"Parser",{enumerable:!0,get:function(){return i.Parser}});var o=In(),c=In();Object.defineProperty(a,"DomHandler",{enumerable:!0,get:function(){return c.DomHandler}}),Object.defineProperty(a,"DefaultHandler",{enumerable:!0,get:function(){return c.DomHandler}});function s(y,g){var _=new o.DomHandler(void 0,g);return new e.Parser(_,g).end(y),_.root}a.parseDocument=s;function l(y,g){return s(y,g).children}a.parseDOM=l;function f(y,g,_){var v=new o.DomHandler(y,g,_);return new e.Parser(v,g)}a.createDomStream=f;var d=I7();Object.defineProperty(a,"Tokenizer",{enumerable:!0,get:function(){return r(d).default}}),a.ElementType=n(ko());var h=Li(),p=Li();Object.defineProperty(a,"getFeed",{enumerable:!0,get:function(){return p.getFeed}});var b={xmlMode:!0};function m(y,g){return g===void 0&&(g=b),(0,h.getFeed)(l(y,g))}a.parseFeed=m,a.DomUtils=n(Li())}(Hn)),Hn}var Nde={"@context":{alternate:"http://www.w3.org/1999/xhtml/vocab#alternate",appendix:"http://www.w3.org/1999/xhtml/vocab#appendix",cite:"http://www.w3.org/1999/xhtml/vocab#cite",bookmark:"http://www.w3.org/1999/xhtml/vocab#bookmark",contents:"http://www.w3.org/1999/xhtml/vocab#contents",chapter:"http://www.w3.org/1999/xhtml/vocab#chapter",copyright:"http://www.w3.org/1999/xhtml/vocab#copyright",first:"http://www.w3.org/1999/xhtml/vocab#first",glossary:"http://www.w3.org/1999/xhtml/vocab#glossary",help:"http://www.w3.org/1999/xhtml/vocab#help",icon:"http://www.w3.org/1999/xhtml/vocab#icon",index:"http://www.w3.org/1999/xhtml/vocab#index",last:"http://www.w3.org/1999/xhtml/vocab#last",license:"http://www.w3.org/1999/xhtml/vocab#license",meta:"http://www.w3.org/1999/xhtml/vocab#meta",next:"http://www.w3.org/1999/xhtml/vocab#next",prev:"http://www.w3.org/1999/xhtml/vocab#prev",previous:"http://www.w3.org/1999/xhtml/vocab#previous",section:"http://www.w3.org/1999/xhtml/vocab#section",start:"http://www.w3.org/1999/xhtml/vocab#start",stylesheet:"http://www.w3.org/1999/xhtml/vocab#stylesheet",subsection:"http://www.w3.org/1999/xhtml/vocab#subsection",top:"http://www.w3.org/1999/xhtml/vocab#top",up:"http://www.w3.org/1999/xhtml/vocab#up",p3pv1:"http://www.w3.org/1999/xhtml/vocab#p3pv1"}},Fde={"@context":{as:"https://www.w3.org/ns/activitystreams#",cat:"http://www.w3.org/ns/dcat#",cc:"http://creativecommons.org/ns#",cnt:"http://www.w3.org/2008/content#",csvw:"http://www.w3.org/ns/csvw#",ctag:"http://commontag.org/ns#",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcat:"http://www.w3.org/ns/dcat#",dcterms:"http://purl.org/dc/terms/",dqv:"http://www.w3.org/ns/dqv#",duv:"https://www.w3.org/TR/vocab-duv#",earl:"http://www.w3.org/ns/earl#",foaf:"http://xmlns.com/foaf/0.1/",gldp:"http://www.w3.org/ns/people#",gr:"http://purl.org/goodrelations/v1#",grddl:"http://www.w3.org/2003/g/data-view#",ht:"http://www.w3.org/2006/http#",ical:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",ma:"http://www.w3.org/ns/ma-ont#",oa:"http://www.w3.org/ns/oa#",odrl:"http://www.w3.org/ns/odrl/2/",og:"http://ogp.me/ns#",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",prov:"http://www.w3.org/ns/prov#",ptr:"http://www.w3.org/2009/pointers#",qb:"http://purl.org/linked-data/cube#",rev:"http://purl.org/stuff/rev#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfa:"http://www.w3.org/ns/rdfa#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rif:"http://www.w3.org/2007/rif#",rr:"http://www.w3.org/ns/r2rml#",schema:"http://schema.org/",sd:"http://www.w3.org/ns/sparql-service-description#",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",ssn:"http://www.w3.org/ns/ssn/",sosa:"http://www.w3.org/ns/sosa/",time:"http://www.w3.org/2006/time#",v:"http://rdf.data-vocabulary.org/#",vcard:"http://www.w3.org/2006/vcard/ns#",void:"http://rdfs.org/ns/void#",wdr:"http://www.w3.org/2007/05/powder#",wdrs:"http://www.w3.org/2007/05/powder-s#",xhv:"http://www.w3.org/1999/xhtml/vocab#",xml:"http://www.w3.org/XML/1998/namespace",xsd:"http://www.w3.org/2001/XMLSchema#",describedby:"http://www.w3.org/2007/05/powder-s#describedby",license:"http://www.w3.org/1999/xhtml/vocab#license",role:"http://www.w3.org/1999/xhtml/vocab#role"}},Jo={},eB;function GR(){return eB||(eB=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.RDFA_CONTENTTYPES=Jo.RDFA_FEATURES=void 0,Jo.RDFA_FEATURES={"":{baseTag:!0,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},core:{baseTag:!1,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!1,datetimeAttribute:!1,timeTag:!1,htmlDatatype:!1,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!1},html:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0},xhtml:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},xml:{baseTag:!1,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!1,inheritSubjectInHeadBody:!1,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!1,copyRdfaPatterns:!1,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0}},Jo.RDFA_CONTENTTYPES={"text/html":"html","application/xhtml+xml":"xhtml","application/xml":"xml","text/xml":"xml","image/svg+xml":"xml"}),Jo}var zb={},Ko={},Xb={},tB;function rB(){if(tB)return Xb;tB=1,Object.defineProperty(Xb,"__esModule",{value:!0}),Xb.BlankNode=void 0;class a{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return Xb.BlankNode=a,Xb}var Jb={},Kb={},nB;function iB(){if(nB)return Kb;nB=1,Object.defineProperty(Kb,"__esModule",{value:!0}),Kb.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return Kb.DefaultGraph=a,a.INSTANCE=new a,Kb}var Wb={},Yb={},aB;function kR(){if(aB)return Yb;aB=1,Object.defineProperty(Yb,"__esModule",{value:!0}),Yb.NamedNode=void 0;class a{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return Yb.NamedNode=a,Yb}var uB;function oB(){if(uB)return Wb;uB=1,Object.defineProperty(Wb,"__esModule",{value:!0}),Wb.Literal=void 0;const a=kR();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return Wb.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Wb}var Zb={},sB;function cB(){if(sB)return Zb;sB=1,Object.defineProperty(Zb,"__esModule",{value:!0}),Zb.Quad=void 0;class a{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return Zb.Quad=a,Zb}var e_={},lB;function dB(){if(lB)return e_;lB=1,Object.defineProperty(e_,"__esModule",{value:!0}),e_.Variable=void 0;class a{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return e_.Variable=a,e_}var fB;function Dde(){if(fB)return Jb;fB=1,Object.defineProperty(Jb,"__esModule",{value:!0}),Jb.DataFactory=void 0;const a=rB(),t=iB(),u=oB(),n=kR(),r=cB(),e=dB();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return Jb.DataFactory=o,Jb}var hB;function Pde(){return hB||(hB=1,function(a){var t=Ko&&Ko.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ko&&Ko.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(rB(),a),u(Dde(),a),u(iB(),a),u(oB(),a),u(kR(),a),u(cB(),a),u(dB(),a)}(Ko)),Ko}var pB;function yB(){if(pB)return zb;pB=1,Object.defineProperty(zb,"__esModule",{value:!0}),zb.Util=void 0;const a=mr(),t=GR(),u=Pde();class n{constructor(e,i){this.dataFactory=e||new u.DataFactory,this.baseIRI=this.dataFactory.namedNode(i||""),this.baseIRIDocument=this.baseIRI}static parsePrefixes(e,i,o){const c={};if(o)for(const s in e)s.startsWith("xmlns")&&(c[s.substr(6)]=e[s]);if(e.prefix||Object.keys(c).length>0){const s=Object.assign(Object.assign({},i),c);if(e.prefix){let l;for(;l=n.PREFIX_REGEX.exec(e.prefix);)s[l[1]]=l[2]}return s}else return i}static expandPrefixedTerm(e,i){const o=e.indexOf(":");let c,s;if(o>=0&&(c=e.substr(0,o),s=e.substr(o+1)),c==="")return"http://www.w3.org/1999/xhtml/vocab#"+s;if(c){const l=i.prefixesAll[c];if(l)return l+s}if(e){const l=i.prefixesAll[e.toLocaleLowerCase()];if(l)return l}return e}static isValidIri(e){return n.IRI_REGEX.test(e)}static contentTypeToProfile(e){return t.RDFA_CONTENTTYPES[e]||""}getBaseIRI(e){let i=e;const o=i.indexOf("#");return o>=0&&(i=i.substr(0,o)),this.dataFactory.namedNode((0,a.resolve)(i,this.baseIRI.value))}getResourceOrBaseIri(e,i){return e===!0?this.getBaseIriTerm(i):e}getBaseIriTerm(e){return e.localBaseIRI||this.baseIRI}createVocabIris(e,i,o,c){return e.split(/\s+/).filter(s=>s&&(o||s.indexOf(":")>=0)).map(s=>this.createIri(s,i,!0,!0,c)).filter(s=>s!=null)}createLiteral(e,i){if(i.interpretObjectAsTime&&!i.datatype){for(const o of n.TIME_REGEXES)if(e.match(o.regex)){i.datatype=this.dataFactory.namedNode(n.XSD+o.type);break}}return this.dataFactory.literal(e,i.datatype||i.language)}createBlankNode(){return this.blankNodeFactory?this.blankNodeFactory():this.dataFactory.blankNode()}createIri(e,i,o,c,s){if(e=e||"",!c)return o||(e=(0,a.resolve)(e,this.getBaseIriTerm(i).value)),n.isValidIri(e)?this.dataFactory.namedNode(e):null;if(e.length>0&&e[0]==="["&&e[e.length-1]==="]"&&(e=e.substr(1,e.length-2),e.indexOf(":")<0))return null;if(e.startsWith("_:"))return s?this.dataFactory.blankNode(e.substr(2)||"b_identity"):null;if(o&&i.vocab&&e.indexOf(":")<0)return this.dataFactory.namedNode(i.vocab+e);let l=n.expandPrefixedTerm(e,i);return o?e!==l&&(l=(0,a.resolve)(l,this.baseIRIDocument.value)):l=(0,a.resolve)(l,this.getBaseIriTerm(i).value),n.isValidIri(l)?this.dataFactory.namedNode(l):null}}return zb.Util=n,n.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n.XSD="http://www.w3.org/2001/XMLSchema#",n.RDFA="http://www.w3.org/ns/rdfa#",n.PREFIX_REGEX=/\s*([^:\s]*)*:\s*([^\s]*)*\s*/g,n.TIME_REGEXES=[{regex:/^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,type:"duration"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"dateTime"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,type:"date"},{regex:/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"time"},{regex:/^[0-9]+-[0-9][0-9]$/,type:"gYearMonth"},{regex:/^[0-9]+$/,type:"gYear"}],n.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/,zb}var bB;function Lde(){if(bB)return kb;bB=1,Object.defineProperty(kb,"__esModule",{value:!0}),kb.RdfaParser=void 0;const a=Rde(),t=Mt(),u=Nde,n=Fde,r=GR(),e=yB();let i=class nie extends t.Transform{constructor(c){super({readableObjectMode:!0}),this.activeTagStack=[],c=c||{},this.options=c,this.util=new e.Util(c.dataFactory,c.baseIRI),this.defaultGraph=c.defaultGraph||this.util.dataFactory.defaultGraph();const s=c.contentType?e.Util.contentTypeToProfile(c.contentType):c.profile||"";this.features=c.features||r.RDFA_FEATURES[s],this.htmlParseListener=c.htmlParseListener,this.rdfaPatterns=this.features.copyRdfaPatterns?{}:null,this.pendingRdfaPatternCopies=this.features.copyRdfaPatterns?{}:null,this.parser=this.initializeParser(s==="xml"),this.activeTagStack.push({incompleteTriples:[],inlist:!1,language:c.language,listMapping:{},listMappingLocal:{},name:"",prefixesAll:Object.assign(Object.assign({},n["@context"]),this.features.xhtmlInitialContext?u["@context"]:{}),prefixesCustom:{},skipElement:!1,vocab:c.vocab})}import(c){const s=new t.PassThrough({readableObjectMode:!0});c.on("error",f=>l.emit("error",f)),c.on("data",f=>s.push(f)),c.on("end",()=>s.push(null));const l=s.pipe(new nie(this.options));return l}_transform(c,s,l){this.parser.write(c.toString()),l()}_flush(c){this.parser.end(),c()}onTagOpen(c,s){let l=this.activeTagStack.length-1;for(;l>0&&this.activeTagStack[l].skipElement;)l--;let f=this.activeTagStack[l];l!==this.activeTagStack.length-1&&(f=Object.assign(Object.assign({},f),{language:this.activeTagStack[this.activeTagStack.length-1].language,prefixesAll:this.activeTagStack[this.activeTagStack.length-1].prefixesAll,prefixesCustom:this.activeTagStack[this.activeTagStack.length-1].prefixesCustom,vocab:this.activeTagStack[this.activeTagStack.length-1].vocab}));const d={collectChildTags:f.collectChildTags,incompleteTriples:[],inlist:"inlist"in s,listMapping:[],listMappingLocal:f.listMapping,localBaseIRI:f.localBaseIRI,name:c,prefixesAll:null,prefixesCustom:null,skipElement:!1};if(this.activeTagStack.push(d),d.collectChildTags){for(const T of Object.keys(f.prefixesCustom).sort()){const w=f.prefixesCustom[T],A=T===""?"xmlns":"xmlns:"+T;A in s||(s[A]=w)}const v=Object.keys(s).map(T=>`${T}="${s[T]}"`).join(" ");if(d.text=[`<${c}${v?" "+v:""}>`],this.features.skipHandlingXmlLiteralChildren)return}let h=!0,p=!0;if(this.features.onlyAllowUriRelRevIfProperty&&("property"in s&&"rel"in s&&(h=!1,s.rel.indexOf(":")<0&&delete s.rel),"property"in s&&"rev"in s&&(p=!1,s.rev.indexOf(":")<0&&delete s.rev)),this.features.copyRdfaPatterns){if(f.collectedPatternTag){const v={attributes:s,children:[],name:c,referenced:!1,rootPattern:!1,text:[]};f.collectedPatternTag.children.push(v),d.collectedPatternTag=v;return}if(s.typeof==="rdfa:Pattern"){d.collectedPatternTag={attributes:s,children:[],name:c,parentTag:f,referenced:!1,rootPattern:!0,text:[]};return}if(s.property==="rdfa:copy"){const v=s.resource||s.href||s.src;this.rdfaPatterns[v]?this.emitPatternCopy(f,this.rdfaPatterns[v],v):(this.pendingRdfaPatternCopies[v]||(this.pendingRdfaPatternCopies[v]=[]),this.pendingRdfaPatternCopies[v].push(f));return}}this.features.baseTag&&c==="base"&&s.href&&(this.util.baseIRI=this.util.getBaseIRI(s.href)),this.features.xmlBase&&s["xml:base"]&&(d.localBaseIRI=this.util.getBaseIRI(s["xml:base"])),this.features.timeTag&&c==="time"&&!s.datatype&&(d.interpretObjectAsTime=!0);let b,m,y;if("vocab"in s?s.vocab?(d.vocab=s.vocab,this.emitTriple(this.util.getBaseIriTerm(d),this.util.dataFactory.namedNode(e.Util.RDFA+"usesVocabulary"),this.util.dataFactory.namedNode(d.vocab))):d.vocab=this.activeTagStack[0].vocab:d.vocab=f.vocab,d.prefixesCustom=e.Util.parsePrefixes(s,f.prefixesCustom,this.features.xmlnsPrefixMappings),d.prefixesAll=Object.keys(d.prefixesCustom).length>0?Object.assign(Object.assign({},f.prefixesAll),d.prefixesCustom):f.prefixesAll,this.features.roleAttribute&&s.role){const v=s.id?this.util.createIri("#"+s.id,d,!1,!1,!1):this.util.createBlankNode(),T=d.vocab;d.vocab="http://www.w3.org/1999/xhtml/vocab#";for(const w of this.util.createVocabIris(s.role,d,!0,!1))this.emitTriple(v,this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"),w);d.vocab=T}"xml:lang"in s||this.features.langAttribute&&"lang"in s?d.language=s["xml:lang"]||s.lang:d.language=f.language;const g=this.activeTagStack.length===2;if(!("rel"in s)&&!("rev"in s)?"property"in s&&!("content"in s)&&!("datatype"in s)?("about"in s?(b=this.util.createIri(s.about,d,!1,!0,!0),d.explicitNewSubject=!!b):g?b=!0:f.object&&(b=f.object),"typeof"in s&&("about"in s&&(y=this.util.createIri(s.about,d,!1,!0,!0)),!y&&g&&(y=!0),!y&&"resource"in s&&(y=this.util.createIri(s.resource,d,!1,!0,!0)),!y&&("href"in s||"src"in s)&&(y=this.util.createIri(s.href||s.src,d,!1,!1,!0)),!y&&this.isInheritSubjectInHeadBody(c)&&(y=b),y||(y=this.util.createBlankNode()),m=y)):(("about"in s||"resource"in s)&&(b=this.util.createIri(s.about||s.resource,d,!1,!0,!0),d.explicitNewSubject=!!b),!b&&("href"in s||"src"in s)&&(b=this.util.createIri(s.href||s.src,d,!1,!1,!0),d.explicitNewSubject=!!b),b||(g?b=!0:this.isInheritSubjectInHeadBody(c)?b=f.object:"typeof"in s?(b=this.util.createBlankNode(),d.explicitNewSubject=!0):f.object&&(b=f.object,"property"in s||(d.skipElement=!0))),"typeof"in s&&(y=b)):("about"in s?(b=this.util.createIri(s.about,d,!1,!0,!0),d.explicitNewSubject=!!b,"typeof"in s&&(y=b)):g?b=!0:f.object&&(b=f.object),"resource"in s&&(m=this.util.createIri(s.resource,d,!1,!0,!0)),m||("href"in s||"src"in s?m=this.util.createIri(s.href||s.src,d,!1,!1,!0):"typeof"in s&&!("about"in s)&&!this.isInheritSubjectInHeadBody(c)&&(m=this.util.createBlankNode())),"typeof"in s&&!("about"in s)&&(this.isInheritSubjectInHeadBody(c)?y=b:y=m)),y)for(const v of this.util.createVocabIris(s.typeof,d,!0,!0))this.emitTriple(this.util.getResourceOrBaseIri(y,d),this.util.dataFactory.namedNode(e.Util.RDF+"type"),v);if(b&&(d.listMapping={}),m){if("rel"in s&&"inlist"in s)for(const v of this.util.createVocabIris(s.rel,d,h,!1))this.addListMapping(d,b,v,m);if(!("rel"in s&&"inlist"in s)){if("rel"in s)for(const v of this.util.createVocabIris(s.rel,d,h,!1))this.emitTriple(this.util.getResourceOrBaseIri(b,d),v,this.util.getResourceOrBaseIri(m,d));if("rev"in s)for(const v of this.util.createVocabIris(s.rev,d,p,!1))this.emitTriple(this.util.getResourceOrBaseIri(m,d),v,this.util.getResourceOrBaseIri(b,d))}}if(!m){if("rel"in s)if("inlist"in s)for(const v of this.util.createVocabIris(s.rel,d,h,!1))this.addListMapping(d,b,v,null),d.incompleteTriples.push({predicate:v,reverse:!1,list:!0});else for(const v of this.util.createVocabIris(s.rel,d,h,!1))d.incompleteTriples.push({predicate:v,reverse:!1});if("rev"in s)for(const v of this.util.createVocabIris(s.rev,d,p,!1))d.incompleteTriples.push({predicate:v,reverse:!0});d.incompleteTriples.length>0&&(m=this.util.createBlankNode())}if("property"in s){d.predicates=this.util.createVocabIris(s.property,d,!0,!1);let v;if("datatype"in s?(d.datatype=this.util.createIri(s.datatype,d,!0,!0,!1),d.datatype&&(d.datatype.value===e.Util.RDF+"XMLLiteral"||this.features.htmlDatatype&&d.datatype.value===e.Util.RDF+"HTML")&&(d.collectChildTags=!0)):(!("rev"in s)&&!("rel"in s)&&!("content"in s)&&("resource"in s&&(v=this.util.createIri(s.resource,d,!1,!0,!0)),!v&&"href"in s&&(v=this.util.createIri(s.href,d,!1,!1,!0)),!v&&"src"in s&&(v=this.util.createIri(s.src,d,!1,!1,!0))),"typeof"in s&&!("about"in s)&&(v=y)),"content"in s){const T=this.util.createLiteral(s.content,d);if("inlist"in s)for(const w of d.predicates)this.addListMapping(d,b,w,T);else{const w=this.util.getResourceOrBaseIri(b,d);for(const A of d.predicates)this.emitTriple(w,A,T)}d.predicates=null}else if(this.features.datetimeAttribute&&"datetime"in s){d.interpretObjectAsTime=!0;const T=this.util.createLiteral(s.datetime,d);if("inlist"in s)for(const w of d.predicates)this.addListMapping(d,b,w,T);else{const w=this.util.getResourceOrBaseIri(b,d);for(const A of d.predicates)this.emitTriple(w,A,T)}d.predicates=null}else if(v){const T=this.util.getResourceOrBaseIri(v,d);if("inlist"in s)for(const w of d.predicates)this.addListMapping(d,b,w,T);else{const w=this.util.getResourceOrBaseIri(b,d);for(const A of d.predicates)this.emitTriple(w,A,T)}d.predicates=null}}let _=!1;if(!d.skipElement&&b&&f.incompleteTriples.length>0){_=!0;const v=this.util.getResourceOrBaseIri(f.subject,d),T=this.util.getResourceOrBaseIri(b,d);for(const w of f.incompleteTriples)if(w.reverse)this.emitTriple(T,w.predicate,v);else if(w.list){let A=null;for(let M=this.activeTagStack.length-1;M>=0;M--)if(this.activeTagStack[M].inlist){A=this.activeTagStack[M];break}this.addListMapping(A,b,w.predicate,T)}else this.emitTriple(v,w.predicate,T)}!_&&f.incompleteTriples.length>0&&(d.incompleteTriples=d.incompleteTriples.concat(f.incompleteTriples)),d.subject=b||f.subject,d.object=m||b}onText(c){const s=this.activeTagStack[this.activeTagStack.length-1];if(this.features.copyRdfaPatterns&&s.collectedPatternTag){s.collectedPatternTag.text.push(c);return}s.text||(s.text=[]),s.text.push(c)}onTagClose(){const c=this.activeTagStack[this.activeTagStack.length-1],s=this.activeTagStack[this.activeTagStack.length-2];if(!(c.collectChildTags&&s.collectChildTags&&this.features.skipHandlingXmlLiteralChildren)){if(this.features.copyRdfaPatterns&&c.collectedPatternTag&&c.collectedPatternTag.rootPattern){const l=c.collectedPatternTag.attributes.resource;if(delete c.collectedPatternTag.attributes.resource,delete c.collectedPatternTag.attributes.typeof,this.rdfaPatterns[l]=c.collectedPatternTag,this.pendingRdfaPatternCopies[l]){for(const f of this.pendingRdfaPatternCopies[l])this.emitPatternCopy(f,c.collectedPatternTag,l);delete this.pendingRdfaPatternCopies[l]}this.activeTagStack.pop();return}if(c.predicates){const l=this.util.getResourceOrBaseIri(c.subject,c);let f=c.text||[];c.collectChildTags&&s.collectChildTags&&(f=f.slice(1));const d=this.util.createLiteral(f.join(""),c);if(c.inlist)for(const h of c.predicates)this.addListMapping(c,l,h,d);else for(const h of c.predicates)this.emitTriple(l,h,d);s.predicates||(c.text=null)}if(c.object&&Object.keys(c.listMapping).length>0){const l=this.util.getResourceOrBaseIri(c.object,c);for(const f in c.listMapping){const d=this.util.dataFactory.namedNode(f),h=c.listMapping[f];if(h.length>0){const p=h.map(()=>this.util.createBlankNode());for(let b=0;b<h.length;b++){const m=this.util.getResourceOrBaseIri(h[b],c);this.emitTriple(p[b],this.util.dataFactory.namedNode(e.Util.RDF+"first"),m),this.emitTriple(p[b],this.util.dataFactory.namedNode(e.Util.RDF+"rest"),b<h.length-1?p[b+1]:this.util.dataFactory.namedNode(e.Util.RDF+"nil"))}this.emitTriple(l,d,p[0])}else this.emitTriple(l,d,this.util.dataFactory.namedNode(e.Util.RDF+"nil"))}}}this.activeTagStack.pop(),c.collectChildTags&&c.text&&c.text.push(`</${c.name}>`),c.text&&s&&(s.text?s.text=s.text.concat(c.text):s.text=c.text)}onEnd(){if(this.features.copyRdfaPatterns){this.features.copyRdfaPatterns=!1;for(const c in this.rdfaPatterns){const s=this.rdfaPatterns[c];s.referenced||(s.attributes.typeof="rdfa:Pattern",s.attributes.resource=c,this.emitPatternCopy(s.parentTag,s,c),s.referenced=!1,delete s.attributes.typeof,delete s.attributes.resource)}for(const c in this.pendingRdfaPatternCopies)for(const s of this.pendingRdfaPatternCopies[c])this.activeTagStack.push(s),this.onTagOpen("link",{property:"rdfa:copy",href:c}),this.onTagClose(),this.activeTagStack.pop();this.features.copyRdfaPatterns=!0}}isInheritSubjectInHeadBody(c){return this.features.inheritSubjectInHeadBody&&(c==="head"||c==="body")}addListMapping(c,s,l,f){if(c.explicitNewSubject){const d=this.util.createBlankNode();this.emitTriple(this.util.getResourceOrBaseIri(s,c),l,d),this.emitTriple(d,this.util.dataFactory.namedNode(e.Util.RDF+"first"),this.util.getResourceOrBaseIri(f,c)),this.emitTriple(d,this.util.dataFactory.namedNode(e.Util.RDF+"rest"),this.util.dataFactory.namedNode(e.Util.RDF+"nil"))}else{let d=c.listMappingLocal[l.value];d||(c.listMappingLocal[l.value]=d=[]),f&&d.push(f)}}emitTriple(c,s,l){c.termType==="NamedNode"&&c.value.indexOf(":")<0||s.termType==="NamedNode"&&s.value.indexOf(":")<0||l.termType==="NamedNode"&&l.value.indexOf(":")<0||this.push(this.util.dataFactory.quad(c,s,l,this.defaultGraph))}emitPatternCopy(c,s,l){if(this.activeTagStack.push(c),s.referenced=!0,!s.constructedBlankNodes)s.constructedBlankNodes=[],this.util.blankNodeFactory=()=>{const f=this.util.dataFactory.blankNode();return s.constructedBlankNodes.push(f),f};else{let f=0;this.util.blankNodeFactory=()=>s.constructedBlankNodes[f++]}this.emitPatternCopyAbsolute(s,!0,l),this.util.blankNodeFactory=null,this.activeTagStack.pop()}emitPatternCopyAbsolute(c,s,l){if(!(!s&&c.attributes.property==="rdfa:copy"&&c.attributes.href===l)){this.onTagOpen(c.name,c.attributes);for(const f of c.text)this.onText(f);for(const f of c.children)this.emitPatternCopyAbsolute(f,!1,l);this.onTagClose()}}initializeParser(c){return new a.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(s){this.emit("error",s)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(s){this.emit("error",s)}},onopentag:(s,l)=>{try{this.onTagOpen(s,l),this.htmlParseListener&&this.htmlParseListener.onTagOpen(s,l)}catch(f){this.emit("error",f)}},ontext:s=>{try{this.onText(s),this.htmlParseListener&&this.htmlParseListener.onText(s)}catch(l){this.emit("error",l)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:c})}};return kb.RdfaParser=i,kb}var _B;function mB(){return _B||(_B=1,function(a){var t=Ho&&Ho.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ho&&Ho.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(bde(),a),u(_de(),a),u(mde(),a),u(Lde(),a),u(GR(),a),u(yB(),a)}(Ho)),Ho}var gB;function jde(){if(gB)return Gb;gB=1,Object.defineProperty(Gb,"__esModule",{value:!0}),Gb.ActorRdfParseXmlRdfa=void 0;const a=lh(),t=ke(),u=mB();let n=class extends a.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,i,o){var f;const c=e.context.getSafe(t.KeysInitQuery.dataFactory),s=(e.headers&&e.headers.get("content-language"))??void 0;e.data.on("error",d=>l.emit("error",d));const l=e.data.pipe(new u.RdfaParser({dataFactory:c,baseIRI:(f=e.metadata)==null?void 0:f.baseIRI,profile:"xml",language:s}));return{data:l,metadata:{triples:!0}}}};return Gb.ActorRdfParseXmlRdfa=n,Gb}var vB;function Mde(){return vB||(vB=1,function(a){var t=Qo&&Qo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Qo&&Qo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(jde(),a)}(Qo)),Qo}var Wo={},t_={},bh={},r_={},TB;function wB(){if(TB)return r_;TB=1,Object.defineProperty(r_,"__esModule",{value:!0}),r_.promisifyEventEmitter=void 0;function a(t,u){return new Promise((n,r)=>{t.on("end",()=>n(u)),t.on("error",r)})}return r_.promisifyEventEmitter=a,r_}var SB;function _h(){if(SB)return bh;SB=1;var a=bh&&bh.__awaiter||function(n,r,e,i){function o(c){return c instanceof e?c:new e(function(s){s(c)})}return new(e||(e=Promise))(function(c,s){function l(h){try{d(i.next(h))}catch(p){s(p)}}function f(h){try{d(i.throw(h))}catch(p){s(p)}}function d(h){h.done?c(h.value):o(h.value).then(l,f)}d((i=i.apply(n,r||[])).next())})};Object.defineProperty(bh,"__esModule",{value:!0}),bh.stringify=u;const t=wB();function u(n){return a(this,void 0,void 0,function*(){let r="";return n.on("data",e=>{r+=e}),yield(0,t.promisifyEventEmitter)(n),r})}return bh}var YO={},zR,OB;function qde(){if(OB)return zR;OB=1;var a=function(){var t=function(Pe,Be,ze,Ke){for(ze=ze||{},Ke=Pe.length;Ke--;ze[Pe[Ke]]=Be);return ze},u=[7,12,13,14,15,16,20,25,115,130],n=[7,13,16,20,25,115,130],r=[7,13,16,115,130],e=[1,25],i=[1,29],o=[1,27],c=[1,28],s=[13,16,115,130],l=[13,16,28,38,40,42,44,46,48,53,56,61,67,85,87,92,93,95,96,102,110,111,115,119,120,126,128,129,130,131,132,133,134,135,136],f=[28,56],d=[1,42],h=[46,48,53,56],p=[1,54],b=[1,60],m=[1,56],y=[1,57],g=[1,58],_=[1,63],v=[1,64],T=[1,65],w=[1,66],A=[1,67],M=[1,68],F=[1,75],O=[28,46,48,53,56],E=[28,42,46,48,53,56],x=[13,16,28,38,40,42,44,46,48,53,56,92,115,119,120,130,131,132,133,134,135,136],L=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,119,120,126,128,129,130,131,132,133,134,135,136],V=[13,16,38,40,44,92,115,119,120,130,131,132,133,134,135,136],$=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,117,118,119,120,126,128,129,130,131,132,133,134,135,136],Q=[13,16,28,56,115,130],ie=[13,16,38,58,87,96,109,115,126,130],ue=[1,116],pe=[1,112],X=[1,108],me=[1,114],Fe=[1,111],ve=[7,13,16,20,25,44,48,53,56,67,85,87,95,96,115,128,129,130],re=[48,53],je=[48,53,87,96,126],qe=[13,16,44,48,53,56,85,87,95,96,115,128,129,130],$e=[1,126],ge=[13,16,40,44,48,53,56,85,87,95,96,115,128,129,130],we=[1,129],G=[48,53,67,87,96,126],N=[13,16,40,44,48,53,56,67,85,87,95,96,115,128,129,130],P=[1,133],S=[13,16,40,44,48,53,56,67,85,87,95,96,102,115,128,129,130],I=[13,16,40,44,48,53,56,67,85,87,93,95,96,102,110,111,115,128,129,130],B=[1,151],z=[1,153],H=[1,156],K=[1,157],k=[1,158],Z=[1,167],de=[1,175],le=[13,16,44,48,53,56,67,85,87,95,96,115,128,129,130],De=[13,16,44,48,53,56,67,85,87,95,96,115,126,128,129,130],Qe=[13,16,46,92,115,119,120,130,131,132,133,134,135,136],Le={trace:function(){},yy:{},symbols_:{error:2,shaclDoc:3,shaclDoc_repetition0:4,shaclDoc_repetition1:5,ttlSection:6,EOF:7,directive:8,baseDecl:9,importsDecl:10,prefixDecl:11,KW_BASE:12,IRIREF:13,KW_IMPORTS:14,KW_PREFIX:15,PNAME_NS:16,nodeShapeIri:17,iri:18,nodeShape:19,KW_SHAPE:20,nodeShape_option0:21,nodeShape_option1:22,nodeShapeBody:23,shapeClass:24,KW_SHAPE_CLASS:25,shapeClass_option0:26,turtleAnnotation:27,";":28,turtleAnnotation2:29,predicate:30,turtleAnnotation2_option0:31,objectList:32,object:33,objectList_repetition0:34,iriOrLiteral:35,blankNodeSection:36,list:37,"(":38,list_repetition0:39,")":40,objectTail:41,",":42,LB:43,"[":44,RB:45,"]":46,LP:47,"%":48,RP:49,pcSection:50,iriHead:51,ttlStatement:52,".":53,ttlSection_repetition0:54,startNodeShape:55,"{":56,endNodeShape:57,"}":58,nodeShapeBody_repetition0:59,targetClass:60,"->":61,targetClass_repetition_plus0:62,constraint:63,constraint_group0:64,constraint_option0:65,orNotComponent:66,"|":67,nodeNot:68,nodeOrEmit:69,nodeOr:70,nodeOr_repetition_plus0:71,nodeValue:72,negation:73,nodeValue_group0:74,"=":75,iriOrLiteralOrArray:76,propertyShape:77,path:78,propertyShape_repetition0:79,propertyOrComponent:80,propertyNot:81,propertyOr:82,propertyOr_repetition_plus0:83,propertyAtom:84,NODEKIND:85,shapeRef:86,PARAM:87,propertyCount:88,propertyMinCount:89,"..":90,propertyMaxCount:91,INTEGER:92,"*":93,shapeRef_group0:94,"@":95,"!":96,pathAlternative:97,additionalAlternative:98,pathSequence:99,pathAlternative_repetition_plus0:100,additionalSequence:101,"/":102,pathEltOrInverse:103,pathSequence_repetition_plus0:104,pathElt:105,pathPrimary:106,pathMod:107,pathInverse:108,"^":109,"?":110,"+":111,iriOrLiteralOrArray_repetition0:112,literal:113,iri_group0:114,a:115,string:116,LANGTAG:117,"^^":118,DECIMAL:119,DOUBLE:120,literal_group0:121,string_group0:122,string_group1:123,shaclDoc_repetition1_group0:124,constraint_group0_repetition_plus0:125,TARGET:126,propertyShape_repetition0_group0:127,ATPNAME_LN:128,ATPNAME_NS:129,PNAME_LN:130,KW_TRUE:131,KW_FALSE:132,STRING_LITERAL1:133,STRING_LITERAL2:134,STRING_LITERAL_LONG1:135,STRING_LITERAL_LONG2:136,$accept:0,$end:1},terminals_:{2:"error",7:"EOF",12:"KW_BASE",13:"IRIREF",14:"KW_IMPORTS",15:"KW_PREFIX",16:"PNAME_NS",20:"KW_SHAPE",25:"KW_SHAPE_CLASS",28:";",38:"(",40:")",42:",",44:"[",46:"]",48:"%",53:".",56:"{",58:"}",61:"->",67:"|",75:"=",85:"NODEKIND",87:"PARAM",90:"..",92:"INTEGER",93:"*",95:"@",96:"!",102:"/",109:"^",110:"?",111:"+",115:"a",117:"LANGTAG",118:"^^",119:"DECIMAL",120:"DOUBLE",126:"TARGET",128:"ATPNAME_LN",129:"ATPNAME_NS",130:"PNAME_LN",131:"KW_TRUE",132:"KW_FALSE",133:"STRING_LITERAL1",134:"STRING_LITERAL2",135:"STRING_LITERAL_LONG1",136:"STRING_LITERAL_LONG2"},productions_:[0,[3,4],[8,1],[8,1],[8,1],[9,2],[10,2],[11,3],[17,1],[19,5],[24,4],[27,2],[29,2],[30,2],[32,2],[33,1],[33,1],[33,1],[37,3],[41,2],[43,1],[45,1],[36,3],[47,1],[49,1],[50,3],[51,1],[52,3],[6,1],[55,1],[57,1],[23,3],[60,2],[63,3],[66,2],[69,1],[70,1],[70,2],[68,1],[68,2],[72,3],[77,2],[80,2],[82,1],[82,2],[81,1],[81,2],[84,1],[84,1],[84,1],[84,3],[84,1],[88,5],[89,1],[91,1],[91,1],[86,1],[86,2],[73,1],[78,1],[98,2],[97,1],[97,2],[101,2],[99,1],[99,2],[105,1],[105,2],[103,1],[103,2],[108,1],[107,1],[107,1],[107,1],[106,1],[106,3],[76,1],[76,3],[35,1],[35,1],[18,1],[18,1],[18,1],[113,1],[113,2],[113,3],[113,1],[113,1],[113,1],[113,1],[116,1],[116,1],[4,0],[4,2],[124,1],[124,1],[5,0],[5,2],[21,0],[21,1],[22,0],[22,1],[26,0],[26,1],[31,0],[31,1],[34,0],[34,2],[39,0],[39,2],[54,0],[54,2],[59,0],[59,2],[62,1],[62,2],[125,1],[125,2],[64,1],[64,1],[65,0],[65,1],[71,1],[71,2],[74,1],[74,1],[127,1],[127,1],[79,0],[79,2],[83,1],[83,2],[94,1],[94,1],[100,1],[100,2],[104,1],[104,2],[112,0],[112,2],[114,1],[114,1],[121,1],[121,1],[122,1],[122,1],[123,1],[123,1]],performAction:function(Be,ze,Ke,ct,Ze,Ye,Hr){var Je=Ye.length-1;switch(Ze){case 1:this.$=j(he.factory.namedNode(Ce("")),he.factory.namedNode(se),he.factory.namedNode(Xe+"Ontology"));break;case 5:he.base=he.factory.namedNode(Ye[Je].slice(1,-1)),he.n3Parser._setBase(he.base.value);break;case 6:this.$=j(he.base,he.factory.namedNode(Xe+"imports"),he.factory.namedNode(Ye[Je].slice(1,-1)));break;case 7:this.$=he.prefixes[Ye[Je-1].substr(0,Ye[Je-1].length-1)]=Ce(Ye[Je]);break;case 8:he.nodeShapeStack=!1,j(he.currentNodeShape=Ye[Je],he.factory.namedNode(se),he.factory.namedNode(Se+"NodeShape"));break;case 10:this.$=j(he.currentNodeShape,he.factory.namedNode(se),he.factory.namedNode(Y+"Class"));break;case 11:this.$=W();break;case 13:this.$=Ye[Je].forEach(Ie=>j(he.currentNodeShape,Ye[Je-1],Ie));break;case 14:this.$=[Ye[Je-1],...Ye[Je]];break;case 18:this.$=Ne(Ye[Je-1],!0);break;case 19:case 34:case 42:case 60:case 63:this.$=Ye[Je];break;case 20:he.tempCurrentNodeShape=he.currentNodeShape,this.$=he.currentNodeShape=rt();break;case 21:he.currentNodeShape=he.tempCurrentNodeShape;break;case 22:case 31:this.$=Ye[Je-2];break;case 23:he.tempCurrentNodeShape=he.currentNodeShape,he.currentNodeShape=he.currentPropertyNode;break;case 24:he.currentNodeShape=he.tempCurrentNodeShape;break;case 26:he.currentNodeShape=Ye[Je];break;case 29:he.nodeShapeStack?(he.nodeShapeStack.push(he.currentNodeShape),j(he.currentPropertyNode,he.factory.namedNode(Se+"node"),he.currentNodeShape=rt())):he.nodeShapeStack=[],this.$=he.currentNodeShape;break;case 30:he.nodeShapeStack.length>0&&(he.currentNodeShape=he.nodeShapeStack.pop());break;case 32:this.$=Ye[Je].forEach(Ie=>{j(he.currentNodeShape,he.factory.namedNode(Se+"targetClass"),Ie)});break;case 35:this.$=j(he.currentNodeShape,he.factory.namedNode(Se+Ye[Je][0]),Ye[Je][1]);break;case 36:break;case 37:const oe=Ne([Ye[Je-1],...Ye[Je]].map(Ie=>{const nt=rt();return j(nt,he.factory.namedNode(Se+Ie[0]),Ie[1]),nt}));this.$=["or",oe];break;case 39:case 46:this.$=q("not",...Ye[Je]);break;case 40:case 50:this.$=[Ye[Je-2],Ye[Je]];break;case 43:this.$=Ye[Je]&&D(...Ye[Je]);break;case 44:this.$=D("or",Ne([Ye[Je-1],...Ye[Je]].map(Ie=>{const nt=rt();return j(nt,he.factory.namedNode(Se+Ie[0]),Ie[1]),nt})));break;case 47:this.$=[Ee[Ye[Je].value]?"datatype":"class",Ye[Je]];break;case 48:this.$=["nodeKind",he.factory.namedNode(Se+Ye[Je])];break;case 49:this.$=["node",he.factory.namedNode(Ye[Je])];break;case 51:this.$=void 0;break;case 53:this.$=Ye[Je]>0&&D("minCount",tt(Ye[Je],C));break;case 54:this.$=D("maxCount",tt(Ye[Je],C));break;case 56:this.$=Ue(Ye[Je].slice(1));break;case 57:this.$=Ce(Ye[Je]);break;case 59:j(he.currentNodeShape,he.factory.namedNode(Se+"property"),he.currentPropertyNode=rt()),D("path",Ye[Je]);break;case 62:const Oe=rt();j(Oe,he.factory.namedNode(Se+"alternativePath"),Ne([Ye[Je-1],...Ye[Je]])),this.$=Oe;break;case 65:this.$=Ne([Ye[Je-1],...Ye[Je]]);break;case 67:j(this.$=rt(),he.factory.namedNode(Se+Ye[Je]),Ye[Je-1]);break;case 69:j(this.$=rt(),he.factory.namedNode(Se+"inversePath"),Ye[Je]);break;case 71:this.$="zeroOrOnePath";break;case 72:this.$="zeroOrMorePath";break;case 73:this.$="oneOrMorePath";break;case 75:this.$=Ye[Je-1];break;case 77:this.$=Ne(Ye[Je-1]);break;case 80:this.$=he.factory.namedNode(Ce(Ye[Je]));break;case 81:this.$=he.factory.namedNode(Ue(Ye[Je]));break;case 82:this.$=W(he.factory.namedNode(se));break;case 83:this.$=tt(Ye[Je]);break;case 84:this.$=ut(Ye[Je-1],lowercase(Ye[Je].substr(1)));break;case 85:this.$=tt(Ye[Je-2],Ye[Je]);break;case 86:this.$=tt(Ye[Je],C);break;case 87:this.$=tt(Ye[Je],J);break;case 88:this.$=tt(Ye[Je].toLowerCase(),ae);break;case 89:this.$=tt(Ye[Je].toLowerCase(),_e);break;case 90:this.$=ne(Ye[Je],1);break;case 91:this.$=ne(Ye[Je],3);break;case 92:case 96:case 106:case 108:case 110:case 112:case 128:case 138:this.$=[];break;case 93:case 97:case 107:case 109:case 111:case 113:case 115:case 117:case 123:case 129:case 131:case 135:case 137:case 139:Ye[Je-1].push(Ye[Je]);break;case 114:case 116:case 122:case 130:case 134:case 136:this.$=[Ye[Je]];break}},table:[t(u,[2,92],{3:1,4:2}),{1:[3]},t(n,[2,96],{5:3,8:4,9:5,10:6,11:7,12:[1,8],14:[1,9],15:[1,10]}),t(r,[2,110],{6:11,124:12,54:13,19:14,24:15,20:[1,16],25:[1,17]}),t(u,[2,93]),t(u,[2,2]),t(u,[2,3]),t(u,[2,4]),{13:[1,18]},{13:[1,19]},{16:[1,20]},{7:[1,21]},t(n,[2,97]),{7:[2,28],13:e,16:i,18:24,51:23,52:22,114:26,115:o,130:c},t(n,[2,94]),t(n,[2,95]),{13:e,16:i,17:30,18:31,114:26,115:o,130:c},{13:e,16:i,17:32,18:31,114:26,115:o,130:c},t(u,[2,5]),t(u,[2,6]),{13:[1,33]},{1:[2,1]},t(r,[2,111]),{13:e,16:i,18:36,29:34,30:35,114:26,115:o,130:c},t(s,[2,26]),t(l,[2,80]),t(l,[2,81]),t(l,[2,82]),t(l,[2,140]),t(l,[2,141]),t(f,[2,98],{21:37,60:38,61:[1,39]}),t([28,56,61],[2,8]),{26:40,27:41,28:d,56:[2,102]},t(u,[2,7]),{53:[1,43]},t(h,[2,104],{31:44,27:45,28:d}),{13:e,16:i,18:51,32:46,33:47,35:48,36:49,37:50,38:p,43:53,44:b,92:m,113:52,114:26,115:o,116:55,119:y,120:g,121:59,122:61,123:62,130:c,131:_,132:v,133:T,134:w,135:A,136:M},{22:69,27:70,28:d,56:[2,100]},t(f,[2,99]),{13:e,16:i,18:72,62:71,114:26,115:o,130:c},{23:73,55:74,56:F},{56:[2,103]},{13:e,16:i,18:36,29:76,30:35,114:26,115:o,130:c},t(r,[2,27]),t(h,[2,12]),t(h,[2,105]),t(O,[2,13]),t(E,[2,106],{34:77}),t(x,[2,15]),t(x,[2,16]),t(x,[2,17]),t(L,[2,78]),t(L,[2,79]),{13:e,16:i,18:36,29:78,30:35,114:26,115:o,130:c},t(V,[2,108],{39:79}),t(L,[2,83],{117:[1,80],118:[1,81]}),t(L,[2,86]),t(L,[2,87]),t(L,[2,88]),t(L,[2,89]),t(s,[2,20]),t($,[2,90]),t($,[2,91]),t(L,[2,142]),t(L,[2,143]),t($,[2,144]),t($,[2,145]),t($,[2,146]),t($,[2,147]),{23:82,55:74,56:F},{56:[2,101]},t(f,[2,32],{114:26,18:83,13:e,16:i,115:o,130:c}),t(Q,[2,114]),t(n,[2,10]),t(ie,[2,112],{59:84}),t(ie,[2,29]),t(h,[2,11]),t(O,[2,14],{41:85,42:[1,86]}),{45:87,46:[1,88]},{13:e,16:i,18:51,33:90,35:48,36:49,37:50,38:p,40:[1,89],43:53,44:b,92:m,113:52,114:26,115:o,116:55,119:y,120:g,121:59,122:61,123:62,130:c,131:_,132:v,133:T,134:w,135:A,136:M},t(L,[2,84]),{13:e,16:i,18:91,114:26,115:o,130:c},t(n,[2,9]),t(Q,[2,115]),{13:e,16:i,18:115,38:ue,57:92,58:[1,94],63:93,64:95,68:102,69:98,70:100,72:104,73:105,74:107,77:97,78:99,87:pe,96:X,97:101,99:103,103:106,105:109,106:113,108:110,109:me,114:26,115:o,125:96,126:Fe,130:c},t(E,[2,107]),{13:e,16:i,18:51,33:117,35:48,36:49,37:50,38:p,43:53,44:b,92:m,113:52,114:26,115:o,116:55,119:y,120:g,121:59,122:61,123:62,130:c,131:_,132:v,133:T,134:w,135:A,136:M},t(x,[2,22]),t(x,[2,21]),t(x,[2,18]),t(V,[2,109]),t(L,[2,85]),t(ve,[2,31]),t(ie,[2,113]),t(ve,[2,30]),{47:120,48:[1,121],50:119,53:[2,120],65:118},t(re,[2,118],{70:100,68:102,72:104,73:105,74:107,69:122,87:pe,96:X,126:Fe}),t(re,[2,119]),t(je,[2,116]),t(qe,[2,128],{79:123}),t(je,[2,35]),t(qe,[2,59]),t(je,[2,36],{71:124,66:125,67:$e}),t(ge,[2,61],{100:127,98:128,67:we}),t(G,[2,38]),{72:130,74:107,87:pe,126:Fe},t(N,[2,64],{104:131,101:132,102:P}),{75:[1,134]},t([13,16,56,85,87,95,115,126,128,129,130],[2,58]),t(S,[2,68]),{13:e,16:i,18:115,38:ue,105:135,106:113,114:26,115:o,130:c},{75:[2,124]},{75:[2,125]},t(S,[2,66],{107:136,93:[1,138],110:[1,137],111:[1,139]}),t([13,16,38,115,130],[2,70]),t(I,[2,74]),{13:e,16:i,18:115,38:ue,97:140,99:103,103:106,105:109,106:113,108:110,109:me,114:26,115:o,130:c},t(E,[2,19]),{53:[1,141]},{53:[2,121]},{13:e,16:i,18:36,29:142,30:35,114:26,115:o,130:c},t(s,[2,23]),t(je,[2,117]),t(re,[2,41],{114:26,55:74,127:143,88:144,82:145,81:147,84:148,73:149,18:150,86:152,23:154,94:155,13:e,16:i,44:[1,146],56:F,85:B,87:z,95:H,96:X,115:o,128:K,129:k,130:c}),t(je,[2,37],{66:159,67:$e}),t(G,[2,122]),{68:160,72:104,73:105,74:107,87:pe,96:X,126:Fe},t(ge,[2,62],{98:161,67:we}),t(N,[2,134]),{13:e,16:i,18:115,38:ue,99:162,103:106,105:109,106:113,108:110,109:me,114:26,115:o,130:c},t(G,[2,39]),t(N,[2,65],{101:163,102:P}),t(S,[2,136]),{13:e,16:i,18:115,38:ue,103:164,105:109,106:113,108:110,109:me,114:26,115:o,130:c},{13:e,16:i,18:51,35:166,44:Z,76:165,92:m,113:52,114:26,115:o,116:55,119:y,120:g,121:59,122:61,123:62,130:c,131:_,132:v,133:T,134:w,135:A,136:M},t(S,[2,69]),t(S,[2,67]),t(S,[2,71]),t(S,[2,72]),t(S,[2,73]),{40:[1,168]},t(ie,[2,33]),{48:[1,170],49:169},t(qe,[2,129]),t(qe,[2,126]),t(qe,[2,127]),{89:171,92:[1,172]},t(qe,[2,43],{83:173,80:174,67:de}),t(le,[2,45]),{13:e,16:i,18:150,23:154,55:74,56:F,84:176,85:B,86:152,87:z,94:155,95:H,114:26,115:o,128:K,129:k,130:c},t(le,[2,47]),t(le,[2,48]),t(le,[2,49]),{75:[1,177]},t(le,[2,51]),t(le,[2,56]),{13:[1,178]},t(le,[2,132]),t(le,[2,133]),t(G,[2,123]),t(G,[2,34]),t(N,[2,135]),t(N,[2,60]),t(S,[2,137]),t(S,[2,63]),t(G,[2,40]),t(De,[2,76]),t(Qe,[2,138],{112:179}),t(I,[2,75]),{53:[2,25]},{53:[2,24]},{90:[1,180]},{90:[2,53]},t(qe,[2,44],{80:181,67:de}),t(le,[2,130]),{13:e,16:i,18:150,23:154,55:74,56:F,73:149,81:182,84:148,85:B,86:152,87:z,94:155,95:H,96:X,114:26,115:o,128:K,129:k,130:c},t(le,[2,46]),{13:e,16:i,18:51,35:166,44:Z,76:183,92:m,113:52,114:26,115:o,116:55,119:y,120:g,121:59,122:61,123:62,130:c,131:_,132:v,133:T,134:w,135:A,136:M},t(le,[2,57]),{13:e,16:i,18:51,35:185,46:[1,184],92:m,113:52,114:26,115:o,116:55,119:y,120:g,121:59,122:61,123:62,130:c,131:_,132:v,133:T,134:w,135:A,136:M},{91:186,92:[1,187],93:[1,188]},t(le,[2,131]),t(le,[2,42]),t(le,[2,50]),t(De,[2,77]),t(Qe,[2,139]),{46:[1,189]},{46:[2,54]},{46:[2,55]},t(qe,[2,52])],defaultActions:{21:[2,1],41:[2,103],70:[2,101],111:[2,124],112:[2,125],119:[2,121],169:[2,25],170:[2,24],172:[2,53],187:[2,54],188:[2,55]},parseError:function(Be,ze){if(ze.recoverable)this.trace(Be);else{var Ke=new Error(Be);throw Ke.hash=ze,Ke}},parse:function(Be){var ze=this,Ke=[0],ct=[null],Ze=[],Ye=this.table,Hr="",Je=0,oe=0,Oe=2,Ie=1,nt=Ze.slice.call(arguments,1),it=Object.create(this.lexer),Ot={yy:{}};for(var ur in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ur)&&(Ot.yy[ur]=this.yy[ur]);it.setInput(Be,Ot.yy),Ot.yy.lexer=it,Ot.yy.parser=this,typeof it.yylloc>"u"&&(it.yylloc={});var zt=it.yylloc;Ze.push(zt);var Bi=it.options&&it.options.ranges;typeof Ot.yy.parseError=="function"?this.parseError=Ot.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var bn=function(){var on;return on=it.lex()||Ie,typeof on!="number"&&(on=ze.symbols_[on]||on),on},Zt,Dn,Dr,ni,Pr={},Tf,Gr,Lh,wf;;){if(Dn=Ke[Ke.length-1],this.defaultActions[Dn]?Dr=this.defaultActions[Dn]:((Zt===null||typeof Zt>"u")&&(Zt=bn()),Dr=Ye[Dn]&&Ye[Dn][Zt]),typeof Dr>"u"||!Dr.length||!Dr[0]){var _n="";wf=[];for(Tf in Ye[Dn])this.terminals_[Tf]&&Tf>Oe&&wf.push("'"+this.terminals_[Tf]+"'");it.showPosition?_n="Parse error on line "+(Je+1)+`:
`+it.showPosition()+`
Expecting `+wf.join(", ")+", got '"+(this.terminals_[Zt]||Zt)+"'":_n="Parse error on line "+(Je+1)+": Unexpected "+(Zt==Ie?"end of input":"'"+(this.terminals_[Zt]||Zt)+"'"),this.parseError(_n,{text:it.match,token:this.terminals_[Zt]||Zt,line:it.yylineno,loc:zt,expected:wf})}if(Dr[0]instanceof Array&&Dr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Dn+", token: "+Zt);switch(Dr[0]){case 1:Ke.push(Zt),ct.push(it.yytext),Ze.push(it.yylloc),Ke.push(Dr[1]),Zt=null,oe=it.yyleng,Hr=it.yytext,Je=it.yylineno,zt=it.yylloc;break;case 2:if(Gr=this.productions_[Dr[1]][1],Pr.$=ct[ct.length-Gr],Pr._$={first_line:Ze[Ze.length-(Gr||1)].first_line,last_line:Ze[Ze.length-1].last_line,first_column:Ze[Ze.length-(Gr||1)].first_column,last_column:Ze[Ze.length-1].last_column},Bi&&(Pr._$.range=[Ze[Ze.length-(Gr||1)].range[0],Ze[Ze.length-1].range[1]]),ni=this.performAction.apply(Pr,[Hr,oe,Je,Ot.yy,Dr[1],ct,Ze].concat(nt)),typeof ni<"u")return ni;Gr&&(Ke=Ke.slice(0,-1*Gr*2),ct=ct.slice(0,-1*Gr),Ze=Ze.slice(0,-1*Gr)),Ke.push(this.productions_[Dr[1]][0]),ct.push(Pr.$),Ze.push(Pr._$),Lh=Ye[Ke[Ke.length-2]][Ke[Ke.length-1]],Ke.push(Lh);break;case 3:return!0}}return!0}};const ce="http://www.w3.org/1999/02/22-rdf-syntax-ns#",se=ce+"type",ye=ce+"first",xe=ce+"rest",U=ce+"nil",R="http://www.w3.org/2001/XMLSchema#",C=R+"integer",J=R+"decimal",ae=R+"double",_e=R+"boolean",Se="http://www.w3.org/ns/shacl#",Xe="http://www.w3.org/2002/07/owl#",Y="http://www.w3.org/2000/01/rdf-schema#",Ee={[C]:!0,[J]:!0,[R+"float"]:!0,[ae]:!0,[R+"string"]:!0,[_e]:!0,[R+"dateTime"]:!0,[R+"nonPositiveInteger"]:!0,[R+"negativeInteger"]:!0,[R+"long"]:!0,[R+"int"]:!0,[R+"short"]:!0,[R+"byte"]:!0,[R+"nonNegativeInteger"]:!0,[R+"unsignedLong"]:!0,[R+"unsignedShort"]:!0,[R+"unsignedByte"]:!0,[R+"positiveInteger"]:!0,[ce+"langString"]:!0};function Ne(Pe,Be=!1){let ze=0,Ke=Pe.length;if(Be&&Ke===0)return he.factory.namedNode(U);const ct=head=rt();return Ke===0&&j(head,he.factory.namedNode(xe),he.factory.namedNode(U)),Pe.forEach(Ze=>{if(Ze===void 0)throw new Error("b");j(head,he.factory.namedNode(ye),Ze),j(head,he.factory.namedNode(xe),head=++ze<Ke?rt():he.factory.namedNode(U))}),ct}function Ce(Pe){return he.n3Parser._resolveIRI(Pe[0]==="<"?Pe.substring(1,Pe.length-1):Pe)}function Ue(Pe){const Be=Pe.indexOf(":"),ze=Pe.substr(0,Be),Ke=he.prefixes[ze];if(!Ke)throw new Error("Unknown prefix: "+ze);return Ce(Ke+Pe.substr(Be+1))}function tt(Pe,Be){return Be&&Be.termType!=="NamedNode"&&(Be=he.factory.namedNode(Be)),he.factory.literal(Pe,Be)}function ut(Pe,Be){return he.factory.literal(Pe,Be)}function rt(Pe){return he.factory.blankNode("g_"+lt++)}var lt=0;he._resetBlanks=function(){lt=0};function ne(Pe,Be){return he.n3Parser._lexer._unescape(Pe.substring(Be,Pe.length-Be))}function j(Pe,Be,ze){if(!Pe.termType||!Be.termType||Be.value.includes(",")||!ze.termType)throw new Error(`boo ${Pe.value} ${Be.value} ${ze.value}`);he.onQuad(he.factory.quad(Pe,Be,ze))}function D(Pe,Be){j(he.currentPropertyNode,he.factory.namedNode(Se+Pe),Be)}function q(Pe,Be,ze){const Ke=rt();return j(Ke,he.factory.namedNode(Se+Be),ze),[Pe,Ke]}function W(Pe){if(!he.extended)throw new Error("Encountered extended SHACLC syntax; but extended parsing is disabled");return Pe}var be=function(){var Pe={EOF:1,parseError:function(ze,Ke){if(this.yy.parser)this.yy.parser.parseError(ze,Ke);else throw new Error(ze)},setInput:function(Be,ze){return this.yy=ze||this.yy||{},this._input=Be,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Be=this._input[0];this.yytext+=Be,this.yyleng++,this.offset++,this.match+=Be,this.matched+=Be;var ze=Be.match(/(?:\r\n?|\n).*/g);return ze?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Be},unput:function(Be){var ze=Be.length,Ke=Be.split(/(?:\r\n?|\n)/g);this._input=Be+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ze),this.offset-=ze;var ct=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ke.length-1&&(this.yylineno-=Ke.length-1);var Ze=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ke?(Ke.length===ct.length?this.yylloc.first_column:0)+ct[ct.length-Ke.length].length-Ke[0].length:this.yylloc.first_column-ze},this.options.ranges&&(this.yylloc.range=[Ze[0],Ze[0]+this.yyleng-ze]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Be){this.unput(this.match.slice(Be))},pastInput:function(){var Be=this.matched.substr(0,this.matched.length-this.match.length);return(Be.length>20?"...":"")+Be.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Be=this.match;return Be.length<20&&(Be+=this._input.substr(0,20-Be.length)),(Be.substr(0,20)+(Be.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Be=this.pastInput(),ze=new Array(Be.length+1).join("-");return Be+this.upcomingInput()+`
`+ze+"^"},test_match:function(Be,ze){var Ke,ct,Ze;if(this.options.backtrack_lexer&&(Ze={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ze.yylloc.range=this.yylloc.range.slice(0))),ct=Be[0].match(/(?:\r\n?|\n).*/g),ct&&(this.yylineno+=ct.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ct?ct[ct.length-1].length-ct[ct.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Be[0].length},this.yytext+=Be[0],this.match+=Be[0],this.matches=Be,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Be[0].length),this.matched+=Be[0],Ke=this.performAction.call(this,this.yy,this,ze,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ke)return Ke;if(this._backtrack){for(var Ye in Ze)this[Ye]=Ze[Ye];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Be,ze,Ke,ct;this._more||(this.yytext="",this.match="");for(var Ze=this._currentRules(),Ye=0;Ye<Ze.length;Ye++)if(Ke=this._input.match(this.rules[Ze[Ye]]),Ke&&(!ze||Ke[0].length>ze[0].length)){if(ze=Ke,ct=Ye,this.options.backtrack_lexer){if(Be=this.test_match(Ke,Ze[Ye]),Be!==!1)return Be;if(this._backtrack){ze=!1;continue}else return!1}else if(!this.options.flex)break}return ze?(Be=this.test_match(ze,Ze[ct]),Be!==!1?Be:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ze=this.next();return ze||this.lex()},begin:function(ze){this.conditionStack.push(ze)},popState:function(){var ze=this.conditionStack.length-1;return ze>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ze){return ze=this.conditionStack.length-1-Math.abs(ze||0),ze>=0?this.conditionStack[ze]:"INITIAL"},pushState:function(ze){this.begin(ze)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(ze,Ke,ct,Ze){switch(ct){case 0:break;case 1:return 12;case 2:return 14;case 3:return 15;case 4:return 25;case 5:return 20;case 6:return 131;case 7:return 132;case 8:return 85;case 9:return 126;case 10:return 87;case 11:return"PASS";case 12:return"COMMENT";case 13:return 13;case 14:return 16;case 15:return 130;case 16:return 129;case 17:return 128;case 18:return 117;case 19:return 92;case 20:return 119;case 21:return 120;case 22:return"EXPONENT";case 23:return 133;case 24:return 134;case 25:return 135;case 26:return 136;case 27:return 61;case 28:return 90;case 29:return 58;case 30:return 56;case 31:return 38;case 32:return 40;case 33:return 44;case 34:return 46;case 35:return 110;case 36:return 93;case 37:return 111;case 38:return 67;case 39:return 118;case 40:return 53;case 41:return 96;case 42:return 102;case 43:return 75;case 44:return 95;case 45:return 109;case 46:return 28;case 47:return 42;case 48:return 48;case 49:return 115;case 50:return 7;case 51:console.log(Ke.yytext);break}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:IMPORTS)/i,/^(?:PREFIX)/i,/^(?:shapeClass)/i,/^(?:shape)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(BlankNode|IRI|Literal|BlankNodeOrIRI|BlankNodeOrLiteral|IRIOrLiteral\b))/i,/^(?:(targetNode|targetObjectsOf|targetSubjectsOf\b))/i,/^(?:(deactivated|severity|message|class|datatype|nodeKind|minExclusive|minInclusive|maxExclusive|maxInclusive|minLength|maxLength|pattern|flags|languageIn|uniqueLang|equals|disjoint|lessThan|lessThanOrEquals|qualifiedValueShape|qualifiedMinCount|qualifiedMaxCount|qualifiedValueShapesDisjoint|closed|ignoredProperties|hasValue|in))/i,/^(?:([ \t\r\n]+))/i,/^(?:(#[\r\n]*))/i,/^(?:(<([^=<>\"\{\}\|\^`\\\u0000-\u0020]|(\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@(([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(@((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([+-]?[0-9]+))/i,/^(?:([+-]?[0-9]*\.[0-9]+))/i,/^(?:([+-]?([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.?[0-9]+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"\'])))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"\'])))*"""))/i,/^(?:->)/i,/^(?:\.\.)/i,/^(?:\})/i,/^(?:\{)/i,/^(?:\()/i,/^(?:\))/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\?)/i,/^(?:\*)/i,/^(?:\+)/i,/^(?:\|)/i,/^(?:\^\^)/i,/^(?:\.)/i,/^(?:!)/i,/^(?:\/)/i,/^(?:=)/i,/^(?:@)/i,/^(?:\^)/i,/^(?:;)/i,/^(?:,)/i,/^(?:%)/i,/^(?:a)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return Pe}();Le.lexer=be;function he(){this.yy={}}return he.prototype=Le,Le.Parser=he,new he}();return zR=a,zR}var AB;function Cde(){if(AB)return YO;AB=1;const a=qde().Parser,t=da;class u{constructor(){}parse(r,{extendedSyntax:e,baseIRI:i}={}){this._parser=new a,this._parser.Parser.factory=t.DataFactory,this._parser.Parser.base=t.DataFactory.namedNode(i||"urn:x-base:default"),this._parser.Parser.extended=e===!0,this._parser.Parser.prefixes={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"},this._parser.Parser.currentNodeShape=void 0,this._parser.Parser.currentPropertyNode=void 0,this._parser.Parser.nodeShapeStack=[],this._parser.Parser.tempCurrentNodeShape=void 0,this._parser.Parser.n3Parser=new t.Parser({baseIRI:i||"urn:x-base:default"});const o=[];return this._parser.Parser.onQuad=c=>{o.push(c)},this._parser.parse(r),o.prefixes=this._parser.Parser.prefixes,o}}return YO.Parser=u,YO.parse=function(r,e){return new u().parse(r,e)},YO}var n_={},EB;function Bde(){if(EB)return n_;EB=1,Object.defineProperty(n_,"__esModule",{value:!0}),n_.PrefixWrappingIterator=void 0;const a=gt();let t=class extends a.WrappingIterator{constructor(n){super(n==null?void 0:n.then(r=>(this.prefixes=r.prefixes,r)))}read(){if(this.prefixes){for(const n of Object.entries(this.prefixes))this.emit("prefix",...n);delete this.prefixes}return super.read()}};return n_.PrefixWrappingIterator=t,n_}var xB;function $de(){if(xB)return t_;xB=1,Object.defineProperty(t_,"__esModule",{value:!0}),t_.ActorRdfParseShaclc=void 0;const a=lh(),t=_h(),u=Mt(),n=Cde(),r=Bde();let e=class extends a.ActorRdfParseFixedMediaTypes{constructor(o){super(o)}async runHandle(o,c,s){const l=new r.PrefixWrappingIterator((0,t.stringify)(o.data).then(d=>{var h;return(0,n.parse)(d,{extendedSyntax:c==="text/shaclc-ext",baseIRI:(h=o.metadata)==null?void 0:h.baseIRI})})),f=new u.Readable({objectMode:!0});return l.on("prefix",(...d)=>f.emit("prefix",...d)),{data:f.wrap(l),metadata:{triples:!0}}}};return t_.ActorRdfParseShaclc=e,t_}var IB;function Vde(){return IB||(IB=1,function(a){var t=Wo&&Wo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Wo&&Wo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u($de(),a)}(Wo)),Wo}var Yo={},i_={},Xn={},Jn={},mh={},XR={},a_={},RB;function NB(){return RB||(RB=1,Object.defineProperty(a_,"__esModule",{value:!0}),a_.htmlDecodeTree=void 0,a_.htmlDecodeTree=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(a=>a.charCodeAt(0)))),a_}var u_={},FB;function DB(){return FB||(FB=1,Object.defineProperty(u_,"__esModule",{value:!0}),u_.xmlDecodeTree=void 0,u_.xmlDecodeTree=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(a=>a.charCodeAt(0)))),u_}var JR={},PB;function LB(){return PB||(PB=1,function(a){var t;Object.defineProperty(a,"__esModule",{value:!0}),a.fromCodePoint=void 0,a.replaceCodePoint=n,a.decodeCodePoint=r;const u=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);a.fromCodePoint=(t=String.fromCodePoint)!==null&&t!==void 0?t:function(e){let i="";return e>65535&&(e-=65536,i+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),i+=String.fromCharCode(e),i};function n(e){var i;return e>=55296&&e<=57343||e>1114111?65533:(i=u.get(e))!==null&&i!==void 0?i:e}function r(e){return(0,a.fromCodePoint)(n(e))}}(JR)),JR}var jB;function MB(){return jB||(jB=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.fromCodePoint=a.replaceCodePoint=a.decodeCodePoint=a.xmlDecodeTree=a.htmlDecodeTree=a.EntityDecoder=a.DecodingMode=a.BinTrieFlags=void 0,a.determineBranch=b,a.decodeHTML=g,a.decodeHTMLAttribute=_,a.decodeHTMLStrict=v,a.decodeXML=T;const t=NB(),u=DB(),n=LB();var r;(function(F){F[F.NUM=35]="NUM",F[F.SEMI=59]="SEMI",F[F.EQUALS=61]="EQUALS",F[F.ZERO=48]="ZERO",F[F.NINE=57]="NINE",F[F.LOWER_A=97]="LOWER_A",F[F.LOWER_F=102]="LOWER_F",F[F.LOWER_X=120]="LOWER_X",F[F.LOWER_Z=122]="LOWER_Z",F[F.UPPER_A=65]="UPPER_A",F[F.UPPER_F=70]="UPPER_F",F[F.UPPER_Z=90]="UPPER_Z"})(r||(r={}));const e=32;var i;(function(F){F[F.VALUE_LENGTH=49152]="VALUE_LENGTH",F[F.BRANCH_LENGTH=16256]="BRANCH_LENGTH",F[F.JUMP_TABLE=127]="JUMP_TABLE"})(i||(a.BinTrieFlags=i={}));function o(F){return F>=r.ZERO&&F<=r.NINE}function c(F){return F>=r.UPPER_A&&F<=r.UPPER_F||F>=r.LOWER_A&&F<=r.LOWER_F}function s(F){return F>=r.UPPER_A&&F<=r.UPPER_Z||F>=r.LOWER_A&&F<=r.LOWER_Z||o(F)}function l(F){return F===r.EQUALS||s(F)}var f;(function(F){F[F.EntityStart=0]="EntityStart",F[F.NumericStart=1]="NumericStart",F[F.NumericDecimal=2]="NumericDecimal",F[F.NumericHex=3]="NumericHex",F[F.NamedEntity=4]="NamedEntity"})(f||(f={}));var d;(function(F){F[F.Legacy=0]="Legacy",F[F.Strict=1]="Strict",F[F.Attribute=2]="Attribute"})(d||(a.DecodingMode=d={}));class h{constructor(O,E,x){this.decodeTree=O,this.emitCodePoint=E,this.errors=x,this.state=f.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=d.Strict}startEntity(O){this.decodeMode=O,this.state=f.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(O,E){switch(this.state){case f.EntityStart:return O.charCodeAt(E)===r.NUM?(this.state=f.NumericStart,this.consumed+=1,this.stateNumericStart(O,E+1)):(this.state=f.NamedEntity,this.stateNamedEntity(O,E));case f.NumericStart:return this.stateNumericStart(O,E);case f.NumericDecimal:return this.stateNumericDecimal(O,E);case f.NumericHex:return this.stateNumericHex(O,E);case f.NamedEntity:return this.stateNamedEntity(O,E)}}stateNumericStart(O,E){return E>=O.length?-1:(O.charCodeAt(E)|e)===r.LOWER_X?(this.state=f.NumericHex,this.consumed+=1,this.stateNumericHex(O,E+1)):(this.state=f.NumericDecimal,this.stateNumericDecimal(O,E))}addToNumericResult(O,E,x,L){if(E!==x){const V=x-E;this.result=this.result*Math.pow(L,V)+Number.parseInt(O.substr(E,V),L),this.consumed+=V}}stateNumericHex(O,E){const x=E;for(;E<O.length;){const L=O.charCodeAt(E);if(o(L)||c(L))E+=1;else return this.addToNumericResult(O,x,E,16),this.emitNumericEntity(L,3)}return this.addToNumericResult(O,x,E,16),-1}stateNumericDecimal(O,E){const x=E;for(;E<O.length;){const L=O.charCodeAt(E);if(o(L))E+=1;else return this.addToNumericResult(O,x,E,10),this.emitNumericEntity(L,2)}return this.addToNumericResult(O,x,E,10),-1}emitNumericEntity(O,E){var x;if(this.consumed<=E)return(x=this.errors)===null||x===void 0||x.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(O===r.SEMI)this.consumed+=1;else if(this.decodeMode===d.Strict)return 0;return this.emitCodePoint((0,n.replaceCodePoint)(this.result),this.consumed),this.errors&&(O!==r.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(O,E){const{decodeTree:x}=this;let L=x[this.treeIndex],V=(L&i.VALUE_LENGTH)>>14;for(;E<O.length;E++,this.excess++){const $=O.charCodeAt(E);if(this.treeIndex=b(x,L,this.treeIndex+Math.max(1,V),$),this.treeIndex<0)return this.result===0||this.decodeMode===d.Attribute&&(V===0||l($))?0:this.emitNotTerminatedNamedEntity();if(L=x[this.treeIndex],V=(L&i.VALUE_LENGTH)>>14,V!==0){if($===r.SEMI)return this.emitNamedEntityData(this.treeIndex,V,this.consumed+this.excess);this.decodeMode!==d.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var O;const{result:E,decodeTree:x}=this,L=(x[E]&i.VALUE_LENGTH)>>14;return this.emitNamedEntityData(E,L,this.consumed),(O=this.errors)===null||O===void 0||O.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(O,E,x){const{decodeTree:L}=this;return this.emitCodePoint(E===1?L[O]&~i.VALUE_LENGTH:L[O+1],x),E===3&&this.emitCodePoint(L[O+2],x),x}end(){var O;switch(this.state){case f.NamedEntity:return this.result!==0&&(this.decodeMode!==d.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case f.NumericDecimal:return this.emitNumericEntity(0,2);case f.NumericHex:return this.emitNumericEntity(0,3);case f.NumericStart:return(O=this.errors)===null||O===void 0||O.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case f.EntityStart:return 0}}}a.EntityDecoder=h;function p(F){let O="";const E=new h(F,x=>O+=(0,n.fromCodePoint)(x));return function(L,V){let $=0,Q=0;for(;(Q=L.indexOf("&",Q))>=0;){O+=L.slice($,Q),E.startEntity(V);const ue=E.write(L,Q+1);if(ue<0){$=Q+E.end();break}$=Q+ue,Q=ue===0?$+1:$}const ie=O+L.slice($);return O="",ie}}function b(F,O,E,x){const L=(O&i.BRANCH_LENGTH)>>7,V=O&i.JUMP_TABLE;if(L===0)return V!==0&&x===V?E:-1;if(V){const ie=x-V;return ie<0||ie>=L?-1:F[E+ie]-1}let $=E,Q=$+L-1;for(;$<=Q;){const ie=$+Q>>>1,ue=F[ie];if(ue<x)$=ie+1;else if(ue>x)Q=ie-1;else return F[ie+L]}return-1}const m=p(t.htmlDecodeTree),y=p(u.xmlDecodeTree);function g(F,O=d.Legacy){return m(F,O)}function _(F){return m(F,d.Attribute)}function v(F){return m(F,d.Strict)}function T(F){return y(F,d.Strict)}var w=NB();Object.defineProperty(a,"htmlDecodeTree",{enumerable:!0,get:function(){return w.htmlDecodeTree}});var A=DB();Object.defineProperty(a,"xmlDecodeTree",{enumerable:!0,get:function(){return A.xmlDecodeTree}});var M=LB();Object.defineProperty(a,"decodeCodePoint",{enumerable:!0,get:function(){return M.decodeCodePoint}}),Object.defineProperty(a,"replaceCodePoint",{enumerable:!0,get:function(){return M.replaceCodePoint}}),Object.defineProperty(a,"fromCodePoint",{enumerable:!0,get:function(){return M.fromCodePoint}})}(XR)),XR}var qB;function CB(){if(qB)return mh;qB=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.QuoteType=void 0;const a=MB();var t;(function(s){s[s.Tab=9]="Tab",s[s.NewLine=10]="NewLine",s[s.FormFeed=12]="FormFeed",s[s.CarriageReturn=13]="CarriageReturn",s[s.Space=32]="Space",s[s.ExclamationMark=33]="ExclamationMark",s[s.Number=35]="Number",s[s.Amp=38]="Amp",s[s.SingleQuote=39]="SingleQuote",s[s.DoubleQuote=34]="DoubleQuote",s[s.Dash=45]="Dash",s[s.Slash=47]="Slash",s[s.Zero=48]="Zero",s[s.Nine=57]="Nine",s[s.Semi=59]="Semi",s[s.Lt=60]="Lt",s[s.Eq=61]="Eq",s[s.Gt=62]="Gt",s[s.Questionmark=63]="Questionmark",s[s.UpperA=65]="UpperA",s[s.LowerA=97]="LowerA",s[s.UpperF=70]="UpperF",s[s.LowerF=102]="LowerF",s[s.UpperZ=90]="UpperZ",s[s.LowerZ=122]="LowerZ",s[s.LowerX=120]="LowerX",s[s.OpeningSquareBracket=91]="OpeningSquareBracket"})(t||(t={}));var u;(function(s){s[s.Text=1]="Text",s[s.BeforeTagName=2]="BeforeTagName",s[s.InTagName=3]="InTagName",s[s.InSelfClosingTag=4]="InSelfClosingTag",s[s.BeforeClosingTagName=5]="BeforeClosingTagName",s[s.InClosingTagName=6]="InClosingTagName",s[s.AfterClosingTagName=7]="AfterClosingTagName",s[s.BeforeAttributeName=8]="BeforeAttributeName",s[s.InAttributeName=9]="InAttributeName",s[s.AfterAttributeName=10]="AfterAttributeName",s[s.BeforeAttributeValue=11]="BeforeAttributeValue",s[s.InAttributeValueDq=12]="InAttributeValueDq",s[s.InAttributeValueSq=13]="InAttributeValueSq",s[s.InAttributeValueNq=14]="InAttributeValueNq",s[s.BeforeDeclaration=15]="BeforeDeclaration",s[s.InDeclaration=16]="InDeclaration",s[s.InProcessingInstruction=17]="InProcessingInstruction",s[s.BeforeComment=18]="BeforeComment",s[s.CDATASequence=19]="CDATASequence",s[s.InSpecialComment=20]="InSpecialComment",s[s.InCommentLike=21]="InCommentLike",s[s.BeforeSpecialS=22]="BeforeSpecialS",s[s.BeforeSpecialT=23]="BeforeSpecialT",s[s.SpecialStartSequence=24]="SpecialStartSequence",s[s.InSpecialTag=25]="InSpecialTag",s[s.InEntity=26]="InEntity"})(u||(u={}));function n(s){return s===t.Space||s===t.NewLine||s===t.Tab||s===t.FormFeed||s===t.CarriageReturn}function r(s){return s===t.Slash||s===t.Gt||n(s)}function e(s){return s>=t.LowerA&&s<=t.LowerZ||s>=t.UpperA&&s<=t.UpperZ}var i;(function(s){s[s.NoValue=0]="NoValue",s[s.Unquoted=1]="Unquoted",s[s.Single=2]="Single",s[s.Double=3]="Double"})(i||(mh.QuoteType=i={}));const o={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class c{constructor({xmlMode:l=!1,decodeEntities:f=!0},d){this.cbs=d,this.state=u.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=u.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=l,this.decodeEntities=f,this.entityDecoder=new a.EntityDecoder(l?a.xmlDecodeTree:a.htmlDecodeTree,(h,p)=>this.emitCodePoint(h,p))}reset(){this.state=u.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=u.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(l){this.offset+=this.buffer.length,this.buffer=l,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(l){l===t.Lt||!this.decodeEntities&&this.fastForwardTo(t.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=u.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&l===t.Amp&&this.startEntity()}stateSpecialStartSequence(l){const f=this.sequenceIndex===this.currentSequence.length;if(!(f?r(l):(l|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!f){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=u.InTagName,this.stateInTagName(l)}stateInSpecialTag(l){if(this.sequenceIndex===this.currentSequence.length){if(l===t.Gt||n(l)){const f=this.index-this.currentSequence.length;if(this.sectionStart<f){const d=this.index;this.index=f,this.cbs.ontext(this.sectionStart,f),this.index=d}this.isSpecial=!1,this.sectionStart=f+2,this.stateInClosingTagName(l);return}this.sequenceIndex=0}(l|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===o.TitleEnd?this.decodeEntities&&l===t.Amp&&this.startEntity():this.fastForwardTo(t.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(l===t.Lt)}stateCDATASequence(l){l===o.Cdata[this.sequenceIndex]?++this.sequenceIndex===o.Cdata.length&&(this.state=u.InCommentLike,this.currentSequence=o.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=u.InDeclaration,this.stateInDeclaration(l))}fastForwardTo(l){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===l)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(l){l===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===o.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=u.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):l!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(l){return this.xmlMode?!r(l):e(l)}startSpecial(l,f){this.isSpecial=!0,this.currentSequence=l,this.sequenceIndex=f,this.state=u.SpecialStartSequence}stateBeforeTagName(l){if(l===t.ExclamationMark)this.state=u.BeforeDeclaration,this.sectionStart=this.index+1;else if(l===t.Questionmark)this.state=u.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(l)){const f=l|32;this.sectionStart=this.index,this.xmlMode?this.state=u.InTagName:f===o.ScriptEnd[2]?this.state=u.BeforeSpecialS:f===o.TitleEnd[2]||f===o.XmpEnd[2]?this.state=u.BeforeSpecialT:this.state=u.InTagName}else l===t.Slash?this.state=u.BeforeClosingTagName:(this.state=u.Text,this.stateText(l))}stateInTagName(l){r(l)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=u.BeforeAttributeName,this.stateBeforeAttributeName(l))}stateBeforeClosingTagName(l){n(l)||(l===t.Gt?this.state=u.Text:(this.state=this.isTagStartChar(l)?u.InClosingTagName:u.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(l){(l===t.Gt||n(l))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=u.AfterClosingTagName,this.stateAfterClosingTagName(l))}stateAfterClosingTagName(l){(l===t.Gt||this.fastForwardTo(t.Gt))&&(this.state=u.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(l){l===t.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=u.InSpecialTag,this.sequenceIndex=0):this.state=u.Text,this.sectionStart=this.index+1):l===t.Slash?this.state=u.InSelfClosingTag:n(l)||(this.state=u.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(l){l===t.Gt?(this.cbs.onselfclosingtag(this.index),this.state=u.Text,this.sectionStart=this.index+1,this.isSpecial=!1):n(l)||(this.state=u.BeforeAttributeName,this.stateBeforeAttributeName(l))}stateInAttributeName(l){(l===t.Eq||r(l))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=u.AfterAttributeName,this.stateAfterAttributeName(l))}stateAfterAttributeName(l){l===t.Eq?this.state=u.BeforeAttributeValue:l===t.Slash||l===t.Gt?(this.cbs.onattribend(i.NoValue,this.sectionStart),this.sectionStart=-1,this.state=u.BeforeAttributeName,this.stateBeforeAttributeName(l)):n(l)||(this.cbs.onattribend(i.NoValue,this.sectionStart),this.state=u.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(l){l===t.DoubleQuote?(this.state=u.InAttributeValueDq,this.sectionStart=this.index+1):l===t.SingleQuote?(this.state=u.InAttributeValueSq,this.sectionStart=this.index+1):n(l)||(this.sectionStart=this.index,this.state=u.InAttributeValueNq,this.stateInAttributeValueNoQuotes(l))}handleInAttributeValue(l,f){l===f||!this.decodeEntities&&this.fastForwardTo(f)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(f===t.DoubleQuote?i.Double:i.Single,this.index+1),this.state=u.BeforeAttributeName):this.decodeEntities&&l===t.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(l){this.handleInAttributeValue(l,t.DoubleQuote)}stateInAttributeValueSingleQuotes(l){this.handleInAttributeValue(l,t.SingleQuote)}stateInAttributeValueNoQuotes(l){n(l)||l===t.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(i.Unquoted,this.index),this.state=u.BeforeAttributeName,this.stateBeforeAttributeName(l)):this.decodeEntities&&l===t.Amp&&this.startEntity()}stateBeforeDeclaration(l){l===t.OpeningSquareBracket?(this.state=u.CDATASequence,this.sequenceIndex=0):this.state=l===t.Dash?u.BeforeComment:u.InDeclaration}stateInDeclaration(l){(l===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=u.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(l){(l===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=u.Text,this.sectionStart=this.index+1)}stateBeforeComment(l){l===t.Dash?(this.state=u.InCommentLike,this.currentSequence=o.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=u.InDeclaration}stateInSpecialComment(l){(l===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=u.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(l){const f=l|32;f===o.ScriptEnd[3]?this.startSpecial(o.ScriptEnd,4):f===o.StyleEnd[3]?this.startSpecial(o.StyleEnd,4):(this.state=u.InTagName,this.stateInTagName(l))}stateBeforeSpecialT(l){switch(l|32){case o.TitleEnd[3]:{this.startSpecial(o.TitleEnd,4);break}case o.TextareaEnd[3]:{this.startSpecial(o.TextareaEnd,4);break}case o.XmpEnd[3]:{this.startSpecial(o.XmpEnd,4);break}default:this.state=u.InTagName,this.stateInTagName(l)}}startEntity(){this.baseState=this.state,this.state=u.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?a.DecodingMode.Strict:this.baseState===u.Text||this.baseState===u.InSpecialTag?a.DecodingMode.Legacy:a.DecodingMode.Attribute)}stateInEntity(){const l=this.entityDecoder.write(this.buffer,this.index-this.offset);l>=0?(this.state=this.baseState,l===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===u.Text||this.state===u.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===u.InAttributeValueDq||this.state===u.InAttributeValueSq||this.state===u.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const l=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case u.Text:{this.stateText(l);break}case u.SpecialStartSequence:{this.stateSpecialStartSequence(l);break}case u.InSpecialTag:{this.stateInSpecialTag(l);break}case u.CDATASequence:{this.stateCDATASequence(l);break}case u.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(l);break}case u.InAttributeName:{this.stateInAttributeName(l);break}case u.InCommentLike:{this.stateInCommentLike(l);break}case u.InSpecialComment:{this.stateInSpecialComment(l);break}case u.BeforeAttributeName:{this.stateBeforeAttributeName(l);break}case u.InTagName:{this.stateInTagName(l);break}case u.InClosingTagName:{this.stateInClosingTagName(l);break}case u.BeforeTagName:{this.stateBeforeTagName(l);break}case u.AfterAttributeName:{this.stateAfterAttributeName(l);break}case u.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(l);break}case u.BeforeAttributeValue:{this.stateBeforeAttributeValue(l);break}case u.BeforeClosingTagName:{this.stateBeforeClosingTagName(l);break}case u.AfterClosingTagName:{this.stateAfterClosingTagName(l);break}case u.BeforeSpecialS:{this.stateBeforeSpecialS(l);break}case u.BeforeSpecialT:{this.stateBeforeSpecialT(l);break}case u.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(l);break}case u.InSelfClosingTag:{this.stateInSelfClosingTag(l);break}case u.InDeclaration:{this.stateInDeclaration(l);break}case u.BeforeDeclaration:{this.stateBeforeDeclaration(l);break}case u.BeforeComment:{this.stateBeforeComment(l);break}case u.InProcessingInstruction:{this.stateInProcessingInstruction(l);break}case u.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===u.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const l=this.buffer.length+this.offset;this.sectionStart>=l||(this.state===u.InCommentLike?this.currentSequence===o.CdataEnd?this.cbs.oncdata(this.sectionStart,l,0):this.cbs.oncomment(this.sectionStart,l,0):this.state===u.InTagName||this.state===u.BeforeAttributeName||this.state===u.BeforeAttributeValue||this.state===u.AfterAttributeName||this.state===u.InAttributeName||this.state===u.InAttributeValueSq||this.state===u.InAttributeValueDq||this.state===u.InAttributeValueNq||this.state===u.InClosingTagName||this.cbs.ontext(this.sectionStart,l))}emitCodePoint(l,f){this.baseState!==u.Text&&this.baseState!==u.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+f,this.index=this.sectionStart-1,this.cbs.onattribentity(l)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+f,this.index=this.sectionStart-1,this.cbs.ontextentity(l,this.sectionStart))}}return mh.default=c,mh}var BB;function $B(){if(BB)return Jn;BB=1;var a=Jn&&Jn.__createBinding||(Object.create?function(m,y,g,_){_===void 0&&(_=g);var v=Object.getOwnPropertyDescriptor(y,g);(!v||("get"in v?!y.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(m,_,v)}:function(m,y,g,_){_===void 0&&(_=g),m[_]=y[g]}),t=Jn&&Jn.__setModuleDefault||(Object.create?function(m,y){Object.defineProperty(m,"default",{enumerable:!0,value:y})}:function(m,y){m.default=y}),u=Jn&&Jn.__importStar||function(){var m=function(y){return m=Object.getOwnPropertyNames||function(g){var _=[];for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(_[_.length]=v);return _},m(y)};return function(y){if(y&&y.__esModule)return y;var g={};if(y!=null)for(var _=m(y),v=0;v<_.length;v++)_[v]!=="default"&&a(g,y,_[v]);return t(g,y),g}}();Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.Parser=void 0;const n=u(CB()),r=MB(),e=new Set(["input","option","optgroup","select","button","datalist","textarea"]),i=new Set(["p"]),o=new Set(["thead","tbody"]),c=new Set(["dd","dt"]),s=new Set(["rt","rp"]),l=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",i],["h1",i],["h2",i],["h3",i],["h4",i],["h5",i],["h6",i],["select",e],["input",e],["output",e],["button",e],["datalist",e],["textarea",e],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",c],["dt",c],["address",i],["article",i],["aside",i],["blockquote",i],["details",i],["div",i],["dl",i],["fieldset",i],["figcaption",i],["figure",i],["footer",i],["form",i],["header",i],["hr",i],["main",i],["nav",i],["ol",i],["pre",i],["section",i],["table",i],["ul",i],["rt",s],["rp",s],["tbody",o],["tfoot",o]]),f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),d=new Set(["math","svg"]),h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),p=/\s|\//;class b{constructor(y,g={}){var _,v,T,w,A,M;this.options=g,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=y??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(_=g.lowerCaseTags)!==null&&_!==void 0?_:this.htmlMode,this.lowerCaseAttributeNames=(v=g.lowerCaseAttributeNames)!==null&&v!==void 0?v:this.htmlMode,this.recognizeSelfClosing=(T=g.recognizeSelfClosing)!==null&&T!==void 0?T:!this.htmlMode,this.tokenizer=new((w=g.Tokenizer)!==null&&w!==void 0?w:n.default)(this.options,this),this.foreignContext=[!this.htmlMode],(M=(A=this.cbs).onparserinit)===null||M===void 0||M.call(A,this)}ontext(y,g){var _,v;const T=this.getSlice(y,g);this.endIndex=g-1,(v=(_=this.cbs).ontext)===null||v===void 0||v.call(_,T),this.startIndex=g}ontextentity(y,g){var _,v;this.endIndex=g-1,(v=(_=this.cbs).ontext)===null||v===void 0||v.call(_,(0,r.fromCodePoint)(y)),this.startIndex=g}isVoidElement(y){return this.htmlMode&&f.has(y)}onopentagname(y,g){this.endIndex=g;let _=this.getSlice(y,g);this.lowerCaseTagNames&&(_=_.toLowerCase()),this.emitOpenTag(_)}emitOpenTag(y){var g,_,v,T;this.openTagStart=this.startIndex,this.tagname=y;const w=this.htmlMode&&l.get(y);if(w)for(;this.stack.length>0&&w.has(this.stack[0]);){const A=this.stack.shift();(_=(g=this.cbs).onclosetag)===null||_===void 0||_.call(g,A,!0)}this.isVoidElement(y)||(this.stack.unshift(y),this.htmlMode&&(d.has(y)?this.foreignContext.unshift(!0):h.has(y)&&this.foreignContext.unshift(!1))),(T=(v=this.cbs).onopentagname)===null||T===void 0||T.call(v,y),this.cbs.onopentag&&(this.attribs={})}endOpenTag(y){var g,_;this.startIndex=this.openTagStart,this.attribs&&((_=(g=this.cbs).onopentag)===null||_===void 0||_.call(g,this.tagname,this.attribs,y),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(y){this.endIndex=y,this.endOpenTag(!1),this.startIndex=y+1}onclosetag(y,g){var _,v,T,w,A,M,F,O;this.endIndex=g;let E=this.getSlice(y,g);if(this.lowerCaseTagNames&&(E=E.toLowerCase()),this.htmlMode&&(d.has(E)||h.has(E))&&this.foreignContext.shift(),this.isVoidElement(E))this.htmlMode&&E==="br"&&((w=(T=this.cbs).onopentagname)===null||w===void 0||w.call(T,"br"),(M=(A=this.cbs).onopentag)===null||M===void 0||M.call(A,"br",{},!0),(O=(F=this.cbs).onclosetag)===null||O===void 0||O.call(F,"br",!1));else{const x=this.stack.indexOf(E);if(x!==-1)for(let L=0;L<=x;L++){const V=this.stack.shift();(v=(_=this.cbs).onclosetag)===null||v===void 0||v.call(_,V,L!==x)}else this.htmlMode&&E==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=g+1}onselfclosingtag(y){this.endIndex=y,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=y+1):this.onopentagend(y)}closeCurrentTag(y){var g,_;const v=this.tagname;this.endOpenTag(y),this.stack[0]===v&&((_=(g=this.cbs).onclosetag)===null||_===void 0||_.call(g,v,!y),this.stack.shift())}onattribname(y,g){this.startIndex=y;const _=this.getSlice(y,g);this.attribname=this.lowerCaseAttributeNames?_.toLowerCase():_}onattribdata(y,g){this.attribvalue+=this.getSlice(y,g)}onattribentity(y){this.attribvalue+=(0,r.fromCodePoint)(y)}onattribend(y,g){var _,v;this.endIndex=g,(v=(_=this.cbs).onattribute)===null||v===void 0||v.call(_,this.attribname,this.attribvalue,y===n.QuoteType.Double?'"':y===n.QuoteType.Single?"'":y===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(y){const g=y.search(p);let _=g<0?y:y.substr(0,g);return this.lowerCaseTagNames&&(_=_.toLowerCase()),_}ondeclaration(y,g){this.endIndex=g;const _=this.getSlice(y,g);if(this.cbs.onprocessinginstruction){const v=this.getInstructionName(_);this.cbs.onprocessinginstruction(`!${v}`,`!${_}`)}this.startIndex=g+1}onprocessinginstruction(y,g){this.endIndex=g;const _=this.getSlice(y,g);if(this.cbs.onprocessinginstruction){const v=this.getInstructionName(_);this.cbs.onprocessinginstruction(`?${v}`,`?${_}`)}this.startIndex=g+1}oncomment(y,g,_){var v,T,w,A;this.endIndex=g,(T=(v=this.cbs).oncomment)===null||T===void 0||T.call(v,this.getSlice(y,g-_)),(A=(w=this.cbs).oncommentend)===null||A===void 0||A.call(w),this.startIndex=g+1}oncdata(y,g,_){var v,T,w,A,M,F,O,E,x,L;this.endIndex=g;const V=this.getSlice(y,g-_);!this.htmlMode||this.options.recognizeCDATA?((T=(v=this.cbs).oncdatastart)===null||T===void 0||T.call(v),(A=(w=this.cbs).ontext)===null||A===void 0||A.call(w,V),(F=(M=this.cbs).oncdataend)===null||F===void 0||F.call(M)):((E=(O=this.cbs).oncomment)===null||E===void 0||E.call(O,`[CDATA[${V}]]`),(L=(x=this.cbs).oncommentend)===null||L===void 0||L.call(x)),this.startIndex=g+1}onend(){var y,g;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let _=0;_<this.stack.length;_++)this.cbs.onclosetag(this.stack[_],!0)}(g=(y=this.cbs).onend)===null||g===void 0||g.call(y)}reset(){var y,g,_,v;(g=(y=this.cbs).onreset)===null||g===void 0||g.call(y),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(v=(_=this.cbs).onparserinit)===null||v===void 0||v.call(_,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(y){this.reset(),this.end(y)}getSlice(y,g){for(;y-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let _=this.buffers[0].slice(y-this.bufferOffset,g-this.bufferOffset);for(;g-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),_+=this.buffers[0].slice(0,g-this.bufferOffset);return _}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(y){var g,_;if(this.ended){(_=(g=this.cbs).onerror)===null||_===void 0||_.call(g,new Error(".write() after done!"));return}this.buffers.push(y),this.tokenizer.running&&(this.tokenizer.write(y),this.writeIndex++)}end(y){var g,_;if(this.ended){(_=(g=this.cbs).onerror)===null||_===void 0||_.call(g,new Error(".end() after done!"));return}y&&this.write(y),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(y){this.write(y)}done(y){this.end(y)}}return Jn.Parser=b,Jn}var VB;function Ude(){return VB||(VB=1,function(a){var t=Xn&&Xn.__createBinding||(Object.create?function(g,_,v,T){T===void 0&&(T=v);var w=Object.getOwnPropertyDescriptor(_,v);(!w||("get"in w?!_.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return _[v]}}),Object.defineProperty(g,T,w)}:function(g,_,v,T){T===void 0&&(T=v),g[T]=_[v]}),u=Xn&&Xn.__setModuleDefault||(Object.create?function(g,_){Object.defineProperty(g,"default",{enumerable:!0,value:_})}:function(g,_){g.default=_}),n=Xn&&Xn.__importStar||function(){var g=function(_){return g=Object.getOwnPropertyNames||function(v){var T=[];for(var w in v)Object.prototype.hasOwnProperty.call(v,w)&&(T[T.length]=w);return T},g(_)};return function(_){if(_&&_.__esModule)return _;var v={};if(_!=null)for(var T=g(_),w=0;w<T.length;w++)T[w]!=="default"&&t(v,_,T[w]);return u(v,_),v}}(),r=Xn&&Xn.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomUtils=a.getFeed=a.ElementType=a.QuoteType=a.Tokenizer=a.DefaultHandler=a.DomHandler=a.Parser=void 0,a.parseDocument=s,a.parseDOM=l,a.createDocumentStream=f,a.createDomStream=d,a.parseFeed=y;const e=$B();var i=$B();Object.defineProperty(a,"Parser",{enumerable:!0,get:function(){return i.Parser}});const o=In();var c=In();Object.defineProperty(a,"DomHandler",{enumerable:!0,get:function(){return c.DomHandler}}),Object.defineProperty(a,"DefaultHandler",{enumerable:!0,get:function(){return c.DomHandler}});function s(g,_){const v=new o.DomHandler(void 0,_);return new e.Parser(v,_).end(g),v.root}function l(g,_){return s(g,_).children}function f(g,_,v){const T=new o.DomHandler(w=>g(w,T.root),_,v);return new e.Parser(T,_)}function d(g,_,v){const T=new o.DomHandler(g,_,v);return new e.Parser(T,_)}var h=CB();Object.defineProperty(a,"Tokenizer",{enumerable:!0,get:function(){return r(h).default}}),Object.defineProperty(a,"QuoteType",{enumerable:!0,get:function(){return h.QuoteType}}),a.ElementType=n(ko());const p=Li();var b=Li();Object.defineProperty(a,"getFeed",{enumerable:!0,get:function(){return b.getFeed}});const m={xmlMode:!0};function y(g,_=m){return(0,p.getFeed)(l(g,_))}a.DomUtils=n(Li())}(Xn)),Xn}var UB;function Qde(){if(UB)return i_;UB=1,Object.defineProperty(i_,"__esModule",{value:!0}),i_.ActorRdfParseHtml=void 0;const a=lh(),t=Ude(),u=Mt();class n extends a.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,i,o){var p;const c=new u.Readable({objectMode:!0});c._read=()=>{};let s=0,l=1;function f(b){c.emit("error",b)}function d(){--l===0&&c.push(null)}const h={baseIRI:((p=e.metadata)==null?void 0:p.baseIRI)??"",context:o,emit:b=>{s--,c.push(b)},end:d,error:f,headers:e.headers};try{const b=await Promise.all(this.busRdfParseHtml.publish(h));l+=b.length;const m=[];for(const _ of b){const{htmlParseListener:v}=await _.actor.run(h,void 0);m.push(v)}const y=new t.Parser({onclosetag(){try{for(const _ of m)_.onTagClose()}catch(_){f(_)}},onend(){try{for(const _ of m)_.onEnd()}catch(_){f(_)}d()},onopentag(_,v){try{for(const T of m)T.onTagOpen(_,v)}catch(T){f(T)}},ontext(_){try{for(const v of m)v.onText(_)}catch(v){f(v)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:!1}),g=c._read=_=>{for(s=Math.max(_,s);s>0;){const v=e.data.read();if(v===null){e.data.once("readable",()=>g(0));return}y.write(v.toString())}};e.data.on("error",f).on("end",()=>y.end())}catch(b){setTimeout(()=>{c.emit("error",b)})}return{data:c}}}return i_.ActorRdfParseHtml=n,i_}var QB;function Hde(){return QB||(QB=1,function(a){var t=Yo&&Yo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Yo&&Yo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Qde(),a)}(Yo)),Yo}var Zo={},o_={},es={},s_={},HB;function Gde(){if(HB)return s_;HB=1,Object.defineProperty(s_,"__esModule",{value:!0}),s_.ActorRdfParseHtml=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}};return s_.ActorRdfParseHtml=t,s_}var GB;function KR(){return GB||(GB=1,function(a){var t=es&&es.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=es&&es.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Gde(),a)}(es)),es}var ts={},WR={},kB;function kde(){return kB||(kB=1,Object.defineProperty(WR,"__esModule",{value:!0})),WR}var c_={},zB;function XB(){if(zB)return c_;zB=1,Object.defineProperty(c_,"__esModule",{value:!0}),c_.ItemPropertyHandlerContent=void 0;let a=class{canHandle(u,n){return"content"in n}getObject(u,n,r){return n.createLiteral(u.content,r)}};return c_.ItemPropertyHandlerContent=a,c_}var l_={},d_={},rs={},f_={},JB;function KB(){if(JB)return f_;JB=1,Object.defineProperty(f_,"__esModule",{value:!0}),f_.BlankNode=void 0;class a{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return f_.BlankNode=a,f_}var h_={},p_={},WB;function YB(){if(WB)return p_;WB=1,Object.defineProperty(p_,"__esModule",{value:!0}),p_.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return p_.DefaultGraph=a,a.INSTANCE=new a,p_}var y_={},b_={},ZB;function YR(){if(ZB)return b_;ZB=1,Object.defineProperty(b_,"__esModule",{value:!0}),b_.NamedNode=void 0;class a{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return b_.NamedNode=a,b_}var e$;function t$(){if(e$)return y_;e$=1,Object.defineProperty(y_,"__esModule",{value:!0}),y_.Literal=void 0;const a=YR();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return y_.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),y_}var __={},r$;function n$(){if(r$)return __;r$=1,Object.defineProperty(__,"__esModule",{value:!0}),__.Quad=void 0;class a{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return __.Quad=a,__}var m_={},i$;function a$(){if(i$)return m_;i$=1,Object.defineProperty(m_,"__esModule",{value:!0}),m_.Variable=void 0;class a{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return m_.Variable=a,m_}var u$;function zde(){if(u$)return h_;u$=1,Object.defineProperty(h_,"__esModule",{value:!0}),h_.DataFactory=void 0;const a=KB(),t=YB(),u=t$(),n=YR(),r=n$(),e=a$();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return h_.DataFactory=o,h_}var o$;function Xde(){return o$||(o$=1,function(a){var t=rs&&rs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=rs&&rs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(KB(),a),u(zde(),a),u(YB(),a),u(t$(),a),u(YR(),a),u(n$(),a),u(a$(),a)}(rs)),rs}var s$;function ZO(){if(s$)return d_;s$=1,Object.defineProperty(d_,"__esModule",{value:!0}),d_.Util=void 0;const a=Xde(),t=mr();class u{constructor(r,e){this.dataFactory=r||new a.DataFactory,this.baseIRI=e||""}static isValidIri(r){return u.IRI_REGEX.test(r)}createVocabIris(r,e,i){return r.split(/\s+/u).filter(o=>!!o).map(o=>{if(!u.isValidIri(o)){if(!i)return;o=`${e.vocab||`${this.baseIRI}#`}${o}`}return this.dataFactory.namedNode(o)}).filter(o=>!!o)}getVocabularyExpansionType(r,e,i){const o=r.split(/\s+/u);if(o.includes("subPropertyOf")||o.includes("equivalentProperty"))return[this.dataFactory.namedNode(`${u.RDF}type`)];if(e.vocab&&e.vocab in i&&i[e.vocab].properties){let c=[];for(const[s,l]of Object.entries(i[e.vocab].properties))o.includes(s)&&(c=[...Object.values(l).map(f=>this.dataFactory.namedNode(f))]);return c}return[]}createSubject(r){if(!u.isValidIri(r))try{r=(0,t.resolve)(r,this.baseIRI)}catch{return}return this.dataFactory.namedNode(r)}createLiteral(r,e){return this.dataFactory.literal(r,e.language)}deriveVocab(r,e){let i;for(const o in e)if(r.startsWith(o)){i=o,i.endsWith("/")||(i+="#");break}if(!i){const o=r.indexOf("#");o>0?i=r.slice(0,o+1):i=(0,t.resolve)(".",r)}return i}}return d_.Util=u,u.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",u.XSD="http://www.w3.org/2001/XMLSchema#",u.RDFA="http://www.w3.org/ns/rdfa#",u.IRI_REGEX=/^([A-Za-z][\d+-.A-Za-z]*|_):[^ "<>[\\\]`{|}]*$/u,d_}var c$;function l$(){if(c$)return l_;c$=1,Object.defineProperty(l_,"__esModule",{value:!0}),l_.ItemPropertyHandlerNumber=void 0;const a=ZO();let t=class{constructor(n,r){this.tagName=n,this.attributeName=r}canHandle(n,r){return this.tagName===n&&this.attributeName in r}getObject(n,r,e){const i=n[this.attributeName];let o;return!Number.isNaN(Number.parseInt(i,10))&&!i.includes(".")?o=`${a.Util.XSD}integer`:Number.isNaN(Number.parseFloat(i))||(o=`${a.Util.XSD}double`),r.dataFactory.literal(i,o&&r.dataFactory.namedNode(o))}};return l_.ItemPropertyHandlerNumber=t,l_}var g_={},d$;function f$(){if(d$)return g_;d$=1,Object.defineProperty(g_,"__esModule",{value:!0}),g_.ItemPropertyHandlerTime=void 0;const a=ZO();let t=class iie{canHandle(n,r){return n==="time"&&"datetime"in r}getObject(n,r,e){const i=n.datetime;let o;for(const c of iie.TIME_REGEXES)if(c.regex.test(i)){o=r.dataFactory.namedNode(a.Util.XSD+c.type);break}return r.dataFactory.literal(i,o)}};return g_.ItemPropertyHandlerTime=t,t.TIME_REGEXES=[{regex:/^-?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d)?S)?)?$/u,type:"duration"},{regex:/^\d+-\d\d-\d\dT\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"dateTime"},{regex:/^\d+-\d\d-\d\dZ?$/u,type:"date"},{regex:/^\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"time"},{regex:/^\d+-\d\d$/u,type:"gYearMonth"},{regex:/^\d+$/u,type:"gYear"}],g_}var v_={},h$;function p$(){if(h$)return v_;h$=1,Object.defineProperty(v_,"__esModule",{value:!0}),v_.ItemPropertyHandlerUrl=void 0;const a=mr();let t=class{constructor(n,r){this.tagName=n,this.attributeName=r}canHandle(n,r){return this.tagName===n&&this.attributeName in r}getObject(n,r,e){return r.dataFactory.namedNode((0,a.resolve)(n[this.attributeName],r.baseIRI))}};return v_.ItemPropertyHandlerUrl=t,v_}var ZR={},y$;function Jde(){return y$||(y$=1,Object.defineProperty(ZR,"__esModule",{value:!0})),ZR}var eN={},b$;function Kde(){return b$||(b$=1,Object.defineProperty(eN,"__esModule",{value:!0})),eN}var tN={},_$;function Wde(){return _$||(_$=1,Object.defineProperty(tN,"__esModule",{value:!0})),tN}var T_={},Kn={},Wn={},rN={},m$;function g$(){return m$||(m$=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.QuoteType=void 0;var t=yh(),u;(function(d){d[d.Tab=9]="Tab",d[d.NewLine=10]="NewLine",d[d.FormFeed=12]="FormFeed",d[d.CarriageReturn=13]="CarriageReturn",d[d.Space=32]="Space",d[d.ExclamationMark=33]="ExclamationMark",d[d.Number=35]="Number",d[d.Amp=38]="Amp",d[d.SingleQuote=39]="SingleQuote",d[d.DoubleQuote=34]="DoubleQuote",d[d.Dash=45]="Dash",d[d.Slash=47]="Slash",d[d.Zero=48]="Zero",d[d.Nine=57]="Nine",d[d.Semi=59]="Semi",d[d.Lt=60]="Lt",d[d.Eq=61]="Eq",d[d.Gt=62]="Gt",d[d.Questionmark=63]="Questionmark",d[d.UpperA=65]="UpperA",d[d.LowerA=97]="LowerA",d[d.UpperF=70]="UpperF",d[d.LowerF=102]="LowerF",d[d.UpperZ=90]="UpperZ",d[d.LowerZ=122]="LowerZ",d[d.LowerX=120]="LowerX",d[d.OpeningSquareBracket=91]="OpeningSquareBracket"})(u||(u={}));var n;(function(d){d[d.Text=1]="Text",d[d.BeforeTagName=2]="BeforeTagName",d[d.InTagName=3]="InTagName",d[d.InSelfClosingTag=4]="InSelfClosingTag",d[d.BeforeClosingTagName=5]="BeforeClosingTagName",d[d.InClosingTagName=6]="InClosingTagName",d[d.AfterClosingTagName=7]="AfterClosingTagName",d[d.BeforeAttributeName=8]="BeforeAttributeName",d[d.InAttributeName=9]="InAttributeName",d[d.AfterAttributeName=10]="AfterAttributeName",d[d.BeforeAttributeValue=11]="BeforeAttributeValue",d[d.InAttributeValueDq=12]="InAttributeValueDq",d[d.InAttributeValueSq=13]="InAttributeValueSq",d[d.InAttributeValueNq=14]="InAttributeValueNq",d[d.BeforeDeclaration=15]="BeforeDeclaration",d[d.InDeclaration=16]="InDeclaration",d[d.InProcessingInstruction=17]="InProcessingInstruction",d[d.BeforeComment=18]="BeforeComment",d[d.CDATASequence=19]="CDATASequence",d[d.InSpecialComment=20]="InSpecialComment",d[d.InCommentLike=21]="InCommentLike",d[d.BeforeSpecialS=22]="BeforeSpecialS",d[d.SpecialStartSequence=23]="SpecialStartSequence",d[d.InSpecialTag=24]="InSpecialTag",d[d.BeforeEntity=25]="BeforeEntity",d[d.BeforeNumericEntity=26]="BeforeNumericEntity",d[d.InNamedEntity=27]="InNamedEntity",d[d.InNumericEntity=28]="InNumericEntity",d[d.InHexEntity=29]="InHexEntity"})(n||(n={}));function r(d){return d===u.Space||d===u.NewLine||d===u.Tab||d===u.FormFeed||d===u.CarriageReturn}function e(d){return d===u.Slash||d===u.Gt||r(d)}function i(d){return d>=u.Zero&&d<=u.Nine}function o(d){return d>=u.LowerA&&d<=u.LowerZ||d>=u.UpperA&&d<=u.UpperZ}function c(d){return d>=u.UpperA&&d<=u.UpperF||d>=u.LowerA&&d<=u.LowerF}var s;(function(d){d[d.NoValue=0]="NoValue",d[d.Unquoted=1]="Unquoted",d[d.Single=2]="Single",d[d.Double=3]="Double"})(s=a.QuoteType||(a.QuoteType={}));var l={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},f=function(){function d(h,p){var b=h.xmlMode,m=b===void 0?!1:b,y=h.decodeEntities,g=y===void 0?!0:y;this.cbs=p,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=m,this.decodeEntities=g,this.entityTrie=m?t.xmlDecodeTree:t.htmlDecodeTree}return d.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},d.prototype.write=function(h){this.offset+=this.buffer.length,this.buffer=h,this.parse()},d.prototype.end=function(){this.running&&this.finish()},d.prototype.pause=function(){this.running=!1},d.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},d.prototype.getIndex=function(){return this.index},d.prototype.getSectionStart=function(){return this.sectionStart},d.prototype.stateText=function(h){h===u.Lt||!this.decodeEntities&&this.fastForwardTo(u.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&h===u.Amp&&(this.state=n.BeforeEntity)},d.prototype.stateSpecialStartSequence=function(h){var p=this.sequenceIndex===this.currentSequence.length,b=p?e(h):(h|32)===this.currentSequence[this.sequenceIndex];if(!b)this.isSpecial=!1;else if(!p){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(h)},d.prototype.stateInSpecialTag=function(h){if(this.sequenceIndex===this.currentSequence.length){if(h===u.Gt||r(h)){var p=this.index-this.currentSequence.length;if(this.sectionStart<p){var b=this.index;this.index=p,this.cbs.ontext(this.sectionStart,p),this.index=b}this.isSpecial=!1,this.sectionStart=p+2,this.stateInClosingTagName(h);return}this.sequenceIndex=0}(h|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===l.TitleEnd?this.decodeEntities&&h===u.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(u.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(h===u.Lt)},d.prototype.stateCDATASequence=function(h){h===l.Cdata[this.sequenceIndex]?++this.sequenceIndex===l.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=l.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(h))},d.prototype.fastForwardTo=function(h){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===h)return!0;return this.index=this.buffer.length+this.offset-1,!1},d.prototype.stateInCommentLike=function(h){h===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):h!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},d.prototype.isTagStartChar=function(h){return this.xmlMode?!e(h):o(h)},d.prototype.startSpecial=function(h,p){this.isSpecial=!0,this.currentSequence=h,this.sequenceIndex=p,this.state=n.SpecialStartSequence},d.prototype.stateBeforeTagName=function(h){if(h===u.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(h===u.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(h)){var p=h|32;this.sectionStart=this.index,!this.xmlMode&&p===l.TitleEnd[2]?this.startSpecial(l.TitleEnd,3):this.state=!this.xmlMode&&p===l.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else h===u.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(h))},d.prototype.stateInTagName=function(h){e(h)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h))},d.prototype.stateBeforeClosingTagName=function(h){r(h)||(h===u.Gt?this.state=n.Text:(this.state=this.isTagStartChar(h)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},d.prototype.stateInClosingTagName=function(h){(h===u.Gt||r(h))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(h))},d.prototype.stateAfterClosingTagName=function(h){(h===u.Gt||this.fastForwardTo(u.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeAttributeName=function(h){h===u.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):h===u.Slash?this.state=n.InSelfClosingTag:r(h)||(this.state=n.InAttributeName,this.sectionStart=this.index)},d.prototype.stateInSelfClosingTag=function(h){h===u.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):r(h)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h))},d.prototype.stateInAttributeName=function(h){(h===u.Eq||e(h))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(h))},d.prototype.stateAfterAttributeName=function(h){h===u.Eq?this.state=n.BeforeAttributeValue:h===u.Slash||h===u.Gt?(this.cbs.onattribend(s.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h)):r(h)||(this.cbs.onattribend(s.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},d.prototype.stateBeforeAttributeValue=function(h){h===u.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):h===u.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):r(h)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(h))},d.prototype.handleInAttributeValue=function(h,p){h===p||!this.decodeEntities&&this.fastForwardTo(p)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(p===u.DoubleQuote?s.Double:s.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&h===u.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},d.prototype.stateInAttributeValueDoubleQuotes=function(h){this.handleInAttributeValue(h,u.DoubleQuote)},d.prototype.stateInAttributeValueSingleQuotes=function(h){this.handleInAttributeValue(h,u.SingleQuote)},d.prototype.stateInAttributeValueNoQuotes=function(h){r(h)||h===u.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(s.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h)):this.decodeEntities&&h===u.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},d.prototype.stateBeforeDeclaration=function(h){h===u.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=h===u.Dash?n.BeforeComment:n.InDeclaration},d.prototype.stateInDeclaration=function(h){(h===u.Gt||this.fastForwardTo(u.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateInProcessingInstruction=function(h){(h===u.Gt||this.fastForwardTo(u.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeComment=function(h){h===u.Dash?(this.state=n.InCommentLike,this.currentSequence=l.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},d.prototype.stateInSpecialComment=function(h){(h===u.Gt||this.fastForwardTo(u.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeSpecialS=function(h){var p=h|32;p===l.ScriptEnd[3]?this.startSpecial(l.ScriptEnd,4):p===l.StyleEnd[3]?this.startSpecial(l.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(h))},d.prototype.stateBeforeEntity=function(h){this.entityExcess=1,this.entityResult=0,h===u.Number?this.state=n.BeforeNumericEntity:h===u.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(h))},d.prototype.stateInNamedEntity=function(h){if(this.entityExcess+=1,this.trieIndex=(0,t.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,h),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var p=this.trieCurrent&t.BinTrieFlags.VALUE_LENGTH;if(p){var b=(p>>14)-1;if(!this.allowLegacyEntity()&&h!==u.Semi)this.trieIndex+=b;else{var m=this.index-this.entityExcess+1;m>this.sectionStart&&this.emitPartial(this.sectionStart,m),this.entityResult=this.trieIndex,this.trieIndex+=b,this.entityExcess=0,this.sectionStart=this.index+1,b===0&&this.emitNamedEntity()}}},d.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var h=(this.entityTrie[this.entityResult]&t.BinTrieFlags.VALUE_LENGTH)>>14;switch(h){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~t.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},d.prototype.stateBeforeNumericEntity=function(h){(h|32)===u.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(h))},d.prototype.emitNumericEntity=function(h){var p=this.index-this.entityExcess-1,b=p+2+ +(this.state===n.InHexEntity);b!==this.index&&(p>this.sectionStart&&this.emitPartial(this.sectionStart,p),this.sectionStart=this.index+Number(h),this.emitCodePoint((0,t.replaceCodePoint)(this.entityResult))),this.state=this.baseState},d.prototype.stateInNumericEntity=function(h){h===u.Semi?this.emitNumericEntity(!0):i(h)?(this.entityResult=this.entityResult*10+(h-u.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},d.prototype.stateInHexEntity=function(h){h===u.Semi?this.emitNumericEntity(!0):i(h)?(this.entityResult=this.entityResult*16+(h-u.Zero),this.entityExcess++):c(h)?(this.entityResult=this.entityResult*16+((h|32)-u.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},d.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},d.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},d.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},d.prototype.parse=function(){for(;this.shouldContinue();){var h=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(h);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(h);break}case n.InSpecialTag:{this.stateInSpecialTag(h);break}case n.CDATASequence:{this.stateCDATASequence(h);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(h);break}case n.InAttributeName:{this.stateInAttributeName(h);break}case n.InCommentLike:{this.stateInCommentLike(h);break}case n.InSpecialComment:{this.stateInSpecialComment(h);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(h);break}case n.InTagName:{this.stateInTagName(h);break}case n.InClosingTagName:{this.stateInClosingTagName(h);break}case n.BeforeTagName:{this.stateBeforeTagName(h);break}case n.AfterAttributeName:{this.stateAfterAttributeName(h);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(h);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(h);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(h);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(h);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(h);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(h);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(h);break}case n.InDeclaration:{this.stateInDeclaration(h);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(h);break}case n.BeforeComment:{this.stateBeforeComment(h);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(h);break}case n.InNamedEntity:{this.stateInNamedEntity(h);break}case n.BeforeEntity:{this.stateBeforeEntity(h);break}case n.InHexEntity:{this.stateInHexEntity(h);break}case n.InNumericEntity:{this.stateInNumericEntity(h);break}default:this.stateBeforeNumericEntity(h)}this.index++}this.cleanup()},d.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},d.prototype.handleTrailingData=function(){var h=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,h,0):this.cbs.oncomment(this.sectionStart,h,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,h)},d.prototype.emitPartial=function(h,p){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(h,p):this.cbs.ontext(h,p)},d.prototype.emitCodePoint=function(h){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(h):this.cbs.ontextentity(h)},d}();a.default=f}(rN)),rN}var v$;function T$(){if(v$)return Wn;v$=1;var a=Wn&&Wn.__createBinding||(Object.create?function(m,y,g,_){_===void 0&&(_=g);var v=Object.getOwnPropertyDescriptor(y,g);(!v||("get"in v?!y.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(m,_,v)}:function(m,y,g,_){_===void 0&&(_=g),m[_]=y[g]}),t=Wn&&Wn.__setModuleDefault||(Object.create?function(m,y){Object.defineProperty(m,"default",{enumerable:!0,value:y})}:function(m,y){m.default=y}),u=Wn&&Wn.__importStar||function(m){if(m&&m.__esModule)return m;var y={};if(m!=null)for(var g in m)g!=="default"&&Object.prototype.hasOwnProperty.call(m,g)&&a(y,m,g);return t(y,m),y};Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.Parser=void 0;var n=u(g$()),r=yh(),e=new Set(["input","option","optgroup","select","button","datalist","textarea"]),i=new Set(["p"]),o=new Set(["thead","tbody"]),c=new Set(["dd","dt"]),s=new Set(["rt","rp"]),l=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",i],["h1",i],["h2",i],["h3",i],["h4",i],["h5",i],["h6",i],["select",e],["input",e],["output",e],["button",e],["datalist",e],["textarea",e],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",c],["dt",c],["address",i],["article",i],["aside",i],["blockquote",i],["details",i],["div",i],["dl",i],["fieldset",i],["figcaption",i],["figure",i],["footer",i],["form",i],["header",i],["hr",i],["main",i],["nav",i],["ol",i],["pre",i],["section",i],["table",i],["ul",i],["rt",s],["rp",s],["tbody",o],["tfoot",o]]),f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),d=new Set(["math","svg"]),h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),p=/\s|\//,b=function(){function m(y,g){g===void 0&&(g={});var _,v,T,w,A;this.options=g,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=y??{},this.lowerCaseTagNames=(_=g.lowerCaseTags)!==null&&_!==void 0?_:!g.xmlMode,this.lowerCaseAttributeNames=(v=g.lowerCaseAttributeNames)!==null&&v!==void 0?v:!g.xmlMode,this.tokenizer=new((T=g.Tokenizer)!==null&&T!==void 0?T:n.default)(this.options,this),(A=(w=this.cbs).onparserinit)===null||A===void 0||A.call(w,this)}return m.prototype.ontext=function(y,g){var _,v,T=this.getSlice(y,g);this.endIndex=g-1,(v=(_=this.cbs).ontext)===null||v===void 0||v.call(_,T),this.startIndex=g},m.prototype.ontextentity=function(y){var g,_,v=this.tokenizer.getSectionStart();this.endIndex=v-1,(_=(g=this.cbs).ontext)===null||_===void 0||_.call(g,(0,r.fromCodePoint)(y)),this.startIndex=v},m.prototype.isVoidElement=function(y){return!this.options.xmlMode&&f.has(y)},m.prototype.onopentagname=function(y,g){this.endIndex=g;var _=this.getSlice(y,g);this.lowerCaseTagNames&&(_=_.toLowerCase()),this.emitOpenTag(_)},m.prototype.emitOpenTag=function(y){var g,_,v,T;this.openTagStart=this.startIndex,this.tagname=y;var w=!this.options.xmlMode&&l.get(y);if(w)for(;this.stack.length>0&&w.has(this.stack[this.stack.length-1]);){var A=this.stack.pop();(_=(g=this.cbs).onclosetag)===null||_===void 0||_.call(g,A,!0)}this.isVoidElement(y)||(this.stack.push(y),d.has(y)?this.foreignContext.push(!0):h.has(y)&&this.foreignContext.push(!1)),(T=(v=this.cbs).onopentagname)===null||T===void 0||T.call(v,y),this.cbs.onopentag&&(this.attribs={})},m.prototype.endOpenTag=function(y){var g,_;this.startIndex=this.openTagStart,this.attribs&&((_=(g=this.cbs).onopentag)===null||_===void 0||_.call(g,this.tagname,this.attribs,y),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},m.prototype.onopentagend=function(y){this.endIndex=y,this.endOpenTag(!1),this.startIndex=y+1},m.prototype.onclosetag=function(y,g){var _,v,T,w,A,M;this.endIndex=g;var F=this.getSlice(y,g);if(this.lowerCaseTagNames&&(F=F.toLowerCase()),(d.has(F)||h.has(F))&&this.foreignContext.pop(),this.isVoidElement(F))!this.options.xmlMode&&F==="br"&&((v=(_=this.cbs).onopentagname)===null||v===void 0||v.call(_,"br"),(w=(T=this.cbs).onopentag)===null||w===void 0||w.call(T,"br",{},!0),(M=(A=this.cbs).onclosetag)===null||M===void 0||M.call(A,"br",!1));else{var O=this.stack.lastIndexOf(F);if(O!==-1)if(this.cbs.onclosetag)for(var E=this.stack.length-O;E--;)this.cbs.onclosetag(this.stack.pop(),E!==0);else this.stack.length=O;else!this.options.xmlMode&&F==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=g+1},m.prototype.onselfclosingtag=function(y){this.endIndex=y,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=y+1):this.onopentagend(y)},m.prototype.closeCurrentTag=function(y){var g,_,v=this.tagname;this.endOpenTag(y),this.stack[this.stack.length-1]===v&&((_=(g=this.cbs).onclosetag)===null||_===void 0||_.call(g,v,!y),this.stack.pop())},m.prototype.onattribname=function(y,g){this.startIndex=y;var _=this.getSlice(y,g);this.attribname=this.lowerCaseAttributeNames?_.toLowerCase():_},m.prototype.onattribdata=function(y,g){this.attribvalue+=this.getSlice(y,g)},m.prototype.onattribentity=function(y){this.attribvalue+=(0,r.fromCodePoint)(y)},m.prototype.onattribend=function(y,g){var _,v;this.endIndex=g,(v=(_=this.cbs).onattribute)===null||v===void 0||v.call(_,this.attribname,this.attribvalue,y===n.QuoteType.Double?'"':y===n.QuoteType.Single?"'":y===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},m.prototype.getInstructionName=function(y){var g=y.search(p),_=g<0?y:y.substr(0,g);return this.lowerCaseTagNames&&(_=_.toLowerCase()),_},m.prototype.ondeclaration=function(y,g){this.endIndex=g;var _=this.getSlice(y,g);if(this.cbs.onprocessinginstruction){var v=this.getInstructionName(_);this.cbs.onprocessinginstruction("!".concat(v),"!".concat(_))}this.startIndex=g+1},m.prototype.onprocessinginstruction=function(y,g){this.endIndex=g;var _=this.getSlice(y,g);if(this.cbs.onprocessinginstruction){var v=this.getInstructionName(_);this.cbs.onprocessinginstruction("?".concat(v),"?".concat(_))}this.startIndex=g+1},m.prototype.oncomment=function(y,g,_){var v,T,w,A;this.endIndex=g,(T=(v=this.cbs).oncomment)===null||T===void 0||T.call(v,this.getSlice(y,g-_)),(A=(w=this.cbs).oncommentend)===null||A===void 0||A.call(w),this.startIndex=g+1},m.prototype.oncdata=function(y,g,_){var v,T,w,A,M,F,O,E,x,L;this.endIndex=g;var V=this.getSlice(y,g-_);this.options.xmlMode||this.options.recognizeCDATA?((T=(v=this.cbs).oncdatastart)===null||T===void 0||T.call(v),(A=(w=this.cbs).ontext)===null||A===void 0||A.call(w,V),(F=(M=this.cbs).oncdataend)===null||F===void 0||F.call(M)):((E=(O=this.cbs).oncomment)===null||E===void 0||E.call(O,"[CDATA[".concat(V,"]]")),(L=(x=this.cbs).oncommentend)===null||L===void 0||L.call(x)),this.startIndex=g+1},m.prototype.onend=function(){var y,g;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var _=this.stack.length;_>0;this.cbs.onclosetag(this.stack[--_],!0));}(g=(y=this.cbs).onend)===null||g===void 0||g.call(y)},m.prototype.reset=function(){var y,g,_,v;(g=(y=this.cbs).onreset)===null||g===void 0||g.call(y),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(v=(_=this.cbs).onparserinit)===null||v===void 0||v.call(_,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},m.prototype.parseComplete=function(y){this.reset(),this.end(y)},m.prototype.getSlice=function(y,g){for(;y-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var _=this.buffers[0].slice(y-this.bufferOffset,g-this.bufferOffset);g-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),_+=this.buffers[0].slice(0,g-this.bufferOffset);return _},m.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},m.prototype.write=function(y){var g,_;if(this.ended){(_=(g=this.cbs).onerror)===null||_===void 0||_.call(g,new Error(".write() after done!"));return}this.buffers.push(y),this.tokenizer.running&&(this.tokenizer.write(y),this.writeIndex++)},m.prototype.end=function(y){var g,_;if(this.ended){(_=(g=this.cbs).onerror)===null||_===void 0||_.call(g,new Error(".end() after done!"));return}y&&this.write(y),this.ended=!0,this.tokenizer.end()},m.prototype.pause=function(){this.tokenizer.pause()},m.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},m.prototype.parseChunk=function(y){this.write(y)},m.prototype.done=function(y){this.end(y)},m}();return Wn.Parser=b,Wn}var w$;function Yde(){return w$||(w$=1,function(a){var t=Kn&&Kn.__createBinding||(Object.create?function(y,g,_,v){v===void 0&&(v=_);var T=Object.getOwnPropertyDescriptor(g,_);(!T||("get"in T?!g.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return g[_]}}),Object.defineProperty(y,v,T)}:function(y,g,_,v){v===void 0&&(v=_),y[v]=g[_]}),u=Kn&&Kn.__setModuleDefault||(Object.create?function(y,g){Object.defineProperty(y,"default",{enumerable:!0,value:g})}:function(y,g){y.default=g}),n=Kn&&Kn.__importStar||function(y){if(y&&y.__esModule)return y;var g={};if(y!=null)for(var _ in y)_!=="default"&&Object.prototype.hasOwnProperty.call(y,_)&&t(g,y,_);return u(g,y),g},r=Kn&&Kn.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomUtils=a.parseFeed=a.getFeed=a.ElementType=a.Tokenizer=a.createDomStream=a.parseDOM=a.parseDocument=a.DefaultHandler=a.DomHandler=a.Parser=void 0;var e=T$(),i=T$();Object.defineProperty(a,"Parser",{enumerable:!0,get:function(){return i.Parser}});var o=In(),c=In();Object.defineProperty(a,"DomHandler",{enumerable:!0,get:function(){return c.DomHandler}}),Object.defineProperty(a,"DefaultHandler",{enumerable:!0,get:function(){return c.DomHandler}});function s(y,g){var _=new o.DomHandler(void 0,g);return new e.Parser(_,g).end(y),_.root}a.parseDocument=s;function l(y,g){return s(y,g).children}a.parseDOM=l;function f(y,g,_){var v=new o.DomHandler(y,g,_);return new e.Parser(v,g)}a.createDomStream=f;var d=g$();Object.defineProperty(a,"Tokenizer",{enumerable:!0,get:function(){return r(d).default}}),a.ElementType=n(ko());var h=Li(),p=Li();Object.defineProperty(a,"getFeed",{enumerable:!0,get:function(){return p.getFeed}});var b={xmlMode:!0};function m(y,g){return g===void 0&&(g=b),(0,h.getFeed)(l(y,g))}a.parseFeed=m,a.DomUtils=n(Li())}(Kn)),Kn}var Zde={"http://schema.org/":{properties:{additionalType:{subPropertyOf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}}},"http://microformats.org/profile/hcard":{}},S$;function efe(){if(S$)return T_;S$=1,Object.defineProperty(T_,"__esModule",{value:!0}),T_.MicrodataRdfParser=void 0;const a=Yde(),t=Mt(),u=XB(),n=l$(),r=f$(),e=p$(),i=ZO(),o=Zde;let c=class a6 extends t.Transform{constructor(l){super({readableObjectMode:!0}),this.itemScopeStack=[],this.textBufferStack=[],this.isEmittingReferences=!1,this.pendingItemRefsDomain={},this.pendingItemRefsRangeFinalized={},this.pendingItemRefsRangeCollecting={},l=l||{},this.options=l,this.util=new i.Util(l.dataFactory,l.baseIRI),this.defaultGraph=l.defaultGraph||this.util.dataFactory.defaultGraph(),this.htmlParseListener=l.htmlParseListener,this.vocabRegistry=l.vocabRegistry||o,this.parser=this.initializeParser(!!l.xmlMode)}import(l){const f=new t.PassThrough({readableObjectMode:!0});l.on("error",h=>d.emit("error",h)),l.on("data",h=>f.push(h)),l.on("end",()=>f.push(null));const d=f.pipe(new a6(this.options));return d}_transform(l,f,d){this.parser.write(l.toString()),d()}_flush(l){this.parser.end(),l()}getItemScope(l){let f=this.itemScopeStack.length-(l?2:1);for(;f>0&&!this.itemScopeStack[f];)f--;return this.itemScopeStack[f]}getDepth(){return this.itemScopeStack.length}onTagOpen(l,f){if(!this.isEmittingReferences){if("id"in f){const h=f.id;this.pendingItemRefsRangeCollecting[h]={events:[],counter:0,ids:[]}}for(const h of Object.values(this.pendingItemRefsRangeCollecting))h.counter++,h.events.push({type:"open",name:l,attributes:f})}this.textBufferStack.push(void 0);let d;if("itemscope"in f){let h;if(this.emittingReferencesItemScopeIdGenerator)h=this.emittingReferencesItemScopeIdGenerator();else{h="itemid"in f&&this.util.createSubject(f.itemid)||this.util.dataFactory.blankNode();for(const b of Object.values(this.pendingItemRefsRangeCollecting))b.ids.push(h)}d={subject:h},this.isEmittingReferences&&(d.blockEmission=!0);const p=this.getItemScope();p&&p.vocab&&(d.vocab=p.vocab),this.itemScopeStack.push(d)}else d=this.getItemScope(),this.itemScopeStack.push(void 0);if(d){if("itemtype"in f)for(const h of this.util.createVocabIris(f.itemtype,d,!1))d.vocab||(d.vocab=this.util.deriveVocab(h.value,this.vocabRegistry)),d.blockEmission||this.emitTriple(d.subject,this.util.dataFactory.namedNode(`${i.Util.RDF}type`),h);if("lang"in f&&(d.language=f.lang),"xml:lang"in f&&(d.language=f["xml:lang"]),"itemscope"in f&&!this.isEmittingReferences&&"itemref"in f)for(const h of f.itemref.split(/\s+/u))h in this.pendingItemRefsDomain||(this.pendingItemRefsDomain[h]=[]),this.pendingItemRefsDomain[h].push(d),this.tryToEmitReferences(h,d)}"itemprop"in f&&this.handleItemProperties(f.itemprop,!1,d,l,f),"itemprop-reverse"in f&&this.handleItemProperties(f["itemprop-reverse"],!0,d,l,f)}onText(l){if(!this.isEmittingReferences)for(const f of Object.values(this.pendingItemRefsRangeCollecting))f.events.push({type:"text",data:l});for(const f of this.textBufferStack)f&&f.push(l)}onTagClose(){if(!this.isEmittingReferences)for(const[f,d]of Object.entries(this.pendingItemRefsRangeCollecting))d.counter--,d.events.push({type:"close"}),d.counter===0&&(this.pendingItemRefsRangeFinalized[f]=d,delete this.pendingItemRefsRangeCollecting[f],this.tryToEmitReferences(f));const l=this.getItemScope(!0);if(l){const f=this.getDepth();if(l.predicates&&f in l.predicates)for(const[d,h]of Object.entries(l.predicates[f])){const p=this.util.createLiteral(this.textBufferStack[f].join(""),l);this.emitPredicateTriples(l,h,p,d==="reverse"),delete l.predicates[f][d]}}this.itemScopeStack.pop(),this.textBufferStack.pop()}onEnd(){}initializeParser(l){return new a.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(f){this.emit("error",f)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(f){this.emit("error",f)}},onopentag:(f,d)=>{try{this.onTagOpen(f,d),this.htmlParseListener&&this.htmlParseListener.onTagOpen(f,d)}catch(h){this.emit("error",h)}},ontext:f=>{try{this.onText(f),this.htmlParseListener&&this.htmlParseListener.onText(f)}catch(d){this.emit("error",d)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:l})}handleItemProperties(l,f,d,h,p){const b=this.getItemScope(!0);if(b){const m=this.getDepth(),y=this.util.createVocabIris(l,b,!0);b.predicates||(b.predicates={}),b.predicates[m]||(b.predicates[m]={});const g=f?"reverse":"forward";b.predicates[m][g]=y;for(const _ of this.util.getVocabularyExpansionType(l,b,this.vocabRegistry))y.push(_);if(d&&"itemscope"in p)this.emitPredicateTriples(b,y,d.subject,f),delete b.predicates[m][g];else for(const _ of a6.ITEM_PROPERTY_HANDLERS)if(_.canHandle(h,p)){const v=_.getObject(p,this.util,b);this.emitPredicateTriples(b,y,v,f),delete b.predicates[m][g]}b.predicates[m][g]&&(this.textBufferStack[m]=[])}}emitPredicateTriples(l,f,d,h){if(!l.blockEmission)for(const p of f)h?d.termType!=="Literal"&&this.emitTriple(d,p,l.subject):this.emitTriple(l.subject,p,d)}emitTriple(l,f,d){this.push(this.util.dataFactory.quad(l,f,d,this.defaultGraph))}tryToEmitReferences(l,f){const d=this.pendingItemRefsRangeFinalized[l];if(d){let h;if(f){h=[f];const p=this.pendingItemRefsDomain[l].indexOf(f);this.pendingItemRefsDomain[l].splice(p,1)}else h=this.pendingItemRefsDomain[l],delete this.pendingItemRefsDomain[l];if(h){const p=this.itemScopeStack,b=this.textBufferStack;this.isEmittingReferences=!0;for(const m of h){this.itemScopeStack=[m],this.textBufferStack=[void 0];const y=[...d.ids];this.emittingReferencesItemScopeIdGenerator=()=>y.shift();for(const g of d.events)switch(g.type){case"open":this.onTagOpen(g.name,g.attributes);break;case"text":this.onText(g.data);break;case"close":this.onTagClose();break}}this.emittingReferencesItemScopeIdGenerator=void 0,this.itemScopeStack=p,this.textBufferStack=b,this.isEmittingReferences=!1}}}};return T_.MicrodataRdfParser=c,c.ITEM_PROPERTY_HANDLERS=[new u.ItemPropertyHandlerContent,new e.ItemPropertyHandlerUrl("a","href"),new e.ItemPropertyHandlerUrl("area","href"),new e.ItemPropertyHandlerUrl("audio","src"),new e.ItemPropertyHandlerUrl("embed","src"),new e.ItemPropertyHandlerUrl("iframe","src"),new e.ItemPropertyHandlerUrl("img","src"),new e.ItemPropertyHandlerUrl("link","href"),new e.ItemPropertyHandlerUrl("object","data"),new e.ItemPropertyHandlerUrl("source","src"),new e.ItemPropertyHandlerUrl("track","src"),new e.ItemPropertyHandlerUrl("video","src"),new n.ItemPropertyHandlerNumber("data","value"),new n.ItemPropertyHandlerNumber("meter","value"),new r.ItemPropertyHandlerTime],T_}var O$;function tfe(){return O$||(O$=1,function(a){var t=ts&&ts.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ts&&ts.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(kde(),a),u(XB(),a),u(l$(),a),u(f$(),a),u(p$(),a),u(Jde(),a),u(Kde(),a),u(Wde(),a),u(efe(),a),u(ZO(),a)}(ts)),ts}var A$;function rfe(){if(A$)return o_;A$=1,Object.defineProperty(o_,"__esModule",{value:!0}),o_.ActorRdfParseHtmlMicrodata=void 0;const a=KR(),t=ke(),u=Te(),n=tfe();let r=class extends a.ActorRdfParseHtml{constructor(i){super(i)}async test(i){return(0,u.passTestVoid)()}async run(i){const o=i.context.getSafe(t.KeysInitQuery.dataFactory),c=i.headers?i.headers.get("content-type"):null,s=c==null?void 0:c.includes("xml"),l=new n.MicrodataRdfParser({dataFactory:o,baseIRI:i.baseIRI,xmlMode:s});l.on("error",i.error),l.on("data",i.emit);const f=l.onEnd;return l.onEnd=()=>{f.call(l),i.end()},{htmlParseListener:l}}};return o_.ActorRdfParseHtmlMicrodata=r,o_}var E$;function nfe(){return E$||(E$=1,function(a){var t=Zo&&Zo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Zo&&Zo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(rfe(),a)}(Zo)),Zo}var ns={},w_={},x$;function ife(){if(x$)return w_;x$=1,Object.defineProperty(w_,"__esModule",{value:!0}),w_.ActorRdfParseHtmlRdfa=void 0;const a=KR(),t=ke(),u=Te(),n=mB();let r=class extends a.ActorRdfParseHtml{constructor(i){super(i)}async test(i){return(0,u.passTestVoid)()}async run(i){const o=i.context.getSafe(t.KeysInitQuery.dataFactory),c=i.headers?i.headers.get("content-type"):null,s=(i.headers&&i.headers.get("content-language"))??void 0,l=c&&c.includes("xml")?"xhtml":"html",f=new n.RdfaParser({dataFactory:o,baseIRI:i.baseIRI,profile:l,language:s});f.on("error",i.error),f.on("data",i.emit);const d=f.onEnd;return f.onEnd=()=>{d.call(f),i.end()},{htmlParseListener:f}}};return w_.ActorRdfParseHtmlRdfa=r,w_}var I$;function afe(){return I$||(I$=1,function(a){var t=ns&&ns.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ns&&ns.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(ife(),a)}(ns)),ns}var is={},S_={},as={},O_={},R$;function ufe(){if(R$)return O_;R$=1,Object.defineProperty(O_,"__esModule",{value:!0}),O_.ActorRdfResolveHypermediaLinks=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}};return O_.ActorRdfResolveHypermediaLinks=t,O_}var N$;function ofe(){return N$||(N$=1,function(a){var t=as&&as.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=as&&as.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(ufe(),a)}(as)),as}var F$;function sfe(){if(F$)return S_;F$=1,Object.defineProperty(S_,"__esModule",{value:!0}),S_.ActorRdfResolveHypermediaLinksNext=void 0;const a=ofe(),t=Te();let u=class extends a.ActorRdfResolveHypermediaLinks{constructor(r){super(r)}async test(r){return!r.metadata.next||r.metadata.next.length===0?(0,t.failTest)(`Actor ${this.name} requires a 'next' metadata entry.`):(0,t.passTestVoid)()}async run(r){return{links:r.metadata.next.map(e=>({url:e}))}}};return S_.ActorRdfResolveHypermediaLinksNext=u,S_}var D$;function cfe(){return D$||(D$=1,function(a){var t=is&&is.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=is&&is.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(sfe(),a)}(is)),is}var us={},A_={},os={},E_={},P$;function lfe(){if(P$)return E_;P$=1,Object.defineProperty(E_,"__esModule",{value:!0}),E_.ActorRdfResolveHypermediaLinksQueue=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}};return E_.ActorRdfResolveHypermediaLinksQueue=t,E_}var nN={},L$;function dfe(){return L$||(L$=1,Object.defineProperty(nN,"__esModule",{value:!0})),nN}var x_={},j$;function ffe(){if(j$)return x_;j$=1,Object.defineProperty(x_,"__esModule",{value:!0}),x_.LinkQueueWrapper=void 0;let a=class{constructor(u){this.linkQueue=u}push(u,n){return this.linkQueue.push(u,n)}getSize(){return this.linkQueue.getSize()}isEmpty(){return this.linkQueue.isEmpty()}pop(){return this.linkQueue.pop()}peek(){return this.linkQueue.peek()}};return x_.LinkQueueWrapper=a,x_}var M$;function hfe(){return M$||(M$=1,function(a){var t=os&&os.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=os&&os.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(lfe(),a),u(dfe(),a),u(ffe(),a)}(os)),os}var I_={},q$;function C$(){if(q$)return I_;q$=1,Object.defineProperty(I_,"__esModule",{value:!0}),I_.LinkQueueFifo=void 0;let a=class{constructor(){this.links=[]}push(u){return this.links.push(u),!0}getSize(){return this.links.length}isEmpty(){return this.links.length===0}pop(){return this.links.shift()}peek(){return this.links[0]}};return I_.LinkQueueFifo=a,I_}var B$;function pfe(){if(B$)return A_;B$=1,Object.defineProperty(A_,"__esModule",{value:!0}),A_.ActorRdfResolveHypermediaLinksQueueFifo=void 0;const a=hfe(),t=Te(),u=C$();let n=class extends a.ActorRdfResolveHypermediaLinksQueue{constructor(e){super(e)}async test(e){return(0,t.passTestVoid)()}async run(e){return{linkQueue:new u.LinkQueueFifo}}};return A_.ActorRdfResolveHypermediaLinksQueueFifo=n,A_}var $$;function yfe(){return $$||($$=1,function(a){var t=us&&us.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=us&&us.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(pfe(),a),u(C$(),a)}(us)),us}var ss={},R_={},cs={},N_={},V$;function bfe(){if(V$)return N_;V$=1,Object.defineProperty(N_,"__esModule",{value:!0}),N_.ActorRdfSerialize=void 0;const a=oh();let t=class extends a.ActorAbstractMediaTyped{constructor(n){super(n)}};return N_.ActorRdfSerialize=t,N_}var F_={},U$;function _fe(){if(U$)return F_;U$=1,Object.defineProperty(F_,"__esModule",{value:!0}),F_.ActorRdfSerializeFixedMediaTypes=void 0;const a=oh(),t=Te();let u=class extends a.ActorAbstractMediaTypedFixed{constructor(r){super(r)}async testHandleChecked(){return(0,t.passTestVoid)()}};return F_.ActorRdfSerializeFixedMediaTypes=u,F_}var Q$;function iN(){return Q$||(Q$=1,function(a){var t=cs&&cs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=cs&&cs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(bfe(),a),u(_fe(),a)}(cs)),cs}var H$;function mfe(){if(H$)return R_;H$=1,Object.defineProperty(R_,"__esModule",{value:!0}),R_.ActorRdfSerializeN3=void 0;const a=iN(),t=da;let u=class extends a.ActorRdfSerializeFixedMediaTypes{constructor(r){super(r)}async runHandle(r,e){const i=new t.StreamWriter({format:e});let o;return"pipe"in r.quadStream?(r.quadStream.on("error",c=>i.emit("error",c)),o=r.quadStream.pipe(i)):o=i.import(r.quadStream),{data:o,triples:e==="text/turtle"||e==="application/n-triples"||e==="text/n3"}}};return R_.ActorRdfSerializeN3=u,R_}var G$;function gfe(){return G$||(G$=1,function(a){var t=ss&&ss.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ss&&ss.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(mfe(),a)}(ss)),ss}var ls={},D_={},ds={},P_={},fs={},L_={},aN={},k$;function eA(){return k$||(k$=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ERROR_CODES=a.ErrorCoded=void 0;class t extends Error{constructor(n,r){super(n),this.code=r}}a.ErrorCoded=t,function(u){u.COLLIDING_KEYWORDS="colliding keywords",u.CONFLICTING_INDEXES="conflicting indexes",u.CYCLIC_IRI_MAPPING="cyclic IRI mapping",u.INVALID_ID_VALUE="invalid @id value",u.INVALID_INDEX_VALUE="invalid @index value",u.INVALID_NEST_VALUE="invalid @nest value",u.INVALID_PREFIX_VALUE="invalid @prefix value",u.INVALID_PROPAGATE_VALUE="invalid @propagate value",u.INVALID_REVERSE_VALUE="invalid @reverse value",u.INVALID_IMPORT_VALUE="invalid @import value",u.INVALID_VERSION_VALUE="invalid @version value",u.INVALID_BASE_IRI="invalid base IRI",u.INVALID_CONTAINER_MAPPING="invalid container mapping",u.INVALID_CONTEXT_ENTRY="invalid context entry",u.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",u.INVALID_DEFAULT_LANGUAGE="invalid default language",u.INVALID_INCLUDED_VALUE="invalid @included value",u.INVALID_IRI_MAPPING="invalid IRI mapping",u.INVALID_JSON_LITERAL="invalid JSON literal",u.INVALID_KEYWORD_ALIAS="invalid keyword alias",u.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",u.INVALID_LANGUAGE_MAPPING="invalid language mapping",u.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",u.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",u.INVALID_LOCAL_CONTEXT="invalid local context",u.INVALID_REMOTE_CONTEXT="invalid remote context",u.INVALID_REVERSE_PROPERTY="invalid reverse property",u.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",u.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",u.INVALID_SCOPED_CONTEXT="invalid scoped context",u.INVALID_SCRIPT_ELEMENT="invalid script element",u.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",u.INVALID_TERM_DEFINITION="invalid term definition",u.INVALID_TYPE_MAPPING="invalid type mapping",u.INVALID_TYPE_VALUE="invalid type value",u.INVALID_TYPED_VALUE="invalid typed value",u.INVALID_VALUE_OBJECT="invalid value object",u.INVALID_VALUE_OBJECT_VALUE="invalid value object value",u.INVALID_VOCAB_MAPPING="invalid vocab mapping",u.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",u.KEYWORD_REDEFINITION="keyword redefinition",u.LOADING_DOCUMENT_FAILED="loading document failed",u.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",u.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",u.PROCESSING_MODE_CONFLICT="processing mode conflict",u.PROTECTED_TERM_REDEFINITION="protected term redefinition",u.CONTEXT_OVERFLOW="context overflow",u.INVALID_BASE_DIRECTION="invalid base direction",u.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",u.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",u.INVALID_EMBEDDED_NODE="invalid embedded node",u.INVALID_ANNOTATION="invalid annotation"}(a.ERROR_CODES||(a.ERROR_CODES={}))}(aN)),aN}var j_={},z$;function X$(){if(z$)return j_;z$=1,Object.defineProperty(j_,"__esModule",{value:!0}),j_.FetchDocumentLoader=void 0;const a=eA(),t=s1(),u=mr();class n{constructor(e){this.fetcher=e}async load(e){const i=await(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(i.ok&&i.headers){let o=i.headers.get("Content-Type");if(o){const c=o.indexOf(";");c>0&&(o=o.substr(0,c))}if(o==="application/ld+json")return await i.json();if(i.headers.has("Link")){let c;if(i.headers.forEach((s,l)=>{if(l==="link"){const f=(0,t.parse)(s);for(const d of f.get("type","application/ld+json"))if(d.rel==="alternate"){if(c)throw new Error("Multiple JSON-LD alternate links were found on "+e);c=(0,u.resolve)(d.uri,e)}}}),c)return this.load(c)}throw new a.ErrorCoded(`Unsupported JSON-LD media type ${o}`,a.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(i.statusText||`Status code: ${i.status}`)}}return j_.FetchDocumentLoader=n,j_}var uN={},M_={},J$;function oN(){if(J$)return M_;J$=1,Object.defineProperty(M_,"__esModule",{value:!0}),M_.Util=void 0;class a{static isCompactIri(u){return u.indexOf(":")>0&&!(u&&u[0]==="#")}static getPrefix(u,n){if(u&&u[0]==="#")return null;const r=u.indexOf(":");if(r>=0){if(u.length>r+1&&u.charAt(r+1)==="/"&&u.charAt(r+2)==="/")return null;const e=u.substr(0,r);if(e==="_")return null;if(n[e])return e}return null}static getContextValueId(u){if(u===null||typeof u=="string")return u;const n=u["@id"];return n||null}static isSimpleTermDefinitionPrefix(u,n){return!a.isPotentialKeyword(u)&&(n.allowPrefixNonGenDelims||typeof u=="string"&&(u[0]==="_"||a.isPrefixIriEndingWithGenDelim(u)))}static isPotentialKeyword(u){return typeof u=="string"&&a.KEYWORD_REGEX.test(u)}static isPrefixIriEndingWithGenDelim(u){return a.ENDS_WITH_GEN_DELIM.test(u)}static isPrefixValue(u){return u&&(typeof u=="string"||u&&typeof u=="object")}static isValidIri(u){return!!(u&&a.IRI_REGEX.test(u))}static isValidIriWeak(u){return!!u&&u[0]!==":"&&a.IRI_REGEX_WEAK.test(u)}static isValidKeyword(u){return a.VALID_KEYWORDS[u]}static isTermProtected(u,n){const r=u[n];return typeof r!="string"&&r&&r["@protected"]}static hasProtectedTerms(u){for(const n of Object.keys(u))if(a.isTermProtected(u,n))return!0;return!1}static isReservedInternalKeyword(u){return u.startsWith("@__")}static deepEqual(u,n){const r=Object.keys(u),e=Object.keys(n);return r.length!==e.length?!1:r.every(i=>{const o=u[i],c=n[i];return o===c||o!==null&&c!==null&&typeof o=="object"&&typeof c=="object"&&this.deepEqual(o,c)})}}return a.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,a.IRI_REGEX_WEAK=/(?::[^:])|\//,a.KEYWORD_REGEX=/^@[a-z]+$/i,a.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,a.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,a.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,a.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},a.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],a.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],a.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],a.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],a.CONTAINERS_1_0=["@list","@set","@index"],M_.Util=a,M_}var K$;function W$(){return K$||(K$=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.defaultExpandOptions=a.JsonLdContextNormalized=void 0;const t=mr(),u=eA(),n=oN();class r{constructor(i){this.contextRaw=i}getContextRaw(){return this.contextRaw}expandTerm(i,o,c=a.defaultExpandOptions){const s=this.contextRaw[i];if(s===null||s&&s["@id"]===null)return null;let l=!0;if(s&&o){const m=n.Util.getContextValueId(s);if(m&&m!==i)if(typeof m!="string"||!n.Util.isValidIri(m)&&!n.Util.isValidKeyword(m))n.Util.isPotentialKeyword(m)||(l=!1);else return m}const f=n.Util.getPrefix(i,this.contextRaw),d=this.contextRaw["@vocab"],h=(!!d||d==="")&&d.indexOf(":")<0,p=this.contextRaw["@base"],b=n.Util.isPotentialKeyword(i);if(f){const m=this.contextRaw[f],y=n.Util.getContextValueId(m);if(y){if(typeof m=="string"||!c.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(y,c))return i}else if(y[0]!=="_"&&!b&&!m["@prefix"]&&!(i in this.contextRaw))return i;return y+i.substr(f.length+1)}}else if(o&&(d||d===""||c.allowVocabRelativeToBase&&p&&h)&&!b&&!n.Util.isCompactIri(i))if(h){if(c.allowVocabRelativeToBase)return(d||p?(0,t.resolve)(d,p):"")+i;throw new u.ErrorCoded(`Relative vocab expansion for term '${i}' with vocab '${d}' is not allowed.`,u.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return d+i;else if(!o&&p&&!b&&!n.Util.isCompactIri(i))return(0,t.resolve)(i,p);if(l)return i;throw new u.ErrorCoded(`Invalid IRI mapping found for context entry '${i}': '${JSON.stringify(s)}'`,u.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(i,o){if(o&&this.contextRaw["@vocab"]&&i.startsWith(this.contextRaw["@vocab"]))return i.substr(this.contextRaw["@vocab"].length);if(!o&&this.contextRaw["@base"]&&i.startsWith(this.contextRaw["@base"]))return i.substr(this.contextRaw["@base"].length);const c={prefix:"",suffix:i};for(const s in this.contextRaw){const l=this.contextRaw[s];if(l&&!n.Util.isPotentialKeyword(s)){const f=n.Util.getContextValueId(l);if(i.startsWith(f)){const d=i.substr(f.length);if(d)d.length<c.suffix.length&&(c.prefix=s,c.suffix=d);else if(o)return s}}}return c.prefix?c.prefix+":"+c.suffix:i}}a.JsonLdContextNormalized=r,a.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(uN)),uN}var Y$;function vfe(){if(Y$)return L_;Y$=1,Object.defineProperty(L_,"__esModule",{value:!0}),L_.ContextParser=void 0;const a=mr(),t=eA(),u=X$(),n=W$(),r=oN();class e{constructor(o){o=o||{},this.documentLoader=o.documentLoader||new u.FetchDocumentLoader,this.documentCache={},this.validateContext=!o.skipValidation,this.expandContentTypeToBase=!!o.expandContentTypeToBase,this.remoteContextsDepthLimit=o.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in o?!!o.redirectSchemaOrgHttps:!0}static validateLanguage(o,c,s){if(typeof o!="string")throw new t.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(o)}'`,s);if(!r.Util.REGEX_LANGUAGE_TAG.test(o)){if(c)throw new t.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(o)}'`,s);return!1}return!0}static validateDirection(o,c){if(typeof o!="string")throw new t.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(o)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);if(!r.Util.REGEX_DIRECTION_TAG.test(o)){if(c)throw new t.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(o)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(o){for(const c of Object.keys(o)){let s=o[c];if(s&&typeof s=="object"&&s["@reverse"]&&!s["@id"]){if(typeof s["@reverse"]!="string"||r.Util.isValidKeyword(s["@reverse"]))throw new t.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${s["@reverse"]}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);s=o[c]=Object.assign(Object.assign({},s),{"@id":s["@reverse"]}),s["@id"]=s["@reverse"],r.Util.isPotentialKeyword(s["@reverse"])?delete s["@reverse"]:s["@reverse"]=!0}}return o}expandPrefixedTerms(o,c,s){const l=o.getContextRaw();for(const f of s||Object.keys(l))if(r.Util.EXPAND_KEYS_BLACKLIST.indexOf(f)<0&&!r.Util.isReservedInternalKeyword(f)){const d=l[f];if(r.Util.isPotentialKeyword(f)&&r.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(f)>=0&&(f!=="@type"||typeof l[f]=="object"&&!(l[f]["@protected"]||l[f]["@container"]==="@set")))throw new t.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${f} to ${JSON.stringify(d)}`,t.ERROR_CODES.KEYWORD_REDEFINITION);if(r.Util.ALIAS_RANGE_BLACKLIST.indexOf(r.Util.getContextValueId(d))>=0)throw new t.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${f} to ${JSON.stringify(d)}`,t.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(d&&r.Util.isPotentialKeyword(r.Util.getContextValueId(d))&&d["@prefix"]===!0)throw new t.ErrorCoded(`Tried to use keyword aliases as prefix: '${f}': '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);for(;r.Util.isPrefixValue(l[f]);){const h=l[f];let p=!1;if(typeof h=="string")l[f]=o.expandTerm(h,!0),p=p||h!==l[f];else{const b=h["@id"],m=h["@type"],y=!("@prefix"in h)||r.Util.isValidIri(f);if("@id"in h)b!=null&&typeof b=="string"&&(l[f]=Object.assign(Object.assign({},l[f]),{"@id":o.expandTerm(b,!0)}),p=p||b!==l[f]["@id"]);else if(!r.Util.isPotentialKeyword(f)&&y){const g=o.expandTerm(f,!0);g!==f&&(l[f]=Object.assign(Object.assign({},l[f]),{"@id":g}),p=!0)}if(m&&typeof m=="string"&&m!=="@vocab"&&(!h["@container"]||!h["@container"]["@type"])&&y){let g=o.expandTerm(m,!0);c&&m===g&&(g=o.expandTerm(m,!1)),g!==m&&(p=!0,l[f]=Object.assign(Object.assign({},l[f]),{"@type":g}))}}if(!p)break}}}normalize(o,{processingMode:c,normalizeLanguageTags:s}){if(s||c===1)for(const l of Object.keys(o))if(l==="@language"&&typeof o[l]=="string")o[l]=o[l].toLowerCase();else{const f=o[l];if(f&&typeof f=="object"&&typeof f["@language"]=="string"){const d=f["@language"].toLowerCase();d!==f["@language"]&&(o[l]=Object.assign(Object.assign({},f),{"@language":d}))}}}containersToHash(o){for(const c of Object.keys(o)){const s=o[c];if(s&&typeof s=="object"){if(typeof s["@container"]=="string")o[c]=Object.assign(Object.assign({},s),{"@container":{[s["@container"]]:!0}});else if(Array.isArray(s["@container"])){const l={};for(const f of s["@container"])l[f]=!0;o[c]=Object.assign(Object.assign({},s),{"@container":l})}}}}applyScopedProtected(o,{processingMode:c},s){if(c&&c>=1.1&&o["@protected"]){for(const l of Object.keys(o))if(!r.Util.isReservedInternalKeyword(l)&&!r.Util.isPotentialKeyword(l)&&!r.Util.isTermProtected(o,l)){const f=o[l];f&&typeof f=="object"?"@protected"in o[l]||(o[l]=Object.assign(Object.assign({},o[l]),{"@protected":!0})):(o[l]={"@id":f,"@protected":!0},r.Util.isSimpleTermDefinitionPrefix(f,s)&&(o[l]=Object.assign(Object.assign({},o[l]),{"@prefix":!0})))}delete o["@protected"]}}validateKeywordRedefinitions(o,c,s,l){for(const f of l??Object.keys(c))if(r.Util.isTermProtected(o,f)&&(typeof c[f]=="string"?c[f]={"@id":c[f],"@protected":!0}:c[f]=Object.assign(Object.assign({},c[f]),{"@protected":!0}),!r.Util.deepEqual(o[f],c[f])))throw new t.ErrorCoded(`Attempted to override the protected keyword ${f} from ${JSON.stringify(r.Util.getContextValueId(o[f]))} to ${JSON.stringify(r.Util.getContextValueId(c[f]))}`,t.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(o,{processingMode:c}){for(const s of Object.keys(o)){if(r.Util.isReservedInternalKeyword(s))continue;if(s==="")throw new t.ErrorCoded(`The empty term is not allowed, got: '${s}': '${JSON.stringify(o[s])}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);const l=o[s],f=typeof l;if(r.Util.isPotentialKeyword(s)){switch(s.substr(1)){case"vocab":if(l!==null&&f!=="string")throw new t.ErrorCoded(`Found an invalid @vocab IRI: ${l}`,t.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(l!==null&&f!=="string")throw new t.ErrorCoded(`Found an invalid @base IRI: ${o[s]}`,t.ERROR_CODES.INVALID_BASE_IRI);break;case"language":l!==null&&e.validateLanguage(l,!0,t.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(l!==null&&f!=="number")throw new t.ErrorCoded(`Found an invalid @version number: ${l}`,t.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":l!==null&&e.validateDirection(l,!0);break;case"propagate":if(c===1)throw new t.ErrorCoded(`Found an illegal @propagate keyword: ${l}`,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(l!==null&&f!=="boolean")throw new t.ErrorCoded(`Found an invalid @propagate value: ${l}`,t.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(r.Util.isValidKeyword(s)&&r.Util.isValidKeyword(r.Util.getContextValueId(l)))throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${s}': '${r.Util.getContextValueId(l)}'`,t.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(l!==null)switch(f){case"string":if(r.Util.getPrefix(l,o)===s)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);if(r.Util.isValidIriWeak(s)){if(l==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${s}': '${l}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(l)&&l!==new n.JsonLdContextNormalized(o).expandTerm(s))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${s}': '${l}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!r.Util.isCompactIri(s)&&!("@id"in l)&&(l["@type"]==="@id"?!o["@base"]:!o["@vocab"]))throw new t.ErrorCoded(`Missing @id in context entry: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);for(const d of Object.keys(l)){const h=l[d];if(h)switch(d){case"@id":if(r.Util.isValidKeyword(h)&&h!=="@type"&&h!=="@id"&&h!=="@graph"&&h!=="@nest")throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIriWeak(s)){if(h==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(h)&&h!==new n.JsonLdContextNormalized(o).expandTerm(s))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof h!="string")throw new t.ErrorCoded(`Detected non-string @id in context entry: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.getPrefix(h,o)===s)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(l["@container"]==="@type"&&h!=="@id"&&h!=="@vocab")throw new t.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${s}': '${h}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof h!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(h!=="@id"&&h!=="@vocab"&&(c===1||h!=="@json")&&(c===1||h!=="@none")&&(h[0]==="_"||!r.Util.isValidIri(h)))throw new t.ErrorCoded(`A context @type must be an absolute IRI, found: '${s}': '${h}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof h=="string"&&l["@id"]&&l["@id"]!==h)throw new t.ErrorCoded(`Found non-matching @id and @reverse term values in '${s}':'${h}' and '${l["@id"]}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in l)throw new t.ErrorCoded(`@nest is not allowed in the reverse property '${s}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(c===1&&(Object.keys(h).length>1||r.Util.CONTAINERS_1_0.indexOf(Object.keys(h)[0])<0))throw new t.ErrorCoded(`Invalid term @container for '${s}' ('${Object.keys(h)}') in 1.0, must be only one of ${r.Util.CONTAINERS_1_0.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const p of Object.keys(h)){if(p==="@list"&&l["@reverse"])throw new t.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${s}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(r.Util.CONTAINERS.indexOf(p)<0)throw new t.ErrorCoded(`Invalid term @container for '${s}' ('${p}'), must be one of ${r.Util.CONTAINERS.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":e.validateLanguage(h,!0,t.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":e.validateDirection(h,!0);break;case"@prefix":if(h!==null&&typeof h!="boolean")throw new t.ErrorCoded(`Found an invalid term @prefix boolean in: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in l)&&!r.Util.isValidIri(s))throw new t.ErrorCoded(`Invalid @prefix definition for '${s}' ('${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(c===1||!l["@container"]||!l["@container"]["@index"])throw new t.ErrorCoded(`Attempt to add illegal key to value object: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(r.Util.isPotentialKeyword(h)&&h!=="@nest")throw new t.ErrorCoded(`Found an invalid term @nest value in: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new t.ErrorCoded(`Found an invalid term value: '${s}': '${l}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(o,c,s){return typeof o=="string"||(s&&!("@base"in o)&&c.parentContext&&typeof c.parentContext=="object"&&"@base"in c.parentContext&&(o["@base"]=c.parentContext["@base"],c.parentContext["@__baseDocument"]&&(o["@__baseDocument"]=!0)),c.baseIRI&&!c.external&&("@base"in o?o["@base"]!==null&&typeof o["@base"]=="string"&&!r.Util.isValidIri(o["@base"])&&(o["@base"]=(0,a.resolve)(o["@base"],c.parentContext&&c.parentContext["@base"]||c.baseIRI)):(o["@base"]=c.baseIRI,o["@__baseDocument"]=!0))),o}normalizeContextIri(o,c){if(!r.Util.isValidIri(o))try{o=(0,a.resolve)(o,c)}catch{throw new Error(`Invalid context IRI: ${o}`)}return this.redirectSchemaOrgHttps&&o.startsWith("http://schema.org")&&(o="https://schema.org/"),o}async parseInnerContexts(o,c,s){for(const l of s??Object.keys(o)){const f=o[l];if(f&&typeof f=="object"&&"@context"in f&&f["@context"]!==null&&!c.ignoreScopedContexts){if(this.validateContext)try{const d=Object.assign(Object.assign({},o),{[l]:Object.assign({},o[l])});delete d[l]["@context"],await this.parse(f["@context"],Object.assign(Object.assign({},c),{external:!1,parentContext:d,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(d){throw new t.ErrorCoded(d.message,t.ERROR_CODES.INVALID_SCOPED_CONTEXT)}o[l]=Object.assign(Object.assign({},f),{"@context":(await this.parse(f["@context"],Object.assign(Object.assign({},c),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:o}))).getContextRaw()})}}return o}async parse(o,c={},s={}){const{baseIRI:l,parentContext:f,external:d,processingMode:h=e.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:p,ignoreProtection:b,minimalProcessing:m}=c,y=c.remoteContexts||{};if(Object.keys(y).length>=this.remoteContextsDepthLimit)throw new t.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(y),t.ERROR_CODES.CONTEXT_OVERFLOW);if(o==null){if(!b&&f&&r.Util.hasProtectedTerms(f))throw new t.ErrorCoded("Illegal context nullification when terms are protected",t.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new n.JsonLdContextNormalized(this.applyBaseEntry({},c,!1))}else if(typeof o=="string"){const g=this.normalizeContextIri(o,l),_=this.getOverriddenLoad(g,c);if(_)return new n.JsonLdContextNormalized(_);const v=await this.parse(await this.load(g),Object.assign(Object.assign({},c),{baseIRI:g,external:!0,remoteContexts:Object.assign(Object.assign({},y),{[g]:!0})}));return this.applyBaseEntry(v.getContextRaw(),c,!0),v}else if(Array.isArray(o)){const g=[],_=await Promise.all(o.map((T,w)=>{if(typeof T=="string"){const A=this.normalizeContextIri(T,l);g[w]=A;const M=this.getOverriddenLoad(A,c);return M||this.load(A)}else return T}));if(m)return new n.JsonLdContextNormalized(_);const v=await _.reduce((T,w,A)=>T.then(M=>this.parse(w,Object.assign(Object.assign({},c),{baseIRI:g[A]||c.baseIRI,external:!!g[A]||c.external,parentContext:M.getContextRaw(),remoteContexts:g[A]?Object.assign(Object.assign({},y),{[g[A]]:!0}):y}),{skipValidation:A<_.length-1})),Promise.resolve(new n.JsonLdContextNormalized(f||{})));return this.applyBaseEntry(v.getContextRaw(),c,!0),v}else if(typeof o=="object"){if("@context"in o)return await this.parse(o["@context"],c);if(o=Object.assign({},o),d&&delete o["@base"],this.applyBaseEntry(o,c,!0),this.containersToHash(o),m)return new n.JsonLdContextNormalized(o);let g={};if("@import"in o)if(h>=1.1){if(typeof o["@import"]!="string")throw new t.ErrorCoded("An @import value must be a string, but got "+typeof o["@import"],t.ERROR_CODES.INVALID_IMPORT_VALUE);g=await this.loadImportContext(this.normalizeContextIri(o["@import"],l)),delete o["@import"]}else throw new t.ErrorCoded("Context importing is not supported in JSON-LD 1.0",t.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(g,{processingMode:h},n.defaultExpandOptions);const _=Object.assign(g,o);this.idifyReverseTerms(_),this.normalize(_,{processingMode:h,normalizeLanguageTags:p}),this.applyScopedProtected(_,{processingMode:h},n.defaultExpandOptions);const v=Object.keys(_),T=[];if(typeof f=="object")for(const A in f)A in _?T.push(A):_[A]=f[A];await this.parseInnerContexts(_,c,v);const w=new n.JsonLdContextNormalized(_);return(_&&_["@version"]||e.DEFAULT_PROCESSING_MODE)>=1.1&&(o["@vocab"]&&typeof o["@vocab"]=="string"||o["@vocab"]==="")&&(f&&"@vocab"in f&&o["@vocab"].indexOf(":")<0?_["@vocab"]=f["@vocab"]+o["@vocab"]:(r.Util.isCompactIri(o["@vocab"])||o["@vocab"]in _)&&(_["@vocab"]=w.expandTerm(o["@vocab"],!0))),this.expandPrefixedTerms(w,this.expandContentTypeToBase,v),!b&&f&&h>=1.1&&this.validateKeywordRedefinitions(f,_,n.defaultExpandOptions,T),this.validateContext&&!s.skipValidation&&this.validate(_,{processingMode:h}),w}else throw new t.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${o}`,t.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(o){const c=this.documentCache[o];if(c)return c;let s;try{s=await this.documentLoader.load(o)}catch(l){throw new t.ErrorCoded(`Failed to load remote context ${o}: ${l.message}`,t.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in s))throw new t.ErrorCoded(`Missing @context in remote context at ${o}`,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[o]=s["@context"]}getOverriddenLoad(o,c){if(o in(c.remoteContexts||{})){if(c.ignoreRemoteScopedContexts)return o;throw new t.ErrorCoded("Detected a cyclic context inclusion of "+o,t.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(o){let c=await this.load(o);if(typeof c!="object"||Array.isArray(c))throw new t.ErrorCoded("An imported context must be a single object: "+o,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in c)throw new t.ErrorCoded("An imported context can not import another context: "+o,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);return c=Object.assign({},c),this.containersToHash(c),c}}return e.DEFAULT_PROCESSING_MODE=1.1,L_.ContextParser=e,L_}var sN={},Z$;function Tfe(){return Z$||(Z$=1,Object.defineProperty(sN,"__esModule",{value:!0})),sN}var cN={},eV;function wfe(){return eV||(eV=1,Object.defineProperty(cN,"__esModule",{value:!0})),cN}var tV;function rV(){return tV||(tV=1,function(a){var t=fs&&fs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=fs&&fs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(vfe(),a),u(eA(),a),u(X$(),a),u(Tfe(),a),u(wfe(),a),u(W$(),a),u(oN(),a)}(fs)),fs}var q_={},nV;function Sfe(){if(nV)return q_;nV=1,Object.defineProperty(q_,"__esModule",{value:!0}),q_.SeparatorType=void 0;let a=class{constructor(u){this.label=u}};return q_.SeparatorType=a,a.COMMA=new a(","),a.OBJECT_START=new a("{"),a.OBJECT_END=new a("}"),a.OBJECT_END_COMMA=new a("},"),a.ARRAY_START=new a("["),a.ARRAY_END=new a("]"),a.ARRAY_END_COMMA=new a("],"),a.GRAPH_FIELD_NONCOMPACT=new a('"@graph": ['),a.GRAPH_FIELD_COMPACT=new a('"@graph":['),a.CONTEXT_FIELD=new a('"@context":'),q_}var C_={},iV;function aV(){if(iV)return C_;iV=1,Object.defineProperty(C_,"__esModule",{value:!0}),C_.Util=void 0;const a=rV();class t{static termToValue(n,r,e={compactIds:!1,useNativeTypes:!1}){switch(n.termType){case"NamedNode":const i=r.compactIri(n.value,e.vocab);return e.compactIds?i:{"@id":i};case"DefaultGraph":return e.compactIds?n.value:{"@id":n.value};case"BlankNode":const o=`_:${n.value}`;return e.compactIds?o:{"@id":o};case"Literal":if(n.datatype.value===t.RDF_JSON){let l;try{l=JSON.parse(n.value)}catch(f){throw new a.ErrorCoded("Invalid JSON literal: "+f.message,a.ERROR_CODES.INVALID_JSON_LITERAL)}return{"@value":l,"@type":"@json"}}if(e.rdfDirection==="i18n-datatype"&&n.datatype.value.startsWith(t.I18N)){const[l,f]=n.datatype.value.substr(t.I18N.length,n.datatype.value.length).split("_");return Object.assign(Object.assign({"@value":n.value},l?{"@language":l}:{}),f?{"@direction":f}:{})}const c=n.datatype.value===t.XSD_STRING,s={"@value":!c&&e.useNativeTypes?t.stringToNativeType(n.value,n.datatype.value):n.value};return n.language?Object.assign(Object.assign({},s),{"@language":n.language}):!c&&typeof s["@value"]=="string"?Object.assign(Object.assign({},s),{"@type":n.datatype.value}):s}}static stringToNativeType(n,r){if(r.startsWith(t.XSD))switch(r.substr(t.XSD.length)){case"boolean":if(n==="true")return!0;if(n==="false")return!1;throw new Error(`Invalid xsd:boolean value '${n}'`);case"integer":case"number":case"int":case"byte":case"long":const i=parseInt(n,10);if(isNaN(i))throw new Error(`Invalid xsd:integer value '${n}'`);return i;case"float":case"double":const o=parseFloat(n);if(isNaN(o))throw new Error(`Invalid xsd:float value '${n}'`);return o}return n}}return C_.Util=t,t.XSD="http://www.w3.org/2001/XMLSchema#",t.XSD_STRING=t.XSD+"string",t.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",t.RDF_TYPE=t.RDF+"type",t.RDF_JSON=t.RDF+"JSON",t.I18N="https://www.w3.org/ns/i18n#",C_}var uV;function Ofe(){if(uV)return P_;uV=1,Object.defineProperty(P_,"__esModule",{value:!0}),P_.JsonLdSerializer=void 0;const a=rV(),t=Sfe(),u=aV(),n=Mt();let r=class aie extends n.Transform{constructor(i={}){super({objectMode:!0}),this.indentation=0,this.options=i,this.options.baseIRI&&!this.options.context&&(this.options.context={"@base":this.options.baseIRI}),this.options.context?(this.originalContext=this.options.context,this.context=new a.ContextParser().parse(this.options.context,{baseIRI:this.options.baseIRI})):this.context=Promise.resolve(new a.JsonLdContextNormalized({}))}import(i){const o=new n.PassThrough({objectMode:!0});i.on("error",s=>c.emit("error",s)),i.on("data",s=>o.push(s)),i.on("end",()=>o.push(null));const c=o.pipe(new aie(this.options));return c}_transform(i,o,c){this.context.then(s=>{this.transformQuad(i,s),c()}).catch(c)}async list(i){const o=await this.context;return{"@list":i.map(c=>u.Util.termToValue(c,o,this.options))}}_flush(i){return this.opened||this.pushDocumentStart(),this.lastPredicate&&this.endPredicate(),this.lastSubject&&this.endSubject(),this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.endGraph(),this.endDocument(),i(null,null)}transformQuad(i,o){this.opened||this.pushDocumentStart();const c=this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.lastGraph.equals(i.subject);if(!c&&(!this.lastGraph||!i.graph.equals(this.lastGraph))){let s=i.graph.termType!=="DefaultGraph"&&this.lastSubject&&this.lastSubject.equals(i.graph);this.lastGraph&&(this.lastGraph.termType!=="DefaultGraph"?(this.endPredicate(),this.endSubject(),this.endGraph(!0),s=!1):s?(this.endPredicate(!0),this.lastSubject=null):(this.endPredicate(),this.endSubject(!0))),i.graph.termType!=="DefaultGraph"&&(s||this.pushId(i.graph,!0,o),this.pushSeparator(this.options.space?t.SeparatorType.GRAPH_FIELD_NONCOMPACT:t.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++),this.lastGraph=i.graph}(!this.lastSubject||!i.subject.equals(this.lastSubject))&&(c?(this.endPredicate(),this.endSubject(),this.indentation--,this.pushSeparator(t.SeparatorType.ARRAY_END_COMMA),this.lastGraph=i.graph):(this.lastSubject&&(this.endPredicate(),this.endSubject(!0)),this.pushId(i.subject,!0,o)),this.lastSubject=i.subject),(!this.lastPredicate||!i.predicate.equals(this.lastPredicate))&&(this.lastPredicate&&this.endPredicate(!0),this.pushPredicate(i.predicate,o)),this.pushObject(i.object,o)}pushDocumentStart(){this.opened=!0,this.originalContext&&!this.options.excludeContext?(this.pushSeparator(t.SeparatorType.OBJECT_START),this.indentation++,this.pushSeparator(t.SeparatorType.CONTEXT_FIELD),this.pushIndented(JSON.stringify(this.originalContext,null,this.options.space)+","),this.pushSeparator(this.options.space?t.SeparatorType.GRAPH_FIELD_NONCOMPACT:t.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++):(this.pushSeparator(t.SeparatorType.ARRAY_START),this.indentation++)}pushId(i,o,c){if(i.termType==="Quad")this.pushNestedQuad(i,!0,c);else{const s=i.termType==="BlankNode"?"_:"+i.value:c.compactIri(i.value,!1);o?this.pushSeparator(t.SeparatorType.OBJECT_START):(this.push(t.SeparatorType.OBJECT_START.label),this.options.space&&this.push(`
`)),this.indentation++,this.pushIndented(this.options.space?`"@id": "${s}",`:`"@id":"${s}",`)}}pushPredicate(i,o){let c=i.value;!this.options.useRdfType&&c===u.Util.RDF_TYPE&&(c="@type",this.objectOptions=Object.assign(Object.assign({},this.options),{compactIds:!0,vocab:!0}));const s=o.compactIri(c,!0);this.pushIndented(this.options.space?`"${s}": [`:`"${s}":[`),this.indentation++,this.lastPredicate=i}pushObject(i,o){if(this.hadObjectForPredicate?this.pushSeparator(t.SeparatorType.COMMA):this.hadObjectForPredicate=!0,i.termType==="Quad"){const s=this.lastSubject,l=this.lastPredicate;this.hadObjectForPredicate=!1,this.pushNestedQuad(i,!1,o),this.endSubject(!1),this.hadObjectForPredicate=!0,this.lastPredicate=l,this.lastSubject=s;return}let c;try{i["@list"]?c=i:c=u.Util.termToValue(i,o,this.objectOptions||this.options)}catch(s){return this.emit("error",s)}this.pushIndented(JSON.stringify(c,null,this.options.space))}pushNestedQuad(i,o,c){this.pushSeparator(t.SeparatorType.OBJECT_START),this.indentation++,this.pushIndented(this.options.space?'"@id": ':'"@id":',!1),i.graph.termType!=="DefaultGraph"&&this.emit("error",new Error(`Found a nested quad with the non-default graph: ${i.graph.value}`)),this.pushId(i.subject,!1,c),this.pushPredicate(i.predicate,c),this.pushObject(i.object,c),this.endPredicate(!1),this.endSubject(o)}endDocument(){this.opened=!1,this.originalContext&&!this.options.excludeContext?(this.indentation--,this.pushSeparator(t.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(t.SeparatorType.OBJECT_END)):(this.indentation--,this.pushSeparator(t.SeparatorType.ARRAY_END))}endPredicate(i){this.indentation--,this.pushSeparator(i?t.SeparatorType.ARRAY_END_COMMA:t.SeparatorType.ARRAY_END),this.hadObjectForPredicate=!1,this.objectOptions=null,this.lastPredicate=null}endSubject(i){this.indentation--,this.pushSeparator(i?t.SeparatorType.OBJECT_END_COMMA:t.SeparatorType.OBJECT_END),this.lastSubject=null}endGraph(i){this.indentation--,this.pushSeparator(t.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(i?t.SeparatorType.OBJECT_END_COMMA:t.SeparatorType.OBJECT_END),this.lastGraph=null}pushSeparator(i){this.pushIndented(i.label)}pushIndented(i,o=!0){const c=this.getIndentPrefix(),s=i.split(`
`).map(l=>c+l).join(`
`);this.push(s),this.options.space&&o&&this.push(`
`)}getIndentPrefix(){return this.options.space?this.options.space.repeat(this.indentation):""}};return P_.JsonLdSerializer=r,P_}var oV;function Afe(){return oV||(oV=1,function(a){var t=ds&&ds.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ds&&ds.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Ofe(),a),u(aV(),a)}(ds)),ds}var sV;function Efe(){if(sV)return D_;sV=1,Object.defineProperty(D_,"__esModule",{value:!0}),D_.ActorRdfSerializeJsonLd=void 0;const a=iN(),t=Afe();let u=class extends a.ActorRdfSerializeFixedMediaTypes{constructor(r){super(r)}async runHandle(r,e,i){const o=new t.JsonLdSerializer({space:" ".repeat(this.jsonStringifyIndentSpaces)});let c;return"pipe"in r.quadStream?(r.quadStream.on("error",s=>o.emit("error",s)),c=r.quadStream.pipe(o)):c=o.import(r.quadStream),{data:c}}};return D_.ActorRdfSerializeJsonLd=u,D_}var cV;function xfe(){return cV||(cV=1,function(a){var t=ls&&ls.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ls&&ls.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Efe(),a)}(ls)),ls}var hs={},B_={},tA={},lV;function Ife(){if(lV)return tA;lV=1,Object.defineProperty(tA,"__esModule",{value:!0});function a(u,n){return new Promise((r,e)=>{u.on("end",()=>r(n)),u.on("error",e)})}function t(u){const n=[];return a(u.on("data",r=>n.push(r)),n)}return tA.default=t,tA}var ji={},ha={},$_={},V_={},dV;function Rfe(){if(dV)return V_;dV=1,Object.defineProperty(V_,"__esModule",{value:!0}),V_.fragment=void 0;function a(n){let r=n;(r.endsWith("/")||r.endsWith("#"))&&(r=r.slice(0,r.length-1));const e=[];r.lastIndexOf("/")>0&&e.push(r.lastIndexOf("/")),r.lastIndexOf("#")>0&&e.push(r.lastIndexOf("#"));const i=Math.max(...e);return r.slice(i+1)}function t(n){var r;const e=(r=n.split(/[^a-z0-9]+/ig).filter(i=>i!=="").map(i=>i[0].toUpperCase()+i.slice(1)).join("").match(/[a-z][a-z0-9]+/ig))===null||r===void 0?void 0:r[0];return typeof e>"u"?void 0:e[0].toLowerCase()+e.slice(1)}function u(n){let r=a(n);return r=r?t(r):void 0,r||"v"}return V_.fragment=u,V_}var ps={},ys={},Mi={},rA={exports:{}},fV;function Nfe(){return fV||(fV=1,function(a,t){var u=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof It<"u"&&It,n=function(){function e(){this.fetch=!1,this.DOMException=u.DOMException}return e.prototype=u,new e}();(function(e){(function(i){var o=typeof e<"u"&&e||typeof self<"u"&&self||typeof It<"u"&&It||{},c={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function s($){return $&&DataView.prototype.isPrototypeOf($)}if(c.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function($){return $&&l.indexOf(Object.prototype.toString.call($))>-1};function d($){if(typeof $!="string"&&($=String($)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test($)||$==="")throw new TypeError('Invalid character in header field name: "'+$+'"');return $.toLowerCase()}function h($){return typeof $!="string"&&($=String($)),$}function p($){var Q={next:function(){var ie=$.shift();return{done:ie===void 0,value:ie}}};return c.iterable&&(Q[Symbol.iterator]=function(){return Q}),Q}function b($){this.map={},$ instanceof b?$.forEach(function(Q,ie){this.append(ie,Q)},this):Array.isArray($)?$.forEach(function(Q){if(Q.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+Q.length);this.append(Q[0],Q[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(Q){this.append(Q,$[Q])},this)}b.prototype.append=function($,Q){$=d($),Q=h(Q);var ie=this.map[$];this.map[$]=ie?ie+", "+Q:Q},b.prototype.delete=function($){delete this.map[d($)]},b.prototype.get=function($){return $=d($),this.has($)?this.map[$]:null},b.prototype.has=function($){return this.map.hasOwnProperty(d($))},b.prototype.set=function($,Q){this.map[d($)]=h(Q)},b.prototype.forEach=function($,Q){for(var ie in this.map)this.map.hasOwnProperty(ie)&&$.call(Q,this.map[ie],ie,this)},b.prototype.keys=function(){var $=[];return this.forEach(function(Q,ie){$.push(ie)}),p($)},b.prototype.values=function(){var $=[];return this.forEach(function(Q){$.push(Q)}),p($)},b.prototype.entries=function(){var $=[];return this.forEach(function(Q,ie){$.push([ie,Q])}),p($)},c.iterable&&(b.prototype[Symbol.iterator]=b.prototype.entries);function m($){if(!$._noBody){if($.bodyUsed)return Promise.reject(new TypeError("Already read"));$.bodyUsed=!0}}function y($){return new Promise(function(Q,ie){$.onload=function(){Q($.result)},$.onerror=function(){ie($.error)}})}function g($){var Q=new FileReader,ie=y(Q);return Q.readAsArrayBuffer($),ie}function _($){var Q=new FileReader,ie=y(Q),ue=/charset=([A-Za-z0-9_-]+)/.exec($.type),pe=ue?ue[1]:"utf-8";return Q.readAsText($,pe),ie}function v($){for(var Q=new Uint8Array($),ie=new Array(Q.length),ue=0;ue<Q.length;ue++)ie[ue]=String.fromCharCode(Q[ue]);return ie.join("")}function T($){if($.slice)return $.slice(0);var Q=new Uint8Array($.byteLength);return Q.set(new Uint8Array($)),Q.buffer}function w(){return this.bodyUsed=!1,this._initBody=function($){this.bodyUsed=this.bodyUsed,this._bodyInit=$,$?typeof $=="string"?this._bodyText=$:c.blob&&Blob.prototype.isPrototypeOf($)?this._bodyBlob=$:c.formData&&FormData.prototype.isPrototypeOf($)?this._bodyFormData=$:c.searchParams&&URLSearchParams.prototype.isPrototypeOf($)?this._bodyText=$.toString():c.arrayBuffer&&c.blob&&s($)?(this._bodyArrayBuffer=T($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf($)||f($))?this._bodyArrayBuffer=T($):this._bodyText=$=Object.prototype.toString.call($):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof $=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var $=m(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var $=m(this);return $||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(g);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var $=m(this);if($)return $;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(O)}),this.json=function(){return this.text().then(JSON.parse)},this}var A=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function M($){var Q=$.toUpperCase();return A.indexOf(Q)>-1?Q:$}function F($,Q){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');Q=Q||{};var ie=Q.body;if($ instanceof F){if($.bodyUsed)throw new TypeError("Already read");this.url=$.url,this.credentials=$.credentials,Q.headers||(this.headers=new b($.headers)),this.method=$.method,this.mode=$.mode,this.signal=$.signal,!ie&&$._bodyInit!=null&&(ie=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=Q.credentials||this.credentials||"same-origin",(Q.headers||!this.headers)&&(this.headers=new b(Q.headers)),this.method=M(Q.method||this.method||"GET"),this.mode=Q.mode||this.mode||null,this.signal=Q.signal||this.signal||function(){if("AbortController"in o){var X=new AbortController;return X.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ie)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ie),(this.method==="GET"||this.method==="HEAD")&&(Q.cache==="no-store"||Q.cache==="no-cache")){var ue=/([?&])_=[^&]*/;if(ue.test(this.url))this.url=this.url.replace(ue,"$1_="+new Date().getTime());else{var pe=/\?/;this.url+=(pe.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}F.prototype.clone=function(){return new F(this,{body:this._bodyInit})};function O($){var Q=new FormData;return $.trim().split("&").forEach(function(ie){if(ie){var ue=ie.split("="),pe=ue.shift().replace(/\+/g," "),X=ue.join("=").replace(/\+/g," ");Q.append(decodeURIComponent(pe),decodeURIComponent(X))}}),Q}function E($){var Q=new b,ie=$.replace(/\r?\n[\t ]+/g," ");return ie.split("\r").map(function(ue){return ue.indexOf(`
`)===0?ue.substr(1,ue.length):ue}).forEach(function(ue){var pe=ue.split(":"),X=pe.shift().trim();if(X){var me=pe.join(":").trim();try{Q.append(X,me)}catch(Fe){console.warn("Response "+Fe.message)}}}),Q}w.call(F.prototype);function x($,Q){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(Q||(Q={}),this.type="default",this.status=Q.status===void 0?200:Q.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=Q.statusText===void 0?"":""+Q.statusText,this.headers=new b(Q.headers),this.url=Q.url||"",this._initBody($)}w.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},x.error=function(){var $=new x(null,{status:200,statusText:""});return $.ok=!1,$.status=0,$.type="error",$};var L=[301,302,303,307,308];x.redirect=function($,Q){if(L.indexOf(Q)===-1)throw new RangeError("Invalid status code");return new x(null,{status:Q,headers:{location:$}})},i.DOMException=o.DOMException;try{new i.DOMException}catch{i.DOMException=function(Q,ie){this.message=Q,this.name=ie;var ue=Error(Q);this.stack=ue.stack},i.DOMException.prototype=Object.create(Error.prototype),i.DOMException.prototype.constructor=i.DOMException}function V($,Q){return new Promise(function(ie,ue){var pe=new F($,Q);if(pe.signal&&pe.signal.aborted)return ue(new i.DOMException("Aborted","AbortError"));var X=new XMLHttpRequest;function me(){X.abort()}X.onload=function(){var re={statusText:X.statusText,headers:E(X.getAllResponseHeaders()||"")};pe.url.indexOf("file://")===0&&(X.status<200||X.status>599)?re.status=200:re.status=X.status,re.url="responseURL"in X?X.responseURL:re.headers.get("X-Request-URL");var je="response"in X?X.response:X.responseText;setTimeout(function(){ie(new x(je,re))},0)},X.onerror=function(){setTimeout(function(){ue(new TypeError("Network request failed"))},0)},X.ontimeout=function(){setTimeout(function(){ue(new TypeError("Network request timed out"))},0)},X.onabort=function(){setTimeout(function(){ue(new i.DOMException("Aborted","AbortError"))},0)};function Fe(re){try{return re===""&&o.location.href?o.location.href:re}catch{return re}}if(X.open(pe.method,Fe(pe.url),!0),pe.credentials==="include"?X.withCredentials=!0:pe.credentials==="omit"&&(X.withCredentials=!1),"responseType"in X&&(c.blob?X.responseType="blob":c.arrayBuffer&&(X.responseType="arraybuffer")),Q&&typeof Q.headers=="object"&&!(Q.headers instanceof b||o.Headers&&Q.headers instanceof o.Headers)){var ve=[];Object.getOwnPropertyNames(Q.headers).forEach(function(re){ve.push(d(re)),X.setRequestHeader(re,h(Q.headers[re]))}),pe.headers.forEach(function(re,je){ve.indexOf(je)===-1&&X.setRequestHeader(je,re)})}else pe.headers.forEach(function(re,je){X.setRequestHeader(je,re)});pe.signal&&(pe.signal.addEventListener("abort",me),X.onreadystatechange=function(){X.readyState===4&&pe.signal.removeEventListener("abort",me)}),X.send(typeof pe._bodyInit>"u"?null:pe._bodyInit)})}return V.polyfill=!0,o.fetch||(o.fetch=V,o.Headers=b,o.Request=F,o.Response=x),i.Headers=b,i.Request=F,i.Response=x,i.fetch=V,Object.defineProperty(i,"__esModule",{value:!0}),i})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var r=u.fetch?u:n;t=r.fetch,t.default=r.fetch,t.fetch=r.fetch,t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response,a.exports=t}(rA,rA.exports)),rA.exports}var hV;function lN(){if(hV)return Mi;hV=1;var a=Mi&&Mi.__awaiter||function(r,e,i,o){function c(s){return s instanceof i?s:new i(function(l){l(s)})}return new(i||(i=Promise))(function(s,l){function f(p){try{h(o.next(p))}catch(b){l(b)}}function d(p){try{h(o.throw(p))}catch(b){l(b)}}function h(p){p.done?s(p.value):c(p.value).then(f,d)}h((o=o.apply(r,e||[])).next())})};Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.fetchContext=Mi.fetchJson=void 0;const t=Nfe();function u(r,e){var i;return a(this,void 0,void 0,function*(){return(yield((i=e==null?void 0:e.fetch)!==null&&i!==void 0?i:t.fetch)(r)).json()})}Mi.fetchJson=u;function n(r,e){return a(this,void 0,void 0,function*(){return(yield u(r,e))["@context"]})}return Mi.fetchContext=n,Mi}var pV;function Ffe(){if(pV)return ys;pV=1;var a=ys&&ys.__awaiter||function(n,r,e,i){function o(c){return c instanceof e?c:new e(function(s){s(c)})}return new(e||(e=Promise))(function(c,s){function l(h){try{d(i.next(h))}catch(p){s(p)}}function f(h){try{d(i.throw(h))}catch(p){s(p)}}function d(h){h.done?c(h.value):o(h.value).then(l,f)}d((i=i.apply(n,r||[])).next())})};Object.defineProperty(ys,"__esModule",{value:!0}),ys.lookupUri=void 0;const t=lN();function u(n,r){return a(this,void 0,void 0,function*(){const e=(yield(0,t.fetchContext)(`https://prefix.cc/${n}.file.jsonld`,r))[n];if(typeof e!="string")throw new Error(`Expected uri to be a string, received: ${e} of type ${typeof e}`);return e})}return ys.lookupUri=u,ys}var bs={},yV;function Dfe(){if(yV)return bs;yV=1;var a=bs&&bs.__awaiter||function(n,r,e,i){function o(c){return c instanceof e?c:new e(function(s){s(c)})}return new(e||(e=Promise))(function(c,s){function l(h){try{d(i.next(h))}catch(p){s(p)}}function f(h){try{d(i.throw(h))}catch(p){s(p)}}function d(h){h.done?c(h.value):o(h.value).then(l,f)}d((i=i.apply(n,r||[])).next())})};Object.defineProperty(bs,"__esModule",{value:!0}),bs.lookupPrefix=void 0;const t=lN();function u(n,r){return a(this,void 0,void 0,function*(){const e=new URL("https://prefix.cc/reverse");e.searchParams.append("uri",n),e.searchParams.append("format","jsonld");const i=Object.keys(yield(0,t.fetchContext)(e,r));if(i.length===0)throw new Error("No prefixes returned");return i[0]})}return bs.lookupPrefix=u,bs}var _s={},bV;function Pfe(){if(bV)return _s;bV=1;var a=_s&&_s.__awaiter||function(n,r,e,i){function o(c){return c instanceof e?c:new e(function(s){s(c)})}return new(e||(e=Promise))(function(c,s){function l(h){try{d(i.next(h))}catch(p){s(p)}}function f(h){try{d(i.throw(h))}catch(p){s(p)}}function d(h){h.done?c(h.value):o(h.value).then(l,f)}d((i=i.apply(n,r||[])).next())})};Object.defineProperty(_s,"__esModule",{value:!0}),_s.lookupAllPrefixes=void 0;const t=lN();function u(n){return a(this,void 0,void 0,function*(){return(0,t.fetchContext)("https://prefix.cc/context",n)})}return _s.lookupAllPrefixes=u,_s}var _V;function mV(){return _V||(_V=1,function(a){var t=ps&&ps.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ps&&ps.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Ffe(),a),u(Dfe(),a),u(Pfe(),a)}(ps)),ps}var gV;function Lfe(){return gV||(gV=1,function(a){var t=$_&&$_.__awaiter||function(o,c,s,l){function f(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function p(y){try{m(l.next(y))}catch(g){h(g)}}function b(y){try{m(l.throw(y))}catch(g){h(g)}}function m(y){y.done?d(y.value):f(y.value).then(p,b)}m((l=l.apply(o,c||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.lookupAllPrefixes=a.prefixToUri=a.uriToPrefix=void 0;const u=Rfe(),n=mV();function r(o,c){return t(this,void 0,void 0,function*(){let s;try{s=yield(0,n.lookupPrefix)(o,c)}catch{c!=null&&c.mintOnUnknown&&(s=(0,u.fragment)(o).slice(0,4))}if(typeof s<"u"&&typeof(c==null?void 0:c.existingPrefixes)=="object"&&s in c.existingPrefixes){let l=0;for(;`${s}${l}`in c.existingPrefixes;)l+=1;s=`${s}${l}`}return s})}a.uriToPrefix=r;function e(o,c){return t(this,void 0,void 0,function*(){try{return yield(0,n.lookupUri)(o,c)}catch{return}})}a.prefixToUri=e;var i=mV();Object.defineProperty(a,"lookupAllPrefixes",{enumerable:!0,get:function(){return i.lookupAllPrefixes}})}($_)),$_}var U_={},vV;function jfe(){if(vV)return U_;vV=1,Object.defineProperty(U_,"__esModule",{value:!0}),U_.getShaclName=void 0;function a(t){if(t.termType!=="NamedNode"||!t.value.startsWith("http://www.w3.org/ns/shacl#"))throw new Error(`Term ${t.value} is not part of the SHACL namespace`);return t.value.slice(27)}return U_.getShaclName=a,U_}var nA={},TV;function Mfe(){return TV||(TV=1,Object.defineProperty(nA,"__esModule",{value:!0}),nA.default={deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,uniqueLang:!0,equals:!0,disjoint:!0,lessThan:!0,lessThanOrEquals:!0,qualifiedValueShape:!0,qualifiedMinCount:!0,qualifiedMaxCount:!0,qualifiedValueShapesDisjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0,node:!0}),nA}var iA={},wV;function qfe(){return wV||(wV=1,Object.defineProperty(iA,"__esModule",{value:!0}),iA.default={owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"}),iA}var aA={},SV;function Cfe(){return SV||(SV=1,Object.defineProperty(aA,"__esModule",{value:!0}),aA.default={targetNode:!0,targetObjectsOf:!0,targetSubjectsOf:!0,deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,equals:!0,disjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0}),aA}var OV;function Bfe(){if(OV)return ha;OV=1;var a=ha&&ha.__awaiter||function(h,p,b,m){function y(g){return g instanceof b?g:new b(function(_){_(g)})}return new(b||(b=Promise))(function(g,_){function v(A){try{w(m.next(A))}catch(M){_(M)}}function T(A){try{w(m.throw(A))}catch(M){_(M)}}function w(A){A.done?g(A.value):y(A.value).then(v,T)}w((m=m.apply(h,p||[])).next())})},t=ha&&ha.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(ha,"__esModule",{value:!0});const u=da,n=Lfe(),r=I1(),e=jfe(),i=t(Mfe()),o=t(qfe()),c=t(Cfe());function s(h){var p;return(p=/^[^]*[#/]/.exec(h))===null||p===void 0?void 0:p[0]}const l={"http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf","http://www.w3.org/2000/01/rdf-schema#":"rdfs","http://www.w3.org/ns/shacl#":"sh","http://www.w3.org/2001/XMLSchema#":"xsd"},f={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"};class d{constructor(p,b,m={},y=void 0,g=!0,_=!1,v,T=!1){this.store=p,this.base=y,this.errorOnExtraQuads=g,this.mintUnspecifiedPrefixes=_,this.fetch=v,this.extendedSyntax=T,this.prefixes={},this.prefixRev={};for(const w of Object.keys(m)){const A=m[w],M=typeof A=="string"?A:A.value;!(M in l)&&!(w in f)&&(this.prefixRev[M]=w,this.prefixes[w]=M)}this.writer=b}write(){return a(this,void 0,void 0,function*(){const p=this.store.getQuads(null,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://www.w3.org/2002/07/owl#Ontology",null);if(p.length===1&&p[0].subject.termType==="NamedNode"){const m=p[0].subject;this.store.removeQuads(p),m.equals(new u.NamedNode("urn:x-base:default"))||this.writer.add(`BASE ${(0,r.termToString)(m)}`),yield this.writeImports(m)}else throw new Error("Base expected");if(this.mintUnspecifiedPrefixes){const m=new Set;for(const g of[...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)])if(g.termType==="NamedNode"){const _=s(g.value);_&&!(_ in this.prefixRev)&&!(_ in l)&&m.add(_)}const y=Object.assign(Object.assign({},this.prefixes),f);yield Promise.all([...m].map(g=>(0,n.uriToPrefix)(g,{fetch:this.fetch,mintOnUnknown:!0,existingPrefixes:y}).then(_=>{this.prefixes[_]=g,y[_]=g,this.prefixRev[g]=_})))}const b=new Set([...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)].filter(m=>m.termType==="NamedNode").map(m=>s(m.value)).filter(m=>typeof m=="string"));for(const m in this.prefixRev)b.has(m)||(delete this.prefixes[this.prefixRev[m]],delete this.prefixRev[m]);if(yield this.writePrefixes(),this.prefixes=Object.assign(Object.assign({},this.prefixes),f),this.prefixRev=Object.assign(Object.assign({},this.prefixRev),l),this.writer.newLine(),yield this.writeShapes(),this.extendedSyntax){const m=this.store.getSubjects(null,null,null);m.length>0&&this.writer.newLine(1);for(const y of m)this.writer.add(yield this.termToString(y,!0,!0)),this.writer.add(" "),this.writer.indent(),yield this.writeTurtlePredicates(y),this.writer.deindent();m.length>0&&(this.writer.add(" ."),this.writer.newLine())}if(this.errorOnExtraQuads&&this.store.size>0)throw new Error(`Dataset contains quads that cannot be written in SHACLC [
${new u.Writer({prefixes:this.prefixes}).quadsToString(this.store.getQuads(null,null,null,null))}]`);this.writer.end()})}writeImports(p){return a(this,void 0,void 0,function*(){const b=this.store.getObjectsOnce(p,new u.NamedNode("http://www.w3.org/2002/07/owl#imports"),null);if(b.length>0)for(const m of b)this.writer.add(`IMPORTS <${m.value}>`,!0)})}writePrefixes(){return a(this,void 0,void 0,function*(){const p=Object.keys(this.prefixes).filter(b=>!(b in o.default)).sort();if(p.length>0)for(const b of p)this.writer.add(`PREFIX ${b}: <${this.prefixes[b]}>`,!0)})}termToString(p,b=!1,m=!1){return a(this,void 0,void 0,function*(){try{if(b)throw new Error("Shacl name disabled");return(0,e.getShaclName)(p)}catch{}if(p.termType==="NamedNode"){const y=s(p.value);return y&&y in this.prefixRev&&y in this.prefixRev?`${this.prefixRev[y]}:${p.value.slice(y.length)}`:(0,r.termToString)(p)}if(p.termType==="Literal")return p.datatypeString==="http://www.w3.org/2001/XMLSchema#integer"||p.datatypeString==="http://www.w3.org/2001/XMLSchema#boolean"?p.value:(0,r.termToString)(p);throw p.termType==="BlankNode"&&m&&(0,r.termToString)(p),new Error(`Invalid term type for extra statement ${p.value} (${p.termType})`)})}writeShapes(){return a(this,void 0,void 0,function*(){for(const p of this.store.getSubjectsOnce(new u.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new u.NamedNode("http://www.w3.org/ns/shacl#NodeShape"),null)){this.store.getQuadsOnce(p,new u.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new u.NamedNode("http://www.w3.org/2000/01/rdf-schema#Class"),null).length>0?this.writer.add("shapeClass "):this.writer.add("shape "),this.writer.add(yield this.termToString(p)),this.writer.add(" ");const b=this.store.getObjectsOnce(p,new u.NamedNode("http://www.w3.org/ns/shacl#targetClass"),null);if(b.length>0){this.writer.add("-> ");for(const y of b)y.termType==="NamedNode"?this.writer.add(yield this.termToString(y)):(this.writer.add("!"),this.writer.add(yield this.termToString(this.singleObject(y,new u.NamedNode("http://www.w3.org/ns/shacl#not"),!0)))),this.writer.add(" ")}const m=this.store.getPredicates(p,null,null).filter(y=>[new u.NamedNode("http://www.w3.org/ns/shacl#targetClass"),new u.NamedNode("http://www.w3.org/ns/shacl#property"),new u.NamedNode("http://www.w3.org/ns/shacl#or"),...Object.keys(c.default).map(g=>new u.NamedNode("http://www.w3.org/ns/shacl#"+g))].every(g=>!y.equals(g)));m.length>0&&(this.writer.add(";"),this.writer.indent(),this.writer.newLine(1)),this.extendedSyntax&&(yield this.writeGivenTurtlePredicates(p,m)),m.length>0&&(this.writer.add(" "),this.writer.deindent()),yield this.writeShapeBody(p,!1)}})}getSingleProperty(p,b){let m=[p];try{let y=(0,e.getShaclName)(p.predicate),g="pred";if(y==="not"){const _=this.store.getQuadsOnce(p.object,null,null,null);if(m=m.concat(_),_.length!==1)throw new Error("Can only handle having one predicate of 'not'");[p]=_,y=(0,e.getShaclName)(p.predicate),g="not"}if(!(y in b))throw new Error(`${y} is not allowed`);return{name:y,type:g,object:p.object}}catch{this.store.addQuads(m)}}singleLayerPropertiesList(p,b){const m=[];for(const y of this.store.getQuadsOnce(p,null,null,null)){const g=this.getSingleProperty(y,b);g&&m.push(g)}return m}expectOneProperty(p,b){const m=this.store.getQuadsOnce(p,null,null,null);if(m.length===1){const y=this.getSingleProperty(m[0],b);if(y)return y}this.store.addQuads(m)}orProperties(p,b){const m=[];for(const y of this.store.getQuadsOnce(p,new u.NamedNode("http://www.w3.org/ns/shacl#or"),null,null)){const g=[];for(const _ of this.getList(y.object)){const v=this.expectOneProperty(_,b);if(!v)throw this.store.addQuad(y),new Error("Each entry of the 'or' statement must declare exactly one property");g.push(v)}m.push(g)}return m}getList(p){let b=p;const m=[];for(;!b.equals(new u.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));)m.push(this.singleObject(b,new u.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),!0)),b=this.singleObject(b,new u.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),!0);return m}writeIriLiteralOrArray(p){return a(this,void 0,void 0,function*(){if(p.termType==="BlankNode"){this.writer.add("[");let b=!0;for(const m of this.getList(p))b?b=!1:this.writer.add(" "),this.writer.add(yield this.termToString(m));this.writer.add("]")}else this.writer.add(yield this.termToString(p))})}singleObject(p,b,m){var y;return(y=this.singleQuad(p,b,m))===null||y===void 0?void 0:y.object}singleQuad(p,b,m=!1){const y=this.store.getQuadsOnce(p,b,null,null);if(m&&y.length!==1)throw this.store.addQuads(y),new Error(`The subject and predicate ${p==null?void 0:p.value} ${b==null?void 0:b.value} must have exactly one object. Instead has ${y.length}`);if(y.length>1)throw this.store.addQuads(y),new Error(`The subject and predicate ${p==null?void 0:p.value} ${b==null?void 0:b.value} can have at most one object. Instead has ${y.length}`);return y.length===1?y[0]:void 0}writeAssigment({name:p,type:b,object:m}){return a(this,void 0,void 0,function*(){b==="not"&&this.writer.add("!"),this.writer.add(p),this.writer.add("="),yield this.writeIriLiteralOrArray(m)})}writeAtom({name:p,type:b,object:m}){return a(this,void 0,void 0,function*(){switch(b==="not"&&this.writer.add("!"),p){case"node":{if(m.termType==="NamedNode")this.writer.add(`@${yield this.termToString(m)}`);else if(m.termType==="BlankNode")yield this.writeShapeBody(m);else throw new Error("Invalid nested shape, must be blank node or IRI");return}case"nodeKind":{this.writer.add((0,e.getShaclName)(m));return}case"class":{this.writer.add(yield this.termToString(m));return}case"datatype":{this.writer.add(yield this.termToString(m));return}default:this.writer.add(p),this.writer.add("="),yield this.writeIriLiteralOrArray(m)}})}writeAssigments(p,b=" ",m=!0,y){return a(this,void 0,void 0,function*(){for(const g of p)m?m=!1:this.writer.add(b),y?yield this.writeAtom(g):yield this.writeAssigment(g)})}writeParams(p,b=!0,m,y=!1,g=!1){return a(this,void 0,void 0,function*(){const _=this.orProperties(p,m),v=this.singleLayerPropertiesList(p,m);g&&(_.length>0||v.length>0)&&this.writer.newLine(1);for(const T of _)b?b=!1:this.writer.add(" "),yield this.writeAssigments(T,"|",!0,y);yield this.writeAssigments(v," ",b,y),g&&(_.length>0||v.length>0)&&this.writer.add(" .")})}writeShapeBody(p,b=!0){return a(this,void 0,void 0,function*(){this.writer.add("{").indent();const m=this.store.getObjectsOnce(p,new u.NamedNode("http://www.w3.org/ns/shacl#property"),null);yield this.writeParams(p,!0,c.default,!1,!0);for(const y of m)this.writer.newLine(1),yield this.writeProperty(y);this.writer.deindent().newLine(1),b?this.writer.add("} ."):this.writer.add("}").newLine(1)})}writeProperty(p){return a(this,void 0,void 0,function*(){yield this.writePath(this.singleObject(p,new u.NamedNode("http://www.w3.org/ns/shacl#path"),!0));const b=this.singleObject(p,new u.NamedNode("http://www.w3.org/ns/shacl#minCount")),m=this.singleObject(p,new u.NamedNode("http://www.w3.org/ns/shacl#maxCount")),y=this.singleObject(p,new u.NamedNode("http://www.w3.org/ns/shacl#nodeKind")),g=this.singleObject(p,new u.NamedNode("http://www.w3.org/ns/shacl#class")),_=this.singleObject(p,new u.NamedNode("http://www.w3.org/ns/shacl#datatype")),v=this.store.getObjectsOnce(p,new u.NamedNode("http://www.w3.org/ns/shacl#node"),null);if(y&&(this.writer.add(" "),this.writer.add((0,e.getShaclName)(y))),g&&(this.writer.add(" "),this.writer.add(yield this.termToString(g))),_&&(this.writer.add(" "),this.writer.add(yield this.termToString(_))),b!==void 0||m!==void 0){if(this.writer.add(" ["),b){if(b.termType!=="Literal"||b.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid min value, must me an integer literal");this.writer.add(b.value)}else this.writer.add("0");if(this.writer.add(".."),m){if(m.termType!=="Literal"||m.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid max value, must me an integer literal");this.store.removeMatches(p,new u.NamedNode("http://www.w3.org/ns/shacl#maxCount"),void 0,void 0),this.writer.add(m.value)}else this.writer.add("*");this.writer.add("]")}yield this.writeParams(p,!1,i.default,!0);const T=[];for(const w of v)if(w.termType==="NamedNode")this.writer.add(" "),this.writer.add(`@${yield this.termToString(w)}`);else if(w.termType==="BlankNode")T.push(w);else throw new Error("Invalid nested shape, must be blank node or IRI");for(const w of T)this.writer.add(" "),yield this.writeShapeBody(w);this.extendedSyntax&&this.store.getQuads(p,null,null,null).length>0&&(this.writer.add(" %"),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(p),this.writer.deindent(),this.writer.newLine(1),this.writer.add("%")),T.length===0&&this.writer.add(" .")})}writeTurtlePredicates(p){return a(this,void 0,void 0,function*(){return this.writeGivenTurtlePredicates(p,this.store.getPredicates(p,null,null))})}writeGivenTurtlePredicates(p,b){return a(this,void 0,void 0,function*(){let m=!1;if(b.some(y=>y.equals(u.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")))){const y=this.store.getObjectsOnce(p,u.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),null);y.length>0&&(m=!0,this.writer.add("a "),yield this.writeTurtleObjects(y))}for(const y of b)y.equals(u.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))||(m?(this.writer.add(" ;"),this.writer.newLine(1)):m=!0,this.writer.add(yield this.termToString(y,!0)),this.writer.add(" "),yield this.writeTurtleObjects(this.store.getObjectsOnce(p,y,null)))})}writeTurtleObjects(p){return a(this,void 0,void 0,function*(){const b=[],m=[];for(const g of p)g.termType==="BlankNode"&&[...this.store.match(null,null,g),...this.store.match(null,g,null)].length===0?b.push(g):m.push(g);this.writer.add((yield Promise.all(m.map(g=>this.termToString(g,!0,!0)))).join(", "));let y=m.length>0;if(b.length>0)for(const g of b)y?this.writer.add(", "):y=!0,(yield this.writeList(g))||(this.writer.add("["),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(g),this.writer.deindent(),this.writer.newLine(1),this.writer.add("]"))})}writeList(p){return a(this,void 0,void 0,function*(){let b=p;const m=[],y=[];for(;!b.equals(u.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));){const _=this.store.getQuadsOnce(b,u.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null,null),v=this.store.getQuadsOnce(b,u.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null,null);if(y.push(..._,...v),_.length!==1||v.length!==1||this.store.getQuads(b,null,null,null).length!==0)return this.store.addQuads(y),!1;m.push(_[0].object),b=v[0].object}let g=!1;this.writer.add("(");for(const _ of m)g?this.writer.add(" "):g=!0,yield this.writeTurtleObjects([_]);return this.writer.add(")"),!0})}writePath(p,b=!1){return a(this,void 0,void 0,function*(){if(p.termType==="NamedNode")this.writer.add(yield this.termToString(p));else if(p.termType==="BlankNode"){const m=this.store.getQuadsOnce(p,null,null,null);if(m.length===1){const{predicate:y,object:g}=m[0];switch(y.value){case"http://www.w3.org/ns/shacl#inversePath":this.writer.add("^"),yield this.writePath(g,!0);return;case"http://www.w3.org/ns/shacl#alternativePath":{const _=this.getList(g);if(_.length===0)throw new Error("Invalid Alternative Path - no options");if(_.length===1)yield this.writePath(_[0]);else{b&&this.writer.add("(");let v=!0;for(const T of _)v?v=!1:this.writer.add("|"),yield this.writePath(T,!0);b&&this.writer.add(")")}return}case"http://www.w3.org/ns/shacl#zeroOrMorePath":yield this.writePath(g,!0),this.writer.add("*");return;case"http://www.w3.org/ns/shacl#oneOrMorePath":yield this.writePath(g,!0),this.writer.add("+");return;case"http://www.w3.org/ns/shacl#zeroOrOnePath":yield this.writePath(g,!0),this.writer.add("?");return;default:throw new Error(`Invalid path type ${p.value}`)}}else{this.store.addQuads(m);const y=this.getList(p);if(y.length===0)throw new Error("Invalid Path");{b&&this.writer.add("(");let g=!0;for(const _ of y)g?g=!1:this.writer.add("/"),yield this.writePath(_,!0);b&&this.writer.add(")")}}}else throw new Error("Path should be named node or blank node")})}}return ha.default=d,ha}var uA={},AV;function $fe(){if(AV)return uA;AV=1,Object.defineProperty(uA,"__esModule",{value:!0});class a{constructor(u){this.indents=0,this.write=u.write,this.end=u.end}indent(){return this.indents+=1,this}deindent(){if(this.indents<1)throw new Error(`Trying to deindent when indent is only ${this.indents}`);return this.indents-=1,this}add(u,n=!1){return this.write(n?`
${"	".repeat(this.indents)}${u}`:u,"utf-8"),this}newLine(u=2){return this.write(`
`.repeat(u)+"	".repeat(this.indents),"utf-8"),this}}return uA.default=a,uA}var oA={},EV;function Vfe(){if(EV)return oA;EV=1,Object.defineProperty(oA,"__esModule",{value:!0});const a=da;class t extends a.Store{getQuadsOnce(n,r,e,i){const o=this.getQuads(n,r,e,i);return this.removeQuads(o),o}getSubjectsOnce(n,r,e){return this.getQuadsOnce(null,n,r,e).map(i=>i.subject)}getObjectsOnce(n,r,e){return this.getQuadsOnce(n,r,null,e).map(i=>i.object)}}return oA.default=t,oA}var xV;function Ufe(){if(xV)return ji;xV=1;var a=ji&&ji.__awaiter||function(o,c,s,l){function f(d){return d instanceof s?d:new s(function(h){h(d)})}return new(s||(s=Promise))(function(d,h){function p(y){try{m(l.next(y))}catch(g){h(g)}}function b(y){try{m(l.throw(y))}catch(g){h(g)}}function m(y){y.done?d(y.value):f(y.value).then(p,b)}m((l=l.apply(o,c||[])).next())})},t=ji&&ji.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ji,"__esModule",{value:!0}),ji.write=void 0;const u=da,n=t(Bfe()),r=t($fe()),e=t(Vfe());function i(o,c){return a(this,void 0,void 0,function*(){return new Promise((s,l)=>a(this,void 0,void 0,function*(){try{let f="";const d=new e.default(o),h=d.getGraphs(null,null,null);if(h.length>1)throw new Error("More than one graph found - can serialize in the default graph");if(h.length===1&&!h[0].equals(u.DataFactory.defaultGraph()))throw new Error(`Expected all triples to be in the default graph, instead triples were in ${h[0].value}`);const p=new r.default({write:m=>{f+=m},end:()=>{let m=d.getQuads(null,null,null,null);m.length===0&&(m=void 0),s({text:f,extraQuads:m})}});yield new n.default(d,p,c==null?void 0:c.prefixes,void 0,(c==null?void 0:c.errorOnUnused)!==!1,c==null?void 0:c.mintPrefixes,c==null?void 0:c.fetch,c==null?void 0:c.extendedSyntax).write()}catch(f){l(f)}}))})}return ji.write=i,ji}var IV;function Qfe(){if(IV)return B_;IV=1,Object.defineProperty(B_,"__esModule",{value:!0}),B_.ActorRdfSerializeShaclc=void 0;const a=iN(),t=Ife(),u=Mt(),n=Ufe();let r=class extends a.ActorRdfSerializeFixedMediaTypes{constructor(i){super(i)}async runHandle(i,o){const c=new u.Readable;c._read=()=>{};try{const s={};i.quadStream.on("prefix",(f,d)=>{s[f]=d});const{text:l}=await(0,n.write)(await(0,t.default)(i.quadStream),{errorOnUnused:!0,extendedSyntax:o==="text/shaclc-ext",prefixes:s});c.push(l),c.push(null)}catch(s){c._read=()=>{c.emit("error",s)}}return{data:c,triples:!0}}};return B_.ActorRdfSerializeShaclc=r,B_}var RV;function Hfe(){return RV||(RV=1,function(a){var t=hs&&hs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=hs&&hs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Qfe(),a)}(hs)),hs}var ms={},Q_={},gs={},H_={},NV;function FV(){if(NV)return H_;NV=1,Object.defineProperty(H_,"__esModule",{value:!0}),H_.ActorRdfUpdateQuads=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}};return H_.ActorRdfUpdateQuads=t,H_}var qi={},DV;function Gfe(){if(DV)return qi;DV=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.ActorRdfUpdateQuadsDestination=qi.deskolemize=qi.deskolemizeStream=void 0;const a=qL(),t=ke(),u=Te(),n=FV();function r(o,c,s){return c==null?void 0:c.map(l=>(0,a.deskolemizeQuad)(o,l,s))}qi.deskolemizeStream=r;function e(o){var f;const c=o.context.getSafe(t.KeysInitQuery.dataFactory),s=o.context.get(t.KeysRdfUpdateQuads.destination),l=(f=o.context.get(t.KeysQuerySourceIdentify.sourceIds))==null?void 0:f.get(s);return l?{...o,quadStreamInsert:r(c,o.quadStreamInsert,l),quadStreamDelete:r(c,o.quadStreamDelete,l)}:o}qi.deskolemize=e;let i=class extends n.ActorRdfUpdateQuads{async test(c){return(0,u.passTestVoid)()}async run(c){const s=await this.getDestination(c.context);return await this.getOutput(s,e(c))}async getOutput(c,s){return{execute:async()=>{await c.update({insert:s.quadStreamInsert,delete:s.quadStreamDelete}),await(s.deleteGraphs?c.deleteGraphs(s.deleteGraphs.graphs,s.deleteGraphs.requireExistence,s.deleteGraphs.dropGraphs):Promise.resolve()),await(s.createGraphs?c.createGraphs(s.createGraphs.graphs,s.createGraphs.requireNonExistence):Promise.resolve())}}}};return qi.ActorRdfUpdateQuadsDestination=i,qi}var dN={},PV;function kfe(){return PV||(PV=1,Object.defineProperty(dN,"__esModule",{value:!0})),dN}var Zr={},LV;function zfe(){if(LV)return Zr;LV=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.getContextDestinationUrl=Zr.getContextDestination=Zr.getDataDestinationContext=Zr.getDataDestinationValue=Zr.getDataDestinationType=Zr.isDataDestinationRawType=void 0;const a=ke();function t(o){return typeof o=="string"||"remove"in o}Zr.isDataDestinationRawType=t;function u(o){return typeof o=="string"?"":"remove"in o?"rdfjsStore":o.type}Zr.getDataDestinationType=u;function n(o){return t(o)?o:o.value}Zr.getDataDestinationValue=n;function r(o,c){return typeof o=="string"||"remove"in o||!o.context?c:c.merge(o.context)}Zr.getDataDestinationContext=r;function e(o){return o.get(a.KeysRdfUpdateQuads.destination)}Zr.getContextDestination=e;function i(o){if(o){let c=n(o);if(typeof c=="string"){const s=c.indexOf("#");return s>=0&&(c=c.slice(0,s)),c}}}return Zr.getContextDestinationUrl=i,Zr}var jV;function fN(){return jV||(jV=1,function(a){var t=gs&&gs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=gs&&gs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(FV(),a),u(Gfe(),a),u(kfe(),a),u(zfe(),a)}(gs)),gs}var G_={},MV;function Xfe(){if(MV)return G_;MV=1,Object.defineProperty(G_,"__esModule",{value:!0}),G_.RdfJsQuadDestination=void 0;const a=wB(),t=Bt();let u=class{constructor(r,e){this.dataFactory=r,this.store=e}async update(r){r.delete&&await(0,a.promisifyEventEmitter)(this.store.remove(r.delete)),r.insert&&await(0,a.promisifyEventEmitter)(this.store.import(r.insert))}async deleteGraphs(r,e,i){switch(r){case"ALL":await(0,a.promisifyEventEmitter)(this.store.deleteGraph(this.dataFactory.defaultGraph()));case"NAMED":const o=this.store.match(),c={};o.on("data",s=>{s.graph.termType!=="DefaultGraph"&&(c[(0,t.termToString)(s.graph)]=!0)}),await(0,a.promisifyEventEmitter)(o),await Promise.all(Object.keys(c).map(s=>(0,a.promisifyEventEmitter)(this.store.deleteGraph((0,t.stringToTerm)(s,this.dataFactory)))));break;default:for(const s of Array.isArray(r)?r:[r])await(0,a.promisifyEventEmitter)(this.store.deleteGraph(s))}}async createGraphs(r,e){if(e)for(const i of r){const o=this.store.match(void 0,void 0,void 0,i);await new Promise((c,s)=>{o.once("data",()=>{s(new Error(`Unable to create graph ${i.value} as it already exists`))}),o.on("end",c),o.on("error",s)})}}};return G_.RdfJsQuadDestination=u,G_}var qV;function Jfe(){if(qV)return Q_;qV=1,Object.defineProperty(Q_,"__esModule",{value:!0}),Q_.ActorRdfUpdateQuadsRdfJsStore=void 0;const a=fN(),t=ke(),u=Te(),n=Xfe();let r=class extends a.ActorRdfUpdateQuadsDestination{constructor(i){super(i)}async test(i){var c;const o=(0,a.getContextDestination)(i.context);return!o||typeof o=="string"||!("remove"in o)&&"value"in o&&!((c=o.value)!=null&&c.remove)?(0,u.failTest)(`${this.name} received an invalid rdfjsStore.`):(0,u.passTestVoid)()}async getDestination(i){const o=(0,a.getContextDestination)(i);return new n.RdfJsQuadDestination(i.getSafe(t.KeysInitQuery.dataFactory),"remove"in o?o:o.value)}};return Q_.ActorRdfUpdateQuadsRdfJsStore=r,Q_}var CV;function Kfe(){return CV||(CV=1,function(a){var t=ms&&ms.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ms&&ms.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Jfe(),a)}(ms)),ms}var vs={},k_={},z_={},BV;function Wfe(){if(BV)return z_;BV=1,Object.defineProperty(z_,"__esModule",{value:!0}),z_.ExpressionFunctionBound=void 0;const a=Re(),t=ke(),u=aa(),n=Ae();let r=class extends a.ExpressionFunctionBase{constructor(){super({arity:1,operator:n.SparqlOperator.BOUND,apply:async({args:i,mapping:o,exprEval:c})=>{const s=i[0];if(s.expressionType!==u.ExpressionType.Variable)throw new n.InvalidArgumentTypes(i,n.SparqlOperator.BOUND);const l=o.has((0,n.expressionToVar)(c.context.getSafe(t.KeysInitQuery.dataFactory),s));return(0,n.bool)(l)}})}};return z_.ExpressionFunctionBound=r,z_}var $V;function Yfe(){if($V)return k_;$V=1,Object.defineProperty(k_,"__esModule",{value:!0}),k_.ActorFunctionFactoryExpressionBound=void 0;const a=Re(),t=Ae(),u=Wfe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.BOUND],termFunction:!1})}async run(e){return new u.ExpressionFunctionBound}};return k_.ActorFunctionFactoryExpressionBound=n,k_}var VV;function Zfe(){return VV||(VV=1,function(a){var t=vs&&vs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=vs&&vs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Yfe(),a)}(vs)),vs}var Ts={},X_={},J_={},UV;function ehe(){if(UV)return J_;UV=1,Object.defineProperty(J_,"__esModule",{value:!0}),J_.ExpressionFunctionBnode=void 0;const a=Re(),t=ke(),u=hI(),n=Ae();let r=class u6 extends a.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:n.SparqlOperator.BNODE,apply:async i=>{const{args:o,mapping:c,exprEval:s}=i,l=o.length===1?await s.evaluatorExpressionEvaluation(o[0],c):void 0;let f;if(l){const h=u6.bnodeTree.search([l],s.context.getSafe(t.KeysExpressionEvaluator.superTypeProvider),s.context.getSafe(t.KeysInitQuery.functionArgumentsCache));if(!h)throw new n.InvalidArgumentTypes(o,n.SparqlOperator.BNODE);f=h(s)([l]).str()}const d=new u.BlankNodeBindingsScoped(f??`BNODE_${u6.bnodeCounter++}`);return new n.BlankNode(d)}})}checkArity(i){return i.length===0||i.length===1}};return J_.ExpressionFunctionBnode=r,r.bnodeTree=(0,n.declare)(n.SparqlOperator.BNODE).onString1(()=>e=>e).collect(),r.bnodeCounter=0,J_}var QV;function the(){if(QV)return X_;QV=1,Object.defineProperty(X_,"__esModule",{value:!0}),X_.ActorFunctionFactoryExpressionBnode=void 0;const a=Re(),t=Ae(),u=ehe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.BNODE],termFunction:!1})}async run(e){return new u.ExpressionFunctionBnode}};return X_.ActorFunctionFactoryExpressionBnode=n,X_}var HV;function rhe(){return HV||(HV=1,function(a){var t=Ts&&Ts.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ts&&Ts.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(the(),a)}(Ts)),Ts}var ws={},K_={},W_={},GV;function nhe(){if(GV)return W_;GV=1,Object.defineProperty(W_,"__esModule",{value:!0}),W_.ExpressionFunctionCoalesce=void 0;const a=Re(),t=Ae();let u=class extends a.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:t.SparqlOperator.COALESCE,apply:async({args:r,mapping:e,exprEval:i})=>{const o=[];for(const c of r)try{return await i.evaluatorExpressionEvaluation(c,e)}catch(s){o.push(s)}throw new t.CoalesceError(o)}})}};return W_.ExpressionFunctionCoalesce=u,W_}var kV;function ihe(){if(kV)return K_;kV=1,Object.defineProperty(K_,"__esModule",{value:!0}),K_.ActorFunctionFactoryExpressionCoalesce=void 0;const a=Re(),t=Ae(),u=nhe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.COALESCE],termFunction:!1})}async run(e){return new u.ExpressionFunctionCoalesce}};return K_.ActorFunctionFactoryExpressionCoalesce=n,K_}var zV;function ahe(){return zV||(zV=1,function(a){var t=ws&&ws.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ws&&ws.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(ihe(),a)}(ws)),ws}var Ss={},Y_={},Z_={},XV;function uhe(){if(XV)return Z_;XV=1,Object.defineProperty(Z_,"__esModule",{value:!0}),Z_.ExpressionFunctionConcat=void 0;const a=Re(),t=ke(),u=Ae();let n=class o6 extends a.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:u.SparqlOperator.CONCAT,apply:async e=>{const{args:i,mapping:o,exprEval:c}=e,s=i.map(async p=>c.evaluatorExpressionEvaluation(p,o)).map(async p=>{const b=o6.concatTree.search([await p],c.context.getSafe(t.KeysExpressionEvaluator.superTypeProvider),c.context.getSafe(t.KeysInitQuery.functionArgumentsCache));if(!b)throw new u.InvalidArgumentTypes(i,u.SparqlOperator.CONCAT);return b(c)([await p])}),l=await Promise.all(s),d=l.map(p=>p.typedValue).join(""),h=o6.langAllEqual(l)?l[0].language:void 0;return h?(0,u.langString)(d,h):(0,u.string)(d)}})}static langAllEqual(e){return e.length>0&&e.every(i=>i.language===e[0].language)}};return Z_.ExpressionFunctionConcat=n,n.concatTree=(0,u.declare)(u.SparqlOperator.CONCAT).onStringly1(()=>r=>r).collect(),Z_}var JV;function ohe(){if(JV)return Y_;JV=1,Object.defineProperty(Y_,"__esModule",{value:!0}),Y_.ActorFunctionFactoryExpressionConcat=void 0;const a=Re(),t=Ae(),u=uhe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.CONCAT],termFunction:!1})}async run(e){return new u.ExpressionFunctionConcat}};return Y_.ActorFunctionFactoryExpressionConcat=n,Y_}var KV;function she(){return KV||(KV=1,function(a){var t=Ss&&Ss.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ss&&Ss.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(ohe(),a)}(Ss)),Ss}var Os={},em={},As={},tm={},WV;function YV(){if(WV)return tm;WV=1,Object.defineProperty(tm,"__esModule",{value:!0}),tm.BlankNode=void 0;class a{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return tm.BlankNode=a,tm}var rm={},nm={},ZV;function eU(){if(ZV)return nm;ZV=1,Object.defineProperty(nm,"__esModule",{value:!0}),nm.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return nm.DefaultGraph=a,a.INSTANCE=new a,nm}var im={},am={},tU;function hN(){if(tU)return am;tU=1,Object.defineProperty(am,"__esModule",{value:!0}),am.NamedNode=void 0;class a{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return am.NamedNode=a,am}var rU;function nU(){if(rU)return im;rU=1,Object.defineProperty(im,"__esModule",{value:!0}),im.Literal=void 0;const a=hN();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return im.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),im}var um={},iU;function aU(){if(iU)return um;iU=1,Object.defineProperty(um,"__esModule",{value:!0}),um.Quad=void 0;class a{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return um.Quad=a,um}var om={},uU;function oU(){if(uU)return om;uU=1,Object.defineProperty(om,"__esModule",{value:!0}),om.Variable=void 0;class a{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return om.Variable=a,om}var sU;function che(){if(sU)return rm;sU=1,Object.defineProperty(rm,"__esModule",{value:!0}),rm.DataFactory=void 0;const a=YV(),t=eU(),u=nU(),n=hN(),r=aU(),e=oU();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return rm.DataFactory=o,rm}var cU;function lhe(){return cU||(cU=1,function(a){var t=As&&As.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=As&&As.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(YV(),a),u(che(),a),u(eU(),a),u(nU(),a),u(hN(),a),u(aU(),a),u(oU(),a)}(As)),As}var sm={},lU;function dhe(){if(lU)return sm;lU=1,Object.defineProperty(sm,"__esModule",{value:!0}),sm.NamedExtension=void 0;const a=k8(),t=ke(),u=Ae();let n=class extends a.ExpressionFunctionBase{constructor({operator:e,functionDefinition:i}){super({arity:Number.POSITIVE_INFINITY,operator:e,apply:async({args:o,exprEval:c,mapping:s})=>{const l=await Promise.all(o.map(f=>c.evaluatorExpressionEvaluation(f,s)));try{return new u.TermTransformer(c.context.getSafe(t.KeysExpressionEvaluator.superTypeProvider)).transformRDFTermUnsafe(await i(l.map(f=>f.toRDF(c.context.getSafe(t.KeysInitQuery.dataFactory)))))}catch(f){throw new u.ExtensionFunctionError(this.operator,f)}}})}};return sm.NamedExtension=n,sm}var dU;function fhe(){if(dU)return em;dU=1,Object.defineProperty(em,"__esModule",{value:!0}),em.ActorFunctionFactoryExpressionExtensions=void 0;const a=Re(),t=ke(),u=Te(),n=lhe(),r=dhe();let e=class extends a.ActorFunctionFactory{constructor(o){super(o)}async test({context:o,functionName:c}){return await o.getSafe(t.KeysExpressionEvaluator.extensionFunctionCreator)(new n.DataFactory().namedNode(c))?(0,u.passTestVoid)():(0,u.failTest)(`Actor ${this.name} can only provide non-termExpression implementations for functions that are provided through config entries like: ${t.KeysInitQuery.extensionFunctionCreator.name} or ${t.KeysInitQuery.extensionFunctions.name}`)}async run({context:o,functionName:c}){const l=await o.getSafe(t.KeysExpressionEvaluator.extensionFunctionCreator)(new n.DataFactory().namedNode(c));return new r.NamedExtension({operator:c,functionDefinition:l})}};return em.ActorFunctionFactoryExpressionExtensions=e,em}var fU;function hhe(){return fU||(fU=1,function(a){var t=Os&&Os.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Os&&Os.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(fhe(),a)}(Os)),Os}var Es={},cm={},lm={},hU;function phe(){if(hU)return lm;hU=1,Object.defineProperty(lm,"__esModule",{value:!0}),lm.ExpressionFunctionIf=void 0;const a=Re(),t=Ae();let u=class extends a.ExpressionFunctionBase{constructor(){super({arity:3,operator:t.SparqlOperator.IF,apply:async({args:r,mapping:e,exprEval:i})=>(await i.evaluatorExpressionEvaluation(r[0],e)).coerceEBV()?i.evaluatorExpressionEvaluation(r[1],e):i.evaluatorExpressionEvaluation(r[2],e)})}};return lm.ExpressionFunctionIf=u,lm}var pU;function yhe(){if(pU)return cm;pU=1,Object.defineProperty(cm,"__esModule",{value:!0}),cm.ActorFunctionFactoryExpressionIf=void 0;const a=Re(),t=Ae(),u=phe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.IF],termFunction:!1})}async run(e){return new u.ExpressionFunctionIf}};return cm.ActorFunctionFactoryExpressionIf=n,cm}var yU;function bhe(){return yU||(yU=1,function(a){var t=Es&&Es.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Es&&Es.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(yhe(),a)}(Es)),Es}var xs={},dm={},fm={},bU;function _he(){if(bU)return fm;bU=1,Object.defineProperty(fm,"__esModule",{value:!0}),fm.ExpressionFunctionLogicalAnd=void 0;const a=Re(),t=Ae();let u=class extends a.ExpressionFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.LOGICAL_AND,apply:async({args:r,mapping:e,exprEval:i})=>{const[o,c]=r;try{if(!(await i.evaluatorExpressionEvaluation(o,e)).coerceEBV())return(0,t.bool)(!1);const d=(await i.evaluatorExpressionEvaluation(c,e)).coerceEBV();return(0,t.bool)(d)}catch(s){if((await i.evaluatorExpressionEvaluation(c,e)).coerceEBV())throw s;return(0,t.bool)(!1)}}})}};return fm.ExpressionFunctionLogicalAnd=u,fm}var _U;function mhe(){if(_U)return dm;_U=1,Object.defineProperty(dm,"__esModule",{value:!0}),dm.ActorFunctionFactoryExpressionLogicalAnd=void 0;const a=Re(),t=Ae(),u=_he();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.LOGICAL_AND],termFunction:!1})}async run(e){return new u.ExpressionFunctionLogicalAnd}};return dm.ActorFunctionFactoryExpressionLogicalAnd=n,dm}var mU;function ghe(){return mU||(mU=1,function(a){var t=xs&&xs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=xs&&xs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(mhe(),a)}(xs)),xs}var Is={},hm={},pm={},gU;function vhe(){if(gU)return pm;gU=1,Object.defineProperty(pm,"__esModule",{value:!0}),pm.ExpressionFunctionLogicalOr=void 0;const a=Re(),t=Ae();let u=class extends a.ExpressionFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.LOGICAL_OR,apply:async({args:r,mapping:e,exprEval:i})=>{const[o,c]=r;try{if((await i.evaluatorExpressionEvaluation(o,e)).coerceEBV())return(0,t.bool)(!0);const d=(await i.evaluatorExpressionEvaluation(c,e)).coerceEBV();return(0,t.bool)(d)}catch(s){if(!(await i.evaluatorExpressionEvaluation(c,e)).coerceEBV())throw s;return(0,t.bool)(!0)}}})}};return pm.ExpressionFunctionLogicalOr=u,pm}var vU;function The(){if(vU)return hm;vU=1,Object.defineProperty(hm,"__esModule",{value:!0}),hm.ActorFunctionFactoryExpressionLogicalOr=void 0;const a=Re(),t=Ae(),u=vhe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.LOGICAL_OR],termFunction:!1})}async run(e){return new u.ExpressionFunctionLogicalOr}};return hm.ActorFunctionFactoryExpressionLogicalOr=n,hm}var TU;function whe(){return TU||(TU=1,function(a){var t=Is&&Is.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Is&&Is.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(The(),a)}(Is)),Is}var Rs={},ym={},bm={},wU;function She(){if(wU)return bm;wU=1,Object.defineProperty(bm,"__esModule",{value:!0}),bm.ExpressionFunctionSameTerm=void 0;const a=Re(),t=ke(),u=Ae();let n=class extends a.ExpressionFunctionBase{constructor(){super({arity:2,operator:u.SparqlOperator.SAME_TERM,apply:async({args:e,mapping:i,exprEval:o})=>{const c=o.context.getSafe(t.KeysInitQuery.dataFactory),[s,l]=e.map(h=>o.evaluatorExpressionEvaluation(h,i)),[f,d]=await Promise.all([s,l]);return(0,u.bool)(f.toRDF(c).equals(d.toRDF(c)))}})}};return bm.ExpressionFunctionSameTerm=n,bm}var SU;function Ohe(){if(SU)return ym;SU=1,Object.defineProperty(ym,"__esModule",{value:!0}),ym.ActorFunctionFactoryExpressionSameTerm=void 0;const a=Re(),t=Ae(),u=She();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.SAME_TERM],termFunction:!1})}async run(e){return new u.ExpressionFunctionSameTerm}};return ym.ActorFunctionFactoryExpressionSameTerm=n,ym}var OU;function Ahe(){return OU||(OU=1,function(a){var t=Rs&&Rs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Rs&&Rs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Ohe(),a)}(Rs)),Rs}var Ns={},_m={},mm={},AU;function Ehe(){if(AU)return mm;AU=1,Object.defineProperty(mm,"__esModule",{value:!0}),mm.TermFunctionAbs=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.ABS,overloads:(0,t.declare)(t.SparqlOperator.ABS).numericConverter(()=>r=>Math.abs(r)).collect()})}};return mm.TermFunctionAbs=u,mm}var EU;function xhe(){if(EU)return _m;EU=1,Object.defineProperty(_m,"__esModule",{value:!0}),_m.ActorFunctionFactoryTermAbs=void 0;const a=Re(),t=Ae(),u=Ehe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.ABS],termFunction:!0})}async run(e){return new u.TermFunctionAbs}};return _m.ActorFunctionFactoryTermAbs=n,_m}var xU;function Ihe(){return xU||(xU=1,function(a){var t=Ns&&Ns.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ns&&Ns.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(xhe(),a)}(Ns)),Ns}var Fs={},gm={},vm={},sA={exports:{}},Rhe=sA.exports,IU;function cA(){return IU||(IU=1,function(a){(function(t){var u,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,r=Math.ceil,e=Math.floor,i="[BigNumber Error] ",o=i+"Number primitive has more than 15 significant digits: ",c=1e14,s=14,l=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,h=1e9;function p(w){var A,M,F,O=re.prototype={constructor:re,toString:null,valueOf:null},E=new re(1),x=20,L=4,V=-7,$=21,Q=-1e7,ie=1e7,ue=!1,pe=1,X=0,me={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Fe="0123456789abcdefghijklmnopqrstuvwxyz",ve=!0;function re(G,N){var P,S,I,B,z,H,K,k,Z=this;if(!(Z instanceof re))return new re(G,N);if(N==null){if(G&&G._isBigNumber===!0){Z.s=G.s,!G.c||G.e>ie?Z.c=Z.e=null:G.e<Q?Z.c=[Z.e=0]:(Z.e=G.e,Z.c=G.c.slice());return}if((H=typeof G=="number")&&G*0==0){if(Z.s=1/G<0?(G=-G,-1):1,G===~~G){for(B=0,z=G;z>=10;z/=10,B++);B>ie?Z.c=Z.e=null:(Z.e=B,Z.c=[G]);return}k=String(G)}else{if(!n.test(k=String(G)))return F(Z,k,H);Z.s=k.charCodeAt(0)==45?(k=k.slice(1),-1):1}(B=k.indexOf("."))>-1&&(k=k.replace(".","")),(z=k.search(/e/i))>0?(B<0&&(B=z),B+=+k.slice(z+1),k=k.substring(0,z)):B<0&&(B=k.length)}else{if(g(N,2,Fe.length,"Base"),N==10&&ve)return Z=new re(G),ge(Z,x+Z.e+1,L);if(k=String(G),H=typeof G=="number"){if(G*0!=0)return F(Z,k,H,N);if(Z.s=1/G<0?(k=k.slice(1),-1):1,re.DEBUG&&k.replace(/^0\.0*|\./,"").length>15)throw Error(o+G)}else Z.s=k.charCodeAt(0)===45?(k=k.slice(1),-1):1;for(P=Fe.slice(0,N),B=z=0,K=k.length;z<K;z++)if(P.indexOf(S=k.charAt(z))<0){if(S=="."){if(z>B){B=K;continue}}else if(!I&&(k==k.toUpperCase()&&(k=k.toLowerCase())||k==k.toLowerCase()&&(k=k.toUpperCase()))){I=!0,z=-1,B=0;continue}return F(Z,String(G),H,N)}H=!1,k=M(k,N,10,Z.s),(B=k.indexOf("."))>-1?k=k.replace(".",""):B=k.length}for(z=0;k.charCodeAt(z)===48;z++);for(K=k.length;k.charCodeAt(--K)===48;);if(k=k.slice(z,++K)){if(K-=z,H&&re.DEBUG&&K>15&&(G>l||G!==e(G)))throw Error(o+Z.s*G);if((B=B-z-1)>ie)Z.c=Z.e=null;else if(B<Q)Z.c=[Z.e=0];else{if(Z.e=B,Z.c=[],z=(B+1)%s,B<0&&(z+=s),z<K){for(z&&Z.c.push(+k.slice(0,z)),K-=s;z<K;)Z.c.push(+k.slice(z,z+=s));z=s-(k=k.slice(z)).length}else z-=K;for(;z--;k+="0");Z.c.push(+k)}}else Z.c=[Z.e=0]}re.clone=p,re.ROUND_UP=0,re.ROUND_DOWN=1,re.ROUND_CEIL=2,re.ROUND_FLOOR=3,re.ROUND_HALF_UP=4,re.ROUND_HALF_DOWN=5,re.ROUND_HALF_EVEN=6,re.ROUND_HALF_CEIL=7,re.ROUND_HALF_FLOOR=8,re.EUCLID=9,re.config=re.set=function(G){var N,P;if(G!=null)if(typeof G=="object"){if(G.hasOwnProperty(N="DECIMAL_PLACES")&&(P=G[N],g(P,0,h,N),x=P),G.hasOwnProperty(N="ROUNDING_MODE")&&(P=G[N],g(P,0,8,N),L=P),G.hasOwnProperty(N="EXPONENTIAL_AT")&&(P=G[N],P&&P.pop?(g(P[0],-1e9,0,N),g(P[1],0,h,N),V=P[0],$=P[1]):(g(P,-1e9,h,N),V=-($=P<0?-P:P))),G.hasOwnProperty(N="RANGE"))if(P=G[N],P&&P.pop)g(P[0],-1e9,-1,N),g(P[1],1,h,N),Q=P[0],ie=P[1];else if(g(P,-1e9,h,N),P)Q=-(ie=P<0?-P:P);else throw Error(i+N+" cannot be zero: "+P);if(G.hasOwnProperty(N="CRYPTO"))if(P=G[N],P===!!P)if(P)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))ue=P;else throw ue=!P,Error(i+"crypto unavailable");else ue=P;else throw Error(i+N+" not true or false: "+P);if(G.hasOwnProperty(N="MODULO_MODE")&&(P=G[N],g(P,0,9,N),pe=P),G.hasOwnProperty(N="POW_PRECISION")&&(P=G[N],g(P,0,h,N),X=P),G.hasOwnProperty(N="FORMAT"))if(P=G[N],typeof P=="object")me=P;else throw Error(i+N+" not an object: "+P);if(G.hasOwnProperty(N="ALPHABET"))if(P=G[N],typeof P=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(P))ve=P.slice(0,10)=="0123456789",Fe=P;else throw Error(i+N+" invalid: "+P)}else throw Error(i+"Object expected: "+G);return{DECIMAL_PLACES:x,ROUNDING_MODE:L,EXPONENTIAL_AT:[V,$],RANGE:[Q,ie],CRYPTO:ue,MODULO_MODE:pe,POW_PRECISION:X,FORMAT:me,ALPHABET:Fe}},re.isBigNumber=function(G){if(!G||G._isBigNumber!==!0)return!1;if(!re.DEBUG)return!0;var N,P,S=G.c,I=G.e,B=G.s;e:if({}.toString.call(S)=="[object Array]"){if((B===1||B===-1)&&I>=-1e9&&I<=h&&I===e(I)){if(S[0]===0){if(I===0&&S.length===1)return!0;break e}if(N=(I+1)%s,N<1&&(N+=s),String(S[0]).length==N){for(N=0;N<S.length;N++)if(P=S[N],P<0||P>=c||P!==e(P))break e;if(P!==0)return!0}}}else if(S===null&&I===null&&(B===null||B===1||B===-1))return!0;throw Error(i+"Invalid BigNumber: "+G)},re.maximum=re.max=function(){return qe(arguments,-1)},re.minimum=re.min=function(){return qe(arguments,1)},re.random=function(){var G=9007199254740992,N=Math.random()*G&2097151?function(){return e(Math.random()*G)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(P){var S,I,B,z,H,K=0,k=[],Z=new re(E);if(P==null?P=x:g(P,0,h),z=r(P/s),ue)if(crypto.getRandomValues){for(S=crypto.getRandomValues(new Uint32Array(z*=2));K<z;)H=S[K]*131072+(S[K+1]>>>11),H>=9e15?(I=crypto.getRandomValues(new Uint32Array(2)),S[K]=I[0],S[K+1]=I[1]):(k.push(H%1e14),K+=2);K=z/2}else if(crypto.randomBytes){for(S=crypto.randomBytes(z*=7);K<z;)H=(S[K]&31)*281474976710656+S[K+1]*1099511627776+S[K+2]*4294967296+S[K+3]*16777216+(S[K+4]<<16)+(S[K+5]<<8)+S[K+6],H>=9e15?crypto.randomBytes(7).copy(S,K):(k.push(H%1e14),K+=7);K=z/7}else throw ue=!1,Error(i+"crypto unavailable");if(!ue)for(;K<z;)H=N(),H<9e15&&(k[K++]=H%1e14);for(z=k[--K],P%=s,z&&P&&(H=f[s-P],k[K]=e(z/H)*H);k[K]===0;k.pop(),K--);if(K<0)k=[B=0];else{for(B=-1;k[0]===0;k.splice(0,1),B-=s);for(K=1,H=k[0];H>=10;H/=10,K++);K<s&&(B-=s-K)}return Z.e=B,Z.c=k,Z}}(),re.sum=function(){for(var G=1,N=arguments,P=new re(N[0]);G<N.length;)P=P.plus(N[G++]);return P},M=function(){var G="0123456789";function N(P,S,I,B){for(var z,H=[0],K,k=0,Z=P.length;k<Z;){for(K=H.length;K--;H[K]*=S);for(H[0]+=B.indexOf(P.charAt(k++)),z=0;z<H.length;z++)H[z]>I-1&&(H[z+1]==null&&(H[z+1]=0),H[z+1]+=H[z]/I|0,H[z]%=I)}return H.reverse()}return function(P,S,I,B,z){var H,K,k,Z,de,le,De,Qe,Le=P.indexOf("."),ce=x,se=L;for(Le>=0&&(Z=X,X=0,P=P.replace(".",""),Qe=new re(S),le=Qe.pow(P.length-Le),X=Z,Qe.c=N(T(m(le.c),le.e,"0"),10,I,G),Qe.e=Qe.c.length),De=N(P,S,I,z?(H=Fe,G):(H=G,Fe)),k=Z=De.length;De[--Z]==0;De.pop());if(!De[0])return H.charAt(0);if(Le<0?--k:(le.c=De,le.e=k,le.s=B,le=A(le,Qe,ce,se,I),De=le.c,de=le.r,k=le.e),K=k+ce+1,Le=De[K],Z=I/2,de=de||K<0||De[K+1]!=null,de=se<4?(Le!=null||de)&&(se==0||se==(le.s<0?3:2)):Le>Z||Le==Z&&(se==4||de||se==6&&De[K-1]&1||se==(le.s<0?8:7)),K<1||!De[0])P=de?T(H.charAt(1),-ce,H.charAt(0)):H.charAt(0);else{if(De.length=K,de)for(--I;++De[--K]>I;)De[K]=0,K||(++k,De=[1].concat(De));for(Z=De.length;!De[--Z];);for(Le=0,P="";Le<=Z;P+=H.charAt(De[Le++]));P=T(P,k,H.charAt(0))}return P}}(),A=function(){function G(S,I,B){var z,H,K,k,Z=0,de=S.length,le=I%d,De=I/d|0;for(S=S.slice();de--;)K=S[de]%d,k=S[de]/d|0,z=De*K+k*le,H=le*K+z%d*d+Z,Z=(H/B|0)+(z/d|0)+De*k,S[de]=H%B;return Z&&(S=[Z].concat(S)),S}function N(S,I,B,z){var H,K;if(B!=z)K=B>z?1:-1;else for(H=K=0;H<B;H++)if(S[H]!=I[H]){K=S[H]>I[H]?1:-1;break}return K}function P(S,I,B,z){for(var H=0;B--;)S[B]-=H,H=S[B]<I[B]?1:0,S[B]=H*z+S[B]-I[B];for(;!S[0]&&S.length>1;S.splice(0,1));}return function(S,I,B,z,H){var K,k,Z,de,le,De,Qe,Le,ce,se,ye,xe,U,R,C,J,ae,_e=S.s==I.s?1:-1,Se=S.c,Xe=I.c;if(!Se||!Se[0]||!Xe||!Xe[0])return new re(!S.s||!I.s||(Se?Xe&&Se[0]==Xe[0]:!Xe)?NaN:Se&&Se[0]==0||!Xe?_e*0:_e/0);for(Le=new re(_e),ce=Le.c=[],k=S.e-I.e,_e=B+k+1,H||(H=c,k=b(S.e/s)-b(I.e/s),_e=_e/s|0),Z=0;Xe[Z]==(Se[Z]||0);Z++);if(Xe[Z]>(Se[Z]||0)&&k--,_e<0)ce.push(1),de=!0;else{for(R=Se.length,J=Xe.length,Z=0,_e+=2,le=e(H/(Xe[0]+1)),le>1&&(Xe=G(Xe,le,H),Se=G(Se,le,H),J=Xe.length,R=Se.length),U=J,se=Se.slice(0,J),ye=se.length;ye<J;se[ye++]=0);ae=Xe.slice(),ae=[0].concat(ae),C=Xe[0],Xe[1]>=H/2&&C++;do{if(le=0,K=N(Xe,se,J,ye),K<0){if(xe=se[0],J!=ye&&(xe=xe*H+(se[1]||0)),le=e(xe/C),le>1)for(le>=H&&(le=H-1),De=G(Xe,le,H),Qe=De.length,ye=se.length;N(De,se,Qe,ye)==1;)le--,P(De,J<Qe?ae:Xe,Qe,H),Qe=De.length,K=1;else le==0&&(K=le=1),De=Xe.slice(),Qe=De.length;if(Qe<ye&&(De=[0].concat(De)),P(se,De,ye,H),ye=se.length,K==-1)for(;N(Xe,se,J,ye)<1;)le++,P(se,J<ye?ae:Xe,ye,H),ye=se.length}else K===0&&(le++,se=[0]);ce[Z++]=le,se[0]?se[ye++]=Se[U]||0:(se=[Se[U]],ye=1)}while((U++<R||se[0]!=null)&&_e--);de=se[0]!=null,ce[0]||ce.splice(0,1)}if(H==c){for(Z=1,_e=ce[0];_e>=10;_e/=10,Z++);ge(Le,B+(Le.e=Z+k*s-1)+1,z,de)}else Le.e=k,Le.r=+de;return Le}}();function je(G,N,P,S){var I,B,z,H,K;if(P==null?P=L:g(P,0,8),!G.c)return G.toString();if(I=G.c[0],z=G.e,N==null)K=m(G.c),K=S==1||S==2&&(z<=V||z>=$)?v(K,z):T(K,z,"0");else if(G=ge(new re(G),N,P),B=G.e,K=m(G.c),H=K.length,S==1||S==2&&(N<=B||B<=V)){for(;H<N;K+="0",H++);K=v(K,B)}else if(N-=z,K=T(K,B,"0"),B+1>H){if(--N>0)for(K+=".";N--;K+="0");}else if(N+=B-H,N>0)for(B+1==H&&(K+=".");N--;K+="0");return G.s<0&&I?"-"+K:K}function qe(G,N){for(var P,S,I=1,B=new re(G[0]);I<G.length;I++)S=new re(G[I]),(!S.s||(P=y(B,S))===N||P===0&&B.s===N)&&(B=S);return B}function $e(G,N,P){for(var S=1,I=N.length;!N[--I];N.pop());for(I=N[0];I>=10;I/=10,S++);return(P=S+P*s-1)>ie?G.c=G.e=null:P<Q?G.c=[G.e=0]:(G.e=P,G.c=N),G}F=function(){var G=/^(-?)0([xbo])(?=\w[\w.]*$)/i,N=/^([^.]+)\.$/,P=/^\.([^.]+)$/,S=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(B,z,H,K){var k,Z=H?z:z.replace(I,"");if(S.test(Z))B.s=isNaN(Z)?null:Z<0?-1:1;else{if(!H&&(Z=Z.replace(G,function(de,le,De){return k=(De=De.toLowerCase())=="x"?16:De=="b"?2:8,!K||K==k?le:de}),K&&(k=K,Z=Z.replace(N,"$1").replace(P,"0.$1")),z!=Z))return new re(Z,k);if(re.DEBUG)throw Error(i+"Not a"+(K?" base "+K:"")+" number: "+z);B.s=null}B.c=B.e=null}}();function ge(G,N,P,S){var I,B,z,H,K,k,Z,de=G.c,le=f;if(de){e:{for(I=1,H=de[0];H>=10;H/=10,I++);if(B=N-I,B<0)B+=s,z=N,K=de[k=0],Z=e(K/le[I-z-1]%10);else if(k=r((B+1)/s),k>=de.length)if(S){for(;de.length<=k;de.push(0));K=Z=0,I=1,B%=s,z=B-s+1}else break e;else{for(K=H=de[k],I=1;H>=10;H/=10,I++);B%=s,z=B-s+I,Z=z<0?0:e(K/le[I-z-1]%10)}if(S=S||N<0||de[k+1]!=null||(z<0?K:K%le[I-z-1]),S=P<4?(Z||S)&&(P==0||P==(G.s<0?3:2)):Z>5||Z==5&&(P==4||S||P==6&&(B>0?z>0?K/le[I-z]:0:de[k-1])%10&1||P==(G.s<0?8:7)),N<1||!de[0])return de.length=0,S?(N-=G.e+1,de[0]=le[(s-N%s)%s],G.e=-N||0):de[0]=G.e=0,G;if(B==0?(de.length=k,H=1,k--):(de.length=k+1,H=le[s-B],de[k]=z>0?e(K/le[I-z]%le[z])*H:0),S)for(;;)if(k==0){for(B=1,z=de[0];z>=10;z/=10,B++);for(z=de[0]+=H,H=1;z>=10;z/=10,H++);B!=H&&(G.e++,de[0]==c&&(de[0]=1));break}else{if(de[k]+=H,de[k]!=c)break;de[k--]=0,H=1}for(B=de.length;de[--B]===0;de.pop());}G.e>ie?G.c=G.e=null:G.e<Q&&(G.c=[G.e=0])}return G}function we(G){var N,P=G.e;return P===null?G.toString():(N=m(G.c),N=P<=V||P>=$?v(N,P):T(N,P,"0"),G.s<0?"-"+N:N)}return O.absoluteValue=O.abs=function(){var G=new re(this);return G.s<0&&(G.s=1),G},O.comparedTo=function(G,N){return y(this,new re(G,N))},O.decimalPlaces=O.dp=function(G,N){var P,S,I,B=this;if(G!=null)return g(G,0,h),N==null?N=L:g(N,0,8),ge(new re(B),G+B.e+1,N);if(!(P=B.c))return null;if(S=((I=P.length-1)-b(this.e/s))*s,I=P[I])for(;I%10==0;I/=10,S--);return S<0&&(S=0),S},O.dividedBy=O.div=function(G,N){return A(this,new re(G,N),x,L)},O.dividedToIntegerBy=O.idiv=function(G,N){return A(this,new re(G,N),0,1)},O.exponentiatedBy=O.pow=function(G,N){var P,S,I,B,z,H,K,k,Z,de=this;if(G=new re(G),G.c&&!G.isInteger())throw Error(i+"Exponent not an integer: "+we(G));if(N!=null&&(N=new re(N)),H=G.e>14,!de.c||!de.c[0]||de.c[0]==1&&!de.e&&de.c.length==1||!G.c||!G.c[0])return Z=new re(Math.pow(+we(de),H?G.s*(2-_(G)):+we(G))),N?Z.mod(N):Z;if(K=G.s<0,N){if(N.c?!N.c[0]:!N.s)return new re(NaN);S=!K&&de.isInteger()&&N.isInteger(),S&&(de=de.mod(N))}else{if(G.e>9&&(de.e>0||de.e<-1||(de.e==0?de.c[0]>1||H&&de.c[1]>=24e7:de.c[0]<8e13||H&&de.c[0]<=9999975e7)))return B=de.s<0&&_(G)?-0:0,de.e>-1&&(B=1/B),new re(K?1/B:B);X&&(B=r(X/s+2))}for(H?(P=new re(.5),K&&(G.s=1),k=_(G)):(I=Math.abs(+we(G)),k=I%2),Z=new re(E);;){if(k){if(Z=Z.times(de),!Z.c)break;B?Z.c.length>B&&(Z.c.length=B):S&&(Z=Z.mod(N))}if(I){if(I=e(I/2),I===0)break;k=I%2}else if(G=G.times(P),ge(G,G.e+1,1),G.e>14)k=_(G);else{if(I=+we(G),I===0)break;k=I%2}de=de.times(de),B?de.c&&de.c.length>B&&(de.c.length=B):S&&(de=de.mod(N))}return S?Z:(K&&(Z=E.div(Z)),N?Z.mod(N):B?ge(Z,X,L,z):Z)},O.integerValue=function(G){var N=new re(this);return G==null?G=L:g(G,0,8),ge(N,N.e+1,G)},O.isEqualTo=O.eq=function(G,N){return y(this,new re(G,N))===0},O.isFinite=function(){return!!this.c},O.isGreaterThan=O.gt=function(G,N){return y(this,new re(G,N))>0},O.isGreaterThanOrEqualTo=O.gte=function(G,N){return(N=y(this,new re(G,N)))===1||N===0},O.isInteger=function(){return!!this.c&&b(this.e/s)>this.c.length-2},O.isLessThan=O.lt=function(G,N){return y(this,new re(G,N))<0},O.isLessThanOrEqualTo=O.lte=function(G,N){return(N=y(this,new re(G,N)))===-1||N===0},O.isNaN=function(){return!this.s},O.isNegative=function(){return this.s<0},O.isPositive=function(){return this.s>0},O.isZero=function(){return!!this.c&&this.c[0]==0},O.minus=function(G,N){var P,S,I,B,z=this,H=z.s;if(G=new re(G,N),N=G.s,!H||!N)return new re(NaN);if(H!=N)return G.s=-N,z.plus(G);var K=z.e/s,k=G.e/s,Z=z.c,de=G.c;if(!K||!k){if(!Z||!de)return Z?(G.s=-N,G):new re(de?z:NaN);if(!Z[0]||!de[0])return de[0]?(G.s=-N,G):new re(Z[0]?z:L==3?-0:0)}if(K=b(K),k=b(k),Z=Z.slice(),H=K-k){for((B=H<0)?(H=-H,I=Z):(k=K,I=de),I.reverse(),N=H;N--;I.push(0));I.reverse()}else for(S=(B=(H=Z.length)<(N=de.length))?H:N,H=N=0;N<S;N++)if(Z[N]!=de[N]){B=Z[N]<de[N];break}if(B&&(I=Z,Z=de,de=I,G.s=-G.s),N=(S=de.length)-(P=Z.length),N>0)for(;N--;Z[P++]=0);for(N=c-1;S>H;){if(Z[--S]<de[S]){for(P=S;P&&!Z[--P];Z[P]=N);--Z[P],Z[S]+=c}Z[S]-=de[S]}for(;Z[0]==0;Z.splice(0,1),--k);return Z[0]?$e(G,Z,k):(G.s=L==3?-1:1,G.c=[G.e=0],G)},O.modulo=O.mod=function(G,N){var P,S,I=this;return G=new re(G,N),!I.c||!G.s||G.c&&!G.c[0]?new re(NaN):!G.c||I.c&&!I.c[0]?new re(I):(pe==9?(S=G.s,G.s=1,P=A(I,G,0,3),G.s=S,P.s*=S):P=A(I,G,0,pe),G=I.minus(P.times(G)),!G.c[0]&&pe==1&&(G.s=I.s),G)},O.multipliedBy=O.times=function(G,N){var P,S,I,B,z,H,K,k,Z,de,le,De,Qe,Le,ce,se=this,ye=se.c,xe=(G=new re(G,N)).c;if(!ye||!xe||!ye[0]||!xe[0])return!se.s||!G.s||ye&&!ye[0]&&!xe||xe&&!xe[0]&&!ye?G.c=G.e=G.s=null:(G.s*=se.s,!ye||!xe?G.c=G.e=null:(G.c=[0],G.e=0)),G;for(S=b(se.e/s)+b(G.e/s),G.s*=se.s,K=ye.length,de=xe.length,K<de&&(Qe=ye,ye=xe,xe=Qe,I=K,K=de,de=I),I=K+de,Qe=[];I--;Qe.push(0));for(Le=c,ce=d,I=de;--I>=0;){for(P=0,le=xe[I]%ce,De=xe[I]/ce|0,z=K,B=I+z;B>I;)k=ye[--z]%ce,Z=ye[z]/ce|0,H=De*k+Z*le,k=le*k+H%ce*ce+Qe[B]+P,P=(k/Le|0)+(H/ce|0)+De*Z,Qe[B--]=k%Le;Qe[B]=P}return P?++S:Qe.splice(0,1),$e(G,Qe,S)},O.negated=function(){var G=new re(this);return G.s=-G.s||null,G},O.plus=function(G,N){var P,S=this,I=S.s;if(G=new re(G,N),N=G.s,!I||!N)return new re(NaN);if(I!=N)return G.s=-N,S.minus(G);var B=S.e/s,z=G.e/s,H=S.c,K=G.c;if(!B||!z){if(!H||!K)return new re(I/0);if(!H[0]||!K[0])return K[0]?G:new re(H[0]?S:I*0)}if(B=b(B),z=b(z),H=H.slice(),I=B-z){for(I>0?(z=B,P=K):(I=-I,P=H),P.reverse();I--;P.push(0));P.reverse()}for(I=H.length,N=K.length,I-N<0&&(P=K,K=H,H=P,N=I),I=0;N;)I=(H[--N]=H[N]+K[N]+I)/c|0,H[N]=c===H[N]?0:H[N]%c;return I&&(H=[I].concat(H),++z),$e(G,H,z)},O.precision=O.sd=function(G,N){var P,S,I,B=this;if(G!=null&&G!==!!G)return g(G,1,h),N==null?N=L:g(N,0,8),ge(new re(B),G,N);if(!(P=B.c))return null;if(I=P.length-1,S=I*s+1,I=P[I]){for(;I%10==0;I/=10,S--);for(I=P[0];I>=10;I/=10,S++);}return G&&B.e+1>S&&(S=B.e+1),S},O.shiftedBy=function(G){return g(G,-9007199254740991,l),this.times("1e"+G)},O.squareRoot=O.sqrt=function(){var G,N,P,S,I,B=this,z=B.c,H=B.s,K=B.e,k=x+4,Z=new re("0.5");if(H!==1||!z||!z[0])return new re(!H||H<0&&(!z||z[0])?NaN:z?B:1/0);if(H=Math.sqrt(+we(B)),H==0||H==1/0?(N=m(z),(N.length+K)%2==0&&(N+="0"),H=Math.sqrt(+N),K=b((K+1)/2)-(K<0||K%2),H==1/0?N="5e"+K:(N=H.toExponential(),N=N.slice(0,N.indexOf("e")+1)+K),P=new re(N)):P=new re(H+""),P.c[0]){for(K=P.e,H=K+k,H<3&&(H=0);;)if(I=P,P=Z.times(I.plus(A(B,I,k,1))),m(I.c).slice(0,H)===(N=m(P.c)).slice(0,H))if(P.e<K&&--H,N=N.slice(H-3,H+1),N=="9999"||!S&&N=="4999"){if(!S&&(ge(I,I.e+x+2,0),I.times(I).eq(B))){P=I;break}k+=4,H+=4,S=1}else{(!+N||!+N.slice(1)&&N.charAt(0)=="5")&&(ge(P,P.e+x+2,1),G=!P.times(P).eq(B));break}}return ge(P,P.e+x+1,L,G)},O.toExponential=function(G,N){return G!=null&&(g(G,0,h),G++),je(this,G,N,1)},O.toFixed=function(G,N){return G!=null&&(g(G,0,h),G=G+this.e+1),je(this,G,N)},O.toFormat=function(G,N,P){var S,I=this;if(P==null)G!=null&&N&&typeof N=="object"?(P=N,N=null):G&&typeof G=="object"?(P=G,G=N=null):P=me;else if(typeof P!="object")throw Error(i+"Argument not an object: "+P);if(S=I.toFixed(G,N),I.c){var B,z=S.split("."),H=+P.groupSize,K=+P.secondaryGroupSize,k=P.groupSeparator||"",Z=z[0],de=z[1],le=I.s<0,De=le?Z.slice(1):Z,Qe=De.length;if(K&&(B=H,H=K,K=B,Qe-=B),H>0&&Qe>0){for(B=Qe%H||H,Z=De.substr(0,B);B<Qe;B+=H)Z+=k+De.substr(B,H);K>0&&(Z+=k+De.slice(B)),le&&(Z="-"+Z)}S=de?Z+(P.decimalSeparator||"")+((K=+P.fractionGroupSize)?de.replace(new RegExp("\\d{"+K+"}\\B","g"),"$&"+(P.fractionGroupSeparator||"")):de):Z}return(P.prefix||"")+S+(P.suffix||"")},O.toFraction=function(G){var N,P,S,I,B,z,H,K,k,Z,de,le,De=this,Qe=De.c;if(G!=null&&(H=new re(G),!H.isInteger()&&(H.c||H.s!==1)||H.lt(E)))throw Error(i+"Argument "+(H.isInteger()?"out of range: ":"not an integer: ")+we(H));if(!Qe)return new re(De);for(N=new re(E),k=P=new re(E),S=K=new re(E),le=m(Qe),B=N.e=le.length-De.e-1,N.c[0]=f[(z=B%s)<0?s+z:z],G=!G||H.comparedTo(N)>0?B>0?N:k:H,z=ie,ie=1/0,H=new re(le),K.c[0]=0;Z=A(H,N,0,1),I=P.plus(Z.times(S)),I.comparedTo(G)!=1;)P=S,S=I,k=K.plus(Z.times(I=k)),K=I,N=H.minus(Z.times(I=N)),H=I;return I=A(G.minus(P),S,0,1),K=K.plus(I.times(k)),P=P.plus(I.times(S)),K.s=k.s=De.s,B=B*2,de=A(k,S,B,L).minus(De).abs().comparedTo(A(K,P,B,L).minus(De).abs())<1?[k,S]:[K,P],ie=z,de},O.toNumber=function(){return+we(this)},O.toPrecision=function(G,N){return G!=null&&g(G,1,h),je(this,G,N,2)},O.toString=function(G){var N,P=this,S=P.s,I=P.e;return I===null?S?(N="Infinity",S<0&&(N="-"+N)):N="NaN":(G==null?N=I<=V||I>=$?v(m(P.c),I):T(m(P.c),I,"0"):G===10&&ve?(P=ge(new re(P),x+I+1,L),N=T(m(P.c),P.e,"0")):(g(G,2,Fe.length,"Base"),N=M(T(m(P.c),I,"0"),10,G,S,!0)),S<0&&P.c[0]&&(N="-"+N)),N},O.valueOf=O.toJSON=function(){return we(this)},O._isBigNumber=!0,w!=null&&re.set(w),re}function b(w){var A=w|0;return w>0||w===A?A:A-1}function m(w){for(var A,M,F=1,O=w.length,E=w[0]+"";F<O;){for(A=w[F++]+"",M=s-A.length;M--;A="0"+A);E+=A}for(O=E.length;E.charCodeAt(--O)===48;);return E.slice(0,O+1||1)}function y(w,A){var M,F,O=w.c,E=A.c,x=w.s,L=A.s,V=w.e,$=A.e;if(!x||!L)return null;if(M=O&&!O[0],F=E&&!E[0],M||F)return M?F?0:-L:x;if(x!=L)return x;if(M=x<0,F=V==$,!O||!E)return F?0:!O^M?1:-1;if(!F)return V>$^M?1:-1;for(L=(V=O.length)<($=E.length)?V:$,x=0;x<L;x++)if(O[x]!=E[x])return O[x]>E[x]^M?1:-1;return V==$?0:V>$^M?1:-1}function g(w,A,M,F){if(w<A||w>M||w!==e(w))throw Error(i+(F||"Argument")+(typeof w=="number"?w<A||w>M?" out of range: ":" not an integer: ":" not a primitive number: ")+String(w))}function _(w){var A=w.c.length-1;return b(w.e/s)==A&&w.c[A]%2!=0}function v(w,A){return(w.length>1?w.charAt(0)+"."+w.slice(1):w)+(A<0?"e":"e+")+A}function T(w,A,M){var F,O;if(A<0){for(O=M+".";++A;O+=M);w=O+w}else if(F=w.length,++A>F){for(O=M,A-=F;--A;O+=M);w+=O}else A<F&&(w=w.slice(0,A)+"."+w.slice(A));return w}u=p(),u.default=u.BigNumber=u,a.exports?a.exports=u:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=u)})(Rhe)}(sA)),sA.exports}var RU;function Nhe(){if(RU)return vm;RU=1,Object.defineProperty(vm,"__esModule",{value:!0}),vm.TermFunctionAddition=void 0;const a=Re(),t=Ae(),u=cA();let n=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.ADDITION,overloads:(0,t.declare)(t.SparqlOperator.ADDITION).arithmetic(()=>(e,i)=>new u.BigNumber(e).plus(i).toNumber()).set([t.TypeURL.XSD_DATE_TIME,t.TypeURL.XSD_DAY_TIME_DURATION],()=>([e,i])=>new t.DateTimeLiteral((0,t.addDurationToDateTime)(e.typedValue,(0,t.defaultedDurationRepresentation)(i.typedValue)))).copy({from:[t.TypeURL.XSD_DATE_TIME,t.TypeURL.XSD_DAY_TIME_DURATION],to:[t.TypeURL.XSD_DATE_TIME,t.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([t.TypeURL.XSD_DATE,t.TypeURL.XSD_DAY_TIME_DURATION],()=>([e,i])=>new t.DateLiteral((0,t.addDurationToDateTime)((0,t.defaultedDateTimeRepresentation)(e.typedValue),(0,t.defaultedDurationRepresentation)(i.typedValue)))).copy({from:[t.TypeURL.XSD_DATE,t.TypeURL.XSD_DAY_TIME_DURATION],to:[t.TypeURL.XSD_DATE,t.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([t.TypeURL.XSD_TIME,t.TypeURL.XSD_DAY_TIME_DURATION],()=>([e,i])=>new t.TimeLiteral((0,t.addDurationToDateTime)((0,t.defaultedDateTimeRepresentation)(e.typedValue),(0,t.defaultedDurationRepresentation)(i.typedValue)))).copy({from:[t.TypeURL.XSD_TIME,t.TypeURL.XSD_DAY_TIME_DURATION],to:[t.TypeURL.XSD_TIME,t.TypeURL.XSD_YEAR_MONTH_DURATION]}).collect()})}};return vm.TermFunctionAddition=n,vm}var NU;function Fhe(){if(NU)return gm;NU=1,Object.defineProperty(gm,"__esModule",{value:!0}),gm.ActorFunctionFactoryTermAddition=void 0;const a=Re(),t=Ae(),u=Nhe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.ADDITION],termFunction:!0})}async run(e){return new u.TermFunctionAddition}};return gm.ActorFunctionFactoryTermAddition=n,gm}var FU;function Dhe(){return FU||(FU=1,function(a){var t=Fs&&Fs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Fs&&Fs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Fhe(),a)}(Fs)),Fs}var Ds={},Tm={},wm={},DU;function Phe(){if(DU)return wm;DU=1,Object.defineProperty(wm,"__esModule",{value:!0}),wm.TermFunctionCeil=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.CEIL,overloads:(0,t.declare)(t.SparqlOperator.CEIL).numericConverter(()=>r=>Math.ceil(r)).collect()})}};return wm.TermFunctionCeil=u,wm}var PU;function Lhe(){if(PU)return Tm;PU=1,Object.defineProperty(Tm,"__esModule",{value:!0}),Tm.ActorFunctionFactoryTermCeil=void 0;const a=Re(),t=Ae(),u=Phe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.CEIL],termFunction:!0})}async run(e){return new u.TermFunctionCeil}};return Tm.ActorFunctionFactoryTermCeil=n,Tm}var LU;function jhe(){return LU||(LU=1,function(a){var t=Ds&&Ds.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ds&&Ds.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Lhe(),a)}(Ds)),Ds}var Ps={},Sm={},Om={},jU;function Mhe(){if(jU)return Om;jU=1,Object.defineProperty(Om,"__esModule",{value:!0}),Om.TermFunctionContains=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.CONTAINS,overloads:(0,t.declare)(t.SparqlOperator.CONTAINS).onBinaryTyped([t.TypeAlias.SPARQL_STRINGLY,t.TypeURL.XSD_STRING],()=>(r,e)=>(0,t.bool)(r.includes(e))).onBinary([t.TypeURL.RDF_LANG_STRING,t.TypeURL.RDF_LANG_STRING],()=>(r,e)=>{if(r.language!==e.language)throw new t.IncompatibleLanguageOperation(r,e);return(0,t.bool)(r.typedValue.includes(e.typedValue))}).collect()})}};return Om.TermFunctionContains=u,Om}var MU;function qhe(){if(MU)return Sm;MU=1,Object.defineProperty(Sm,"__esModule",{value:!0}),Sm.ActorFunctionFactoryTermContains=void 0;const a=Re(),t=Ae(),u=Mhe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.CONTAINS],termFunction:!0})}async run(e){return new u.TermFunctionContains}};return Sm.ActorFunctionFactoryTermContains=n,Sm}var qU;function Che(){return qU||(qU=1,function(a){var t=Ps&&Ps.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ps&&Ps.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(qhe(),a)}(Ps)),Ps}var Ls={},Am={},Em={},CU;function Bhe(){if(CU)return Em;CU=1,Object.defineProperty(Em,"__esModule",{value:!0}),Em.TermFunctionDatatype=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.DATATYPE,overloads:(0,t.declare)(t.SparqlOperator.DATATYPE).onLiteral1(()=>r=>new t.NamedNode(r.dataType)).collect()})}};return Em.TermFunctionDatatype=u,Em}var BU;function $he(){if(BU)return Am;BU=1,Object.defineProperty(Am,"__esModule",{value:!0}),Am.ActorFunctionFactoryTermDatatype=void 0;const a=Re(),t=Ae(),u=Bhe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.DATATYPE],termFunction:!0})}async run(e){return new u.TermFunctionDatatype}};return Am.ActorFunctionFactoryTermDatatype=n,Am}var $U;function Vhe(){return $U||($U=1,function(a){var t=Ls&&Ls.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ls&&Ls.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u($he(),a)}(Ls)),Ls}var js={},xm={},Im={},VU;function Uhe(){if(VU)return Im;VU=1,Object.defineProperty(Im,"__esModule",{value:!0}),Im.TermFunctionDay=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.DAY,overloads:(0,t.declare)(t.SparqlOperator.DAY).onDateTime1(()=>r=>(0,t.integer)(r.typedValue.day)).set([t.TypeURL.XSD_DATE],()=>([r])=>(0,t.integer)(r.typedValue.day)).collect()})}};return Im.TermFunctionDay=u,Im}var UU;function Qhe(){if(UU)return xm;UU=1,Object.defineProperty(xm,"__esModule",{value:!0}),xm.ActorFunctionFactoryTermDay=void 0;const a=Re(),t=Ae(),u=Uhe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.DAY],termFunction:!0})}async run(e){return new u.TermFunctionDay}};return xm.ActorFunctionFactoryTermDay=n,xm}var QU;function Hhe(){return QU||(QU=1,function(a){var t=js&&js.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=js&&js.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Qhe(),a)}(js)),js}var Ms={},Rm={},Nm={},HU;function Ghe(){if(HU)return Nm;HU=1,Object.defineProperty(Nm,"__esModule",{value:!0}),Nm.TermFunctionDivision=void 0;const a=Re(),t=Ae(),u=cA();let n=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.DIVISION,overloads:(0,t.declare)(t.SparqlOperator.DIVISION).arithmetic(()=>(e,i)=>new u.BigNumber(e).div(i).toNumber()).onBinaryTyped([t.TypeURL.XSD_INTEGER,t.TypeURL.XSD_INTEGER],()=>(e,i)=>{if(i===0)throw new t.ExpressionError("Integer division by 0");return(0,t.decimal)(new u.BigNumber(e).div(i).toNumber())}).collect()})}};return Nm.TermFunctionDivision=n,Nm}var GU;function khe(){if(GU)return Rm;GU=1,Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.ActorFunctionFactoryTermDivision=void 0;const a=Re(),t=Ae(),u=Ghe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.DIVISION],termFunction:!0})}async run(e){return new u.TermFunctionDivision}};return Rm.ActorFunctionFactoryTermDivision=n,Rm}var kU;function zhe(){return kU||(kU=1,function(a){var t=Ms&&Ms.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ms&&Ms.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(khe(),a)}(Ms)),Ms}var qs={},Fm={},Dm={},zU;function Xhe(){if(zU)return Dm;zU=1,Object.defineProperty(Dm,"__esModule",{value:!0}),Dm.TermFunctionEncodeForUri=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.ENCODE_FOR_URI,overloads:(0,t.declare)(t.SparqlOperator.ENCODE_FOR_URI).onStringly1Typed(()=>r=>(0,t.string)(encodeURI(r))).collect()})}};return Dm.TermFunctionEncodeForUri=u,Dm}var XU;function Jhe(){if(XU)return Fm;XU=1,Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.ActorFunctionFactoryTermEncodeForUri=void 0;const a=Re(),t=Ae(),u=Xhe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.ENCODE_FOR_URI],termFunction:!0})}async run(e){return new u.TermFunctionEncodeForUri}};return Fm.ActorFunctionFactoryTermEncodeForUri=n,Fm}var JU;function Khe(){return JU||(JU=1,function(a){var t=qs&&qs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=qs&&qs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Jhe(),a)}(qs)),qs}var Cs={},Pm={},Lm={},KU;function Whe(){if(KU)return Lm;KU=1,Object.defineProperty(Lm,"__esModule",{value:!0}),Lm.TermFunctionEquality=void 0;const a=Re(),t=ke(),u=Ae();let n=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:u.SparqlOperator.EQUAL,overloads:(0,u.declare)(u.SparqlOperator.EQUAL).numberTest(()=>(e,i)=>e===i).stringTest(()=>(e,i)=>e.localeCompare(i)===0).set([u.TypeURL.RDF_LANG_STRING,u.TypeURL.RDF_LANG_STRING],()=>([e,i])=>(0,u.bool)(e.str()===i.str()&&e.language===i.language)).set([u.TypeAlias.SPARQL_STRINGLY,u.TypeAlias.SPARQL_STRINGLY],()=>()=>(0,u.bool)(!1)).booleanTest(()=>(e,i)=>e===i).dateTimeTest(e=>(i,o)=>(0,u.toUTCDate)(i,e.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)).getTime()===(0,u.toUTCDate)(o,e.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)).getTime()).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_DATE]}).set(["quad","quad"],e=>([i,o])=>(0,u.bool)(this.applyOnTerms([i.subject,o.subject],e).coerceEBV()&&this.applyOnTerms([i.predicate,o.predicate],e).coerceEBV()&&this.applyOnTerms([i.object,o.object],e).coerceEBV()&&this.applyOnTerms([i.graph,o.graph],e).coerceEBV()),!1).set(["term","term"],e=>([i,o])=>{const c=i.toRDF(e.context.getSafe(t.KeysInitQuery.dataFactory)),s=o.toRDF(e.context.getSafe(t.KeysInitQuery.dataFactory)),l=c.equals(s);if(!l&&c.termType==="Literal"&&s.termType==="Literal")throw new u.RDFEqualTypeError([i,o]);return(0,u.bool)(l)},!1).set([u.TypeURL.XSD_DURATION,u.TypeURL.XSD_DURATION],()=>([e,i])=>(0,u.bool)((0,u.yearMonthDurationsToMonths)((0,u.defaultedYearMonthDurationRepresentation)(e.typedValue))===(0,u.yearMonthDurationsToMonths)((0,u.defaultedYearMonthDurationRepresentation)(i.typedValue))&&(0,u.dayTimeDurationsToSeconds)((0,u.defaultedDayTimeDurationRepresentation)(e.typedValue))===(0,u.dayTimeDurationsToSeconds)((0,u.defaultedDayTimeDurationRepresentation)(i.typedValue)))).set([u.TypeURL.XSD_TIME,u.TypeURL.XSD_TIME],e=>([i,o])=>(0,u.bool)((0,u.toUTCDate)((0,u.defaultedDateTimeRepresentation)(i.typedValue),e.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)).getTime()===(0,u.toUTCDate)((0,u.defaultedDateTimeRepresentation)(o.typedValue),e.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)).getTime())).collect()})}};return Lm.TermFunctionEquality=n,Lm}var WU;function Yhe(){if(WU)return Pm;WU=1,Object.defineProperty(Pm,"__esModule",{value:!0}),Pm.ActorFunctionFactoryTermEquality=void 0;const a=Re(),t=Ae(),u=Whe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.EQUAL],termFunction:!0})}async run(e){return new u.TermFunctionEquality}};return Pm.ActorFunctionFactoryTermEquality=n,Pm}var YU;function Zhe(){return YU||(YU=1,function(a){var t=Cs&&Cs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Cs&&Cs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Yhe(),a)}(Cs)),Cs}var Bs={},jm={},Mm={},ZU;function epe(){if(ZU)return Mm;ZU=1,Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.TermFunctionFloor=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.FLOOR,overloads:(0,t.declare)(t.SparqlOperator.FLOOR).numericConverter(()=>r=>Math.floor(r)).collect()})}};return Mm.TermFunctionFloor=u,Mm}var eQ;function tpe(){if(eQ)return jm;eQ=1,Object.defineProperty(jm,"__esModule",{value:!0}),jm.ActorFunctionFactoryTermFloor=void 0;const a=Re(),t=Ae(),u=epe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.FLOOR],termFunction:!0})}async run(e){return new u.TermFunctionFloor}};return jm.ActorFunctionFactoryTermFloor=n,jm}var tQ;function rpe(){return tQ||(tQ=1,function(a){var t=Bs&&Bs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Bs&&Bs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(tpe(),a)}(Bs)),Bs}var $s={},qm={},Cm={},rQ;function npe(){if(rQ)return Cm;rQ=1,Object.defineProperty(Cm,"__esModule",{value:!0}),Cm.TermFunctionHours=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.HOURS,overloads:(0,t.declare)(t.SparqlOperator.HOURS).onDateTime1(()=>r=>(0,t.integer)(r.typedValue.hours)).set([t.TypeURL.XSD_TIME],()=>([r])=>(0,t.integer)(r.typedValue.hours)).collect()})}};return Cm.TermFunctionHours=u,Cm}var nQ;function ipe(){if(nQ)return qm;nQ=1,Object.defineProperty(qm,"__esModule",{value:!0}),qm.ActorFunctionFactoryTermHours=void 0;const a=Re(),t=Ae(),u=npe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.HOURS],termFunction:!0})}async run(e){return new u.TermFunctionHours}};return qm.ActorFunctionFactoryTermHours=n,qm}var iQ;function ape(){return iQ||(iQ=1,function(a){var t=$s&&$s.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=$s&&$s.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(ipe(),a)}($s)),$s}var Vs={},Bm={},$m={},aQ;function upe(){if(aQ)return $m;aQ=1,Object.defineProperty($m,"__esModule",{value:!0}),$m.TermFunctionIri=void 0;const a=Re(),t=ke(),u=Ae(),n=mr();let r=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:u.SparqlOperator.IRI,overloads:(0,u.declare)(u.SparqlOperator.IRI).set(["namedNode"],i=>o=>{const c=o[0],s=(0,n.resolve)(c.str(),i.context.get(t.KeysInitQuery.baseIRI)??"");return new u.NamedNode(s)}).onString1(i=>o=>{const c=(0,n.resolve)(o.str(),i.context.get(t.KeysInitQuery.baseIRI)??"");return new u.NamedNode(c)}).collect()})}};return $m.TermFunctionIri=r,$m}var uQ;function ope(){if(uQ)return Bm;uQ=1,Object.defineProperty(Bm,"__esModule",{value:!0}),Bm.ActorFunctionFactoryTermIri=void 0;const a=Re(),t=Ae(),u=upe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.IRI,t.SparqlOperator.URI],termFunction:!0})}async run(e){return new u.TermFunctionIri}};return Bm.ActorFunctionFactoryTermIri=n,Bm}var oQ;function spe(){return oQ||(oQ=1,function(a){var t=Vs&&Vs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Vs&&Vs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(ope(),a)}(Vs)),Vs}var Us={},Vm={},Um={},sQ;function cpe(){if(sQ)return Um;sQ=1,Object.defineProperty(Um,"__esModule",{value:!0}),Um.TermFunctionIsBlank=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.IS_BLANK,overloads:(0,t.declare)(t.SparqlOperator.IS_BLANK).onTerm1(()=>r=>(0,t.bool)(r.termType==="blankNode")).collect()})}};return Um.TermFunctionIsBlank=u,Um}var cQ;function lpe(){if(cQ)return Vm;cQ=1,Object.defineProperty(Vm,"__esModule",{value:!0}),Vm.ActorFunctionFactoryTermIsBlank=void 0;const a=Re(),t=Ae(),u=cpe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.IS_BLANK],termFunction:!0})}async run(e){return new u.TermFunctionIsBlank}};return Vm.ActorFunctionFactoryTermIsBlank=n,Vm}var lQ;function dpe(){return lQ||(lQ=1,function(a){var t=Us&&Us.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Us&&Us.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(lpe(),a)}(Us)),Us}var Qs={},Qm={},Hm={},dQ;function fpe(){if(dQ)return Hm;dQ=1,Object.defineProperty(Hm,"__esModule",{value:!0}),Hm.TermFunctionIsIri=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.IS_IRI,overloads:(0,t.declare)(t.SparqlOperator.IS_IRI).onTerm1(()=>r=>(0,t.bool)(r.termType==="namedNode")).collect()})}};return Hm.TermFunctionIsIri=u,Hm}var fQ;function hpe(){if(fQ)return Qm;fQ=1,Object.defineProperty(Qm,"__esModule",{value:!0}),Qm.ActorFunctionFactoryTermIsIri=void 0;const a=Re(),t=Ae(),u=fpe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.IS_IRI,t.SparqlOperator.IS_URI],termFunction:!0})}async run(e){return new u.TermFunctionIsIri}};return Qm.ActorFunctionFactoryTermIsIri=n,Qm}var hQ;function ppe(){return hQ||(hQ=1,function(a){var t=Qs&&Qs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Qs&&Qs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(hpe(),a)}(Qs)),Qs}var Hs={},Gm={},km={},pQ;function ype(){if(pQ)return km;pQ=1,Object.defineProperty(km,"__esModule",{value:!0}),km.TermFunctionIsNumeric=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.IS_NUMERIC,overloads:(0,t.declare)(t.SparqlOperator.IS_NUMERIC).onNumeric1(()=>()=>(0,t.bool)(!0)).onTerm1(()=>()=>(0,t.bool)(!1)).collect()})}};return km.TermFunctionIsNumeric=u,km}var yQ;function bpe(){if(yQ)return Gm;yQ=1,Object.defineProperty(Gm,"__esModule",{value:!0}),Gm.ActorFunctionFactoryTermIsNumeric=void 0;const a=Re(),t=Ae(),u=ype();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.IS_NUMERIC],termFunction:!0})}async run(e){return new u.TermFunctionIsNumeric}};return Gm.ActorFunctionFactoryTermIsNumeric=n,Gm}var bQ;function _pe(){return bQ||(bQ=1,function(a){var t=Hs&&Hs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Hs&&Hs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(bpe(),a)}(Hs)),Hs}var Gs={},zm={},Xm={},_Q;function mpe(){if(_Q)return Xm;_Q=1,Object.defineProperty(Xm,"__esModule",{value:!0}),Xm.TermFunctionIsTriple=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.IS_TRIPLE,overloads:(0,t.declare)(t.SparqlOperator.IS_TRIPLE).onTerm1(()=>r=>(0,t.bool)(r.termType==="quad")).collect()})}};return Xm.TermFunctionIsTriple=u,Xm}var mQ;function gpe(){if(mQ)return zm;mQ=1,Object.defineProperty(zm,"__esModule",{value:!0}),zm.ActorFunctionFactoryTermIsTriple=void 0;const a=Re(),t=Ae(),u=mpe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.IS_TRIPLE],termFunction:!0})}async run(e){return new u.TermFunctionIsTriple}};return zm.ActorFunctionFactoryTermIsTriple=n,zm}var gQ;function vpe(){return gQ||(gQ=1,function(a){var t=Gs&&Gs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Gs&&Gs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(gpe(),a)}(Gs)),Gs}var ks={},Jm={},Km={},vQ;function Tpe(){if(vQ)return Km;vQ=1,Object.defineProperty(Km,"__esModule",{value:!0}),Km.TermFunctionIsLiteral=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.IS_LITERAL,overloads:(0,t.declare)(t.SparqlOperator.IS_LITERAL).onTerm1(()=>r=>(0,t.bool)(r.termType==="literal")).collect()})}};return Km.TermFunctionIsLiteral=u,Km}var TQ;function wpe(){if(TQ)return Jm;TQ=1,Object.defineProperty(Jm,"__esModule",{value:!0}),Jm.ActorFunctionFactoryTermIsLiteral=void 0;const a=Re(),t=Ae(),u=Tpe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.IS_LITERAL],termFunction:!0})}async run(e){return new u.TermFunctionIsLiteral}};return Jm.ActorFunctionFactoryTermIsLiteral=n,Jm}var wQ;function Spe(){return wQ||(wQ=1,function(a){var t=ks&&ks.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ks&&ks.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(wpe(),a)}(ks)),ks}var zs={},Wm={},Ym={},SQ;function Ope(){if(SQ)return Ym;SQ=1,Object.defineProperty(Ym,"__esModule",{value:!0}),Ym.TermFunctionLang=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.LANG,overloads:(0,t.declare)(t.SparqlOperator.LANG).onLiteral1(()=>r=>(0,t.string)(r.language??"")).collect()})}};return Ym.TermFunctionLang=u,Ym}var OQ;function Ape(){if(OQ)return Wm;OQ=1,Object.defineProperty(Wm,"__esModule",{value:!0}),Wm.ActorFunctionFactoryTermLang=void 0;const a=Re(),t=Ae(),u=Ope();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.LANG],termFunction:!0})}async run(e){return new u.TermFunctionLang}};return Wm.ActorFunctionFactoryTermLang=n,Wm}var AQ;function Epe(){return AQ||(AQ=1,function(a){var t=zs&&zs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=zs&&zs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Ape(),a)}(zs)),zs}var Xs={},Zm={},eg={},EQ;function xpe(){if(EQ)return eg;EQ=1,Object.defineProperty(eg,"__esModule",{value:!0}),eg.TermFunctionLcase=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.LCASE,overloads:(0,t.declare)(t.SparqlOperator.LCASE).onString1Typed(()=>r=>(0,t.string)(r.toLowerCase())).onLangString1(()=>r=>(0,t.langString)(r.typedValue.toLowerCase(),r.language)).collect()})}};return eg.TermFunctionLcase=u,eg}var xQ;function Ipe(){if(xQ)return Zm;xQ=1,Object.defineProperty(Zm,"__esModule",{value:!0}),Zm.ActorFunctionFactoryTermLcase=void 0;const a=Re(),t=Ae(),u=xpe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.LCASE],termFunction:!0})}async run(e){return new u.TermFunctionLcase}};return Zm.ActorFunctionFactoryTermLcase=n,Zm}var IQ;function Rpe(){return IQ||(IQ=1,function(a){var t=Xs&&Xs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Xs&&Xs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Ipe(),a)}(Xs)),Xs}var Js={},tg={},rg={},RQ;function Npe(){if(RQ)return rg;RQ=1,Object.defineProperty(rg,"__esModule",{value:!0}),rg.TermFunctionLangmatches=void 0;const a=Re(),t=Ae();let u=class Gh extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.LANG_MATCHES,overloads:(0,t.declare)(t.SparqlOperator.LANG_MATCHES).onBinaryTyped([t.TypeURL.XSD_STRING,t.TypeURL.XSD_STRING],()=>(r,e)=>(0,t.bool)(Gh.langMatches(r,e))).collect()})}static langMatches(r,e){const i=r.split("-"),o=e.split("-");if(!Gh.matchLangTag(o[0],i[0])&&!Gh.isWildCard(i[0]))return!1;let c=1,s=1;for(;s<o.length;){if(Gh.isWildCard(o[s])){s++;continue}if(c===i.length)return!1;if(Gh.matchLangTag(o[s],i[c])){c++,s++;continue}if(i[c].length===1)return!1;c++}return!0}static isWildCard(r){return r==="*"}static matchLangTag(r,e){return new RegExp(`/${r}/`,"iu").test(`/${e}/`)}};return rg.TermFunctionLangmatches=u,rg}var NQ;function Fpe(){if(NQ)return tg;NQ=1,Object.defineProperty(tg,"__esModule",{value:!0}),tg.ActorFunctionFactoryTermLangmatches=void 0;const a=Re(),t=Ae(),u=Npe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.LANG_MATCHES],termFunction:!0})}async run(e){return new u.TermFunctionLangmatches}};return tg.ActorFunctionFactoryTermLangmatches=n,tg}var FQ;function Dpe(){return FQ||(FQ=1,function(a){var t=Js&&Js.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Js&&Js.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Fpe(),a)}(Js)),Js}var Ks={},ng={},ig={},DQ;function Ppe(){if(DQ)return ig;DQ=1,Object.defineProperty(ig,"__esModule",{value:!0}),ig.TermFunctionMinutes=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.MINUTES,overloads:(0,t.declare)(t.SparqlOperator.MINUTES).onDateTime1(()=>r=>(0,t.integer)(r.typedValue.minutes)).set([t.TypeURL.XSD_TIME],()=>([r])=>(0,t.integer)(r.typedValue.minutes)).collect()})}};return ig.TermFunctionMinutes=u,ig}var PQ;function Lpe(){if(PQ)return ng;PQ=1,Object.defineProperty(ng,"__esModule",{value:!0}),ng.ActorFunctionFactoryTermMinutes=void 0;const a=Re(),t=Ae(),u=Ppe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.MINUTES],termFunction:!0})}async run(e){return new u.TermFunctionMinutes}};return ng.ActorFunctionFactoryTermMinutes=n,ng}var LQ;function jpe(){return LQ||(LQ=1,function(a){var t=Ks&&Ks.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ks&&Ks.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Lpe(),a)}(Ks)),Ks}var Ws={},ag={},ug={},pN={exports:{}},jQ;function Mpe(){return jQ||(jQ=1,function(a,t){(function(u){a.exports=u()})(function(u){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(y,g){var _=y[0],v=y[1],T=y[2],w=y[3];_+=(v&T|~v&w)+g[0]-680876936|0,_=(_<<7|_>>>25)+v|0,w+=(_&v|~_&T)+g[1]-389564586|0,w=(w<<12|w>>>20)+_|0,T+=(w&_|~w&v)+g[2]+606105819|0,T=(T<<17|T>>>15)+w|0,v+=(T&w|~T&_)+g[3]-1044525330|0,v=(v<<22|v>>>10)+T|0,_+=(v&T|~v&w)+g[4]-176418897|0,_=(_<<7|_>>>25)+v|0,w+=(_&v|~_&T)+g[5]+1200080426|0,w=(w<<12|w>>>20)+_|0,T+=(w&_|~w&v)+g[6]-1473231341|0,T=(T<<17|T>>>15)+w|0,v+=(T&w|~T&_)+g[7]-45705983|0,v=(v<<22|v>>>10)+T|0,_+=(v&T|~v&w)+g[8]+1770035416|0,_=(_<<7|_>>>25)+v|0,w+=(_&v|~_&T)+g[9]-1958414417|0,w=(w<<12|w>>>20)+_|0,T+=(w&_|~w&v)+g[10]-42063|0,T=(T<<17|T>>>15)+w|0,v+=(T&w|~T&_)+g[11]-1990404162|0,v=(v<<22|v>>>10)+T|0,_+=(v&T|~v&w)+g[12]+1804603682|0,_=(_<<7|_>>>25)+v|0,w+=(_&v|~_&T)+g[13]-40341101|0,w=(w<<12|w>>>20)+_|0,T+=(w&_|~w&v)+g[14]-1502002290|0,T=(T<<17|T>>>15)+w|0,v+=(T&w|~T&_)+g[15]+1236535329|0,v=(v<<22|v>>>10)+T|0,_+=(v&w|T&~w)+g[1]-165796510|0,_=(_<<5|_>>>27)+v|0,w+=(_&T|v&~T)+g[6]-1069501632|0,w=(w<<9|w>>>23)+_|0,T+=(w&v|_&~v)+g[11]+643717713|0,T=(T<<14|T>>>18)+w|0,v+=(T&_|w&~_)+g[0]-373897302|0,v=(v<<20|v>>>12)+T|0,_+=(v&w|T&~w)+g[5]-701558691|0,_=(_<<5|_>>>27)+v|0,w+=(_&T|v&~T)+g[10]+38016083|0,w=(w<<9|w>>>23)+_|0,T+=(w&v|_&~v)+g[15]-660478335|0,T=(T<<14|T>>>18)+w|0,v+=(T&_|w&~_)+g[4]-405537848|0,v=(v<<20|v>>>12)+T|0,_+=(v&w|T&~w)+g[9]+568446438|0,_=(_<<5|_>>>27)+v|0,w+=(_&T|v&~T)+g[14]-1019803690|0,w=(w<<9|w>>>23)+_|0,T+=(w&v|_&~v)+g[3]-187363961|0,T=(T<<14|T>>>18)+w|0,v+=(T&_|w&~_)+g[8]+1163531501|0,v=(v<<20|v>>>12)+T|0,_+=(v&w|T&~w)+g[13]-1444681467|0,_=(_<<5|_>>>27)+v|0,w+=(_&T|v&~T)+g[2]-51403784|0,w=(w<<9|w>>>23)+_|0,T+=(w&v|_&~v)+g[7]+1735328473|0,T=(T<<14|T>>>18)+w|0,v+=(T&_|w&~_)+g[12]-1926607734|0,v=(v<<20|v>>>12)+T|0,_+=(v^T^w)+g[5]-378558|0,_=(_<<4|_>>>28)+v|0,w+=(_^v^T)+g[8]-2022574463|0,w=(w<<11|w>>>21)+_|0,T+=(w^_^v)+g[11]+1839030562|0,T=(T<<16|T>>>16)+w|0,v+=(T^w^_)+g[14]-35309556|0,v=(v<<23|v>>>9)+T|0,_+=(v^T^w)+g[1]-1530992060|0,_=(_<<4|_>>>28)+v|0,w+=(_^v^T)+g[4]+1272893353|0,w=(w<<11|w>>>21)+_|0,T+=(w^_^v)+g[7]-155497632|0,T=(T<<16|T>>>16)+w|0,v+=(T^w^_)+g[10]-1094730640|0,v=(v<<23|v>>>9)+T|0,_+=(v^T^w)+g[13]+681279174|0,_=(_<<4|_>>>28)+v|0,w+=(_^v^T)+g[0]-358537222|0,w=(w<<11|w>>>21)+_|0,T+=(w^_^v)+g[3]-722521979|0,T=(T<<16|T>>>16)+w|0,v+=(T^w^_)+g[6]+76029189|0,v=(v<<23|v>>>9)+T|0,_+=(v^T^w)+g[9]-640364487|0,_=(_<<4|_>>>28)+v|0,w+=(_^v^T)+g[12]-421815835|0,w=(w<<11|w>>>21)+_|0,T+=(w^_^v)+g[15]+530742520|0,T=(T<<16|T>>>16)+w|0,v+=(T^w^_)+g[2]-995338651|0,v=(v<<23|v>>>9)+T|0,_+=(T^(v|~w))+g[0]-198630844|0,_=(_<<6|_>>>26)+v|0,w+=(v^(_|~T))+g[7]+1126891415|0,w=(w<<10|w>>>22)+_|0,T+=(_^(w|~v))+g[14]-1416354905|0,T=(T<<15|T>>>17)+w|0,v+=(w^(T|~_))+g[5]-57434055|0,v=(v<<21|v>>>11)+T|0,_+=(T^(v|~w))+g[12]+1700485571|0,_=(_<<6|_>>>26)+v|0,w+=(v^(_|~T))+g[3]-1894986606|0,w=(w<<10|w>>>22)+_|0,T+=(_^(w|~v))+g[10]-1051523|0,T=(T<<15|T>>>17)+w|0,v+=(w^(T|~_))+g[1]-2054922799|0,v=(v<<21|v>>>11)+T|0,_+=(T^(v|~w))+g[8]+1873313359|0,_=(_<<6|_>>>26)+v|0,w+=(v^(_|~T))+g[15]-30611744|0,w=(w<<10|w>>>22)+_|0,T+=(_^(w|~v))+g[6]-1560198380|0,T=(T<<15|T>>>17)+w|0,v+=(w^(T|~_))+g[13]+1309151649|0,v=(v<<21|v>>>11)+T|0,_+=(T^(v|~w))+g[4]-145523070|0,_=(_<<6|_>>>26)+v|0,w+=(v^(_|~T))+g[11]-1120210379|0,w=(w<<10|w>>>22)+_|0,T+=(_^(w|~v))+g[2]+718787259|0,T=(T<<15|T>>>17)+w|0,v+=(w^(T|~_))+g[9]-343485551|0,v=(v<<21|v>>>11)+T|0,y[0]=_+y[0]|0,y[1]=v+y[1]|0,y[2]=T+y[2]|0,y[3]=w+y[3]|0}function e(y){var g=[],_;for(_=0;_<64;_+=4)g[_>>2]=y.charCodeAt(_)+(y.charCodeAt(_+1)<<8)+(y.charCodeAt(_+2)<<16)+(y.charCodeAt(_+3)<<24);return g}function i(y){var g=[],_;for(_=0;_<64;_+=4)g[_>>2]=y[_]+(y[_+1]<<8)+(y[_+2]<<16)+(y[_+3]<<24);return g}function o(y){var g=y.length,_=[1732584193,-271733879,-1732584194,271733878],v,T,w,A,M,F;for(v=64;v<=g;v+=64)r(_,e(y.substring(v-64,v)));for(y=y.substring(v-64),T=y.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v=0;v<T;v+=1)w[v>>2]|=y.charCodeAt(v)<<(v%4<<3);if(w[v>>2]|=128<<(v%4<<3),v>55)for(r(_,w),v=0;v<16;v+=1)w[v]=0;return A=g*8,A=A.toString(16).match(/(.*?)(.{0,8})$/),M=parseInt(A[2],16),F=parseInt(A[1],16)||0,w[14]=M,w[15]=F,r(_,w),_}function c(y){var g=y.length,_=[1732584193,-271733879,-1732584194,271733878],v,T,w,A,M,F;for(v=64;v<=g;v+=64)r(_,i(y.subarray(v-64,v)));for(y=v-64<g?y.subarray(v-64):new Uint8Array(0),T=y.length,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],v=0;v<T;v+=1)w[v>>2]|=y[v]<<(v%4<<3);if(w[v>>2]|=128<<(v%4<<3),v>55)for(r(_,w),v=0;v<16;v+=1)w[v]=0;return A=g*8,A=A.toString(16).match(/(.*?)(.{0,8})$/),M=parseInt(A[2],16),F=parseInt(A[1],16)||0,w[14]=M,w[15]=F,r(_,w),_}function s(y){var g="",_;for(_=0;_<4;_+=1)g+=n[y>>_*8+4&15]+n[y>>_*8&15];return g}function l(y){var g;for(g=0;g<y.length;g+=1)y[g]=s(y[g]);return y.join("")}l(o("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function y(g,_){return g=g|0||0,g<0?Math.max(g+_,0):Math.min(g,_)}ArrayBuffer.prototype.slice=function(g,_){var v=this.byteLength,T=y(g,v),w=v,A,M,F,O;return _!==u&&(w=y(_,v)),T>w?new ArrayBuffer(0):(A=w-T,M=new ArrayBuffer(A),F=new Uint8Array(M),O=new Uint8Array(this,T,A),F.set(O),M)}}();function f(y){return/[\u0080-\uFFFF]/.test(y)&&(y=unescape(encodeURIComponent(y))),y}function d(y,g){var _=y.length,v=new ArrayBuffer(_),T=new Uint8Array(v),w;for(w=0;w<_;w+=1)T[w]=y.charCodeAt(w);return g?T:v}function h(y){return String.fromCharCode.apply(null,new Uint8Array(y))}function p(y,g,_){var v=new Uint8Array(y.byteLength+g.byteLength);return v.set(new Uint8Array(y)),v.set(new Uint8Array(g),y.byteLength),v}function b(y){var g=[],_=y.length,v;for(v=0;v<_-1;v+=2)g.push(parseInt(y.substr(v,2),16));return String.fromCharCode.apply(String,g)}function m(){this.reset()}return m.prototype.append=function(y){return this.appendBinary(f(y)),this},m.prototype.appendBinary=function(y){this._buff+=y,this._length+=y.length;var g=this._buff.length,_;for(_=64;_<=g;_+=64)r(this._hash,e(this._buff.substring(_-64,_)));return this._buff=this._buff.substring(_-64),this},m.prototype.end=function(y){var g=this._buff,_=g.length,v,T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w;for(v=0;v<_;v+=1)T[v>>2]|=g.charCodeAt(v)<<(v%4<<3);return this._finish(T,_),w=l(this._hash),y&&(w=b(w)),this.reset(),w},m.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},m.prototype.setState=function(y){return this._buff=y.buff,this._length=y.length,this._hash=y.hash,this},m.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},m.prototype._finish=function(y,g){var _=g,v,T,w;if(y[_>>2]|=128<<(_%4<<3),_>55)for(r(this._hash,y),_=0;_<16;_+=1)y[_]=0;v=this._length*8,v=v.toString(16).match(/(.*?)(.{0,8})$/),T=parseInt(v[2],16),w=parseInt(v[1],16)||0,y[14]=T,y[15]=w,r(this._hash,y)},m.hash=function(y,g){return m.hashBinary(f(y),g)},m.hashBinary=function(y,g){var _=o(y),v=l(_);return g?b(v):v},m.ArrayBuffer=function(){this.reset()},m.ArrayBuffer.prototype.append=function(y){var g=p(this._buff.buffer,y),_=g.length,v;for(this._length+=y.byteLength,v=64;v<=_;v+=64)r(this._hash,i(g.subarray(v-64,v)));return this._buff=v-64<_?new Uint8Array(g.buffer.slice(v-64)):new Uint8Array(0),this},m.ArrayBuffer.prototype.end=function(y){var g=this._buff,_=g.length,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T,w;for(T=0;T<_;T+=1)v[T>>2]|=g[T]<<(T%4<<3);return this._finish(v,_),w=l(this._hash),y&&(w=b(w)),this.reset(),w},m.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},m.ArrayBuffer.prototype.getState=function(){var y=m.prototype.getState.call(this);return y.buff=h(y.buff),y},m.ArrayBuffer.prototype.setState=function(y){return y.buff=d(y.buff,!0),m.prototype.setState.call(this,y)},m.ArrayBuffer.prototype.destroy=m.prototype.destroy,m.ArrayBuffer.prototype._finish=m.prototype._finish,m.ArrayBuffer.hash=function(y,g){var _=c(new Uint8Array(y)),v=l(_);return g?b(v):v},m})}(pN)),pN.exports}var MQ;function qpe(){if(MQ)return ug;MQ=1,Object.defineProperty(ug,"__esModule",{value:!0}),ug.TermFunctionMd5=void 0;const a=Re(),t=Ae(),u=Mpe();let n=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.MD5,overloads:(0,t.declare)(t.SparqlOperator.MD5).onString1Typed(()=>e=>(0,t.string)((0,u.hash)(e))).collect()})}};return ug.TermFunctionMd5=n,ug}var qQ;function Cpe(){if(qQ)return ag;qQ=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.ActorFunctionFactoryTermMd5=void 0;const a=Re(),t=Ae(),u=qpe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.MD5],termFunction:!0})}async run(e){return new u.TermFunctionMd5}};return ag.ActorFunctionFactoryTermMd5=n,ag}var CQ;function Bpe(){return CQ||(CQ=1,function(a){var t=Ws&&Ws.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ws&&Ws.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Cpe(),a)}(Ws)),Ws}var Ys={},og={},sg={},BQ;function $pe(){if(BQ)return sg;BQ=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.TermFunctionMultiplication=void 0;const a=Re(),t=Ae(),u=cA();let n=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.MULTIPLICATION,overloads:(0,t.declare)(t.SparqlOperator.MULTIPLICATION).arithmetic(()=>(e,i)=>new u.BigNumber(e).times(i).toNumber()).collect()})}};return sg.TermFunctionMultiplication=n,sg}var $Q;function Vpe(){if($Q)return og;$Q=1,Object.defineProperty(og,"__esModule",{value:!0}),og.ActorFunctionFactoryTermMultiplication=void 0;const a=Re(),t=Ae(),u=$pe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.MULTIPLICATION],termFunction:!0})}async run(e){return new u.TermFunctionMultiplication}};return og.ActorFunctionFactoryTermMultiplication=n,og}var VQ;function Upe(){return VQ||(VQ=1,function(a){var t=Ys&&Ys.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ys&&Ys.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Vpe(),a)}(Ys)),Ys}var Zs={},cg={},lg={},UQ;function Qpe(){if(UQ)return lg;UQ=1,Object.defineProperty(lg,"__esModule",{value:!0}),lg.TermFunctionMonth=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.MONTH,overloads:(0,t.declare)(t.SparqlOperator.MONTH).onDateTime1(()=>r=>(0,t.integer)(r.typedValue.month)).set([t.TypeURL.XSD_DATE],()=>([r])=>(0,t.integer)(r.typedValue.month)).collect()})}};return lg.TermFunctionMonth=u,lg}var QQ;function Hpe(){if(QQ)return cg;QQ=1,Object.defineProperty(cg,"__esModule",{value:!0}),cg.ActorFunctionFactoryTermMonth=void 0;const a=Re(),t=Ae(),u=Qpe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.MONTH],termFunction:!0})}async run(e){return new u.TermFunctionMonth}};return cg.ActorFunctionFactoryTermMonth=n,cg}var HQ;function Gpe(){return HQ||(HQ=1,function(a){var t=Zs&&Zs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Zs&&Zs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Hpe(),a)}(Zs)),Zs}var ec={},dg={},fg={},GQ;function kpe(){if(GQ)return fg;GQ=1,Object.defineProperty(fg,"__esModule",{value:!0}),fg.TermFunctionNot=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.NOT,overloads:(0,t.declare)(t.SparqlOperator.NOT).onTerm1(()=>r=>(0,t.bool)(!r.coerceEBV())).collect()})}};return fg.TermFunctionNot=u,fg}var kQ;function zpe(){if(kQ)return dg;kQ=1,Object.defineProperty(dg,"__esModule",{value:!0}),dg.ActorFunctionFactoryTermNot=void 0;const a=Re(),t=Ae(),u=kpe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.NOT],termFunction:!0})}async run(e){return new u.TermFunctionNot}};return dg.ActorFunctionFactoryTermNot=n,dg}var zQ;function Xpe(){return zQ||(zQ=1,function(a){var t=ec&&ec.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ec&&ec.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(zpe(),a)}(ec)),ec}var tc={},hg={},pg={},XQ;function Jpe(){if(XQ)return pg;XQ=1,Object.defineProperty(pg,"__esModule",{value:!0}),pg.TermFunctionObject=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.OBJECT,overloads:(0,t.declare)(t.SparqlOperator.OBJECT).onQuad1(()=>r=>r.object).collect()})}};return pg.TermFunctionObject=u,pg}var JQ;function Kpe(){if(JQ)return hg;JQ=1,Object.defineProperty(hg,"__esModule",{value:!0}),hg.ActorFunctionFactoryTermObject=void 0;const a=Re(),t=Ae(),u=Jpe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.OBJECT],termFunction:!0})}async run(e){return new u.TermFunctionObject}};return hg.ActorFunctionFactoryTermObject=n,hg}var KQ;function Wpe(){return KQ||(KQ=1,function(a){var t=tc&&tc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=tc&&tc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Kpe(),a)}(tc)),tc}var rc={},yg={},bg={},WQ;function Ype(){if(WQ)return bg;WQ=1,Object.defineProperty(bg,"__esModule",{value:!0}),bg.TermFunctionNow=void 0;const a=Re(),t=ke(),u=Ae();let n=class extends a.TermFunctionBase{constructor(){super({arity:0,operator:u.SparqlOperator.NOW,overloads:(0,u.declare)(u.SparqlOperator.NOW).set([],e=>()=>new u.DateTimeLiteral((0,u.toDateTimeRepresentation)({date:e.context.getSafe(t.KeysInitQuery.queryTimestamp),timeZone:e.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)}))).collect()})}};return bg.TermFunctionNow=n,bg}var YQ;function Zpe(){if(YQ)return yg;YQ=1,Object.defineProperty(yg,"__esModule",{value:!0}),yg.ActorFunctionFactoryTermNow=void 0;const a=Re(),t=Ae(),u=Ype();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.NOW],termFunction:!0})}async run(e){return new u.TermFunctionNow}};return yg.ActorFunctionFactoryTermNow=n,yg}var ZQ;function e0e(){return ZQ||(ZQ=1,function(a){var t=rc&&rc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=rc&&rc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Zpe(),a)}(rc)),rc}var nc={},_g={},mg={},eH;function t0e(){if(eH)return mg;eH=1,Object.defineProperty(mg,"__esModule",{value:!0}),mg.TermFunctionPredicate=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.PREDICATE,overloads:(0,t.declare)(t.SparqlOperator.PREDICATE).onQuad1(()=>r=>r.predicate).collect()})}};return mg.TermFunctionPredicate=u,mg}var tH;function r0e(){if(tH)return _g;tH=1,Object.defineProperty(_g,"__esModule",{value:!0}),_g.ActorFunctionFactoryTermPredicate=void 0;const a=Re(),t=Ae(),u=t0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.PREDICATE],termFunction:!0})}async run(e){return new u.TermFunctionPredicate}};return _g.ActorFunctionFactoryTermPredicate=n,_g}var rH;function n0e(){return rH||(rH=1,function(a){var t=nc&&nc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=nc&&nc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(r0e(),a)}(nc)),nc}var ic={},gg={},vg={},nH;function i0e(){if(nH)return vg;nH=1,Object.defineProperty(vg,"__esModule",{value:!0}),vg.TermFunctionRand=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:0,operator:t.SparqlOperator.RAND,overloads:(0,t.declare)(t.SparqlOperator.RAND).set([],()=>()=>(0,t.double)(Math.random())).collect()})}};return vg.TermFunctionRand=u,vg}var iH;function a0e(){if(iH)return gg;iH=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.ActorFunctionFactoryTermRand=void 0;const a=Re(),t=Ae(),u=i0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.RAND],termFunction:!0})}async run(e){return new u.TermFunctionRand}};return gg.ActorFunctionFactoryTermRand=n,gg}var aH;function u0e(){return aH||(aH=1,function(a){var t=ic&&ic.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ic&&ic.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(a0e(),a)}(ic)),ic}var ac={},Tg={},wg={},uH;function oH(){if(uH)return wg;uH=1,Object.defineProperty(wg,"__esModule",{value:!0}),wg.TermFunctionRegex=void 0;const a=Re(),t=Ae();let u=class Fa extends a.TermFunctionBase{constructor(){super({arity:[2,3],operator:t.SparqlOperator.REGEX,overloads:(0,t.declare)(t.SparqlOperator.REGEX).onBinaryTyped([t.TypeAlias.SPARQL_STRINGLY,t.TypeURL.XSD_STRING],Fa.regex2).onTernaryTyped([t.TypeAlias.SPARQL_STRINGLY,t.TypeURL.XSD_STRING,t.TypeURL.XSD_STRING],Fa.regex3).collect()})}static regex2(){return(r,e)=>(0,t.bool)(Fa.matches(r,e))}static regex3(){return(r,e,i)=>(0,t.bool)(Fa.matches(r,e,i))}static matches(r,e,i=""){return i=Fa.cleanFlags(i),i.includes("x")&&(e=Fa.flagX(e)),i.includes("q")&&(e=Fa.flagQ(e)),new RegExp(e,i.replaceAll(/[qx]/gu,"")).test(r)}static cleanFlags(r){if(!/^[imsxq]*$/u.test(r))throw new Error("Invalid flags");const e=[...r].find((i,o,c)=>c.indexOf(i)!==o);if(e)throw new Error(`Duplicate flag: ${e}`);return r!=null&&r.includes("q")&&(r=r.replaceAll(/[msx]/gu,"")),`${r}u`}static flagX(r){if(!r)return r;let e=r[0];for(;["	",`
`,"\r"," "].includes(e);)r=r.slice(1),e=r[0];let i=e==="[";for(let o=1;o<r.length;o++){const c=r[o];["	",`
`,"\r"," "].includes(c)&&!i?(r=r.slice(0,o)+r.slice(o+1),o--):c==="["&&e!=="\\"?i=!0:c==="]"&&e!=="\\"&&(i=!1),e=c}return r}static flagQ(r){return r.replaceAll(/([?+*.{}()[\]\\|])/gu,"\\$1").replaceAll(/^\^/gu,"\\^").replaceAll(/\$$/gu,"\\$")}};return wg.TermFunctionRegex=u,wg}var sH;function o0e(){if(sH)return Tg;sH=1,Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.ActorFunctionFactoryTermRegex=void 0;const a=Re(),t=Ae(),u=oH();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.REGEX],termFunction:!0})}async run(e){return new u.TermFunctionRegex}};return Tg.ActorFunctionFactoryTermRegex=n,Tg}var cH;function lH(){return cH||(cH=1,function(a){var t=ac&&ac.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ac&&ac.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(o0e(),a),u(oH(),a)}(ac)),ac}var uc={},Sg={},Og={},dH;function s0e(){if(dH)return Og;dH=1,Object.defineProperty(Og,"__esModule",{value:!0}),Og.TermFunctionReplace=void 0;const a=lH(),t=Re(),u=Ae();let n=class QS extends t.TermFunctionBase{constructor(){super({arity:[3,4],operator:u.SparqlOperator.REPLACE,overloads:(0,u.declare)(u.SparqlOperator.REPLACE).onTernaryTyped([u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>(e,i,o)=>(0,u.string)(QS.replace(e,i,o))).set([u.TypeURL.RDF_LANG_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>([e,i,o])=>{const c=QS.replace(e.typedValue,i.typedValue,o.typedValue);return(0,u.langString)(c,e.language)}).onQuaternaryTyped([u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>(e,i,o,c)=>(0,u.string)(QS.replace(e,i,o,c))).set([u.TypeURL.RDF_LANG_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING,u.TypeURL.XSD_STRING],()=>([e,i,o,c])=>{const s=QS.replace(e.typedValue,i.typedValue,o.typedValue,c.typedValue);return(0,u.langString)(s,e.language)}).collect()})}static replace(e,i,o,c=""){return c=a.TermFunctionRegex.cleanFlags(c),c.includes("x")&&(i=a.TermFunctionRegex.flagX(i)),c.includes("q")?i=a.TermFunctionRegex.flagQ(i):o=o.replaceAll("$0",()=>"$&"),c=`${c.replaceAll(/[qx]/gu,"")}g`,e.replaceAll(new RegExp(i,c),o)}};return Og.TermFunctionReplace=n,Og}var fH;function c0e(){if(fH)return Sg;fH=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.ActorFunctionFactoryTermReplace=void 0;const a=Re(),t=Ae(),u=s0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.REPLACE],termFunction:!0})}async run(e){return new u.TermFunctionReplace}};return Sg.ActorFunctionFactoryTermReplace=n,Sg}var hH;function l0e(){return hH||(hH=1,function(a){var t=uc&&uc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=uc&&uc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(c0e(),a)}(uc)),uc}var oc={},Ag={},Eg={},pH;function d0e(){if(pH)return Eg;pH=1,Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.TermFunctionRound=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.ROUND,overloads:(0,t.declare)(t.SparqlOperator.ROUND).numericConverter(()=>r=>Math.round(r)).collect()})}};return Eg.TermFunctionRound=u,Eg}var yH;function f0e(){if(yH)return Ag;yH=1,Object.defineProperty(Ag,"__esModule",{value:!0}),Ag.ActorFunctionFactoryTermRound=void 0;const a=Re(),t=Ae(),u=d0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.ROUND],termFunction:!0})}async run(e){return new u.TermFunctionRound}};return Ag.ActorFunctionFactoryTermRound=n,Ag}var bH;function h0e(){return bH||(bH=1,function(a){var t=oc&&oc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=oc&&oc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(f0e(),a)}(oc)),oc}var sc={},xg={},Ig={},_H;function p0e(){if(_H)return Ig;_H=1,Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.TermFunctionSeconds=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.SECONDS,overloads:(0,t.declare)(t.SparqlOperator.SECONDS).onDateTime1(()=>r=>(0,t.decimal)(r.typedValue.seconds)).set([t.TypeURL.XSD_TIME],()=>([r])=>(0,t.integer)(r.typedValue.seconds)).collect()})}};return Ig.TermFunctionSeconds=u,Ig}var mH;function y0e(){if(mH)return xg;mH=1,Object.defineProperty(xg,"__esModule",{value:!0}),xg.ActorFunctionFactoryTermSeconds=void 0;const a=Re(),t=Ae(),u=p0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.SECONDS],termFunction:!0})}async run(e){return new u.TermFunctionSeconds}};return xg.ActorFunctionFactoryTermSeconds=n,xg}var gH;function b0e(){return gH||(gH=1,function(a){var t=sc&&sc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=sc&&sc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(y0e(),a)}(sc)),sc}var cc={},Rg={},Ng={},vH;function _0e(){if(vH)return Ng;vH=1,Object.defineProperty(Ng,"__esModule",{value:!0}),Ng.TermFunctionSha256=void 0;const a=Re(),t=Ae(),u=h0();let n=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.SHA256,overloads:(0,t.declare)(t.SparqlOperator.SHA256).onString1Typed(()=>e=>(0,t.string)((0,u.sha256)().update(e).digest("hex"))).collect()})}};return Ng.TermFunctionSha256=n,Ng}var TH;function m0e(){if(TH)return Rg;TH=1,Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.ActorFunctionFactoryTermSha256=void 0;const a=Re(),t=Ae(),u=_0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.SHA256],termFunction:!0})}async run(e){return new u.TermFunctionSha256}};return Rg.ActorFunctionFactoryTermSha256=n,Rg}var wH;function g0e(){return wH||(wH=1,function(a){var t=cc&&cc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=cc&&cc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(m0e(),a)}(cc)),cc}var lc={},Fg={},Dg={},SH;function v0e(){if(SH)return Dg;SH=1,Object.defineProperty(Dg,"__esModule",{value:!0}),Dg.TermFunctionSha1=void 0;const a=Re(),t=Ae(),u=h0();let n=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.SHA1,overloads:(0,t.declare)(t.SparqlOperator.SHA1).onString1Typed(()=>e=>(0,t.string)((0,u.sha1)().update(e).digest("hex"))).collect()})}};return Dg.TermFunctionSha1=n,Dg}var OH;function T0e(){if(OH)return Fg;OH=1,Object.defineProperty(Fg,"__esModule",{value:!0}),Fg.ActorFunctionFactoryTermSha1=void 0;const a=Re(),t=Ae(),u=v0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.SHA1],termFunction:!0})}async run(e){return new u.TermFunctionSha1}};return Fg.ActorFunctionFactoryTermSha1=n,Fg}var AH;function w0e(){return AH||(AH=1,function(a){var t=lc&&lc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=lc&&lc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(T0e(),a)}(lc)),lc}var dc={},Pg={},Lg={},EH;function S0e(){if(EH)return Lg;EH=1,Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.TermFunctionSha384=void 0;const a=Re(),t=Ae(),u=h0();let n=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.SHA384,overloads:(0,t.declare)(t.SparqlOperator.SHA384).onString1Typed(()=>e=>(0,t.string)((0,u.sha384)().update(e).digest("hex"))).collect()})}};return Lg.TermFunctionSha384=n,Lg}var xH;function O0e(){if(xH)return Pg;xH=1,Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.ActorFunctionFactoryTermSha384=void 0;const a=Re(),t=Ae(),u=S0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.SHA384],termFunction:!0})}async run(e){return new u.TermFunctionSha384}};return Pg.ActorFunctionFactoryTermSha384=n,Pg}var IH;function A0e(){return IH||(IH=1,function(a){var t=dc&&dc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=dc&&dc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(O0e(),a)}(dc)),dc}var fc={},jg={},Mg={},RH;function E0e(){if(RH)return Mg;RH=1,Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.TermFunctionSha512=void 0;const a=Re(),t=Ae(),u=h0();let n=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.SHA512,overloads:(0,t.declare)(t.SparqlOperator.SHA512).onString1Typed(()=>e=>(0,t.string)((0,u.sha512)().update(e).digest("hex"))).collect()})}};return Mg.TermFunctionSha512=n,Mg}var NH;function x0e(){if(NH)return jg;NH=1,Object.defineProperty(jg,"__esModule",{value:!0}),jg.ActorFunctionFactoryTermSha512=void 0;const a=Re(),t=Ae(),u=E0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.SHA512],termFunction:!0})}async run(e){return new u.TermFunctionSha512}};return jg.ActorFunctionFactoryTermSha512=n,jg}var FH;function I0e(){return FH||(FH=1,function(a){var t=fc&&fc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=fc&&fc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(x0e(),a)}(fc)),fc}var hc={},qg={},Cg={},DH;function R0e(){if(DH)return Cg;DH=1,Object.defineProperty(Cg,"__esModule",{value:!0}),Cg.TermFunctionStrAfter=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.STRAFTER,overloads:(0,t.declare)(t.SparqlOperator.STRAFTER).onBinaryTyped([t.TypeURL.XSD_STRING,t.TypeURL.XSD_STRING],()=>(r,e)=>(0,t.string)(r.slice(r.indexOf(e)).slice(e.length))).onBinary([t.TypeURL.RDF_LANG_STRING,t.TypeURL.XSD_STRING],()=>(r,e)=>{const[i,o]=[r.typedValue,e.typedValue],c=i.slice(i.indexOf(o)).slice(o.length);return c||!o?(0,t.langString)(c,r.language):(0,t.string)(c)}).onBinary([t.TypeURL.RDF_LANG_STRING,t.TypeURL.RDF_LANG_STRING],()=>(r,e)=>{if(r.language!==e.language)throw new t.IncompatibleLanguageOperation(r,e);const[i,o]=[r.typedValue,e.typedValue],c=i.slice(i.indexOf(o)).slice(o.length);return c||!o?(0,t.langString)(c,r.language):(0,t.string)(c)}).collect()})}};return Cg.TermFunctionStrAfter=u,Cg}var PH;function N0e(){if(PH)return qg;PH=1,Object.defineProperty(qg,"__esModule",{value:!0}),qg.ActorFunctionFactoryTermStrAfter=void 0;const a=Re(),t=Ae(),u=R0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.STRAFTER],termFunction:!0})}async run(e){return new u.TermFunctionStrAfter}};return qg.ActorFunctionFactoryTermStrAfter=n,qg}var LH;function F0e(){return LH||(LH=1,function(a){var t=hc&&hc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=hc&&hc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(N0e(),a)}(hc)),hc}var pc={},Bg={},$g={},jH;function D0e(){if(jH)return $g;jH=1,Object.defineProperty($g,"__esModule",{value:!0}),$g.TermFunctionStrBefore=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.STRBEFORE,overloads:(0,t.declare)(t.SparqlOperator.STRBEFORE).onBinaryTyped([t.TypeURL.XSD_STRING,t.TypeURL.XSD_STRING],()=>(r,e)=>(0,t.string)(r.slice(0,Math.max(0,r.indexOf(e))))).onBinary([t.TypeURL.RDF_LANG_STRING,t.TypeURL.XSD_STRING],()=>(r,e)=>{const[i,o]=[r.typedValue,e.typedValue],c=r.typedValue.slice(0,Math.max(0,i.indexOf(o)));return c||!o?(0,t.langString)(c,r.language):(0,t.string)(c)}).onBinary([t.TypeURL.RDF_LANG_STRING,t.TypeURL.RDF_LANG_STRING],()=>(r,e)=>{if(r.language!==e.language)throw new t.IncompatibleLanguageOperation(r,e);const[i,o]=[r.typedValue,e.typedValue],c=r.typedValue.slice(0,Math.max(0,i.indexOf(o)));return c||!o?(0,t.langString)(c,r.language):(0,t.string)(c)}).collect()})}};return $g.TermFunctionStrBefore=u,$g}var MH;function P0e(){if(MH)return Bg;MH=1,Object.defineProperty(Bg,"__esModule",{value:!0}),Bg.ActorFunctionFactoryTermStrBefore=void 0;const a=Re(),t=Ae(),u=D0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.STRBEFORE],termFunction:!0})}async run(e){return new u.TermFunctionStrBefore}};return Bg.ActorFunctionFactoryTermStrBefore=n,Bg}var qH;function L0e(){return qH||(qH=1,function(a){var t=pc&&pc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=pc&&pc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(P0e(),a)}(pc)),pc}var yc={},Vg={},Ug={},CH;function j0e(){if(CH)return Ug;CH=1,Object.defineProperty(Ug,"__esModule",{value:!0}),Ug.TermFunctionStrDt=void 0;const a=Re(),t=ke(),u=Ae();let n=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:u.SparqlOperator.STRDT,overloads:(0,u.declare)(u.SparqlOperator.STRDT).set([u.TypeURL.XSD_STRING,"namedNode"],e=>([i,o])=>{const c=e.context.getSafe(t.KeysInitQuery.dataFactory),s=c.literal(i.typedValue,c.namedNode(o.value));return new u.TermTransformer(e.context.getSafe(t.KeysExpressionEvaluator.superTypeProvider)).transformLiteral(s)}).collect()})}};return Ug.TermFunctionStrDt=n,Ug}var BH;function M0e(){if(BH)return Vg;BH=1,Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.ActorFunctionFactoryTermStrDt=void 0;const a=Re(),t=Ae(),u=j0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.STRDT],termFunction:!0})}async run(e){return new u.TermFunctionStrDt}};return Vg.ActorFunctionFactoryTermStrDt=n,Vg}var $H;function q0e(){return $H||($H=1,function(a){var t=yc&&yc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=yc&&yc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(M0e(),a)}(yc)),yc}var bc={},Qg={},Hg={},VH;function C0e(){if(VH)return Hg;VH=1,Object.defineProperty(Hg,"__esModule",{value:!0}),Hg.TermFunctionStrEnds=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.STRENDS,overloads:(0,t.declare)(t.SparqlOperator.STRENDS).onBinaryTyped([t.TypeAlias.SPARQL_STRINGLY,t.TypeURL.XSD_STRING],()=>(r,e)=>(0,t.bool)(r.endsWith(e))).onBinary([t.TypeURL.RDF_LANG_STRING,t.TypeURL.RDF_LANG_STRING],()=>(r,e)=>{if(r.language!==e.language)throw new t.IncompatibleLanguageOperation(r,e);return(0,t.bool)(r.typedValue.endsWith(e.typedValue))}).collect()})}};return Hg.TermFunctionStrEnds=u,Hg}var UH;function B0e(){if(UH)return Qg;UH=1,Object.defineProperty(Qg,"__esModule",{value:!0}),Qg.ActorFunctionFactoryTermStrEnds=void 0;const a=Re(),t=Ae(),u=C0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.STRENDS],termFunction:!0})}async run(e){return new u.TermFunctionStrEnds}};return Qg.ActorFunctionFactoryTermStrEnds=n,Qg}var QH;function $0e(){return QH||(QH=1,function(a){var t=bc&&bc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=bc&&bc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(B0e(),a)}(bc)),bc}var _c={},Gg={},kg={},HH;function V0e(){if(HH)return kg;HH=1,Object.defineProperty(kg,"__esModule",{value:!0}),kg.TermFunctionStrLang=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.STRLANG,overloads:(0,t.declare)(t.SparqlOperator.STRLANG).onBinaryTyped([t.TypeURL.XSD_STRING,t.TypeURL.XSD_STRING],()=>(r,e)=>new t.LangStringLiteral(r,e.toLowerCase())).collect()})}};return kg.TermFunctionStrLang=u,kg}var GH;function U0e(){if(GH)return Gg;GH=1,Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.ActorFunctionFactoryTermStrLang=void 0;const a=Re(),t=Ae(),u=V0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.STRLANG],termFunction:!0})}async run(e){return new u.TermFunctionStrLang}};return Gg.ActorFunctionFactoryTermStrLang=n,Gg}var kH;function Q0e(){return kH||(kH=1,function(a){var t=_c&&_c.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=_c&&_c.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(U0e(),a)}(_c)),_c}var mc={},zg={},Xg={},zH;function H0e(){if(zH)return Xg;zH=1,Object.defineProperty(Xg,"__esModule",{value:!0}),Xg.TermFunctionStrLen=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.STRLEN,overloads:(0,t.declare)(t.SparqlOperator.STRLEN).onStringly1(()=>r=>(0,t.integer)([...r.typedValue].length)).collect()})}};return Xg.TermFunctionStrLen=u,Xg}var XH;function G0e(){if(XH)return zg;XH=1,Object.defineProperty(zg,"__esModule",{value:!0}),zg.ActorFunctionFactoryTermStrLen=void 0;const a=Re(),t=Ae(),u=H0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.STRLEN],termFunction:!0})}async run(e){return new u.TermFunctionStrLen}};return zg.ActorFunctionFactoryTermStrLen=n,zg}var JH;function k0e(){return JH||(JH=1,function(a){var t=mc&&mc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=mc&&mc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(G0e(),a)}(mc)),mc}var gc={},Jg={},Kg={},KH;function z0e(){if(KH)return Kg;KH=1,Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.TermFunctionStrStarts=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.STRSTARTS,overloads:(0,t.declare)(t.SparqlOperator.STRSTARTS).onBinaryTyped([t.TypeAlias.SPARQL_STRINGLY,t.TypeURL.XSD_STRING],()=>(r,e)=>(0,t.bool)(r.startsWith(e))).onBinary([t.TypeURL.RDF_LANG_STRING,t.TypeURL.RDF_LANG_STRING],()=>(r,e)=>{if(r.language!==e.language)throw new t.IncompatibleLanguageOperation(r,e);return(0,t.bool)(r.typedValue.startsWith(e.typedValue))}).collect()})}};return Kg.TermFunctionStrStarts=u,Kg}var WH;function X0e(){if(WH)return Jg;WH=1,Object.defineProperty(Jg,"__esModule",{value:!0}),Jg.ActorFunctionFactoryTermStrStarts=void 0;const a=Re(),t=Ae(),u=z0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.STRSTARTS],termFunction:!0})}async run(e){return new u.TermFunctionStrStarts}};return Jg.ActorFunctionFactoryTermStrStarts=n,Jg}var YH;function J0e(){return YH||(YH=1,function(a){var t=gc&&gc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=gc&&gc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(X0e(),a)}(gc)),gc}var vc={},Wg={},Yg={},yN={},lA={},ZH;function K0e(){return ZH||(ZH=1,Object.defineProperty(lA,"__esModule",{value:!0}),lA.default="ffffffff-ffff-ffff-ffff-ffffffffffff"),lA}var dA={},eG;function W0e(){return eG||(eG=1,Object.defineProperty(dA,"__esModule",{value:!0}),dA.default="00000000-0000-0000-0000-000000000000"),dA}var fA={},hA={},pA={},tG;function Y0e(){return tG||(tG=1,Object.defineProperty(pA,"__esModule",{value:!0}),pA.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i),pA}var rG;function yA(){if(rG)return hA;rG=1,Object.defineProperty(hA,"__esModule",{value:!0});const a=Y0e();function t(u){return typeof u=="string"&&a.default.test(u)}return hA.default=t,hA}var nG;function bA(){if(nG)return fA;nG=1,Object.defineProperty(fA,"__esModule",{value:!0});const a=yA();function t(u){if(!(0,a.default)(u))throw TypeError("Invalid UUID");let n;return Uint8Array.of((n=parseInt(u.slice(0,8),16))>>>24,n>>>16&255,n>>>8&255,n&255,(n=parseInt(u.slice(9,13),16))>>>8,n&255,(n=parseInt(u.slice(14,18),16))>>>8,n&255,(n=parseInt(u.slice(19,23),16))>>>8,n&255,(n=parseInt(u.slice(24,36),16))/1099511627776&255,n/4294967296&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255)}return fA.default=t,fA}var gh={},iG;function pa(){if(iG)return gh;iG=1,Object.defineProperty(gh,"__esModule",{value:!0}),gh.unsafeStringify=void 0;const a=yA(),t=[];for(let r=0;r<256;++r)t.push((r+256).toString(16).slice(1));function u(r,e=0){return(t[r[e+0]]+t[r[e+1]]+t[r[e+2]]+t[r[e+3]]+"-"+t[r[e+4]]+t[r[e+5]]+"-"+t[r[e+6]]+t[r[e+7]]+"-"+t[r[e+8]]+t[r[e+9]]+"-"+t[r[e+10]]+t[r[e+11]]+t[r[e+12]]+t[r[e+13]]+t[r[e+14]]+t[r[e+15]]).toLowerCase()}gh.unsafeStringify=u;function n(r,e=0){const i=u(r,e);if(!(0,a.default)(i))throw TypeError("Stringified UUID is invalid");return i}return gh.default=n,gh}var vh={},_A={},aG;function bN(){if(aG)return _A;aG=1,Object.defineProperty(_A,"__esModule",{value:!0});let a;const t=new Uint8Array(16);function u(){if(!a){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");a=crypto.getRandomValues.bind(crypto)}return a(t)}return _A.default=u,_A}var uG;function oG(){if(uG)return vh;uG=1,Object.defineProperty(vh,"__esModule",{value:!0}),vh.updateV1State=void 0;const a=bN(),t=pa(),u={};function n(i,o,c){var f;let s;const l=(i==null?void 0:i._v6)??!1;if(i){const d=Object.keys(i);d.length===1&&d[0]==="_v6"&&(i=void 0)}if(i)s=e(i.random??((f=i.rng)==null?void 0:f.call(i))??(0,a.default)(),i.msecs,i.nsecs,i.clockseq,i.node,o,c);else{const d=Date.now(),h=(0,a.default)();r(u,d,h),s=e(h,u.msecs,u.nsecs,l?void 0:u.clockseq,l?void 0:u.node,o,c)}return o??(0,t.unsafeStringify)(s)}function r(i,o,c){return i.msecs??(i.msecs=-1/0),i.nsecs??(i.nsecs=0),o===i.msecs?(i.nsecs++,i.nsecs>=1e4&&(i.node=void 0,i.nsecs=0)):o>i.msecs?i.nsecs=0:o<i.msecs&&(i.node=void 0),i.node||(i.node=c.slice(10,16),i.node[0]|=1,i.clockseq=(c[8]<<8|c[9])&16383),i.msecs=o,i}vh.updateV1State=r;function e(i,o,c,s,l,f,d=0){if(i.length<16)throw new Error("Random bytes length must be >= 16");if(!f)f=new Uint8Array(16),d=0;else if(d<0||d+16>f.length)throw new RangeError(`UUID byte range ${d}:${d+15} is out of buffer bounds`);o??(o=Date.now()),c??(c=0),s??(s=(i[8]<<8|i[9])&16383),l??(l=i.slice(10,16)),o+=122192928e5;const h=((o&268435455)*1e4+c)%4294967296;f[d++]=h>>>24&255,f[d++]=h>>>16&255,f[d++]=h>>>8&255,f[d++]=h&255;const p=o/4294967296*1e4&268435455;f[d++]=p>>>8&255,f[d++]=p&255,f[d++]=p>>>24&15|16,f[d++]=p>>>16&255,f[d++]=s>>>8|128,f[d++]=s&255;for(let b=0;b<6;++b)f[d++]=l[b];return f}return vh.default=n,vh}var mA={},sG;function cG(){if(sG)return mA;sG=1,Object.defineProperty(mA,"__esModule",{value:!0});const a=bA(),t=pa();function u(r){const e=typeof r=="string"?(0,a.default)(r):r,i=n(e);return typeof r=="string"?(0,t.unsafeStringify)(i):i}mA.default=u;function n(r){return Uint8Array.of((r[6]&15)<<4|r[7]>>4&15,(r[7]&15)<<4|(r[4]&240)>>4,(r[4]&15)<<4|(r[5]&240)>>4,(r[5]&15)<<4|(r[0]&240)>>4,(r[0]&15)<<4|(r[1]&240)>>4,(r[1]&15)<<4|(r[2]&240)>>4,96|r[2]&15,r[3],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15])}return mA}var _N={},gA={},lG;function Z0e(){if(lG)return gA;lG=1,Object.defineProperty(gA,"__esModule",{value:!0});function a(d){const h=r(d),p=n(h,d.length*8);return t(p)}function t(d){const h=new Uint8Array(d.length*4);for(let p=0;p<d.length*4;p++)h[p]=d[p>>2]>>>p%4*8&255;return h}function u(d){return(d+64>>>9<<4)+14+1}function n(d,h){const p=new Uint32Array(u(h)).fill(0);p.set(d),p[h>>5]|=128<<h%32,p[p.length-1]=h,d=p;let b=1732584193,m=-271733879,y=-1732584194,g=271733878;for(let _=0;_<d.length;_+=16){const v=b,T=m,w=y,A=g;b=c(b,m,y,g,d[_],7,-680876936),g=c(g,b,m,y,d[_+1],12,-389564586),y=c(y,g,b,m,d[_+2],17,606105819),m=c(m,y,g,b,d[_+3],22,-1044525330),b=c(b,m,y,g,d[_+4],7,-176418897),g=c(g,b,m,y,d[_+5],12,1200080426),y=c(y,g,b,m,d[_+6],17,-1473231341),m=c(m,y,g,b,d[_+7],22,-45705983),b=c(b,m,y,g,d[_+8],7,1770035416),g=c(g,b,m,y,d[_+9],12,-1958414417),y=c(y,g,b,m,d[_+10],17,-42063),m=c(m,y,g,b,d[_+11],22,-1990404162),b=c(b,m,y,g,d[_+12],7,1804603682),g=c(g,b,m,y,d[_+13],12,-40341101),y=c(y,g,b,m,d[_+14],17,-1502002290),m=c(m,y,g,b,d[_+15],22,1236535329),b=s(b,m,y,g,d[_+1],5,-165796510),g=s(g,b,m,y,d[_+6],9,-1069501632),y=s(y,g,b,m,d[_+11],14,643717713),m=s(m,y,g,b,d[_],20,-373897302),b=s(b,m,y,g,d[_+5],5,-701558691),g=s(g,b,m,y,d[_+10],9,38016083),y=s(y,g,b,m,d[_+15],14,-660478335),m=s(m,y,g,b,d[_+4],20,-405537848),b=s(b,m,y,g,d[_+9],5,568446438),g=s(g,b,m,y,d[_+14],9,-1019803690),y=s(y,g,b,m,d[_+3],14,-187363961),m=s(m,y,g,b,d[_+8],20,1163531501),b=s(b,m,y,g,d[_+13],5,-1444681467),g=s(g,b,m,y,d[_+2],9,-51403784),y=s(y,g,b,m,d[_+7],14,1735328473),m=s(m,y,g,b,d[_+12],20,-1926607734),b=l(b,m,y,g,d[_+5],4,-378558),g=l(g,b,m,y,d[_+8],11,-2022574463),y=l(y,g,b,m,d[_+11],16,1839030562),m=l(m,y,g,b,d[_+14],23,-35309556),b=l(b,m,y,g,d[_+1],4,-1530992060),g=l(g,b,m,y,d[_+4],11,1272893353),y=l(y,g,b,m,d[_+7],16,-155497632),m=l(m,y,g,b,d[_+10],23,-1094730640),b=l(b,m,y,g,d[_+13],4,681279174),g=l(g,b,m,y,d[_],11,-358537222),y=l(y,g,b,m,d[_+3],16,-722521979),m=l(m,y,g,b,d[_+6],23,76029189),b=l(b,m,y,g,d[_+9],4,-640364487),g=l(g,b,m,y,d[_+12],11,-421815835),y=l(y,g,b,m,d[_+15],16,530742520),m=l(m,y,g,b,d[_+2],23,-995338651),b=f(b,m,y,g,d[_],6,-198630844),g=f(g,b,m,y,d[_+7],10,1126891415),y=f(y,g,b,m,d[_+14],15,-1416354905),m=f(m,y,g,b,d[_+5],21,-57434055),b=f(b,m,y,g,d[_+12],6,1700485571),g=f(g,b,m,y,d[_+3],10,-1894986606),y=f(y,g,b,m,d[_+10],15,-1051523),m=f(m,y,g,b,d[_+1],21,-2054922799),b=f(b,m,y,g,d[_+8],6,1873313359),g=f(g,b,m,y,d[_+15],10,-30611744),y=f(y,g,b,m,d[_+6],15,-1560198380),m=f(m,y,g,b,d[_+13],21,1309151649),b=f(b,m,y,g,d[_+4],6,-145523070),g=f(g,b,m,y,d[_+11],10,-1120210379),y=f(y,g,b,m,d[_+2],15,718787259),m=f(m,y,g,b,d[_+9],21,-343485551),b=e(b,v),m=e(m,T),y=e(y,w),g=e(g,A)}return Uint32Array.of(b,m,y,g)}function r(d){if(d.length===0)return new Uint32Array;const h=new Uint32Array(u(d.length*8)).fill(0);for(let p=0;p<d.length;p++)h[p>>2]|=(d[p]&255)<<p%4*8;return h}function e(d,h){const p=(d&65535)+(h&65535);return(d>>16)+(h>>16)+(p>>16)<<16|p&65535}function i(d,h){return d<<h|d>>>32-h}function o(d,h,p,b,m,y){return e(i(e(e(h,d),e(b,y)),m),p)}function c(d,h,p,b,m,y,g){return o(h&p|~h&b,d,h,m,y,g)}function s(d,h,p,b,m,y,g){return o(h&b|p&~b,d,h,m,y,g)}function l(d,h,p,b,m,y,g){return o(h^p^b,d,h,m,y,g)}function f(d,h,p,b,m,y,g){return o(p^(h|~b),d,h,m,y,g)}return gA.default=a,gA}var bi={},dG;function vA(){if(dG)return bi;dG=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.URL=bi.DNS=bi.stringToBytes=void 0;const a=bA(),t=pa();function u(r){r=unescape(encodeURIComponent(r));const e=new Uint8Array(r.length);for(let i=0;i<r.length;++i)e[i]=r.charCodeAt(i);return e}bi.stringToBytes=u,bi.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",bi.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function n(r,e,i,o,c,s){const l=typeof i=="string"?u(i):i,f=typeof o=="string"?(0,a.default)(o):o;if(typeof o=="string"&&(o=(0,a.default)(o)),(o==null?void 0:o.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+l.length);if(d.set(f),d.set(l,f.length),d=e(d),d[6]=d[6]&15|r,d[8]=d[8]&63|128,c){s=s||0;for(let h=0;h<16;++h)c[s+h]=d[h];return c}return(0,t.unsafeStringify)(d)}return bi.default=n,bi}var fG;function eye(){return fG||(fG=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.URL=a.DNS=void 0;const t=Z0e(),u=vA();var n=vA();Object.defineProperty(a,"DNS",{enumerable:!0,get:function(){return n.DNS}}),Object.defineProperty(a,"URL",{enumerable:!0,get:function(){return n.URL}});function r(e,i,o,c){return(0,u.default)(48,t.default,e,i,o,c)}r.DNS=u.DNS,r.URL=u.URL,a.default=r}(_N)),_N}var TA={},wA={},hG;function tye(){if(hG)return wA;hG=1,Object.defineProperty(wA,"__esModule",{value:!0});const a=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);return wA.default={randomUUID:a},wA}var pG;function rye(){if(pG)return TA;pG=1,Object.defineProperty(TA,"__esModule",{value:!0});const a=tye(),t=bN(),u=pa();function n(r,e,i){var c;if(a.default.randomUUID&&!e&&!r)return a.default.randomUUID();r=r||{};const o=r.random??((c=r.rng)==null?void 0:c.call(r))??(0,t.default)();if(o.length<16)throw new Error("Random bytes length must be >= 16");if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,e){if(i=i||0,i<0||i+16>e.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);for(let s=0;s<16;++s)e[i+s]=o[s];return e}return(0,u.unsafeStringify)(o)}return TA.default=n,TA}var mN={},SA={},yG;function nye(){if(yG)return SA;yG=1,Object.defineProperty(SA,"__esModule",{value:!0});function a(n,r,e,i){switch(n){case 0:return r&e^~r&i;case 1:return r^e^i;case 2:return r&e^r&i^e&i;case 3:return r^e^i}}function t(n,r){return n<<r|n>>>32-r}function u(n){const r=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520],i=new Uint8Array(n.length+1);i.set(n),i[n.length]=128,n=i;const o=n.length/4+2,c=Math.ceil(o/16),s=new Array(c);for(let l=0;l<c;++l){const f=new Uint32Array(16);for(let d=0;d<16;++d)f[d]=n[l*64+d*4]<<24|n[l*64+d*4+1]<<16|n[l*64+d*4+2]<<8|n[l*64+d*4+3];s[l]=f}s[c-1][14]=(n.length-1)*8/Math.pow(2,32),s[c-1][14]=Math.floor(s[c-1][14]),s[c-1][15]=(n.length-1)*8&4294967295;for(let l=0;l<c;++l){const f=new Uint32Array(80);for(let y=0;y<16;++y)f[y]=s[l][y];for(let y=16;y<80;++y)f[y]=t(f[y-3]^f[y-8]^f[y-14]^f[y-16],1);let d=e[0],h=e[1],p=e[2],b=e[3],m=e[4];for(let y=0;y<80;++y){const g=Math.floor(y/20),_=t(d,5)+a(g,h,p,b)+m+r[g]+f[y]>>>0;m=b,b=p,p=t(h,30)>>>0,h=d,d=_}e[0]=e[0]+d>>>0,e[1]=e[1]+h>>>0,e[2]=e[2]+p>>>0,e[3]=e[3]+b>>>0,e[4]=e[4]+m>>>0}return Uint8Array.of(e[0]>>24,e[0]>>16,e[0]>>8,e[0],e[1]>>24,e[1]>>16,e[1]>>8,e[1],e[2]>>24,e[2]>>16,e[2]>>8,e[2],e[3]>>24,e[3]>>16,e[3]>>8,e[3],e[4]>>24,e[4]>>16,e[4]>>8,e[4])}return SA.default=u,SA}var bG;function iye(){return bG||(bG=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.URL=a.DNS=void 0;const t=nye(),u=vA();var n=vA();Object.defineProperty(a,"DNS",{enumerable:!0,get:function(){return n.DNS}}),Object.defineProperty(a,"URL",{enumerable:!0,get:function(){return n.URL}});function r(e,i,o,c){return(0,u.default)(80,t.default,e,i,o,c)}r.DNS=u.DNS,r.URL=u.URL,a.default=r}(mN)),mN}var OA={},_G;function aye(){if(_G)return OA;_G=1,Object.defineProperty(OA,"__esModule",{value:!0});const a=pa(),t=oG(),u=cG();function n(r,e,i){r??(r={}),i??(i=0);let o=(0,t.default)({...r,_v6:!0},new Uint8Array(16));if(o=(0,u.default)(o),e){for(let c=0;c<16;c++)e[i+c]=o[c];return e}return(0,a.unsafeStringify)(o)}return OA.default=n,OA}var AA={},mG;function uye(){if(mG)return AA;mG=1,Object.defineProperty(AA,"__esModule",{value:!0});const a=bA(),t=pa();function u(r){const e=typeof r=="string"?(0,a.default)(r):r,i=n(e);return typeof r=="string"?(0,t.unsafeStringify)(i):i}AA.default=u;function n(r){return Uint8Array.of((r[3]&15)<<4|r[4]>>4&15,(r[4]&15)<<4|(r[5]&240)>>4,(r[5]&15)<<4|r[6]&15,r[7],(r[1]&15)<<4|(r[2]&240)>>4,(r[2]&15)<<4|(r[3]&240)>>4,16|(r[0]&240)>>4,(r[0]&15)<<4|(r[1]&240)>>4,r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15])}return AA}var Th={},gG;function oye(){if(gG)return Th;gG=1,Object.defineProperty(Th,"__esModule",{value:!0}),Th.updateV7State=void 0;const a=bN(),t=pa(),u={};function n(i,o,c){var l;let s;if(i)s=e(i.random??((l=i.rng)==null?void 0:l.call(i))??(0,a.default)(),i.msecs,i.seq,o,c);else{const f=Date.now(),d=(0,a.default)();r(u,f,d),s=e(d,u.msecs,u.seq,o,c)}return o??(0,t.unsafeStringify)(s)}function r(i,o,c){return i.msecs??(i.msecs=-1/0),i.seq??(i.seq=0),o>i.msecs?(i.seq=c[6]<<23|c[7]<<16|c[8]<<8|c[9],i.msecs=o):(i.seq=i.seq+1|0,i.seq===0&&i.msecs++),i}Th.updateV7State=r;function e(i,o,c,s,l=0){if(i.length<16)throw new Error("Random bytes length must be >= 16");if(!s)s=new Uint8Array(16),l=0;else if(l<0||l+16>s.length)throw new RangeError(`UUID byte range ${l}:${l+15} is out of buffer bounds`);return o??(o=Date.now()),c??(c=i[6]*127<<24|i[7]<<16|i[8]<<8|i[9]),s[l++]=o/1099511627776&255,s[l++]=o/4294967296&255,s[l++]=o/16777216&255,s[l++]=o/65536&255,s[l++]=o/256&255,s[l++]=o&255,s[l++]=112|c>>>28&15,s[l++]=c>>>20&255,s[l++]=128|c>>>14&63,s[l++]=c>>>6&255,s[l++]=c<<2&255|i[10]&3,s[l++]=i[11],s[l++]=i[12],s[l++]=i[13],s[l++]=i[14],s[l++]=i[15],s}return Th.default=n,Th}var EA={},vG;function sye(){if(vG)return EA;vG=1,Object.defineProperty(EA,"__esModule",{value:!0});const a=yA();function t(u){if(!(0,a.default)(u))throw TypeError("Invalid UUID");return parseInt(u.slice(14,15),16)}return EA.default=t,EA}var TG;function wG(){return TG||(TG=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.version=a.validate=a.v7=a.v6ToV1=a.v6=a.v5=a.v4=a.v3=a.v1ToV6=a.v1=a.stringify=a.parse=a.NIL=a.MAX=void 0;var t=K0e();Object.defineProperty(a,"MAX",{enumerable:!0,get:function(){return t.default}});var u=W0e();Object.defineProperty(a,"NIL",{enumerable:!0,get:function(){return u.default}});var n=bA();Object.defineProperty(a,"parse",{enumerable:!0,get:function(){return n.default}});var r=pa();Object.defineProperty(a,"stringify",{enumerable:!0,get:function(){return r.default}});var e=oG();Object.defineProperty(a,"v1",{enumerable:!0,get:function(){return e.default}});var i=cG();Object.defineProperty(a,"v1ToV6",{enumerable:!0,get:function(){return i.default}});var o=eye();Object.defineProperty(a,"v3",{enumerable:!0,get:function(){return o.default}});var c=rye();Object.defineProperty(a,"v4",{enumerable:!0,get:function(){return c.default}});var s=iye();Object.defineProperty(a,"v5",{enumerable:!0,get:function(){return s.default}});var l=aye();Object.defineProperty(a,"v6",{enumerable:!0,get:function(){return l.default}});var f=uye();Object.defineProperty(a,"v6ToV1",{enumerable:!0,get:function(){return f.default}});var d=oye();Object.defineProperty(a,"v7",{enumerable:!0,get:function(){return d.default}});var h=yA();Object.defineProperty(a,"validate",{enumerable:!0,get:function(){return h.default}});var p=sye();Object.defineProperty(a,"version",{enumerable:!0,get:function(){return p.default}})}(yN)),yN}var SG;function cye(){if(SG)return Yg;SG=1,Object.defineProperty(Yg,"__esModule",{value:!0}),Yg.TermFunctionStrUuid=void 0;const a=Re(),t=Ae(),u=wG();let n=class extends a.TermFunctionBase{constructor(){super({arity:0,operator:t.SparqlOperator.STRUUID,overloads:(0,t.declare)(t.SparqlOperator.STRUUID).set([],()=>()=>(0,t.string)(u.v4())).collect()})}};return Yg.TermFunctionStrUuid=n,Yg}var OG;function lye(){if(OG)return Wg;OG=1,Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.ActorFunctionFactoryTermStrUuid=void 0;const a=Re(),t=Ae(),u=cye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.STRUUID],termFunction:!0})}async run(e){return new u.TermFunctionStrUuid}};return Wg.ActorFunctionFactoryTermStrUuid=n,Wg}var AG;function dye(){return AG||(AG=1,function(a){var t=vc&&vc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=vc&&vc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(lye(),a)}(vc)),vc}var Tc={},Zg={},ev={},EG;function fye(){if(EG)return ev;EG=1,Object.defineProperty(ev,"__esModule",{value:!0}),ev.TermFunctionStr=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.STR,overloads:(0,t.declare)(t.SparqlOperator.STR).onTerm1(()=>r=>(0,t.string)(r.str())).collect()})}};return ev.TermFunctionStr=u,ev}var xG;function hye(){if(xG)return Zg;xG=1,Object.defineProperty(Zg,"__esModule",{value:!0}),Zg.ActorFunctionFactoryTermStr=void 0;const a=Re(),t=Ae(),u=fye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.STR],termFunction:!0})}async run(e){return new u.TermFunctionStr}};return Zg.ActorFunctionFactoryTermStr=n,Zg}var IG;function pye(){return IG||(IG=1,function(a){var t=Tc&&Tc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Tc&&Tc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(hye(),a)}(Tc)),Tc}var wc={},tv={},rv={},RG;function yye(){if(RG)return rv;RG=1,Object.defineProperty(rv,"__esModule",{value:!0}),rv.TermFunctionSubStr=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:[2,3],operator:t.SparqlOperator.SUBSTR,overloads:(0,t.declare)(t.SparqlOperator.SUBSTR).onBinaryTyped([t.TypeURL.XSD_STRING,t.TypeURL.XSD_INTEGER],()=>(r,e)=>(0,t.string)([...r].slice(e-1).join(""))).onBinary([t.TypeURL.RDF_LANG_STRING,t.TypeURL.XSD_INTEGER],()=>(r,e)=>{const i=[...r.typedValue].slice(e.typedValue-1).join("");return(0,t.langString)(i,r.language)}).onTernaryTyped([t.TypeURL.XSD_STRING,t.TypeURL.XSD_INTEGER,t.TypeURL.XSD_INTEGER],()=>(r,e,i)=>(0,t.string)([...r].slice(e-1,i+e-1).join(""))).onTernary([t.TypeURL.RDF_LANG_STRING,t.TypeURL.XSD_INTEGER,t.TypeURL.XSD_INTEGER],()=>(r,e,i)=>{const o=[...r.typedValue].slice(e.typedValue-1,i.typedValue+e.typedValue-1).join("");return(0,t.langString)(o,r.language)}).collect()})}};return rv.TermFunctionSubStr=u,rv}var NG;function bye(){if(NG)return tv;NG=1,Object.defineProperty(tv,"__esModule",{value:!0}),tv.ActorFunctionFactoryTermSubStr=void 0;const a=Re(),t=Ae(),u=yye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.SUBSTR],termFunction:!0})}async run(e){return new u.TermFunctionSubStr}};return tv.ActorFunctionFactoryTermSubStr=n,tv}var FG;function _ye(){return FG||(FG=1,function(a){var t=wc&&wc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=wc&&wc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(bye(),a)}(wc)),wc}var Sc={},nv={},iv={},DG;function mye(){if(DG)return iv;DG=1,Object.defineProperty(iv,"__esModule",{value:!0}),iv.TermFunctionSubject=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.SUBJECT,overloads:(0,t.declare)(t.SparqlOperator.SUBJECT).onQuad1(()=>r=>r.subject).collect()})}};return iv.TermFunctionSubject=u,iv}var PG;function gye(){if(PG)return nv;PG=1,Object.defineProperty(nv,"__esModule",{value:!0}),nv.ActorFunctionFactoryTermSubject=void 0;const a=Re(),t=Ae(),u=mye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.SUBJECT],termFunction:!0})}async run(e){return new u.TermFunctionSubject}};return nv.ActorFunctionFactoryTermSubject=n,nv}var LG;function vye(){return LG||(LG=1,function(a){var t=Sc&&Sc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Sc&&Sc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(gye(),a)}(Sc)),Sc}var Oc={},av={},uv={},jG;function Tye(){if(jG)return uv;jG=1,Object.defineProperty(uv,"__esModule",{value:!0}),uv.TermFunctionSubtraction=void 0;const a=Re(),t=ke(),u=Ae(),n=cA();let r=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:u.SparqlOperator.SUBTRACTION,overloads:(0,u.declare)(u.SparqlOperator.SUBTRACTION).arithmetic(()=>(i,o)=>new n.BigNumber(i).minus(o).toNumber()).set([u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],i=>([o,c])=>new u.DayTimeDurationLiteral((0,u.elapsedDuration)(o.typedValue,c.typedValue,i.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)))).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_DATE]}).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_TIME,u.TypeURL.XSD_TIME]}).set([u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DAY_TIME_DURATION],()=>([i,o])=>new u.DateTimeLiteral((0,u.addDurationToDateTime)(i.typedValue,(0,u.defaultedDurationRepresentation)((0,u.negateDuration)(o.typedValue))))).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DAY_TIME_DURATION],to:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([u.TypeURL.XSD_DATE,u.TypeURL.XSD_DAY_TIME_DURATION],()=>([i,o])=>new u.DateLiteral((0,u.addDurationToDateTime)((0,u.defaultedDateTimeRepresentation)(i.typedValue),(0,u.defaultedDurationRepresentation)((0,u.negateDuration)(o.typedValue))))).copy({from:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_DAY_TIME_DURATION],to:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([u.TypeURL.XSD_TIME,u.TypeURL.XSD_DAY_TIME_DURATION],()=>([i,o])=>new u.TimeLiteral((0,u.addDurationToDateTime)((0,u.defaultedDateTimeRepresentation)(i.typedValue),(0,u.defaultedDurationRepresentation)((0,u.negateDuration)(o.typedValue))))).collect()})}};return uv.TermFunctionSubtraction=r,uv}var MG;function wye(){if(MG)return av;MG=1,Object.defineProperty(av,"__esModule",{value:!0}),av.ActorFunctionFactoryTermSubtraction=void 0;const a=Re(),t=Ae(),u=Tye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.SUBTRACTION],termFunction:!0})}async run(e){return new u.TermFunctionSubtraction}};return av.ActorFunctionFactoryTermSubtraction=n,av}var qG;function Sye(){return qG||(qG=1,function(a){var t=Oc&&Oc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Oc&&Oc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(wye(),a)}(Oc)),Oc}var Ac={},ov={},sv={},CG;function Oye(){if(CG)return sv;CG=1,Object.defineProperty(sv,"__esModule",{value:!0}),sv.TermFunctionTimezone=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.TIMEZONE,overloads:(0,t.declare)(t.SparqlOperator.TIMEZONE).onDateTime1(()=>r=>{const e={hours:r.typedValue.zoneHours,minutes:r.typedValue.zoneMinutes};if(e.hours===void 0&&e.minutes===void 0)throw new t.InvalidTimezoneCall(r.str());return new t.DayTimeDurationLiteral(e)}).copy({from:[t.TypeURL.XSD_DATE_TIME],to:[t.TypeURL.XSD_DATE]}).copy({from:[t.TypeURL.XSD_DATE_TIME],to:[t.TypeURL.XSD_TIME]}).collect()})}};return sv.TermFunctionTimezone=u,sv}var BG;function Aye(){if(BG)return ov;BG=1,Object.defineProperty(ov,"__esModule",{value:!0}),ov.ActorFunctionFactoryTermTimezone=void 0;const a=Re(),t=Ae(),u=Oye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.TIMEZONE],termFunction:!0})}async run(e){return new u.TermFunctionTimezone}};return ov.ActorFunctionFactoryTermTimezone=n,ov}var $G;function Eye(){return $G||($G=1,function(a){var t=Ac&&Ac.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ac&&Ac.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Aye(),a)}(Ac)),Ac}var Ec={},cv={},lv={},VG;function xye(){if(VG)return lv;VG=1,Object.defineProperty(lv,"__esModule",{value:!0}),lv.TermFunctionTriple=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:3,operator:t.SparqlOperator.TRIPLE,overloads:(0,t.declare)(t.SparqlOperator.TRIPLE).onTerm3(r=>(...e)=>new t.Quad(e[0],e[1],e[2],new t.DefaultGraph)).collect()})}};return lv.TermFunctionTriple=u,lv}var UG;function Iye(){if(UG)return cv;UG=1,Object.defineProperty(cv,"__esModule",{value:!0}),cv.ActorFunctionFactoryTermTriple=void 0;const a=Re(),t=Ae(),u=xye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.TRIPLE],termFunction:!0})}async run(e){return new u.TermFunctionTriple}};return cv.ActorFunctionFactoryTermTriple=n,cv}var QG;function Rye(){return QG||(QG=1,function(a){var t=Ec&&Ec.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ec&&Ec.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Iye(),a)}(Ec)),Ec}var xc={},dv={},fv={},HG;function Nye(){if(HG)return fv;HG=1,Object.defineProperty(fv,"__esModule",{value:!0}),fv.TermFunctionTz=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.TZ,overloads:(0,t.declare)(t.SparqlOperator.TZ).onDateTime1(()=>r=>(0,t.string)((0,t.extractRawTimeZone)(r.str()))).copy({from:[t.TypeURL.XSD_DATE_TIME],to:[t.TypeURL.XSD_DATE]}).copy({from:[t.TypeURL.XSD_DATE_TIME],to:[t.TypeURL.XSD_TIME]}).collect()})}};return fv.TermFunctionTz=u,fv}var GG;function Fye(){if(GG)return dv;GG=1,Object.defineProperty(dv,"__esModule",{value:!0}),dv.ActorFunctionFactoryTermTz=void 0;const a=Re(),t=Ae(),u=Nye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.TZ],termFunction:!0})}async run(e){return new u.TermFunctionTz}};return dv.ActorFunctionFactoryTermTz=n,dv}var kG;function Dye(){return kG||(kG=1,function(a){var t=xc&&xc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=xc&&xc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Fye(),a)}(xc)),xc}var Ic={},hv={},pv={},zG;function Pye(){if(zG)return pv;zG=1,Object.defineProperty(pv,"__esModule",{value:!0}),pv.TermFunctionUcase=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.UCASE,overloads:(0,t.declare)(t.SparqlOperator.UCASE).onString1Typed(()=>r=>(0,t.string)(r.toUpperCase())).onLangString1(()=>r=>(0,t.langString)(r.typedValue.toUpperCase(),r.language)).collect()})}};return pv.TermFunctionUcase=u,pv}var XG;function Lye(){if(XG)return hv;XG=1,Object.defineProperty(hv,"__esModule",{value:!0}),hv.ActorFunctionFactoryTermUcase=void 0;const a=Re(),t=Ae(),u=Pye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.UCASE],termFunction:!0})}async run(e){return new u.TermFunctionUcase}};return hv.ActorFunctionFactoryTermUcase=n,hv}var JG;function jye(){return JG||(JG=1,function(a){var t=Ic&&Ic.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ic&&Ic.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Lye(),a)}(Ic)),Ic}var Rc={},yv={},bv={},KG;function Mye(){if(KG)return bv;KG=1,Object.defineProperty(bv,"__esModule",{value:!0}),bv.TermFunctionUnaryMinus=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.UMINUS,overloads:(0,t.declare)(t.SparqlOperator.UMINUS).numericConverter(()=>r=>-r).collect()})}};return bv.TermFunctionUnaryMinus=u,bv}var WG;function qye(){if(WG)return yv;WG=1,Object.defineProperty(yv,"__esModule",{value:!0}),yv.ActorFunctionFactoryTermUnaryMinus=void 0;const a=Re(),t=Ae(),u=Mye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.UMINUS],termFunction:!0})}async run(e){return new u.TermFunctionUnaryMinus}};return yv.ActorFunctionFactoryTermUnaryMinus=n,yv}var YG;function Cye(){return YG||(YG=1,function(a){var t=Rc&&Rc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Rc&&Rc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(qye(),a)}(Rc)),Rc}var Nc={},_v={},mv={},ZG;function Bye(){if(ZG)return mv;ZG=1,Object.defineProperty(mv,"__esModule",{value:!0}),mv.TermFunctionUnaryPlus=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.UPLUS,overloads:(0,t.declare)(t.SparqlOperator.UPLUS).numericConverter(()=>r=>r).collect()})}};return mv.TermFunctionUnaryPlus=u,mv}var ek;function $ye(){if(ek)return _v;ek=1,Object.defineProperty(_v,"__esModule",{value:!0}),_v.ActorFunctionFactoryTermUnaryPlus=void 0;const a=Re(),t=Ae(),u=Bye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.UPLUS],termFunction:!0})}async run(e){return new u.TermFunctionUnaryPlus}};return _v.ActorFunctionFactoryTermUnaryPlus=n,_v}var tk;function Vye(){return tk||(tk=1,function(a){var t=Nc&&Nc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Nc&&Nc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u($ye(),a)}(Nc)),Nc}var Fc={},gv={},vv={},rk;function Uye(){if(rk)return vv;rk=1,Object.defineProperty(vv,"__esModule",{value:!0}),vv.TermFunctionUuid=void 0;const a=Re(),t=Ae(),u=wG();let n=class extends a.TermFunctionBase{constructor(){super({arity:0,operator:t.SparqlOperator.UUID,overloads:(0,t.declare)(t.SparqlOperator.UUID).set([],()=>()=>new t.NamedNode(`urn:uuid:${u.v4()}`)).collect()})}};return vv.TermFunctionUuid=n,vv}var nk;function Qye(){if(nk)return gv;nk=1,Object.defineProperty(gv,"__esModule",{value:!0}),gv.ActorFunctionFactoryTermUuid=void 0;const a=Re(),t=Ae(),u=Uye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.UUID],termFunction:!0})}async run(e){return new u.TermFunctionUuid}};return gv.ActorFunctionFactoryTermUuid=n,gv}var ik;function Hye(){return ik||(ik=1,function(a){var t=Fc&&Fc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Fc&&Fc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Qye(),a)}(Fc)),Fc}var Dc={},Tv={},wv={},ak;function Gye(){if(ak)return wv;ak=1,Object.defineProperty(wv,"__esModule",{value:!0}),wv.TermFunctionXsdToBoolean=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_BOOLEAN,overloads:(0,t.declare)(t.TypeURL.XSD_BOOLEAN).onNumeric1(()=>r=>(0,t.bool)(r.coerceEBV()),!0).onUnary(t.TypeURL.XSD_BOOLEAN,()=>r=>(0,t.bool)(r.coerceEBV()),!0).onUnary(t.TypeURL.XSD_STRING,()=>r=>{switch(r.str()){case"true":return(0,t.bool)(!0);case"false":return(0,t.bool)(!1);case"1":return(0,t.bool)(!0);case"0":return(0,t.bool)(!1);default:throw new t.CastError(r,t.TypeURL.XSD_BOOLEAN)}},!1).collect()})}};return wv.TermFunctionXsdToBoolean=u,wv}var uk;function kye(){if(uk)return Tv;uk=1,Object.defineProperty(Tv,"__esModule",{value:!0}),Tv.ActorFunctionFactoryTermXsdToBoolean=void 0;const a=Re(),t=Ae(),u=Gye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_BOOLEAN],termFunction:!0})}async run(e){return new u.TermFunctionXsdToBoolean}};return Tv.ActorFunctionFactoryTermXsdToBoolean=n,Tv}var ok;function zye(){return ok||(ok=1,function(a){var t=Dc&&Dc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Dc&&Dc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(kye(),a)}(Dc)),Dc}var Pc={},Sv={},Ov={},sk;function Xye(){if(sk)return Ov;sk=1,Object.defineProperty(Ov,"__esModule",{value:!0}),Ov.TermFunctionXsdToDate=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_DATE,overloads:(0,t.declare)(t.TypeURL.XSD_DATE).onUnary(t.TypeURL.XSD_DATE,()=>r=>new t.DateLiteral(r.typedValue,r.strValue)).onUnary(t.TypeURL.XSD_DATE_TIME,()=>r=>new t.DateLiteral(r.typedValue)).onStringly1(()=>r=>new t.DateLiteral((0,t.parseDate)(r.str()))).collect()})}};return Ov.TermFunctionXsdToDate=u,Ov}var ck;function Jye(){if(ck)return Sv;ck=1,Object.defineProperty(Sv,"__esModule",{value:!0}),Sv.ActorFunctionFactoryTermXsdToDate=void 0;const a=Re(),t=Ae(),u=Xye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_DATE],termFunction:!0})}async run(e){return new u.TermFunctionXsdToDate}};return Sv.ActorFunctionFactoryTermXsdToDate=n,Sv}var lk;function Kye(){return lk||(lk=1,function(a){var t=Pc&&Pc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Pc&&Pc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Jye(),a)}(Pc)),Pc}var Lc={},Av={},Ev={},dk;function Wye(){if(dk)return Ev;dk=1,Object.defineProperty(Ev,"__esModule",{value:!0}),Ev.TermFunctionXsdToDatetime=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_DATE_TIME,overloads:(0,t.declare)(t.TypeURL.XSD_DATE_TIME).onUnary(t.TypeURL.XSD_DATE_TIME,()=>r=>r).onUnary(t.TypeURL.XSD_STRING,()=>r=>(0,t.dateTime)((0,t.parseDateTime)(r.str()),r.str()),!1).onUnary(t.TypeURL.XSD_DATE,()=>r=>new t.DateTimeLiteral({...r.typedValue,hours:0,minutes:0,seconds:0})).collect()})}};return Ev.TermFunctionXsdToDatetime=u,Ev}var fk;function Yye(){if(fk)return Av;fk=1,Object.defineProperty(Av,"__esModule",{value:!0}),Av.ActorFunctionFactoryTermXsdToDatetime=void 0;const a=Re(),t=Ae(),u=Wye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_DATE_TIME],termFunction:!0})}async run(e){return new u.TermFunctionXsdToDatetime}};return Av.ActorFunctionFactoryTermXsdToDatetime=n,Av}var hk;function Zye(){return hk||(hk=1,function(a){var t=Lc&&Lc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Lc&&Lc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Yye(),a)}(Lc)),Lc}var jc={},xv={},Iv={},pk;function e1e(){if(pk)return Iv;pk=1,Object.defineProperty(Iv,"__esModule",{value:!0}),Iv.TermFunctionXsdToDayTimeDuration=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_DAY_TIME_DURATION,overloads:(0,t.declare)(t.TypeURL.XSD_DAY_TIME_DURATION).onUnary(t.TypeURL.XSD_DURATION,()=>r=>new t.DayTimeDurationLiteral((0,t.trimToDayTimeDuration)(r.typedValue))).onStringly1(()=>r=>new t.DayTimeDurationLiteral((0,t.parseDayTimeDuration)(r.str()))).collect()})}};return Iv.TermFunctionXsdToDayTimeDuration=u,Iv}var yk;function t1e(){if(yk)return xv;yk=1,Object.defineProperty(xv,"__esModule",{value:!0}),xv.ActorFunctionFactoryTermXsdToDayTimeDuration=void 0;const a=Re(),t=Ae(),u=e1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_DAY_TIME_DURATION],termFunction:!0})}async run(e){return new u.TermFunctionXsdToDayTimeDuration}};return xv.ActorFunctionFactoryTermXsdToDayTimeDuration=n,xv}var bk;function r1e(){return bk||(bk=1,function(a){var t=jc&&jc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=jc&&jc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(t1e(),a)}(jc)),jc}var Mc={},Rv={},Nv={},_k;function n1e(){if(_k)return Nv;_k=1,Object.defineProperty(Nv,"__esModule",{value:!0}),Nv.TermFunctionXsdToDouble=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_DOUBLE,overloads:(0,t.declare)(t.TypeURL.XSD_DOUBLE).onNumeric1(()=>r=>(0,t.double)(r.typedValue)).onBoolean1Typed(()=>r=>(0,t.double)(r?1:0)).onUnary(t.TypeURL.XSD_STRING,()=>r=>{const e=(0,t.parseXSDFloat)(r.str());if(e===void 0)throw new t.CastError(r,t.TypeURL.XSD_DOUBLE);return(0,t.double)(e)},!1).collect()})}};return Nv.TermFunctionXsdToDouble=u,Nv}var mk;function i1e(){if(mk)return Rv;mk=1,Object.defineProperty(Rv,"__esModule",{value:!0}),Rv.ActorFunctionFactoryTermXsdToDouble=void 0;const a=Re(),t=Ae(),u=n1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_DOUBLE],termFunction:!0})}async run(e){return new u.TermFunctionXsdToDouble}};return Rv.ActorFunctionFactoryTermXsdToDouble=n,Rv}var gk;function a1e(){return gk||(gk=1,function(a){var t=Mc&&Mc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Mc&&Mc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(i1e(),a)}(Mc)),Mc}var qc={},Fv={},Dv={},vk;function u1e(){if(vk)return Dv;vk=1,Object.defineProperty(Dv,"__esModule",{value:!0}),Dv.TermFunctionXsdToDecimal=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_DECIMAL,overloads:(0,t.declare)(t.TypeURL.XSD_DECIMAL).onNumeric1(()=>r=>{const e=(0,t.parseXSDDecimal)(r.str());if(e===void 0)throw new t.CastError(r,t.TypeURL.XSD_DECIMAL);return(0,t.decimal)(e)}).onString1(()=>r=>{const e=r.str(),i=/^([+-])?(\d+(\.\d+)?)$/u.test(e)?(0,t.parseXSDDecimal)(e):void 0;if(i===void 0)throw new t.CastError(r,t.TypeURL.XSD_DECIMAL);return(0,t.decimal)(i)},!1).onBoolean1Typed(()=>r=>(0,t.decimal)(r?1:0)).collect()})}};return Dv.TermFunctionXsdToDecimal=u,Dv}var Tk;function o1e(){if(Tk)return Fv;Tk=1,Object.defineProperty(Fv,"__esModule",{value:!0}),Fv.ActorFunctionFactoryTermXsdToDecimal=void 0;const a=Re(),t=Ae(),u=u1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_DECIMAL],termFunction:!0})}async run(e){return new u.TermFunctionXsdToDecimal}};return Fv.ActorFunctionFactoryTermXsdToDecimal=n,Fv}var wk;function s1e(){return wk||(wk=1,function(a){var t=qc&&qc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=qc&&qc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(o1e(),a)}(qc)),qc}var Cc={},Pv={},Lv={},Sk;function c1e(){if(Sk)return Lv;Sk=1,Object.defineProperty(Lv,"__esModule",{value:!0}),Lv.TermFunctionXsdToDuration=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_DAY_TIME_DURATION,overloads:(0,t.declare)(t.TypeURL.XSD_DURATION).onUnary(t.TypeURL.XSD_DURATION,()=>r=>new t.DurationLiteral(r.typedValue,r.strValue)).onStringly1(()=>r=>new t.DurationLiteral((0,t.parseDuration)(r.str()))).collect()})}};return Lv.TermFunctionXsdToDuration=u,Lv}var Ok;function l1e(){if(Ok)return Pv;Ok=1,Object.defineProperty(Pv,"__esModule",{value:!0}),Pv.ActorFunctionFactoryTermXsdToDuration=void 0;const a=Re(),t=Ae(),u=c1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_DURATION],termFunction:!0})}async run(e){return new u.TermFunctionXsdToDuration}};return Pv.ActorFunctionFactoryTermXsdToDuration=n,Pv}var Ak;function d1e(){return Ak||(Ak=1,function(a){var t=Cc&&Cc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Cc&&Cc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(l1e(),a)}(Cc)),Cc}var Bc={},jv={},Mv={},Ek;function f1e(){if(Ek)return Mv;Ek=1,Object.defineProperty(Mv,"__esModule",{value:!0}),Mv.TermFunctionXsdToFloat=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_FLOAT,overloads:(0,t.declare)(t.TypeURL.XSD_FLOAT).onNumeric1(()=>r=>(0,t.float)(r.typedValue)).onBoolean1Typed(()=>r=>(0,t.float)(r?1:0)).onUnary(t.TypeURL.XSD_STRING,()=>r=>{const e=(0,t.parseXSDFloat)(r.str());if(e===void 0)throw new t.CastError(r,t.TypeURL.XSD_FLOAT);return(0,t.float)(e)},!1).collect()})}};return Mv.TermFunctionXsdToFloat=u,Mv}var xk;function h1e(){if(xk)return jv;xk=1,Object.defineProperty(jv,"__esModule",{value:!0}),jv.ActorFunctionFactoryTermXsdToFloat=void 0;const a=Re(),t=Ae(),u=f1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_FLOAT],termFunction:!0})}async run(e){return new u.TermFunctionXsdToFloat}};return jv.ActorFunctionFactoryTermXsdToFloat=n,jv}var Ik;function p1e(){return Ik||(Ik=1,function(a){var t=Bc&&Bc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Bc&&Bc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(h1e(),a)}(Bc)),Bc}var $c={},qv={},Cv={},Rk;function y1e(){if(Rk)return Cv;Rk=1,Object.defineProperty(Cv,"__esModule",{value:!0}),Cv.TermFunctionXsdToInteger=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_INTEGER,overloads:(0,t.declare)(t.TypeURL.XSD_INTEGER).onBoolean1Typed(()=>r=>(0,t.integer)(r?1:0)).onNumeric1(()=>r=>{if(!Number.isFinite(r.typedValue))throw new t.CastError(r,t.TypeURL.XSD_INTEGER);return(0,t.integer)(Math.trunc(r.typedValue))}).onString1(()=>r=>{const e=r.str(),i=/^\d+$/u.test(e)?Number.parseInt(e,10):void 0;if(i===void 0)throw new t.CastError(r,t.TypeURL.XSD_INTEGER);return(0,t.integer)(i)}).collect()})}};return Cv.TermFunctionXsdToInteger=u,Cv}var Nk;function b1e(){if(Nk)return qv;Nk=1,Object.defineProperty(qv,"__esModule",{value:!0}),qv.ActorFunctionFactoryTermXsdToInteger=void 0;const a=Re(),t=Ae(),u=y1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_INTEGER],termFunction:!0})}async run(e){return new u.TermFunctionXsdToInteger}};return qv.ActorFunctionFactoryTermXsdToInteger=n,qv}var Fk;function _1e(){return Fk||(Fk=1,function(a){var t=$c&&$c.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=$c&&$c.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(b1e(),a)}($c)),$c}var Vc={},Bv={},$v={},Dk;function m1e(){if(Dk)return $v;Dk=1,Object.defineProperty($v,"__esModule",{value:!0}),$v.TermFunctionXsdToTime=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_TIME,overloads:(0,t.declare)(t.TypeURL.XSD_TIME).onUnary(t.TypeURL.XSD_TIME,()=>r=>new t.TimeLiteral(r.typedValue,r.strValue)).onUnary(t.TypeURL.XSD_DATE_TIME,()=>r=>new t.TimeLiteral(r.typedValue)).onStringly1(()=>r=>new t.TimeLiteral((0,t.parseTime)(r.str()))).collect()})}};return $v.TermFunctionXsdToTime=u,$v}var Pk;function g1e(){if(Pk)return Bv;Pk=1,Object.defineProperty(Bv,"__esModule",{value:!0}),Bv.ActorFunctionFactoryTermXsdToTime=void 0;const a=Re(),t=Ae(),u=m1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_TIME],termFunction:!0})}async run(e){return new u.TermFunctionXsdToTime}};return Bv.ActorFunctionFactoryTermXsdToTime=n,Bv}var Lk;function v1e(){return Lk||(Lk=1,function(a){var t=Vc&&Vc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Vc&&Vc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(g1e(),a)}(Vc)),Vc}var Uc={},Vv={},Uv={},jk;function T1e(){if(jk)return Uv;jk=1,Object.defineProperty(Uv,"__esModule",{value:!0}),Uv.TermFunctionXsdToString=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_STRING,overloads:(0,t.declare)(t.TypeURL.XSD_STRING).onNumeric1(()=>r=>(0,t.string)((0,t.float)(r.typedValue).str())).onBoolean1Typed(()=>r=>(0,t.string)((0,t.bool)(r).str())).onTerm1(()=>r=>(0,t.string)(r.str())).collect()})}};return Uv.TermFunctionXsdToString=u,Uv}var Mk;function w1e(){if(Mk)return Vv;Mk=1,Object.defineProperty(Vv,"__esModule",{value:!0}),Vv.ActorFunctionFactoryTermXsdToString=void 0;const a=Re(),t=Ae(),u=T1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_STRING],termFunction:!0})}async run(e){return new u.TermFunctionXsdToString}};return Vv.ActorFunctionFactoryTermXsdToString=n,Vv}var qk;function S1e(){return qk||(qk=1,function(a){var t=Uc&&Uc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Uc&&Uc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(w1e(),a)}(Uc)),Uc}var Qc={},Qv={},Hv={},Ck;function O1e(){if(Ck)return Hv;Ck=1,Object.defineProperty(Hv,"__esModule",{value:!0}),Hv.TermFunctionXsdToYearMonthDuration=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_YEAR_MONTH_DURATION,overloads:(0,t.declare)(t.TypeURL.XSD_YEAR_MONTH_DURATION).onUnary(t.TypeURL.XSD_DURATION,()=>r=>new t.YearMonthDurationLiteral((0,t.trimToYearMonthDuration)(r.typedValue))).onStringly1(()=>r=>new t.YearMonthDurationLiteral((0,t.parseYearMonthDuration)(r.str()))).collect()})}};return Hv.TermFunctionXsdToYearMonthDuration=u,Hv}var Bk;function A1e(){if(Bk)return Qv;Bk=1,Object.defineProperty(Qv,"__esModule",{value:!0}),Qv.ActorFunctionFactoryTermXsdToYearMonthDuration=void 0;const a=Re(),t=Ae(),u=O1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_YEAR_MONTH_DURATION],termFunction:!0})}async run(e){return new u.TermFunctionXsdToYearMonthDuration}};return Qv.ActorFunctionFactoryTermXsdToYearMonthDuration=n,Qv}var $k;function E1e(){return $k||($k=1,function(a){var t=Qc&&Qc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Qc&&Qc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(A1e(),a)}(Qc)),Qc}var Hc={},Gv={},kv={},Vk;function x1e(){if(Vk)return kv;Vk=1,Object.defineProperty(kv,"__esModule",{value:!0}),kv.TermFunctionYear=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.YEAR,overloads:(0,t.declare)(t.SparqlOperator.YEAR).onDateTime1(()=>r=>(0,t.integer)(r.typedValue.year)).set([t.TypeURL.XSD_DATE],()=>([r])=>(0,t.integer)(r.typedValue.year)).collect()})}};return kv.TermFunctionYear=u,kv}var Uk;function I1e(){if(Uk)return Gv;Uk=1,Object.defineProperty(Gv,"__esModule",{value:!0}),Gv.ActorFunctionFactoryTermYear=void 0;const a=Re(),t=Ae(),u=x1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.YEAR],termFunction:!0})}async run(e){return new u.TermFunctionYear}};return Gv.ActorFunctionFactoryTermYear=n,Gv}var Qk;function R1e(){return Qk||(Qk=1,function(a){var t=Hc&&Hc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Hc&&Hc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(I1e(),a)}(Hc)),Hc}var Gc={},zv={},kc={},Xv={},gN={},zc={},Hk;function N1e(){if(Hk)return zc;Hk=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.readableFromWeb=zc.ReadableFromWeb=void 0;const a=Mt();let t=class extends a.Readable{constructor(r,e){super(e),this.reader=r.getReader(),this.readerClosed=!1,this.reader.closed.then(()=>{this.readerClosed=!0}).catch(i=>{this.readerClosed=!0,this.destroy(i)})}_read(){this.reader.read().then(r=>this.push(r.done?null:r.value)).catch(r=>this.destroy(r))}destroy(r){return this.readerClosed||this.reader.cancel(r).then().catch(()=>{}),super.destroy(r)}};zc.ReadableFromWeb=t;function u(n,r){return new t(n,r)}return zc.readableFromWeb=u,zc}var Gk;function kk(){return Gk||(Gk=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.readableFromWeb=void 0;var t=N1e();Object.defineProperty(a,"readableFromWeb",{enumerable:!0,get:function(){return t.readableFromWeb}})}(gN)),gN}var vN,zk;function Xk(){if(zk)return vN;zk=1;const a=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";return a.writable=t=>a(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",a.readable=t=>a(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",a.duplex=t=>a.writable(t)&&a.readable(t),a.transform=t=>a.duplex(t)&&typeof t._transform=="function",vN=a,vN}var TN={exports:{}},Jk;function F1e(){return Jk||(Jk=1,function(a){a.exports=t,a.exports.WEBSTREAM_SUPPORT=typeof ReadableStream<"u";function t(u){if(!a.exports.WEBSTREAM_SUPPORT)throw new Error("No web ReadableStream support");var n=!1,r={};function e(c){r.data=l,r.end=l,r.end=f,r.close=f,r.error=f;for(var s in r)u.on(s,r[s]);u.pause();function l(d){n||(c.enqueue(d),u.pause())}function f(d){if(!n){n=!0;for(var h in r)u.removeListener(h,r[h]);d?c.error(d):c.close()}}}function i(){n||u.resume()}function o(){n=!0;for(var c in r)u.removeListener(c,r[c]);u.push(null),u.pause(),u.destroy?u.destroy():u.close&&u.close()}return new ReadableStream({start:e,pull:i,cancel:o})}}(TN)),TN.exports}var Kk;function Wk(){if(Kk)return Xv;Kk=1,Object.defineProperty(Xv,"__esModule",{value:!0}),Xv.ActorHttp=void 0;const a=Te(),t=kk(),u=Xk(),n=F1e();let r=class uie extends a.Actor{constructor(i){super(i)}static toNodeReadable(i){return u(i)||i===null?i:(0,t.readableFromWeb)(i)}static toWebReadableStream(i){return n(i)}static headersToHash(i){const o={};return i.forEach((c,s)=>{o[s]=c}),o}static getInputUrl(i){return new URL(i instanceof Request?i.url:i)}static createUserAgent(i,o){if(!uie.isBrowser()){const c=[`Comunica/${o.split(".")[0]}.0`,`${i}/${o}`];return typeof globalThis.navigator=="object"&&typeof globalThis.navigator.userAgent=="string"?c.push(globalThis.navigator.userAgent):typeof globalThis.process=="object"&&typeof globalThis.process.versions=="object"&&typeof globalThis.process.versions.node=="string"&&c.push(`Node.js/${globalThis.process.versions.node.split(".")[0]}`),typeof globalThis.process=="object"&&typeof globalThis.process.platform=="string"&&typeof globalThis.process.arch=="string"&&c.splice(1,0,`(${globalThis.process.platform}; ${globalThis.process.arch})`),c.join(" ")}}static isBrowser(){return typeof globalThis.window=="object"&&typeof globalThis.window.document=="object"||typeof globalThis.importScripts=="function"}};return Xv.ActorHttp=r,Xv}var Jv={},Yk;function D1e(){if(Yk)return Jv;Yk=1,Object.defineProperty(Jv,"__esModule",{value:!0}),Jv.validateAndCloseHttpResponse=void 0;const a=_h(),t=Wk();async function u(n,r){var e;if(r.status>=400){let i="empty response";if(r.body){const o=t.ActorHttp.toNodeReadable(r.body);i=await(0,a.stringify)(o)}throw new Error(`Could not update ${n} (HTTP status ${r.status}):
${i}`)}await((e=r.body)==null?void 0:e.cancel())}return Jv.validateAndCloseHttpResponse=u,Jv}var Zk;function ya(){return Zk||(Zk=1,function(a){var t=kc&&kc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=kc&&kc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Wk(),a),u(D1e(),a)}(kc)),kc}var P1e={version:"4.1.0"},Kv={},ez;function L1e(){if(ez)return Kv;ez=1,Object.defineProperty(Kv,"__esModule",{value:!0}),Kv.FetchInitPreprocessor=void 0;class a{async handle(u){if(u.body&&typeof u.body!="string"&&"getReader"in u.body){const n=u.body.getReader(),r=[];for(;;){const{done:e,value:i}=await n.read();if(e)break;r.push(i)}u.body=r.join("")}return{...u,keepalive:!u.body}}}return Kv.FetchInitPreprocessor=a,Kv}var tz;function j1e(){if(tz)return zv;tz=1,Object.defineProperty(zv,"__esModule",{value:!0}),zv.ActorHttpFetch=void 0;const a=ya(),t=ke(),u=Te(),n=P1e,r=L1e();let e=class s6 extends a.ActorHttp{constructor(o){super(o),this.fetchInitPreprocessor=new r.FetchInitPreprocessor(o.agentOptions)}async test(o){return(0,u.passTest)({time:Number.POSITIVE_INFINITY})}async run(o){const c=this.prepareRequestHeaders(o),s={method:"GET",...o.init,headers:c};this.logInfo(o.context,`Requesting ${a.ActorHttp.getInputUrl(o.input).href}`,()=>({headers:a.ActorHttp.headersToHash(c),method:s.method})),o.context.has(t.KeysHttp.fetch)&&(s.headers=a.ActorHttp.headersToHash(c)),o.context.get(t.KeysHttp.includeCredentials)&&(s.credentials="include");const l=o.context.get(t.KeysHttp.httpTimeout),f=o.context.get(t.KeysHttp.httpBodyTimeout),d=o.context.get(t.KeysHttp.fetch)??fetch,h=await this.fetchInitPreprocessor.handle(s);let p,b;if(l){const y=new AbortController;h.signal=y.signal,p=()=>y.abort(new Error(`Fetch timed out for ${a.ActorHttp.getInputUrl(o.input).href} after ${l} ms`)),b=setTimeout(()=>p(),l)}const m=await d(o.input,h);return l&&(!f||!m.body)&&clearTimeout(b),m}prepareRequestHeaders(o){var l;const c=new Headers((l=o.init)==null?void 0:l.headers);a.ActorHttp.isBrowser()?c.delete("user-agent"):c.has("user-agent")||c.set("user-agent",s6.userAgent);const s=o.context.get(t.KeysHttp.auth);return s&&c.set("Authorization",`Basic ${s6.stringToBase64(s)}`),c}static stringToBase64(o){const c=new TextEncoder().encode(o),s=Array.from(c,l=>String.fromCodePoint(l)).join("");return btoa(s)}};return zv.ActorHttpFetch=e,e.userAgent=a.ActorHttp.createUserAgent("ActorHttpFetch",n.version),zv}var rz;function M1e(){return rz||(rz=1,function(a){var t=Gc&&Gc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Gc&&Gc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(j1e(),a)}(Gc)),Gc}var Xc={},Wv={},nz;function q1e(){if(nz)return Wv;nz=1,Object.defineProperty(Wv,"__esModule",{value:!0}),Wv.ActorQueryOperationSource=void 0;const a=Vt(),t=ke(),u=Te(),n=Or(),r=St(),e=bt();let i=class extends a.ActorQueryOperation{constructor(c){super(c)}async test(c){return(0,r.getOperationSource)(c.operation)?(0,u.passTest)({httpRequests:1}):(0,u.failTest)(`Actor ${this.name} requires an operation with source annotation.`)}async run(c){const s=c.context.get(t.KeysInitQuery.physicalQueryPlanLogger);s&&(s.logOperation(c.operation.type,void 0,c.operation,c.context.get(t.KeysInitQuery.physicalQueryPlanNode),this.name,{}),c.context=c.context.set(t.KeysInitQuery.physicalQueryPlanNode,c.operation));const l=(0,r.getOperationSource)(c.operation),f=l.context?c.context.merge(l.context):c.context;let d=!1;if(e.Util.recurseOperation(c.operation,{construct(){return d=!0,!1}}),d){const b=l.source.queryQuads(c.operation,f),m=(0,n.getMetadataQuads)(b);return{type:"quads",quadStream:b,metadata:m}}switch(c.operation.type){case e.Algebra.types.ASK:return{type:"boolean",execute:()=>l.source.queryBoolean(c.operation,f)};case e.Algebra.types.COMPOSITE_UPDATE:case e.Algebra.types.DELETE_INSERT:case e.Algebra.types.LOAD:case e.Algebra.types.CLEAR:case e.Algebra.types.CREATE:case e.Algebra.types.DROP:case e.Algebra.types.ADD:case e.Algebra.types.MOVE:case e.Algebra.types.COPY:return{type:"void",execute:()=>l.source.queryVoid(c.operation,f)}}const h=l.source.queryBindings(c.operation,f),p=(0,n.getMetadataBindings)(h);return{type:"bindings",bindingsStream:h,metadata:p}}};return Wv.ActorQueryOperationSource=i,Wv}var iz;function C1e(){return iz||(iz=1,function(a){var t=Xc&&Xc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Xc&&Xc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(q1e(),a)}(Xc)),Xc}var Jc={},Yv={},az;function B1e(){if(az)return Yv;az=1,Object.defineProperty(Yv,"__esModule",{value:!0}),Yv.MediatorJoinCoefficientsFixed=void 0;const a=ke(),t=Te();let u=class extends t.Mediator{constructor(r){super(r)}async mediateWith(r,e){var b;const i=[],o=e.map(({reply:m})=>m),c=(await Promise.all(o)).map(m=>{if(m.isFailed()){i.push(m.getFailMessage());return}return{value:m.get(),sideData:m.getSideData()}});let s=c.map(m=>{if(m)return m.value.iterations*this.cpuWeight+m.value.persistedItems*this.memoryWeight+m.value.blockingItems*this.timeWeight+m.value.requestTime*this.ioWeight});const l=Math.max(...s.filter(m=>m!==void 0)),f=r.context.get(a.KeysQueryOperation.limitIndicator);f&&(s=s.map((m,y)=>{var g,_;return m!==void 0&&((g=c[y])==null?void 0:g.value).blockingItems>0&&((_=c[y])==null?void 0:_.value).iterations>f?m+l:m}));let d=-1,h=Number.POSITIVE_INFINITY;for(const[m,y]of s.entries())y!==void 0&&(d===-1||y<h)&&(d=m,h=y);if(d<0)return(0,t.failTest)(this.constructFailureMessage(r,i));const p=e[d].actor;return p.includeInLogs&&((b=t.Actor.getContextLogger(r.context))==null||b.debug(`Determined physical join operator '${p.logicalType}-${p.physicalName}'`,{entries:r.entries.length,variables:await Promise.all(r.entries.map(async m=>(await m.output.metadata()).variables.map(y=>y.variable.value))),costs:Object.fromEntries(s.map((m,y)=>[`${e[y].actor.logicalType}-${e[y].actor.physicalName}`,m]).filter(m=>m[1]!==void 0)),coefficients:Object.fromEntries(c.map((m,y)=>[`${e[y].actor.logicalType}-${e[y].actor.physicalName}`,m==null?void 0:m.value]).filter(m=>m[1]!==void 0))})),(0,t.passTestWithSideData)(p,c[d].sideData)}};return Yv.MediatorJoinCoefficientsFixed=u,Yv}var uz;function $1e(){return uz||(uz=1,function(a){var t=Jc&&Jc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Jc&&Jc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(B1e(),a)}(Jc)),Jc}var Kc={},Zv={},oz;function sz(){if(oz)return Zv;oz=1,Object.defineProperty(Zv,"__esModule",{value:!0}),Zv.ActorHttpInvalidate=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}};return Zv.ActorHttpInvalidate=t,Zv}var e2={},cz;function V1e(){if(cz)return e2;cz=1,Object.defineProperty(e2,"__esModule",{value:!0}),e2.ActorHttpInvalidateListenable=void 0;const a=Te(),t=sz();let u=class extends t.ActorHttpInvalidate{constructor(r){super(r),this.invalidateListeners=[],this.invalidateListeners=[]}addInvalidateListener(r){this.invalidateListeners.push(r)}async test(r){return(0,a.passTestVoid)()}async run(r){for(const e of this.invalidateListeners)e(r);return{}}};return e2.ActorHttpInvalidateListenable=u,e2}var lz;function t2(){return lz||(lz=1,function(a){var t=Kc&&Kc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Kc&&Kc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(sz(),a),u(V1e(),a)}(Kc)),Kc}var Wc={},r2={},dz;function U1e(){if(dz)return r2;dz=1,Object.defineProperty(r2,"__esModule",{value:!0}),r2.MediatorAll=void 0;const a=Te();let t=class extends a.Mediator{constructor(n){super(n)}async mediate(n){const r=[];let e;try{e=this.publish(n)}catch{e=[]}for(const o of e){const c=await o.reply;c.isPassed()&&r.push({actor:o.actor,sideData:c.getSideData()})}return(await Promise.all(r.map(o=>o.actor.runObservable(n,o.sideData))))[0]}async mediateWith(){throw new Error("Unsupported operation: MediatorAll#mediateWith")}};return r2.MediatorAll=t,r2}var fz;function Q1e(){return fz||(fz=1,function(a){var t=Wc&&Wc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Wc&&Wc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(U1e(),a)}(Wc)),Wc}var Yc={},n2={},Zc={},i2={},el={},a2={},hz;function H1e(){if(hz)return a2;hz=1,Object.defineProperty(a2,"__esModule",{value:!0}),a2.ChunkedIterator=void 0;const a=gt();let t=class extends a.TransformIterator{constructor(n,r,e){super(n,e),this.chunk=[],this.blockSize=r}consumeChunkAsIterator(){const n=new a.ArrayIterator(this.chunk,{autoStart:!1});return this.chunk=[],n}_transform(n,r,e){this.chunk.push(n),this.chunk.length>=this.blockSize&&e(this.consumeChunkAsIterator()),r()}_flush(n){this.chunk.length>0&&this._push(this.consumeChunkAsIterator()),super._flush(n)}};return a2.ChunkedIterator=t,a2}var u2={},pz;function G1e(){if(pz)return u2;pz=1,Object.defineProperty(u2,"__esModule",{value:!0}),u2.ClosableIterator=void 0;const a=gt();let t=class extends a.AsyncIterator{constructor(i,o){super(),this.onClose=o.onClose,this._source=i,this._source[a.DESTINATION]=this,this._source.on("end",r),this._source.on("error",n),this._source.on("readable",u),this.readable=this._source.readable}read(){const i=this._source.read();return i||(this.readable=!1,this._source.done&&this.close()),i}_end(i){this.onClose(),this._source.removeListener("end",r),this._source.removeListener("error",n),this._source.removeListener("readable",u),delete this._source[a.DESTINATION],this._source.destroy(),super._end(i)}};u2.ClosableIterator=t;function u(){this[a.DESTINATION].readable=!0}function n(e){this[a.DESTINATION].emit("error",e)}function r(){this[a.DESTINATION].close()}return u2}var o2={},yz;function k1e(){if(yz)return o2;yz=1,Object.defineProperty(o2,"__esModule",{value:!0}),o2.ClosableTransformIterator=void 0;const a=gt();let t=class extends a.TransformIterator{constructor(n,r){super(n,r),this.onClose=r.onClose}_end(n){this.onClose(),super._end(n)}};return o2.ClosableTransformIterator=t,o2}var s2={},bz;function z1e(){if(bz)return s2;bz=1,Object.defineProperty(s2,"__esModule",{value:!0}),s2.instrumentIterator=void 0;function a(u){const n={count:0,timeSelf:0,timeLife:0};return t(u,n,!0),new Promise(r=>{u.on("end",()=>{r(n)})})}s2.instrumentIterator=a;function t(u,n,r){if(!("_profileInstrumented"in u)){if(u._profileInstrumented=!0,"_read"in u){const e=u._read;u._read=(i,o)=>{const c=performance.now();e.call(u,i,()=>{n.timeSelf+=performance.now()-c,o()})}}if("read"in u){const e=u.read;u.read=()=>{const i=performance.now(),o=e.call(u);return r&&o&&n.count++,n.timeSelf+=performance.now()-i,o}}if(r){const e=performance.now();u.on("end",()=>{n.timeLife=performance.now()-e})}"_source"in u&&t(u._source,n,!1)}}return s2}var _z;function ba(){return _z||(_z=1,function(a){var t=el&&el.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=el&&el.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(H1e(),a),u(G1e(),a),u(k1e(),a),u(z1e(),a)}(el)),el}var mz;function X1e(){if(mz)return i2;mz=1,Object.defineProperty(i2,"__esModule",{value:!0}),i2.ActorRdfJoin=void 0;const a=ke(),t=Te(),u=ba(),n=Or();let r=class Da extends t.Actor{constructor(i,o){super(i),this.includeInLogs=!0,this.logicalType=o.logicalType,this.physicalName=o.physicalName,this.limitEntries=o.limitEntries??Number.POSITIVE_INFINITY,this.limitEntriesMin=o.limitEntriesMin??!1,this.canHandleUndefs=o.canHandleUndefs??!1,this.isLeaf=o.isLeaf??!0,this.requiresVariableOverlap=o.requiresVariableOverlap??!1}static overlappingVariables(i){const o={};for(const c of i)for(const s of c.variables){o[s.variable.value]||(o[s.variable.value]={variable:s.variable,canBeUndef:s.canBeUndef,occurrences:0});const l=o[s.variable.value];l.canBeUndef=l.canBeUndef||s.canBeUndef,l.occurrences++}return Object.values(o).filter(c=>c.occurrences===i.length).map(c=>({variable:c.variable,canBeUndef:c.canBeUndef}))}static joinVariables(i,o,c=!1){const s={};let l=!0;for(const f of o){for(const d of f.variables)s[d.variable.value]=s[d.variable.value]||d.canBeUndef||!l&&c&&!(d.variable.value in s);l=!1}return Object.entries(s).map(([f,d])=>({variable:i.variable(f),canBeUndef:d}))}static joinBindings(...i){if(i.length===0)return null;if(i.length===1)return i[0];let o=i[0];for(const c of i.slice(1)){const s=o.merge(c);if(!s)return null;o=s}return o}static getCardinality(i){return i.cardinality}static async getMetadatas(i){return await Promise.all(i.map(o=>o.output.metadata()))}static async getEntriesWithMetadatas(i){const o=await Da.getMetadatas(i);return i.map((c,s)=>({...c,metadata:o[s]}))}static getRequestInitialTimes(i){return i.map(o=>o.pageSize?0:o.requestTime??0)}static getRequestItemTimes(i){return i.map(o=>o.pageSize?(o.requestTime??0)/o.pageSize:0)}constructState(i){const o=new n.MetadataValidationState,c=()=>o.invalidate();for(const s of i)s.state.addInvalidateListener(c);return o}async constructResultMetadata(i,o,c,s={},l=!1){let f;if(s.cardinality)f=s.cardinality;else{let d=!1;f=o.reduce((h,p)=>{const b=Da.getCardinality(p);return b.value===0&&(d=!0),{type:b.type==="estimate"?"estimate":h.type,value:h.value*(l?Math.max(1,b.value):b.value)}},{type:"exact",value:1}),(!d||l)&&(f.value*=(await this.mediatorJoinSelectivity.mediate({entries:i,context:c})).selectivity,f.value===0&&(f.value=Number.MIN_VALUE))}return{state:this.constructState(o),...s,cardinality:{type:f.type,value:f.value},variables:Da.joinVariables(c.getSafe(a.KeysInitQuery.dataFactory),o,l)}}static async sortJoinEntries(i,o,c){if(o.some(d=>d.metadata.variables.some(h=>h.canBeUndef)))return(0,t.passTest)(o);const l={};for(const d of o)for(const h of d.metadata.variables){let p=l[h.variable.value];p||(p=0),l[h.variable.value]=++p}const f=[];for(const[d,h]of Object.entries(l))h>=2&&f.push(d);return f.length===0?(0,t.failTest)("Bind join can only join entries with at least one common variable"):(0,t.passTest)((await i.mediate({entries:o,context:c})).entries)}async test(i){if(i.type!==this.logicalType)return(0,t.failTest)(`${this.name} can only handle logical joins of type '${this.logicalType}', while '${i.type}' was given.`);if(i.entries.length<=1)return(0,t.failTest)(`${this.name} requires at least two join entries.`);if(this.limitEntriesMin?i.entries.length<this.limitEntries:i.entries.length>this.limitEntries)return(0,t.failTest)(`${this.name} requires ${this.limitEntries} join entries at ${this.limitEntriesMin?"least":"most"}. The input contained ${i.entries.length}.`);for(const s of i.entries)if(s.output.type!=="bindings")return(0,t.failTest)(`Invalid type of a join entry: Expected 'bindings' but got '${s.output.type}'`);const o=await Da.getMetadatas(i.entries);let c;return!this.canHandleUndefs&&(c=Da.overlappingVariables(o),c.some(s=>s.canBeUndef))?(0,t.failTest)(`Actor ${this.name} can not join streams containing undefs`):this.requiresVariableOverlap&&(c??Da.overlappingVariables(o)).length===0?(0,t.failTest)(`Actor ${this.name} can only join entries with at least one common variable`):await this.getJoinCoefficients(i,{metadatas:o})}async run(i,o){let c;i.context.has(a.KeysInitQuery.physicalQueryPlanLogger)&&(c=i.context.get(a.KeysInitQuery.physicalQueryPlanNode),i.context=i.context.set(a.KeysInitQuery.physicalQueryPlanNode,i));const s=i.context.get(a.KeysInitQuery.physicalQueryPlanLogger);let l;this.includeInLogs&&s&&(l={},s.stashChildren(c,h=>h.logicalOperator.startsWith("join")),s.logOperation(`join-${this.logicalType}`,this.physicalName,i,c,this.name,l));const{result:f,physicalPlanMetadata:d}=await this.getOutput(i,o);if(l){(0,u.instrumentIterator)(f.bindingsStream).then(p=>{s.appendMetadata(i,{cardinalityReal:p.count,timeSelf:p.timeSelf,timeLife:p.timeLife})}),Object.assign(l,d);const h=o.metadatas.map(Da.getCardinality);if(l.cardinalities=h,l.joinCoefficients=(await this.getJoinCoefficients(i,o)).getOrThrow(),this.isLeaf)for(let p=0;p<i.entries.length;p++){const b=i.entries[p];s.unstashChild(b.operation,i),s.appendMetadata(b.operation,{cardinality:h[p]})}}return f.metadata=(0,n.cachifyMetadata)(f.metadata),f}};return i2.ActorRdfJoin=r,i2}var gz;function en(){return gz||(gz=1,function(a){var t=Zc&&Zc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Zc&&Zc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(X1e(),a)}(Zc)),Zc}var vz;function J1e(){if(vz)return n2;vz=1,Object.defineProperty(n2,"__esModule",{value:!0}),n2.ActorRdfJoinSingle=void 0;const a=en(),t=Te();let u=class extends a.ActorRdfJoin{constructor(r){super(r,{logicalType:"inner",physicalName:"single",limitEntries:1}),this.includeInLogs=!1}async test(r){return r.entries.length!==1?(0,t.failTest)(`Actor ${this.name} can only join a single entry`):await this.getJoinCoefficients(r,void 0)}async getOutput(r){return{result:r.entries[0].output}}async getJoinCoefficients(r,e){return(0,t.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},e)}};return n2.ActorRdfJoinSingle=u,n2}var Tz;function K1e(){return Tz||(Tz=1,function(a){var t=Yc&&Yc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Yc&&Yc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(J1e(),a)}(Yc)),Yc}var tl={},c2={},wz;function W1e(){if(wz)return c2;wz=1,Object.defineProperty(c2,"__esModule",{value:!0}),c2.ActorRdfJoinMultiEmpty=void 0;const a=en(),t=ke(),u=Te(),n=Or(),r=gt();let e=class extends a.ActorRdfJoin{constructor(o){super(o,{logicalType:"inner",physicalName:"multi-empty",canHandleUndefs:!0})}async test(o){return(await a.ActorRdfJoin.getMetadatas(o.entries)).every(c=>a.ActorRdfJoin.getCardinality(c).value>0)?(0,u.failTest)(`Actor ${this.name} can only join entries where at least one is empty`):super.test(o)}async getOutput(o){for(const s of o.entries)s.output.bindingsStream.close();const c=o.context.getSafe(t.KeysInitQuery.dataFactory);return{result:{bindingsStream:new r.ArrayIterator([],{autoStart:!1}),metadata:async()=>({state:new n.MetadataValidationState,cardinality:{type:"exact",value:0},variables:a.ActorRdfJoin.joinVariables(c,await a.ActorRdfJoin.getMetadatas(o.entries))}),type:"bindings"}}}async getJoinCoefficients(o,c){return(0,u.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},c)}};return c2.ActorRdfJoinMultiEmpty=e,c2}var Sz;function Y1e(){return Sz||(Sz=1,function(a){var t=tl&&tl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=tl&&tl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(W1e(),a)}(tl)),tl}var rl={},l2={},nl={},d2={},Oz;function Z1e(){if(Oz)return d2;Oz=1,Object.defineProperty(d2,"__esModule",{value:!0}),d2.BindingsIndexDef=void 0;let a=class{constructor(u,n){this.keys=u.map(r=>r.variable),this.hashFn=n,this.index={}}put(u,n){return this.index[this.hashFn(u,this.keys)]=n}get(u){const n=this.getFirst(u);return n?[n]:[]}getFirst(u){return this.index[this.hashFn(u,this.keys)]}values(){return Object.values(this.index)}};return d2.BindingsIndexDef=a,d2}var f2={},Az;function ebe(){if(Az)return f2;Az=1,Object.defineProperty(f2,"__esModule",{value:!0}),f2.BindingsIndexUndef=void 0;let a=class{constructor(u,n,r){this.data={},this.keys=u.map(e=>e.variable),this.hashFn=n,this.allowDisjointDomains=r&&this.keys.length>0}put(u,n){if(this.allowDisjointDomains||this.isBindingsValid(u)){let r=this.data;for(let e=0;e<this.keys.length;e++){const i=this.keys[e],o=this.hashFn(u.get(i));let c=r[o];c||(c=r[o]=e===this.keys.length-1?n:{}),r=c}}return n}isBindingsValid(u){let n=!1;for(const r of this.keys)if(u.has(r)){n=!0;break}return n}get(u){return this.allowDisjointDomains||this.isBindingsValid(u)?this.getRecursive(u,this.keys,[this.data]):[]}getRecursive(u,n,r){if(n.length===0)return r;let e;[e,...n]=n;const i=[];for(const o of r){const c=this.hashFn(u==null?void 0:u.get(e));if(c){const s=[o[c],o[""]].filter(Boolean);if(s.length===0)continue;i.push(this.getRecursive(u,n,s))}else{const s=Object.values(o);if(s.length===0)continue;i.push(this.getRecursive(u,n,s))}}return i.flat()}getFirst(u,n=!0){if(this.allowDisjointDomains||this.isBindingsValid(u))return this.getRecursiveFirst(u,this.keys,[this.data],n)}getRecursiveFirst(u,n,r,e){if(n.length===0)return r[0];let i;[i,...n]=n;for(const o of r){const c=this.hashFn(u.get(i));if(c||!e){const s=[o[c],o[""]].filter(Boolean);if(s.length===0)continue;const l=this.getRecursiveFirst(u,n,s,e);if(l)return l}else{const s=Object.values(o);if(s.length===0)continue;const l=this.getRecursiveFirst(u,n,s,e);if(l)return l}}}values(){return this.keys.length===0?[]:this.getRecursive(void 0,this.keys,[this.data])}};return f2.BindingsIndexUndef=a,f2}var wN={},Ez;function tbe(){return Ez||(Ez=1,Object.defineProperty(wN,"__esModule",{value:!0})),wN}var xz;function SN(){return xz||(xz=1,function(a){var t=nl&&nl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=nl&&nl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Z1e(),a),u(ebe(),a),u(tbe(),a)}(nl)),nl}var ON,Iz;function rbe(){if(Iz)return ON;Iz=1;let a=gt(),t=a.MultiTransformIterator,u=a.SimpleTransformIterator;class n extends t{constructor(e,i,o,c){super(e,c),this.funRight=i,this.funJoin=o}_createTransformer(e){return new u(this.funRight(e),{transform:(i,o,c)=>{let s=this.funJoin(e,i);s!==null&&c(s),o()}})}}return ON=n,ON}var AN,Rz;function nbe(){if(Rz)return AN;Rz=1;let a=gt().AsyncIterator;class t extends a{constructor(n,r,e,i){super(),this.addedDataListener=!1,this.left=n,this.right=r,this.funHash=e,this.funJoin=i,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.left.on("error",c=>this.destroy(c)),this.right.on("error",c=>this.destroy(c)),this.readable=!1,this.left.on("end",o.bind(this));function o(){this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}this.on("newListener",c=>{c==="data"&&this._addDataListenerIfNeeded()}),this.left.readable&&this._addDataListenerIfNeeded(),this.left.on("readable",()=>this._addDataListenerIfNeeded())}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(this._addDataListenerIfNeeded();;){if(this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let r=this.matches[this.matchIdx++],e=this.funJoin(r,this.match);if(e!==null)return e}if(this.hasResults()||this._end(),this.match=this.right.read(),this.match===null)return this.readable=!1,null;let n=this.funHash(this.match);this.matches=this.leftMap.get(n)||[],this.matchIdx=0}}_addDataListenerIfNeeded(){this.addedDataListener||(this.addedDataListener=!0,this._addDataListener())}_addDataListener(){this.left.on("data",n.bind(this));function n(r){let e=this.funHash(r),i=this.leftMap.get(e);i||(i=[],this.leftMap.set(e,i)),i.push(r)}}}return AN=t,AN}var EN,Nz;function ibe(){if(Nz)return EN;Nz=1;const{MultiTransformIterator:a,SimpleTransformIterator:t,scheduleTask:u}=gt();class n extends a{constructor(e,i,o,c){super(e,c),this.right=i,this.funJoin=o,this.on("end",()=>this.right.close())}_end(){super._end(),u(()=>this.right.destroy())}_createTransformer(e){return new t(this.right.clone(),{transform:(i,o,c)=>{let s=this.funJoin(e,i);s!==null&&c(s),o()}})}}return EN=n,EN}var xN,Fz;function abe(){if(Fz)return xN;Fz=1;let a=gt().AsyncIterator;class t extends a{constructor(n,r,e,i){super(),this.left=n,this.right=r,this.funHash=e,this.funJoin=i,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,(this.left.readable||this.right.readable)&&(this.readable=!0),this.left.on("error",o=>this.destroy(o)),this.right.on("error",o=>this.destroy(o)),this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended||!!this.matches&&this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(;;){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let e=this.matches[this.matchIdx++],i=this.usedLeft?this.funJoin(this.match,e):this.funJoin(e,this.match);if(i!==null)return i}this.hasResults()||this._end();let n=null;for(let e=0;e<2&&(n=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,n===null);++e);if(this.done||n===null)return this.readable=!1,null;let r=this.funHash(n);if(this.usedLeft&&this.right.done)this.leftMap=null;else if(this.left.done)this.rightMap=null;else{let e=this.usedLeft?this.leftMap:this.rightMap;e.has(r)||e.set(r,[]);let i=e.get(r);i||(i=[],e.set(r,i)),i.push(n)}this.match=n,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(r)||[],this.matchIdx=0}}}return xN=t,xN}var IN,Dz;function ube(){if(Dz)return IN;Dz=1;let a=gt().AsyncIterator;class t extends a{constructor(n){super(),Array.isArray(n)||(n=Array.prototype.slice.call(arguments)),this.streams=n;for(let r of n)r.on("readable",()=>this.emit("readable")),r.on("end",()=>this._removeStream(r));this.streams.length===0&&this.close(),this.idx=this.streams.length-1}_removeStream(n){let r=this.streams.indexOf(n);r<0||(this.streams.splice(r,1),this.idx>=this.streams.length&&--this.idx,this.streams.length===0&&this._end())}close(){super.close();for(let n of this.streams)n.close()}read(){for(let n=0;n<this.streams.length;++n){this.idx=(this.idx+1)%this.streams.length;let r=this.streams[this.idx].read();if(r!==null)return r}return null}}return IN=t,IN}var RN,Pz;function xA(){if(Pz)return RN;Pz=1;const a=rbe(),t=nbe(),u=ibe(),n=abe(),r=ube();return RN={DynamicNestedLoopJoin:a,HashJoin:t,NestedLoopJoin:u,SymmetricHashJoin:n,MergeStream:r},RN}var Lz;function obe(){if(Lz)return l2;Lz=1,Object.defineProperty(l2,"__esModule",{value:!0}),l2.ActorRdfJoinHash=void 0;const a=en(),t=Te(),u=SN(),n=ba(),r=gt(),e=xA(),i=Bt();let o=class extends a.ActorRdfJoin{constructor(s){super(s,{logicalType:"inner",physicalName:`hash-${s.canHandleUndefs?"undef":"def"}`,limitEntries:2,requiresVariableOverlap:!0,canHandleUndefs:s.canHandleUndefs})}async getOutput(s,l){const f=l.metadatas;let d;const h=a.ActorRdfJoin.overlappingVariables(f);if(this.canHandleUndefs){const p=l.entriesSorted[0].output,b=l.entriesSorted[1].output;d=new n.ClosableTransformIterator(async()=>{const m=new u.BindingsIndexUndef(h,y=>y&&y.termType!=="Variable"?(0,i.termToString)(y):"",!0);return await new Promise(y=>{p.bindingsStream.on("data",g=>{(m.getFirst(g,!1)??m.put(g,[])).push(g)}),p.bindingsStream.on("end",y),p.bindingsStream.on("error",g=>{d.emit("error",g)})}),new r.MultiTransformIterator(b.bindingsStream,{multiTransform:y=>new r.ArrayIterator(m.get(y).flat().map(g=>a.ActorRdfJoin.joinBindings(y,g)).filter(g=>g!==null),{autoStart:!1}),autoStart:!1})},{autoStart:!1,onClose(){p.bindingsStream.destroy(),b.bindingsStream.destroy()}})}else{const{hashFunction:p}=await this.mediatorHashBindings.mediate({context:s.context}),b=h.map(m=>m.variable);d=new e.HashJoin(l.entriesSorted[0].output.bindingsStream,l.entriesSorted[1].output.bindingsStream,m=>p(m,b),a.ActorRdfJoin.joinBindings)}return{result:{type:"bindings",bindingsStream:d,metadata:async()=>await this.constructResultMetadata(l.entriesSorted,f,s.context)}}}async getJoinCoefficients(s,l){let f=s.entries;l.metadatas[1].cardinality.value<l.metadatas[0].cardinality.value&&(l.metadatas=[l.metadatas[1],l.metadatas[0]],f=[s.entries[1],s.entries[0]]);const{metadatas:d}=l,h=a.ActorRdfJoin.getRequestInitialTimes(d),p=a.ActorRdfJoin.getRequestItemTimes(d);let b=d[0].cardinality.value+d[1].cardinality.value;return this.canHandleUndefs||(b*=.8),(0,t.passTestWithSideData)({iterations:b,persistedItems:d[0].cardinality.value,blockingItems:d[0].cardinality.value,requestTime:h[0]+d[0].cardinality.value*p[0]+h[1]+d[1].cardinality.value*p[1]},{...l,entriesSorted:f})}};return l2.ActorRdfJoinHash=o,l2}var jz;function Mz(){return jz||(jz=1,function(a){var t=rl&&rl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=rl&&rl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(obe(),a)}(rl)),rl}var il={},h2={},qz;function sbe(){if(qz)return h2;qz=1,Object.defineProperty(h2,"__esModule",{value:!0}),h2.ActorRdfJoinSymmetricHash=void 0;const a=en(),t=Te(),u=xA();let n=class extends a.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"symmetric-hash",limitEntries:2,requiresVariableOverlap:!0})}async getOutput(e){const i=await a.ActorRdfJoin.getMetadatas(e.entries),o=a.ActorRdfJoin.overlappingVariables(i),{hashFunction:c}=await this.mediatorHashBindings.mediate({context:e.context}),s=o.map(f=>f.variable);return{result:{type:"bindings",bindingsStream:new u.SymmetricHashJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,f=>c(f,s),a.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(e.entries,i,e.context)}}}async getJoinCoefficients(e,i){const{metadatas:o}=i,c=a.ActorRdfJoin.getRequestInitialTimes(o),s=a.ActorRdfJoin.getRequestItemTimes(o);return(0,t.passTestWithSideData)({iterations:o[0].cardinality.value+o[1].cardinality.value,persistedItems:o[0].cardinality.value+o[1].cardinality.value,blockingItems:0,requestTime:c[0]+o[0].cardinality.value*s[0]+c[1]+o[1].cardinality.value*s[1]},i)}};return h2.ActorRdfJoinSymmetricHash=n,h2}var Cz;function cbe(){return Cz||(Cz=1,function(a){var t=il&&il.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=il&&il.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(sbe(),a)}(il)),il}var al={},p2={},Bz;function lbe(){if(Bz)return p2;Bz=1,Object.defineProperty(p2,"__esModule",{value:!0}),p2.ActorRdfJoinNestedLoop=void 0;const a=en(),t=Te(),u=xA();let n=class extends a.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(e){return{result:{type:"bindings",bindingsStream:new u.NestedLoopJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,a.ActorRdfJoin.joinBindings,{autoStart:!1}),metadata:async()=>await this.constructResultMetadata(e.entries,await a.ActorRdfJoin.getMetadatas(e.entries),e.context)}}}async getJoinCoefficients(e,i){const{metadatas:o}=i,c=a.ActorRdfJoin.getRequestInitialTimes(o),s=a.ActorRdfJoin.getRequestItemTimes(o);return(0,t.passTestWithSideData)({iterations:o[0].cardinality.value*o[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:c[0]+o[0].cardinality.value*s[0]+c[1]+o[1].cardinality.value*s[1]},i)}};return p2.ActorRdfJoinNestedLoop=n,p2}var $z;function dbe(){return $z||($z=1,function(a){var t=al&&al.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=al&&al.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(lbe(),a)}(al)),al}var ul={},y2={},ol={},b2={},sl={},Vz;function Uz(){if(Vz)return sl;Vz=1,Object.defineProperty(sl,"__esModule",{value:!0}),sl.bindingsToCompactString=sl.bindingsToString=void 0;const a=Bt();function t(n){const r={};for(const e of n.keys())r[e.value]=(0,a.termToString)(n.get(e));return JSON.stringify(r,null,"  ")}sl.bindingsToString=t;function u(n,r){return r.map(e=>{const i=n.get(e);return i?(0,a.termToString)(i):""}).join("")}return sl.bindingsToCompactString=u,sl}var Qz;function Hz(){if(Qz)return b2;Qz=1,Object.defineProperty(b2,"__esModule",{value:!0}),b2.Bindings=void 0;const a=Te(),t=bx,u=Uz();let n=class kr{constructor(e,i,o){this.type="bindings",this.dataFactory=e,this.entries=i,this.contextHolder=o}has(e){return this.entries.has(typeof e=="string"?e:e.value)}get(e){return this.entries.get(typeof e=="string"?e:e.value)}set(e,i){return new kr(this.dataFactory,this.entries.set(typeof e=="string"?e:e.value,i),this.contextHolder)}delete(e){return new kr(this.dataFactory,this.entries.delete(typeof e=="string"?e:e.value),this.contextHolder)}keys(){return this.mapIterable(this.iteratorToIterable(this.entries.keys()),e=>this.dataFactory.variable(e))}values(){return this.iteratorToIterable(this.entries.values())}forEach(e){for(const[i,o]of this.entries.entries())e(o,this.dataFactory.variable(i))}get size(){return this.entries.size}[Symbol.iterator](){return this.mapIterable(this.iteratorToIterable(this.entries.entries()),([e,i])=>[this.dataFactory.variable(e),i])[Symbol.iterator]()}equals(e){var i;if(!e)return!1;if(this===e)return!0;if(this.size!==e.size)return!1;for(const o of this.keys())if(!((i=this.get(o))!=null&&i.equals(e.get(o))))return!1;return!0}filter(e){return new kr(this.dataFactory,(0,t.Map)(this.entries.filter((i,o)=>e(i,this.dataFactory.variable(o)))),this.contextHolder)}map(e){return new kr(this.dataFactory,(0,t.Map)(this.entries.map((i,o)=>e(i,this.dataFactory.variable(o)))),this.contextHolder)}merge(e){if(this.size<e.size&&e instanceof kr)return e.merge(this);let i=this.entries;if(e instanceof kr)for(const[o,c]of e.entries){const s=this.entries.get(o);if(s&&!s.equals(c))return;i=i.set(o,c)}else for(const[o,c]of e){const s=this.entries.get(o.value);if(s&&!s.equals(c))return;i=i.set(o.value,c)}return this.createBindingsWithContexts(i,e)}mergeWith(e,i){if(this.size<i.size&&i instanceof kr)return i.mergeWith(e,this);let o=this.entries;if(i instanceof kr)for(const[c,s]of i.entries){const l=this.entries.get(c);let f;l&&!l.equals(s)?f=e(l,s,this.dataFactory.variable(c)):f=s,o=o.set(c,f)}else for(const[c,s]of i){const l=this.entries.get(c.value);let f;l&&!l.equals(s)?f=e(l,s,c):f=s,o=o.set(c.value,f)}return this.createBindingsWithContexts(o,i)}createBindingsWithContexts(e,i){if(this.contextHolder&&this.contextHolder.context){let o=this.contextHolder.context;return"contextHolder"in i&&i.contextHolder&&i.contextHolder.context&&(o=kr.mergeContext(this.contextHolder.contextMergeHandlers,o,i.contextHolder.context)),new kr(this.dataFactory,e,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:o})}return new kr(this.dataFactory,e,i.contextHolder)}static mergeContext(e,i,o){const c=[...i.keys(),...o.keys()],s={},l={},f=new Set(o.keys().map(h=>h.name)),d=i.keys().filter(h=>f.has(h.name));for(const h of c){if(l[h.name]===1)continue;l[h.name]=1;const p=d.some(b=>b.name===h.name);if(e[h.name]&&p){s[h.name]=e[h.name].run(i.get(h),o.get(h));continue}if(!(!e[h.name]&&p)){if(!i.get(h)){s[h.name]=o.get(h);continue}o.get(h)||(s[h.name]=i.get(h))}}return new a.ActionContext(s)}setContextEntry(e,i){return this.setContextEntryRaw(e,i)}setContextEntryRaw(e,i){var o;return this.contextHolder&&this.contextHolder.context?new kr(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:this.contextHolder.context.set(e,i)}):new kr(this.dataFactory,this.entries,{contextMergeHandlers:((o=this.contextHolder)==null?void 0:o.contextMergeHandlers)??{},context:new a.ActionContext().set(e,i)})}deleteContextEntry(e){return this.deleteContextEntryRaw(e)}deleteContextEntryRaw(e){var i;return this.contextHolder?new kr(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:(i=this.contextHolder.context)==null?void 0:i.delete(e)}):new kr(this.dataFactory,this.entries)}getContext(){var e;return(e=this.contextHolder)==null?void 0:e.context}getContextEntry(e){var i;return(i=this.getContext())==null?void 0:i.get(e)}toString(){return(0,u.bindingsToString)(this)}*mapIterable(e,i){for(const o of e)yield i(o)}iteratorToIterable(e){return{[Symbol.iterator]:()=>e}}};return b2.Bindings=n,b2}var _2={},Gz;function fbe(){if(Gz)return _2;Gz=1,Object.defineProperty(_2,"__esModule",{value:!0}),_2.BindingsFactory=void 0;const a=bx,t=Hz();let u=class oie{constructor(r,e){this.dataFactory=r,this.contextMergeHandlers=e}static async create(r,e,i){return new oie(i,(await r.mediate({context:e})).mergeHandlers)}bindings(r=[]){return new t.Bindings(this.dataFactory,(0,a.Map)(r.map(([e,i])=>[e.value,i])),this.contextMergeHandlers?{contextMergeHandlers:this.contextMergeHandlers}:void 0)}fromBindings(r){return this.bindings([...r])}fromRecord(r){return this.bindings(Object.entries(r).map(([e,i])=>[this.dataFactory.variable(e),i]))}};return _2.BindingsFactory=u,_2}var kz;function kt(){return kz||(kz=1,function(a){var t=ol&&ol.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ol&&ol.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Hz(),a),u(fbe(),a),u(Uz(),a)}(ol)),ol}var zz;function hbe(){if(zz)return y2;zz=1,Object.defineProperty(y2,"__esModule",{value:!0}),y2.ActorRdfJoinMinusHash=void 0;const a=en(),t=Te(),u=kt(),n=SN(),r=ba(),e=Bt();let i=class sie extends a.ActorRdfJoin{constructor(c){super(c,{logicalType:"minus",physicalName:`hash-${c.canHandleUndefs?"undef":"def"}`,limitEntries:2,canHandleUndefs:c.canHandleUndefs})}static constructIndex(c,s){return c?new n.BindingsIndexUndef(s,l=>l&&l.termType!=="Variable"?(0,e.termToString)(l):"",!1):new n.BindingsIndexDef(s,u.bindingsToCompactString)}async getOutput(c){const s=c.entries[1].output,l=c.entries[0].output,f=await a.ActorRdfJoin.getMetadatas(c.entries),d=a.ActorRdfJoin.overlappingVariables(f);if(d.length===0)return s.bindingsStream.destroy(),{result:l};const h=new r.ClosableTransformIterator(async()=>{const p=sie.constructIndex(this.canHandleUndefs,d);return await new Promise(b=>{s.bindingsStream.on("data",m=>p.put(m,!0)),s.bindingsStream.on("end",b),s.bindingsStream.on("error",m=>h.emit("error",m))}),l.bindingsStream.filter(b=>!p.getFirst(b,!0))},{autoStart:!1,onClose(){s.bindingsStream.destroy(),l.bindingsStream.destroy()}});return{result:{type:"bindings",bindingsStream:h,metadata:l.metadata}}}async getJoinCoefficients(c,s){const{metadatas:l}=s,f=a.ActorRdfJoin.getRequestInitialTimes(l),d=a.ActorRdfJoin.getRequestItemTimes(l);let h=l[0].cardinality.value+l[1].cardinality.value;return this.canHandleUndefs||(h*=.8),(0,t.passTestWithSideData)({iterations:h,persistedItems:l[0].cardinality.value,blockingItems:l[0].cardinality.value,requestTime:f[0]+l[0].cardinality.value*d[0]+f[1]+l[1].cardinality.value*d[1]},s)}};return y2.ActorRdfJoinMinusHash=i,y2}var Xz;function Jz(){return Xz||(Xz=1,function(a){var t=ul&&ul.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ul&&ul.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(hbe(),a)}(ul)),ul}var cl={},m2={},Kz;function pbe(){if(Kz)return m2;Kz=1,Object.defineProperty(m2,"__esModule",{value:!0}),m2.ActorRdfJoinOptionalHash=void 0;const a=en(),t=Te(),u=kt(),n=SN(),r=ba(),e=gt(),i=Bt();let o=class c6 extends a.ActorRdfJoin{constructor(s){super(s,{logicalType:"optional",physicalName:`hash-${s.canHandleUndefs?"undef":"def"}-${s.blocking?"blocking":"nonblocking"}`,limitEntries:2,canHandleUndefs:s.canHandleUndefs,requiresVariableOverlap:!0})}static constructIndex(s,l){return s?new n.BindingsIndexUndef(l,f=>f&&f.termType!=="Variable"?(0,i.termToString)(f):"",!0):new n.BindingsIndexDef(l,u.bindingsToCompactString)}async getOutput(s){const l=s.entries[1].output,f=s.entries[0].output,d=await a.ActorRdfJoin.getMetadatas(s.entries),h=a.ActorRdfJoin.overlappingVariables(d);let p;return this.blocking?p=new r.ClosableTransformIterator(async()=>{const b=c6.constructIndex(this.canHandleUndefs,h);return await new Promise(m=>{l.bindingsStream.on("data",y=>{(b.getFirst(y,!0)??b.put(y,[])).push(y)}),l.bindingsStream.on("end",m),l.bindingsStream.on("error",y=>{p.emit("error",y)})}),new e.MultiTransformIterator(f.bindingsStream,{multiTransform:m=>new e.ArrayIterator(b.get(m).flat().map(y=>a.ActorRdfJoin.joinBindings(m,y)).filter(y=>y!==null),{autoStart:!1}),optional:!0,autoStart:!1})},{autoStart:!1,onClose(){l.bindingsStream.destroy(),f.bindingsStream.destroy()}}):p=new r.ClosableTransformIterator(async()=>{const b=c6.constructIndex(this.canHandleUndefs,h);let m=!0;return l.bindingsStream.on("data",y=>{(b.getFirst(y,!0)??b.put(y,new e.BufferedIterator({autoStart:!1})))._push(y)}),l.bindingsStream.on("end",()=>{for(const y of b.values())y.close();m=!1}),l.bindingsStream.on("error",y=>{p.emit("error",y)}),new e.MultiTransformIterator(f.bindingsStream,{multiTransform:y=>{let g=b.get(y);return g.length===0&&(m?g=[b.put(y,new e.BufferedIterator({autoStart:!1}))]:g=[]),new e.UnionIterator(g.map(v=>v.clone()),{autoStart:!1}).map(v=>a.ActorRdfJoin.joinBindings(y,v))},optional:!0,autoStart:!1})},{autoStart:!1,onClose(){l.bindingsStream.destroy(),f.bindingsStream.destroy()}}),{result:{type:"bindings",bindingsStream:p,metadata:async()=>await this.constructResultMetadata(s.entries,d,s.context,{},!0)}}}async getJoinCoefficients(s,l){const{metadatas:f}=l,d=a.ActorRdfJoin.getRequestInitialTimes(f),h=a.ActorRdfJoin.getRequestItemTimes(f);let p=f[0].cardinality.value+f[1].cardinality.value;return this.canHandleUndefs||(p*=.8),this.blocking&&(p*=.9),(0,t.passTestWithSideData)({iterations:p,persistedItems:f[0].cardinality.value,blockingItems:this.blocking?f[0].cardinality.value:0,requestTime:d[0]+f[0].cardinality.value*h[0]+d[1]+f[1].cardinality.value*h[1]},l)}};return m2.ActorRdfJoinOptionalHash=o,m2}var Wz;function IA(){return Wz||(Wz=1,function(a){var t=cl&&cl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=cl&&cl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(pbe(),a)}(cl)),cl}var ll={},g2={},Yz;function ybe(){if(Yz)return g2;Yz=1,Object.defineProperty(g2,"__esModule",{value:!0}),g2.ActorRdfJoinOptionalNestedLoop=void 0;const a=en(),t=Te(),u=xA();let n=class extends a.ActorRdfJoin{constructor(e){super(e,{logicalType:"optional",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(e){return{result:{type:"bindings",bindingsStream:new u.NestedLoopJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,a.ActorRdfJoin.joinBindings,{optional:!0,autoStart:!1}),metadata:async()=>await this.constructResultMetadata(e.entries,await a.ActorRdfJoin.getMetadatas(e.entries),e.context,{},!0)}}}async getJoinCoefficients(e,i){const{metadatas:o}=i,c=a.ActorRdfJoin.getRequestInitialTimes(o),s=a.ActorRdfJoin.getRequestItemTimes(o);return(0,t.passTestWithSideData)({iterations:o[0].cardinality.value*o[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:c[0]+o[0].cardinality.value*s[0]+c[1]+o[1].cardinality.value*s[1]},i)}};return g2.ActorRdfJoinOptionalNestedLoop=n,g2}var Zz;function bbe(){return Zz||(Zz=1,function(a){var t=ll&&ll.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ll&&ll.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(ybe(),a)}(ll)),ll}var dl={},v2={},fl={},T2={},eX;function _be(){if(eX)return T2;eX=1,Object.defineProperty(T2,"__esModule",{value:!0}),T2.ActorDereferenceRdf=void 0;const a=gR();let t=class extends a.ActorDereferenceParse{constructor(n){super(n)}};return T2.ActorDereferenceRdf=t,T2}var tX;function mbe(){return tX||(tX=1,function(a){var t=fl&&fl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=fl&&fl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(_be(),a)}(fl)),fl}var rX;function gbe(){if(rX)return v2;rX=1,Object.defineProperty(v2,"__esModule",{value:!0}),v2.ActorDereferenceRdfParse=void 0;const a=mbe();let t=class extends a.ActorDereferenceRdf{constructor(n){super(n)}async getMetadata(n){return{baseIRI:n.url}}};return v2.ActorDereferenceRdfParse=t,v2}var nX;function vbe(){return nX||(nX=1,function(a){var t=dl&&dl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=dl&&dl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(gbe(),a)}(dl)),dl}var hl={},w2={},S2={},iX;function Tbe(){if(iX)return S2;iX=1,Object.defineProperty(S2,"__esModule",{value:!0}),S2.HtmlScriptListener=void 0;const a=ke(),t=Mt(),u=mr();let n=class HS{constructor(e,i,o,c,s,l,f,d){this.textChunksJsonLd=[],this.endBarrier=1,this.passedScripts=0,this.isFinalJsonLdProcessing=!1,this.mediatorRdfParseHandle=e,this.cbQuad=i,this.cbError=o,this.cbEnd=c,this.supportedTypes=s,this.context=l.set(a.KeysRdfParseHtmlScript.processingHtmlScript,!0),this.baseIRI=f,this.headers=d,this.onlyFirstScript=l.get(a.KeysRdfParseHtmlScript.extractAllScripts)===!1;const h=this.baseIRI.indexOf("#");this.targetScriptId=h>0?this.baseIRI.slice(h+1,this.baseIRI.length):null}static newErrorCoded(e,i){const o=new Error(e);return o.code=i,o}onEnd(){--this.endBarrier===0&&(this.textChunksJsonLd.length>0?(this.handleMediaType="application/ld+json",this.textChunks=this.textChunksJsonLd,this.textChunks.push("]"),this.textChunksJsonLd=[],this.isFinalJsonLdProcessing=!0,this.endBarrier++,this.onTagClose()):(this.passedScripts===0&&this.targetScriptId&&this.cbError(HS.newErrorCoded(`Failed to find targeted script id "${this.targetScriptId}"`,"loading document failed")),this.cbEnd()),this.isFinalJsonLdProcessing=!1)}onTagClose(){if(this.handleMediaType)if(this.requiresCustomJsonLdHandling(this.handleMediaType)&&!this.isFinalJsonLdProcessing)this.handleMediaType=void 0,this.textChunks=void 0,this.onEnd();else{const e=new t.Readable({objectMode:!0});e._read=()=>{};const i=this.textChunks,o={context:this.context,handle:{metadata:{baseIRI:this.baseIRI},data:e,headers:this.headers,context:this.context},handleMediaType:this.handleMediaType};this.mediatorRdfParseHandle.mediate(o).then(({handle:c})=>{c.data.on("error",s=>this.cbError(HS.newErrorCoded(s.message,"invalid script element"))).on("data",this.cbQuad).on("end",()=>this.onEnd());for(const s of i)e.push(s);e.push(null)}).catch(c=>{this.targetScriptId?this.cbError(HS.newErrorCoded(c.message,"loading document failed")):this.onEnd()}),this.handleMediaType=void 0,this.textChunks=void 0}}onTagOpen(e,i){e==="base"&&i.href&&(this.baseIRI=(0,u.resolve)(i.href,this.baseIRI)),e==="script"&&(!this.targetScriptId||i.id===this.targetScriptId)?this.supportedTypes[i.type]?this.onlyFirstScript&&this.passedScripts>0?this.handleMediaType=void 0:(this.passedScripts++,this.handleMediaType=i.type,this.endBarrier++,this.requiresCustomJsonLdHandling(this.handleMediaType)?(this.textChunks=this.textChunksJsonLd,this.textChunks.push(this.textChunks.length===0?"[":",")):this.textChunks=[]):this.targetScriptId&&this.cbError(HS.newErrorCoded(`Targeted script "${this.targetScriptId}" does not have a supported type`,"loading document failed")):this.handleMediaType=void 0}onText(e){this.handleMediaType&&this.textChunks.push(e)}requiresCustomJsonLdHandling(e){return!this.onlyFirstScript&&!this.targetScriptId&&e==="application/ld+json"}};return S2.HtmlScriptListener=n,S2}var aX;function wbe(){if(aX)return w2;aX=1,Object.defineProperty(w2,"__esModule",{value:!0}),w2.ActorRdfParseHtmlScript=void 0;const a=KR(),t=Te(),u=Tbe();let n=class extends a.ActorRdfParseHtml{constructor(e){super(e)}async test(e){return(0,t.passTestVoid)()}async run(e){const i=(await this.mediatorRdfParseMediatypes.mediate({context:e.context,mediaTypes:!0})).mediaTypes;return{htmlParseListener:new u.HtmlScriptListener(this.mediatorRdfParseHandle,e.emit,e.error,e.end,i,e.context,e.baseIRI,e.headers)}}};return w2.ActorRdfParseHtmlScript=n,w2}var uX;function Sbe(){return uX||(uX=1,function(a){var t=hl&&hl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=hl&&hl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(wbe(),a)}(hl)),hl}var pl={},O2={},oX;function Obe(){if(oX)return O2;oX=1,Object.defineProperty(O2,"__esModule",{value:!0}),O2.ActorQueryResultSerializeRdf=void 0;const a=hi(),t=Te();let u=class extends a.ActorQueryResultSerialize{constructor(r){super(r)}async testHandle(r,e,i){if(r.type!=="quads")return(0,t.failTest)(`Actor ${this.name} can only handle quad streams`);const{mediaTypes:o}=await this.mediatorMediaTypeCombiner.mediate({context:i,mediaTypes:!0});return e in o?(0,t.passTestVoid)():(0,t.failTest)(`Actor ${this.name} can not handle media type ${e}. All available types: ${Object.keys(o)}`)}async runHandle(r,e,i){return(await this.mediatorRdfSerialize.mediate({context:i,handle:{context:i,quadStream:r.quadStream},handleMediaType:e})).handle}async testMediaType(r){return(0,t.passTestVoid)()}async getMediaTypes(r){return(await this.mediatorMediaTypeCombiner.mediate({context:r,mediaTypes:!0})).mediaTypes}async testMediaTypeFormats(r){return(0,t.passTestVoid)()}async getMediaTypeFormats(r){return(await this.mediatorMediaTypeFormatCombiner.mediate({context:r,mediaTypeFormats:!0})).mediaTypeFormats}};return O2.ActorQueryResultSerializeRdf=u,O2}var sX;function Abe(){return sX||(sX=1,function(a){var t=pl&&pl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=pl&&pl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Obe(),a)}(pl)),pl}var yl={},A2={},bl={},E2={},cX;function Ebe(){if(cX)return E2;cX=1,Object.defineProperty(E2,"__esModule",{value:!0}),E2.ActorBindingsAggregatorFactory=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n),this.mediatorExpressionEvaluatorFactory=n.mediatorExpressionEvaluatorFactory}};return E2.ActorBindingsAggregatorFactory=t,E2}var x2={},lX;function xbe(){if(lX)return x2;lX=1,Object.defineProperty(x2,"__esModule",{value:!0}),x2.AggregateEvaluator=void 0;const a=ke(),t=Ae(),u=Bt();let n=class{constructor(e,i,o=!1){this.evaluator=e,this.distinct=i,this.throwError=o,this.errorOccurred=!1,this.errorOccurred=!1,this.superTypeProvider=e.context.getSafe(a.KeysExpressionEvaluator.superTypeProvider),this.termTransformer=new t.TermTransformer(this.superTypeProvider),this.variableValues=new Set}emptyValueTerm(){}emptyValue(){const e=this.emptyValueTerm();if(e===void 0&&this.throwError)throw new t.EmptyAggregateError;return e}async putBindings(e){if(!this.errorOccurred)try{const i=await this.evaluator.evaluate(e);if(!i||this.errorOccurred)return;(!this.distinct||!this.variableValues.has(u.termToString(i)))&&(this.putTerm(i),this.distinct&&this.variableValues.add(u.termToString(i)))}catch(i){this.safeThrow(i)}}async result(){if(!this.errorOccurred)return this.termResult()}safeThrow(e){if(this.throwError)throw e;this.errorOccurred=!0}termToNumericOrError(e){if(e.termType!=="Literal")throw new Error(`Term with value ${e.value} has type ${e.termType} and is not a numeric literal`);if(!t.isSubTypeOf(e.datatype.value,t.TypeAlias.SPARQL_NUMERIC,this.superTypeProvider))throw new Error(`Term datatype ${e.datatype.value} with value ${e.value} has type ${e.termType} and is not a numeric literal`);return this.termTransformer.transformLiteral(e)}};return x2.AggregateEvaluator=n,x2}var dX;function Vr(){return dX||(dX=1,function(a){var t=bl&&bl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=bl&&bl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Ebe(),a),u(xbe(),a)}(bl)),bl}var I2={},fX;function hX(){if(fX)return I2;fX=1,Object.defineProperty(I2,"__esModule",{value:!0}),I2.CountAggregator=void 0;const a=Vr(),t=Ae();let u=class extends a.AggregateEvaluator{constructor(r,e,i){super(r,e,i),this.state=void 0}emptyValueTerm(){return(0,t.typedLiteral)("0",t.TypeURL.XSD_INTEGER)}putTerm(r){this.state===void 0&&(this.state=0),this.state++}termResult(){return this.state===void 0?this.emptyValue():(0,t.typedLiteral)(String(this.state),t.TypeURL.XSD_INTEGER)}};return I2.CountAggregator=u,I2}var pX;function Ibe(){if(pX)return A2;pX=1,Object.defineProperty(A2,"__esModule",{value:!0}),A2.ActorBindingsAggregatorFactoryCount=void 0;const a=Vr(),t=Te(),u=bt(),n=hX();let r=class extends a.ActorBindingsAggregatorFactory{constructor(i){super(i)}async test(i){return i.expr.aggregator!=="count"||i.expr.expression.expressionType===u.Algebra.expressionTypes.WILDCARD?(0,t.failTest)("This actor only supports the 'count' aggregator without wildcard."):(0,t.passTestVoid)()}async run({context:i,expr:o}){return new n.CountAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:o.expression,context:i}),o.distinct)}};return A2.ActorBindingsAggregatorFactoryCount=r,A2}var yX;function Rbe(){return yX||(yX=1,function(a){var t=yl&&yl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=yl&&yl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Ibe(),a),u(hX(),a)}(yl)),yl}var _l={},R2={},N2={},bX;function _X(){if(bX)return N2;bX=1,Object.defineProperty(N2,"__esModule",{value:!0}),N2.GroupConcatAggregator=void 0;const a=Vr(),t=Ae();let u=class extends a.AggregateEvaluator{constructor(r,e,i,o,c){super(r,e,c),this.dataFactory=i,this.state=void 0,this.lastLanguageValid=!0,this.lastLanguage=void 0,this.separator=o??" "}emptyValueTerm(){return t.typedLiteral("",t.TypeURL.XSD_STRING)}putTerm(r){this.state===void 0?(this.state=r.value,r.termType==="Literal"&&(this.lastLanguage=r.language)):(this.state+=this.separator+r.value,this.lastLanguageValid&&r.termType==="Literal"&&this.lastLanguage!==r.language&&(this.lastLanguageValid=!1,this.lastLanguage=void 0))}termResult(){return this.state===void 0?this.emptyValue():this.lastLanguageValid&&this.lastLanguage?t.langString(this.state,this.lastLanguage).toRDF(this.dataFactory):t.typedLiteral(this.state,t.TypeURL.XSD_STRING)}};return N2.GroupConcatAggregator=u,N2}var mX;function Nbe(){if(mX)return R2;mX=1,Object.defineProperty(R2,"__esModule",{value:!0}),R2.ActorBindingsAggregatorFactoryGroupConcat=void 0;const a=Vr(),t=ke(),u=Te(),n=_X();let r=class extends a.ActorBindingsAggregatorFactory{constructor(i){super(i)}async test(i){return i.expr.aggregator!=="group_concat"?(0,u.failTest)("This actor only supports the 'group_concat' aggregator."):(0,u.passTestVoid)()}async run({context:i,expr:o}){return new n.GroupConcatAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:o.expression,context:i}),o.distinct,i.getSafe(t.KeysInitQuery.dataFactory),o.separator)}};return R2.ActorBindingsAggregatorFactoryGroupConcat=r,R2}var gX;function Fbe(){return gX||(gX=1,function(a){var t=_l&&_l.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=_l&&_l.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Nbe(),a),u(_X(),a)}(_l)),_l}var ml={},F2={},D2={},vX;function TX(){if(vX)return D2;vX=1,Object.defineProperty(D2,"__esModule",{value:!0}),D2.SampleAggregator=void 0;const a=Vr();let t=class extends a.AggregateEvaluator{constructor(n,r,e){super(n,r,e),this.state=void 0}putTerm(n){this.state===void 0&&(this.state=n)}termResult(){return this.state===void 0?this.emptyValue():this.state}};return D2.SampleAggregator=t,D2}var wX;function Dbe(){if(wX)return F2;wX=1,Object.defineProperty(F2,"__esModule",{value:!0}),F2.ActorBindingsAggregatorFactorySample=void 0;const a=Vr(),t=Te(),u=TX();let n=class extends a.ActorBindingsAggregatorFactory{constructor(e){super(e)}async test(e){return e.expr.aggregator!=="sample"?(0,t.failTest)("This actor only supports the 'sample' aggregator."):(0,t.passTestVoid)()}async run({context:e,expr:i}){return new u.SampleAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:i.expression,context:e}),i.distinct)}};return F2.ActorBindingsAggregatorFactorySample=n,F2}var SX;function Pbe(){return SX||(SX=1,function(a){var t=ml&&ml.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ml&&ml.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Dbe(),a),u(TX(),a)}(ml)),ml}var gl={},P2={},L2={},OX;function AX(){if(OX)return L2;OX=1,Object.defineProperty(L2,"__esModule",{value:!0}),L2.WildcardCountAggregator=void 0;const a=Vr(),t=Ae(),u=Bt();let n=class extends a.AggregateEvaluator{constructor(e,i,o){super(e,i,o),this.bindingValues=new Map,this.state=void 0}putTerm(e){}async putBindings(e){this.handleDistinct(e)||(this.state===void 0&&(this.state=0),this.state+=1)}emptyValueTerm(){return(0,t.typedLiteral)("0",t.TypeURL.XSD_INTEGER)}termResult(){return this.state===void 0?this.emptyValue():(0,t.typedLiteral)(String(this.state),t.TypeURL.XSD_INTEGER)}handleDistinct(e){if(this.distinct){const i=[...e];i.sort((f,d)=>f[0].value.localeCompare(d[0].value));const o=i.map(([f])=>f.value).join(","),c=i.map(([,f])=>u.termToString(f)).join(","),s=this.bindingValues.get(o),l=s!==void 0&&s.has(c);return s||this.bindingValues.set(o,new Set),this.bindingValues.get(o).add(c),l}return!1}};return L2.WildcardCountAggregator=n,L2}var EX;function Lbe(){if(EX)return P2;EX=1,Object.defineProperty(P2,"__esModule",{value:!0}),P2.ActorBindingsAggregatorFactoryWildcardCount=void 0;const a=Vr(),t=Te(),u=AX();let n=class extends a.ActorBindingsAggregatorFactory{constructor(e){super(e)}async test(e){return e.expr.aggregator!=="count"||e.expr.expression.expressionType!=="wildcard"?(0,t.failTest)("This actor only supports the 'count' aggregator with wildcard."):(0,t.passTestVoid)()}async run({context:e,expr:i}){return new u.WildcardCountAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:i.expression,context:e}),i.distinct)}};return P2.ActorBindingsAggregatorFactoryWildcardCount=n,P2}var xX;function jbe(){return xX||(xX=1,function(a){var t=gl&&gl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=gl&&gl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Lbe(),a),u(AX(),a)}(gl)),gl}var vl={},j2={},M2={},IX;function RX(){if(IX)return M2;IX=1,Object.defineProperty(M2,"__esModule",{value:!0}),M2.AverageAggregator=void 0;const a=Vr(),t=Ae();let u=class extends a.AggregateEvaluator{constructor(r,e,i,o,c,s){super(r,e,s),this.dataFactory=i,this.additionFunction=o,this.divisionFunction=c,this.state=void 0}emptyValueTerm(){return t.typedLiteral("0",t.TypeURL.XSD_INTEGER)}putTerm(r){if(this.state===void 0){const e=this.termToNumericOrError(r);this.state={sum:e,count:1}}else{const e=this.termToNumericOrError(r);this.state.sum=this.additionFunction.applyOnTerms([this.state.sum,e],this.evaluator),this.state.count++}}termResult(){if(this.state===void 0)return this.emptyValue();const r=new t.IntegerLiteral(this.state.count);return this.divisionFunction.applyOnTerms([this.state.sum,r],this.evaluator).toRDF(this.dataFactory)}};return M2.AverageAggregator=u,M2}var NX;function Mbe(){if(NX)return j2;NX=1,Object.defineProperty(j2,"__esModule",{value:!0}),j2.ActorBindingsAggregatorFactoryAverage=void 0;const a=Vr(),t=ke(),u=Te(),n=Ae(),r=RX();let e=class extends a.ActorBindingsAggregatorFactory{constructor(o){super(o),this.mediatorFunctionFactory=o.mediatorFunctionFactory}async test(o){return o.expr.aggregator!=="avg"?(0,u.failTest)("This actor only supports the 'avg' aggregator."):(0,u.passTestVoid)()}async run({context:o,expr:c}){return new r.AverageAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:c.expression,context:o}),c.distinct,o.getSafe(t.KeysInitQuery.dataFactory),await this.mediatorFunctionFactory.mediate({functionName:n.SparqlOperator.ADDITION,context:o,requireTermExpression:!0}),await this.mediatorFunctionFactory.mediate({functionName:n.SparqlOperator.DIVISION,context:o,requireTermExpression:!0}))}};return j2.ActorBindingsAggregatorFactoryAverage=e,j2}var FX;function qbe(){return FX||(FX=1,function(a){var t=vl&&vl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=vl&&vl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Mbe(),a),u(RX(),a)}(vl)),vl}var Tl={},q2={},C2={},DX;function PX(){if(DX)return C2;DX=1,Object.defineProperty(C2,"__esModule",{value:!0}),C2.SumAggregator=void 0;const a=Vr(),t=Ae();let u=class extends a.AggregateEvaluator{constructor(r,e,i,o,c){super(r,e,c),this.dataFactory=i,this.additionFunction=o,this.state=void 0}emptyValueTerm(){return(0,t.typedLiteral)("0",t.TypeURL.XSD_INTEGER)}putTerm(r){if(this.state===void 0)this.state=this.termToNumericOrError(r);else{const e=this.termToNumericOrError(r);this.state=this.additionFunction.applyOnTerms([this.state,e],this.evaluator)}}termResult(){return this.state===void 0?this.emptyValue():this.state.toRDF(this.dataFactory)}};return C2.SumAggregator=u,C2}var LX;function Cbe(){if(LX)return q2;LX=1,Object.defineProperty(q2,"__esModule",{value:!0}),q2.ActorBindingsAggregatorFactorySum=void 0;const a=Vr(),t=ke(),u=Te(),n=Ae(),r=PX();let e=class extends a.ActorBindingsAggregatorFactory{constructor(o){super(o),this.mediatorFunctionFactory=o.mediatorFunctionFactory}async test(o){return o.expr.aggregator!=="sum"?(0,u.failTest)("This actor only supports the 'sum' aggregator."):(0,u.passTestVoid)()}async run({expr:o,context:c}){return new r.SumAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:o.expression,context:c}),o.distinct,c.getSafe(t.KeysInitQuery.dataFactory),await this.mediatorFunctionFactory.mediate({functionName:n.SparqlOperator.ADDITION,context:c,requireTermExpression:!0}))}};return q2.ActorBindingsAggregatorFactorySum=e,q2}var jX;function Bbe(){return jX||(jX=1,function(a){var t=Tl&&Tl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Tl&&Tl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Cbe(),a),u(PX(),a)}(Tl)),Tl}var wl={},B2={},$2={},MX;function $be(){if(MX)return $2;MX=1,Object.defineProperty($2,"__esModule",{value:!0}),$2.ExpressionFunctionIn=void 0;const a=Re(),t=Ae();let u=class extends a.ExpressionFunctionBase{constructor(r){super({arity:Number.POSITIVE_INFINITY,operator:t.SparqlOperator.IN,apply:async e=>{const{args:i,mapping:o,exprEval:c}=e,[s,...l]=i,f=await c.evaluatorExpressionEvaluation(s,o);return await this.inRecursive(f,{...e,args:l},[])}}),this.equalityFunction=r}checkArity(r){return r.length>0}async inRecursive(r,e,i){const{args:o,mapping:c,exprEval:s}=e;if(o.length===0)return i.every(f=>!f)?(0,t.bool)(!1):Promise.reject(new t.InError(i));try{const l=o.shift(),f=await s.evaluatorExpressionEvaluation(l,c);return this.equalityFunction.applyOnTerms([r,f],s).typedValue?(0,t.bool)(!0):this.inRecursive(r,e,[...i,!1])}catch(l){return this.inRecursive(r,e,[...i,l])}}};return $2.ExpressionFunctionIn=u,$2}var qX;function Vbe(){if(qX)return B2;qX=1,Object.defineProperty(B2,"__esModule",{value:!0}),B2.ActorFunctionFactoryExpressionIn=void 0;const a=Re(),t=Ae(),u=$be();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.IN],termFunction:!1}),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const i=await this.mediatorFunctionFactory.mediate({functionName:t.SparqlOperator.EQUAL,requireTermExpression:!0,context:e.context,arguments:e.arguments});return new u.ExpressionFunctionIn(i)}};return B2.ActorFunctionFactoryExpressionIn=n,B2}var CX;function Ube(){return CX||(CX=1,function(a){var t=wl&&wl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=wl&&wl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Vbe(),a)}(wl)),wl}var Sl={},V2={},U2={},BX;function Qbe(){if(BX)return U2;BX=1,Object.defineProperty(U2,"__esModule",{value:!0}),U2.ExpressionFunctionNotIn=void 0;const a=Re(),t=Ae();let u=class extends a.ExpressionFunctionBase{constructor(r){super({arity:Number.POSITIVE_INFINITY,operator:t.SparqlOperator.NOT_IN,apply:async e=>{const i=await this.inFunction.apply(e);return(0,t.bool)(!i.typedValue)}}),this.inFunction=r}checkArity(r){return r.length>0}};return U2.ExpressionFunctionNotIn=u,U2}var $X;function Hbe(){if($X)return V2;$X=1,Object.defineProperty(V2,"__esModule",{value:!0}),V2.ActorFunctionFactoryExpressionNotIn=void 0;const a=Re(),t=Ae(),u=Qbe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.NOT_IN],termFunction:!1}),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const i=await this.mediatorFunctionFactory.mediate({functionName:t.SparqlOperator.IN,context:e.context,arguments:e.arguments});return new u.ExpressionFunctionNotIn(i)}};return V2.ActorFunctionFactoryExpressionNotIn=n,V2}var VX;function Gbe(){return VX||(VX=1,function(a){var t=Sl&&Sl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Sl&&Sl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Hbe(),a)}(Sl)),Sl}var Ol={},Q2={},H2={},UX;function kbe(){if(UX)return H2;UX=1,Object.defineProperty(H2,"__esModule",{value:!0}),H2.TermFunctionGreaterThanEqual=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(r){super({arity:2,operator:t.SparqlOperator.GTE,overloads:(0,t.declare)(t.SparqlOperator.GTE).set(["term","term"],e=>([i,o])=>this.lessThanEqualFunction.applyOnTerms([o,i],e)).collect()}),this.lessThanEqualFunction=r}};return H2.TermFunctionGreaterThanEqual=u,H2}var QX;function zbe(){if(QX)return Q2;QX=1,Object.defineProperty(Q2,"__esModule",{value:!0}),Q2.ActorFunctionFactoryTermGreaterThanEqual=void 0;const a=Re(),t=Ae(),u=kbe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.GTE],termFunction:!0}),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const i=await this.mediatorFunctionFactory.mediate({functionName:t.SparqlOperator.LTE,requireTermExpression:!0,context:e.context,arguments:e.arguments});return new u.TermFunctionGreaterThanEqual(i)}};return Q2.ActorFunctionFactoryTermGreaterThanEqual=n,Q2}var HX;function Xbe(){return HX||(HX=1,function(a){var t=Ol&&Ol.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ol&&Ol.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(zbe(),a)}(Ol)),Ol}var Al={},G2={},k2={},GX;function Jbe(){if(GX)return k2;GX=1,Object.defineProperty(k2,"__esModule",{value:!0}),k2.TermFunctionGreaterThan=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(r){super({arity:2,operator:t.SparqlOperator.GT,overloads:(0,t.declare)(t.SparqlOperator.GT).set(["term","term"],e=>([i,o])=>this.lessThanFunction.applyOnTerms([o,i],e)).collect()}),this.lessThanFunction=r}};return k2.TermFunctionGreaterThan=u,k2}var kX;function Kbe(){if(kX)return G2;kX=1,Object.defineProperty(G2,"__esModule",{value:!0}),G2.ActorFunctionFactoryTermGreaterThan=void 0;const a=Re(),t=Ae(),u=Jbe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.GT],termFunction:!0}),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const i=await this.mediatorFunctionFactory.mediate({functionName:t.SparqlOperator.LT,requireTermExpression:!0,context:e.context,arguments:e.arguments});return new u.TermFunctionGreaterThan(i)}};return G2.ActorFunctionFactoryTermGreaterThan=n,G2}var zX;function Wbe(){return zX||(zX=1,function(a){var t=Al&&Al.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Al&&Al.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Kbe(),a)}(Al)),Al}var El={},z2={},X2={},XX;function Ybe(){if(XX)return X2;XX=1,Object.defineProperty(X2,"__esModule",{value:!0}),X2.TermFunctionInequality=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(r){super({arity:2,operator:t.SparqlOperator.NOT_EQUAL,overloads:(0,t.declare)(t.SparqlOperator.NOT_EQUAL).set(["term","term"],e=>([i,o])=>(0,t.bool)(!this.equalityFunction.applyOnTerms([i,o],e).typedValue)).collect()}),this.equalityFunction=r}};return X2.TermFunctionInequality=u,X2}var JX;function Zbe(){if(JX)return z2;JX=1,Object.defineProperty(z2,"__esModule",{value:!0}),z2.ActorFunctionFactoryTermInequality=void 0;const a=Re(),t=Ae(),u=Ybe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.NOT_EQUAL],termFunction:!0}),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const i=await this.mediatorFunctionFactory.mediate({functionName:t.SparqlOperator.EQUAL,requireTermExpression:!0,context:e.context,arguments:e.arguments});return new u.TermFunctionInequality(i)}};return z2.ActorFunctionFactoryTermInequality=n,z2}var KX;function e_e(){return KX||(KX=1,function(a){var t=El&&El.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=El&&El.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Zbe(),a)}(El)),El}var xl={},J2={},K2={},WX;function t_e(){if(WX)return K2;WX=1,Object.defineProperty(K2,"__esModule",{value:!0}),K2.TermFunctionLesserThanEqual=void 0;const a=Re(),t=Ae();let u=class extends a.TermFunctionBase{constructor(r,e){super({arity:2,operator:t.SparqlOperator.LTE,overloads:(0,t.declare)(t.SparqlOperator.LTE).set(["term","term"],i=>([o,c])=>(0,t.bool)(this.lessThanFunction.applyOnTerms([o,c],i).typedValue||this.equalityFunction.applyOnTerms([o,c],i).typedValue)).collect()}),this.equalityFunction=r,this.lessThanFunction=e}};return K2.TermFunctionLesserThanEqual=u,K2}var YX;function r_e(){if(YX)return J2;YX=1,Object.defineProperty(J2,"__esModule",{value:!0}),J2.ActorFunctionFactoryTermLesserThanEqual=void 0;const a=Re(),t=Ae(),u=t_e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.LTE],termFunction:!0}),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const i=await this.mediatorFunctionFactory.mediate({functionName:t.SparqlOperator.EQUAL,requireTermExpression:!0,context:e.context,arguments:e.arguments}),o=await this.mediatorFunctionFactory.mediate({functionName:t.SparqlOperator.LT,requireTermExpression:!0,context:e.context,arguments:e.arguments});return new u.TermFunctionLesserThanEqual(i,o)}};return J2.ActorFunctionFactoryTermLesserThanEqual=n,J2}var ZX;function n_e(){return ZX||(ZX=1,function(a){var t=xl&&xl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=xl&&xl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(r_e(),a)}(xl)),xl}var Il={},W2={},Y2={},eJ;function i_e(){if(eJ)return Y2;eJ=1,Object.defineProperty(Y2,"__esModule",{value:!0}),Y2.TermFunctionLesserThan=void 0;const a=Re(),t=ke(),u=Ae();let n=class extends a.TermFunctionBase{constructor(e){super({arity:2,operator:u.SparqlOperator.LT,overloads:(0,u.declare)(u.SparqlOperator.LT).numberTest(()=>(i,o)=>i<o).stringTest(()=>(i,o)=>i.localeCompare(o)===-1).booleanTest(()=>(i,o)=>i<o).dateTimeTest(i=>(o,c)=>(0,u.toUTCDate)(o,i.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)).getTime()<(0,u.toUTCDate)(c,i.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)).getTime()).copy({from:[u.TypeURL.XSD_DATE_TIME,u.TypeURL.XSD_DATE_TIME],to:[u.TypeURL.XSD_DATE,u.TypeURL.XSD_DATE]}).set([u.TypeURL.XSD_YEAR_MONTH_DURATION,u.TypeURL.XSD_YEAR_MONTH_DURATION],()=>([i,o])=>(0,u.bool)((0,u.yearMonthDurationsToMonths)((0,u.defaultedYearMonthDurationRepresentation)(i.typedValue))<(0,u.yearMonthDurationsToMonths)((0,u.defaultedYearMonthDurationRepresentation)(o.typedValue)))).set([u.TypeURL.XSD_DAY_TIME_DURATION,u.TypeURL.XSD_DAY_TIME_DURATION],()=>([i,o])=>(0,u.bool)((0,u.dayTimeDurationsToSeconds)((0,u.defaultedDayTimeDurationRepresentation)(i.typedValue))<(0,u.dayTimeDurationsToSeconds)((0,u.defaultedDayTimeDurationRepresentation)(o.typedValue)))).set([u.TypeURL.XSD_TIME,u.TypeURL.XSD_TIME],i=>([o,c])=>(0,u.bool)((0,u.toUTCDate)((0,u.defaultedDateTimeRepresentation)(o.typedValue),i.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)).getTime()<(0,u.toUTCDate)((0,u.defaultedDateTimeRepresentation)(c.typedValue),i.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)).getTime())).set(["quad","quad"],i=>([o,c])=>{const s=this.quadComponentTest(o.subject,c.subject,i);if(s!==void 0)return(0,u.bool)(s);const l=this.quadComponentTest(o.predicate,c.predicate,i);if(l!==void 0)return(0,u.bool)(l);const f=this.quadComponentTest(o.object,c.object,i);return f!==void 0?(0,u.bool)(f):(0,u.bool)(this.quadComponentTest(o.graph,c.graph,i)??!1)},!1).collect()}),this.equalityFunction=e}quadComponentTest(e,i,o){return this.equalityFunction.applyOnTerms([e,i],o).typedValue?void 0:this.applyOnTerms([e,i],o).typedValue}};return Y2.TermFunctionLesserThan=n,Y2}var tJ;function a_e(){if(tJ)return W2;tJ=1,Object.defineProperty(W2,"__esModule",{value:!0}),W2.ActorFunctionFactoryTermLesserThan=void 0;const a=Re(),t=Ae(),u=i_e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.LT],termFunction:!0}),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const i=await this.mediatorFunctionFactory.mediate({functionName:t.SparqlOperator.EQUAL,requireTermExpression:!0,context:e.context,arguments:e.arguments});return new u.TermFunctionLesserThan(i)}};return W2.ActorFunctionFactoryTermLesserThan=n,W2}var rJ;function u_e(){return rJ||(rJ=1,function(a){var t=Il&&Il.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Il&&Il.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(a_e(),a)}(Il)),Il}var Rl={},Z2={},nJ;function o_e(){if(nJ)return Z2;nJ=1,Object.defineProperty(Z2,"__esModule",{value:!0}),Z2.ActorHttpWayback=void 0;const a=ya(),t=ke(),u=Te(),n=_h(),r="http://wayback.archive-it.org/";function e(c){const s=new Request(c.input,c.init);return{input:new Request(new URL(`/${s.url}`,r),s)}}function i(c){const s=c.get(t.KeysHttpProxy.httpProxyHandler);return s?l=>s.getProxy(e(l)):l=>Promise.resolve(e(l))}let o=class extends a.ActorHttp{constructor(s){super(s)}async test(s){return(0,u.passTestVoid)()}async run(s){let l=await this.mediatorHttp.mediate(s);if(l.status===404&&s.context.get(t.KeysHttpWayback.recoverBrokenLinks)){let f=await this.mediatorHttp.mediate({...s,context:s.context.set(t.KeysHttpWayback.recoverBrokenLinks,!1).set(t.KeysHttpProxy.httpProxyHandler,{getProxy:i(s.context)})});f.status===200&&([l,f]=[f,l]);const{body:d}=f;d&&("cancel"in d&&typeof d.cancel=="function"?await d.cancel():"destroy"in d&&typeof d.destroy=="function"?d.destroy():await(0,n.stringify)(a.ActorHttp.toNodeReadable(d)))}return l}};return Z2.ActorHttpWayback=o,Z2}var iJ;function s_e(){return iJ||(iJ=1,function(a){var t=Rl&&Rl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Rl&&Rl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(o_e(),a)}(Rl)),Rl}var Nl={},eT={},Fl={},tT={},Dl={},rT={},NN={},aJ;function nT(){return aJ||(aJ=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ERROR_CODES=a.ErrorCoded=void 0;class t extends Error{constructor(n,r){super(n),this.code=r}}a.ErrorCoded=t,function(u){u.COLLIDING_KEYWORDS="colliding keywords",u.CONFLICTING_INDEXES="conflicting indexes",u.CYCLIC_IRI_MAPPING="cyclic IRI mapping",u.INVALID_ID_VALUE="invalid @id value",u.INVALID_INDEX_VALUE="invalid @index value",u.INVALID_NEST_VALUE="invalid @nest value",u.INVALID_PREFIX_VALUE="invalid @prefix value",u.INVALID_PROPAGATE_VALUE="invalid @propagate value",u.INVALID_REVERSE_VALUE="invalid @reverse value",u.INVALID_IMPORT_VALUE="invalid @import value",u.INVALID_VERSION_VALUE="invalid @version value",u.INVALID_BASE_IRI="invalid base IRI",u.INVALID_CONTAINER_MAPPING="invalid container mapping",u.INVALID_CONTEXT_ENTRY="invalid context entry",u.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",u.INVALID_DEFAULT_LANGUAGE="invalid default language",u.INVALID_INCLUDED_VALUE="invalid @included value",u.INVALID_IRI_MAPPING="invalid IRI mapping",u.INVALID_JSON_LITERAL="invalid JSON literal",u.INVALID_KEYWORD_ALIAS="invalid keyword alias",u.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",u.INVALID_LANGUAGE_MAPPING="invalid language mapping",u.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",u.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",u.INVALID_LOCAL_CONTEXT="invalid local context",u.INVALID_REMOTE_CONTEXT="invalid remote context",u.INVALID_REVERSE_PROPERTY="invalid reverse property",u.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",u.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",u.INVALID_SCOPED_CONTEXT="invalid scoped context",u.INVALID_SCRIPT_ELEMENT="invalid script element",u.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",u.INVALID_TERM_DEFINITION="invalid term definition",u.INVALID_TYPE_MAPPING="invalid type mapping",u.INVALID_TYPE_VALUE="invalid type value",u.INVALID_TYPED_VALUE="invalid typed value",u.INVALID_VALUE_OBJECT="invalid value object",u.INVALID_VALUE_OBJECT_VALUE="invalid value object value",u.INVALID_VOCAB_MAPPING="invalid vocab mapping",u.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",u.KEYWORD_REDEFINITION="keyword redefinition",u.LOADING_DOCUMENT_FAILED="loading document failed",u.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",u.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",u.PROCESSING_MODE_CONFLICT="processing mode conflict",u.PROTECTED_TERM_REDEFINITION="protected term redefinition",u.CONTEXT_OVERFLOW="context overflow",u.INVALID_BASE_DIRECTION="invalid base direction",u.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",u.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",u.INVALID_EMBEDDED_NODE="invalid embedded node",u.INVALID_ANNOTATION="invalid annotation"}(a.ERROR_CODES||(a.ERROR_CODES={}))}(NN)),NN}var iT={},uJ;function oJ(){if(uJ)return iT;uJ=1,Object.defineProperty(iT,"__esModule",{value:!0}),iT.FetchDocumentLoader=void 0;const a=nT(),t=s1(),u=mr();class n{constructor(e){this.fetcher=e}async load(e){const i=await(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(i.ok&&i.headers){let o=i.headers.get("Content-Type");if(o){const c=o.indexOf(";");c>0&&(o=o.substr(0,c))}if(o==="application/ld+json")return await i.json();if(i.headers.has("Link")){let c;if(i.headers.forEach((s,l)=>{if(l==="link"){const f=(0,t.parse)(s);for(const d of f.get("type","application/ld+json"))if(d.rel==="alternate"){if(c)throw new Error("Multiple JSON-LD alternate links were found on "+e);c=(0,u.resolve)(d.uri,e)}}}),c)return this.load(c)}throw new a.ErrorCoded(`Unsupported JSON-LD media type ${o}`,a.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(i.statusText||`Status code: ${i.status}`)}}return iT.FetchDocumentLoader=n,iT}var FN={},aT={},sJ;function DN(){if(sJ)return aT;sJ=1,Object.defineProperty(aT,"__esModule",{value:!0}),aT.Util=void 0;class a{static isCompactIri(u){return u.indexOf(":")>0&&!(u&&u[0]==="#")}static getPrefix(u,n){if(u&&u[0]==="#")return null;const r=u.indexOf(":");if(r>=0){if(u.length>r+1&&u.charAt(r+1)==="/"&&u.charAt(r+2)==="/")return null;const e=u.substr(0,r);if(e==="_")return null;if(n[e])return e}return null}static getContextValueId(u){if(u===null||typeof u=="string")return u;const n=u["@id"];return n||null}static isSimpleTermDefinitionPrefix(u,n){return!a.isPotentialKeyword(u)&&(n.allowPrefixNonGenDelims||typeof u=="string"&&(u[0]==="_"||a.isPrefixIriEndingWithGenDelim(u)))}static isPotentialKeyword(u){return typeof u=="string"&&a.KEYWORD_REGEX.test(u)}static isPrefixIriEndingWithGenDelim(u){return a.ENDS_WITH_GEN_DELIM.test(u)}static isPrefixValue(u){return u&&(typeof u=="string"||u&&typeof u=="object")}static isValidIri(u){return!!(u&&a.IRI_REGEX.test(u))}static isValidIriWeak(u){return!!u&&u[0]!==":"&&a.IRI_REGEX_WEAK.test(u)}static isValidKeyword(u){return a.VALID_KEYWORDS[u]}static isTermProtected(u,n){const r=u[n];return typeof r!="string"&&r&&r["@protected"]}static hasProtectedTerms(u){for(const n of Object.keys(u))if(a.isTermProtected(u,n))return!0;return!1}static isReservedInternalKeyword(u){return u.startsWith("@__")}static deepEqual(u,n){const r=Object.keys(u),e=Object.keys(n);return r.length!==e.length?!1:r.every(i=>{const o=u[i],c=n[i];return o===c||o!==null&&c!==null&&typeof o=="object"&&typeof c=="object"&&this.deepEqual(o,c)})}}return a.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,a.IRI_REGEX_WEAK=/(?::[^:])|\//,a.KEYWORD_REGEX=/^@[a-z]+$/i,a.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,a.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,a.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,a.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},a.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],a.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],a.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],a.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],a.CONTAINERS_1_0=["@list","@set","@index"],aT.Util=a,aT}var cJ;function lJ(){return cJ||(cJ=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.defaultExpandOptions=a.JsonLdContextNormalized=void 0;const t=mr(),u=nT(),n=DN();class r{constructor(i){this.contextRaw=i}getContextRaw(){return this.contextRaw}expandTerm(i,o,c=a.defaultExpandOptions){const s=this.contextRaw[i];if(s===null||s&&s["@id"]===null)return null;let l=!0;if(s&&o){const m=n.Util.getContextValueId(s);if(m&&m!==i)if(typeof m!="string"||!n.Util.isValidIri(m)&&!n.Util.isValidKeyword(m))n.Util.isPotentialKeyword(m)||(l=!1);else return m}const f=n.Util.getPrefix(i,this.contextRaw),d=this.contextRaw["@vocab"],h=(!!d||d==="")&&d.indexOf(":")<0,p=this.contextRaw["@base"],b=n.Util.isPotentialKeyword(i);if(f){const m=this.contextRaw[f],y=n.Util.getContextValueId(m);if(y){if(typeof m=="string"||!c.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(y,c))return i}else if(y[0]!=="_"&&!b&&!m["@prefix"]&&!(i in this.contextRaw))return i;return y+i.substr(f.length+1)}}else if(o&&(d||d===""||c.allowVocabRelativeToBase&&p&&h)&&!b&&!n.Util.isCompactIri(i))if(h){if(c.allowVocabRelativeToBase)return(d||p?(0,t.resolve)(d,p):"")+i;throw new u.ErrorCoded(`Relative vocab expansion for term '${i}' with vocab '${d}' is not allowed.`,u.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return d+i;else if(!o&&p&&!b&&!n.Util.isCompactIri(i))return(0,t.resolve)(i,p);if(l)return i;throw new u.ErrorCoded(`Invalid IRI mapping found for context entry '${i}': '${JSON.stringify(s)}'`,u.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(i,o){if(o&&this.contextRaw["@vocab"]&&i.startsWith(this.contextRaw["@vocab"]))return i.substr(this.contextRaw["@vocab"].length);if(!o&&this.contextRaw["@base"]&&i.startsWith(this.contextRaw["@base"]))return i.substr(this.contextRaw["@base"].length);const c={prefix:"",suffix:i};for(const s in this.contextRaw){const l=this.contextRaw[s];if(l&&!n.Util.isPotentialKeyword(s)){const f=n.Util.getContextValueId(l);if(i.startsWith(f)){const d=i.substr(f.length);if(d)d.length<c.suffix.length&&(c.prefix=s,c.suffix=d);else if(o)return s}}}return c.prefix?c.prefix+":"+c.suffix:i}}a.JsonLdContextNormalized=r,a.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(FN)),FN}var dJ;function c_e(){if(dJ)return rT;dJ=1,Object.defineProperty(rT,"__esModule",{value:!0}),rT.ContextParser=void 0;const a=mr(),t=nT(),u=oJ(),n=lJ(),r=DN();class e{constructor(o){o=o||{},this.documentLoader=o.documentLoader||new u.FetchDocumentLoader,this.documentCache={},this.validateContext=!o.skipValidation,this.expandContentTypeToBase=!!o.expandContentTypeToBase,this.remoteContextsDepthLimit=o.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in o?!!o.redirectSchemaOrgHttps:!0}static validateLanguage(o,c,s){if(typeof o!="string")throw new t.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(o)}'`,s);if(!r.Util.REGEX_LANGUAGE_TAG.test(o)){if(c)throw new t.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(o)}'`,s);return!1}return!0}static validateDirection(o,c){if(typeof o!="string")throw new t.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(o)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);if(!r.Util.REGEX_DIRECTION_TAG.test(o)){if(c)throw new t.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(o)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(o){for(const c of Object.keys(o)){let s=o[c];if(s&&typeof s=="object"&&s["@reverse"]&&!s["@id"]){if(typeof s["@reverse"]!="string"||r.Util.isValidKeyword(s["@reverse"]))throw new t.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${s["@reverse"]}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);s=o[c]=Object.assign(Object.assign({},s),{"@id":s["@reverse"]}),s["@id"]=s["@reverse"],r.Util.isPotentialKeyword(s["@reverse"])?delete s["@reverse"]:s["@reverse"]=!0}}return o}expandPrefixedTerms(o,c,s){const l=o.getContextRaw();for(const f of s||Object.keys(l))if(r.Util.EXPAND_KEYS_BLACKLIST.indexOf(f)<0&&!r.Util.isReservedInternalKeyword(f)){const d=l[f];if(r.Util.isPotentialKeyword(f)&&r.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(f)>=0&&(f!=="@type"||typeof l[f]=="object"&&!(l[f]["@protected"]||l[f]["@container"]==="@set")))throw new t.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${f} to ${JSON.stringify(d)}`,t.ERROR_CODES.KEYWORD_REDEFINITION);if(r.Util.ALIAS_RANGE_BLACKLIST.indexOf(r.Util.getContextValueId(d))>=0)throw new t.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${f} to ${JSON.stringify(d)}`,t.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(d&&r.Util.isPotentialKeyword(r.Util.getContextValueId(d))&&d["@prefix"]===!0)throw new t.ErrorCoded(`Tried to use keyword aliases as prefix: '${f}': '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);for(;r.Util.isPrefixValue(l[f]);){const h=l[f];let p=!1;if(typeof h=="string")l[f]=o.expandTerm(h,!0),p=p||h!==l[f];else{const b=h["@id"],m=h["@type"],y=!("@prefix"in h)||r.Util.isValidIri(f);if("@id"in h)b!=null&&typeof b=="string"&&(l[f]=Object.assign(Object.assign({},l[f]),{"@id":o.expandTerm(b,!0)}),p=p||b!==l[f]["@id"]);else if(!r.Util.isPotentialKeyword(f)&&y){const g=o.expandTerm(f,!0);g!==f&&(l[f]=Object.assign(Object.assign({},l[f]),{"@id":g}),p=!0)}if(m&&typeof m=="string"&&m!=="@vocab"&&(!h["@container"]||!h["@container"]["@type"])&&y){let g=o.expandTerm(m,!0);c&&m===g&&(g=o.expandTerm(m,!1)),g!==m&&(p=!0,l[f]=Object.assign(Object.assign({},l[f]),{"@type":g}))}}if(!p)break}}}normalize(o,{processingMode:c,normalizeLanguageTags:s}){if(s||c===1)for(const l of Object.keys(o))if(l==="@language"&&typeof o[l]=="string")o[l]=o[l].toLowerCase();else{const f=o[l];if(f&&typeof f=="object"&&typeof f["@language"]=="string"){const d=f["@language"].toLowerCase();d!==f["@language"]&&(o[l]=Object.assign(Object.assign({},f),{"@language":d}))}}}containersToHash(o){for(const c of Object.keys(o)){const s=o[c];if(s&&typeof s=="object"){if(typeof s["@container"]=="string")o[c]=Object.assign(Object.assign({},s),{"@container":{[s["@container"]]:!0}});else if(Array.isArray(s["@container"])){const l={};for(const f of s["@container"])l[f]=!0;o[c]=Object.assign(Object.assign({},s),{"@container":l})}}}}applyScopedProtected(o,{processingMode:c},s){if(c&&c>=1.1&&o["@protected"]){for(const l of Object.keys(o))if(!r.Util.isReservedInternalKeyword(l)&&!r.Util.isPotentialKeyword(l)&&!r.Util.isTermProtected(o,l)){const f=o[l];f&&typeof f=="object"?"@protected"in o[l]||(o[l]=Object.assign(Object.assign({},o[l]),{"@protected":!0})):(o[l]={"@id":f,"@protected":!0},r.Util.isSimpleTermDefinitionPrefix(f,s)&&(o[l]=Object.assign(Object.assign({},o[l]),{"@prefix":!0})))}delete o["@protected"]}}validateKeywordRedefinitions(o,c,s,l){for(const f of l??Object.keys(c))if(r.Util.isTermProtected(o,f)&&(typeof c[f]=="string"?c[f]={"@id":c[f],"@protected":!0}:c[f]=Object.assign(Object.assign({},c[f]),{"@protected":!0}),!r.Util.deepEqual(o[f],c[f])))throw new t.ErrorCoded(`Attempted to override the protected keyword ${f} from ${JSON.stringify(r.Util.getContextValueId(o[f]))} to ${JSON.stringify(r.Util.getContextValueId(c[f]))}`,t.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(o,{processingMode:c}){for(const s of Object.keys(o)){if(r.Util.isReservedInternalKeyword(s))continue;if(s==="")throw new t.ErrorCoded(`The empty term is not allowed, got: '${s}': '${JSON.stringify(o[s])}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);const l=o[s],f=typeof l;if(r.Util.isPotentialKeyword(s)){switch(s.substr(1)){case"vocab":if(l!==null&&f!=="string")throw new t.ErrorCoded(`Found an invalid @vocab IRI: ${l}`,t.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(l!==null&&f!=="string")throw new t.ErrorCoded(`Found an invalid @base IRI: ${o[s]}`,t.ERROR_CODES.INVALID_BASE_IRI);break;case"language":l!==null&&e.validateLanguage(l,!0,t.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(l!==null&&f!=="number")throw new t.ErrorCoded(`Found an invalid @version number: ${l}`,t.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":l!==null&&e.validateDirection(l,!0);break;case"propagate":if(c===1)throw new t.ErrorCoded(`Found an illegal @propagate keyword: ${l}`,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(l!==null&&f!=="boolean")throw new t.ErrorCoded(`Found an invalid @propagate value: ${l}`,t.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(r.Util.isValidKeyword(s)&&r.Util.isValidKeyword(r.Util.getContextValueId(l)))throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${s}': '${r.Util.getContextValueId(l)}'`,t.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(l!==null)switch(f){case"string":if(r.Util.getPrefix(l,o)===s)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);if(r.Util.isValidIriWeak(s)){if(l==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${s}': '${l}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(l)&&l!==new n.JsonLdContextNormalized(o).expandTerm(s))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${s}': '${l}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!r.Util.isCompactIri(s)&&!("@id"in l)&&(l["@type"]==="@id"?!o["@base"]:!o["@vocab"]))throw new t.ErrorCoded(`Missing @id in context entry: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);for(const d of Object.keys(l)){const h=l[d];if(h)switch(d){case"@id":if(r.Util.isValidKeyword(h)&&h!=="@type"&&h!=="@id"&&h!=="@graph"&&h!=="@nest")throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIriWeak(s)){if(h==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(h)&&h!==new n.JsonLdContextNormalized(o).expandTerm(s))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof h!="string")throw new t.ErrorCoded(`Detected non-string @id in context entry: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.getPrefix(h,o)===s)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(l["@container"]==="@type"&&h!=="@id"&&h!=="@vocab")throw new t.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${s}': '${h}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof h!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(h!=="@id"&&h!=="@vocab"&&(c===1||h!=="@json")&&(c===1||h!=="@none")&&(h[0]==="_"||!r.Util.isValidIri(h)))throw new t.ErrorCoded(`A context @type must be an absolute IRI, found: '${s}': '${h}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof h=="string"&&l["@id"]&&l["@id"]!==h)throw new t.ErrorCoded(`Found non-matching @id and @reverse term values in '${s}':'${h}' and '${l["@id"]}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in l)throw new t.ErrorCoded(`@nest is not allowed in the reverse property '${s}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(c===1&&(Object.keys(h).length>1||r.Util.CONTAINERS_1_0.indexOf(Object.keys(h)[0])<0))throw new t.ErrorCoded(`Invalid term @container for '${s}' ('${Object.keys(h)}') in 1.0, must be only one of ${r.Util.CONTAINERS_1_0.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const p of Object.keys(h)){if(p==="@list"&&l["@reverse"])throw new t.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${s}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(r.Util.CONTAINERS.indexOf(p)<0)throw new t.ErrorCoded(`Invalid term @container for '${s}' ('${p}'), must be one of ${r.Util.CONTAINERS.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":e.validateLanguage(h,!0,t.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":e.validateDirection(h,!0);break;case"@prefix":if(h!==null&&typeof h!="boolean")throw new t.ErrorCoded(`Found an invalid term @prefix boolean in: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in l)&&!r.Util.isValidIri(s))throw new t.ErrorCoded(`Invalid @prefix definition for '${s}' ('${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(c===1||!l["@container"]||!l["@container"]["@index"])throw new t.ErrorCoded(`Attempt to add illegal key to value object: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(r.Util.isPotentialKeyword(h)&&h!=="@nest")throw new t.ErrorCoded(`Found an invalid term @nest value in: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new t.ErrorCoded(`Found an invalid term value: '${s}': '${l}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(o,c,s){return typeof o=="string"||(s&&!("@base"in o)&&c.parentContext&&typeof c.parentContext=="object"&&"@base"in c.parentContext&&(o["@base"]=c.parentContext["@base"],c.parentContext["@__baseDocument"]&&(o["@__baseDocument"]=!0)),c.baseIRI&&!c.external&&("@base"in o?o["@base"]!==null&&typeof o["@base"]=="string"&&!r.Util.isValidIri(o["@base"])&&(o["@base"]=(0,a.resolve)(o["@base"],c.parentContext&&c.parentContext["@base"]||c.baseIRI)):(o["@base"]=c.baseIRI,o["@__baseDocument"]=!0))),o}normalizeContextIri(o,c){if(!r.Util.isValidIri(o))try{o=(0,a.resolve)(o,c)}catch{throw new Error(`Invalid context IRI: ${o}`)}return this.redirectSchemaOrgHttps&&o.startsWith("http://schema.org")&&(o="https://schema.org/"),o}async parseInnerContexts(o,c,s){for(const l of s??Object.keys(o)){const f=o[l];if(f&&typeof f=="object"&&"@context"in f&&f["@context"]!==null&&!c.ignoreScopedContexts){if(this.validateContext)try{const d=Object.assign(Object.assign({},o),{[l]:Object.assign({},o[l])});delete d[l]["@context"],await this.parse(f["@context"],Object.assign(Object.assign({},c),{external:!1,parentContext:d,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(d){throw new t.ErrorCoded(d.message,t.ERROR_CODES.INVALID_SCOPED_CONTEXT)}o[l]=Object.assign(Object.assign({},f),{"@context":(await this.parse(f["@context"],Object.assign(Object.assign({},c),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:o}))).getContextRaw()})}}return o}async parse(o,c={},s={}){const{baseIRI:l,parentContext:f,external:d,processingMode:h=e.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:p,ignoreProtection:b,minimalProcessing:m}=c,y=c.remoteContexts||{};if(Object.keys(y).length>=this.remoteContextsDepthLimit)throw new t.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(y),t.ERROR_CODES.CONTEXT_OVERFLOW);if(o==null){if(!b&&f&&r.Util.hasProtectedTerms(f))throw new t.ErrorCoded("Illegal context nullification when terms are protected",t.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new n.JsonLdContextNormalized(this.applyBaseEntry({},c,!1))}else if(typeof o=="string"){const g=this.normalizeContextIri(o,l),_=this.getOverriddenLoad(g,c);if(_)return new n.JsonLdContextNormalized(_);const v=await this.parse(await this.load(g),Object.assign(Object.assign({},c),{baseIRI:g,external:!0,remoteContexts:Object.assign(Object.assign({},y),{[g]:!0})}));return this.applyBaseEntry(v.getContextRaw(),c,!0),v}else if(Array.isArray(o)){const g=[],_=await Promise.all(o.map((T,w)=>{if(typeof T=="string"){const A=this.normalizeContextIri(T,l);g[w]=A;const M=this.getOverriddenLoad(A,c);return M||this.load(A)}else return T}));if(m)return new n.JsonLdContextNormalized(_);const v=await _.reduce((T,w,A)=>T.then(M=>this.parse(w,Object.assign(Object.assign({},c),{baseIRI:g[A]||c.baseIRI,external:!!g[A]||c.external,parentContext:M.getContextRaw(),remoteContexts:g[A]?Object.assign(Object.assign({},y),{[g[A]]:!0}):y}),{skipValidation:A<_.length-1})),Promise.resolve(new n.JsonLdContextNormalized(f||{})));return this.applyBaseEntry(v.getContextRaw(),c,!0),v}else if(typeof o=="object"){if("@context"in o)return await this.parse(o["@context"],c);if(o=Object.assign({},o),d&&delete o["@base"],this.applyBaseEntry(o,c,!0),this.containersToHash(o),m)return new n.JsonLdContextNormalized(o);let g={};if("@import"in o)if(h>=1.1){if(typeof o["@import"]!="string")throw new t.ErrorCoded("An @import value must be a string, but got "+typeof o["@import"],t.ERROR_CODES.INVALID_IMPORT_VALUE);g=await this.loadImportContext(this.normalizeContextIri(o["@import"],l)),delete o["@import"]}else throw new t.ErrorCoded("Context importing is not supported in JSON-LD 1.0",t.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(g,{processingMode:h},n.defaultExpandOptions);const _=Object.assign(g,o);this.idifyReverseTerms(_),this.normalize(_,{processingMode:h,normalizeLanguageTags:p}),this.applyScopedProtected(_,{processingMode:h},n.defaultExpandOptions);const v=Object.keys(_),T=[];if(typeof f=="object")for(const A in f)A in _?T.push(A):_[A]=f[A];await this.parseInnerContexts(_,c,v);const w=new n.JsonLdContextNormalized(_);return(_&&_["@version"]||e.DEFAULT_PROCESSING_MODE)>=1.1&&(o["@vocab"]&&typeof o["@vocab"]=="string"||o["@vocab"]==="")&&(f&&"@vocab"in f&&o["@vocab"].indexOf(":")<0?_["@vocab"]=f["@vocab"]+o["@vocab"]:(r.Util.isCompactIri(o["@vocab"])||o["@vocab"]in _)&&(_["@vocab"]=w.expandTerm(o["@vocab"],!0))),this.expandPrefixedTerms(w,this.expandContentTypeToBase,v),!b&&f&&h>=1.1&&this.validateKeywordRedefinitions(f,_,n.defaultExpandOptions,T),this.validateContext&&!s.skipValidation&&this.validate(_,{processingMode:h}),w}else throw new t.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${o}`,t.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(o){const c=this.documentCache[o];if(c)return c;let s;try{s=await this.documentLoader.load(o)}catch(l){throw new t.ErrorCoded(`Failed to load remote context ${o}: ${l.message}`,t.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in s))throw new t.ErrorCoded(`Missing @context in remote context at ${o}`,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[o]=s["@context"]}getOverriddenLoad(o,c){if(o in(c.remoteContexts||{})){if(c.ignoreRemoteScopedContexts)return o;throw new t.ErrorCoded("Detected a cyclic context inclusion of "+o,t.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(o){let c=await this.load(o);if(typeof c!="object"||Array.isArray(c))throw new t.ErrorCoded("An imported context must be a single object: "+o,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in c)throw new t.ErrorCoded("An imported context can not import another context: "+o,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);return c=Object.assign({},c),this.containersToHash(c),c}}return e.DEFAULT_PROCESSING_MODE=1.1,rT.ContextParser=e,rT}var PN={},fJ;function l_e(){return fJ||(fJ=1,Object.defineProperty(PN,"__esModule",{value:!0})),PN}var LN={},hJ;function d_e(){return hJ||(hJ=1,Object.defineProperty(LN,"__esModule",{value:!0})),LN}var pJ;function un(){return pJ||(pJ=1,function(a){var t=Dl&&Dl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Dl&&Dl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(c_e(),a),u(nT(),a),u(oJ(),a),u(l_e(),a),u(d_e(),a),u(lJ(),a),u(DN(),a)}(Dl)),Dl}var uT={},oT={},Pl={},sT={},yJ;function bJ(){if(yJ)return sT;yJ=1,Object.defineProperty(sT,"__esModule",{value:!0}),sT.BlankNode=void 0;class a{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return sT.BlankNode=a,sT}var cT={},lT={},_J;function mJ(){if(_J)return lT;_J=1,Object.defineProperty(lT,"__esModule",{value:!0}),lT.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return lT.DefaultGraph=a,a.INSTANCE=new a,lT}var dT={},fT={},gJ;function jN(){if(gJ)return fT;gJ=1,Object.defineProperty(fT,"__esModule",{value:!0}),fT.NamedNode=void 0;class a{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return fT.NamedNode=a,fT}var vJ;function TJ(){if(vJ)return dT;vJ=1,Object.defineProperty(dT,"__esModule",{value:!0}),dT.Literal=void 0;const a=jN();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return dT.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),dT}var hT={},wJ;function SJ(){if(wJ)return hT;wJ=1,Object.defineProperty(hT,"__esModule",{value:!0}),hT.Quad=void 0;class a{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return hT.Quad=a,hT}var pT={},OJ;function AJ(){if(OJ)return pT;OJ=1,Object.defineProperty(pT,"__esModule",{value:!0}),pT.Variable=void 0;class a{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return pT.Variable=a,pT}var EJ;function f_e(){if(EJ)return cT;EJ=1,Object.defineProperty(cT,"__esModule",{value:!0}),cT.DataFactory=void 0;const a=bJ(),t=mJ(),u=TJ(),n=jN(),r=SJ(),e=AJ();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return cT.DataFactory=o,cT}var xJ;function h_e(){return xJ||(xJ=1,function(a){var t=Pl&&Pl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Pl&&Pl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(bJ(),a),u(f_e(),a),u(mJ(),a),u(TJ(),a),u(jN(),a),u(SJ(),a),u(AJ(),a)}(Pl)),Pl}var yT={},bT={},IJ;function p_e(){if(IJ)return bT;IJ=1,Object.defineProperty(bT,"__esModule",{value:!0}),bT.ContainerHandlerIdentifier=void 0;let a=class{canCombineWithGraph(){return!0}async handle(u,n,r,e,i,o){let c;if(n.emittedStack[o+1]&&n.idStack[o+1])c=n.idStack[o+1][0];else{const f=await r.getContainerKey(e[o],e,o)!==null?await r.resourceToTerm(await n.getContext(e),e[o]):r.dataFactory.blankNode();if(!f){n.emittedStack[o]=!1;return}c=f,n.idStack[o+1]=[c]}let s=n.idStack[o];s||(s=n.idStack[o]=[]),s.some(l=>l.equals(c))||s.push(c),await n.handlePendingContainerFlushBuffers()||(n.emittedStack[o]=!1)}};return bT.ContainerHandlerIdentifier=a,bT}var _T={},mT={},RJ;function RA(){if(RJ)return mT;RJ=1,Object.defineProperty(mT,"__esModule",{value:!0}),mT.EntryHandlerPredicate=void 0;const a=un(),t=Ll();let u=class cie{static async handlePredicateObject(r,e,i,o,c,s,l,f,d){const h=await e.getPropertiesDepth(i,o),p=await e.getDepthOffsetGraph(o,i),b=o-p,m=r.idStack[h];if(m&&!d)for(const y of m)if(p>=0){const _=r.idStack[b-1];if(_)for(const v of _)e.emitQuadChecked(o,y,c,s,v,l,f);else l?(e.validateReverseSubject(s),r.getUnidentifiedGraphBufferSafe(b-1).push({subject:s,predicate:c,object:y,isEmbedded:f})):r.getUnidentifiedGraphBufferSafe(b-1).push({subject:y,predicate:c,object:s,isEmbedded:f})}else{const _=await e.getGraphContainerValue(i,h);e.emitQuadChecked(o,y,c,s,_,l,f)}else if(l&&e.validateReverseSubject(s),d){if(r.rdfstar){r.idStack[o]&&r.emitError(new a.ErrorCoded(`Found an illegal @id inside an annotation: ${r.idStack[o][0].value}`,a.ERROR_CODES.INVALID_ANNOTATION));for(let _=0;_<o;_++)await e.unaliasKeyword(i[_],i,_)==="@id"&&r.emitError(new a.ErrorCoded("Found an illegal annotation inside an embedded node",a.ERROR_CODES.INVALID_ANNOTATION));const y=r.getAnnotationsBufferSafe(h),g={predicate:c,object:s,reverse:l,nestedAnnotations:[],depth:h};y.push(g);for(let _=y.length-2;_>=0;_--){const v=y[_];v.depth>h&&(g.nestedAnnotations.push(v),y.splice(_,1))}}}else r.getUnidentifiedValueBufferSafe(h).push({predicate:c,object:s,reverse:l,isEmbedded:f})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(r,e,i,o,c){const s=i[o];if(s){const l=await r.getContext(i);if(!r.jsonLiteralStack[o]&&await e.predicateToTerm(l,i[o]))return t.Util.getContextValueType(l,s)==="@json"&&(r.jsonLiteralStack[o+1]=!0),!0}return!1}async test(r,e,i,o,c){return o[c]}async handle(r,e,i,o,c,s,l){const f=o[s],d=await r.getContext(o),h=await e.predicateToTerm(d,i);if(h){const p=await e.valueToTerm(d,i,c,s,o);if(p.length)for(let b of p){let m=await e.unaliasKeywordParent(o,s);const y=t.Util.isPropertyReverse(d,f,m);let g=0;for(;m==="@reverse"||typeof m=="number";)typeof m=="number"?g++:s--,m=await e.unaliasKeywordParent(o,s-g);const _=t.Util.isPropertyInEmbeddedNode(m);e.validateReverseInEmbeddedNode(i,y,_);const v=t.Util.isPropertyInAnnotationObject(m);if(c){const T="@list"in t.Util.getContextValueContainer(d,i);if(T||c["@list"]){if((T&&!Array.isArray(c)&&!c["@list"]||c["@list"]&&!Array.isArray(c["@list"]))&&b!==e.rdfNil){const w=e.dataFactory.blankNode();r.emitQuad(s,e.dataFactory.quad(w,e.rdfRest,e.rdfNil,e.getDefaultGraph())),r.emitQuad(s,e.dataFactory.quad(w,e.rdfFirst,b,e.getDefaultGraph())),b=w}if(y&&!r.allowSubjectList)throw new a.ErrorCoded(`Found illegal list value in subject position at ${i}`,a.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await cie.handlePredicateObject(r,e,o,s,h,b,y,_,v)}}}};return mT.EntryHandlerPredicate=u,mT}var NJ;function y_e(){if(NJ)return _T;NJ=1,Object.defineProperty(_T,"__esModule",{value:!0}),_T.ContainerHandlerIndex=void 0;const a=un(),t=RA(),u=Ll();let n=class{canCombineWithGraph(){return!0}async handle(e,i,o,c,s,l){if(!Array.isArray(s)){const f="@graph"in e,d=await i.getContext(c),h=c[l-1],p=u.Util.getContextValueIndex(d,h);if(p){if(a.Util.isPotentialKeyword(p))throw new a.ErrorCoded(`Keywords can not be used as @index value, got: ${p}`,a.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof p!="string")throw new a.ErrorCoded(`@index values must be strings, got: ${p}`,a.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof s!="object"){if(u.Util.getContextValueType(d,h)!=="@id")throw new a.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${s}`,a.ERROR_CODES.INVALID_VALUE_OBJECT);const y=o.resourceToTerm(d,s);y&&(i.idStack[l+1]=[y])}const m=o.createVocabOrBaseTerm(d,p);if(m){const y=await o.valueToTerm(d,p,await o.getContainerKey(c[l],c,l),l,c);if(f){const g=await o.getGraphContainerValue(c,l+1);for(const _ of y)i.emitQuad(l,o.dataFactory.quad(g,m,_,o.getDefaultGraph()))}else for(const g of y)await t.EntryHandlerPredicate.handlePredicateObject(i,o,c,l+1,m,g,!1,!1,!1)}}const b=f?2:1;await i.newOnValueJob(c.slice(0,c.length-b),s,l-b,!0),await i.handlePendingContainerFlushBuffers()}i.emittedStack[l]=!1}};return _T.ContainerHandlerIndex=n,_T}var gT={},FJ;function b_e(){if(FJ)return gT;FJ=1,Object.defineProperty(gT,"__esModule",{value:!0}),gT.ContainerHandlerLanguage=void 0;const a=un();let t=class{canCombineWithGraph(){return!1}async handle(n,r,e,i,o,c){const s=await e.getContainerKey(i[c],i,c);if(Array.isArray(o))o=o.map(l=>({"@value":l,"@language":s}));else{if(typeof o!="string")throw new a.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(o)}', but expected string`,a.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);o={"@value":o,"@language":s}}await r.newOnValueJob(i.slice(0,i.length-1),o,c-1,!0),r.emittedStack[c]=!1}};return gT.ContainerHandlerLanguage=t,gT}var vT={},DJ;function __e(){if(DJ)return vT;DJ=1,Object.defineProperty(vT,"__esModule",{value:!0}),vT.ContainerHandlerType=void 0;const a=RA(),t=Ll();let u=class{canCombineWithGraph(){return!1}async handle(r,e,i,o,c,s){if(!Array.isArray(c)){if(typeof c=="string"){const d=await e.getContext(o),p=t.Util.getContextValueType(d,o[s-1])==="@vocab"?await i.createVocabOrBaseTerm(d,c):await i.resourceToTerm(d,c);if(p){const b={"@id":p.termType==="NamedNode"?p.value:c};await e.newOnValueJob(o.slice(0,o.length-1),b,s-1,!0),e.idStack[s+1]=[p]}}else{const d=!!e.idStack[s+1];d||delete e.idStack[s],await e.newOnValueJob(o.slice(0,o.length-1),c,s-1,!0),d||(e.idStack[s+1]=e.idStack[s])}const l=await i.getContainerKey(o[s],o,s),f=l!==null?i.createVocabOrBaseTerm(await e.getContext(o),l):null;f&&await a.EntryHandlerPredicate.handlePredicateObject(e,i,o,s+1,i.rdfType,f,!1,!1,!1),await e.handlePendingContainerFlushBuffers()}e.emittedStack[s]=!1}};return vT.ContainerHandlerType=u,vT}var PJ;function LJ(){if(PJ)return yT;PJ=1,Object.defineProperty(yT,"__esModule",{value:!0}),yT.EntryHandlerContainer=void 0;const a=p_e(),t=y_e(),u=b_e(),n=__e(),r=Ll();let e=class Pa{static isSimpleGraphContainer(o){return"@graph"in o&&("@set"in o&&Object.keys(o).length===2||Object.keys(o).length===1)}static isComplexGraphContainer(o){return"@graph"in o&&("@set"in o&&Object.keys(o).length>2||!("@set"in o)&&Object.keys(o).length>1)}static getContainerGraphIndex(o,c,s){let l=Pa.isSimpleGraphContainer(o),f="";for(let d=c;d<s.length;d++)(!l||typeof s[d]=="number")&&(f+=":"+s[d]),!l&&typeof s[d]!="number"&&(l=!0);return f}static async getContainerHandler(o,c,s){const l={containers:{"@set":!0},depth:s,fallback:!0};let f=!1;const d=await o.getContext(c,2);for(let h=s-1;h>=0;h--)if(typeof c[h]!="number"){const p=r.Util.getContextValue(d,"@container",c[h],!1);if(p&&Pa.isSimpleGraphContainer(p))return{containers:p,depth:h+1,fallback:!1};const b=r.Util.getContextValue(d,"@container",c[h-1],!1);if(b){const m="@graph"in b;for(const y in Pa.CONTAINER_HANDLERS)if(b[y])return m?Pa.CONTAINER_HANDLERS[y].canCombineWithGraph()?{containers:b,depth:h,fallback:!1}:l:f?l:{containers:b,depth:h,fallback:!1};return l}else{if(f)return l;f=!0}}return l}static async isBufferableContainerHandler(o,c,s){const l=await Pa.getContainerHandler(o,c,s);return!l.fallback&&!("@graph"in l.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(o,c,s,l,f){return!!await this.test(o,c,null,s,l)}async test(o,c,s,l,f){const d=r.Util.getContextValueContainer(await o.getContext(l,2),l[f-1]);for(const h in Pa.CONTAINER_HANDLERS)if(d[h])return{containers:d,handler:Pa.CONTAINER_HANDLERS[h]};return null}async handle(o,c,s,l,f,d,h){return h.handler.handle(h.containers,o,c,l,f,d)}};return e.CONTAINER_HANDLERS={"@id":new a.ContainerHandlerIdentifier,"@index":new t.ContainerHandlerIndex,"@language":new u.ContainerHandlerLanguage,"@type":new n.ContainerHandlerType},yT.EntryHandlerContainer=e,yT}var MN,jJ;function m_e(){return jJ||(jJ=1,MN=function a(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((u,n,r)=>{const e=r===0?"":",",i=n===void 0||typeof n=="symbol"?null:n;return u+e+a(i)},"")+"]":"{"+Object.keys(t).sort().reduce((u,n,r)=>{if(t[n]===void 0||typeof t[n]=="symbol")return u;const e=u.length===0?"":",";return u+e+a(n)+":"+a(t[n])},"")+"}"}),MN}var MJ;function Ll(){if(MJ)return oT;MJ=1,Object.defineProperty(oT,"__esModule",{value:!0}),oT.Util=void 0;const a=un(),t=h_e(),u=LJ(),n=m_e();class r{constructor(i){this.parsingContext=i.parsingContext,this.dataFactory=i.dataFactory||new t.DataFactory,this.rdfFirst=this.dataFactory.namedNode(r.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(r.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(r.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(r.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(r.RDF+"JSON")}static getContextValue(i,o,c,s){const l=i.getContextRaw()[c];if(!l)return s;const f=l[o];return f===void 0?s:f}static getContextValueContainer(i,o){return r.getContextValue(i,"@container",o,{"@set":!0})}static getContextValueType(i,o){const c=r.getContextValue(i,"@type",o,null);return c==="@none"?null:c}static getContextValueLanguage(i,o){return r.getContextValue(i,"@language",o,i.getContextRaw()["@language"]||null)}static getContextValueDirection(i,o){return r.getContextValue(i,"@direction",o,i.getContextRaw()["@direction"]||null)}static isContextValueReverse(i,o){return!!r.getContextValue(i,"@reverse",o,null)}static getContextValueIndex(i,o){return r.getContextValue(i,"@index",o,i.getContextRaw()["@index"]||null)}static isPropertyReverse(i,o,c){return c==="@reverse"!==r.isContextValueReverse(i,o)}static isPropertyInEmbeddedNode(i){return i==="@id"}static isPropertyInAnnotationObject(i){return i==="@annotation"}static isValidIri(i){return i!==null&&a.Util.isValidIri(i)}static isPrefixArray(i,o){if(i.length>o.length)return!1;for(let c=0;c<i.length;c++)if(i[c]!==o[c])return!1;return!0}async validateValueIndexes(i){if(this.parsingContext.validateValueIndexes){const o={};for(const c of i)if(c&&typeof c=="object"){const s=c["@id"],l=c["@index"];if(s&&l){const f=o[s];if(f&&f!==l)throw new a.ErrorCoded(`Conflicting @index value for ${s}`,a.ERROR_CODES.CONFLICTING_INDEXES);o[s]=l}}}}async valueToTerm(i,o,c,s,l){if(r.getContextValueType(i,o)==="@json")return[this.dataFactory.literal(this.valueToJsonString(c),this.rdfJson)];const f=typeof c;switch(f){case"object":if(c==null)return[];if(Array.isArray(c))return"@list"in r.getContextValueContainer(i,o)?c.length===0?[this.rdfNil]:this.parsingContext.idStack[s+1]||[]:(await this.validateValueIndexes(c),[]);if(i=await this.getContextSelfOrPropertyScoped(i,o),"@context"in c&&(i=await this.parsingContext.parseContext(c["@context"],(await this.parsingContext.getContext(l,0)).getContextRaw())),c=await this.unaliasKeywords(c,l,s,i),"@value"in c){let d,h,p,b,m;for(o in c){const y=c[o];switch(o){case"@value":d=y;break;case"@language":h=y;break;case"@direction":p=y;break;case"@type":b=y;break;case"@index":m=y;break;case"@annotation":break;default:throw new a.ErrorCoded(`Unknown value entry '${o}' in @value: ${JSON.stringify(c)}`,a.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(b,l,s,!0,i)==="@json")return[this.dataFactory.literal(this.valueToJsonString(d),this.rdfJson)];if(d===null)return[];if(typeof d=="object")throw new a.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(d)}'`,a.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&m&&typeof m!="string")throw new a.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(m)}'`,a.ERROR_CODES.INVALID_INDEX_VALUE);if(h){if(typeof d!="string")throw new a.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(d)}'`,a.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!a.ContextParser.validateLanguage(h,this.parsingContext.strictValues,a.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(h=h.toLowerCase())}if(p){if(typeof d!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(d)}'`);if(!a.ContextParser.validateDirection(p,this.parsingContext.strictValues))return[]}if(h&&p&&this.parsingContext.rdfDirection){if(b)throw new a.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(c)}'`,a.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(s,d,h,p))}else if(h){if(b)throw new a.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(c)}'`,a.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(d,h)]}else if(p&&this.parsingContext.rdfDirection){if(b)throw new a.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(c)}'`,a.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(s,d,h,p))}else if(b){if(typeof b!="string")throw new a.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(b)}'`,a.ERROR_CODES.INVALID_TYPED_VALUE);const y=this.createVocabOrBaseTerm(i,b);if(!y)throw new a.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(b)}'`,a.ERROR_CODES.INVALID_TYPED_VALUE);if(y.termType!=="NamedNode")throw new a.ErrorCoded(`Illegal value type (${y.termType}): ${b}`,a.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(d,y)]}return await this.valueToTerm(new a.JsonLdContextNormalized({}),o,d,s,l)}else if("@set"in c){if(Object.keys(c).length>1)throw new a.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${o}'`,a.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in c){if(Object.keys(c).length>1)throw new a.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${o}'`,a.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const d=c["@list"];return Array.isArray(d)?d.length===0?[this.rdfNil]:this.parsingContext.idStack[s+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(l),o,d,s-1,l.slice(0,-1))}else{if("@reverse"in c&&typeof c["@reverse"]=="boolean")return[];if("@graph"in r.getContextValueContainer(await this.parsingContext.getContext(l),o)){const d=this.parsingContext.graphContainerTermStack[s+1];return d?Object.values(d):[this.dataFactory.blankNode()]}else if("@id"in c){if(Object.keys(c).length>1&&(i=await this.parsingContext.getContext(l,0)),"@context"in c&&(i=await this.parsingContext.parseContext(c["@context"],i.getContextRaw())),c["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(i,c["@id"]));{const d=c["@id"];let h;if(typeof d=="object")if(this.parsingContext.rdfstar)h=this.parsingContext.idStack[s+1][0];else throw new a.ErrorCoded(`Found illegal @id '${c}'`,a.ERROR_CODES.INVALID_ID_VALUE);else h=this.resourceToTerm(i,d);return this.nullableTermToArray(h)}}else return this.parsingContext.emittedStack[s+1]||c&&typeof c=="object"&&Object.keys(c).length===0?this.parsingContext.idStack[s+1]||(this.parsingContext.idStack[s+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(s,await this.getContextSelfOrPropertyScoped(i,o),o,c,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(s,await this.getContextSelfOrPropertyScoped(i,o),o,(!!c).toString(),this.dataFactory.namedNode(r.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(s,await this.getContextSelfOrPropertyScoped(i,o),o,c,this.dataFactory.namedNode(c%1===0&&c<1e21?r.XSD_INTEGER:r.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${f}`)),[]}}async getContextSelfOrPropertyScoped(i,o){const c=i.getContextRaw()[o];return c&&typeof c=="object"&&"@context"in c&&(i=await this.parsingContext.parseContext(c,i.getContextRaw(),!0)),i}nullableTermToArray(i){return i?[i]:[]}predicateToTerm(i,o){const c=i.expandTerm(o,!0,this.parsingContext.getExpandOptions());if(!c)return null;if(c[0]==="_"&&c[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(c.substr(2)):null;if(r.isValidIri(c))return this.dataFactory.namedNode(c);if(c&&this.parsingContext.strictValues)this.parsingContext.emitError(new a.ErrorCoded(`Invalid predicate IRI: ${c}`,a.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(i,o){if(o.startsWith("_:"))return this.dataFactory.blankNode(o.substr(2));const c=i.expandTerm(o,!1,this.parsingContext.getExpandOptions());if(!r.isValidIri(c))if(c&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${c}`));else return null;return this.dataFactory.namedNode(c)}createVocabOrBaseTerm(i,o){if(o.startsWith("_:"))return this.dataFactory.blankNode(o.substr(2));const c=this.parsingContext.getExpandOptions();let s=i.expandTerm(o,!0,c);if(s===o&&(s=i.expandTerm(o,!1,c)),!r.isValidIri(s))if(s&&this.parsingContext.strictValues&&!s.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${s}`));else return null;return this.dataFactory.namedNode(s)}intToString(i,o){return typeof i=="number"?Number.isFinite(i)?i%1===0&&(!o||o.value!==r.XSD_DOUBLE)?Number(i).toString():i.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):i>0?"INF":"-INF":i}stringValueToTerm(i,o,c,s,l){const f=r.getContextValueType(o,c);if(f)if(f==="@id"){if(!l)return this.resourceToTerm(o,this.intToString(s,l))}else if(f==="@vocab"){if(!l)return this.createVocabOrBaseTerm(o,this.intToString(s,l))}else l=this.dataFactory.namedNode(f);if(!l){const d=r.getContextValueLanguage(o,c),h=r.getContextValueDirection(o,c);return h&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(i,this.intToString(s,l),d,h):this.dataFactory.literal(this.intToString(s,l),d)}return this.dataFactory.literal(this.intToString(s,l),l)}createLanguageDirectionLiteral(i,o,c,s){if(this.parsingContext.rdfDirection==="i18n-datatype")return c||(c=""),this.dataFactory.literal(o,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${c}_${s}`));{const l=this.dataFactory.blankNode(),f=this.getDefaultGraph();return this.parsingContext.emitQuad(i,this.dataFactory.quad(l,this.dataFactory.namedNode(r.RDF+"value"),this.dataFactory.literal(o),f)),c&&this.parsingContext.emitQuad(i,this.dataFactory.quad(l,this.dataFactory.namedNode(r.RDF+"language"),this.dataFactory.literal(c),f)),this.parsingContext.emitQuad(i,this.dataFactory.quad(l,this.dataFactory.namedNode(r.RDF+"direction"),this.dataFactory.literal(s),f)),l}}valueToJsonString(i){return n(i)}async unaliasKeyword(i,o,c,s,l){if(Number.isInteger(i))return i;if(!s){const f=this.parsingContext.unaliasedKeywordCacheStack[c];if(f)return f}if(!a.Util.isPotentialKeyword(i)){l=l||await this.parsingContext.getContext(o);let f=l.getContextRaw()[i];f&&typeof f=="object"&&(f=f["@id"]),a.Util.isValidKeyword(f)&&(i=f)}return s?i:this.parsingContext.unaliasedKeywordCacheStack[c]=i}async unaliasKeywordParent(i,o){return await this.unaliasKeyword(o>0&&i[o-1],i,o-1)}async unaliasKeywords(i,o,c,s){const l={};for(const f in i)l[await this.unaliasKeyword(f,o,c+1,!0,s)]=i[f];return l}async isLiteral(i,o){for(let c=o;c>=0;c--){if(await this.unaliasKeyword(i[c],i,c)==="@annotation")return!1;if(this.parsingContext.literalStack[c]||this.parsingContext.jsonLiteralStack[c])return!0}return!1}async getDepthOffsetGraph(i,o){for(let c=i-1;c>0;c--)if(await this.unaliasKeyword(o[c],o,c)==="@graph"){const s=(await u.EntryHandlerContainer.getContainerHandler(this.parsingContext,o,c)).containers;return u.EntryHandlerContainer.isComplexGraphContainer(s)?-1:i-c-1}return-1}validateReverseSubject(i){if(i.termType==="Literal")throw new a.ErrorCoded(`Found illegal literal in subject position: ${i.value}`,a.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(i,o){let c=this.getDefaultGraph();const{containers:s,depth:l}=await u.EntryHandlerContainer.getContainerHandler(this.parsingContext,i,o);if("@graph"in s){const f=u.EntryHandlerContainer.getContainerGraphIndex(s,l,i),d=this.parsingContext.graphContainerTermStack[l];if(c=d?d[f]:null,!c){let h=null;if("@id"in s){const p=await this.getContainerKey(i[l],i,l);p!==null&&(h=await this.resourceToTerm(await this.parsingContext.getContext(i),p))}h||(h=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[l]||(this.parsingContext.graphContainerTermStack[l]={}),c=this.parsingContext.graphContainerTermStack[l][f]=h}}return c}async getPropertiesDepth(i,o){let c=o;for(let s=o-1;s>0;s--)if(typeof i[s]!="number"){const l=await this.unaliasKeyword(i[s],i,s);if(l==="@reverse")return s;if(l==="@nest")c=s;else return c}return c}async getContainerKey(i,o,c){const s=await this.unaliasKeyword(i,o,c);return s==="@none"?null:s}validateReverseInEmbeddedNode(i,o,c){if(c&&o&&!this.parsingContext.rdfstarReverseInEmbedded)throw new a.ErrorCoded(`Illegal reverse property in embedded node in ${i}`,a.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(i,o,c,s,l,f,d){let h;if(f?(this.validateReverseSubject(s),h=this.dataFactory.quad(s,c,o,l)):h=this.dataFactory.quad(o,c,s,l),d){if(h.graph.termType!=="DefaultGraph"&&(h=this.dataFactory.quad(h.subject,h.predicate,h.object)),this.parsingContext.idStack[i-1])throw new a.ErrorCoded("Illegal multiple properties in an embedded node",a.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[i-1]=[h]}else this.parsingContext.emitQuad(i,h);const p=this.parsingContext.annotationsBuffer[i];if(p){for(const b of p)this.emitAnnotation(i,h,b);delete this.parsingContext.annotationsBuffer[i]}}emitAnnotation(i,o,c){let s;c.reverse?(this.validateReverseSubject(c.object),s=this.dataFactory.quad(c.object,c.predicate,o)):s=this.dataFactory.quad(o,c.predicate,c.object),this.parsingContext.emitQuad(i,s);for(const l of c.nestedAnnotations)this.emitAnnotation(i,s,l)}}return r.XSD="http://www.w3.org/2001/XMLSchema#",r.XSD_BOOLEAN=r.XSD+"boolean",r.XSD_INTEGER=r.XSD+"integer",r.XSD_DOUBLE=r.XSD+"double",r.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",oT.Util=r,oT}var qJ;function g_e(){if(qJ)return uT;qJ=1,Object.defineProperty(uT,"__esModule",{value:!0}),uT.EntryHandlerArrayValue=void 0;const a=Ll(),t=un();let u=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,e,i,o,c){return this.test(r,e,null,i,o)}async test(r,e,i,o,c){return typeof o[c]=="number"}async handle(r,e,i,o,c,s){let l=await e.unaliasKeywordParent(o,s);if(l==="@list"){let f=null,d=0;for(let h=s-2;h>0;h--){const p=o[h];if(typeof p=="string"||typeof p=="number"){d=h,f=p;break}}if(f!==null){const h=await e.valueToTerm(await r.getContext(o),f,c,s,o);for(const p of h)await this.handleListElement(r,e,p,c,s,o.slice(0,d),d);h.length===0&&await this.handleListElement(r,e,null,c,s,o.slice(0,d),d)}}else if(l==="@set")await r.newOnValueJob(o.slice(0,-2),c,s-2,!1);else if(l!==void 0&&l!=="@type"){for(let d=s-1;d>0;d--)if(typeof o[d]!="number"){l=await e.unaliasKeyword(o[d],o,d);break}const f=await r.getContext(o.slice(0,-1));if("@list"in a.Util.getContextValueContainer(f,l)){r.emittedStack[s+1]=!0;const d=await e.valueToTerm(await r.getContext(o),l,c,s,o);for(const h of d)await this.handleListElement(r,e,h,c,s,o.slice(0,-1),s-1);d.length===0&&await this.handleListElement(r,e,null,c,s,o.slice(0,-1),s-1)}else r.shiftStack(s,1),await r.newOnValueJob(o.slice(0,-1),c,s-1,!1),r.contextTree.removeContext(o.slice(0,-1))}}async handleListElement(r,e,i,o,c,s,l){let f=r.listPointerStack[c];if(o!==null&&(await e.unaliasKeywords(o,s,c))["@value"]!==null){if(!f||!f.value){const d=e.dataFactory.blankNode();f={value:d,listRootDepth:l,listId:d}}else{const d=e.dataFactory.blankNode();r.emitQuad(c,e.dataFactory.quad(f.value,e.rdfRest,d,e.getDefaultGraph())),f.value=d}i&&r.emitQuad(c,e.dataFactory.quad(f.value,e.rdfFirst,i,e.getDefaultGraph()))}else f||(f={listRootDepth:l,listId:e.rdfNil});r.listPointerStack[c]=f,r.rdfstar&&r.annotationsBuffer[c]&&r.emitError(new t.ErrorCoded("Found an illegal annotation inside a list",t.ERROR_CODES.INVALID_ANNOTATION))}};return uT.EntryHandlerArrayValue=u,uT}var TT={},CJ;function v_e(){if(CJ)return TT;CJ=1,Object.defineProperty(TT,"__esModule",{value:!0}),TT.EntryHandlerInvalidFallback=void 0;let a=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(u,n,r,e,i){return!1}async test(u,n,r,e,i){return!0}async handle(u,n,r,e,i,o){u.emittedStack[o]=!1}};return TT.EntryHandlerInvalidFallback=a,TT}var wT={},ST={},BJ;function _a(){if(BJ)return ST;BJ=1,Object.defineProperty(ST,"__esModule",{value:!0}),ST.EntryHandlerKeyword=void 0;let a=class{constructor(u){this.keyword=u}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(u,n,r,e,i){return!1}async test(u,n,r,e,i){return r===this.keyword}};return ST.EntryHandlerKeyword=a,ST}var $J;function T_e(){if($J)return wT;$J=1,Object.defineProperty(wT,"__esModule",{value:!0}),wT.EntryHandlerKeywordContext=void 0;const a=un(),t=_a();let u=class extends t.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(r,e,i,o,c,s){r.streamingProfile&&(r.processingStack[s]||r.processingType[s]||r.idStack[s]!==void 0)&&r.emitError(new a.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",a.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const l=r.getContext(o),f=r.parseContext(c,(await l).getContextRaw());r.contextTree.setContext(o.slice(0,-1),f),r.emitContext(c),await r.validateContext(await f)}};return wT.EntryHandlerKeywordContext=u,wT}var OT={},VJ;function w_e(){if(VJ)return OT;VJ=1,Object.defineProperty(OT,"__esModule",{value:!0}),OT.EntryHandlerKeywordGraph=void 0;const a=_a();let t=class extends a.EntryHandlerKeyword{constructor(){super("@graph")}async handle(n,r,e,i,o,c){n.graphStack[c+1]=!0}};return OT.EntryHandlerKeywordGraph=t,OT}var AT={},UJ;function S_e(){if(UJ)return AT;UJ=1,Object.defineProperty(AT,"__esModule",{value:!0}),AT.EntryHandlerKeywordId=void 0;const a=un(),t=_a();let u=class extends t.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(r,e,i,o,c,s){if(typeof c!="string"){if(r.rdfstar&&typeof c=="object"){const f=Object.keys(c);f.length===1&&f[0]==="@id"&&r.emitError(new a.ErrorCoded(`Invalid embedded node without property with @id ${c["@id"]}`,a.ERROR_CODES.INVALID_EMBEDDED_NODE))}else r.emitError(new a.ErrorCoded(`Found illegal @id '${c}'`,a.ERROR_CODES.INVALID_ID_VALUE));return}const l=await e.getPropertiesDepth(o,s);if(r.idStack[l]!==void 0&&(r.idStack[l][0].listHead?r.emitError(new a.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${o[s-1]}'`,a.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):r.emitError(new a.ErrorCoded(`Found duplicate @ids '${r.idStack[l][0].value}' and '${c}'`,a.ERROR_CODES.COLLIDING_KEYWORDS))),r.rdfstar&&r.annotationsBuffer[s])for(const f of r.annotationsBuffer[s])f.depth===s&&r.emitError(new a.ErrorCoded(`Found an illegal @id inside an annotation: ${c}`,a.ERROR_CODES.INVALID_ANNOTATION));r.idStack[l]=e.nullableTermToArray(await e.resourceToTerm(await r.getContext(o),c))}};return AT.EntryHandlerKeywordId=u,AT}var ET={},QJ;function O_e(){if(QJ)return ET;QJ=1,Object.defineProperty(ET,"__esModule",{value:!0}),ET.EntryHandlerKeywordIncluded=void 0;const a=un(),t=_a();let u=class extends t.EntryHandlerKeyword{constructor(){super("@included")}async handle(r,e,i,o,c,s){typeof c!="object"&&r.emitError(new a.ErrorCoded(`Found illegal @included '${c}'`,a.ERROR_CODES.INVALID_INCLUDED_VALUE));const l=await e.unaliasKeywords(c,o,s,await r.getContext(o));"@value"in l&&r.emitError(new a.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(c)}'`,a.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in l&&r.emitError(new a.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(c)}'`,a.ERROR_CODES.INVALID_INCLUDED_VALUE)),r.emittedStack[s]=!1}};return ET.EntryHandlerKeywordIncluded=u,ET}var xT={},HJ;function A_e(){if(HJ)return xT;HJ=1,Object.defineProperty(xT,"__esModule",{value:!0}),xT.EntryHandlerKeywordNest=void 0;const a=un(),t=_a();let u=class extends t.EntryHandlerKeyword{constructor(){super("@nest")}async handle(r,e,i,o,c,s){typeof c!="object"&&r.emitError(new a.ErrorCoded(`Found invalid @nest entry for '${i}': '${c}'`,a.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await e.unaliasKeywords(c,o,s,await r.getContext(o))&&r.emitError(new a.ErrorCoded(`Found an invalid @value node for '${i}'`,a.ERROR_CODES.INVALID_NEST_VALUE)),r.emittedStack[s]=!1}};return xT.EntryHandlerKeywordNest=u,xT}var IT={},GJ;function E_e(){if(GJ)return IT;GJ=1,Object.defineProperty(IT,"__esModule",{value:!0}),IT.EntryHandlerKeywordType=void 0;const a=un(),t=Ll(),u=RA(),n=_a();let r=class extends n.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(i,o,c,s,l,f){const d=s[f],h=await i.getContext(s),p=o.rdfType,b=await o.unaliasKeywordParent(s,f),m=t.Util.isPropertyReverse(h,d,b),y=t.Util.isPropertyInEmbeddedNode(b);o.validateReverseInEmbeddedNode(c,m,y);const g=t.Util.isPropertyInAnnotationObject(b),_=Array.isArray(l)?l:[l];for(const w of _){typeof w!="string"&&i.emitError(new a.ErrorCoded(`Found illegal @type '${w}'`,a.ERROR_CODES.INVALID_TYPE_VALUE));const A=o.createVocabOrBaseTerm(h,w);A&&await u.EntryHandlerPredicate.handlePredicateObject(i,o,s,f,p,A,m,y,g)}let v=Promise.resolve(h),T=!1;for(const w of _.sort()){const A=t.Util.getContextValue(h,"@context",w,null);A&&(T=!0,v=v.then(M=>i.parseContext(A,M.getContextRaw())))}i.streamingProfile&&(T||!i.streamingProfileAllowOutOfOrderPlainType)&&(i.processingStack[f]||i.idStack[f])&&i.emitError(new a.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",a.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),T&&(v=v.then(w=>w.getContextRaw()["@propagate"]!==!0?new a.JsonLdContextNormalized(Object.assign(Object.assign({},w.getContextRaw()),{"@propagate":!1,"@__propagateFallback":h.getContextRaw()})):w),i.contextTree.setContext(s.slice(0,s.length-1),v)),i.processingType[f]=!0}};return IT.EntryHandlerKeywordType=r,IT}var RT={},kJ;function x_e(){if(kJ)return RT;kJ=1,Object.defineProperty(RT,"__esModule",{value:!0}),RT.EntryHandlerKeywordUnknownFallback=void 0;const a=un();let t=class lie{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(n,r,e,i,o){const c=await r.unaliasKeyword(e[i],e,i);return a.Util.isPotentialKeyword(c)?!(!o&&c==="@list"):!1}async test(n,r,e,i,o){return a.Util.isPotentialKeyword(e)}async handle(n,r,e,i,o,c){const s=lie.VALID_KEYWORDS_TYPES[e];s!==void 0?s&&typeof o!==s.type&&n.emitError(new a.ErrorCoded(`Invalid value type for '${e}' with value '${o}'`,s.errorCode)):n.strictValues&&n.emitError(new Error(`Unknown keyword '${e}' with value '${o}'`)),n.emittedStack[c]=!1}};return t.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:a.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:a.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null},RT.EntryHandlerKeywordUnknownFallback=t,RT}var NT={},zJ;function I_e(){if(zJ)return NT;zJ=1,Object.defineProperty(NT,"__esModule",{value:!0}),NT.EntryHandlerKeywordValue=void 0;const a=_a();let t=class extends a.EntryHandlerKeyword{constructor(){super("@value")}async validate(n,r,e,i,o){const c=e[i];return c&&!n.literalStack[i]&&await this.test(n,r,c,e,i)&&(n.literalStack[i]=!0),super.validate(n,r,e,i,o)}async test(n,r,e,i,o){return await r.unaliasKeyword(i[o],i.slice(0,i.length-1),o-1,!0)==="@value"}async handle(n,r,e,i,o,c){n.literalStack[c]=!0,delete n.unidentifiedValuesBuffer[c],delete n.unidentifiedGraphsBuffer[c],n.emittedStack[c]=!1}};return NT.EntryHandlerKeywordValue=t,NT}var FT={},DT={},XJ;function R_e(){if(XJ)return DT;XJ=1,Object.defineProperty(DT,"__esModule",{value:!0}),DT.ContextTree=void 0;let a=class die{constructor(){this.subTrees={}}getContext(u){if(u.length>0){const[n,...r]=u,e=this.subTrees[n];if(e){const i=e.getContext(r);if(i)return i.then(({context:o,depth:c})=>({context:o,depth:c+1}))}}return this.context?this.context.then(n=>({context:n,depth:0})):null}setContext(u,n){if(u.length===0)this.context=n;else{const[r,...e]=u;let i=this.subTrees[r];i||(i=this.subTrees[r]=new die),i.setContext(e,n)}}removeContext(u){this.setContext(u,null)}};return DT.ContextTree=a,DT}var JJ;function N_e(){if(JJ)return FT;JJ=1,Object.defineProperty(FT,"__esModule",{value:!0}),FT.ParsingContext=void 0;const a=un(),t=nT(),u=R_e(),n=YJ();let r=class fie{constructor(i){this.contextParser=new a.ContextParser({documentLoader:i.documentLoader,skipValidation:i.skipContextValidation}),this.streamingProfile=!!i.streamingProfile,this.baseIRI=i.baseIRI,this.produceGeneralizedRdf=!!i.produceGeneralizedRdf,this.allowSubjectList=!!i.allowSubjectList,this.processingMode=i.processingMode||n.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!i.strictValues,this.validateValueIndexes=!!i.validateValueIndexes,this.defaultGraph=i.defaultGraph,this.rdfDirection=i.rdfDirection,this.normalizeLanguageTags=i.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=i.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=i.rdfstar!==!1,this.rdfstarReverseInEmbedded=i.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new u.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=i.parser,i.context?(this.rootContext=this.parseContext(i.context),this.rootContext.then(o=>this.validateContext(o))):this.rootContext=Promise.resolve(new a.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(i,o,c){return this.contextParser.parse(i,{baseIRI:this.baseIRI,ignoreProtection:c,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:o,processingMode:this.activeProcessingMode})}validateContext(i){const o=i.getContextRaw()["@version"];if(o){if(this.activeProcessingMode&&o>this.activeProcessingMode)throw new t.ErrorCoded(`Unsupported JSON-LD version '${o}' under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&o<this.activeProcessingMode)throw new t.ErrorCoded(`Invalid JSON-LD version ${o} under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=o}}async getContext(i,o=1){const c=i;for(;typeof i[i.length-1]=="number";)i=i.slice(0,i.length-1);o&&(i=i.slice(0,-o));const s=await this.getContextPropagationAware(i);let f=s.context.getContextRaw();for(let d=s.depth;d<c.length-o;d++){const h=c[d],p=f[h];if(p&&typeof p=="object"&&"@context"in p){const b=(await this.parseContext(p,f,!0)).getContextRaw(),m=!(h in b)||b[h]["@context"]["@propagate"];(m!==!1||d===c.length-1-o)&&(f=Object.assign({},b),delete f["@propagate"],f[h]=Object.assign({},f[h]),"@id"in p&&(f[h]["@id"]=p["@id"]),delete f[h]["@context"],m!==!1&&this.contextTree.setContext(c.slice(0,d+o),Promise.resolve(new a.JsonLdContextNormalized(f))))}}return new a.JsonLdContextNormalized(f)}async getContextPropagationAware(i){const o=i.length;let c=null,s;do{s=!1,c&&"@__propagateFallback"in c.context.getContextRaw()?c.context=new a.JsonLdContextNormalized(c.context.getContextRaw()["@__propagateFallback"]):(c&&(i=i.slice(0,c.depth-1)),c=await this.contextTree.getContext(i)||{context:await this.rootContext,depth:0});const l=i[i.length-1];if(l in c.context.getContextRaw()){const f=c.context.getContextRaw()[l];f&&typeof f=="object"&&"@context"in f&&(s=!0)}}while(c.depth>0&&c.context.getContextRaw()["@propagate"]===!1&&c.depth!==o&&!s);return c.depth===0&&c.context.getContextRaw()["@propagate"]===!1&&c.depth!==o&&(c.context=new a.JsonLdContextNormalized({})),c}async newOnValueJob(i,o,c,s){await this.parser.newOnValueJob(i,o,c,s)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const i of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(i.depth,i.keys),this.parser.flushStacks(i.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1}emitQuad(i,o){i===1&&(this.topLevelProperties=!0),this.parser.push(o)}emitError(i){this.parser.emit("error",i)}emitContext(i){this.parser.emit("context",i)}getUnidentifiedValueBufferSafe(i){let o=this.unidentifiedValuesBuffer[i];return o||(o=[],this.unidentifiedValuesBuffer[i]=o),o}getUnidentifiedGraphBufferSafe(i){let o=this.unidentifiedGraphsBuffer[i];return o||(o=[],this.unidentifiedGraphsBuffer[i]=o),o}getAnnotationsBufferSafe(i){let o=this.annotationsBuffer[i];return o||(o=[],this.annotationsBuffer[i]=o),o}getExpandOptions(){return fie.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(i,o){const c=this.idStack[i+o];if(c&&(this.idStack[i]=c,this.emittedStack[i]=!0,delete this.idStack[i+o]),this.pendingContainerFlushBuffers.length)for(const s of this.pendingContainerFlushBuffers)s.depth>=i+o&&(s.depth-=o,s.keys.splice(i,o));this.unidentifiedValuesBuffer[i+o]&&(this.unidentifiedValuesBuffer[i]=this.unidentifiedValuesBuffer[i+o],delete this.unidentifiedValuesBuffer[i+o]),this.annotationsBuffer[i+o-1]&&(this.annotationsBuffer[i-1]||(this.annotationsBuffer[i-1]=[]),this.annotationsBuffer[i-1]=[...this.annotationsBuffer[i-1],...this.annotationsBuffer[i+o-1]],delete this.annotationsBuffer[i+o-1])}};return r.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},FT.ParsingContext=r,FT}var PT={},KJ;function F_e(){if(KJ)return PT;KJ=1,Object.defineProperty(PT,"__esModule",{value:!0}),PT.EntryHandlerKeywordAnnotation=void 0;const a=_a(),t=un();let u=class extends a.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(r,e,i,o,c,s){(typeof c=="string"||typeof c=="object"&&c["@value"])&&r.emitError(new t.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(c)}`,t.ERROR_CODES.INVALID_ANNOTATION))}};return PT.EntryHandlerKeywordAnnotation=u,PT}var WJ;function YJ(){if(WJ)return tT;WJ=1,Object.defineProperty(tT,"__esModule",{value:!0}),tT.JsonLdParser=void 0;const a=h9(),t=un(),u=Mt(),n=g_e(),r=LJ(),e=v_e(),i=RA(),o=T_e(),c=w_e(),s=S_e(),l=O_e(),f=A_e(),d=E_e(),h=x_e(),p=I_e(),b=N_e(),m=Ll(),y=s1(),g=F_e();let _=class kh extends u.Transform{constructor(T){super({readableObjectMode:!0}),T=T||{},this.options=T,this.parsingContext=new b.ParsingContext(Object.assign({parser:this},T)),this.util=new m.Util({dataFactory:T.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new a,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(T,w,A,M){let F,O=["application/activity+json"];if(M&&M.wellKnownMediaTypes&&(O=M.wellKnownMediaTypes),w!=="application/ld+json"&&!O.includes(w)){if(w!=="application/json"&&!w.endsWith("+json"))throw new t.ErrorCoded(`Unsupported JSON-LD media type ${w}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(A&&A.has("Link")&&A.forEach((x,L)=>{if(L==="link"){const V=(0,y.parse)(x);for(const $ of V.get("rel","http://www.w3.org/ns/json-ld#context")){if(F)throw new t.ErrorCoded("Multiple JSON-LD context link headers were found on "+T,t.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);F=$.uri}}}),!F&&!(M!=null&&M.ignoreMissingContextLinkHeader))throw new t.ErrorCoded(`Missing context link header for media type ${w} on ${T}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let E;if(A&&A.has("Content-Type")){const x=A.get("Content-Type"),L=/; *profile=([^"]*)/.exec(x);L&&L[1]==="http://www.w3.org/ns/json-ld#streaming"&&(E=!0)}return new kh(Object.assign({baseIRI:T,context:F,streamingProfile:E},M||{}))}import(T){if("pipe"in T){T.on("error",A=>w.emit("error",A));const w=T.pipe(new kh(this.options));return w}else{const w=new u.PassThrough({readableObjectMode:!0});T.on("error",M=>A.emit("error",M)),T.on("data",M=>w.push(M)),T.on("end",()=>w.push(null));const A=w.pipe(new kh(this.options));return A}}_transform(T,w,A){this.jsonParser.write(T),this.lastOnValueJob.then(()=>A(),M=>A(M))}async newOnValueJob(T,w,A,M){let F=!0;if(M&&A<this.lastDepth){const V=this.parsingContext.listPointerStack[this.lastDepth];V&&(V.value&&this.push(this.util.dataFactory.quad(V.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),V.listId.listHead=!0,this.parsingContext.idStack[V.listRootDepth+1]=[V.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await r.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),F=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const O=await this.util.unaliasKeyword(T[A],T,A),E=await this.util.unaliasKeywordParent(T,A);this.parsingContext.emittedStack[A]=!0;let x=!0;t.Util.isValidKeyword(O)&&E==="@reverse"&&O!=="@context"&&this.emit("error",new t.ErrorCoded(`Found the @id '${w}' inside an @reverse property`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let L=!1;this.parsingContext.validationStack.length>1&&(L=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let V=Math.max(1,this.parsingContext.validationStack.length-1);V<T.length-1;V++){const $=this.parsingContext.validationStack[V]||(this.parsingContext.validationStack[V]=await this.validateKey(T.slice(0,V+1),V,L));if($.valid)!L&&$.property&&(L=!0);else{this.parsingContext.emittedStack[A]=!1,x=!1;break}}if(await this.util.isLiteral(T,A)&&(x=!1),x)for(const V of kh.ENTRY_HANDLERS){const $=await V.test(this.parsingContext,this.util,O,T,A);if($){await V.handle(this.parsingContext,this.util,O,T,w,A,$),V.isStackProcessor()&&(this.parsingContext.processingStack[A]=!0);break}}A===0&&Array.isArray(w)&&await this.util.validateValueIndexes(w),F&&A<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=A,this.lastKeys=T,this.parsingContext.unaliasedKeywordCacheStack.splice(A-1)}flushStacks(T){this.parsingContext.processingStack.splice(T,1),this.parsingContext.processingType.splice(T,1),this.parsingContext.emittedStack.splice(T,1),this.parsingContext.idStack.splice(T,1),this.parsingContext.graphStack.splice(T+1,1),this.parsingContext.graphContainerTermStack.splice(T,1),this.parsingContext.jsonLiteralStack.splice(T,1),this.parsingContext.validationStack.splice(T-1,2),this.parsingContext.literalStack.splice(T,this.parsingContext.literalStack.length-T),this.parsingContext.annotationsBuffer.splice(T,1)}async flushBuffer(T,w){let A=this.parsingContext.idStack[T];!!A||(A=this.parsingContext.idStack[T]=[this.util.dataFactory.blankNode()]);const F=this.parsingContext.unidentifiedValuesBuffer[T];if(F){for(const x of A){const L=await this.util.getDepthOffsetGraph(T,w),V=this.parsingContext.graphStack[T]||L>=0?this.parsingContext.idStack[T-L-1]:[await this.util.getGraphContainerValue(w,T)];if(V)for(const $ of V){this.parsingContext.emittedStack[T]=!0;for(const Q of F)this.util.emitQuadChecked(T,x,Q.predicate,Q.object,$,Q.reverse,Q.isEmbedded)}else{const $=this.parsingContext.getUnidentifiedGraphBufferSafe(T-await this.util.getDepthOffsetGraph(T,w)-1);for(const Q of F)Q.reverse?$.push({object:x,predicate:Q.predicate,subject:Q.object,isEmbedded:Q.isEmbedded}):$.push({object:Q.object,predicate:Q.predicate,subject:x,isEmbedded:Q.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(T,1),this.parsingContext.literalStack.splice(T,1),this.parsingContext.jsonLiteralStack.splice(T,1)}const O=this.parsingContext.unidentifiedGraphsBuffer[T];if(O){for(const x of A){const L=T===1&&x.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():x;this.parsingContext.emittedStack[T]=!0;for(const V of O)this.parsingContext.emitQuad(T,this.util.dataFactory.quad(V.subject,V.predicate,V.object,L))}this.parsingContext.unidentifiedGraphsBuffer.splice(T,1)}const E=this.parsingContext.annotationsBuffer[T];if(E){E.length>0&&T===1&&this.parsingContext.emitError(new t.ErrorCoded("Annotations can not be made on top-level nodes",t.ERROR_CODES.INVALID_ANNOTATION));const x=this.parsingContext.getAnnotationsBufferSafe(T-1);for(const L of E)x.push(L);delete this.parsingContext.annotationsBuffer[T]}}async validateKey(T,w,A){for(const M of kh.ENTRY_HANDLERS)if(await M.validate(this.parsingContext,this.util,T,w,A))return{valid:!0,property:A||M.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=T=>{const w=this.jsonParser.stack.length,A=new Array(w+1).fill(0).map((M,F)=>F===w?this.jsonParser.key:this.jsonParser.stack[F].key);if(!this.isParsingContextInner(w)){const M=()=>this.newOnValueJob(A,T,w,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(A.slice(0,-1)))if(A[w]==="@context"){let F=this.contextJobs[w];F||(F=this.contextJobs[w]=[]),F.push(M)}else this.contextAwaitingJobs.push({job:M,keys:A,depth:w});else this.lastOnValueJob=this.lastOnValueJob.then(M);!this.parsingContext.streamingProfile&&w===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=T=>{this.emit("error",T)}}isParsingContextInner(T){for(let w=T;w>0;w--)if(this.jsonParser.stack[w-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const w of this.contextJobs)if(w)for(const A of w)await A();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const T=[];for(const w of this.contextAwaitingJobs)await this.util.unaliasKeyword(w.keys[w.depth],w.keys,w.depth,!0)==="@type"||typeof w.keys[w.depth]=="number"&&await this.util.unaliasKeyword(w.keys[w.depth-1],w.keys,w.depth-1,!0)==="@type"?this.typeJobs.push({job:w.job,keys:w.keys.slice(0,w.keys.length-1)}):T.push(w);for(const w of T){if(this.typeJobs.length>0){const A=[],M=[];for(let E=0;E<this.typeJobs.length;E++){const x=this.typeJobs[E];m.Util.isPrefixArray(x.keys,w.keys)&&(A.push(x),M.push(E))}const F=A.sort((E,x)=>E.keys.length-x.keys.length);for(const E of F)await E.job();const O=M.sort().reverse();for(const E of O)this.typeJobs.splice(E,1)}await w.job()}}};return _.DEFAULT_PROCESSING_MODE="1.1",_.ENTRY_HANDLERS=[new n.EntryHandlerArrayValue,new o.EntryHandlerKeywordContext,new s.EntryHandlerKeywordId,new l.EntryHandlerKeywordIncluded,new c.EntryHandlerKeywordGraph,new f.EntryHandlerKeywordNest,new d.EntryHandlerKeywordType,new p.EntryHandlerKeywordValue,new g.EntryHandlerKeywordAnnotation,new r.EntryHandlerContainer,new h.EntryHandlerKeywordUnknownFallback,new i.EntryHandlerPredicate,new e.EntryHandlerInvalidFallback],tT.JsonLdParser=_,tT}var ZJ;function D_e(){return ZJ||(ZJ=1,function(a){var t=Fl&&Fl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Fl&&Fl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(YJ(),a)}(Fl)),Fl}var LT={},jl={},jT={},qN={},eK;function tK(){return eK||(eK=1,function(){(function(a){(function(t){var u=typeof globalThis<"u"&&globalThis||typeof a<"u"&&a||typeof It<"u"&&It||{},n={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function r(O){return O&&DataView.prototype.isPrototypeOf(O)}if(n.arrayBuffer)var e=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(O){return O&&e.indexOf(Object.prototype.toString.call(O))>-1};function o(O){if(typeof O!="string"&&(O=String(O)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(O)||O==="")throw new TypeError('Invalid character in header field name: "'+O+'"');return O.toLowerCase()}function c(O){return typeof O!="string"&&(O=String(O)),O}function s(O){var E={next:function(){var x=O.shift();return{done:x===void 0,value:x}}};return n.iterable&&(E[Symbol.iterator]=function(){return E}),E}function l(O){this.map={},O instanceof l?O.forEach(function(E,x){this.append(x,E)},this):Array.isArray(O)?O.forEach(function(E){if(E.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+E.length);this.append(E[0],E[1])},this):O&&Object.getOwnPropertyNames(O).forEach(function(E){this.append(E,O[E])},this)}l.prototype.append=function(O,E){O=o(O),E=c(E);var x=this.map[O];this.map[O]=x?x+", "+E:E},l.prototype.delete=function(O){delete this.map[o(O)]},l.prototype.get=function(O){return O=o(O),this.has(O)?this.map[O]:null},l.prototype.has=function(O){return this.map.hasOwnProperty(o(O))},l.prototype.set=function(O,E){this.map[o(O)]=c(E)},l.prototype.forEach=function(O,E){for(var x in this.map)this.map.hasOwnProperty(x)&&O.call(E,this.map[x],x,this)},l.prototype.keys=function(){var O=[];return this.forEach(function(E,x){O.push(x)}),s(O)},l.prototype.values=function(){var O=[];return this.forEach(function(E){O.push(E)}),s(O)},l.prototype.entries=function(){var O=[];return this.forEach(function(E,x){O.push([x,E])}),s(O)},n.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);function f(O){if(!O._noBody){if(O.bodyUsed)return Promise.reject(new TypeError("Already read"));O.bodyUsed=!0}}function d(O){return new Promise(function(E,x){O.onload=function(){E(O.result)},O.onerror=function(){x(O.error)}})}function h(O){var E=new FileReader,x=d(E);return E.readAsArrayBuffer(O),x}function p(O){var E=new FileReader,x=d(E),L=/charset=([A-Za-z0-9_-]+)/.exec(O.type),V=L?L[1]:"utf-8";return E.readAsText(O,V),x}function b(O){for(var E=new Uint8Array(O),x=new Array(E.length),L=0;L<E.length;L++)x[L]=String.fromCharCode(E[L]);return x.join("")}function m(O){if(O.slice)return O.slice(0);var E=new Uint8Array(O.byteLength);return E.set(new Uint8Array(O)),E.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(O){this.bodyUsed=this.bodyUsed,this._bodyInit=O,O?typeof O=="string"?this._bodyText=O:n.blob&&Blob.prototype.isPrototypeOf(O)?this._bodyBlob=O:n.formData&&FormData.prototype.isPrototypeOf(O)?this._bodyFormData=O:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(O)?this._bodyText=O.toString():n.arrayBuffer&&n.blob&&r(O)?(this._bodyArrayBuffer=m(O.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(O)||i(O))?this._bodyArrayBuffer=m(O):this._bodyText=O=Object.prototype.toString.call(O):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof O=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(O)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var O=f(this);if(O)return O;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var O=f(this);return O||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(n.blob)return this.blob().then(h);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var O=f(this);if(O)return O;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(b(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}var g=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function _(O){var E=O.toUpperCase();return g.indexOf(E)>-1?E:O}function v(O,E){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');E=E||{};var x=E.body;if(O instanceof v){if(O.bodyUsed)throw new TypeError("Already read");this.url=O.url,this.credentials=O.credentials,E.headers||(this.headers=new l(O.headers)),this.method=O.method,this.mode=O.mode,this.signal=O.signal,!x&&O._bodyInit!=null&&(x=O._bodyInit,O.bodyUsed=!0)}else this.url=String(O);if(this.credentials=E.credentials||this.credentials||"same-origin",(E.headers||!this.headers)&&(this.headers=new l(E.headers)),this.method=_(E.method||this.method||"GET"),this.mode=E.mode||this.mode||null,this.signal=E.signal||this.signal||function(){if("AbortController"in u){var $=new AbortController;return $.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&x)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(x),(this.method==="GET"||this.method==="HEAD")&&(E.cache==="no-store"||E.cache==="no-cache")){var L=/([?&])_=[^&]*/;if(L.test(this.url))this.url=this.url.replace(L,"$1_="+new Date().getTime());else{var V=/\?/;this.url+=(V.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})};function T(O){var E=new FormData;return O.trim().split("&").forEach(function(x){if(x){var L=x.split("="),V=L.shift().replace(/\+/g," "),$=L.join("=").replace(/\+/g," ");E.append(decodeURIComponent(V),decodeURIComponent($))}}),E}function w(O){var E=new l,x=O.replace(/\r?\n[\t ]+/g," ");return x.split("\r").map(function(L){return L.indexOf(`
`)===0?L.substr(1,L.length):L}).forEach(function(L){var V=L.split(":"),$=V.shift().trim();if($){var Q=V.join(":").trim();try{E.append($,Q)}catch(ie){console.warn("Response "+ie.message)}}}),E}y.call(v.prototype);function A(O,E){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(E||(E={}),this.type="default",this.status=E.status===void 0?200:E.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=E.statusText===void 0?"":""+E.statusText,this.headers=new l(E.headers),this.url=E.url||"",this._initBody(O)}y.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},A.error=function(){var O=new A(null,{status:200,statusText:""});return O.ok=!1,O.status=0,O.type="error",O};var M=[301,302,303,307,308];A.redirect=function(O,E){if(M.indexOf(E)===-1)throw new RangeError("Invalid status code");return new A(null,{status:E,headers:{location:O}})},t.DOMException=u.DOMException;try{new t.DOMException}catch{t.DOMException=function(E,x){this.message=E,this.name=x;var L=Error(E);this.stack=L.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function F(O,E){return new Promise(function(x,L){var V=new v(O,E);if(V.signal&&V.signal.aborted)return L(new t.DOMException("Aborted","AbortError"));var $=new XMLHttpRequest;function Q(){$.abort()}$.onload=function(){var pe={statusText:$.statusText,headers:w($.getAllResponseHeaders()||"")};V.url.indexOf("file://")===0&&($.status<200||$.status>599)?pe.status=200:pe.status=$.status,pe.url="responseURL"in $?$.responseURL:pe.headers.get("X-Request-URL");var X="response"in $?$.response:$.responseText;setTimeout(function(){x(new A(X,pe))},0)},$.onerror=function(){setTimeout(function(){L(new TypeError("Network request failed"))},0)},$.ontimeout=function(){setTimeout(function(){L(new TypeError("Network request timed out"))},0)},$.onabort=function(){setTimeout(function(){L(new t.DOMException("Aborted","AbortError"))},0)};function ie(pe){try{return pe===""&&u.location.href?u.location.href:pe}catch{return pe}}if($.open(V.method,ie(V.url),!0),V.credentials==="include"?$.withCredentials=!0:V.credentials==="omit"&&($.withCredentials=!1),"responseType"in $&&(n.blob?$.responseType="blob":n.arrayBuffer&&($.responseType="arraybuffer")),E&&typeof E.headers=="object"&&!(E.headers instanceof l||u.Headers&&E.headers instanceof u.Headers)){var ue=[];Object.getOwnPropertyNames(E.headers).forEach(function(pe){ue.push(o(pe)),$.setRequestHeader(pe,c(E.headers[pe]))}),V.headers.forEach(function(pe,X){ue.indexOf(X)===-1&&$.setRequestHeader(X,pe)})}else V.headers.forEach(function(pe,X){$.setRequestHeader(X,pe)});V.signal&&(V.signal.addEventListener("abort",Q),$.onreadystatechange=function(){$.readyState===4&&V.signal.removeEventListener("abort",Q)}),$.send(typeof V._bodyInit>"u"?null:V._bodyInit)})}return F.polyfill=!0,u.fetch||(u.fetch=F,u.Headers=l,u.Request=v,u.Response=A),t.Headers=l,t.Request=v,t.Response=A,t.fetch=F,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:qN)}()),qN}var CN={},rK;function NA(){return rK||(rK=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ERROR_CODES=a.ErrorCoded=void 0;class t extends Error{constructor(n,r){super(n),this.code=r}}a.ErrorCoded=t,function(u){u.COLLIDING_KEYWORDS="colliding keywords",u.CONFLICTING_INDEXES="conflicting indexes",u.CYCLIC_IRI_MAPPING="cyclic IRI mapping",u.INVALID_ID_VALUE="invalid @id value",u.INVALID_INDEX_VALUE="invalid @index value",u.INVALID_NEST_VALUE="invalid @nest value",u.INVALID_PREFIX_VALUE="invalid @prefix value",u.INVALID_PROPAGATE_VALUE="invalid @propagate value",u.INVALID_REVERSE_VALUE="invalid @reverse value",u.INVALID_IMPORT_VALUE="invalid @import value",u.INVALID_VERSION_VALUE="invalid @version value",u.INVALID_BASE_IRI="invalid base IRI",u.INVALID_CONTAINER_MAPPING="invalid container mapping",u.INVALID_CONTEXT_ENTRY="invalid context entry",u.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",u.INVALID_DEFAULT_LANGUAGE="invalid default language",u.INVALID_INCLUDED_VALUE="invalid @included value",u.INVALID_IRI_MAPPING="invalid IRI mapping",u.INVALID_JSON_LITERAL="invalid JSON literal",u.INVALID_KEYWORD_ALIAS="invalid keyword alias",u.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",u.INVALID_LANGUAGE_MAPPING="invalid language mapping",u.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",u.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",u.INVALID_LOCAL_CONTEXT="invalid local context",u.INVALID_REMOTE_CONTEXT="invalid remote context",u.INVALID_REVERSE_PROPERTY="invalid reverse property",u.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",u.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",u.INVALID_SCOPED_CONTEXT="invalid scoped context",u.INVALID_SCRIPT_ELEMENT="invalid script element",u.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",u.INVALID_TERM_DEFINITION="invalid term definition",u.INVALID_TYPE_MAPPING="invalid type mapping",u.INVALID_TYPE_VALUE="invalid type value",u.INVALID_TYPED_VALUE="invalid typed value",u.INVALID_VALUE_OBJECT="invalid value object",u.INVALID_VALUE_OBJECT_VALUE="invalid value object value",u.INVALID_VOCAB_MAPPING="invalid vocab mapping",u.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",u.KEYWORD_REDEFINITION="keyword redefinition",u.LOADING_DOCUMENT_FAILED="loading document failed",u.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",u.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",u.PROCESSING_MODE_CONFLICT="processing mode conflict",u.PROTECTED_TERM_REDEFINITION="protected term redefinition",u.CONTEXT_OVERFLOW="context overflow",u.INVALID_BASE_DIRECTION="invalid base direction",u.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",u.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",u.INVALID_EMBEDDED_NODE="invalid embedded node",u.INVALID_ANNOTATION="invalid annotation"}(a.ERROR_CODES||(a.ERROR_CODES={}))}(CN)),CN}var MT={},nK;function iK(){if(nK)return MT;nK=1,Object.defineProperty(MT,"__esModule",{value:!0}),MT.FetchDocumentLoader=void 0,tK();const a=NA(),t=s1(),u=mr();let n=class{constructor(e){this.fetcher=e}async load(e){const i=await(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(i.ok&&i.headers){let o=i.headers.get("Content-Type");if(o){const c=o.indexOf(";");c>0&&(o=o.substr(0,c))}if(o==="application/ld+json")return await i.json();if(i.headers.has("Link")){let c;if(i.headers.forEach((s,l)=>{if(l==="link"){const f=(0,t.parse)(s);for(const d of f.get("type","application/ld+json"))if(d.rel==="alternate"){if(c)throw new Error("Multiple JSON-LD alternate links were found on "+e);c=(0,u.resolve)(d.uri,e)}}}),c)return this.load(c)}throw new a.ErrorCoded(`Unsupported JSON-LD media type ${o}`,a.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(i.statusText||`Status code: ${i.status}`)}};return MT.FetchDocumentLoader=n,MT}var BN={},qT={},aK;function $N(){if(aK)return qT;aK=1,Object.defineProperty(qT,"__esModule",{value:!0}),qT.Util=void 0;let a=class zi{static isCompactIri(u){return u.indexOf(":")>0&&!(u&&u[0]==="#")}static getPrefix(u,n){if(u&&u[0]==="#")return null;const r=u.indexOf(":");if(r>=0){if(u.length>r+1&&u.charAt(r+1)==="/"&&u.charAt(r+2)==="/")return null;const e=u.substr(0,r);if(e==="_")return null;if(n[e])return e}return null}static getContextValueId(u){if(u===null||typeof u=="string")return u;const n=u["@id"];return n||null}static isSimpleTermDefinitionPrefix(u,n){return!zi.isPotentialKeyword(u)&&(n.allowPrefixNonGenDelims||typeof u=="string"&&(u[0]==="_"||zi.isPrefixIriEndingWithGenDelim(u)))}static isPotentialKeyword(u){return typeof u=="string"&&zi.KEYWORD_REGEX.test(u)}static isPrefixIriEndingWithGenDelim(u){return zi.ENDS_WITH_GEN_DELIM.test(u)}static isPrefixValue(u){return u&&(typeof u=="string"||u&&typeof u=="object")}static isValidIri(u){return!!(u&&zi.IRI_REGEX.test(u))}static isValidIriWeak(u){return!!u&&u[0]!==":"&&zi.IRI_REGEX_WEAK.test(u)}static isValidKeyword(u){return zi.VALID_KEYWORDS[u]}static isTermProtected(u,n){const r=u[n];return typeof r!="string"&&r&&r["@protected"]}static hasProtectedTerms(u){for(const n of Object.keys(u))if(zi.isTermProtected(u,n))return!0;return!1}static isReservedInternalKeyword(u){return u.startsWith("@__")}static deepEqual(u,n){const r=Object.keys(u),e=Object.keys(n);return r.length!==e.length?!1:r.every(i=>{const o=u[i],c=n[i];return o===c||o!==null&&c!==null&&typeof o=="object"&&typeof c=="object"&&this.deepEqual(o,c)})}};return a.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,a.IRI_REGEX_WEAK=/(?::[^:])|\//,a.KEYWORD_REGEX=/^@[a-z]+$/i,a.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,a.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,a.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,a.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},a.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],a.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],a.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],a.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],a.CONTAINERS_1_0=["@list","@set","@index"],qT.Util=a,qT}var uK;function oK(){return uK||(uK=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.defaultExpandOptions=a.JsonLdContextNormalized=void 0;const t=mr(),u=NA(),n=$N();class r{constructor(i){this.contextRaw=i}getContextRaw(){return this.contextRaw}expandTerm(i,o,c=a.defaultExpandOptions){const s=this.contextRaw[i];if(s===null||s&&s["@id"]===null)return null;let l=!0;if(s&&o){const m=n.Util.getContextValueId(s);if(m&&m!==i)if(typeof m!="string"||!n.Util.isValidIri(m)&&!n.Util.isValidKeyword(m))n.Util.isPotentialKeyword(m)||(l=!1);else return m}const f=n.Util.getPrefix(i,this.contextRaw),d=this.contextRaw["@vocab"],h=(!!d||d==="")&&d.indexOf(":")<0,p=this.contextRaw["@base"],b=n.Util.isPotentialKeyword(i);if(f){const m=this.contextRaw[f],y=n.Util.getContextValueId(m);if(y){if(typeof m=="string"||!c.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(y,c))return i}else if(y[0]!=="_"&&!b&&!m["@prefix"]&&!(i in this.contextRaw))return i;return y+i.substr(f.length+1)}}else if(o&&(d||d===""||c.allowVocabRelativeToBase&&p&&h)&&!b&&!n.Util.isCompactIri(i))if(h){if(c.allowVocabRelativeToBase)return(d||p?(0,t.resolve)(d,p):"")+i;throw new u.ErrorCoded(`Relative vocab expansion for term '${i}' with vocab '${d}' is not allowed.`,u.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return d+i;else if(!o&&p&&!b&&!n.Util.isCompactIri(i))return(0,t.resolve)(i,p);if(l)return i;throw new u.ErrorCoded(`Invalid IRI mapping found for context entry '${i}': '${JSON.stringify(s)}'`,u.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(i,o){if(o&&this.contextRaw["@vocab"]&&i.startsWith(this.contextRaw["@vocab"]))return i.substr(this.contextRaw["@vocab"].length);if(!o&&this.contextRaw["@base"]&&i.startsWith(this.contextRaw["@base"]))return i.substr(this.contextRaw["@base"].length);const c={prefix:"",suffix:i};for(const s in this.contextRaw){const l=this.contextRaw[s];if(l&&!n.Util.isPotentialKeyword(s)){const f=n.Util.getContextValueId(l);if(i.startsWith(f)){const d=i.substr(f.length);if(d)d.length<c.suffix.length&&(c.prefix=s,c.suffix=d);else if(o)return s}}}return c.prefix?c.prefix+":"+c.suffix:i}}a.JsonLdContextNormalized=r,a.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(BN)),BN}var sK;function P_e(){if(sK)return jT;sK=1,Object.defineProperty(jT,"__esModule",{value:!0}),jT.ContextParser=void 0,tK();const a=mr(),t=NA(),u=iK(),n=oK(),r=$N();let e=class Pf{constructor(o){o=o||{},this.documentLoader=o.documentLoader||new u.FetchDocumentLoader,this.documentCache={},this.validateContext=!o.skipValidation,this.expandContentTypeToBase=!!o.expandContentTypeToBase,this.remoteContextsDepthLimit=o.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in o?!!o.redirectSchemaOrgHttps:!0}static validateLanguage(o,c,s){if(typeof o!="string")throw new t.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(o)}'`,s);if(!r.Util.REGEX_LANGUAGE_TAG.test(o)){if(c)throw new t.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(o)}'`,s);return!1}return!0}static validateDirection(o,c){if(typeof o!="string")throw new t.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(o)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);if(!r.Util.REGEX_DIRECTION_TAG.test(o)){if(c)throw new t.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(o)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(o){for(const c of Object.keys(o)){let s=o[c];if(s&&typeof s=="object"&&s["@reverse"]&&!s["@id"]){if(typeof s["@reverse"]!="string"||r.Util.isValidKeyword(s["@reverse"]))throw new t.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${s["@reverse"]}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);s=o[c]=Object.assign(Object.assign({},s),{"@id":s["@reverse"]}),s["@id"]=s["@reverse"],r.Util.isPotentialKeyword(s["@reverse"])?delete s["@reverse"]:s["@reverse"]=!0}}return o}expandPrefixedTerms(o,c,s){const l=o.getContextRaw();for(const f of s||Object.keys(l))if(r.Util.EXPAND_KEYS_BLACKLIST.indexOf(f)<0&&!r.Util.isReservedInternalKeyword(f)){const d=l[f];if(r.Util.isPotentialKeyword(f)&&r.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(f)>=0&&(f!=="@type"||typeof l[f]=="object"&&!(l[f]["@protected"]||l[f]["@container"]==="@set")))throw new t.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${f} to ${JSON.stringify(d)}`,t.ERROR_CODES.KEYWORD_REDEFINITION);if(r.Util.ALIAS_RANGE_BLACKLIST.indexOf(r.Util.getContextValueId(d))>=0)throw new t.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${f} to ${JSON.stringify(d)}`,t.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(d&&r.Util.isPotentialKeyword(r.Util.getContextValueId(d))&&d["@prefix"]===!0)throw new t.ErrorCoded(`Tried to use keyword aliases as prefix: '${f}': '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);for(;r.Util.isPrefixValue(l[f]);){const h=l[f];let p=!1;if(typeof h=="string")l[f]=o.expandTerm(h,!0),p=p||h!==l[f];else{const b=h["@id"],m=h["@type"],y=!("@prefix"in h)||r.Util.isValidIri(f);if("@id"in h)b!=null&&typeof b=="string"&&(l[f]=Object.assign(Object.assign({},l[f]),{"@id":o.expandTerm(b,!0)}),p=p||b!==l[f]["@id"]);else if(!r.Util.isPotentialKeyword(f)&&y){const g=o.expandTerm(f,!0);g!==f&&(l[f]=Object.assign(Object.assign({},l[f]),{"@id":g}),p=!0)}if(m&&typeof m=="string"&&m!=="@vocab"&&(!h["@container"]||!h["@container"]["@type"])&&y){let g=o.expandTerm(m,!0);c&&m===g&&(g=o.expandTerm(m,!1)),g!==m&&(p=!0,l[f]=Object.assign(Object.assign({},l[f]),{"@type":g}))}}if(!p)break}}}normalize(o,{processingMode:c,normalizeLanguageTags:s}){if(s||c===1)for(const l of Object.keys(o))if(l==="@language"&&typeof o[l]=="string")o[l]=o[l].toLowerCase();else{const f=o[l];if(f&&typeof f=="object"&&typeof f["@language"]=="string"){const d=f["@language"].toLowerCase();d!==f["@language"]&&(o[l]=Object.assign(Object.assign({},f),{"@language":d}))}}}containersToHash(o){for(const c of Object.keys(o)){const s=o[c];if(s&&typeof s=="object"){if(typeof s["@container"]=="string")o[c]=Object.assign(Object.assign({},s),{"@container":{[s["@container"]]:!0}});else if(Array.isArray(s["@container"])){const l={};for(const f of s["@container"])l[f]=!0;o[c]=Object.assign(Object.assign({},s),{"@container":l})}}}}applyScopedProtected(o,{processingMode:c},s){if(c&&c>=1.1&&o["@protected"]){for(const l of Object.keys(o))if(!r.Util.isReservedInternalKeyword(l)&&!r.Util.isPotentialKeyword(l)&&!r.Util.isTermProtected(o,l)){const f=o[l];f&&typeof f=="object"?"@protected"in o[l]||(o[l]=Object.assign(Object.assign({},o[l]),{"@protected":!0})):(o[l]={"@id":f,"@protected":!0},r.Util.isSimpleTermDefinitionPrefix(f,s)&&(o[l]=Object.assign(Object.assign({},o[l]),{"@prefix":!0})))}delete o["@protected"]}}validateKeywordRedefinitions(o,c,s,l){for(const f of l??Object.keys(c))if(r.Util.isTermProtected(o,f)&&(typeof c[f]=="string"?c[f]={"@id":c[f],"@protected":!0}:c[f]=Object.assign(Object.assign({},c[f]),{"@protected":!0}),!r.Util.deepEqual(o[f],c[f])))throw new t.ErrorCoded(`Attempted to override the protected keyword ${f} from ${JSON.stringify(r.Util.getContextValueId(o[f]))} to ${JSON.stringify(r.Util.getContextValueId(c[f]))}`,t.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(o,{processingMode:c}){for(const s of Object.keys(o)){if(r.Util.isReservedInternalKeyword(s))continue;if(s==="")throw new t.ErrorCoded(`The empty term is not allowed, got: '${s}': '${JSON.stringify(o[s])}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);const l=o[s],f=typeof l;if(r.Util.isPotentialKeyword(s)){switch(s.substr(1)){case"vocab":if(l!==null&&f!=="string")throw new t.ErrorCoded(`Found an invalid @vocab IRI: ${l}`,t.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(l!==null&&f!=="string")throw new t.ErrorCoded(`Found an invalid @base IRI: ${o[s]}`,t.ERROR_CODES.INVALID_BASE_IRI);break;case"language":l!==null&&Pf.validateLanguage(l,!0,t.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(l!==null&&f!=="number")throw new t.ErrorCoded(`Found an invalid @version number: ${l}`,t.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":l!==null&&Pf.validateDirection(l,!0);break;case"propagate":if(c===1)throw new t.ErrorCoded(`Found an illegal @propagate keyword: ${l}`,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(l!==null&&f!=="boolean")throw new t.ErrorCoded(`Found an invalid @propagate value: ${l}`,t.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(r.Util.isValidKeyword(s)&&r.Util.isValidKeyword(r.Util.getContextValueId(l)))throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${s}': '${r.Util.getContextValueId(l)}'`,t.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(l!==null)switch(f){case"string":if(r.Util.getPrefix(l,o)===s)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);if(r.Util.isValidIriWeak(s)){if(l==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${s}': '${l}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(l)&&l!==new n.JsonLdContextNormalized(o).expandTerm(s))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${s}': '${l}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!r.Util.isCompactIri(s)&&!("@id"in l)&&(l["@type"]==="@id"?!o["@base"]:!o["@vocab"]))throw new t.ErrorCoded(`Missing @id in context entry: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);for(const d of Object.keys(l)){const h=l[d];if(h)switch(d){case"@id":if(r.Util.isValidKeyword(h)&&h!=="@type"&&h!=="@id"&&h!=="@graph"&&h!=="@nest")throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIriWeak(s)){if(h==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(h)&&h!==new n.JsonLdContextNormalized(o).expandTerm(s))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof h!="string")throw new t.ErrorCoded(`Detected non-string @id in context entry: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.getPrefix(h,o)===s)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(l["@container"]==="@type"&&h!=="@id"&&h!=="@vocab")throw new t.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${s}': '${h}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof h!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(h!=="@id"&&h!=="@vocab"&&(c===1||h!=="@json")&&(c===1||h!=="@none")&&(h[0]==="_"||!r.Util.isValidIri(h)))throw new t.ErrorCoded(`A context @type must be an absolute IRI, found: '${s}': '${h}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof h=="string"&&l["@id"]&&l["@id"]!==h)throw new t.ErrorCoded(`Found non-matching @id and @reverse term values in '${s}':'${h}' and '${l["@id"]}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in l)throw new t.ErrorCoded(`@nest is not allowed in the reverse property '${s}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(c===1&&(Object.keys(h).length>1||r.Util.CONTAINERS_1_0.indexOf(Object.keys(h)[0])<0))throw new t.ErrorCoded(`Invalid term @container for '${s}' ('${Object.keys(h)}') in 1.0, must be only one of ${r.Util.CONTAINERS_1_0.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const p of Object.keys(h)){if(p==="@list"&&l["@reverse"])throw new t.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${s}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(r.Util.CONTAINERS.indexOf(p)<0)throw new t.ErrorCoded(`Invalid term @container for '${s}' ('${p}'), must be one of ${r.Util.CONTAINERS.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":Pf.validateLanguage(h,!0,t.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":Pf.validateDirection(h,!0);break;case"@prefix":if(h!==null&&typeof h!="boolean")throw new t.ErrorCoded(`Found an invalid term @prefix boolean in: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in l)&&!r.Util.isValidIri(s))throw new t.ErrorCoded(`Invalid @prefix definition for '${s}' ('${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(c===1||!l["@container"]||!l["@container"]["@index"])throw new t.ErrorCoded(`Attempt to add illegal key to value object: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(r.Util.isPotentialKeyword(h)&&h!=="@nest")throw new t.ErrorCoded(`Found an invalid term @nest value in: '${s}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new t.ErrorCoded(`Found an invalid term value: '${s}': '${l}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(o,c,s){return typeof o=="string"||(s&&!("@base"in o)&&c.parentContext&&typeof c.parentContext=="object"&&"@base"in c.parentContext&&(o["@base"]=c.parentContext["@base"],c.parentContext["@__baseDocument"]&&(o["@__baseDocument"]=!0)),c.baseIRI&&!c.external&&("@base"in o?o["@base"]!==null&&typeof o["@base"]=="string"&&!r.Util.isValidIri(o["@base"])&&(o["@base"]=(0,a.resolve)(o["@base"],c.parentContext&&c.parentContext["@base"]||c.baseIRI)):(o["@base"]=c.baseIRI,o["@__baseDocument"]=!0))),o}normalizeContextIri(o,c){if(!r.Util.isValidIri(o))try{o=(0,a.resolve)(o,c)}catch{throw new Error(`Invalid context IRI: ${o}`)}return this.redirectSchemaOrgHttps&&o.startsWith("http://schema.org")&&(o="https://schema.org/"),o}async parseInnerContexts(o,c,s){for(const l of s??Object.keys(o)){const f=o[l];if(f&&typeof f=="object"&&"@context"in f&&f["@context"]!==null&&!c.ignoreScopedContexts){if(this.validateContext)try{const d=Object.assign(Object.assign({},o),{[l]:Object.assign({},o[l])});delete d[l]["@context"],await this.parse(f["@context"],Object.assign(Object.assign({},c),{external:!1,parentContext:d,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(d){throw new t.ErrorCoded(d.message,t.ERROR_CODES.INVALID_SCOPED_CONTEXT)}o[l]=Object.assign(Object.assign({},f),{"@context":(await this.parse(f["@context"],Object.assign(Object.assign({},c),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:o}))).getContextRaw()})}}return o}async parse(o,c={},s={}){const{baseIRI:l,parentContext:f,external:d,processingMode:h=Pf.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:p,ignoreProtection:b,minimalProcessing:m}=c,y=c.remoteContexts||{};if(Object.keys(y).length>=this.remoteContextsDepthLimit)throw new t.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(y),t.ERROR_CODES.CONTEXT_OVERFLOW);if(o==null){if(!b&&f&&r.Util.hasProtectedTerms(f))throw new t.ErrorCoded("Illegal context nullification when terms are protected",t.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new n.JsonLdContextNormalized(this.applyBaseEntry({},c,!1))}else if(typeof o=="string"){const g=this.normalizeContextIri(o,l),_=this.getOverriddenLoad(g,c);if(_)return new n.JsonLdContextNormalized(_);const v=await this.parse(await this.load(g),Object.assign(Object.assign({},c),{baseIRI:g,external:!0,remoteContexts:Object.assign(Object.assign({},y),{[g]:!0})}));return this.applyBaseEntry(v.getContextRaw(),c,!0),v}else if(Array.isArray(o)){const g=[],_=await Promise.all(o.map((T,w)=>{if(typeof T=="string"){const A=this.normalizeContextIri(T,l);g[w]=A;const M=this.getOverriddenLoad(A,c);return M||this.load(A)}else return T}));if(m)return new n.JsonLdContextNormalized(_);const v=await _.reduce((T,w,A)=>T.then(M=>this.parse(w,Object.assign(Object.assign({},c),{baseIRI:g[A]||c.baseIRI,external:!!g[A]||c.external,parentContext:M.getContextRaw(),remoteContexts:g[A]?Object.assign(Object.assign({},y),{[g[A]]:!0}):y}),{skipValidation:A<_.length-1})),Promise.resolve(new n.JsonLdContextNormalized(f||{})));return this.applyBaseEntry(v.getContextRaw(),c,!0),v}else if(typeof o=="object"){if("@context"in o)return await this.parse(o["@context"],c);if(o=Object.assign({},o),d&&delete o["@base"],this.applyBaseEntry(o,c,!0),this.containersToHash(o),m)return new n.JsonLdContextNormalized(o);let g={};if("@import"in o)if(h>=1.1){if(typeof o["@import"]!="string")throw new t.ErrorCoded("An @import value must be a string, but got "+typeof o["@import"],t.ERROR_CODES.INVALID_IMPORT_VALUE);g=await this.loadImportContext(this.normalizeContextIri(o["@import"],l)),delete o["@import"]}else throw new t.ErrorCoded("Context importing is not supported in JSON-LD 1.0",t.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(g,{processingMode:h},n.defaultExpandOptions);const _=Object.assign(g,o);this.idifyReverseTerms(_),this.normalize(_,{processingMode:h,normalizeLanguageTags:p}),this.applyScopedProtected(_,{processingMode:h},n.defaultExpandOptions);const v=Object.keys(_),T=[];if(typeof f=="object")for(const A in f)A in _?T.push(A):_[A]=f[A];await this.parseInnerContexts(_,c,v);const w=new n.JsonLdContextNormalized(_);return(_&&_["@version"]||Pf.DEFAULT_PROCESSING_MODE)>=1.1&&(o["@vocab"]&&typeof o["@vocab"]=="string"||o["@vocab"]==="")&&(f&&"@vocab"in f&&o["@vocab"].indexOf(":")<0?_["@vocab"]=f["@vocab"]+o["@vocab"]:(r.Util.isCompactIri(o["@vocab"])||o["@vocab"]in _)&&(_["@vocab"]=w.expandTerm(o["@vocab"],!0))),this.expandPrefixedTerms(w,this.expandContentTypeToBase,v),!b&&f&&h>=1.1&&this.validateKeywordRedefinitions(f,_,n.defaultExpandOptions,T),this.validateContext&&!s.skipValidation&&this.validate(_,{processingMode:h}),w}else throw new t.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${o}`,t.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(o){const c=this.documentCache[o];if(c)return c;let s;try{s=await this.documentLoader.load(o)}catch(l){throw new t.ErrorCoded(`Failed to load remote context ${o}: ${l.message}`,t.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in s))throw new t.ErrorCoded(`Missing @context in remote context at ${o}`,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[o]=s["@context"]}getOverriddenLoad(o,c){if(o in(c.remoteContexts||{})){if(c.ignoreRemoteScopedContexts)return o;throw new t.ErrorCoded("Detected a cyclic context inclusion of "+o,t.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(o){let c=await this.load(o);if(typeof c!="object"||Array.isArray(c))throw new t.ErrorCoded("An imported context must be a single object: "+o,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in c)throw new t.ErrorCoded("An imported context can not import another context: "+o,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);return c=Object.assign({},c),this.containersToHash(c),c}};return e.DEFAULT_PROCESSING_MODE=1.1,jT.ContextParser=e,jT}var VN={},cK;function L_e(){return cK||(cK=1,Object.defineProperty(VN,"__esModule",{value:!0})),VN}var UN={},lK;function j_e(){return lK||(lK=1,Object.defineProperty(UN,"__esModule",{value:!0})),UN}var dK;function M_e(){return dK||(dK=1,function(a){var t=jl&&jl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=jl&&jl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(P_e(),a),u(NA(),a),u(iK(),a),u(L_e(),a),u(j_e(),a),u(oK(),a),u($N(),a)}(jl)),jl}var fK;function hK(){if(fK)return LT;fK=1,Object.defineProperty(LT,"__esModule",{value:!0}),LT.DocumentLoaderMediated=void 0;const a=ya(),t=_h(),u=M_e();let n=class hie extends u.FetchDocumentLoader{constructor(e,i){super(hie.createFetcher(e,i)),this.mediatorHttp=e,this.context=i}static createFetcher(e,i){return async(o,c)=>{const s=await e.mediate({input:o,init:c,context:i});return s.json=async()=>JSON.parse(await(0,t.stringify)(a.ActorHttp.toNodeReadable(s.body))),s}}};return LT.DocumentLoaderMediated=n,LT}var pK;function q_e(){if(pK)return eT;pK=1,Object.defineProperty(eT,"__esModule",{value:!0}),eT.ActorRdfParseJsonLd=void 0;const a=lh(),t=ke(),u=Te(),n=D_e(),r=hK();let e=class extends a.ActorRdfParseFixedMediaTypes{constructor(o){super(o)}async testHandle(o,c,s){return s.has(t.KeysRdfParseHtmlScript.processingHtmlScript)&&c!=="application/ld+json"?(0,u.failTest)("JSON-LD in script tags can only have media type 'application/ld+json'"):!c||!(c in this.mediaTypePriorities||c.endsWith("+json"))?(0,u.failTest)(`Unrecognized media type: ${c}`):await this.testHandleChecked(o)}async runHandle(o,c,s){var h;const l=o.context.getSafe(t.KeysInitQuery.dataFactory);return{data:n.JsonLdParser.fromHttpResponse(((h=o.metadata)==null?void 0:h.baseIRI)??"",c,o.headers,{dataFactory:l,documentLoader:s.get(t.KeysRdfParseJsonLd.documentLoader)??new r.DocumentLoaderMediated(this.mediatorHttp,s),strictValues:s.get(t.KeysRdfParseJsonLd.strictValues),...s.get(t.KeysRdfParseJsonLd.parserOptions)}).import(o.data)}}};return eT.ActorRdfParseJsonLd=e,eT}var yK;function C_e(){return yK||(yK=1,function(a){var t=Nl&&Nl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Nl&&Nl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(q_e(),a),u(hK(),a)}(Nl)),Nl}var Ml={},CT={},ql={},BT={},bK;function B_e(){if(bK)return BT;bK=1,Object.defineProperty(BT,"__esModule",{value:!0}),BT.ActorRdfUpdateHypermedia=void 0;const a=Te();let t=class extends a.Actor{constructor(n,r){super(n),this.destinationType=r}async test(n){return n.forceDestinationType&&this.destinationType!==n.forceDestinationType?(0,a.failTest)(`Actor ${this.name} is not able to handle destination type ${n.forceDestinationType}.`):this.testMetadata(n)}};return BT.ActorRdfUpdateHypermedia=t,BT}var _K;function QN(){return _K||(_K=1,function(a){var t=ql&&ql.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ql&&ql.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(B_e(),a)}(ql)),ql}var $T={},mK;function gK(){if(mK)return $T;mK=1,Object.defineProperty($T,"__esModule",{value:!0}),$T.QuadDestinationPatchSparqlUpdate=void 0;const a=ya(),t=gt(),u=I1(),n=Mt();let r=class{constructor(i,o,c){this.url=i,this.context=o,this.mediatorHttp=c}async update(i){const o=this.createCombinedQuadsQuery(i.insert,i.delete);await this.wrapSparqlUpdateRequest(o)}createCombinedQuadsQuery(i,o){return new t.ArrayIterator([],{autoStart:!1}).append(this.createQuadsQuery("DELETE",o)).append(o&&i?[` ;
`]:[]).append(this.createQuadsQuery("INSERT",i))}createQuadsQuery(i,o){return o?o.map(c=>{let s=`${(0,u.termToString)(c.subject)} ${(0,u.termToString)(c.predicate)} ${(0,u.termToString)(c.object)} .`;return c.graph.termType==="DefaultGraph"?s=`  ${s}
`:s=`  GRAPH ${(0,u.termToString)(c.graph)} { ${s} }
`,s}).prepend([`${i} DATA {
`]).append(["}"]):new t.ArrayIterator([],{autoStart:!1})}async wrapSparqlUpdateRequest(i){const o=new n.Readable;o.wrap(i);const c=new Headers({"content-type":"application/sparql-update"}),s=await this.mediatorHttp.mediate({context:this.context,init:{headers:c,method:"PATCH",body:a.ActorHttp.toWebReadableStream(o)},input:this.url});await(0,a.validateAndCloseHttpResponse)(this.url,s)}async deleteGraphs(i,o,c){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}async createGraphs(i,o){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}};return $T.QuadDestinationPatchSparqlUpdate=r,$T}var vK;function $_e(){if(vK)return CT;vK=1,Object.defineProperty(CT,"__esModule",{value:!0}),CT.ActorRdfUpdateHypermediaPatchSparqlUpdate=void 0;const a=QN(),t=Te(),u=gK();let n=class extends a.ActorRdfUpdateHypermedia{constructor(e){super(e,"patchSparqlUpdate")}async testMetadata(e){return!e.forceDestinationType&&!e.metadata.patchSparqlUpdate?(0,t.failTest)(`Actor ${this.name} could not detect a destination with 'application/sparql-update' as 'Accept-Patch' header.`):!e.forceDestinationType&&!e.exists?(0,t.failTest)(`Actor ${this.name} can only patch a destination that already exists.`):(0,t.passTestVoid)()}async run(e){return this.logInfo(e.context,`Identified as patchSparqlUpdate destination: ${e.url}`),{destination:new u.QuadDestinationPatchSparqlUpdate(e.url,e.context,this.mediatorHttp)}}};return CT.ActorRdfUpdateHypermediaPatchSparqlUpdate=n,CT}var TK;function V_e(){return TK||(TK=1,function(a){var t=Ml&&Ml.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ml&&Ml.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u($_e(),a),u(gK(),a)}(Ml)),Ml}var Cl={},VT={},UT={},wK;function SK(){if(wK)return UT;wK=1,Object.defineProperty(UT,"__esModule",{value:!0}),UT.QuadDestinationPutLdp=void 0;const a=ya();let t=class{constructor(n,r,e,i,o,c){this.url=n,this.context=r,this.mediaTypes=e,this.mediatorHttp=i,this.mediatorRdfSerializeMediatypes=o,this.mediatorRdfSerialize=c}async update(n){if(n.delete)throw new Error("Put-based LDP destinations don't support deletions");n.insert&&await this.wrapRdfUpdateRequest("INSERT",n.insert)}async wrapRdfUpdateRequest(n,r){const{mediaTypes:e}=await this.mediatorRdfSerializeMediatypes.mediate({context:this.context,mediaTypes:!0}),i=this.mediaTypes.filter(f=>f in e),o=i.length>0?i[0]:Object.keys(e).sort((f,d)=>e[d]-e[f])[0],{handle:{data:c}}=await this.mediatorRdfSerialize.mediate({context:this.context,handle:{quadStream:r,context:this.context},handleMediaType:o}),s=new Headers({"content-type":o}),l=await this.mediatorHttp.mediate({context:this.context,init:{headers:s,method:"PUT",body:a.ActorHttp.toWebReadableStream(c)},input:this.url});await(0,a.validateAndCloseHttpResponse)(this.url,l)}async deleteGraphs(n,r,e){throw new Error("Put-based LDP destinations don't support named graphs")}async createGraphs(n,r){throw new Error("Put-based LDP destinations don't support named graphs")}};return UT.QuadDestinationPutLdp=t,UT}var OK;function U_e(){if(OK)return VT;OK=1,Object.defineProperty(VT,"__esModule",{value:!0}),VT.ActorRdfUpdateHypermediaPutLdp=void 0;const a=QN(),t=Te(),u=SK();let n=class extends a.ActorRdfUpdateHypermedia{constructor(e){super(e,"putLdp")}async testMetadata(e){if(!e.forceDestinationType){if(!e.metadata.allowHttpMethods||!e.metadata.allowHttpMethods.includes("PUT"))return(0,t.failTest)(`Actor ${this.name} could not detect a destination with 'Allow: PUT' header.`);if(e.exists)return(0,t.failTest)(`Actor ${this.name} can only put on a destination that does not already exists.`)}return(0,t.passTestVoid)()}async run(e){return this.logInfo(e.context,`Identified as putLdp destination: ${e.url}`),{destination:new u.QuadDestinationPutLdp(e.url,e.context,e.metadata.putAccepted||[],this.mediatorHttp,this.mediatorRdfSerializeMediatypes,this.mediatorRdfSerialize)}}};return VT.ActorRdfUpdateHypermediaPutLdp=n,VT}var AK;function Q_e(){return AK||(AK=1,function(a){var t=Cl&&Cl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Cl&&Cl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(U_e(),a),u(SK(),a)}(Cl)),Cl}var Bl={},QT={},HT={},$l={},Vl={},Ul={},GT={},Ql={},kT={},EK;function xK(){if(EK)return kT;EK=1,Object.defineProperty(kT,"__esModule",{value:!0}),kT.BlankNode=void 0;class a{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return kT.BlankNode=a,kT}var zT={},XT={},IK;function RK(){if(IK)return XT;IK=1,Object.defineProperty(XT,"__esModule",{value:!0}),XT.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return XT.DefaultGraph=a,a.INSTANCE=new a,XT}var JT={},KT={},NK;function HN(){if(NK)return KT;NK=1,Object.defineProperty(KT,"__esModule",{value:!0}),KT.NamedNode=void 0;class a{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return KT.NamedNode=a,KT}var FK;function DK(){if(FK)return JT;FK=1,Object.defineProperty(JT,"__esModule",{value:!0}),JT.Literal=void 0;const a=HN();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return JT.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),JT}var WT={},PK;function LK(){if(PK)return WT;PK=1,Object.defineProperty(WT,"__esModule",{value:!0}),WT.Quad=void 0;class a{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return WT.Quad=a,WT}var YT={},jK;function MK(){if(jK)return YT;jK=1,Object.defineProperty(YT,"__esModule",{value:!0}),YT.Variable=void 0;class a{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return YT.Variable=a,YT}var qK;function H_e(){if(qK)return zT;qK=1,Object.defineProperty(zT,"__esModule",{value:!0}),zT.DataFactory=void 0;const a=xK(),t=RK(),u=DK(),n=HN(),r=LK(),e=MK();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return zT.DataFactory=o,zT}var CK;function G_e(){return CK||(CK=1,function(a){var t=Ql&&Ql.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ql&&Ql.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(xK(),a),u(H_e(),a),u(RK(),a),u(DK(),a),u(HN(),a),u(LK(),a),u(MK(),a)}(Ql)),Ql}var BK;function k_e(){if(BK)return GT;BK=1,Object.defineProperty(GT,"__esModule",{value:!0}),GT.SparqlXmlParser=void 0;const a=G_e(),t=YC(),u=Mt();let n=class{constructor(e){e=e||{},this.dataFactory=e.dataFactory||new a.DataFactory,this.prefixVariableQuestionMark=!!e.prefixVariableQuestionMark}parseXmlResultsStream(e){const i=_=>g.emit("error",_);e.on("error",i);const o=new t.SaxesParser,c=[];let s=!1,l=!1;const f=[];let d={},h="",p="",b,m="",y=[];o.on("error",i),o.on("opentag",_=>{_.name==="variable"&&this.stackEquals(c,["sparql","head"])?f.push(this.dataFactory.variable(_.attributes.name)):_.name==="results"&&this.stackEquals(c,["sparql"])?l=!0:_.name==="result"&&this.stackEquals(c,["sparql","results"])?d={}:_.name==="binding"&&this.stackEquals(c,["sparql","results","result"])?(h=_.attributes.name||"",p="",b="",m="",y=[]):_.name==="triple"&&this.stackBeginsWith(c,["sparql","results","result"])?y.push({components:{}}):c[c.length-1]==="triple"&&this.stackBeginsWith(c,["sparql","results","result","binding"])?(p="",b="",m="",["subject","predicate","object"].includes(_.name)?y[y.length-1].currentComponent=_.name:i(new Error(`Illegal quoted triple component '${_.name}' found on line ${o.line+1}`))):this.stackBeginsWith(c,["sparql","results","result","binding"])&&(p=_.name,"xml:lang"in _.attributes?b=_.attributes["xml:lang"]:"datatype"in _.attributes?b=this.dataFactory.namedNode(_.attributes.datatype):b=void 0),c.push(_.name)}),o.on("closetag",_=>{if(this.stackEquals(c,["sparql","head"])&&(g.emit("variables",f),s=!0),this.stackEquals(c,["sparql","results","result"])&&g.push(d),this.stackBeginsWith(c,["sparql","results","result","binding"])){let v;if(!h&&p)i(new Error(`Terms should have a name on line ${o.line+1}`));else if(p==="uri")v=this.dataFactory.namedNode(m);else if(p==="bnode")v=this.dataFactory.blankNode(m);else if(p==="literal")v=this.dataFactory.literal(m,b);else if(c[c.length-1]==="triple"){const T=y.pop();T&&T.components.subject&&T.components.predicate&&T.components.object?v=this.dataFactory.quad(T.components.subject,T.components.predicate,T.components.object):i(new Error(`Incomplete quoted triple on line ${o.line+1}`))}else p&&i(new Error(`Invalid term type '${p}' on line ${o.line+1}`));if(v)if(y.length>0){const T=y[y.length-1];T.components[T.currentComponent]&&i(new Error(`The ${T.currentComponent} in a quoted triple on line ${o.line+1} was already defined before`)),T.components[T.currentComponent]=v}else{const T=this.prefixVariableQuestionMark?"?"+h:h;d[T]=v}p=void 0}c.pop()}),o.on("text",_=>{this.stackBeginsWith(c,["sparql","results","result","binding"])&&c[c.length-1]===p&&(m=_)});const g=e.on("end",_=>{l?s||g.emit("variables",[]):g.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new u.Transform({objectMode:!0,transform(_,v,T){o.write(_),T()}}));return g}parseXmlBooleanStream(e){return new Promise((i,o)=>{const c=new t.SaxesParser,s=[];c.on("error",o),c.on("opentag",l=>{s.push(l.name)}),c.on("closetag",l=>{s.pop()}),c.on("text",l=>{this.stackEquals(s,["sparql","boolean"])&&i(l==="true")}),e.on("error",o).on("data",l=>c.write(l)).on("end",()=>o(new Error("No valid ASK response was found.")))})}stackEquals(e,i){return e.length===i.length&&e.every((o,c)=>i[c]===o)}stackBeginsWith(e,i){return e.length>=i.length&&i.every((o,c)=>e[c]===o)}};return GT.SparqlXmlParser=n,GT}var $K;function z_e(){return $K||($K=1,function(a){var t=Ul&&Ul.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ul&&Ul.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(k_e(),a)}(Ul)),Ul}var GN={exports:{}},VK;function X_e(){return VK||(VK=1,function(a){(function(){var t;typeof window=="object"&&window?t=window:t=It,a.exports?a.exports=t.Promise?t.Promise:e:t.Promise||(t.Promise=e);var u=t.setImmediate||function(d){setTimeout(d,1)};function n(d,h){return function(){d.apply(h,arguments)}}var r=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function e(d){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof d!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],f(d,n(o,this),n(c,this))}function i(d){var h=this;if(this._state===null){this._deferreds.push(d);return}u(function(){var p=h._state?d.onFulfilled:d.onRejected;if(p===null){(h._state?d.resolve:d.reject)(h._value);return}var b;try{b=p(h._value)}catch(m){d.reject(m);return}d.resolve(b)})}function o(d){try{if(d===this)throw new TypeError("A promise cannot be resolved with itself.");if(d&&(typeof d=="object"||typeof d=="function")){var h=d.then;if(typeof h=="function"){f(n(h,d),n(o,this),n(c,this));return}}this._state=!0,this._value=d,s.call(this)}catch(p){c.call(this,p)}}function c(d){this._state=!1,this._value=d,s.call(this)}function s(){for(var d=0,h=this._deferreds.length;d<h;d++)i.call(this,this._deferreds[d]);this._deferreds=null}function l(d,h,p,b){this.onFulfilled=typeof d=="function"?d:null,this.onRejected=typeof h=="function"?h:null,this.resolve=p,this.reject=b}function f(d,h,p){var b=!1;try{d(function(m){b||(b=!0,h(m))},function(m){b||(b=!0,p(m))})}catch(m){if(b)return;b=!0,p(m)}}e.prototype.catch=function(d){return this.then(null,d)},e.prototype.then=function(d,h){var p=this;return new e(function(b,m){i.call(p,new l(d,h,b,m))})},e.all=function(){var d=Array.prototype.slice.call(arguments.length===1&&r(arguments[0])?arguments[0]:arguments);return new e(function(h,p){if(d.length===0)return h([]);var b=d.length;function m(g,_){try{if(_&&(typeof _=="object"||typeof _=="function")){var v=_.then;if(typeof v=="function"){v.call(_,function(T){m(g,T)},p);return}}d[g]=_,--b===0&&h(d)}catch(T){p(T)}}for(var y=0;y<d.length;y++)m(y,d[y])})},e.resolve=function(d){return d&&typeof d=="object"&&d.constructor===e?d:new e(function(h){h(d)})},e.reject=function(d){return new e(function(h,p){p(d)})},e.race=function(d){return new e(function(h,p){for(var b=0,m=d.length;b<m;b++)d[b].then(h,p)})}})()}(GN)),GN.exports}var kN,UK;function J_e(){if(UK)return kN;UK=1;var a=X_e();return kN=function(t,u,n){typeof u=="function"&&(n=u,u=null);var r="",e=new a(function(i,o){t.on("data",function(c){r+=typeof u=="string"?c.toString(u):c.toString()}),t.on("end",function(){i(r)}),t.on("error",o)});return n&&e.then(function(i){n(null,i)},n),e},kN}var QK;function K_e(){if(QK)return Vl;QK=1;var a=Vl&&Vl.__awaiter||function(s,l,f,d){function h(p){return p instanceof f?p:new f(function(b){b(p)})}return new(f||(f=Promise))(function(p,b){function m(_){try{g(d.next(_))}catch(v){b(v)}}function y(_){try{g(d.throw(_))}catch(v){b(v)}}function g(_){_.done?p(_.value):h(_.value).then(m,y)}g((d=d.apply(s,l||[])).next())})};Object.defineProperty(Vl,"__esModule",{value:!0}),Vl.SparqlEndpointFetcher=void 0;const t=Xk(),u=da,n=kk(),r=n0(),e=b9(),i=z_e(),o=J_e();let c=class zh{constructor(l){var f,d,h;this.method=(f=l==null?void 0:l.method)!==null&&f!==void 0?f:"POST",this.timeout=l==null?void 0:l.timeout,this.additionalUrlParams=(d=l==null?void 0:l.additionalUrlParams)!==null&&d!==void 0?d:new URLSearchParams,this.defaultHeaders=(h=l==null?void 0:l.defaultHeaders)!==null&&h!==void 0?h:new Headers,this.fetchCb=l==null?void 0:l.fetch,this.sparqlJsonParser=new e.SparqlJsonParser(l),this.sparqlXmlParser=new i.SparqlXmlParser(l),this.sparqlParsers={[zh.CONTENTTYPE_SPARQL_JSON]:{parseBooleanStream:p=>this.sparqlJsonParser.parseJsonBooleanStream(p),parseResultsStream:p=>this.sparqlJsonParser.parseJsonResultsStream(p)},[zh.CONTENTTYPE_SPARQL_XML]:{parseBooleanStream:p=>this.sparqlXmlParser.parseXmlBooleanStream(p),parseResultsStream:p=>this.sparqlXmlParser.parseXmlResultsStream(p)}}}getQueryType(l){const f=new r.Parser({sparqlStar:!0}).parse(l);return f.type==="query"?f.queryType==="DESCRIBE"?"CONSTRUCT":f.queryType:"UNKNOWN"}getUpdateTypes(l){const f=new r.Parser({sparqlStar:!0}).parse(l);if(f.type==="update"){const d={};for(const h of f.updates)"type"in h?d[h.type]=!0:d[h.updateType]=!0;return d}return"UNKNOWN"}fetchBindings(l,f){return a(this,void 0,void 0,function*(){const[d,h]=yield this.fetchRawStream(l,f,zh.CONTENTTYPE_SPARQL),p=this.sparqlParsers[d];if(!p)throw new Error(`Unknown SPARQL results content type: ${d}`);return p.parseResultsStream(h)})}fetchAsk(l,f){return a(this,void 0,void 0,function*(){const[d,h]=yield this.fetchRawStream(l,f,zh.CONTENTTYPE_SPARQL),p=this.sparqlParsers[d];if(!p)throw new Error(`Unknown SPARQL results content type: ${d}`);return p.parseBooleanStream(h)})}fetchTriples(l,f){return a(this,void 0,void 0,function*(){const[d,h]=yield this.fetchRawStream(l,f,zh.CONTENTTYPE_TURTLE);return h.pipe(new u.StreamParser({format:d}))})}fetchUpdate(l,f){return a(this,void 0,void 0,function*(){const d=new AbortController,h={};this.defaultHeaders.forEach((b,m)=>{h[m]=b});const p={method:"POST",headers:Object.assign(Object.assign({},h),{"content-type":"application/sparql-update"}),body:f,signal:d.signal};yield this.handleFetchCall(l,p,{ignoreBody:!0}),d.abort()})}fetchRawStream(l,f,d){return a(this,void 0,void 0,function*(){let h=this.method==="POST"?l:`${l}?query=${encodeURIComponent(f)}`,p;const b=new Headers(this.defaultHeaders);if(b.append("Accept",d),this.method==="POST"){b.append("Content-Type","application/x-www-form-urlencoded"),p=new URLSearchParams,p.set("query",f);for(const[m,y]of this.additionalUrlParams.entries())p.set(m,y);b.append("Content-Length",p.toString().length.toString())}else this.additionalUrlParams.toString().length>0&&(h+=`&${this.additionalUrlParams.toString()}`);return this.handleFetchCall(h,{headers:b,method:this.method,body:p})})}handleFetchCall(l,f,d){return a(this,void 0,void 0,function*(){var h,p,b;let m,y;if(this.timeout){const v=new AbortController;f.signal=v.signal,m=setTimeout(()=>v.abort(),this.timeout)}const g=yield((h=this.fetchCb)!==null&&h!==void 0?h:fetch)(l,f);if(clearTimeout(m),!(d!=null&&d.ignoreBody)&&g.body&&(y=t(g.body)?g.body:(0,n.readableFromWeb)(g.body)),!g.ok||!y&&!(d!=null&&d.ignoreBody)){const v=l.split("?").at(0),T=y?yield o(y):"empty response";throw new Error(`Invalid SPARQL endpoint response from ${v} (HTTP status ${g.status}):
${T}`)}return[(b=(p=g.headers.get("Content-Type"))===null||p===void 0?void 0:p.split(";").at(0))!==null&&b!==void 0?b:"",y]})}};return Vl.SparqlEndpointFetcher=c,c.CONTENTTYPE_SPARQL_JSON="application/sparql-results+json",c.CONTENTTYPE_SPARQL_XML="application/sparql-results+xml",c.CONTENTTYPE_TURTLE="text/turtle",c.CONTENTTYPE_SPARQL=`${c.CONTENTTYPE_SPARQL_JSON};q=1.0,${c.CONTENTTYPE_SPARQL_XML};q=0.7`,Vl}var HK;function GK(){return HK||(HK=1,function(a){var t=$l&&$l.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=$l&&$l.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(K_e(),a)}($l)),$l}var kK;function zK(){if(kK)return HT;kK=1,Object.defineProperty(HT,"__esModule",{value:!0}),HT.QuadDestinationSparql=void 0;const a=_h(),t=gt(),u=GK(),n=I1();let r=class{constructor(i,o,c,s){this.url=i,this.context=o,this.mediatorHttp=c,this.endpointFetcher=new u.SparqlEndpointFetcher({fetch:(l,f)=>this.mediatorHttp.mediate({input:l,init:f,context:this.context}),prefixVariableQuestionMark:!0,dataFactory:s})}async update(i){const o=this.createCombinedQuadsQuery(i.insert,i.delete);await this.wrapSparqlUpdateRequest(o)}createCombinedQuadsQuery(i,o){return new t.ArrayIterator([],{autoStart:!1}).append(this.createQuadsQuery("DELETE",o)).append(o&&i?[` ;
`]:[]).append(this.createQuadsQuery("INSERT",i))}createQuadsQuery(i,o){return o?o.map(c=>{let s=`${(0,n.termToString)(c.subject)} ${(0,n.termToString)(c.predicate)} ${(0,n.termToString)(c.object)} .`;return c.graph.termType==="DefaultGraph"?s=`  ${s}
`:s=`  GRAPH ${(0,n.termToString)(c.graph)} { ${s} }
`,s}).prepend([`${i} DATA {
`]).append(["}"]):new t.ArrayIterator([],{autoStart:!1})}async wrapSparqlUpdateRequest(i){const o=await(0,a.stringify)(i);await this.endpointFetcher.fetchUpdate(this.url,o)}async deleteGraphs(i,o,c){const s=Array.isArray(i)?i:[i],l=[];for(const f of s){let d;typeof f=="string"?d=f:f.termType==="DefaultGraph"?d="DEFAULT":d=`GRAPH <${f.value}>`,l.push(`${c?"DROP":"CLEAR"} ${o?"":"SILENT "}${d}`)}await this.endpointFetcher.fetchUpdate(this.url,l.join("; "))}async createGraphs(i,o){const c=[];for(const s of i)c.push(`CREATE${o?"":" SILENT"} GRAPH <${s.value}>`);await this.endpointFetcher.fetchUpdate(this.url,c.join("; "))}};return HT.QuadDestinationSparql=r,HT}var XK;function W_e(){if(XK)return QT;XK=1,Object.defineProperty(QT,"__esModule",{value:!0}),QT.ActorRdfUpdateHypermediaSparql=void 0;const a=QN(),t=ke(),u=Te(),n=zK();let r=class extends a.ActorRdfUpdateHypermedia{constructor(i){super(i,"sparql")}async testMetadata(i){return!i.forceDestinationType&&!i.metadata.sparqlService&&!(this.checkUrlSuffixSparql&&i.url.endsWith("/sparql"))&&!(this.checkUrlSuffixUpdate&&i.url.endsWith("/update"))?(0,u.failTest)(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql or /update.`):(0,u.passTestVoid)()}async run(i){this.logInfo(i.context,`Identified as sparql destination: ${i.url}`);const o=i.context.getSafe(t.KeysInitQuery.dataFactory);return{destination:new n.QuadDestinationSparql(i.metadata.sparqlService||i.url,i.context,this.mediatorHttp,o)}}};return QT.ActorRdfUpdateHypermediaSparql=r,QT}var JK;function Y_e(){return JK||(JK=1,function(a){var t=Bl&&Bl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Bl&&Bl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(W_e(),a),u(zK(),a)}(Bl)),Bl}var Hl={},ZT={},KK;function Z_e(){if(KK)return ZT;KK=1,Object.defineProperty(ZT,"__esModule",{value:!0}),ZT.ActorQueryOperationAsk=void 0;const a=Vt(),t=Te(),u=St();let n=class extends a.ActorQueryOperationTypedMediated{constructor(e){super(e,"ask")}async testOperation(e,i){return(0,t.passTestVoid)()}async runOperation(e,i){const o=await this.mediatorQueryOperation.mediate({operation:e.input,context:i}),{bindingsStream:c}=(0,u.getSafeBindings)(o);return{type:"boolean",execute:async()=>(await c.take(1).toArray()).length===1}}};return ZT.ActorQueryOperationAsk=n,ZT}var WK;function eme(){return WK||(WK=1,function(a){var t=Hl&&Hl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Hl&&Hl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Z_e(),a)}(Hl)),Hl}var Gl={},ew={},YK;function tme(){if(YK)return ew;YK=1,Object.defineProperty(ew,"__esModule",{value:!0}),ew.ActorQueryOperationBgpJoin=void 0;const a=Vt(),t=ke(),u=Te(),n=bt();let r=class extends a.ActorQueryOperationTypedMediated{constructor(i){super(i,"bgp")}async testOperation(i,o){return(0,u.passTestVoid)()}async runOperation(i,o){const c=o.getSafe(t.KeysInitQuery.dataFactory),s=new n.Factory(c);return this.mediatorQueryOperation.mediate({operation:s.createJoin(i.patterns),context:o})}};return ew.ActorQueryOperationBgpJoin=r,ew}var ZK;function rme(){return ZK||(ZK=1,function(a){var t=Gl&&Gl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Gl&&Gl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(tme(),a)}(Gl)),Gl}var kl={},tw={},rw={},eW;function tW(){if(eW)return rw;eW=1,Object.defineProperty(rw,"__esModule",{value:!0}),rw.BindingsToQuadsIterator=void 0;const a=gt(),t=Rr();let u=class GS extends a.MultiTransformIterator{constructor(r,e,i){super(i,{autoStart:!1}),this.dataFactory=r,this.template=e,this.blankNodeCounter=0}static bindTerm(r,e){return e.termType==="Variable"?r.get(e):e}static bindQuad(r,e){try{return(0,t.mapTermsNested)(e,i=>{const o=GS.bindTerm(r,i);if(!o)throw new Error("Unbound term");return o})}catch{}}static localizeBlankNode(r,e,i){return i.termType==="BlankNode"?r.blankNode(`${i.value}${e}`):i}static localizeQuad(r,e,i){return(0,t.mapTermsNested)(i,o=>GS.localizeBlankNode(r,e,o))}bindTemplate(r,e,i){return e.map(GS.localizeQuad.bind(null,this.dataFactory,i)).map(c=>GS.bindQuad.bind(null,r)(c)).filter(Boolean)}_createTransformer(r){return new a.ArrayIterator(this.bindTemplate(r,this.template,this.blankNodeCounter++),{autoStart:!1})}};return rw.BindingsToQuadsIterator=u,rw}var rW;function nme(){if(rW)return tw;rW=1,Object.defineProperty(tw,"__esModule",{value:!0}),tw.ActorQueryOperationConstruct=void 0;const a=Vt(),t=ke(),u=Te(),n=St(),r=Rr(),e=bt(),i=tW();let o=class pie extends a.ActorQueryOperationTypedMediated{constructor(s){super(s,"construct")}static getVariables(s){return(0,r.uniqTerms)([].concat.apply([],s.map(l=>(0,r.getVariables)((0,r.getTermsNested)(l)))))}async testOperation(s,l){return(0,u.passTestVoid)()}async runOperation(s,l){const f=l.getSafe(t.KeysInitQuery.dataFactory),d=pie.getVariables(s.template),h={type:e.Algebra.types.PROJECT,input:s.input,variables:d},p=(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:h,context:l})),b=new i.BindingsToQuadsIterator(f,s.template,p.bindingsStream);return{metadata:()=>p.metadata().then(y=>({...y,order:void 0,cardinality:{type:y.cardinality.type,value:y.cardinality.value*s.template.length},availableOrders:void 0})),quadStream:b,type:"quads"}}};return tw.ActorQueryOperationConstruct=o,tw}var nW;function iW(){return nW||(nW=1,function(a){var t=kl&&kl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=kl&&kl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(nme(),a),u(tW(),a)}(kl)),kl}var zl={},nw={},aW;function ime(){if(aW)return nw;aW=1,Object.defineProperty(nw,"__esModule",{value:!0}),nw.ActorQueryOperationDistinctHash=void 0;const a=Vt(),t=Te(),u=St();let n=class extends a.ActorQueryOperationTypedMediated{constructor(e){super(e,"distinct")}async testOperation(e,i){return(0,t.passTestVoid)()}async runOperation(e,i){const o=await this.mediatorQueryOperation.mediate({operation:e.input,context:i});if(o.type==="quads"){const f=(0,u.getSafeQuads)(o);return{type:"quads",quadStream:f.quadStream.filter(await this.newHashFilterQuads(i)),metadata:f.metadata}}const c=(0,u.getSafeBindings)(o),s=(await c.metadata()).variables.map(f=>f.variable);return{type:"bindings",bindingsStream:c.bindingsStream.filter(await this.newHashFilter(i,s)),metadata:c.metadata}}async newHashFilter(e,i){const{hashFunction:o}=await this.mediatorHashBindings.mediate({context:e}),c={};return s=>{const l=o(s,i);return!(l in c)&&(c[l]=!0)}}async newHashFilterQuads(e){const{hashFunction:i}=await this.mediatorHashQuads.mediate({context:e}),o={};return c=>{const s=i(c);return!(s in o)&&(o[s]=!0)}}};return nw.ActorQueryOperationDistinctHash=n,nw}var uW;function ame(){return uW||(uW=1,function(a){var t=zl&&zl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=zl&&zl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(ime(),a)}(zl)),zl}var Xl={},iw={},oW;function ume(){if(oW)return iw;oW=1,Object.defineProperty(iw,"__esModule",{value:!0}),iw.ActorQueryOperationExtend=void 0;const a=Vt(),t=Te(),u=kt(),n=Ae(),r=St();let e=class extends a.ActorQueryOperationTypedMediated{constructor(o){super(o,"extend"),this.mediatorExpressionEvaluatorFactory=o.mediatorExpressionEvaluatorFactory}async testOperation(){return(0,t.passTestVoid)()}async runOperation(o,c){const{expression:s,input:l,variable:f}=o,d=(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:l,context:c}));if((await d.metadata()).variables.some(m=>m.variable.equals(f)))throw new Error(`Illegal binding to variable '${f.value}' that has already been bound`);const h=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:s,context:c}),p=async(m,y,g)=>{try{const _=await h.evaluate(m),v=m.set(f,_);g(v)}catch(_){(0,n.isExpressionError)(_)?(g(m),this.logWarn(c,`Expression error for extend operation (${_.message})with bindings '${(0,u.bindingsToString)(m)}'`)):b.emit("error",_)}y()},b=d.bindingsStream.transform({autoStart:!1,transform:p});return{type:"bindings",bindingsStream:b,async metadata(){const m=await d.metadata();return{...m,variables:[...m.variables,{variable:f,canBeUndef:!1}]}}}}};return iw.ActorQueryOperationExtend=e,iw}var sW;function ome(){return sW||(sW=1,function(a){var t=Xl&&Xl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Xl&&Xl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(ume(),a)}(Xl)),Xl}var Jl={},aw={},cW;function sme(){if(cW)return aw;cW=1,Object.defineProperty(aw,"__esModule",{value:!0}),aw.ActorQueryOperationFilter=void 0;const a=Vt(),t=Te(),u=kt(),n=Ae(),r=St();let e=class extends a.ActorQueryOperationTypedMediated{constructor(o){super(o,"filter"),this.mediatorExpressionEvaluatorFactory=o.mediatorExpressionEvaluatorFactory}async testOperation(){return(0,t.passTestVoid)()}async runOperation(o,c){const s=await this.mediatorQueryOperation.mediate({operation:o.input,context:c}),l=(0,r.getSafeBindings)(s);(0,r.validateQueryOutput)(l,"bindings");const f=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:o.expression,context:c}),d=async(p,b,m)=>{try{await f.evaluateAsEBV(p)&&m(p)}catch(y){(0,n.isExpressionError)(y)?this.logWarn(c,"Error occurred while filtering.",()=>({error:y,bindings:(0,u.bindingsToString)(p)})):h.emit("error",y)}b()},h=l.bindingsStream.transform({transform:d,autoStart:!1});return{type:"bindings",bindingsStream:h,metadata:l.metadata}}};return aw.ActorQueryOperationFilter=e,aw}var lW;function cme(){return lW||(lW=1,function(a){var t=Jl&&Jl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Jl&&Jl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(sme(),a)}(Jl)),Jl}var Kl={},uw={},dW;function lme(){if(dW)return uw;dW=1,Object.defineProperty(uw,"__esModule",{value:!0}),uw.ActorQueryOperationFromQuad=void 0;const a=Vt(),t=ke(),u=Te(),n=bt();let r=class Pn extends a.ActorQueryOperationTypedMediated{constructor(i){super(i,"from")}static copyOperation(i,o){const c={};for(const s of Object.keys(i))Array.isArray(i[s])&&s!=="template"?s==="variables"?c[s]=i[s]:c[s]=i[s].map(o):Pn.ALGEBRA_TYPES.includes(i[s].type)?c[s]=o(i[s]):c[s]=i[s];return c}static applyOperationDefaultGraph(i,o,c){if(o.type==="bgp"&&o.patterns.length>0||o.type==="path"||o.type==="pattern"){if(o.type==="bgp")return Pn.joinOperations(i,o.patterns.map(l=>{if(l.graph.termType!=="DefaultGraph")return i.createBgp([l]);const f=c.map(d=>i.createBgp([Object.assign(i.createPattern(l.subject,l.predicate,l.object,d),{metadata:l.metadata})]));return Pn.unionOperations(i,f)}));if(o.graph.termType!=="DefaultGraph")return o;const s=c.map(l=>o.type==="path"?i.createPath(o.subject,o.predicate,o.object,l):Object.assign(i.createPattern(o.subject,o.predicate,o.object,l),{metadata:o.metadata}));return Pn.unionOperations(i,s)}return Pn.copyOperation(o,s=>this.applyOperationDefaultGraph(i,s,c))}static applyOperationNamedGraph(i,o,c,s){if(o.type==="bgp"&&o.patterns.length>0||o.type==="path"||o.type==="pattern"){const l=o.type==="bgp"?o.patterns[0].graph:o.graph;if(l.termType==="DefaultGraph")return{type:n.Algebra.types.BGP,patterns:[]};if(l.termType==="Variable"){if(c.length===1){const d=c[0],h={};h[`?${l.value}`]=d;const p=i.createValues([l],[h]);let b;return o.type==="bgp"?b=i.createBgp(o.patterns.map(m=>i.createPattern(m.subject,m.predicate,m.object,d))):o.type==="path"?b=i.createPath(o.subject,o.predicate,o.object,d):b=i.createPattern(o.subject,o.predicate,o.object,d),i.createJoin([p,b])}return Pn.unionOperations(i,c.map(d=>Pn.applyOperationNamedGraph(i,o,[d],s)))}return[...c,...s].some(d=>d.equals(l))?o:{type:n.Algebra.types.BGP,patterns:[]}}return Pn.copyOperation(o,l=>this.applyOperationNamedGraph(i,l,c,s))}static joinOperations(i,o){if(o.length===1)return o[0];if(o.length>1)return i.createJoin(o);throw new Error("A join can only be applied on at least one operation")}static unionOperations(i,o){if(o.length===1)return o[0];if(o.length>1)return i.createUnion(o);throw new Error("A union can only be applied on at least one operation")}static createOperation(i,o){let c=o.input;return o.default.length>0&&(c=Pn.applyOperationDefaultGraph(i,c,o.default)),(o.named.length>0||o.default.length>0)&&(c=Pn.applyOperationNamedGraph(i,c,o.named,o.default)),c}async testOperation(i,o){return(0,u.passTestVoid)()}async runOperation(i,o){const c=o.getSafe(t.KeysInitQuery.dataFactory),s=new n.Factory(c),l=Pn.createOperation(s,i);return this.mediatorQueryOperation.mediate({operation:l,context:o})}};return uw.ActorQueryOperationFromQuad=r,r.ALGEBRA_TYPES=Object.keys(n.Algebra.types).map(e=>n.Algebra.types[e]),uw}var fW;function dme(){return fW||(fW=1,function(a){var t=Kl&&Kl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Kl&&Kl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(lme(),a)}(Kl)),Kl}var Wl={},ow={},hW;function fme(){if(hW)return ow;hW=1,Object.defineProperty(ow,"__esModule",{value:!0}),ow.ActorQueryOperationProject=void 0;const a=Vt(),t=ke(),u=Te(),n=hI(),r=St();let e=class extends a.ActorQueryOperationTypedMediated{constructor(o){super(o,"project")}async testOperation(o,c){return(0,u.passTestVoid)()}async runOperation(o,c){const s=c.getSafe(t.KeysInitQuery.dataFactory),l=(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:o.input,context:c})),f=await l.metadata(),d=Object.fromEntries(f.variables.map(_=>[_.variable.value,_])),h=o.variables.map(_=>({variable:_,canBeUndef:!1})),p=Object.fromEntries(h.map(_=>[_.variable.value,_])),b=f.variables.filter(_=>!(_.variable.value in p)),m=h.map(_=>({variable:_.variable,canBeUndef:!(_.variable.value in d)||d[_.variable.value].canBeUndef}));let y=b.length===0?l.bindingsStream:l.bindingsStream.map(_=>{for(const v of b)_=_.delete(v.variable);return _}),g=0;return y=y.map(_=>{g++;const v=new Map;return _.map(T=>{if(T instanceof n.BlankNodeBindingsScoped){let w=v.get(T.value);return w||(w=s.blankNode(`${T.value}${g}`),v.set(T.value,w)),w}return T})}),{type:"bindings",bindingsStream:y,metadata:async()=>({...f,variables:m})}}};return ow.ActorQueryOperationProject=e,ow}var pW;function hme(){return pW||(pW=1,function(a){var t=Wl&&Wl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Wl&&Wl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(fme(),a)}(Wl)),Wl}var Yl={},sw={},yW;function pme(){if(yW)return sw;yW=1,Object.defineProperty(sw,"__esModule",{value:!0}),sw.ActorQueryOperationReducedHash=void 0;const a=Vt(),t=Te(),u=St(),n=nh();let r=class extends a.ActorQueryOperationTypedMediated{constructor(i){super(i,"reduced")}async testOperation(i,o){return(0,t.passTestVoid)()}async runOperation(i,o){const c=(0,u.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:i.input,context:o})),s=(await c.metadata()).variables.map(f=>f.variable);return{type:"bindings",bindingsStream:c.bindingsStream.filter(await this.newHashFilter(o,s)),metadata:c.metadata}}async newHashFilter(i,o){const{hashFunction:c}=await this.mediatorHashBindings.mediate({context:i}),s=new n.LRUCache({max:this.cacheSize});return l=>{const f=c(l,o);return s.has(f)?!1:(s.set(f,!0),!0)}}};return sw.ActorQueryOperationReducedHash=r,sw}var bW;function yme(){return bW||(bW=1,function(a){var t=Yl&&Yl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Yl&&Yl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(pme(),a)}(Yl)),Yl}var Zl={},cw={},_W;function bme(){if(_W)return cw;_W=1,Object.defineProperty(cw,"__esModule",{value:!0}),cw.ActorQueryOperationSlice=void 0;const a=Vt(),t=ke(),u=Te();let n=class extends a.ActorQueryOperationTypedMediated{constructor(e){super(e,"slice")}async testOperation(e,i){return(0,u.passTestVoid)()}async runOperation(e,i){e.length&&(i=i.set(t.KeysQueryOperation.limitIndicator,e.length));const o=await this.mediatorQueryOperation.mediate({operation:e.input,context:i});return o.type==="bindings"?{type:"bindings",bindingsStream:this.sliceStream(o.bindingsStream,e),metadata:this.sliceMetadata(o,e)}:o.type==="quads"?{type:"quads",quadStream:this.sliceStream(o.quadStream,e),metadata:this.sliceMetadata(o,e)}:o}sliceStream(e,i){const o=!!i.length||i.length===0,{start:c}=i,s=o?i.start+i.length-1:Number.POSITIVE_INFINITY;return e.transform({offset:c,limit:Math.max(s-c+1,0),autoStart:!1})}sliceMetadata(e,i){const o=!!i.length||i.length===0;return()=>e.metadata().then(c=>{const s={...c.cardinality};return Number.isFinite(s.value)&&(s.value=Math.max(0,s.value-i.start),o&&(s.value=Math.min(s.value,i.length))),{...c,cardinality:s}})}};return cw.ActorQueryOperationSlice=n,cw}var mW;function _me(){return mW||(mW=1,function(a){var t=Zl&&Zl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Zl&&Zl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(bme(),a)}(Zl)),Zl}var ed={},lw={},gW;function mme(){if(gW)return lw;gW=1,Object.defineProperty(lw,"__esModule",{value:!0}),lw.ActorQueryOperationUnion=void 0;const a=Vt(),t=Te(),u=Or(),n=St(),r=gt();let e=class gE extends a.ActorQueryOperationTypedMediated{constructor(o){super(o,"union")}static unionVariables(o){const c={};for(const s of o)for(const l of s){c[l.variable.value]||(c[l.variable.value]={variable:l.variable,canBeUndef:l.canBeUndef,occurrences:0});const f=c[l.variable.value];f.canBeUndef=f.canBeUndef||l.canBeUndef,f.occurrences++}return Object.values(c).map(s=>s.occurrences===o.length?{variable:s.variable,canBeUndef:s.canBeUndef}:{variable:s.variable,canBeUndef:!0})}static async unionMetadata(o,c,s,l){let f=(await l.mediate({mode:"initialize",context:s})).metadata;for(const h of o)f={...h,...(await l.mediate({mode:"append",accumulatedMetadata:f,appendingMetadata:h,context:s})).metadata};f.state=new u.MetadataValidationState;const d=()=>f.state.invalidate();for(const h of o)h.state.addInvalidateListener(d);if(c){const h=o.map(p=>p.variables);f.variables=gE.unionVariables(h)}return f}async testOperation(o,c){return(0,t.passTestVoid)()}async runOperation(o,c){const s=await Promise.all(o.input.map(f=>this.mediatorQueryOperation.mediate({operation:f,context:c})));let l;for(const f of s)if(l===void 0)l=f.type;else if(l!==f.type)throw new Error(`Unable to union ${l} and ${f.type}`);if(l==="bindings"||o.input.length===0){const f=s.map(n.getSafeBindings);return{type:"bindings",bindingsStream:new r.UnionIterator(f.map(p=>p.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(f.map(p=>p.metadata())).then(p=>gE.unionMetadata(p,!0,c,this.mediatorRdfMetadataAccumulate))}}if(l==="quads"){const f=s.map(n.getSafeQuads);return{type:"quads",quadStream:new r.UnionIterator(f.map(p=>p.quadStream),{autoStart:!1}),metadata:()=>Promise.all(f.map(p=>p.metadata())).then(p=>gE.unionMetadata(p,!1,c,this.mediatorRdfMetadataAccumulate))}}throw new Error(`Unable to union ${l}`)}};return lw.ActorQueryOperationUnion=e,lw}var vW;function TW(){return vW||(vW=1,function(a){var t=ed&&ed.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ed&&ed.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(mme(),a)}(ed)),ed}var td={},dw={},rd={},fw={},hw={},wW;function SW(){if(wW)return hw;wW=1,Object.defineProperty(hw,"__esModule",{value:!0}),hw.PathVariableObjectIterator=void 0;const a=St(),t=gt(),u=Bt();let n=class extends t.BufferedIterator{constructor(e,i,o,c,s,l,f,d=16){super({autoStart:!0}),this.algebraFactory=e,this.subject=i,this.predicate=o,this.graph=c,this.context=s,this.mediatorQueryOperation=l,this.maxRunningOperations=d,this.termHashes=new Map,this.runningOperations=[],this.pendingOperations=[],this._push(this.subject,f)}_end(e){for(const i of this.runningOperations)i.destroy();super._end(e)}_push(e,i=!0){let o;if(i&&(o=(0,u.termToString)(e),this.termHashes.has(o)))return;const c=this.algebraFactory.dataFactory.variable("b");this.pendingOperations.push({variable:c,operation:this.algebraFactory.createPath(e,this.predicate,c,this.graph)}),o&&(this.termHashes.set(o,e),super._push(e))}_read(e,i){const o=this;(async function(){for(;o.runningOperations.length<o.maxRunningOperations&&o.pendingOperations.length!==0;){const l=o.pendingOperations.pop(),f=(0,a.getSafeBindings)(await o.mediatorQueryOperation.mediate({operation:l.operation,context:o.context})),d=f.bindingsStream.transform({autoStart:!1,transform(h,p,b){const m=h.get(l.variable);b(m),p()}});d.done||(o.runningOperations.push(d),d.on("error",h=>o.destroy(h)),d.on("readable",()=>{o.readable=!0,o._fillBufferAsync()}),d.on("end",()=>{o.runningOperations.splice(o.runningOperations.indexOf(d),1),o.readable=!0,o._fillBufferAsync()})),o.setProperty("metadata",f.metadata)}let c=0,s;for(;c!==(c=e);)for(let l=0;l<o.runningOperations.length&&e>0;l++)(s=o.runningOperations[l].read())!==null&&(e--,o._push(s));o.runningOperations.length===0&&o.pendingOperations.length===0&&o.close()})().then(()=>{i()},c=>this.destroy(c))}};return hw.PathVariableObjectIterator=n,hw}var OW;function gme(){if(OW)return fw;OW=1,Object.defineProperty(fw,"__esModule",{value:!0}),fw.ActorAbstractPath=void 0;const a=Vt(),t=ke(),u=Te(),n=St(),r=gt(),e=Bt(),i=bt(),o=SW();let c=class extends a.ActorQueryOperationTypedMediated{constructor(l,f){super(l,"path"),this.predicateType=f}async testOperation(l,f){return l.predicate.type!==this.predicateType?(0,u.failTest)(`This Actor only supports ${this.predicateType} Path operations.`):(0,u.passTestVoid)()}generateVariable(l,f,d){return d?f&&(f.subject.value===d||f.object.value===d)?this.generateVariable(l,f,`${d}b`):l.variable(d):this.generateVariable(l,f,"b")}async isPathArbitraryLengthDistinct(l,f,d){return f.get(t.KeysQueryOperation.isPathArbitraryLengthDistinctKey)?(f=f.set(t.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!1),{context:f,operation:void 0}):(f=f.set(t.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!0),{context:f,operation:(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:l.createDistinct(d),context:f}))})}async predicateStarGraphVariable(l,f,d,h,p,b,m){const y=this.getPathSources(d),g=this.generateVariable(b.dataFactory,b.createPath(l,d,f,h)),_=b.createUnion([this.assignPatternSources(b,b.createPattern(l,g,f,h),y),this.assignPatternSources(b,b.createPattern(f,g,l,h),y)]),v=(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:p,operation:_})),T=new Set;return{bindingsStream:new r.MultiTransformIterator(v.bindingsStream,{multiTransform:A=>{const M=A.get(h);return T.has(M.value)?new r.EmptyIterator:(T.add(M.value),new r.TransformIterator(async()=>{const F=new r.BufferedIterator;return await this.getObjectsPredicateStar(b,l,d,M,p,{},F,{count:0}),F.transform({transform(O,E,x){x(m.bindings([[f,O],[h,M]])),E()}})},{maxBufferSize:128}))},autoStart:!1}),metadata:v.metadata}}async getObjectsPredicateStarEval(l,f,d,h,p,b,m,y){if(h.termType==="Variable")return this.predicateStarGraphVariable(l,d,f,h,p,m,y);const g=new o.PathVariableObjectIterator(m,l,f,h,p,this.mediatorQueryOperation,b);return{bindingsStream:g.transform({autoStart:!1,transform(v,T,w){w(y.bindings([[d,v]])),T()}}),async metadata(){const v=await new Promise(T=>{g.getProperty("metadata",w=>T(w()))});return v.cardinality.value++,v}}}async getObjectsPredicateStar(l,f,d,h,p,b,m,y){const g=(0,e.termToString)(f);if(b[g])return;m._push(f),b[g]=f,y.count++;const _=this.generateVariable(l.dataFactory),v=l.createPath(f,d,_,h),T=(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:v,context:p}));return T.bindingsStream.on("data",async w=>{const A=w.get(_);await this.getObjectsPredicateStar(l,A,d,h,p,b,m,y)}),T.bindingsStream.on("end",()=>{--y.count===0&&m.close()}),T.metadata}async getSubjectAndObjectBindingsPredicateStar(l,f,d,h,p,b,m,y,g,_,v,T,w){const A=(0,e.termToString)(h)+(0,e.termToString)(b);if(g[A])return;if(v.count++,g[A]=!0,_._push(w.bindings([[l,d],[f,h]])),A in y){const F=await y[A];for(const O of F)await this.getSubjectAndObjectBindingsPredicateStar(l,f,d,O,p,b,m,y,g,_,v,T,w);--v.count===0&&_.close();return}const M=new Promise(async(F,O)=>{const E=[],x=this.generateVariable(T.dataFactory),L=T.createPath(h,p,x,b),V=(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:L,context:m}));V.bindingsStream.on("data",async $=>{const Q=$.get(x);E.push(Q),await this.getSubjectAndObjectBindingsPredicateStar(l,f,d,Q,p,b,m,y,g,_,v,T,w)}),V.bindingsStream.on("error",O),V.bindingsStream.on("end",()=>{--v.count===0&&_.close(),F(E)})});y[A]=M}getPathSources(l){switch(l.type){case i.Algebra.types.ALT:case i.Algebra.types.SEQ:return l.input.flatMap(f=>this.getPathSources(f));case i.Algebra.types.INV:case i.Algebra.types.ONE_OR_MORE_PATH:case i.Algebra.types.ZERO_OR_MORE_PATH:case i.Algebra.types.ZERO_OR_ONE_PATH:return this.getPathSources(l.path);case i.Algebra.types.LINK:case i.Algebra.types.NPS:{const f=(0,n.getOperationSource)(l);if(!f)throw new Error("Could not find a required source on a link path operation");return[f]}}}assignPatternSources(l,f,d){if(d.length===0)throw new Error("Attempted to assign zero sources to a pattern during property path handling");return d.length===1?(0,n.assignOperationSource)(f,d[0]):l.createUnion(d.map(h=>(0,n.assignOperationSource)(f,h)),!0)}};return fw.ActorAbstractPath=c,fw}var AW;function ma(){return AW||(AW=1,function(a){var t=rd&&rd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=rd&&rd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(gme(),a),u(SW(),a)}(rd)),rd}var EW;function vme(){if(EW)return dw;EW=1,Object.defineProperty(dw,"__esModule",{value:!0}),dw.ActorQueryOperationPathAlt=void 0;const a=ma(),t=TW(),u=ke(),n=St(),r=gt(),e=bt();let i=class extends a.ActorAbstractPath{constructor(c){super(c,e.Algebra.types.ALT)}async runOperation(c,s){const l=s.getSafe(u.KeysInitQuery.dataFactory),f=new e.Factory(l),d=c.predicate,h=(await Promise.all(d.input.map(m=>this.mediatorQueryOperation.mediate({context:s,operation:f.createPath(c.subject,m,c.object,c.graph)})))).map(n.getSafeBindings);return{type:"bindings",bindingsStream:new r.UnionIterator(h.map(m=>m.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(h.map(m=>m.metadata())).then(m=>t.ActorQueryOperationUnion.unionMetadata(m,!0,s,this.mediatorRdfMetadataAccumulate))}}};return dw.ActorQueryOperationPathAlt=i,dw}var xW;function Tme(){return xW||(xW=1,function(a){var t=td&&td.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=td&&td.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(vme(),a)}(td)),td}var nd={},pw={},IW;function wme(){if(IW)return pw;IW=1,Object.defineProperty(pw,"__esModule",{value:!0}),pw.ActorQueryOperationPathInv=void 0;const a=ma(),t=ke(),u=bt();let n=class extends a.ActorAbstractPath{constructor(e){super(e,u.Algebra.types.INV)}async runOperation(e,i){const o=i.getSafe(t.KeysInitQuery.dataFactory),c=new u.Factory(o),s=e.predicate,l=c.createPath(e.object,s.path,e.subject,e.graph);return this.mediatorQueryOperation.mediate({operation:l,context:i})}};return pw.ActorQueryOperationPathInv=n,pw}var RW;function Sme(){return RW||(RW=1,function(a){var t=nd&&nd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=nd&&nd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(wme(),a)}(nd)),nd}var id={},yw={},NW;function Ome(){if(NW)return yw;NW=1,Object.defineProperty(yw,"__esModule",{value:!0}),yw.ActorQueryOperationPathLink=void 0;const a=ma(),t=ke(),u=bt();let n=class extends a.ActorAbstractPath{constructor(e){super(e,u.Algebra.types.LINK)}async runOperation(e,i){const o=i.getSafe(t.KeysInitQuery.dataFactory),c=new u.Factory(o),s=e.predicate,l=Object.assign(c.createPattern(e.subject,s.iri,e.object,e.graph),{metadata:s.metadata});return this.mediatorQueryOperation.mediate({operation:l,context:i})}};return yw.ActorQueryOperationPathLink=n,yw}var FW;function Ame(){return FW||(FW=1,function(a){var t=id&&id.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=id&&id.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Ome(),a)}(id)),id}var ad={},bw={},DW;function Eme(){if(DW)return bw;DW=1,Object.defineProperty(bw,"__esModule",{value:!0}),bw.ActorQueryOperationPathNps=void 0;const a=ma(),t=ke(),u=St(),n=bt();let r=class extends a.ActorAbstractPath{constructor(i){super(i,n.Algebra.types.NPS)}async runOperation(i,o){const c=o.getSafe(t.KeysInitQuery.dataFactory),s=new n.Factory(c),l=i.predicate,f=this.generateVariable(c,i),d=Object.assign(s.createPattern(i.subject,f,i.object,i.graph),{metadata:l.metadata}),h=(0,u.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:d,context:o}));return{type:"bindings",bindingsStream:h.bindingsStream.map(b=>l.iris.some(m=>m.equals(b.get(f)))?null:b.delete(f)),metadata:h.metadata}}};return bw.ActorQueryOperationPathNps=r,bw}var PW;function xme(){return PW||(PW=1,function(a){var t=ad&&ad.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ad&&ad.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Eme(),a)}(ad)),ad}var ud={},_w={},LW;function Ime(){if(LW)return _w;LW=1,Object.defineProperty(_w,"__esModule",{value:!0}),_w.ActorQueryOperationClear=void 0;const a=Vt(),t=ke(),u=St();let n=class extends a.ActorQueryOperationTypedMediated{constructor(e){super(e,"clear")}async testOperation(e,i){return(0,u.testReadOnly)(i)}async runOperation(e,i){const o=i.getSafe(t.KeysInitQuery.dataFactory);let c;e.source==="DEFAULT"?c=o.defaultGraph():typeof e.source=="string"?c=e.source:c=[e.source];const{execute:s}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:c,requireExistence:!e.silent,dropGraphs:!1},context:i});return{type:"void",execute:s}}};return _w.ActorQueryOperationClear=n,_w}var jW;function Rme(){return jW||(jW=1,function(a){var t=ud&&ud.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ud&&ud.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Ime(),a)}(ud)),ud}var od={},mw={},MW;function Nme(){if(MW)return mw;MW=1,Object.defineProperty(mw,"__esModule",{value:!0}),mw.ActorQueryOperationUpdateCompositeUpdate=void 0;const a=Vt(),t=St();let u=class extends a.ActorQueryOperationTypedMediated{constructor(r){super(r,"compositeupdate")}async testOperation(r,e){return(0,t.testReadOnly)(e)}async runOperation(r,e){return{type:"void",execute:()=>(async()=>{for(const o of r.updates)await(0,t.getSafeVoid)(await this.mediatorQueryOperation.mediate({operation:o,context:e})).execute()})()}}};return mw.ActorQueryOperationUpdateCompositeUpdate=u,mw}var qW;function Fme(){return qW||(qW=1,function(a){var t=od&&od.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=od&&od.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Nme(),a)}(od)),od}var sd={},gw={},CW;function Dme(){if(CW)return gw;CW=1,Object.defineProperty(gw,"__esModule",{value:!0}),gw.ActorQueryOperationCreate=void 0;const a=Vt(),t=St();let u=class extends a.ActorQueryOperationTypedMediated{constructor(r){super(r,"create")}async testOperation(r,e){return(0,t.testReadOnly)(e)}async runOperation(r,e){const{execute:i}=await this.mediatorUpdateQuads.mediate({createGraphs:{graphs:[r.source],requireNonExistence:!r.silent},context:e});return{type:"void",execute:i}}};return gw.ActorQueryOperationCreate=u,gw}var BW;function Pme(){return BW||(BW=1,function(a){var t=sd&&sd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=sd&&sd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Dme(),a)}(sd)),sd}var cd={},vw={},$W;function Lme(){if($W)return vw;$W=1,Object.defineProperty(vw,"__esModule",{value:!0}),vw.ActorQueryOperationDrop=void 0;const a=Vt(),t=ke(),u=St();let n=class extends a.ActorQueryOperationTypedMediated{constructor(e){super(e,"drop")}async testOperation(e,i){return(0,u.testReadOnly)(i)}async runOperation(e,i){const o=i.getSafe(t.KeysInitQuery.dataFactory);let c;e.source==="DEFAULT"?c=o.defaultGraph():typeof e.source=="string"?c=e.source:c=[e.source];const{execute:s}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:c,requireExistence:!e.silent,dropGraphs:!0},context:i});return{type:"void",execute:s}}};return vw.ActorQueryOperationDrop=n,vw}var VW;function jme(){return VW||(VW=1,function(a){var t=cd&&cd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=cd&&cd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Lme(),a)}(cd)),cd}var ld={},Tw={},UW;function Mme(){if(UW)return Tw;UW=1,Object.defineProperty(Tw,"__esModule",{value:!0}),Tw.ActorQueryOperationLoad=void 0;const a=Vt(),t=ke(),u=St(),n=bt();let r=class extends a.ActorQueryOperationTypedMediated{constructor(i){super(i,"load")}async testOperation(i,o){return(0,u.testReadOnly)(o)}async runOperation(i,o){const c=o.getSafe(t.KeysInitQuery.dataFactory),s=new n.Factory(c);let l=o;i.silent&&(l=l.set(t.KeysInitQuery.lenient,!0));const{querySource:f}=await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:i.source.value},context:l});let h=(0,u.getSafeQuads)(await this.mediatorQueryOperation.mediate({operation:s.createConstruct((0,u.assignOperationSource)(s.createPattern(c.variable("s"),c.variable("p"),c.variable("o")),f),[s.createPattern(c.variable("s"),c.variable("p"),c.variable("o"))]),context:l})).quadStream;i.destination&&(h=h.map(b=>c.quad(b.subject,b.predicate,b.object,i.destination)));const{execute:p}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:h,context:o});return{type:"void",execute:p}}};return Tw.ActorQueryOperationLoad=r,Tw}var QW;function qme(){return QW||(QW=1,function(a){var t=ld&&ld.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ld&&ld.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Mme(),a)}(ld)),ld}var dd={},ww={},fd={},Sw={},HW;function GW(){if(HW)return Sw;HW=1,Object.defineProperty(Sw,"__esModule",{value:!0}),Sw.BlankNode=void 0;class a{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return Sw.BlankNode=a,Sw}var Ow={},Aw={},kW;function zW(){if(kW)return Aw;kW=1,Object.defineProperty(Aw,"__esModule",{value:!0}),Aw.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return Aw.DefaultGraph=a,a.INSTANCE=new a,Aw}var Ew={},xw={},XW;function zN(){if(XW)return xw;XW=1,Object.defineProperty(xw,"__esModule",{value:!0}),xw.NamedNode=void 0;class a{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return xw.NamedNode=a,xw}var JW;function KW(){if(JW)return Ew;JW=1,Object.defineProperty(Ew,"__esModule",{value:!0}),Ew.Literal=void 0;const a=zN();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return Ew.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Ew}var Iw={},WW;function YW(){if(WW)return Iw;WW=1,Object.defineProperty(Iw,"__esModule",{value:!0}),Iw.Quad=void 0;class a{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return Iw.Quad=a,Iw}var Rw={},ZW;function eY(){if(ZW)return Rw;ZW=1,Object.defineProperty(Rw,"__esModule",{value:!0}),Rw.Variable=void 0;class a{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return Rw.Variable=a,Rw}var tY;function Cme(){if(tY)return Ow;tY=1,Object.defineProperty(Ow,"__esModule",{value:!0}),Ow.DataFactory=void 0;const a=GW(),t=zW(),u=KW(),n=zN(),r=YW(),e=eY();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return Ow.DataFactory=o,Ow}var rY;function Bme(){return rY||(rY=1,function(a){var t=fd&&fd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=fd&&fd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(GW(),a),u(Cme(),a),u(zW(),a),u(KW(),a),u(zN(),a),u(YW(),a),u(eY(),a)}(fd)),fd}var nY;function $me(){if(nY)return ww;nY=1,Object.defineProperty(ww,"__esModule",{value:!0}),ww.ActorQueryOperationJoin=void 0;const a=Vt(),t=en(),u=Te(),n=Or(),r=St(),e=gt(),i=Bme();let o=class extends a.ActorQueryOperationTypedMediated{constructor(s){super(s,"join")}async testOperation(s,l){return(0,u.passTestVoid)()}async runOperation(s,l){const f=(await Promise.all(s.input.map(async d=>({output:await this.mediatorQueryOperation.mediate({operation:d,context:l}),operation:d})))).map(({output:d,operation:h})=>({output:(0,r.getSafeBindings)(d),operation:h}));if((await Promise.all(f.map(d=>d.output.metadata()))).some(d=>d.cardinality.value===0&&d.cardinality.type==="exact")){for(const d of f)d.output.bindingsStream.close();return{bindingsStream:new e.ArrayIterator([],{autoStart:!1}),metadata:async()=>({state:new n.MetadataValidationState,cardinality:{type:"exact",value:0},variables:t.ActorRdfJoin.joinVariables(new i.DataFactory,await t.ActorRdfJoin.getMetadatas(f))}),type:"bindings"}}return this.mediatorJoin.mediate({type:"inner",entries:f,context:l})}};return ww.ActorQueryOperationJoin=o,ww}var iY;function Vme(){return iY||(iY=1,function(a){var t=dd&&dd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=dd&&dd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u($me(),a)}(dd)),dd}var hd={},Nw={},aY;function Ume(){if(aY)return Nw;aY=1,Object.defineProperty(Nw,"__esModule",{value:!0}),Nw.ActorQueryOperationLeftJoin=void 0;const a=Vt(),t=Te(),u=kt(),n=Ae(),r=St();let e=class extends a.ActorQueryOperationTypedMediated{constructor(o){super(o,"leftjoin"),this.mediatorExpressionEvaluatorFactory=o.mediatorExpressionEvaluatorFactory}async testOperation(o,c){return(0,t.passTestVoid)()}async runOperation(o,c){const s=(await Promise.all(o.input.map(async f=>({output:await this.mediatorQueryOperation.mediate({operation:f,context:c}),operation:f})))).map(({output:f,operation:d})=>({output:(0,r.getSafeBindings)(f),operation:d})),l=await this.mediatorJoin.mediate({type:"optional",entries:s,context:c});if(o.expression){const d=(await s[1].output.metadata()).variables,h=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:o.expression,context:c}),p=l.bindingsStream.transform({autoStart:!1,transform:async(b,m,y)=>{if(!d.every(g=>b.has(g.variable.value)))return y(b),m();try{await h.evaluateAsEBV(b)&&y(b)}catch(g){(0,n.isExpressionError)(g)?this.logWarn(c,"Error occurred while filtering.",()=>({error:g,bindings:(0,u.bindingsToString)(b)})):p.emit("error",g)}m()}});l.bindingsStream=p}return l}};return Nw.ActorQueryOperationLeftJoin=e,Nw}var uY;function Qme(){return uY||(uY=1,function(a){var t=hd&&hd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=hd&&hd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Ume(),a)}(hd)),hd}var pd={},Fw={},oY;function Hme(){if(oY)return Fw;oY=1,Object.defineProperty(Fw,"__esModule",{value:!0}),Fw.ActorQueryOperationMinus=void 0;const a=Vt(),t=Te(),u=St();let n=class extends a.ActorQueryOperationTypedMediated{constructor(e){super(e,"minus")}async testOperation(e,i){return(0,t.passTestVoid)()}async runOperation(e,i){const o=(await Promise.all(e.input.map(async c=>({output:await this.mediatorQueryOperation.mediate({operation:c,context:i}),operation:c})))).map(({output:c,operation:s})=>({output:(0,u.getSafeBindings)(c),operation:s}));return this.mediatorJoin.mediate({type:"minus",entries:o,context:i})}};return Fw.ActorQueryOperationMinus=n,Fw}var sY;function Gme(){return sY||(sY=1,function(a){var t=pd&&pd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=pd&&pd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Hme(),a)}(pd)),pd}var yd={},Dw={},cY;function kme(){if(cY)return Dw;cY=1,Object.defineProperty(Dw,"__esModule",{value:!0}),Dw.ActorQueryOperationPathSeq=void 0;const a=ma(),t=ke(),u=St(),n=bt();let r=class extends a.ActorAbstractPath{constructor(i){super(i,n.Algebra.types.SEQ)}async runOperation(i,o){const c=o.getSafe(t.KeysInitQuery.dataFactory),s=new n.Factory(c),l=i.predicate;let f=i.subject;const d=[],h=await Promise.all(l.input.map((m,y)=>{const g=y===l.input.length-1?i.object:this.generateVariable(c,i,`b${y}`),_=s.createPath(f,m,g,i.graph),v=this.mediatorQueryOperation.mediate({context:o,operation:_});return f=g,y<l.input.length-1&&d.push(g),{output:v,operation:_}}).map(async({output:m,operation:y})=>({output:(0,u.getSafeBindings)(await m),operation:y}))),p=(0,u.getSafeBindings)(await this.mediatorJoin.mediate({type:"inner",entries:h,context:o}));return{type:"bindings",bindingsStream:p.bindingsStream.transform({transform(m,y,g){for(const _ of d)m=m.delete(_);g(m),y()}}),async metadata(){const m=await p.metadata(),y=m.variables.filter(g=>!d.some(_=>_.value===g.variable.value));return{...m,variables:y}}}}};return Dw.ActorQueryOperationPathSeq=r,Dw}var lY;function zme(){return lY||(lY=1,function(a){var t=yd&&yd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=yd&&yd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(kme(),a)}(yd)),yd}var bd={},Pw={},dY;function Xme(){if(dY)return Pw;dY=1,Object.defineProperty(Pw,"__esModule",{value:!0}),Pw.ActorRdfJoinMultiSmallest=void 0;const a=en(),t=ke(),u=Te(),n=St(),r=bt();let e=class extends a.ActorRdfJoin{constructor(o){super(o,{logicalType:"inner",physicalName:"multi-smallest",limitEntries:3,limitEntriesMin:!0,canHandleUndefs:!0,isLeaf:!1})}async sortJoinEntries(o,c){return(await this.mediatorJoinEntriesSort.mediate({entries:o,context:c})).entries}async getOutput(o,c){const s=o.context.getSafe(t.KeysInitQuery.dataFactory),l=new r.Factory(s),f=c.sortedEntries,d=f[0],h=f[1];f.splice(0,2);const p={output:(0,n.getSafeBindings)(await this.mediatorJoin.mediate({type:o.type,entries:[d,h],context:o.context})),operation:l.createJoin([d.operation,h.operation],!1)};return f.push(p),{result:await this.mediatorJoin.mediate({type:o.type,entries:f,context:o.context})}}async getJoinCoefficients(o,c){let{metadatas:s}=c;s=[...s];const l=await this.sortJoinEntries(o.entries.map((h,p)=>({...h,metadata:s[p]})),o.context);s=l.map(h=>h.metadata);const f=a.ActorRdfJoin.getRequestInitialTimes(s),d=a.ActorRdfJoin.getRequestItemTimes(s);return(0,u.passTestWithSideData)({iterations:s[0].cardinality.value*s[1].cardinality.value*s.slice(2).reduce((h,p)=>h*p.cardinality.value,1),persistedItems:0,blockingItems:0,requestTime:f[0]+s[0].cardinality.value*d[0]+f[1]+s[1].cardinality.value*d[1]+s.slice(2).reduce((h,p,b)=>h+f.slice(2)[b]+p.cardinality.value*d.slice(2)[b],0)},{...c,sortedEntries:l})}};return Pw.ActorRdfJoinMultiSmallest=e,Pw}var fY;function Jme(){return fY||(fY=1,function(a){var t=bd&&bd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=bd&&bd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Xme(),a)}(bd)),bd}var _d={},Lw={},jw={},hY;function pY(){if(hY)return jw;hY=1,Object.defineProperty(jw,"__esModule",{value:!0}),jw.MaxAggregator=void 0;const a=Vr();let t=class extends a.AggregateEvaluator{constructor(n,r,e,i){super(n,r,i),this.orderByEvaluator=e,this.state=void 0}putTerm(n){if(n.termType!=="Literal")throw new Error(`Term with value ${n.value} has type ${n.termType} and is not a literal`);this.state===void 0?this.state=n:this.orderByEvaluator.orderTypes(this.state,n)===-1&&(this.state=n)}termResult(){return this.state===void 0?this.emptyValue():this.state}};return jw.MaxAggregator=t,jw}var yY;function Kme(){if(yY)return Lw;yY=1,Object.defineProperty(Lw,"__esModule",{value:!0}),Lw.ActorBindingsAggregatorFactoryMax=void 0;const a=Vr(),t=Te(),u=pY();let n=class extends a.ActorBindingsAggregatorFactory{constructor(e){super(e),this.mediatorTermComparatorFactory=e.mediatorTermComparatorFactory}async test(e){return e.expr.aggregator!=="max"?(0,t.failTest)("This actor only supports the 'max' aggregator."):(0,t.passTestVoid)()}async run({expr:e,context:i}){return new u.MaxAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:e.expression,context:i}),e.distinct,await this.mediatorTermComparatorFactory.mediate({context:i}))}};return Lw.ActorBindingsAggregatorFactoryMax=n,Lw}var bY;function Wme(){return bY||(bY=1,function(a){var t=_d&&_d.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=_d&&_d.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Kme(),a),u(pY(),a)}(_d)),_d}var md={},Mw={},qw={},_Y;function mY(){if(_Y)return qw;_Y=1,Object.defineProperty(qw,"__esModule",{value:!0}),qw.MinAggregator=void 0;const a=Vr();let t=class extends a.AggregateEvaluator{constructor(n,r,e,i){super(n,r,i),this.orderByEvaluator=e,this.state=void 0}putTerm(n){if(n.termType!=="Literal")throw new Error(`Term with value ${n.value} has type ${n.termType} and is not a literal`);this.state===void 0?this.state=n:this.orderByEvaluator.orderTypes(this.state,n)===1&&(this.state=n)}termResult(){return this.state===void 0?this.emptyValue():this.state}};return qw.MinAggregator=t,qw}var gY;function Yme(){if(gY)return Mw;gY=1,Object.defineProperty(Mw,"__esModule",{value:!0}),Mw.ActorBindingsAggregatorFactoryMin=void 0;const a=Vr(),t=Te(),u=mY();let n=class extends a.ActorBindingsAggregatorFactory{constructor(e){super(e),this.mediatorTermComparatorFactory=e.mediatorTermComparatorFactory}async test(e){return e.expr.aggregator!=="min"?(0,t.failTest)("This actor only supports the 'min' aggregator."):(0,t.passTestVoid)()}async run({context:e,expr:i}){return new u.MinAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:i.expression,context:e}),i.distinct,await this.mediatorTermComparatorFactory.mediate({context:e}))}};return Mw.ActorBindingsAggregatorFactoryMin=n,Mw}var vY;function Zme(){return vY||(vY=1,function(a){var t=md&&md.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=md&&md.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Yme(),a),u(mY(),a)}(md)),md}var gd={},Cw={},Bw={},TY;function ege(){if(TY)return Bw;TY=1,Object.defineProperty(Bw,"__esModule",{value:!0}),Bw.SortIterator=void 0;const a=gt();let t=class extends a.TransformIterator{constructor(n,r,e){super(n,e);const i=e&&e.window;this.windowLength=Number.isFinite(i)&&i>0?i:Number.POSITIVE_INFINITY,this.sort=r,this.sorted=[]}_read(n,r){let e,{length:i}=this.sorted;for(;i!==this.windowLength&&(e=this.source.read(),e!==null);){let o=0,c=i-1,s,l;for(;o<=c;)s=Math.trunc((o+c)/2),l=this.sort(e,this.sorted[s]),l<0?o=s+1:l>0?c=s-1:(o=s,c=-1);this.sorted.splice(o,0,e),i++}i===this.windowLength&&this._push(this.sorted.pop()),r()}_flush(n){let{length:r}=this.sorted;for(;r--;)this._push(this.sorted.pop());n()}};return Bw.SortIterator=t,Bw}var wY;function tge(){if(wY)return Cw;wY=1,Object.defineProperty(Cw,"__esModule",{value:!0}),Cw.ActorQueryOperationOrderBy=void 0;const a=Vt(),t=Te(),u=Ae(),n=St(),r=bt(),e=ege();let i=class extends a.ActorQueryOperationTypedMediated{constructor(c){super(c,"orderby"),this.window=c.window??Number.POSITIVE_INFINITY,this.mediatorExpressionEvaluatorFactory=c.mediatorExpressionEvaluatorFactory,this.mediatorTermComparatorFactory=c.mediatorTermComparatorFactory}async testOperation(){return(0,t.passTestVoid)()}async runOperation(c,s){const l=await this.mediatorQueryOperation.mediate({operation:c.input,context:s}),f=(0,n.getSafeBindings)(l),d={window:this.window};let{bindingsStream:h}=f;const p=await this.mediatorTermComparatorFactory.mediate({context:s});for(let b=c.expressions.length-1;b>=0;b--){let m=c.expressions[b];const y=this.isAscending(m);m=this.extractSortExpression(m);const g=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:m,context:s}),_=async(w,A,M)=>{try{const F=await g.evaluate(w);M({bindings:w,result:F})}catch(F){(0,u.isExpressionError)(F)||h.emit("error",F),M({bindings:w,result:void 0})}A()},v=h.transform({transform:_});h=new e.SortIterator(v,(w,A)=>{let M=p.orderTypes(w.result,A.result);return y||(M*=-1),M},d).map(({bindings:w})=>w)}return{type:"bindings",bindingsStream:h,metadata:f.metadata}}extractSortExpression(c){const{expressionType:s,operator:l}=c;return s!==r.Algebra.expressionTypes.OPERATOR?c:l==="desc"?c.args[0]:c}isAscending(c){const{expressionType:s,operator:l}=c;return s!==r.Algebra.expressionTypes.OPERATOR?!0:l!=="desc"}};return Cw.ActorQueryOperationOrderBy=i,Cw}var SY;function rge(){return SY||(SY=1,function(a){var t=gd&&gd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=gd&&gd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(tge(),a)}(gd)),gd}var vd={},$w={},OY;function nge(){if(OY)return $w;OY=1,Object.defineProperty($w,"__esModule",{value:!0}),$w.ActorOptimizeQueryOperationFilterPushdown=void 0;const a=En(),t=ke(),u=Te(),n=St(),r=Rr(),e=bt();let i=class extends a.ActorOptimizeQueryOperation{constructor(c){super(c)}async test(c){return(0,u.passTestVoid)()}async run(c){const s=c.context.getSafe(t.KeysInitQuery.dataFactory),l=new e.Factory(s);let f=c.operation;const d=this;this.splitConjunctive&&(f=e.Util.mapOperation(f,{filter(y,g){return y.expression.expressionType===e.Algebra.expressionTypes.OPERATOR&&y.expression.operator==="&&"?(d.logDebug(c.context,`Split conjunctive filter into ${y.expression.args.length} nested filters`),{recurse:!0,result:y.expression.args.reduce((_,v)=>g.createFilter(_,v),y.input)}):{recurse:!0,result:y}}},l));const h=this.getSources(f),p=new Map(await Promise.all(h.map(async y=>[y,await y.source.getSelectorShape(c.context)])));let b=!0,m=0;for(;b&&m<this.maxIterations;)b=!1,f=e.Util.mapOperation(f,{filter(y,g){if(!d.shouldAttemptPushDown(y,h,p))return{recurse:!0,result:y};const _=d.getExpressionVariables(y.expression),[v,T]=d.filterPushdown(y.expression,_,y.input,g,c.context);return v&&(b=!0),{recurse:!0,result:T}}}),m++;return m>1&&d.logDebug(c.context,`Pushed down filters in ${m} iterations`),this.mergeConjunctive&&(f=e.Util.mapOperation(f,{filter(y,g){if(y.input.type===e.Algebra.types.FILTER){const{nestedExpressions:_,input:v}=d.getNestedFilterExpressions(y);return d.logDebug(c.context,`Merge ${_.length} nested filters into conjunctive filter`),{recurse:!0,result:g.createFilter(v,_.slice(1).reduce((T,w)=>g.createOperatorExpression("&&",[T,w]),_[0]))}}return{recurse:!0,result:y}}})),{operation:f,context:c.context}}shouldAttemptPushDown(c,s,l){if(this.aggressivePushdown)return!0;const f=c.expression;return!!(f.expressionType===e.Algebra.expressionTypes.OPERATOR&&f.operator==="="&&(f.args[0].expressionType==="term"&&f.args[0].term.termType!=="Variable"&&f.args[1].expressionType==="term"&&f.args[1].term.termType==="Variable"||f.args[0].expressionType==="term"&&f.args[0].term.termType==="Variable"&&f.args[1].expressionType==="term"&&f.args[1].term.termType!=="Variable")||s.some(d=>(0,n.doesShapeAcceptOperation)(l.get(d),c)))}getSources(c){const s=new Set,l=f=>{const d=(0,n.getOperationSource)(f);return d&&s.add(d),!1};return e.Util.recurseOperation(c,{[e.Algebra.types.PATTERN]:l,[e.Algebra.types.LINK]:l,[e.Algebra.types.NPS]:l,[e.Algebra.types.SERVICE]:l}),[...s]}getExpressionVariables(c){switch(c.expressionType){case e.Algebra.expressionTypes.AGGREGATE:case e.Algebra.expressionTypes.WILDCARD:throw new Error(`Getting expression variables is not supported for ${c.expressionType}`);case e.Algebra.expressionTypes.EXISTENCE:return e.Util.inScopeVariables(c.input);case e.Algebra.expressionTypes.NAMED:return[];case e.Algebra.expressionTypes.OPERATOR:return(0,r.uniqTerms)(c.args.flatMap(s=>this.getExpressionVariables(s)));case e.Algebra.expressionTypes.TERM:return c.term.termType==="Variable"?[c.term]:[]}}getOverlappingOperations(c,s){const l=[],f=[],d=[];for(const h of c.input){const p=e.Util.inScopeVariables(h);this.variablesSubSetOf(s,p)?l.push(h):this.variablesIntersect(s,p)?f.push(h):d.push(h)}return{fullyOverlapping:l,partiallyOverlapping:f,notOverlapping:d}}filterPushdown(c,s,l,f,d){if(this.isExpressionFalse(c))return[!0,f.createUnion([])];if(c.type===e.Algebra.types.EXPRESSION&&c.expressionType===e.Algebra.expressionTypes.EXISTENCE)return[!1,f.createFilter(l,c)];switch(l.type){case e.Algebra.types.EXTEND:return this.variablesIntersect([l.variable],s)?[!1,f.createFilter(l,c)]:[!0,f.createExtend(this.filterPushdown(c,s,l.input,f,d)[1],l.variable,l.expression)];case e.Algebra.types.FILTER:{const[h,p]=this.filterPushdown(c,s,l.input,f,d);return[h,f.createFilter(p,l.expression)]}case e.Algebra.types.JOIN:{if(l.input.length===0)return[!1,f.createFilter(l,c)];const{fullyOverlapping:h,partiallyOverlapping:p,notOverlapping:b}=this.getOverlappingOperations(l,s),m=[];let y=!1;return h.length>0&&(y=!0,m.push(f.createJoin(h.map(g=>this.filterPushdown(c,s,g,f,d)[1])))),p.length>0&&m.push(f.createFilter(f.createJoin(p,!1),c)),b.length>0&&m.push(...b),m.length>1&&(y=!0),y&&this.logDebug(d,`Push down filter across join entries with ${h.length} fully overlapping, ${p.length} partially overlapping, and ${b.length} not overlapping`),[y,m.length===1?m[0]:f.createJoin(m)]}case e.Algebra.types.NOP:return[!0,l];case e.Algebra.types.PROJECT:return this.variablesIntersect(l.variables,s)?[!0,f.createProject(this.filterPushdown(c,s,l.input,f,d)[1],l.variables)]:[!0,l];case e.Algebra.types.UNION:{const{fullyOverlapping:h,partiallyOverlapping:p,notOverlapping:b}=this.getOverlappingOperations(l,s),m=[];let y=!1;return h.length>0&&(y=!0,m.push(f.createUnion(h.map(g=>this.filterPushdown(c,s,g,f,d)[1])))),p.length>0&&m.push(f.createFilter(f.createUnion(p,!1),c)),b.length>0&&m.push(...b),m.length>1&&(y=!0),y&&this.logDebug(d,`Push down filter across union entries with ${h.length} fully overlapping, ${p.length} partially overlapping, and ${b.length} not overlapping`),[y,m.length===1?m[0]:f.createUnion(m)]}case e.Algebra.types.VALUES:return this.variablesIntersect(l.variables,s)?[!1,f.createFilter(l,c)]:[!0,l];case e.Algebra.types.LEFT_JOIN:{if(this.pushIntoLeftJoins){const h=e.Util.inScopeVariables(l.input[1]);if(!this.variablesIntersect(s,h))return this.logDebug(d,"Push down filter into left join"),[!0,f.createLeftJoin(this.filterPushdown(c,s,l.input[0],f,d)[1],l.input[1],l.expression)]}return[!1,f.createFilter(l,c)]}case e.Algebra.types.PATTERN:{if(this.pushEqualityIntoPatterns){const h=this.getEqualityExpressionPushableIntoPattern(c);if(h){let p=!1;const b=l.metadata;if(l=(0,r.mapTermsNested)(l,m=>m.equals(h.variable)?(p=!0,h.term):m),l.type=e.Algebra.types.PATTERN,l.metadata=b,p)return this.logDebug(d,`Push down filter into pattern for ?${h.variable.value}`),[!0,f.createJoin([l,f.createValues([h.variable],[{[`?${h.variable.value}`]:h.term}])])]}}return[!1,f.createFilter(l,c)]}case e.Algebra.types.PATH:{if(this.pushEqualityIntoPatterns){const h=this.getEqualityExpressionPushableIntoPattern(c);if(h&&(l.subject.equals(h.variable)||l.object.equals(h.variable))){this.logDebug(d,`Push down filter into path for ?${h.variable.value}`);const p=l.metadata;return l=f.createPath(l.subject.equals(h.variable)?h.term:l.subject,l.predicate,l.object.equals(h.variable)?h.term:l.object),l.metadata=p,[!0,f.createJoin([l,f.createValues([h.variable],[{[`?${h.variable.value}`]:h.term}])])]}}return[!1,f.createFilter(l,c)]}case e.Algebra.types.MINUS:case e.Algebra.types.ALT:case e.Algebra.types.ASK:case e.Algebra.types.BGP:case e.Algebra.types.CONSTRUCT:case e.Algebra.types.DESCRIBE:case e.Algebra.types.DISTINCT:case e.Algebra.types.EXPRESSION:case e.Algebra.types.FROM:case e.Algebra.types.GRAPH:case e.Algebra.types.GROUP:case e.Algebra.types.INV:case e.Algebra.types.LINK:case e.Algebra.types.NPS:case e.Algebra.types.ONE_OR_MORE_PATH:case e.Algebra.types.ORDER_BY:case e.Algebra.types.REDUCED:case e.Algebra.types.SEQ:case e.Algebra.types.SERVICE:case e.Algebra.types.SLICE:case e.Algebra.types.ZERO_OR_MORE_PATH:case e.Algebra.types.ZERO_OR_ONE_PATH:case e.Algebra.types.COMPOSITE_UPDATE:case e.Algebra.types.DELETE_INSERT:case e.Algebra.types.LOAD:case e.Algebra.types.CLEAR:case e.Algebra.types.CREATE:case e.Algebra.types.DROP:case e.Algebra.types.ADD:case e.Algebra.types.MOVE:case e.Algebra.types.COPY:return[!1,f.createFilter(l,c)]}}getEqualityExpressionPushableIntoPattern(c){if(c.expressionType===e.Algebra.expressionTypes.OPERATOR&&c.operator==="="){if(c.args[0].expressionType==="term"&&c.args[0].term.termType!=="Variable"&&(c.args[0].term.termType!=="Literal"||this.isLiteralWithCanonicalLexicalForm(c.args[0].term))&&c.args[1].expressionType==="term"&&c.args[1].term.termType==="Variable")return{variable:c.args[1].term,term:c.args[0].term};if(c.args[0].expressionType==="term"&&c.args[0].term.termType==="Variable"&&c.args[1].expressionType==="term"&&c.args[1].term.termType!=="Variable"&&(c.args[1].term.termType!=="Literal"||this.isLiteralWithCanonicalLexicalForm(c.args[1].term)))return{variable:c.args[0].term,term:c.args[1].term}}}isLiteralWithCanonicalLexicalForm(c){if(c.termType==="Literal")switch(c.datatype.value){case"http://www.w3.org/2001/XMLSchema#string":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":case"http://www.w3.org/2001/XMLSchema#normalizedString":case"http://www.w3.org/2001/XMLSchema#anyURI":case"http://www.w3.org/2001/XMLSchema#base64Binary":case"http://www.w3.org/2001/XMLSchema#language":case"http://www.w3.org/2001/XMLSchema#Name":case"http://www.w3.org/2001/XMLSchema#NCName":case"http://www.w3.org/2001/XMLSchema#NMTOKEN":case"http://www.w3.org/2001/XMLSchema#token":case"http://www.w3.org/2001/XMLSchema#hexBinary":return!0}return!1}variablesIntersect(c,s){return c.some(l=>s.some(f=>l.equals(f)))}variablesSubSetOf(c,s){return c.length<=s.length&&c.every(l=>s.some(f=>l.equals(f)))}isExpressionFalse(c){return c.term&&c.term.termType==="Literal"&&c.term.value==="false"}getNestedFilterExpressions(c){if(c.input.type===e.Algebra.types.FILTER){const s=this.getNestedFilterExpressions(c.input);return{nestedExpressions:[c.expression,...s.nestedExpressions],input:s.input}}return{nestedExpressions:[c.expression],input:c.input}}};return $w.ActorOptimizeQueryOperationFilterPushdown=i,$w}var AY;function ige(){return AY||(AY=1,function(a){var t=vd&&vd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=vd&&vd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(nge(),a)}(vd)),vd}var Td={},Vw={},wd={},EY;function xY(){if(EY)return wd;EY=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.ActorDereferenceHttpBase=wd.mediaTypesToAcceptString=void 0;const a=gR(),t=ya(),u=Te(),n=_h(),r=mr(),e=/^[^ ;]*/u;function i(c,s){const l="*/*;q=0.1",f=[],d=Object.entries(c).map(([p,b])=>({mediaType:p,priority:b})).sort((p,b)=>b.priority===p.priority?p.mediaType.localeCompare(b.mediaType):b.priority-p.priority);let h=d.length-1;for(const{mediaType:p,priority:b}of d){const m=p+(b===1?"":`;q=${b.toFixed(3).replace(/0*$/u,"")}`);if(h+m.length>s){for(;h+l.length>s;){const y=f.pop()??"";h-=y.length+1}f.push(l);break}f.push(m),h+=m.length}return f.length===0?"*/*":f.join(",")}wd.mediaTypesToAcceptString=i;let o=class extends a.ActorDereference{constructor(s){super(s)}async test({url:s}){return/^https?:/u.test(s)?(0,u.passTestVoid)():(0,u.failTest)(`Cannot retrieve ${s} because it is not an HTTP(S) URL.`)}async run(s){var y,g;let l=!0;const f=new Headers(s.headers);f.append("Accept",i(await((y=s.mediaTypes)==null?void 0:y.call(s))??{},this.getMaxAcceptHeaderLength()));let d;const h=Date.now();try{d=await this.mediatorHttp.mediate({context:s.context,init:{headers:f,method:s.method},input:s.url})}catch(_){return this.handleDereferenceErrors(s,_)}const p=(0,r.resolve)(d.url,s.url),b=Date.now()-h;if(d.status!==200){l=!1;const _=d.body?await(0,n.stringify)(t.ActorHttp.toNodeReadable(d.body)):"empty response";if(!s.acceptErrors){const v=new Error(`Could not retrieve ${s.url} (HTTP status ${d.status}):
${_}`);return this.handleDereferenceErrors(s,v,d.headers,b)}}const m=(g=e.exec(d.headers.get("content-type")??""))==null?void 0:g[0];return{url:p,data:l?t.ActorHttp.toNodeReadable(d.body):(0,a.emptyReadable)(),exists:l,requestTime:b,headers:d.headers,mediaType:m==="text/plain"?void 0:m}}};return wd.ActorDereferenceHttpBase=o,wd}var IY;function age(){if(IY)return Vw;IY=1,Object.defineProperty(Vw,"__esModule",{value:!0}),Vw.ActorDereferenceHttp=void 0;const a=xY();class t extends a.ActorDereferenceHttpBase{getMaxAcceptHeaderLength(){return this.maxAcceptHeaderLengthBrowser}}return Vw.ActorDereferenceHttp=t,Vw}var RY;function uge(){return RY||(RY=1,function(a){var t=Td&&Td.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Td&&Td.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(age(),a),u(xY(),a)}(Td)),Td}var Sd={},Uw={},NY;function oge(){if(NY)return Uw;NY=1,Object.defineProperty(Uw,"__esModule",{value:!0}),Uw.ActorHttpProxy=void 0;const a=ya(),t=ke(),u=Te();let n=class extends a.ActorHttp{constructor(e){super(e)}async test(e){const i=e.context.get(t.KeysHttpProxy.httpProxyHandler);return i?await i.getProxy(e)?(0,u.passTest)({time:Number.POSITIVE_INFINITY}):(0,u.failTest)(`Actor ${this.name} could not determine a proxy for the given request.`):(0,u.failTest)(`Actor ${this.name} could not find a proxy handler in the context.`)}async run(e){const i=typeof e.input=="string"?e.input:e.input.url,o=e.context.get(t.KeysHttpProxy.httpProxyHandler),c=await this.mediatorHttp.mediate({...await o.getProxy(e),context:e.context.delete(t.KeysHttpProxy.httpProxyHandler)});return Object.defineProperty(c,"url",{configurable:!0,enumerable:!0,get:()=>c.headers.get("x-final-url")??i}),c}};return Uw.ActorHttpProxy=n,Uw}var Qw={},FY;function sge(){if(FY)return Qw;FY=1,Object.defineProperty(Qw,"__esModule",{value:!0}),Qw.ProxyHandlerStatic=void 0;let a=class{constructor(u){this.prefixUrl=u}async getProxy(u){return{init:u.init,input:this.modifyInput(u.input)}}modifyInput(u){return typeof u=="string"?this.prefixUrl+u:new Request(this.prefixUrl+u.url,u)}};return Qw.ProxyHandlerStatic=a,Qw}var DY;function cge(){return DY||(DY=1,function(a){var t=Sd&&Sd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Sd&&Sd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(oge(),a),u(sge(),a)}(Sd)),Sd}var Od={},Hw={},PY;function lge(){if(PY)return Hw;PY=1,Object.defineProperty(Hw,"__esModule",{value:!0}),Hw.ActorContextPreprocessQuerySourceIdentify=void 0;const a=q0(),t=ke(),u=Te(),n=nh();let r=class extends a.ActorContextPreprocess{constructor(i){super(i),this.cache=this.cacheSize?new n.LRUCache({max:this.cacheSize}):void 0;const o=this.cache;o&&this.httpInvalidator.addInvalidateListener(({url:c})=>c?o.delete(c):o.clear())}async test(i){return(0,u.passTestVoid)()}async run(i){let o=i.context;if(o.has(t.KeysInitQuery.querySourcesUnidentified)){const c=i.context.get(t.KeysInitQuery.querySourcesUnidentified),s=await Promise.all(c.map(d=>this.expandSource(d))),l=await Promise.all(s.map(async d=>this.identifySource(d,i.context))),f=i.context.get(t.KeysStatistics.dereferencedLinks);if(f)for(const d of l)f.updateStatistic({url:d.source.referenceValue,metadata:{seed:!0}},d.source);o=i.context.delete(t.KeysInitQuery.querySourcesUnidentified).set(t.KeysQueryOperation.querySources,l)}return{context:o}}async expandSource(i){return typeof i=="string"||"match"in i?{value:i}:{...i,context:(await this.mediatorContextPreprocess.mediate({context:u.ActionContext.ensureActionContext(i.context??{})})).context}}identifySource(i,o){let c;return typeof i.value=="string"&&this.cache&&(c=this.cache.get(i.value)),c||(c=this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:i,context:o}).then(({querySource:s})=>s),typeof i.value=="string"&&this.cache&&this.cache.set(i.value,c)),c}};return Hw.ActorContextPreprocessQuerySourceIdentify=r,Hw}var LY;function dge(){return LY||(LY=1,function(a){var t=Od&&Od.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Od&&Od.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(lge(),a)}(Od)),Od}var Ad={},Gw={},jY;function fge(){if(jY)return Gw;jY=1,Object.defineProperty(Gw,"__esModule",{value:!0}),Gw.ActorRdfUpdateQuadsHypermedia=void 0;const a=fN(),t=Te(),u=nh();let n=class extends a.ActorRdfUpdateQuadsDestination{constructor(e){super(e),this.cache=this.cacheSize?new u.LRUCache({max:this.cacheSize}):void 0;const i=this.cache;i&&this.httpInvalidator.addInvalidateListener(({url:o})=>o?i.delete(o):i.clear())}async test(e){return(0,a.getContextDestinationUrl)((0,a.getContextDestination)(e.context))?(0,t.passTestVoid)():(0,t.failTest)(`Actor ${this.name} can only update quads against a single destination URL.`)}getDestination(e){const i=(0,a.getContextDestination)(e);let o=(0,a.getContextDestinationUrl)(i);if(this.cache&&this.cache.has(o))return this.cache.get(o);const c=(async()=>{var d;let s,l;try{const h=await this.mediatorDereferenceRdf.mediate({context:e,url:o,acceptErrors:!0});l=h.exists,o=h.url;const p=await this.mediatorMetadata.mediate({context:e,url:o,quads:h.data,triples:(d=h.metadata)==null?void 0:d.triples});s=(await this.mediatorMetadataExtract.mediate({context:e,url:o,metadata:p.metadata,headers:h.headers,requestTime:h.requestTime})).metadata}catch{s={},l=!1}const{destination:f}=await this.mediatorRdfUpdateHypermedia.mediate({context:e,url:o,metadata:s,exists:l,forceDestinationType:(0,a.getDataDestinationType)(i)});return f})();return this.cache&&this.cache.set(o,c),c}};return Gw.ActorRdfUpdateQuadsHypermedia=n,Gw}var MY;function hge(){return MY||(MY=1,function(a){var t=Ad&&Ad.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ad&&Ad.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(fge(),a)}(Ad)),Ad}var Ed={},kw={},qY;function pge(){if(qY)return kw;qY=1,Object.defineProperty(kw,"__esModule",{value:!0}),kw.ActionObserverHttp=void 0;const a=Te();class t extends a.ActionObserver{constructor(n){super(n),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(n,r,e){this.requests++}}return kw.ActionObserverHttp=t,kw}var zw={},CY;function yge(){if(CY)return zw;CY=1,Object.defineProperty(zw,"__esModule",{value:!0}),zw.ActorQueryResultSerializeSparqlJson=void 0;const a=hi(),t=Te(),u=gt(),n=Mt();let r=class kS extends a.ActorQueryResultSerializeFixedMediaTypes{constructor(i){super(i)}static bindingToJsonBindings(i){if(i.termType==="Literal"){const o=i,c={value:o.value,type:"literal"},{language:s,datatype:l}=o;return s?c["xml:lang"]=s:l&&l.value!=="http://www.w3.org/2001/XMLSchema#string"&&(c.datatype=l.value),c}return i.termType==="BlankNode"?{value:i.value,type:"bnode"}:i.termType==="Quad"?{value:{subject:kS.bindingToJsonBindings(i.subject),predicate:kS.bindingToJsonBindings(i.predicate),object:kS.bindingToJsonBindings(i.object)},type:"triple"}:{value:i.value,type:"uri"}}async testHandleChecked(i,o){return["bindings","boolean"].includes(i.type)?(0,t.passTestVoid)():(0,t.failTest)("This actor can only handle bindings streams or booleans.")}async runHandle(i,o,c){const s=new n.Readable,l={};if(i.type==="bindings"){const f=await i.metadata();f.variables.length>0&&(l.vars=f.variables.map(d=>d.variable.value))}if(s.push(`{"head": ${JSON.stringify(l)},
`),i.type==="bindings"){const f=i.bindingsStream;s.push(`"results": { "bindings": [
`);let d=!0;function*h(p){yield p()}s.wrap((0,u.wrap)(f).map(p=>{const b=`${d?"":`,
`}${JSON.stringify(Object.fromEntries([...p].map(([m,y])=>[m.value,kS.bindingToJsonBindings(y)])))}`;return d=!1,b}).append((0,u.wrap)(h(()=>`
]}${this.emitMetadata?`,
"metadata": { "httpRequests": ${this.httpObserver.requests} }`:""}}
`))))}else s.wrap((0,u.wrap)(i.execute().then(f=>[`"boolean":${f}
}
`])));return{data:s}}};return zw.ActorQueryResultSerializeSparqlJson=r,zw}var BY;function $Y(){return BY||(BY=1,function(a){var t=Ed&&Ed.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ed&&Ed.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(pge(),a),u(yge(),a)}(Ed)),Ed}var xd={},Xw={},VY;function bge(){if(VY)return Xw;VY=1,Object.defineProperty(Xw,"__esModule",{value:!0}),Xw.ActionObserverHttp=void 0;const a=Te();let t=class extends a.ActionObserver{constructor(n){super(n),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(n,r,e){this.requests++}};return Xw.ActionObserverHttp=t,Xw}var Jw={},UY;function _ge(){if(UY)return Jw;UY=1,Object.defineProperty(Jw,"__esModule",{value:!0}),Jw.ActorQueryResultSerializeStats=void 0;const a=hi(),t=ke(),u=Te(),n=gt(),r=Mt();let e=class extends a.ActorQueryResultSerializeFixedMediaTypes{constructor(o){super(o)}async testHandleChecked(o,c){return["bindings","quads"].includes(o.type)?(0,u.passTestVoid)():(0,u.failTest)("This actor can only handle bindings streams or quad streams.")}pushHeader(o){const c=["Result","Delay (ms)","HTTP requests"].join(",");o.push(`${c}
`)}createStat(o,c){return`${[c,this.delay(o),this.httpObserver.requests].join(",")}
`}createSpecialLine(o,c){return`${[o,this.delay(c),this.httpObserver.requests].join(",")}
`}async runHandle(o,c,s){const l=new r.Readable,f=o.type==="bindings"?o.bindingsStream:o.quadStream,d=o.context.getSafe(t.KeysInitQuery.queryTimestampHighResolution);let h=1;function*p(m){yield m()}const b=(0,n.wrap)(f).map(()=>this.createStat(d,h++)).prepend([this.createSpecialLine("PLANNING",d)]).append((0,n.wrap)(p(()=>this.createSpecialLine("TOTAL",d))));return this.pushHeader(l),l.wrap(b),{data:l}}now(){return performance.now()}delay(o){return this.now()-o}};return Jw.ActorQueryResultSerializeStats=e,Jw}var QY;function HY(){return QY||(QY=1,function(a){var t=xd&&xd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=xd&&xd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(bge(),a),u(_ge(),a)}(xd)),xd}var Id={},Kw={},Rd={},Ww={},GY;function mge(){if(GY)return Ww;GY=1,Object.defineProperty(Ww,"__esModule",{value:!0}),Ww.ActorQuerySourceIdentifyHypermedia=void 0;const a=Te();class t extends a.Actor{constructor(n,r){super(n),this.sourceType=r}async test(n){return n.forceSourceType&&this.sourceType!==n.forceSourceType?(0,a.failTest)(`Actor ${this.name} is not able to handle source type ${n.forceSourceType}.`):this.testMetadata(n)}}return Ww.ActorQuerySourceIdentifyHypermedia=t,Ww}var kY;function XN(){return kY||(kY=1,function(a){var t=Rd&&Rd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Rd&&Rd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(mge(),a)}(Rd)),Rd}var Yw={},Nd={},Zw={},zY;function gge(){if(zY)return Zw;zY=1,Object.defineProperty(Zw,"__esModule",{value:!0}),Zw.ActorQuerySourceIdentify=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}};return Zw.ActorQuerySourceIdentify=t,Zw}var Sr={},XY;function vge(){if(XY)return Sr;XY=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.filterMatchingQuotedQuads=Sr.quadsOrderToBindingsOrder=Sr.quadsMetadataToBindingsMetadata=Sr.setMetadata=Sr.getDuplicateElementLinks=Sr.getVariables=Sr.isTermVariable=Sr.quadsToBindings=void 0;const a=ba(),t=Or(),u=Bt(),n=Rr(),r=qP();function e(h,p,b,m,y){const g=o(p),_=p.graph.termType==="Variable"&&!y,v=c(p),T=(0,n.reduceTermsNested)(p,(M,F,O)=>(F.termType==="Variable"&&(M[O.join("_")]=F.value),M),{});let w=h;_&&(w=w.filter(M=>M.graph.termType!=="DefaultGraph")),v&&(w=w.filter(M=>{for(const F in v){const O=F.split("_"),E=(0,n.getValueNestedPath)(M,O);for(const x of v[F])if(!E.equals((0,n.getValueNestedPath)(M,x)))return!1}return!0}));const A=new a.ClosableIterator(w.map(M=>m.bindings(Object.keys(T).map(F=>{const O=F.split("_"),E=T[F],x=(0,n.getValueNestedPath)(M,O);return[b.variable(E),x]}))),{onClose:()=>h.destroy()});return s(b,A,h,T,g,_||!!v),A}Sr.quadsToBindings=e;function i(h){return h.termType==="Variable"}Sr.isTermVariable=i;function o(h){return(0,n.uniqTerms)((0,n.getTermsNested)(h).filter(i))}Sr.getVariables=o;function c(h){const p={};let b=!1;if((0,n.forEachTermsNested)(h,(y,g)=>{if(y.termType==="Variable"){const _=(0,u.termToString)(y),v=(p[_]||(p[_]=[])).push(g);b=b||v>1}}),!b)return;const m={};for(const y in p){const g=p[y],_=g.slice(1);_.length>0&&(m[g[0].join("_")]=_)}return m}Sr.getDuplicateElementLinks=c;function s(h,p,b,m,y,g){const _=T=>{g&&(T.cardinality.type="estimate"),p.setProperty("metadata",l(h,(0,t.validateMetadataQuads)(T),m,y)),T.state&&T.state.addInvalidateListener(()=>{s(h,p,b,m,y,g)})},v=b.getProperty("metadata");v?_(v):b.getProperty("metadata",_)}Sr.setMetadata=s;function l(h,p,b,m){return{...p,order:p.order?f(h,p.order,b):void 0,availableOrders:p.availableOrders?p.availableOrders.map(y=>({cost:y.cost,terms:f(h,y.terms,b)})):void 0,variables:m.map(y=>({variable:y,canBeUndef:!1}))}}Sr.quadsMetadataToBindingsMetadata=l;function f(h,p,b){const m={};return p.map(y=>{const g=b[y.term];if(g&&!m[g])return m[g]=!0,{term:h.variable(g),direction:y.direction}}).filter(Boolean)}Sr.quadsOrderToBindingsOrder=f;function d(h,p){return(0,n.someTerms)(h,b=>b.termType==="Quad")&&(p=p.filter(b=>(0,r.matchPatternMappings)(b,h))),p}return Sr.filterMatchingQuotedQuads=d,Sr}var JY;function e3(){return JY||(JY=1,function(a){var t=Nd&&Nd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Nd&&Nd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(gge(),a),u(vge(),a)}(Nd)),Nd}var KY;function WY(){if(KY)return Yw;KY=1,Object.defineProperty(Yw,"__esModule",{value:!0}),Yw.QuerySourceQpf=void 0;const a=e3(),t=ke(),u=Or(),n=gt(),r=Bt(),e=I1(),i=Rr();let o=class{constructor(l,f,d,h,p,b,m,y,g,_,v,T,w,A){if(this.referenceValue=v,this.mediatorMetadata=l,this.mediatorMetadataExtract=f,this.mediatorDereferenceRdf=d,this.dataFactory=h,this.algebraFactory=p,this.bindingsFactory=b,this.subjectUri=m,this.predicateUri=y,this.objectUri=g,this.graphUri=_,this.url=v,this.bindingsRestricted=w,this.cachedQuads={},this.searchForm=this.getSearchForm(T),this.defaultGraph=T.defaultGraph?this.dataFactory.namedNode(T.defaultGraph):void 0,A){let M=(0,n.wrap)(A);this.defaultGraph&&(M=this.reverseMapQuadsToDefaultGraph(M)),T={...T,state:new u.MetadataValidationState},M.setProperty("metadata",T),this.cacheQuads(M,this.dataFactory.variable(""),this.dataFactory.variable(""),this.dataFactory.variable(""),this.dataFactory.variable(""))}this.selectorShape=this.bindingsRestricted?{type:"operation",operation:{operationType:"pattern",pattern:this.algebraFactory.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g"))},variablesOptional:[this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g")],filterBindings:!0}:{type:"operation",operation:{operationType:"pattern",pattern:this.algebraFactory.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g"))},variablesOptional:[this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g")]}}async getSelectorShape(){return this.selectorShape}queryBindings(l,f,d){if(l.type!=="pattern")throw new Error(`Attempted to pass non-pattern operation '${l.type}' to QuerySourceQpf`);const h=!!f.get(t.KeysQueryOperation.unionDefaultGraph);let p=this.match(l.subject,l.predicate,l.object,l.graph,h,f,d);return p=(0,a.filterMatchingQuotedQuads)(l,p),(0,a.quadsToBindings)(p,l,this.dataFactory,this.bindingsFactory,h)}getSearchForm(l){if(!l.searchForms||!l.searchForms.values)return;const{searchForms:f}=l;for(const d of f.values)if(this.graphUri&&this.subjectUri in d.mappings&&this.predicateUri in d.mappings&&this.objectUri in d.mappings&&this.graphUri in d.mappings&&Object.keys(d.mappings).length===4||this.subjectUri in d.mappings&&this.predicateUri in d.mappings&&this.objectUri in d.mappings&&Object.keys(d.mappings).length===3)return d}createFragmentUri(l,f,d,h,p){const b={},m=[{uri:this.subjectUri,term:f},{uri:this.predicateUri,term:d},{uri:this.objectUri,term:h},{uri:this.graphUri,term:p}];for(const y of m)y.uri&&(this.bindingsRestricted||y.term.termType!=="Variable"&&(y.term.termType!=="Quad"||(0,i.everyTermsNested)(y.term,g=>g.termType!=="Variable")))&&(b[y.uri]=(0,r.termToString)(y.term));return l.getUri(b)}match(l,f,d,h,p,b,m){let y=!1;if(h.termType==="DefaultGraph")if(this.defaultGraph)y=!0,h=this.defaultGraph;else if(Object.keys(this.searchForm.mappings).length===4&&!this.defaultGraph)if(p)h=this.dataFactory.variable("g");else{const T=new n.ArrayIterator([],{autoStart:!1});return T.setProperty("metadata",{state:new u.MetadataValidationState,requestTime:0,cardinality:{type:"exact",value:0},first:null,next:null,last:null}),T}else Object.keys(this.searchForm.mappings).length===3&&(h=this.dataFactory.variable("g"));if(!(m!=null&&m.filterBindings)){const T=this.getCachedQuads(l,f,d,h);if(T)return T}const g=this;let _;const v=async function(){var F;let T=g.createFragmentUri(g.searchForm,l,f,d,h);m!=null&&m.filterBindings&&(T=await g.getBindingsRestrictedLink(l,f,d,h,T,m.filterBindings));const w=await g.mediatorDereferenceRdf.mediate({context:b,url:T});T=w.url;const A=await g.mediatorMetadata.mediate({context:b,url:T,quads:w.data,triples:(F=w.metadata)==null?void 0:F.triples}),{metadata:M}=await g.mediatorMetadataExtract.mediate({context:b,url:T,metadata:A.metadata,requestTime:w.requestTime});return _.setProperty("metadata",{...M,state:new u.MetadataValidationState,subsetOf:g.url}),A.data}();return _=new n.TransformIterator(async()=>{const T=await v,w=this.dataFactory.defaultGraph();let A=(0,n.wrap)(T).transform({filter(M){return(0,i.matchPattern)(M,l,f,d,h)?!0:y&&(0,i.matchPattern)(M,l,f,d,w)}});return(y||h.termType==="Variable")&&(A=this.reverseMapQuadsToDefaultGraph(A)),A},{autoStart:!1}),m!=null&&m.filterBindings?_:(this.cacheQuads(_,l,f,d,h),this.getCachedQuads(l,f,d,h))}async getBindingsRestrictedLink(l,f,d,h,p,b){const m=[];for(const g of await b.bindings.toArray()){const _=["("];for(const v of b.metadata.variables){const T=g.get(v.variable);_.push(T?(0,e.termToString)(T):"UNDEF"),_.push(" ")}_.push(")"),m.push(_.join(""))}m.length===0&&m.push("(<ex:comunica:unknown>)");const y=encodeURIComponent(`(${b.metadata.variables.map(g=>`?${g.variable.value}`).join(" ")}) { ${m.join(" ")} }`);return`${p}&values=${y}`}reverseMapQuadsToDefaultGraph(l){const f=this.dataFactory.defaultGraph();return l.map(d=>(0,i.mapTerms)(d,(h,p)=>p==="graph"&&h.equals(this.defaultGraph)?f:h))}getPatternId(l,f,d,h){return JSON.stringify({s:l.termType==="Variable"?"":c(l),p:f.termType==="Variable"?"":c(f),o:d.termType==="Variable"?"":c(d),g:h.termType==="Variable"?"":c(h)})}cacheQuads(l,f,d,h,p){const b=this.getPatternId(f,d,h,p);this.cachedQuads[b]=l.clone()}getCachedQuads(l,f,d,h){const p=this.getPatternId(l,f,d,h),b=this.cachedQuads[p];if(b)return b.clone()}queryQuads(l,f){throw new Error("queryQuads is not implemented in QuerySourceQpf")}queryBoolean(l,f){throw new Error("queryBoolean is not implemented in QuerySourceQpf")}queryVoid(l,f){throw new Error("queryVoid is not implemented in QuerySourceQpf")}};Yw.QuerySourceQpf=o;function c(s){return s.termType==="DefaultGraph"?"|":(0,r.termToString)(s)}return Yw}var YY;function Tge(){if(YY)return Kw;YY=1,Object.defineProperty(Kw,"__esModule",{value:!0}),Kw.ActorQuerySourceIdentifyHypermediaQpf=void 0;const a=XN(),t=ke(),u=Te(),n=kt(),r=bt(),e=WY();let i=class extends a.ActorQuerySourceIdentifyHypermedia{constructor(c){super(c,"qpf")}async test(c){return c.forceSourceType&&c.forceSourceType!=="qpf"&&c.forceSourceType!=="brtpf"?(0,u.failTest)(`Actor ${this.name} is not able to handle source type ${c.forceSourceType}.`):this.testMetadata(c)}async testMetadata(c){const{searchForm:s}=await this.createSource(c.url,c.metadata,c.context,c.forceSourceType==="brtpf");return s?c.handledDatasets&&c.handledDatasets[s.dataset]?(0,u.failTest)(`Actor ${this.name} can only be applied for the first page of a QPF dataset.`):(0,u.passTest)({filterFactor:1}):(0,u.failTest)("Illegal state: found no TPF/QPF search form anymore in metadata.")}async run(c){this.logInfo(c.context,`Identified as qpf source: ${c.url}`);const s=await this.createSource(c.url,c.metadata,c.context,c.forceSourceType==="brtpf",c.quads);return{source:s,dataset:s.searchForm.dataset}}async createSource(c,s,l,f,d){const h=l.getSafe(t.KeysInitQuery.dataFactory),p=new r.Factory(h);return new e.QuerySourceQpf(this.mediatorMetadata,this.mediatorMetadataExtract,this.mediatorDereferenceRdf,h,p,await n.BindingsFactory.create(this.mediatorMergeBindingsContext,l,h),this.subjectUri,this.predicateUri,this.objectUri,this.graphUri,c,s,f,d)}};return Kw.ActorQuerySourceIdentifyHypermediaQpf=i,Kw}var ZY;function wge(){return ZY||(ZY=1,function(a){var t=Id&&Id.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Id&&Id.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Tge(),a),u(WY(),a)}(Id)),Id}var Fd={},t3={},r3={},eZ;function tZ(){if(eZ)return r3;eZ=1,Object.defineProperty(r3,"__esModule",{value:!0}),r3.QuerySourceSparql=void 0;const a=ke(),t=Te(),u=Or(),n=gt(),r=GK(),e=nh(),i=Rr(),o=bt(),c={type:"estimate",value:Number.POSITIVE_INFINITY};let s=class Ln{constructor(f,d,h,p,b,m,y,g,_,v){this.referenceValue=f,this.url=f,this.context=d,this.mediatorHttp=h,this.bindMethod=p,this.dataFactory=b,this.algebraFactory=m,this.bindingsFactory=y,this.endpointFetcher=new r.SparqlEndpointFetcher({method:g?"GET":"POST",fetch:(T,w)=>this.mediatorHttp.mediate({input:T,init:w,context:this.lastSourceContext}),prefixVariableQuestionMark:!0,dataFactory:b}),this.cache=_>0?new e.LRUCache({max:_}):void 0,this.countTimeout=v}async getSelectorShape(){return Ln.SELECTOR_SHAPE}queryBindings(f,d,h){let p;h!=null&&h.joinBindings?p=Ln.addBindingsToOperation(this.algebraFactory,this.bindMethod,f,h.joinBindings):p=Promise.resolve(f);const b=new n.TransformIterator(async()=>{const m=await p,y=o.Util.inScopeVariables(m),g=d.get(a.KeysInitQuery.queryString),_=!(h!=null&&h.joinBindings)&&g?g:Ln.operationToSelectQuery(this.algebraFactory,m,y),v=Ln.getOperationUndefs(m);return this.queryBindingsRemote(this.url,_,y,d,v)},{autoStart:!1});return this.attachMetadata(b,d,p),b}queryQuads(f,d){this.lastSourceContext=this.context.merge(d);const h=this.endpointFetcher.fetchTriples(this.url,d.get(a.KeysInitQuery.queryString)??Ln.operationToQuery(f));this.lastSourceContext=void 0;const p=(0,n.wrap)(h,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY});return this.attachMetadata(p,d,Promise.resolve(f.input)),p}queryBoolean(f,d){this.lastSourceContext=this.context.merge(d);const h=this.endpointFetcher.fetchAsk(this.url,d.get(a.KeysInitQuery.queryString)??Ln.operationToQuery(f));return this.lastSourceContext=void 0,h}queryVoid(f,d){this.lastSourceContext=this.context.merge(d);const h=this.endpointFetcher.fetchUpdate(this.url,d.get(a.KeysInitQuery.queryString)??Ln.operationToQuery(f));return this.lastSourceContext=void 0,h}attachMetadata(f,d,h){let p=[];new Promise(async(b,m)=>{var g;let y;try{const _=await h,v=o.Util.inScopeVariables(_);y=Ln.operationToCountQuery(this.dataFactory,this.algebraFactory,_);const T=Ln.getOperationUndefs(_);p=v.map(O=>({variable:O,canBeUndef:T.some(E=>E.equals(O))}));const w=(g=this.cache)==null?void 0:g.get(y);if(w!==void 0)return b(w);const A=setTimeout(()=>b(c),this.countTimeout),M=this.dataFactory.variable("count"),F=await this.queryBindingsRemote(this.url,y,[M],d,[]);F.on("data",O=>{var L;clearTimeout(A);const E=O.get(M),x={type:"estimate",value:Number.POSITIVE_INFINITY};if(E){const V=Number.parseInt(E.value,10);Number.isNaN(V)||(x.type="exact",x.value=V,(L=this.cache)==null||L.set(y,x))}return b(x)}),F.on("error",()=>{clearTimeout(A),b(c)}),F.on("end",()=>{clearTimeout(A),b(c)})}catch(_){return m(_)}}).then(b=>{f.setProperty("metadata",{state:new u.MetadataValidationState,cardinality:b,variables:p})}).catch(()=>f.setProperty("metadata",{state:new u.MetadataValidationState,cardinality:c,variables:p}))}static async addBindingsToOperation(f,d,h,p){const b=await p.bindings.toArray();switch(d){case"values":return f.createJoin([f.createValues(p.metadata.variables.map(m=>m.variable),b.map(m=>Object.fromEntries([...m].map(([y,g])=>[`?${y.value}`,g])))),h],!1);case"union":throw new Error('Not implemented yet: "union" case');case"filter":throw new Error('Not implemented yet: "filter" case')}}static operationToSelectQuery(f,d,h){return Ln.operationToQuery(f.createProject(d,h))}static operationToCountQuery(f,d,h){return Ln.operationToQuery(d.createProject(d.createExtend(d.createGroup(h,[],[d.createBoundAggregate(f.variable("var0"),"count",d.createWildcardExpression(),!1)]),f.variable("count"),d.createTermExpression(f.variable("var0"))),[f.variable("count")]))}static operationToQuery(f){return(0,o.toSparql)(f,{sparqlStar:!0})}static getOperationUndefs(f){const d=[];return o.Util.recurseOperation(f,{leftjoin(h){const p=o.Util.inScopeVariables(h.input[0]),b=o.Util.inScopeVariables(h.input[1]);for(const m of b)p.some(y=>y.equals(m))||d.push(m);return!1},values(h){for(const p of h.variables)h.bindings.some(b=>!(`?${p.value}`in b))&&d.push(p);return!1},union(h){const p=h.input.map(o.Util.inScopeVariables);for(const b of(0,i.uniqTerms)(p.flat()))p.every(m=>m.some(y=>y.equals(b)))||d.push(b);return!0}}),(0,i.uniqTerms)(d)}async queryBindingsRemote(f,d,h,p,b){const m=new Set;for(const g of b)m.add(g.value);this.lastSourceContext=this.context.merge(p);const y=await this.endpointFetcher.fetchBindings(f,d);return this.lastSourceContext=void 0,(0,n.wrap)(y,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY}).map(g=>this.bindingsFactory.bindings(h.map(_=>{var T;const v=g[`?${_.value}`];return!m.has(_.value)&&!v&&((T=t.Actor.getContextLogger(this.context))==null||T.warn(`The endpoint ${f} failed to provide a binding for ${_.value}.`)),[_,v]}).filter(([_,v])=>!!v)))}toString(){return`QuerySourceSparql(${this.url})`}};return r3.QuerySourceSparql=s,s.SELECTOR_SHAPE={type:"disjunction",children:[{type:"operation",operation:{operationType:"wildcard"},joinBindings:!0}]},r3}var rZ;function Sge(){if(rZ)return t3;rZ=1,Object.defineProperty(t3,"__esModule",{value:!0}),t3.ActorQuerySourceIdentifyHypermediaSparql=void 0;const a=XN(),t=ke(),u=Te(),n=kt(),r=bt(),e=tZ();let i=class extends a.ActorQuerySourceIdentifyHypermedia{constructor(c){super(c,"sparql")}async testMetadata(c){return!c.forceSourceType&&!c.metadata.sparqlService&&!(this.checkUrlSuffix&&c.url.endsWith("/sparql"))?(0,u.failTest)(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql.`):(0,u.passTest)({filterFactor:1})}async run(c){this.logInfo(c.context,`Identified ${c.url} as sparql source with service URL: ${c.metadata.sparqlService||c.url}`);const s=c.context.getSafe(t.KeysInitQuery.dataFactory),l=new r.Factory(s);return{source:new e.QuerySourceSparql(c.forceSourceType?c.url:c.metadata.sparqlService||c.url,c.context,this.mediatorHttp,this.bindMethod,s,l,await n.BindingsFactory.create(this.mediatorMergeBindingsContext,c.context,s),this.forceHttpGet,this.cacheSize,this.countTimeout)}}};return t3.ActorQuerySourceIdentifyHypermediaSparql=i,t3}var nZ;function Oge(){return nZ||(nZ=1,function(a){var t=Fd&&Fd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Fd&&Fd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Sge(),a),u(tZ(),a)}(Fd)),Fd}var Dd={},n3={},Pd={},i3={},a3={},iZ;function aZ(){if(iZ)return a3;iZ=1,Object.defineProperty(a3,"__esModule",{value:!0}),a3.QuerySourceRdfJs=void 0;const a=e3(),t=ke(),u=Or(),n=gt(),r=Rr(),e=bt();let i=class sn{constructor(c,s,l){this.source=c,this.referenceValue=c,this.dataFactory=s,this.bindingsFactory=l;const f=new e.Factory(this.dataFactory);this.selectorShape={type:"operation",operation:{operationType:"pattern",pattern:f.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"))},variablesOptional:[this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o")]}}static nullifyVariables(c,s){return!c||c.termType==="Variable"||!s&&c.termType==="Quad"&&(0,r.someTermsNested)(c,l=>l.termType==="Variable")?void 0:c}static hasDuplicateVariables(c){const s=(0,r.filterTermsNested)(c,l=>l.termType==="Variable");return s.length>1&&(0,r.uniqTerms)(s).length<s.length}async getSelectorShape(){return this.selectorShape}queryBindings(c,s){var h;if(c.type!=="pattern")throw new Error(`Attempted to pass non-pattern operation '${c.type}' to QuerySourceRdfJs`);const l=!!((h=this.source.features)!=null&&h.quotedTripleFiltering),f=this.source.match(sn.nullifyVariables(c.subject,l),sn.nullifyVariables(c.predicate,l),sn.nullifyVariables(c.object,l),sn.nullifyVariables(c.graph,l));let d=f instanceof n.AsyncIterator?f:(0,n.wrap)(f,{autoStart:!1});return l||(d=(0,a.filterMatchingQuotedQuads)(c,d)),d.getProperty("metadata")||this.setMetadata(d,c).catch(p=>d.destroy(p)),(0,a.quadsToBindings)(d,c,this.dataFactory,this.bindingsFactory,!!s.get(t.KeysQueryOperation.unionDefaultGraph))}async setMetadata(c,s){var h;const l=!!((h=this.source.features)!=null&&h.quotedTripleFiltering);let f;if(this.source.countQuads)f=await this.source.countQuads(sn.nullifyVariables(s.subject,l),sn.nullifyVariables(s.predicate,l),sn.nullifyVariables(s.object,l),sn.nullifyVariables(s.graph,l));else{let p=0;f=await new Promise((b,m)=>{const y=this.source.match(sn.nullifyVariables(s.subject,l),sn.nullifyVariables(s.predicate,l),sn.nullifyVariables(s.object,l),sn.nullifyVariables(s.graph,l));y.on("error",m),y.on("end",()=>b(p)),y.on("data",()=>p++)})}const d=!l&&(0,r.someTerms)(s,p=>p.termType==="Quad")||sn.hasDuplicateVariables(s);c.setProperty("metadata",{state:new u.MetadataValidationState,cardinality:{type:d?"estimate":"exact",value:f}})}queryQuads(c,s){throw new Error("queryQuads is not implemented in QuerySourceRdfJs")}queryBoolean(c,s){throw new Error("queryBoolean is not implemented in QuerySourceRdfJs")}queryVoid(c,s){throw new Error("queryVoid is not implemented in QuerySourceRdfJs")}toString(){return`QuerySourceRdfJs(${this.source.constructor.name})`}};return a3.QuerySourceRdfJs=i,a3}var uZ;function Age(){if(uZ)return i3;uZ=1,Object.defineProperty(i3,"__esModule",{value:!0}),i3.ActorQuerySourceIdentifyRdfJs=void 0;const a=e3(),t=ke(),u=Te(),n=kt(),r=aZ();let e=class extends a.ActorQuerySourceIdentify{constructor(o){super(o)}async test(o){const c=o.querySourceUnidentified;return c.type!==void 0&&c.type!=="rdfjs"?(0,u.failTest)(`${this.name} requires a single query source with rdfjs type to be present in the context.`):typeof c.value=="string"||!("match"in c.value)?(0,u.failTest)(`${this.name} received an invalid rdfjs query source.`):(0,u.passTestVoid)()}async run(o){const c=o.context.getSafe(t.KeysInitQuery.dataFactory);return{querySource:{source:new r.QuerySourceRdfJs(o.querySourceUnidentified.value,c,await n.BindingsFactory.create(this.mediatorMergeBindingsContext,o.context,c)),context:o.querySourceUnidentified.context??new u.ActionContext}}}};return i3.ActorQuerySourceIdentifyRdfJs=e,i3}var JN={},oZ;function Ege(){return oZ||(oZ=1,Object.defineProperty(JN,"__esModule",{value:!0})),JN}var sZ;function KN(){return sZ||(sZ=1,function(a){var t=Pd&&Pd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Pd&&Pd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Age(),a),u(Ege(),a),u(aZ(),a)}(Pd)),Pd}var u3={},Ld={},o3={},s3={},jd={},c3={},cZ;function lZ(){if(cZ)return c3;cZ=1,Object.defineProperty(c3,"__esModule",{value:!0}),c3.BlankNode=void 0;class a{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}}return c3.BlankNode=a,c3}var l3={},d3={},dZ;function fZ(){if(dZ)return d3;dZ=1,Object.defineProperty(d3,"__esModule",{value:!0}),d3.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}}return d3.DefaultGraph=a,a.INSTANCE=new a,d3}var f3={},h3={},hZ;function WN(){if(hZ)return h3;hZ=1,Object.defineProperty(h3,"__esModule",{value:!0}),h3.NamedNode=void 0;class a{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}}return h3.NamedNode=a,h3}var pZ;function yZ(){if(pZ)return f3;pZ=1,Object.defineProperty(f3,"__esModule",{value:!0}),f3.Literal=void 0;const a=WN();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return f3.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),f3}var p3={},bZ;function _Z(){if(bZ)return p3;bZ=1,Object.defineProperty(p3,"__esModule",{value:!0}),p3.Quad=void 0;class a{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}}return p3.Quad=a,p3}var y3={},mZ;function gZ(){if(mZ)return y3;mZ=1,Object.defineProperty(y3,"__esModule",{value:!0}),y3.Variable=void 0;class a{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}}return y3.Variable=a,y3}var vZ;function xge(){if(vZ)return l3;vZ=1,Object.defineProperty(l3,"__esModule",{value:!0}),l3.DataFactory=void 0;const a=lZ(),t=fZ(),u=yZ(),n=WN(),r=_Z(),e=gZ();let i=0;class o{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return l3.DataFactory=o,l3}var TZ;function ga(){return TZ||(TZ=1,function(a){var t=jd&&jd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=jd&&jd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(lZ(),a),u(xge(),a),u(fZ(),a),u(yZ(),a),u(WN(),a),u(_Z(),a),u(gZ(),a)}(jd)),jd}var b3={},wZ;function SZ(){if(wZ)return b3;wZ=1,Object.defineProperty(b3,"__esModule",{value:!0}),b3.TermDictionaryNumberRecordFullTerms=void 0;const a=ga(),t=Bt();let u=class{constructor(r=new a.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=r}encode(r){const e=(0,t.termToString)(r);let i=this.dictionary[e];return i===void 0&&(i=this.lastId++,this.dictionary[e]=i,this.reverseDictionary[i]=r),i}encodeOptional(r){const e=(0,t.termToString)(r);return this.dictionary[e]}decode(r){const e=this.reverseDictionary[r];if(e===void 0)throw new Error(`The value ${r} is not present in this dictionary`);return e}*encodings(){for(const r of Object.keys(this.reverseDictionary))yield Number.parseInt(r,10)}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}};return b3.TermDictionaryNumberRecordFullTerms=u,b3}var _3={},m3={},YN={},OZ;function _i(){return OZ||(OZ=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.arePatternsQuoted=a.quadHasVariables=a.quadToPattern=a.encodeOptionalTerms=a.orderQuadComponents=a.getComponentOrderScore=a.getBestIndex=a.QUAD_TERM_NAMES_INVERSE=void 0;const t=Rr();a.QUAD_TERM_NAMES_INVERSE=Object.fromEntries(t.QUAD_TERM_NAMES.map((s,l)=>[s,l]));function u(s,l){if(s.length===1||l.every(h=>h!==void 0))return 0;const f=[];for(let h=0;h<t.QUAD_TERM_NAMES.length;h++)l[h]&&f.push(t.QUAD_TERM_NAMES[h]);return s.map((h,p)=>({score:n(h,f),index:p})).sort((h,p)=>p.score-h.score)[0].index}a.getBestIndex=u;function n(s,l){return s.map((f,d)=>l.includes(f)?s.length-d:0).reduce((f,d)=>f+d,0)}a.getComponentOrderScore=n;function r(s,l){return s.map(f=>{const d=a.QUAD_TERM_NAMES_INVERSE[f];return l[d]})}a.orderQuadComponents=r;function e(s,l){const f=s.map(d=>{if(d){if(d.termType==="Quad"&&o(d))return;const h=l.encodeOptional(d);return h===void 0?"none":h}return d});if(!f.includes("none"))return f}a.encodeOptionalTerms=e;function i(s,l,f,d,h){let p=!1;return[[s||void 0,l||void 0,f||void 0,d||void 0].map(m=>{if(m){if(m.termType==="Variable")return;if(m.termType==="Quad"){if(h)return m;p=!0;return}}return m}),p]}a.quadToPattern=i;function o(s){for(const l of t.QUAD_TERM_NAMES){const f=s[l];if(f.termType==="Variable"||f.termType==="Quad"&&o(f))return!0}return!1}a.quadHasVariables=o;function c(s){return s.map(l=>(l==null?void 0:l.termType)==="Quad"&&o(l))}a.arePatternsQuoted=c}(YN)),YN}var AZ;function ZN(){if(AZ)return m3;AZ=1,Object.defineProperty(m3,"__esModule",{value:!0}),m3.RdfStoreIndexNestedMap=void 0;const a=_i();let t=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedMap=new Map}set(n,r){const e=this.nestedMap;let i=e.get(n[0]);i||(i=new Map,e.set(n[0],i));let o=i.get(n[1]);o||(o=new Map,i.set(n[1],o));let c=o.get(n[2]);c||(c=new Map,o.set(n[2],c));const s=c.has(n[3]);return s||c.set(n[3],r),!s}remove(n){const r=this.nestedMap,e=r.get(n[0]);if(!e)return!1;const i=e.get(n[1]);if(!i)return!1;const o=i.get(n[2]);if(!o)return!1;const c=o.delete(n[3]);return c&&o.size===0&&(i.delete(n[2]),i.size===0&&(e.delete(n[1]),e.size===0&&r.delete(n[0]))),c}get(n){const r=(0,a.encodeOptionalTerms)(n,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(n){const r=this.nestedMap.get(n[0]);if(!r)return;const e=r.get(n[1]);if(!e)return;const i=e.get(n[2]);if(i)return i.get(n[3])}*find(n){const r=(0,a.encodeOptionalTerms)(n,this.dictionary);if(!r)return;const[e,i,o,c]=r,[s,l,f,d]=n;let h,p,b,m,y,g,_;const v=this.nestedMap,T=e!==void 0?v.has(e)?[e]:[]:v.keys();for(const w of T){y=v.get(w),h=s||this.dictionary.decode(w);const A=i!==void 0?y.has(i)?[i]:[]:y.keys();for(const M of A){g=y.get(M),p=l||this.dictionary.decode(M);const F=o!==void 0?g.has(o)?[o]:[]:g.keys();for(const O of F){_=g.get(O),b=f||this.dictionary.decode(O);const E=c!==void 0?_.has(c)?[c]:[]:_.keys();for(const x of E)m=d||this.dictionary.decode(x),yield[h,p,b,m]}}}}*findEncoded(n,r){const[e,i,o,c]=n;let s,l,f;const d=this.nestedMap,h=e!==void 0?d.has(e)?[e]:[]:d.keys();for(const p of h){s=d.get(p);const b=i!==void 0?s.has(i)?[i]:[]:s.keys();for(const m of b){l=s.get(m);const y=o!==void 0?l.has(o)?[o]:[]:l.keys();for(const g of y){f=l.get(g);const _=c!==void 0?f.has(c)?[c]:[]:f.keys();for(const v of _)yield[p,m,g,v]}}}}count(n){let r=0;const e=(0,a.encodeOptionalTerms)(n,this.dictionary);if(!e)return 0;const i=e[0],o=e[1],c=e[2],s=e[3];let l,f,d;const h=this.nestedMap,p=i!==void 0?h.has(i)?[i]:[]:h.keys();for(const b of p){l=h.get(b);const m=o!==void 0?l.has(o)?[o]:[]:l.keys();for(const y of m){f=l.get(y);const g=c!==void 0?f.has(c)?[c]:[]:f.keys();for(const _ of g)d=f.get(_),s!==void 0?d.has(s)&&r++:r+=d.size}}return r}};return m3.RdfStoreIndexNestedMap=t,m3}var EZ;function xZ(){if(EZ)return _3;EZ=1,Object.defineProperty(_3,"__esModule",{value:!0}),_3.TermDictionaryQuotedIndexed=void 0;const a=ga(),t=ZN(),u=_i();let n=class Xi{constructor(e,i=new a.DataFactory){this.quotedTriplesDictionary=[],this.features={quotedTriples:!0},this.plainTermDictionary=e;const o={indexCombinations:[],indexConstructor:void 0,dictionary:this,dataFactory:i};this.quotedTriplesReverseDictionaries=[new t.RdfStoreIndexNestedMap(o),new t.RdfStoreIndexNestedMap(o),new t.RdfStoreIndexNestedMap(o)],this.dataFactory=i}encode(e){return e.termType==="Quad"?this.encodeQuotedTriple(e,!1):this.plainTermDictionary.encode(e)}encodeQuotedTriple(e,i){if(e.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const o=(0,u.encodeOptionalTerms)([e.subject,e.predicate,e.object,e.graph],this),c=o&&o.every(d=>d!==void 0)?this.quotedTriplesReverseDictionaries[0].getEncoded(o):void 0;if(c!==void 0||i)return c===void 0?void 0:Xi.BITMASK|c;const s=[this.encode(e.subject),this.encode(e.predicate),this.encode(e.object)],l=this.quotedTriplesDictionary.length+1;this.quotedTriplesDictionary.push(s);const f=this.encode(this.dataFactory.defaultGraph());return this.quotedTriplesReverseDictionaries[0].set([s[0],s[1],s[2],f],l),this.quotedTriplesReverseDictionaries[1].set([s[1],s[2],s[0],f],l),this.quotedTriplesReverseDictionaries[2].set([s[2],s[0],s[1],f],l),Xi.BITMASK|l}encodeOptional(e){return e.termType==="Quad"?this.encodeQuotedTriple(e,!0):this.plainTermDictionary.encodeOptional(e)}decode(e){if(Xi.BITMASK&e){const i=(~Xi.BITMASK&e)-1;if(i>=this.quotedTriplesDictionary.length)throw new Error(`The value ${e} is not present in the quoted triples range of the dictionary`);const o=this.quotedTriplesDictionary[i];return this.dataFactory.quad(this.decode(o[0]),this.decode(o[1]),this.decode(o[2]))}return this.plainTermDictionary.decode(e)}*encodings(){for(const e of this.plainTermDictionary.encodings())yield e;for(const e of this.quotedTriplesDictionary.keys())yield Xi.BITMASK|1+e}*findQuotedTriples(e){for(const i of this.findQuotedTriplesEncoded(e))yield this.decode(i)}*findQuotedTriplesEncoded(e){const[i,o]=(0,u.quadToPattern)(e.subject,e.predicate,e.object,e.graph,!0);for(const c of this.patternToIterable(i[0]))for(const s of this.patternToIterable(i[1]))for(const l of this.patternToIterable(i[2]))for(const f of this.patternToIterable(i[3]))if(c&&s||!s&&!l){const d=[c,s,l,f];for(const h of this.quotedTriplesReverseDictionaries[0].findEncoded(d,i))yield Xi.BITMASK|this.quotedTriplesReverseDictionaries[0].getEncoded(h)}else if(!c&&s){const d=[s,l,c,f];for(const h of this.quotedTriplesReverseDictionaries[1].findEncoded(d,i))yield Xi.BITMASK|this.quotedTriplesReverseDictionaries[1].getEncoded(h)}else{const d=[l,c,s,f];for(const h of this.quotedTriplesReverseDictionaries[2].findEncoded(d,i))yield Xi.BITMASK|this.quotedTriplesReverseDictionaries[2].getEncoded(h)}}*patternToIterable(e){if((e==null?void 0:e.termType)==="Quad"){yield*this.findQuotedTriplesEncoded(e);return}if(e===void 0){yield void 0;return}const i=this.encodeOptional(e);i!==void 0&&(yield i)}};return n.BITMASK=1<<31,_3.TermDictionaryQuotedIndexed=n,_3}var g3={},IZ;function RZ(){if(IZ)return g3;IZ=1,Object.defineProperty(g3,"__esModule",{value:!0}),g3.RdfStoreIndexNestedMapQuoted=void 0;const a=_i(),t=ZN();let u=class extends t.RdfStoreIndexNestedMap{constructor(r){super(r),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(r,e){for(const i of this.dictionary.findQuotedTriplesEncoded(e))r.has(i)&&(yield i)}*find(r){const e=(0,a.encodeOptionalTerms)(r,this.dictionary);if(!e)return;const[i,o,c,s]=e,[l,f,d,h]=r,[p,b,m,y]=(0,a.arePatternsQuoted)(r);let g,_,v,T,w,A,M;const F=this.nestedMap,O=l!==void 0?p?this.getQuotedPatternKeys(F,l):F.has(i)?[i]:[]:F.keys();for(const E of O){w=F.get(E),g=!p&&l?l:this.dictionary.decode(E);const x=f!==void 0?b?this.getQuotedPatternKeys(w,f):w.has(o)?[o]:[]:w.keys();for(const L of x){A=w.get(L),_=!b&&f?f:this.dictionary.decode(L);const V=d!==void 0?m?this.getQuotedPatternKeys(A,d):A.has(c)?[c]:[]:A.keys();for(const $ of V){M=A.get($),v=!m&&d?d:this.dictionary.decode($);const Q=h!==void 0?y?this.getQuotedPatternKeys(M,h):M.has(s)?[s]:[]:M.keys();for(const ie of Q)T=!y&&h?h:this.dictionary.decode(ie),yield[g,_,v,T]}}}}*findEncoded(r,e){const[i,o,c,s]=r,[l,f,d,h]=e,[p,b,m,y]=(0,a.arePatternsQuoted)(e);let g,_,v;const T=this.nestedMap,w=l!==void 0?p?this.getQuotedPatternKeys(T,l):T.has(i)?[i]:[]:T.keys();for(const A of w){g=T.get(A);const M=f!==void 0?b?this.getQuotedPatternKeys(g,f):g.has(o)?[o]:[]:g.keys();for(const F of M){_=g.get(F);const O=d!==void 0?m?this.getQuotedPatternKeys(_,d):_.has(c)?[c]:[]:_.keys();for(const E of O){v=_.get(E);const x=h!==void 0?y?this.getQuotedPatternKeys(v,h):v.has(s)?[s]:[]:v.keys();for(const L of x)yield[Number.parseInt(A,10),Number.parseInt(F,10),Number.parseInt(E,10),Number.parseInt(L,10)]}}}}count(r){let e=0;const i=(0,a.encodeOptionalTerms)(r,this.dictionary);if(!i)return 0;const[o,c,s,l]=i,[f,d,h,p]=r,[b,m,y,g]=(0,a.arePatternsQuoted)(r);let _,v,T;const w=this.nestedMap,A=f!==void 0?b?this.getQuotedPatternKeys(w,f):w.has(o)?[o]:[]:w.keys();for(const M of A){_=w.get(M);const F=d!==void 0?m?this.getQuotedPatternKeys(_,d):_.has(c)?[c]:[]:_.keys();for(const O of F){v=_.get(O);const E=h!==void 0?y?this.getQuotedPatternKeys(v,h):v.has(s)?[s]:[]:v.keys();for(const x of E)T=v.get(x),p!==void 0?g?e+=[...this.getQuotedPatternKeys(T,p)].length:T.has(l)&&e++:e+=T.size}}return e}};return g3.RdfStoreIndexNestedMapQuoted=u,g3}var NZ;function FZ(){if(NZ)return s3;NZ=1,Object.defineProperty(s3,"__esModule",{value:!0}),s3.RdfStore=void 0;const a=gt(),t=ga(),u=Rr(),n=PZ(),r=SZ(),e=xZ(),i=RZ(),o=_i();let c=class zS{constructor(l){this.features={quotedTripleFiltering:!0},this._size=0,this.options=l,this.dataFactory=l.dataFactory,this.dictionary=l.dictionary,this.indexesWrapped=zS.constructIndexesWrapped(l),this.indexesWrappedComponentOrders=this.indexesWrapped.map(f=>f.componentOrder)}static createDefault(){return new zS({indexCombinations:zS.DEFAULT_INDEX_COMBINATIONS,indexConstructor:l=>new i.RdfStoreIndexNestedMapQuoted(l),dictionary:new e.TermDictionaryQuotedIndexed(new r.TermDictionaryNumberRecordFullTerms),dataFactory:new t.DataFactory})}static constructIndexesWrapped(l){const f=[];if(l.indexCombinations.length===0)throw new Error("At least one index combination is required");for(const d of l.indexCombinations){if(!zS.isCombinationValid(d))throw new Error(`Invalid index combination: ${d}`);f.push({index:l.indexConstructor(l),componentOrder:d,componentOrderInverse:Object.fromEntries(d.map((h,p)=>[h,p]))})}return f}static isCombinationValid(l){for(const f of u.QUAD_TERM_NAMES)if(!l.includes(f))return!1;return l.length===4}get size(){return this._size}addQuad(l){const f=[this.dictionary.encode(l.subject),this.dictionary.encode(l.predicate),this.dictionary.encode(l.object),this.dictionary.encode(l.graph)];let d=!1;for(const h of this.indexesWrapped)d=h.index.set((0,o.orderQuadComponents)(h.componentOrder,f),!0);return d?(this._size++,!0):!1}removeQuad(l){const f=[this.dictionary.encodeOptional(l.subject),this.dictionary.encodeOptional(l.predicate),this.dictionary.encodeOptional(l.object),this.dictionary.encodeOptional(l.graph)];if(f.includes(void 0))return!1;let d=!1;for(const h of this.indexesWrapped)if(d=h.index.remove((0,o.orderQuadComponents)(h.componentOrder,f)),!d)break;return d?(this._size--,!0):!1}remove(l){return l.on("data",f=>this.removeQuad(f)),l}removeMatches(l,f,d,h){return this.remove(this.match(l,f,d,h))}deleteGraph(l){return typeof l=="string"&&(l=this.dataFactory.namedNode(l)),this.removeMatches(void 0,void 0,void 0,l)}import(l){return l.on("data",f=>this.addQuad(f)),l}*readQuads(l,f,d,h){const p=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(_=>_.index.features.quotedTripleFiltering),[b,m]=(0,o.quadToPattern)(l,f,d,h,p),y=this.indexesWrapped[(0,o.getBestIndex)(this.indexesWrappedComponentOrders,b)],g=(0,o.orderQuadComponents)(y.componentOrder,b);for(const _ of y.index.find(g)){const v=this.dataFactory.quad(_[y.componentOrderInverse.subject],_[y.componentOrderInverse.predicate],_[y.componentOrderInverse.object],_[y.componentOrderInverse.graph]);m?(0,u.matchPattern)(v,l,f,d,h)&&(yield v):yield v}}getQuads(l,f,d,h){return[...this.readQuads(l,f,d,h)]}match(l,f,d,h){return(0,a.wrap)(this.readQuads(l,f,d,h))}countQuads(l,f,d,h){const p=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(g=>g.index.features.quotedTripleFiltering),[b]=(0,o.quadToPattern)(l,f,d,h,p);if(b.every(g=>g===void 0))return this.size;const m=this.indexesWrapped[(0,o.getBestIndex)(this.indexesWrappedComponentOrders,b)],y=(0,o.orderQuadComponents)(m.componentOrder,b);return m.index.count(y)}asDataset(){return new n.DatasetCoreWrapper(this)}};return c.DEFAULT_INDEX_COMBINATIONS=[["graph","subject","predicate","object"],["graph","predicate","object","subject"],["graph","object","subject","predicate"]],s3.RdfStore=c,s3}var DZ;function PZ(){if(DZ)return o3;DZ=1,Object.defineProperty(o3,"__esModule",{value:!0}),o3.DatasetCoreWrapper=void 0;const a=FZ();let t=class yie{constructor(n){this.store=n}get size(){return this.store.size}add(n){return this.store.addQuad(n),this}delete(n){return this.store.removeQuad(n),this}has(n){for(const r of this.store.readQuads(n.subject,n.predicate,n.object,n.graph))return!0;return!1}match(n,r,e,i){const o=new a.RdfStore(this.store.options);for(const c of this.store.readQuads(n,r,e,i))o.addQuad(c);return new yie(o)}[Symbol.iterator](){return this.store.readQuads()}};return o3.DatasetCoreWrapper=t,o3}var eF={},LZ;function Ige(){return LZ||(LZ=1,Object.defineProperty(eF,"__esModule",{value:!0})),eF}var v3={},jZ;function Rge(){if(jZ)return v3;jZ=1,Object.defineProperty(v3,"__esModule",{value:!0}),v3.TermDictionaryNumberMap=void 0;const a=ga(),t=Bt();let u=class{constructor(r=new a.DataFactory){this.lastId=0,this.dictionary=new Map,this.reverseDictionary=new Map,this.features={quotedTriples:!1},this.dataFactory=r}encode(r){const e=(0,t.termToString)(r);let i=this.dictionary.get(e);return i===void 0&&(i=this.lastId++,this.dictionary.set(e,i),this.reverseDictionary.set(i,e)),i}encodeOptional(r){const e=(0,t.termToString)(r);return this.dictionary.get(e)}decode(r){const e=this.reverseDictionary.get(r);if(e===void 0)throw new Error(`The value ${r} is not present in this dictionary`);return(0,t.stringToTerm)(e,this.dataFactory)}encodings(){return this.reverseDictionary.keys()}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}};return v3.TermDictionaryNumberMap=u,v3}var T3={},MZ;function Nge(){if(MZ)return T3;MZ=1,Object.defineProperty(T3,"__esModule",{value:!0}),T3.TermDictionaryNumberRecord=void 0;const a=ga(),t=Bt();let u=class{constructor(r=new a.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=r}encode(r){const e=(0,t.termToString)(r);let i=this.dictionary[e];return i===void 0&&(i=this.lastId++,this.dictionary[e]=i,this.reverseDictionary[i]=e),i}encodeOptional(r){const e=(0,t.termToString)(r);return this.dictionary[e]}decode(r){const e=this.reverseDictionary[r];if(e===void 0)throw new Error(`The value ${r} is not present in this dictionary`);return(0,t.stringToTerm)(e,this.dataFactory)}*encodings(){for(const r of Object.keys(this.reverseDictionary))yield Number.parseInt(r,10)}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}};return T3.TermDictionaryNumberRecord=u,T3}var w3={},qZ;function Fge(){if(qZ)return w3;qZ=1,Object.defineProperty(w3,"__esModule",{value:!0}),w3.TermDictionaryQuoted=void 0;const a=ga(),t=Rr();let u=class Lf{constructor(r,e,i=new a.DataFactory){this.features={quotedTriples:!0},this.plainTermDictionary=r,this.quotedTriplesDictionary=e,this.dataFactory=i}encode(r){return r.termType==="Quad"?Lf.BITMASK|1+this.quotedTriplesDictionary.encode(r):this.plainTermDictionary.encode(r)}encodeOptional(r){if(r.termType==="Quad"){const e=this.quotedTriplesDictionary.encodeOptional(r);return e===void 0?e:Lf.BITMASK|1+e}return this.plainTermDictionary.encodeOptional(r)}decode(r){if(Lf.BITMASK&r){const e=(~Lf.BITMASK&r)-1;return this.quotedTriplesDictionary.decode(e)}return this.plainTermDictionary.decode(r)}*encodings(){for(const r of this.plainTermDictionary.encodings())yield r;for(const r of this.quotedTriplesDictionary.encodings())yield Lf.BITMASK|1+r}*findQuotedTriples(r){for(const e of this.findQuotedTriplesEncoded(r))yield this.decode(e)}*findQuotedTriplesEncoded(r){for(let e of this.quotedTriplesDictionary.encodings()){e=Lf.BITMASK|1+e;const i=this.decode(e);(0,t.matchPattern)(i,r.subject,r.predicate,r.object,r.graph)&&(yield e)}}};return u.BITMASK=1<<31,w3.TermDictionaryQuoted=u,w3}var S3={},CZ;function Dge(){if(CZ)return S3;CZ=1,Object.defineProperty(S3,"__esModule",{value:!0}),S3.TermDictionaryQuotedReferential=void 0;const a=ga(),t=Rr(),u=_i();let n=class Ji{constructor(e,i=new a.DataFactory){this.quotedTriplesDictionary=[],this.quotedTriplesReverseDictionary={},this.features={quotedTriples:!0},this.plainTermDictionary=e,this.dataFactory=i}encode(e){return e.termType==="Quad"?this.encodeQuotedTriple(e,!1):this.plainTermDictionary.encode(e)}encodeQuotedTriple(e,i){var o;if(e.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const c=(o=(0,u.encodeOptionalTerms)([e.subject,e.predicate,e.object,void 0],this))===null||o===void 0?void 0:o.slice(0,3),s=c&&c.every(d=>d!==void 0)?this.quotedTriplesReverseDictionary[c.join(Ji.SEPARATOR)]:void 0;if(s!==void 0||i)return s===void 0?void 0:Ji.BITMASK|s;const l=[this.encode(e.subject),this.encode(e.predicate),this.encode(e.object)],f=this.quotedTriplesDictionary.length+1;return this.quotedTriplesDictionary.push(l),this.quotedTriplesReverseDictionary[l.join(Ji.SEPARATOR)]=f,Ji.BITMASK|f}encodeOptional(e){return e.termType==="Quad"?this.encodeQuotedTriple(e,!0):this.plainTermDictionary.encodeOptional(e)}decode(e){if(Ji.BITMASK&e){const i=(~Ji.BITMASK&e)-1;if(i>=this.quotedTriplesDictionary.length)throw new Error(`The value ${e} is not present in the quoted triples range of the dictionary`);const o=this.quotedTriplesDictionary[i];return this.dataFactory.quad(this.decode(o[0]),this.decode(o[1]),this.decode(o[2]))}return this.plainTermDictionary.decode(e)}*encodings(){for(const e of this.plainTermDictionary.encodings())yield e;for(const e of this.quotedTriplesDictionary.keys())yield Ji.BITMASK|1+e}*findQuotedTriples(e){for(const i of this.findQuotedTriplesEncoded(e))yield this.decode(i)}*findQuotedTriplesEncoded(e){for(let i of this.quotedTriplesDictionary.keys()){i=Ji.BITMASK|1+i;const o=this.decode(i);(0,t.matchPattern)(o,e.subject,e.predicate,e.object,e.graph)&&(yield i)}}};return n.BITMASK=1<<31,n.SEPARATOR="_",S3.TermDictionaryQuotedReferential=n,S3}var O3={},BZ;function Pge(){if(BZ)return O3;BZ=1,Object.defineProperty(O3,"__esModule",{value:!0}),O3.TermDictionarySymbol=void 0;const a=ga(),t=Bt();let u=class{constructor(r=new a.DataFactory){this.features={quotedTriples:!1},this.dataFactory=r}encode(r){return Symbol.for(`rdf::${(0,t.termToString)(r)}`)}encodeOptional(r){return this.encode(r)}decode(r){const e=Symbol.keyFor(r);if(e===void 0)throw new Error(`The value ${String(r)} is not present in this dictionary`);return(0,t.stringToTerm)(e.slice(5),this.dataFactory)}encodings(){throw new Error("encodings is not supported")}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}};return O3.TermDictionarySymbol=u,O3}var tF={},$Z;function Lge(){return $Z||($Z=1,Object.defineProperty(tF,"__esModule",{value:!0})),tF}var A3={},VZ;function UZ(){if(VZ)return A3;VZ=1,Object.defineProperty(A3,"__esModule",{value:!0}),A3.RdfStoreIndexNestedMapRecursive=void 0;const a=_i();let t=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedMap=new Map}set(n,r){let e=this.nestedMap,i=!1;for(const[o,c]of n.entries()){const s=e;let l=s.get(c);l?o===n.length-1&&(i=!0):(l=o===n.length-1?r:new Map,s.set(c,l)),e=l}return!i}remove(n){const r=this.nestedMap,e=r.get(n[0]);if(!e)return!1;const i=e.get(n[1]);if(!i)return!1;const o=i.get(n[2]);if(!o)return!1;const c=o.delete(n[3]);return c&&o.size===0&&(i.delete(n[2]),i.size===0&&(e.delete(n[1]),e.size===0&&r.delete(n[0]))),c}get(n){const r=(0,a.encodeOptionalTerms)(n,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(n){const r=this.nestedMap.get(n[0]);if(!r)return;const e=r.get(n[1]);if(!e)return;const i=e.get(n[2]);if(i)return i.get(n[3])}*find(n){const r=(0,a.encodeOptionalTerms)(n,this.dictionary);if(r)for(const e of this.findEncoded(r,n))yield[r[0]!==void 0?n[0]:this.dictionary.decode(e[0]),r[1]!==void 0?n[1]:this.dictionary.decode(e[1]),r[2]!==void 0?n[2]:this.dictionary.decode(e[2]),r[3]!==void 0?n[3]:this.dictionary.decode(e[3])]}*findEncoded(n,r){return yield*this.findEncodedInner(0,n,r,this.nestedMap,[])}*findEncodedInner(n,r,e,i,o){if(n===r.length)yield[...o];else{const c=r[n];if(e[n]){const l=c;if(l!==void 0){const f=i.get(l);f&&(o[n]=c,yield*this.findEncodedInner(n+1,r,e,f,o))}}else for(const[l,f]of i.entries())o[n]=l,yield*this.findEncodedInner(n+1,r,e,f,o)}}count(n){return this.countInner(0,n,this.nestedMap)}countInner(n,r,e){const i=r[n];let o=0;if(i){const c=this.dictionary.encodeOptional(i);if(c!==void 0){if(n===r.length-1)return e.has(c)?1:0;const s=e.get(c);s&&(o+=this.countInner(n+1,r,s))}}else{if(n===r.length-1)return e.size;for(const c of e.values())o+=this.countInner(n+1,r,c)}return o}};return A3.RdfStoreIndexNestedMapRecursive=t,A3}var E3={},QZ;function jge(){if(QZ)return E3;QZ=1,Object.defineProperty(E3,"__esModule",{value:!0}),E3.RdfStoreIndexNestedMapRecursiveQuoted=void 0;const a=_i(),t=UZ();let u=class extends t.RdfStoreIndexNestedMapRecursive{constructor(r){super(r),this.features={quotedTripleFiltering:!0}}*findEncoded(r,e){return yield*this.findEncodedInnerQuoted(0,r,e,(0,a.arePatternsQuoted)(e),this.nestedMap,[])}*findEncodedInnerQuoted(r,e,i,o,c,s){if(r===e.length)yield[...s];else{const l=e[r],f=i[r];if(f)if(o[r]){const d=this.dictionary.findQuotedTriplesEncoded(f);for(const h of d){const p=c.get(h);p&&(s[r]=h,yield*this.findEncodedInnerQuoted(r+1,e,i,o,p,s))}}else{const d=l;if(d!==void 0){const h=c.get(d);h&&(s[r]=l,yield*this.findEncodedInnerQuoted(r+1,e,i,o,h,s))}}else for(const[d,h]of c.entries())s[r]=d,yield*this.findEncodedInnerQuoted(r+1,e,i,o,h,s)}}countInner(r,e,i){const o=e[r];let c=0;if(o)if(o.termType==="Quad"&&(0,a.quadHasVariables)(o)){const s=this.dictionary.findQuotedTriplesEncoded(o);for(const l of s)if(r===e.length-1)i.has(l)&&c++;else{const f=i.get(l);f&&(c+=this.countInner(r+1,e,f))}}else{const s=this.dictionary.encodeOptional(o);if(s!==void 0){if(r===e.length-1)return i.has(s)?1:0;const l=i.get(s);l&&(c+=this.countInner(r+1,e,l))}}else{if(r===e.length-1)return i.size;for(const s of i.values())c+=this.countInner(r+1,e,s)}return c}};return E3.RdfStoreIndexNestedMapRecursiveQuoted=u,E3}var x3={},HZ;function GZ(){if(HZ)return x3;HZ=1,Object.defineProperty(x3,"__esModule",{value:!0}),x3.RdfStoreIndexNestedRecord=void 0;const a=_i();let t=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedRecords={}}set(n,r){const e=this.nestedRecords,i=e[n[0]]||(e[n[0]]={}),o=i[n[1]]||(i[n[1]]={}),c=o[n[2]]||(o[n[2]]={});return c[n[3]]?!1:(c[n[3]]=r,!0)}remove(n){const r=this.nestedRecords,e=r[n[0]];if(!e)return!1;const i=e[n[1]];if(!i)return!1;const o=i[n[2]];return!o||!o[n[3]]?!1:(delete o[n[3]],Object.keys(o).length===0&&(delete i[n[2]],Object.keys(i).length===0&&(delete e[n[1]],Object.keys(e).length===0&&delete r[n[0]])),!0)}get(n){const r=(0,a.encodeOptionalTerms)(n,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(n){var r,e,i;return(i=(e=(r=this.nestedRecords[n[0]])===null||r===void 0?void 0:r[n[1]])===null||e===void 0?void 0:e[n[2]])===null||i===void 0?void 0:i[n[3]]}*find(n){const r=(0,a.encodeOptionalTerms)(n,this.dictionary);if(!r)return;const[e,i,o,c]=r,[s,l,f,d]=n;let h,p,b,m,y,g,_;const v=this.nestedRecords,T=e!==void 0?e in v?[e]:[]:Object.keys(v);for(const w of T){y=v[w],h=s||this.dictionary.decode(Number.parseInt(w,10));const A=i!==void 0?i in y?[i]:[]:Object.keys(y);for(const M of A){g=y[M],p=l||this.dictionary.decode(Number.parseInt(M,10));const F=o!==void 0?o in g?[o]:[]:Object.keys(g);for(const O of F){_=g[O],b=f||this.dictionary.decode(Number.parseInt(O,10));const E=c!==void 0?c in _?[c]:[]:Object.keys(_);for(const x of E)m=d||this.dictionary.decode(Number.parseInt(x,10)),yield[h,p,b,m]}}}}*findEncoded(n,r){const[e,i,o,c]=n;let s,l,f;const d=this.nestedRecords,h=e!==void 0?e in d?[e]:[]:Object.keys(d);for(const p of h){s=d[p];const b=i!==void 0?i in s?[i]:[]:Object.keys(s);for(const m of b){l=s[m];const y=o!==void 0?o in l?[o]:[]:Object.keys(l);for(const g of y){f=l[g];const _=c!==void 0?c in f?[c]:[]:Object.keys(f);for(const v of _)yield[Number.parseInt(p,10),Number.parseInt(m,10),Number.parseInt(g,10),Number.parseInt(v,10)]}}}}count(n){let r=0;const e=(0,a.encodeOptionalTerms)(n,this.dictionary);if(!e)return 0;const i=e[0],o=e[1],c=e[2],s=e[3];let l,f,d;const h=this.nestedRecords,p=i!==void 0?i in h?[i]:[]:Object.keys(h);for(const b of p){l=h[b];const m=o!==void 0?o in l?[o]:[]:Object.keys(l);for(const y of m){f=l[y];const g=c!==void 0?c in f?[c]:[]:Object.keys(f);for(const _ of g)d=f[_],s!==void 0?s in d&&r++:r+=Object.keys(d).length}}return r}};return x3.RdfStoreIndexNestedRecord=t,x3}var I3={},kZ;function Mge(){if(kZ)return I3;kZ=1,Object.defineProperty(I3,"__esModule",{value:!0}),I3.RdfStoreIndexNestedRecordQuoted=void 0;const a=_i(),t=GZ();let u=class extends t.RdfStoreIndexNestedRecord{constructor(r){super(r),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(r,e){for(const i of this.dictionary.findQuotedTriplesEncoded(e))i in r&&(yield i)}*find(r){const e=(0,a.encodeOptionalTerms)(r,this.dictionary);if(!e)return;const[i,o,c,s]=e,[l,f,d,h]=r,[p,b,m,y]=(0,a.arePatternsQuoted)(r);let g,_,v,T,w,A,M;const F=this.nestedRecords,O=l!==void 0?p?this.getQuotedPatternKeys(F,l):i in F?[i]:[]:Object.keys(F);for(const E of O){w=F[E],g=!p&&l?l:this.dictionary.decode(Number.parseInt(E,10));const x=f!==void 0?b?this.getQuotedPatternKeys(w,f):o in w?[o]:[]:Object.keys(w);for(const L of x){A=w[L],_=!b&&f?f:this.dictionary.decode(Number.parseInt(L,10));const V=d!==void 0?m?this.getQuotedPatternKeys(A,d):c in A?[c]:[]:Object.keys(A);for(const $ of V){M=A[$],v=!m&&d?d:this.dictionary.decode(Number.parseInt($,10));const Q=h!==void 0?y?this.getQuotedPatternKeys(M,h):s in M?[s]:[]:Object.keys(M);for(const ie of Q)T=!y&&h?h:this.dictionary.decode(Number.parseInt(ie,10)),yield[g,_,v,T]}}}}*findEncoded(r,e){const[i,o,c,s]=r,[l,f,d,h]=e,[p,b,m,y]=(0,a.arePatternsQuoted)(e);let g,_,v;const T=this.nestedRecords,w=l!==void 0?p?this.getQuotedPatternKeys(T,l):i in T?[i]:[]:Object.keys(T);for(const A of w){g=T[A];const M=f!==void 0?b?this.getQuotedPatternKeys(g,f):o in g?[o]:[]:Object.keys(g);for(const F of M){_=g[F];const O=d!==void 0?m?this.getQuotedPatternKeys(_,d):c in _?[c]:[]:Object.keys(_);for(const E of O){v=_[E];const x=h!==void 0?y?this.getQuotedPatternKeys(v,h):s in v?[s]:[]:Object.keys(v);for(const L of x)yield[Number.parseInt(A,10),Number.parseInt(F,10),Number.parseInt(E,10),Number.parseInt(L,10)]}}}}count(r){let e=0;const i=(0,a.encodeOptionalTerms)(r,this.dictionary);if(!i)return 0;const[o,c,s,l]=i,[f,d,h,p]=r,[b,m,y,g]=(0,a.arePatternsQuoted)(r);let _,v,T;const w=this.nestedRecords,A=f!==void 0?b?this.getQuotedPatternKeys(w,f):o in w?[o]:[]:Object.keys(w);for(const M of A){_=w[M];const F=d!==void 0?m?this.getQuotedPatternKeys(_,d):c in _?[c]:[]:Object.keys(_);for(const O of F){v=_[O];const E=h!==void 0?y?this.getQuotedPatternKeys(v,h):s in v?[s]:[]:Object.keys(v);for(const x of E)T=v[x],p!==void 0?g?e+=[...this.getQuotedPatternKeys(T,p)].length:l in T&&e++:e+=Object.keys(T).length}}return e}};return I3.RdfStoreIndexNestedRecordQuoted=u,I3}var rF={},zZ;function qge(){return zZ||(zZ=1,Object.defineProperty(rF,"__esModule",{value:!0})),rF}var nF={},XZ;function Cge(){return XZ||(XZ=1,Object.defineProperty(nF,"__esModule",{value:!0})),nF}var JZ;function Bge(){return JZ||(JZ=1,function(a){var t=Ld&&Ld.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ld&&Ld.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(PZ(),a),u(Ige(),a),u(Rge(),a),u(Nge(),a),u(SZ(),a),u(Fge(),a),u(xZ(),a),u(Dge(),a),u(Pge(),a),u(Lge(),a),u(ZN(),a),u(RZ(),a),u(UZ(),a),u(jge(),a),u(GZ(),a),u(Mge(),a),u(qge(),a),u(_i(),a),u(Cge(),a),u(FZ(),a)}(Ld)),Ld}var KZ;function WZ(){if(KZ)return u3;KZ=1,Object.defineProperty(u3,"__esModule",{value:!0}),u3.storeStream=void 0;const a=Bge();function t(u){const n=a.RdfStore.createDefault();return new Promise((r,e)=>n.import(u).on("error",e).once("end",()=>r(n)))}return u3.storeStream=t,u3}var YZ;function $ge(){if(YZ)return n3;YZ=1,Object.defineProperty(n3,"__esModule",{value:!0}),n3.ActorQuerySourceIdentifyHypermediaNone=void 0;const a=KN(),t=XN(),u=ke(),n=Te(),r=kt(),e=WZ();let i=class extends t.ActorQuerySourceIdentifyHypermedia{constructor(c){super(c,"file")}async testMetadata(c){return(0,n.passTest)({filterFactor:0})}async run(c){this.logInfo(c.context,`Identified as file source: ${c.url}`);const s=c.context.getSafe(u.KeysInitQuery.dataFactory),l=new a.QuerySourceRdfJs(await(0,e.storeStream)(c.quads),s,await r.BindingsFactory.create(this.mediatorMergeBindingsContext,c.context,s));return l.toString=()=>`QuerySourceRdfJs(${c.url})`,l.referenceValue=c.url,{source:l}}};return n3.ActorQuerySourceIdentifyHypermediaNone=i,n3}var ZZ;function Vge(){return ZZ||(ZZ=1,function(a){var t=Dd&&Dd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Dd&&Dd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u($ge(),a)}(Dd)),Dd}var Md={},R3={},qd={},N3={},eee;function Uge(){if(eee)return N3;eee=1,Object.defineProperty(N3,"__esModule",{value:!0}),N3.ActorExpressionEvaluatorFactory=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n),this.mediatorQueryOperation=n.mediatorQueryOperation,this.mediatorFunctionFactory=n.mediatorFunctionFactory,this.mediatorMergeBindingsContext=n.mediatorMergeBindingsContext}};return N3.ActorExpressionEvaluatorFactory=t,N3}var tee;function Qge(){return tee||(tee=1,function(a){var t=qd&&qd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=qd&&qd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Uge(),a)}(qd)),qd}var F3={},ree;function nee(){if(ree)return F3;ree=1,Object.defineProperty(F3,"__esModule",{value:!0}),F3.AlgebraTransformer=void 0;const a=ke(),t=Ae(),u=bt();let n=class vE extends t.TermTransformer{constructor(e,i){super(e.getSafe(a.KeysExpressionEvaluator.superTypeProvider)),this.context=e,this.mediatorFunctionFactory=i}async transformAlgebra(e){const i=u.Algebra.expressionTypes;switch(e.expressionType){case i.TERM:return this.transformTerm(e);case i.OPERATOR:return await this.transformOperator(e);case i.NAMED:return await this.transformNamed(e);case i.EXISTENCE:return vE.transformExistence(e);case i.AGGREGATE:return vE.transformAggregate(e);case i.WILDCARD:return vE.transformWildcard(e)}}static transformWildcard(e){return new t.NamedNode(e.wildcard.value)}async getOperator(e,i){const o=await this.mediatorFunctionFactory.mediate({functionName:e,arguments:i.args,context:this.context}),c=await Promise.all(i.args.map(s=>this.transformAlgebra(s)));if(!o.checkArity(c))throw new t.InvalidArity(c,e);return new t.Operator(e,c,o.apply)}async transformOperator(e){return this.getOperator(e.operator.toLowerCase(),e)}async transformNamed(e){return this.getOperator(e.name.value,e)}static transformAggregate(e){const i=e.aggregator;return new t.Aggregate(i,e)}static transformExistence(e){return new t.Existence(e)}};return F3.AlgebraTransformer=n,F3}var D3={},P3={},iee;function aee(){if(iee)return P3;iee=1,Object.defineProperty(P3,"__esModule",{value:!0}),P3.InternalEvaluator=void 0;const a=ke(),t=aa(),u=Ae(),n=St(),r=bt(),e=nee();let i=class{constructor(c,s,l,f){this.context=c,this.mediatorQueryOperation=l,this.bindingsFactory=f,this.subEvaluators={[t.ExpressionType.Term]:(d,h)=>this.term(d),[t.ExpressionType.Variable]:(d,h)=>this.variable(d,h),[t.ExpressionType.Operator]:(d,h)=>this.evalFunction(d,h),[t.ExpressionType.Existence]:(d,h)=>this.evalExistence(d,h),[t.ExpressionType.Aggregate]:(d,h)=>this.evalAggregate()},this.transformer=new e.AlgebraTransformer(c,s)}async evaluatorExpressionEvaluation(c,s){return this.subEvaluators[c.expressionType].bind(this)(c,s)}term(c){return c}variable(c,s){const l=s.get(u.expressionToVar(this.context.getSafe(a.KeysInitQuery.dataFactory),c));if(!l)throw new u.UnboundVariableError(c.name,s);return this.transformer.transformRDFTermUnsafe(l)}async evalFunction(c,s){return c.apply({args:c.args,mapping:s,exprEval:this})}async evalExistence(c,s){const l=this.context.getSafe(a.KeysInitQuery.dataFactory),f=new r.Factory(l),d=(0,n.materializeOperation)(c.expression.input,s,f,this.bindingsFactory),h=await this.mediatorQueryOperation.mediate({operation:d,context:this.context}),p=(0,n.getSafeBindings)(h);return await new Promise((b,m)=>{p.bindingsStream.on("end",()=>{b(!1)}),p.bindingsStream.on("error",m),p.bindingsStream.on("data",()=>{p.bindingsStream.close(),b(!0)})}).then(b=>c.expression.not?!b:b).then(b=>new u.BooleanLiteral(b))}evalAggregate(){throw new u.NoAggregator}};return P3.InternalEvaluator=i,P3}var uee;function Hge(){if(uee)return D3;uee=1,Object.defineProperty(D3,"__esModule",{value:!0}),D3.ExpressionEvaluator=void 0;const a=ke(),t=aee();let u=class{constructor(r,e,i,o,c){this.context=r,this.expr=e,this.mediatorFunctionFactory=i,this.mediatorQueryOperation=o,this.bindingsFactory=c,this.internalEvaluator=new t.InternalEvaluator(r,i,o,c)}async evaluate(r){return(await this.internalEvaluator.evaluatorExpressionEvaluation(this.expr,r)).toRDF(this.context.getSafe(a.KeysInitQuery.dataFactory))}async evaluateAsEBV(r){return(await this.internalEvaluator.evaluatorExpressionEvaluation(this.expr,r)).coerceEBV()}evaluateAsEvaluatorExpression(r){return this.evaluatorExpressionEvaluation(this.expr,r)}evaluatorExpressionEvaluation(r,e){return this.internalEvaluator.evaluatorExpressionEvaluation(r,e)}};return D3.ExpressionEvaluator=u,D3}var oee;function Gge(){if(oee)return R3;oee=1,Object.defineProperty(R3,"__esModule",{value:!0}),R3.ActorExpressionEvaluatorFactoryDefault=void 0;const a=Qge(),t=ke(),u=Te(),n=kt(),r=Ae(),e=nee(),i=Hge();let o=class extends a.ActorExpressionEvaluatorFactory{constructor(s){super(s)}async test(s){return(0,u.passTestVoid)()}async run(s){const l=(0,r.prepareEvaluatorActionContext)(s.context);return new i.ExpressionEvaluator(l,await new e.AlgebraTransformer(l,this.mediatorFunctionFactory).transformAlgebra(s.algExpr),this.mediatorFunctionFactory,this.mediatorQueryOperation,await n.BindingsFactory.create(this.mediatorMergeBindingsContext,s.context,s.context.getSafe(t.KeysInitQuery.dataFactory)))}};return R3.ActorExpressionEvaluatorFactoryDefault=o,R3}var see;function kge(){return see||(see=1,function(a){var t=Md&&Md.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Md&&Md.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Gge(),a)}(Md)),Md}var Cd={},L3={},j3={},cee;function zge(){if(cee)return j3;cee=1,Object.defineProperty(j3,"__esModule",{value:!0}),j3.GroupsState=void 0;const a=ke(),t=kt();let u=class{constructor(r,e,i,o,c){this.pattern=r,this.mediatorBindingsAggregatorFactory=e,this.context=i,this.bindingsFactory=o,this.variables=c,this.groups=new Map,this.groupsInitializer=new Map,this.groupVariables=new Set(this.pattern.variables.map(s=>s.value)),this.waitCounter=1,this.resultHasBeenCalled=!1}consumeBindings(r){const e=this.resultCheck();if(e)return e;this.waitCounter++;const i=r.filter((l,f)=>this.groupVariables.has(f.value)),o=this.hashBindings(i);let c=this.groupsInitializer.get(o),s;if(c){const l=c;s=(async()=>{const f=await l;await Promise.all(this.pattern.aggregates.map(async d=>{const h=d.variable.value;await f.aggregators[h].putBindings(r)}))})().then(async()=>{await this.subtractWaitCounterAndCollect()})}else c=(async()=>{const l={};await Promise.all(this.pattern.aggregates.map(async d=>{const h=d.variable.value;l[h]=await this.mediatorBindingsAggregatorFactory.mediate({expr:d,context:this.context}),await l[h].putBindings(r)}));const f={aggregators:l,bindings:i};return this.groups.set(o,f),await this.subtractWaitCounterAndCollect(),f})(),this.groupsInitializer.set(o,c),s=c;return s}async subtractWaitCounterAndCollect(){--this.waitCounter===0&&await this.handleResultCollection()}async handleResultCollection(){const r=this.context.getSafe(a.KeysInitQuery.dataFactory);let e=await Promise.all([...this.groups].map(async([i,o])=>{const{bindings:c,aggregators:s}=o;let l=c;for(const f in s){const d=await s[f].result();d&&(l=l.set(r.variable(f),d))}return l}));if(e.length===0&&this.groupVariables.size===0){const i=[];await Promise.all(this.pattern.aggregates.map(async o=>{const c=o.variable,l=await(await this.mediatorBindingsAggregatorFactory.mediate({expr:o,context:this.context})).result();l!==void 0&&i.push([c,l])})),e=[this.bindingsFactory.bindings(i)]}this.waitResolver(e)}resultCheck(){if(this.resultHasBeenCalled)return Promise.reject(new Error("Calling any function after calling collectResult is invalid."))}async collectResults(){const r=this.resultCheck();if(r)return r;this.resultHasBeenCalled=!0;const e=new Promise(i=>{this.waitResolver=i});return await this.subtractWaitCounterAndCollect(),e}hashBindings(r){return(0,t.bindingsToCompactString)(r,this.variables)}};return j3.GroupsState=u,j3}var lee;function Xge(){if(lee)return L3;lee=1,Object.defineProperty(L3,"__esModule",{value:!0}),L3.ActorQueryOperationGroup=void 0;const a=Vt(),t=ke(),u=Te(),n=kt(),r=St(),e=gt(),i=zge();let o=class extends a.ActorQueryOperationTypedMediated{constructor(s){super(s,"group"),this.mediatorBindingsAggregatorFactory=s.mediatorBindingsAggregatorFactory}async testOperation(){return(0,u.passTestVoid)()}async runOperation(s,l){const f=l.getSafe(t.KeysInitQuery.dataFactory),d=await n.BindingsFactory.create(this.mediatorMergeBindingsContext,l,f),{input:h,aggregates:p}=s,b=await this.mediatorQueryOperation.mediate({operation:h,context:l}),m=(0,r.getSafeBindings)(b),y=[...s.variables,...p.map(v=>v.variable)].map(v=>({variable:v,canBeUndef:!1})),g=(await m.metadata()).variables.map(v=>v.variable);return{type:"bindings",bindingsStream:new e.TransformIterator(()=>new Promise((v,T)=>{const w=new i.GroupsState(s,this.mediatorBindingsAggregatorFactory,l,d,g);m.bindingsStream.on("end",async()=>{try{const A=new e.ArrayIterator(await w.collectResults(),{autoStart:!1});v(A)}catch(A){T(A)}}),m.bindingsStream.on("error",T),m.bindingsStream.on("data",A=>{w.consumeBindings(A).catch(T)})}),{autoStart:!1}),metadata:async()=>({...await m.metadata(),variables:y})}}};return L3.ActorQueryOperationGroup=o,L3}var dee;function Jge(){return dee||(dee=1,function(a){var t=Cd&&Cd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Cd&&Cd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Xge(),a)}(Cd)),Cd}var Bd={},M3={},fee;function Kge(){if(fee)return M3;fee=1,Object.defineProperty(M3,"__esModule",{value:!0}),M3.ActorQueryOperationNop=void 0;const a=Vt(),t=ke(),u=Te(),n=kt(),r=Or(),e=gt();let i=class extends a.ActorQueryOperationTypedMediated{constructor(c){super(c,"nop")}async testOperation(c,s){return(0,u.passTestVoid)()}async runOperation(c,s){const l=s.getSafe(t.KeysInitQuery.dataFactory),f=await n.BindingsFactory.create(this.mediatorMergeBindingsContext,s,l);return{bindingsStream:new e.SingletonIterator(f.bindings()),metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]}),type:"bindings"}}};return M3.ActorQueryOperationNop=i,M3}var hee;function Wge(){return hee||(hee=1,function(a){var t=Bd&&Bd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Bd&&Bd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Kge(),a)}(Bd)),Bd}var $d={},q3={},pee;function Yge(){if(pee)return q3;pee=1,Object.defineProperty(q3,"__esModule",{value:!0}),q3.ActorQueryOperationService=void 0;const a=Vt(),t=ke(),u=Te(),n=kt(),r=Or(),e=St(),i=gt();let o=class extends a.ActorQueryOperationTypedMediated{constructor(s){super(s,"service")}async testOperation(s,l){return s.name.termType!=="NamedNode"?(0,u.failTest)(`${this.name} can only query services by IRI, while a ${s.name.termType} was given.`):(0,u.passTestVoid)()}async runOperation(s,l){const{querySource:f}=await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:s.name.value,type:this.forceSparqlEndpoint?"sparql":void 0},context:l});let d;try{d=(0,e.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:(0,e.assignOperationSource)(s.input,f),context:l}))}catch(h){if(s.silent){const p=l.getSafe(t.KeysInitQuery.dataFactory),b=await n.BindingsFactory.create(this.mediatorMergeBindingsContext,l,p);d={bindingsStream:new i.SingletonIterator(b.bindings()),type:"bindings",metadata:async()=>({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]})},this.logWarn(l,`An error occurred when executing a SERVICE clause: ${h.message}`)}else throw h}return d}};return q3.ActorQueryOperationService=o,q3}var yee;function Zge(){return yee||(yee=1,function(a){var t=$d&&$d.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=$d&&$d.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Yge(),a)}($d)),$d}var Vd={},C3={},bee;function eve(){if(bee)return C3;bee=1,Object.defineProperty(C3,"__esModule",{value:!0}),C3.ActorQueryOperationValues=void 0;const a=Vt(),t=ke(),u=Te(),n=kt(),r=Or(),e=gt();let i=class extends a.ActorQueryOperationTyped{constructor(c){super(c,"values")}async testOperation(c,s){return(0,u.passTestVoid)()}async runOperation(c,s){const l=s.getSafe(t.KeysInitQuery.dataFactory),f=await n.BindingsFactory.create(this.mediatorMergeBindingsContext,s,l);return{type:"bindings",bindingsStream:new e.ArrayIterator(c.bindings.map(p=>f.bindings(Object.entries(p).map(([b,m])=>[l.variable(b.slice(1)),m])))),metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:c.bindings.length},variables:c.variables.map(p=>({variable:p,canBeUndef:c.bindings.some(b=>!(`?${p.value}`in b))}))})}}};return C3.ActorQueryOperationValues=i,C3}var _ee;function tve(){return _ee||(_ee=1,function(a){var t=Vd&&Vd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Vd&&Vd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(eve(),a)}(Vd)),Vd}var Ud={},B3={},mee;function rve(){if(mee)return B3;mee=1,Object.defineProperty(B3,"__esModule",{value:!0}),B3.ActorQueryOperationPathOneOrMore=void 0;const a=ma(),t=ke(),u=kt(),n=St(),r=gt(),e=bt();let i=class extends a.ActorAbstractPath{constructor(c){super(c,e.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(c,s){const l=s.getSafe(t.KeysInitQuery.dataFactory),f=new e.Factory(l),d=await u.BindingsFactory.create(this.mediatorMergeBindingsContext,s,l),h=await this.isPathArbitraryLengthDistinct(f,s,c);if(h.operation)return h.operation;s=h.context;const p=c.predicate;if(c.subject.termType!=="Variable"&&c.object.termType==="Variable"){const g=c.object,_=await this.getObjectsPredicateStarEval(c.subject,p.path,g,c.graph,s,!1,f,d),v=(c.graph.termType==="Variable"?[g,c.graph]:[g]).map(T=>({variable:T,canBeUndef:!1}));return{type:"bindings",bindingsStream:_.bindingsStream,metadata:async()=>({...await _.metadata(),variables:v})}}if(c.subject.termType==="Variable"&&c.object.termType==="Variable"){const g=f.createDistinct(f.createPath(c.subject,c.predicate.path,c.object,c.graph)),_=(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:s,operation:g})),v=c.subject,T=c.object,w={},A=new r.MultiTransformIterator(_.bindingsStream,{multiTransform:F=>{const O=F.get(v),E=F.get(T),x=c.graph.termType==="Variable"?F.get(c.graph):c.graph;return new r.TransformIterator(async()=>{const L=new r.BufferedIterator;return await this.getSubjectAndObjectBindingsPredicateStar(v,T,O,E,p.path,x,s,w,{},L,{count:0},f,d),L.transform({transform(V,$,Q){c.graph.termType==="Variable"&&(V=V.set(c.graph,x)),Q(V),$()}})},{maxBufferSize:128})},autoStart:!1}),M=(c.graph.termType==="Variable"?[v,T,c.graph]:[v,T]).map(F=>({variable:F,canBeUndef:!1}));return{type:"bindings",bindingsStream:A,metadata:async()=>({...await _.metadata(),variables:M})}}if(c.subject.termType==="Variable"&&c.object.termType!=="Variable")return this.mediatorQueryOperation.mediate({context:s,operation:f.createPath(c.object,f.createOneOrMorePath(f.createInv(p.path)),c.subject,c.graph)});const b=this.generateVariable(l),m=(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:s,operation:f.createPath(c.subject,p,b,c.graph)}));return{type:"bindings",bindingsStream:m.bindingsStream.transform({filter:g=>c.object.equals(g.get(b)),transform(g,_,v){const T=c.graph.termType==="Variable"?d.bindings([[c.graph,g.get(c.graph)]]):d.bindings();v(T),_()}}),metadata:async()=>({...await m.metadata(),variables:(c.graph.termType==="Variable"?[c.graph]:[]).map(g=>({variable:g,canBeUndef:!1}))})}}};return B3.ActorQueryOperationPathOneOrMore=i,B3}var gee;function nve(){return gee||(gee=1,function(a){var t=Ud&&Ud.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Ud&&Ud.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(rve(),a)}(Ud)),Ud}var Qd={},$3={},vee;function ive(){if(vee)return $3;vee=1,Object.defineProperty($3,"__esModule",{value:!0}),$3.ActorQueryOperationPathZeroOrMore=void 0;const a=ma(),t=ke(),u=kt(),n=St(),r=gt(),e=Bt(),i=bt();let o=class extends a.ActorAbstractPath{constructor(s){super(s,i.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(s,l){const f=l.getSafe(t.KeysInitQuery.dataFactory),d=new i.Factory(f),h=await u.BindingsFactory.create(this.mediatorMergeBindingsContext,l,f),p=await this.isPathArbitraryLengthDistinct(d,l,s);if(p.operation)return p.operation;l=p.context;const b=s.predicate,m=this.getPathSources(b),y=s.subject.termType==="Variable",g=s.object.termType==="Variable";if(s.subject.termType==="Variable"&&s.object.termType==="Variable"){const M=this.generateVariable(f,s),F=this.assignPatternSources(d,d.createPattern(s.subject,M,s.object,s.graph),m),O=(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:l,operation:F})),E=s.subject,x=s.object,L=new Set,V={},$=new r.MultiTransformIterator(O.bindingsStream,{multiTransform:ie=>{const ue=ie.get(E),pe=ie.get(x),X=s.graph.termType==="Variable"?ie.get(s.graph):s.graph,me=(0,e.termToString)(ue)+(0,e.termToString)(X),Fe=(0,e.termToString)(pe)+(0,e.termToString)(X);return new r.TransformIterator(async()=>{if(L.has(me)&&L.has(Fe))return new r.EmptyIterator;const ve=new r.BufferedIterator,re={count:0};return L.has(me)||(L.add(me),await this.getSubjectAndObjectBindingsPredicateStar(E,x,ue,ue,b.path,X,l,V,{},ve,re,d,h)),L.has(Fe)||(L.add(Fe),await this.getSubjectAndObjectBindingsPredicateStar(E,x,pe,pe,b.path,X,l,V,{},ve,re,d,h)),ve.transform({transform(je,qe,$e){s.graph.termType==="Variable"&&(je=je.set(s.graph,X)),$e(je),qe()}})})}}),Q=(s.graph.termType==="Variable"?[E,s.object,s.graph]:[E,s.object]).map(ie=>({variable:ie,canBeUndef:!1}));return{type:"bindings",bindingsStream:$,metadata:async()=>({...await O.metadata(),variables:Q})}}if(!y&&!g){const M=this.generateVariable(f),F=await this.getObjectsPredicateStarEval(s.subject,b.path,M,s.graph,l,!0,d,h);return{type:"bindings",bindingsStream:F.bindingsStream.transform({filter:E=>s.object.equals(E.get(M)),transform(E,x,L){const V=s.graph.termType==="Variable"?h.bindings([[s.graph,E.get(s.graph)]]):h.bindings();L(V),x()}}),metadata:async()=>({...await F.metadata(),variables:(s.graph.termType==="Variable"?[s.graph]:[]).map(E=>({variable:E,canBeUndef:!1}))})}}const _=y?s.object:s.subject,v=y?s.subject:s.object,T=y?d.createInv(b.path):b.path,w=await this.getObjectsPredicateStarEval(_,T,v,s.graph,l,!0,d,h),A=(s.graph.termType==="Variable"?[v,s.graph]:[v]).map(M=>({variable:M,canBeUndef:!1}));return{type:"bindings",bindingsStream:w.bindingsStream,metadata:async()=>({...await w.metadata(),variables:A})}}};return $3.ActorQueryOperationPathZeroOrMore=o,$3}var Tee;function ave(){return Tee||(Tee=1,function(a){var t=Qd&&Qd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Qd&&Qd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(ive(),a)}(Qd)),Qd}var Hd={},V3={},wee;function uve(){if(wee)return V3;wee=1,Object.defineProperty(V3,"__esModule",{value:!0}),V3.ActorQueryOperationPathZeroOrOne=void 0;const a=ma(),t=ke(),u=kt(),n=Or(),r=St(),e=gt(),i=bt();let o=class extends a.ActorAbstractPath{constructor(s){super(s,i.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(s,l){const f=l.getSafe(t.KeysInitQuery.dataFactory),d=new i.Factory(f),h=await u.BindingsFactory.create(this.mediatorMergeBindingsContext,l,f),p=s.predicate,b=this.getPathSources(p),m=[];if(s.subject.termType!=="Variable"&&s.object.termType!=="Variable"&&s.subject.equals(s.object))return{type:"bindings",bindingsStream:new e.SingletonIterator(h.bindings()),metadata:()=>Promise.resolve({state:new n.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]})};const y=await this.isPathArbitraryLengthDistinct(d,l,s);if(y.operation)return y.operation;l=y.context;const g=(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:l,operation:d.createPath(s.subject,p.path,s.object,s.graph)}));let _;if(s.subject.termType==="Variable"&&s.object.termType==="Variable"){const T=this.generateVariable(f,s),w=(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:l,operation:d.createFilter(this.assignPatternSources(d,d.createPattern(s.subject,T,s.object,s.graph),b),d.createOperatorExpression("=",[d.createTermExpression(s.subject),d.createTermExpression(s.object)]))})).bindingsStream.map(A=>A.delete(T));_=new e.UnionIterator([w,g.bindingsStream],{autoStart:!1})}else s.subject.termType==="Variable"&&m.push(h.bindings([[s.subject,s.object]])),s.object.termType==="Variable"&&m.push(h.bindings([[s.object,s.subject]])),_=g.bindingsStream.prepend(m);return{type:"bindings",bindingsStream:_,metadata:async()=>{const T=await g.metadata();return{...T,cardinality:{...T.cardinality,value:T.cardinality.value+1}}}}}};return V3.ActorQueryOperationPathZeroOrOne=o,V3}var See;function ove(){return See||(See=1,function(a){var t=Hd&&Hd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Hd&&Hd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(uve(),a)}(Hd)),Hd}var Gd={},U3={},Oee;function sve(){if(Oee)return U3;Oee=1,Object.defineProperty(U3,"__esModule",{value:!0}),U3.ActorQueryOperationUpdateDeleteInsert=void 0;const a=iW(),t=Vt(),u=ke(),n=kt(),r=St(),e=gt();let i=class extends t.ActorQueryOperationTypedMediated{constructor(c){super(c,"deleteinsert"),this.blankNodeCounter=0}async testOperation(c,s){return(0,r.testReadOnly)(s)}async runOperation(c,s){const l=s.getSafe(u.KeysInitQuery.dataFactory),f=await n.BindingsFactory.create(this.mediatorMergeBindingsContext,s,l),d=c.where?(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:c.where,context:s})).bindingsStream:new e.ArrayIterator([f.bindings()],{autoStart:!1});let h,p;c.insert&&(h=new a.BindingsToQuadsIterator(l,c.insert.map(a.BindingsToQuadsIterator.localizeQuad.bind(null,l,this.blankNodeCounter)),d.clone()),this.blankNodeCounter++),c.delete&&(p=new a.BindingsToQuadsIterator(l,c.delete.map(a.BindingsToQuadsIterator.localizeQuad.bind(null,l,this.blankNodeCounter)),d.clone()),this.blankNodeCounter++);const{execute:b}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:h,quadStreamDelete:p,context:s});return{type:"void",execute:b}}};return U3.ActorQueryOperationUpdateDeleteInsert=i,U3}var Aee;function cve(){return Aee||(Aee=1,function(a){var t=Gd&&Gd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Gd&&Gd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(sve(),a)}(Gd)),Gd}var kd={},Q3={},zd={},H3={},Eee;function lve(){if(Eee)return H3;Eee=1,Object.defineProperty(H3,"__esModule",{value:!0}),H3.ActorQueryProcess=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n)}};return H3.ActorQueryProcess=t,H3}var xee;function FA(){return xee||(xee=1,function(a){var t=zd&&zd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=zd&&zd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(lve(),a)}(zd)),zd}var Iee;function dve(){if(Iee)return Q3;Iee=1,Object.defineProperty(Q3,"__esModule",{value:!0}),Q3.ActorQueryProcessSequential=void 0;const a=FA(),t=ke(),u=Te(),n=kt(),r=St(),e=bt();let i=class extends a.ActorQueryProcess{constructor(c){super(c)}async test(c){return c.context.get(t.KeysInitQuery.explain)??c.context.get(new u.ActionContextKey("explain"))?(0,u.failTest)(`${this.name} is not able to explain queries.`):(0,u.passTestVoid)()}async run(c){let{operation:s,context:l}=await this.parse(c.query,c.context);return{operation:s,context:l}=await this.optimize(s,l),{result:await this.evaluate(s,l)}}async parse(c,s){s=(await this.mediatorContextPreprocess.mediate({context:s,initialize:!0})).context;let l;if(typeof c=="string"){s=s.set(t.KeysInitQuery.queryString,c);const f=s.get(t.KeysInitQuery.baseIRI),d=s.get(t.KeysInitQuery.queryFormat),h=await this.mediatorQueryParse.mediate({context:s,query:c,queryFormat:d,baseIRI:f});l=h.operation,h.baseIRI&&(s=s.set(t.KeysInitQuery.baseIRI,h.baseIRI))}else l=c;if(s.has(t.KeysInitQuery.initialBindings)){const f=s.getSafe(t.KeysInitQuery.dataFactory),d=new e.Factory(f),h=await n.BindingsFactory.create(this.mediatorMergeBindingsContext,s,f);l=(0,r.materializeOperation)(l,s.get(t.KeysInitQuery.initialBindings),d,h),s=s.delete(t.KeysInitQuery.queryString)}return{operation:l,context:s}}async optimize(c,s){return s=s.set(t.KeysInitQuery.query,c),{operation:c,context:s}=await this.mediatorOptimizeQueryOperation.mediate({context:s,operation:c}),s=s.set(t.KeysInitQuery.query,c),{operation:c,context:s}}async evaluate(c,s){const l=await this.mediatorQueryOperation.mediate({context:s,operation:c});return l.context=s,l}};return Q3.ActorQueryProcessSequential=i,Q3}var Ree;function fve(){return Ree||(Ree=1,function(a){var t=kd&&kd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=kd&&kd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(dve(),a)}(kd)),kd}var Xd={},G3={},k3={},z3={},X3={},Nee;function hve(){if(Nee)return X3;Nee=1,Object.defineProperty(X3,"__esModule",{value:!0}),X3.LinkedRdfSourcesAsyncRdfIterator=void 0;const a=ke(),t=Or(),u=gt();let n=class extends u.BufferedIterator{constructor(e,i,o,c,s,l,f,d){if(super({autoStart:!1,...d}),this.started=!1,this.currentIterators=[],this.iteratorsPendingCreation=0,this.iteratorsPendingTermination=0,this.accumulatedMetadata=Promise.resolve(void 0),this._reading=!1,this.cacheSize=e,this.operation=i,this.queryBindingsOptions=o,this.context=c,this.firstUrl=s,this.maxIterators=l,this.sourceStateGetter=f,this.maxIterators<=0)throw new Error(`LinkedRdfSourcesAsyncRdfIterator.maxIterators must be larger than zero, but got ${this.maxIterators}`)}kickstart(){this.started||this._fillBufferAsync()}getProperty(e,i){return e==="metadata"&&!this.started&&(this.preflightMetadata||(this.preflightMetadata=new Promise((o,c)=>{this.sourceStateGetter({url:this.firstUrl},{}).then(s=>{const l=s.source.queryBindings(this.operation,this.context);l.getProperty("metadata",f=>{f.state=new t.MetadataValidationState,l.destroy(),this.accumulateMetadata(s.metadata,f).then(d=>{const h={...s.metadata,...f,...d};o(h)}).catch(()=>{o({...s.metadata,state:new t.MetadataValidationState})})})}).catch(c)})),this.preflightMetadata.then(o=>this.setProperty("metadata",o)).catch(()=>{})),super.getProperty(e,i)}_end(e){for(const i of this.currentIterators)i.destroy();super._end(e)}_read(e,i){if(this.started){for(const o of this.currentIterators){for(;e>0;){const c=o.read();if(c===null)break;e--,this._push(c)}if(e<=0)break}e>=0&&this.canStartNewIterator()?this.sourceStateGetter({url:this.firstUrl},{}).then(o=>{this.startIteratorsForNextUrls(o.handledDatasets,!1),i()}):i()}else this.started=!0,this.sourceStateGetter({url:this.firstUrl},{}).then(o=>{this.startIterator(o),i()}).catch(o=>setTimeout(()=>this.destroy(o)))}canStartNewIterator(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination<this.maxIterators&&(!this.canStartNewIteratorConsiderReadable()||!this.readable)}canStartNewIteratorConsiderReadable(){return!0}areIteratorsRunning(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination>0}startIterator(e){try{const i=e.source.queryBindings(this.operation,this.context,this.queryBindingsOptions);this.currentIterators.push(i);let o=!1,c=!1;i._destination=this,i.on("error",s=>this.destroy(s)),i.on("readable",()=>this._fillBuffer()),i.on("end",()=>{this.currentIterators.splice(this.currentIterators.indexOf(i),1),o=!0,c||this.iteratorsPendingTermination++,c&&this.startIteratorsForNextUrls(e.handledDatasets,!0)}),i.getProperty("metadata",s=>{this.accumulatedMetadata=this.accumulatedMetadata.then(l=>(async()=>(l||(l=e.metadata),this.accumulateMetadata(l,s)))().then(f=>{const d={...e.metadata,...s,...f};return d.state=new t.MetadataValidationState,this.updateMetadata(d),this.preflightMetadata&&this.preflightMetadata.then(h=>h.state.invalidate()).catch(()=>{}),this.getSourceLinks(d,e).then(h=>Promise.all(h)).then(async h=>{const p=await this.getLinkQueue();for(const b of h)p.push(b,e.link);c=!0,o&&this.iteratorsPendingTermination--,this.startIteratorsForNextUrls(e.handledDatasets,!0)}).catch(h=>this.destroy(h)),d})).catch(l=>(this.destroy(l),{}))})}catch(i){this.destroy(i)}}updateMetadata(e){const i=this.getProperty("metadata");this.setProperty("metadata",e),i==null||i.state.invalidate()}isRunning(){return!this.done}startIteratorsForNextUrls(e,i){this.getLinkQueue().then(o=>{for(;this.canStartNewIterator()&&this.isRunning();){const c=o.pop();if(c)this.iteratorsPendingCreation++,this.sourceStateGetter(c,e).then(s=>{const l=this.context.get(a.KeysStatistics.dereferencedLinks);l&&l.updateStatistic({url:s.link.url,metadata:{...s.metadata,...s.link.metadata}},s.source),this.iteratorsPendingCreation--,this.startIterator(s)}).catch(s=>this.emit("error",s));else break}i&&this.isCloseable(o,!0)&&this.close()}).catch(o=>this.destroy(o))}isCloseable(e,i){return e.isEmpty()&&!this.areIteratorsRunning()}};return X3.LinkedRdfSourcesAsyncRdfIterator=n,X3}var Fee;function pve(){if(Fee)return z3;Fee=1,Object.defineProperty(z3,"__esModule",{value:!0}),z3.MediatedLinkedRdfSourcesAsyncRdfIterator=void 0;const a=ke(),t=hve();let u=class extends t.LinkedRdfSourcesAsyncRdfIterator{constructor(r,e,i,o,c,s,l,f,d,h,p,b,m,y){super(r,e,i,o,s,l,f,d?{maxBufferSize:Number.POSITIVE_INFINITY}:void 0),this.wasForcefullyClosed=!1,this.forceSourceType=c,this.mediatorMetadataAccumulate=h,this.mediatorRdfResolveHypermediaLinks=p,this.mediatorRdfResolveHypermediaLinksQueue=b,this.handledUrls={[s]:!0},this.aggregatedStore=d,this.dataFactory=m,this.algebraFactory=y}close(){if(!this.aggregatedStore){super.close();return}this.getLinkQueue().then(r=>{this.isCloseable(r,!1)?(this.aggregatedStore&&setTimeout(()=>this.aggregatedStore.end()),super.close()):this.wasForcefullyClosed=!0}).catch(r=>super.destroy(r))}destroy(r){if(!this.aggregatedStore){super.destroy(r);return}this.getLinkQueue().then(e=>{r??this.isCloseable(e,!1)?(this.aggregatedStore&&setTimeout(()=>this.aggregatedStore.end()),super.destroy(r)):this.wasForcefullyClosed=!0}).catch(e=>super.destroy(e))}isCloseable(r,e){return(e?r.isEmpty():this.wasForcefullyClosed||r.isEmpty())&&!this.areIteratorsRunning()}canStartNewIterator(){return!this.wasForcefullyClosed&&this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||super.canStartNewIterator()}canStartNewIteratorConsiderReadable(){return!this.aggregatedStore}isRunning(){return this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||!this.done}getLinkQueue(){return this.linkQueue||(this.linkQueue=this.mediatorRdfResolveHypermediaLinksQueue.mediate({firstUrl:this.firstUrl,context:this.context}).then(r=>r.linkQueue)),this.linkQueue}async getSourceLinks(r,e){try{const{links:i}=await this.mediatorRdfResolveHypermediaLinks.mediate({context:this.context,metadata:r}),o=this.context.get(a.KeysStatistics.discoveredLinks);if(o)for(const c of i)o.updateStatistic({url:c.url,metadata:{...c.metadata}},e.link);return i.filter(c=>this.handledUrls[c.url]?!1:(this.handledUrls[c.url]=!0,!0))}catch{return[]}}startIterator(r){var e;if(this.aggregatedStore&&!this.aggregatedStore.containedSources.has(r.link.url)){(e=this.aggregatedStore)==null||e.containedSources.add(r.link.url);const i=r.source.queryBindings(this.algebraFactory.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g")),this.context.set(a.KeysQueryOperation.unionDefaultGraph,!0)).map(o=>this.dataFactory.quad(o.get("s"),o.get("p"),o.get("o"),o.get("g")));this.aggregatedStore.import(i).on("end",()=>{super.startIterator(r)})}else super.startIterator(r)}async accumulateMetadata(r,e){return(await this.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:r,appendingMetadata:e,context:this.context})).metadata}updateMetadata(r){var e;super.updateMetadata(r),(e=this.aggregatedStore)==null||e.setBaseMetadata(r,!0)}};return z3.MediatedLinkedRdfSourcesAsyncRdfIterator=u,z3}var J3={},Jd={},K3={},Dee;function Pee(){if(Dee)return K3;Dee=1,Object.defineProperty(K3,"__esModule",{value:!0}),K3.PendingStreamsIndex=void 0;const a=Bt(),t=Rr();let u=class jf{constructor(){this.indexedStreams=new Map,this.allStreams=[]}termToString(r){return r&&r.termType!=="Variable"?(0,a.termToString)(r):jf.ID_VARIABLE}addPatternListener(r,e,i,o,c){this.allStreams.push(r);const s=`${this.termToString(e)}${jf.ID_SEPARATOR}${this.termToString(i)}${jf.ID_SEPARATOR}${this.termToString(o)}${jf.ID_SEPARATOR}${this.termToString(c)}`;let l=this.indexedStreams.get(s);l||(l=[],this.indexedStreams.set(s,l)),l.push(r)}getPendingStreamsForQuad(r){let e=[(0,t.getTerms)(r).map(o=>(0,a.termToString)(o))];for(let o=0;o<t.QUAD_TERM_NAMES.length;o++){const c=e;e=[];for(const s of c){e.push(s);const l=[...s];l[o]=jf.ID_VARIABLE,e.push(l)}}const i=[];for(const o of e){const c=this.indexedStreams.get(o.join(jf.ID_SEPARATOR));c&&i.push(...c)}return i}};return u.ID_VARIABLE="?",u.ID_SEPARATOR=":",K3.PendingStreamsIndex=u,K3}var Yn={},Lee;function yve(){if(Lee)return Yn;Lee=1;var a=Yn&&Yn.__asyncValues||function(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=o[Symbol.asyncIterator],s;return c?c.call(o):(o=typeof __values=="function"?__values(o):o[Symbol.iterator](),s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s);function l(d){s[d]=o[d]&&function(h){return new Promise(function(p,b){h=o[d](h),f(p,b,h.done,h.value)})}}function f(d,h,p,b){Promise.resolve(b).then(function(m){d({value:m,done:p})},h)}},t=Yn&&Yn.__await||function(o){return this instanceof t?(this.v=o,this):new t(o)},u=Yn&&Yn.__asyncGenerator||function(o,c,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=s.apply(o,c||[]),f,d=[];return f={},h("next"),h("throw"),h("return"),f[Symbol.asyncIterator]=function(){return this},f;function h(_){l[_]&&(f[_]=function(v){return new Promise(function(T,w){d.push([_,v,T,w])>1||p(_,v)})})}function p(_,v){try{b(l[_](v))}catch(T){g(d[0][3],T)}}function b(_){_.value instanceof t?Promise.resolve(_.value.v).then(m,y):g(d[0][2],_)}function m(_){p("next",_)}function y(_){p("throw",_)}function g(_,v){_(v),d.shift(),d.length&&p(d[0][0],d[0][1])}};Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.StreamingStore=void 0;const n=da,r=Mt(),e=Pee();let i=class bie{constructor(c=new n.Store){this.pendingStreams=new e.PendingStreamsIndex,this.ended=!1,this.store=c}end(){this.ended=!0;for(const c of this.pendingStreams.allStreams)c.push(null)}importToListeners(c){c.on("data",s=>{if(!this.ended&&!this.store.countQuads(s.subject,s.predicate,s.object,s.graph))for(const l of this.pendingStreams.getPendingStreamsForQuad(s))l.isInitialized&&(l.push(s),l.emit("quad",s))})}static concatStreams(c){return u(this,arguments,function*(){var l,f,d,h;for(const y of c)try{for(var p=!0,b=(f=void 0,a(y)),m;m=yield t(b.next()),l=m.done,!l;){h=m.value,p=!1;try{yield yield t(h)}finally{p=!0}}}catch(g){f={error:g}}finally{try{!p&&!l&&(d=b.return)&&(yield t(d.call(b)))}finally{if(f)throw f.error}}})}import(c){if(this.ended)throw new Error("Attempted to import into an ended StreamingStore");return this.importToListeners(c),this.store.import(c)}match(c,s,l,f){const d=this.store.match(c,s,l,f);let h=d;if(!this.ended){const p=new r.PassThrough({objectMode:!0});this.pendingStreams.addPatternListener(p,c,s,l,f),h=r.Readable.from(bie.concatStreams([d,p])),h._pipeSource=d;const b=d._read;d._read=m=>{p.isInitialized=!0,b.call(d,m)}}return h}getStore(){return this.store}};return Yn.StreamingStore=i,Yn}var jee;function bve(){return jee||(jee=1,function(a){var t=Jd&&Jd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Jd&&Jd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Pee(),a),u(yve(),a)}(Jd)),Jd}var Mee;function _ve(){if(Mee)return J3;Mee=1,Object.defineProperty(J3,"__esModule",{value:!0}),J3.StreamingStoreMetadata=void 0;const a=ba(),t=Or(),u=bve();let n=class extends u.StreamingStore{constructor(e,i){super(e),this.started=!1,this.containedSources=new Set,this.runningIterators=new Set,this.iteratorCreatedListeners=new Set,this.baseMetadata={state:new t.MetadataValidationState,cardinality:{type:"exact",value:0},variables:[]},this.metadataAccumulator=i}import(e){return this.ended||super.import(e),e}hasRunningIterators(){return this.runningIterators.size>0}match(e,i,o,c){const s=super.match(e,i,o,c),l=new a.ClosableTransformIterator(s,{autoStart:!1,onClose:()=>{this.runningIterators.delete(l)}});let f=this.getStore().countQuads(e,i,o,c);const d={state:new t.MetadataValidationState,cardinality:{type:"estimate",value:f}};l.setProperty("metadata",d),l.setProperty("lastCount",f),s.on("quad",()=>{l.setProperty("lastCount",++f),this.updateMetadataState(l,f)}),this.runningIterators.add(l);for(const h of this.iteratorCreatedListeners)h();return l}setBaseMetadata(e,i){if(this.baseMetadata={...e},this.baseMetadata.cardinality={type:"exact",value:0},i)for(const o of this.runningIterators){const c=o.getProperty("lastCount");this.updateMetadataState(o,c)}}updateMetadataState(e,i){const o={state:new t.MetadataValidationState,cardinality:{type:"estimate",value:i},variables:[]};this.metadataAccumulator(this.baseMetadata,o).then(c=>{c.state=new t.MetadataValidationState;const s=e.getProperty("metadata");e.setProperty("metadata",c),s==null||s.state.invalidate()}).catch(()=>{})}addIteratorCreatedListener(e){this.iteratorCreatedListeners.add(e)}removeIteratorCreatedListener(e){this.iteratorCreatedListeners.delete(e)}};return J3.StreamingStoreMetadata=n,J3}var qee;function Cee(){if(qee)return k3;qee=1,Object.defineProperty(k3,"__esModule",{value:!0}),k3.QuerySourceHypermedia=void 0;const a=KN(),t=ke(),u=gt(),n=nh(),r=Mt(),e=bt(),i=pve(),o=_ve();let c=class{constructor(l,f,d,h,p,b,m,y,g){this.referenceValue=f,this.cacheSize=l,this.firstUrl=f,this.forceSourceType=d,this.maxIterators=h,this.mediators=b,this.aggregateStore=p,this.logWarning=m,this.dataFactory=y,this.bindingsFactory=g,this.sourcesState=new n.LRUCache({max:this.cacheSize})}async getSelectorShape(l){return(await this.getSourceCached({url:this.firstUrl},{},l,this.getAggregateStore(l))).source.getSelectorShape(l)}queryBindings(l,f,d){const h=this.getAggregateStore(f);if(h&&l.type==="pattern"&&h.started)return new a.QuerySourceRdfJs(h,f.getSafe(t.KeysInitQuery.dataFactory),this.bindingsFactory).queryBindings(l,f);this.sourcesState.size===0&&this.getSourceCached({url:this.firstUrl},{},f,h).catch(y=>m.destroy(y));const p=f.getSafe(t.KeysInitQuery.dataFactory),b=new e.Factory(p),m=new i.MediatedLinkedRdfSourcesAsyncRdfIterator(this.cacheSize,l,d,f,this.forceSourceType,this.firstUrl,this.maxIterators,(y,g)=>this.getSourceCached(y,g,f,h),h,this.mediators.mediatorMetadataAccumulate,this.mediators.mediatorRdfResolveHypermediaLinks,this.mediators.mediatorRdfResolveHypermediaLinksQueue,p,b);if(h){h.started=!0;const y=()=>m.kickstart();h.addIteratorCreatedListener(y),m.on("end",()=>h.removeIteratorCreatedListener(y))}return m}queryQuads(l,f){return new u.TransformIterator(async()=>(await this.getSourceCached({url:this.firstUrl},{},f,this.getAggregateStore(f))).source.queryQuads(l,f))}async queryBoolean(l,f){return await(await this.getSourceCached({url:this.firstUrl},{},f,this.getAggregateStore(f))).source.queryBoolean(l,f)}async queryVoid(l,f){return await(await this.getSourceCached({url:this.firstUrl},{},f,this.getAggregateStore(f))).source.queryVoid(l,f)}async getSource(l,f,d,h){var _;l.context&&(d=d.merge(l.context));let p=l.url,b,m;try{const v=await this.mediators.mediatorDereferenceRdf.mediate({context:d,url:p});p=v.url;const T=await this.mediators.mediatorMetadata.mediate({context:d,url:p,quads:v.data,triples:(_=v.metadata)==null?void 0:_.triples});T.data.on("error",()=>{}),m=(await this.mediators.mediatorMetadataExtract.mediate({context:d,url:p,metadata:T.metadata,headers:v.headers,requestTime:v.requestTime})).metadata,b=T.data,l.transform&&(b=await l.transform(b))}catch(v){b=new r.Readable,b.read=()=>(setTimeout(()=>b.emit("error",v)),null),{metadata:m}=await this.mediators.mediatorMetadataAccumulate.mediate({context:d,mode:"initialize"}),this.logWarning(`Metadata extraction for ${p} failed: ${v.message}`)}h==null||h.setBaseMetadata(m,!1),h==null||h.containedSources.add(l.url),h==null||h.import(b);const{source:y,dataset:g}=await this.mediators.mediatorQuerySourceIdentifyHypermedia.mediate({context:d,forceSourceType:l.url===this.firstUrl?this.forceSourceType:void 0,handledDatasets:f,metadata:m,quads:b,url:p});return g&&(f[g]=!0),{link:l,source:y,metadata:m,handledDatasets:f}}getSourceCached(l,f,d,h){let p=this.sourcesState.get(l.url);return p||(p=this.getSource(l,f,d,h),(l.url===this.firstUrl||h===void 0)&&this.sourcesState.set(l.url,p),p)}getAggregateStore(l){let f;if(this.aggregateStore){const d=l.get(t.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores);if(d)return f=d.get(this.firstUrl),f||(f=new o.StreamingStoreMetadata(void 0,async(h,p)=>(await this.mediators.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:h,appendingMetadata:p,context:l})).metadata),d.set(this.firstUrl,f)),f}}toString(){return`QuerySourceHypermedia(${this.firstUrl})`}};return k3.QuerySourceHypermedia=c,k3}var Bee;function mve(){if(Bee)return G3;Bee=1,Object.defineProperty(G3,"__esModule",{value:!0}),G3.ActorQuerySourceIdentifyHypermedia=void 0;const a=e3(),t=ke(),u=Te(),n=kt(),r=Cee();let e=class extends a.ActorQuerySourceIdentify{constructor(o){super(o)}async test(o){return typeof o.querySourceUnidentified.value!="string"?(0,u.failTest)(`${this.name} requires a single query source with a URL value to be present in the context.`):(0,u.passTestVoid)()}async run(o){var s;const c=o.context.getSafe(t.KeysInitQuery.dataFactory);return{querySource:{source:new r.QuerySourceHypermedia(this.cacheSize,o.querySourceUnidentified.value,o.querySourceUnidentified.type,this.maxIterators,this.aggregateTraversalStore&&!!((s=o.querySourceUnidentified.context)!=null&&s.get(t.KeysQuerySourceIdentify.traverse)),{mediatorMetadata:this.mediatorMetadata,mediatorMetadataExtract:this.mediatorMetadataExtract,mediatorMetadataAccumulate:this.mediatorMetadataAccumulate,mediatorDereferenceRdf:this.mediatorDereferenceRdf,mediatorQuerySourceIdentifyHypermedia:this.mediatorQuerySourceIdentifyHypermedia,mediatorRdfResolveHypermediaLinks:this.mediatorRdfResolveHypermediaLinks,mediatorRdfResolveHypermediaLinksQueue:this.mediatorRdfResolveHypermediaLinksQueue},l=>this.logWarn(o.context,l),c,await n.BindingsFactory.create(this.mediatorMergeBindingsContext,o.context,c)),context:o.querySourceUnidentified.context??new u.ActionContext}}}};return G3.ActorQuerySourceIdentifyHypermedia=e,G3}var $ee;function gve(){return $ee||($ee=1,function(a){var t=Xd&&Xd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Xd&&Xd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(mve(),a),u(Cee(),a)}(Xd)),Xd}var Kd={},W3={},Vee;function vve(){if(Vee)return W3;Vee=1,Object.defineProperty(W3,"__esModule",{value:!0}),W3.ActorRdfJoinNone=void 0;const a=en(),t=ke(),u=Te(),n=kt(),r=Or(),e=gt();let i=class extends a.ActorRdfJoin{constructor(c){super(c,{logicalType:"inner",physicalName:"none",limitEntries:0})}async test(c){return c.entries.length>0?(0,u.failTest)(`Actor ${this.name} can only join zero entries`):await this.getJoinCoefficients(c,void 0)}async getOutput(c){const s=c.context.getSafe(t.KeysInitQuery.dataFactory),l=await n.BindingsFactory.create(this.mediatorMergeBindingsContext,c.context,s);return{result:{bindingsStream:new e.ArrayIterator([l.bindings()],{autoStart:!1}),metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]}),type:"bindings"}}}async getJoinCoefficients(c,s){return(0,u.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},s)}};return W3.ActorRdfJoinNone=i,W3}var Uee;function Tve(){return Uee||(Uee=1,function(a){var t=Kd&&Kd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Kd&&Kd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(vve(),a)}(Kd)),Kd}var Wd={},Y3={},Yd={},Z3={},Qee;function wve(){if(Qee)return Z3;Qee=1,Object.defineProperty(Z3,"__esModule",{value:!0}),Z3.ActorRdfJoinMultiBind=void 0;const a=en(),t=ke(),u=Te(),n=kt(),r=St(),e=gt(),i=bt();let o=class _ie extends a.ActorRdfJoin{constructor(s){super(s,{logicalType:"inner",physicalName:"bind",canHandleUndefs:!0,isLeaf:!1})}static createBindStream(s,l,f,d,h,p,b){const m=s==="depth-first",y=g=>{const _=f.map(T=>(0,r.materializeOperation)(T,g,p,b,{bindFilter:!0})),v=T=>T.merge(g);return new e.TransformIterator(async()=>(await d(_,g)).transform({map:v}),{maxBufferSize:128,autoStart:m})};switch(s){case"depth-first":return new e.MultiTransformIterator(l,{autoStart:!1,multiTransform:y,optional:h});case"breadth-first":return new e.UnionIterator(l.transform({map:y,optional:h}),{autoStart:!1});default:throw new Error(`Received request for unknown bind order: ${s}`)}}async getOutput(s,l){const f=s.context.getSafe(t.KeysInitQuery.dataFactory),d=new i.Factory(f),h=await n.BindingsFactory.create(this.mediatorMergeBindingsContext,s.context,f),p=l.entriesSorted;this.logDebug(s.context,"First entry for Bind Join: ",()=>({entry:p[0].operation,metadata:p[0].metadata}));for(const[_,v]of p.entries())_!==0&&v.output.bindingsStream.close();const b=p[0].output,m=[...p];m.splice(0,1);const y=s.context.set(t.KeysQueryOperation.joinLeftMetadata,p[0].metadata).set(t.KeysQueryOperation.joinRightMetadatas,m.map(_=>_.metadata));return{result:{type:"bindings",bindingsStream:_ie.createBindStream(this.bindOrder,b.bindingsStream,m.map(_=>_.operation),async(_,v)=>{const T=_.length===1?_[0]:d.createJoin(_);return(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:T,context:y==null?void 0:y.set(t.KeysQueryOperation.joinBindings,v)})).bindingsStream},!1,d,h),metadata:()=>this.constructResultMetadata(p,p.map(_=>_.metadata),s.context)},physicalPlanMetadata:{bindIndex:l.entriesUnsorted.indexOf(p[0]),bindOperation:p[0].operation,bindOperationCardinality:p[0].metadata.cardinality,bindOrder:this.bindOrder}}}canBindWithOperation(s){let l=!0;return i.Util.recurseOperation(s,{[i.Algebra.types.EXTEND](){return l=!1,!1},[i.Algebra.types.GROUP](){return l=!1,!1}}),l}async getJoinCoefficients(s,l){let{metadatas:f}=l;const d=s.entries.map((F,O)=>({...F,metadata:f[O]})),h=await a.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,d,s.context);if(h.isFailed())return h;const p=h.get();f=p.map(F=>F.metadata);const b=a.ActorRdfJoin.getRequestInitialTimes(f),m=a.ActorRdfJoin.getRequestItemTimes(f),y=[...p],g=[...b],_=[...m];if(y.splice(0,1),g.splice(0,1),_.splice(0,1),y.some(F=>!this.canBindWithOperation(F.operation)))return(0,u.failTest)(`Actor ${this.name} can not bind on Extend and Group operations`);if(y.some(F=>F.operationModified))return(0,u.failTest)(`Actor ${this.name} can not be used over remaining entries with modified operations`);const v=m.some(F=>F>0);if(f[0].cardinality.value*this.minMaxCardinalityRatio/(v?1:3)>Math.max(...f.map(F=>F.cardinality.value)))return(0,u.failTest)(`Actor ${this.name} can only run if the smallest stream is much smaller than largest stream`);const T=await Promise.all(y.map(async F=>(await this.mediatorJoinSelectivity.mediate({entries:[p[0],F],context:s.context})).selectivity*this.selectivityModifier)),w=y.map((F,O)=>F.metadata.cardinality.value*T[O]).reduce((F,O)=>F+O,0),A=g.reduce((F,O)=>F+O,0),M=_.reduce((F,O)=>F+O,0);return(0,u.passTestWithSideData)({iterations:f[0].cardinality.value*w,persistedItems:0,blockingItems:0,requestTime:b[0]+f[0].cardinality.value*(m[0]+A+w*M)},{...l,entriesUnsorted:d,entriesSorted:p})}};return Z3.ActorRdfJoinMultiBind=o,Z3}var Hee;function Gee(){return Hee||(Hee=1,function(a){var t=Yd&&Yd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Yd&&Yd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(wve(),a)}(Yd)),Yd}var kee;function Sve(){if(kee)return Y3;kee=1,Object.defineProperty(Y3,"__esModule",{value:!0}),Y3.ActorRdfJoinOptionalBind=void 0;const a=Gee(),t=en(),u=ke(),n=Te(),r=kt(),e=St(),i=bt();let o=class extends t.ActorRdfJoin{constructor(s){super(s,{logicalType:"optional",physicalName:"bind",limitEntries:2,canHandleUndefs:!0,isLeaf:!1,requiresVariableOverlap:!0})}async getOutput(s){const l=s.context.getSafe(u.KeysInitQuery.dataFactory),f=new i.Factory(l),d=await r.BindingsFactory.create(this.mediatorMergeBindingsContext,s.context,l);s.entries[1].output.bindingsStream.close();const h=s.context.set(u.KeysQueryOperation.joinLeftMetadata,await s.entries[0].output.metadata()).set(u.KeysQueryOperation.joinRightMetadatas,[await s.entries[1].output.metadata()]);return{result:{type:"bindings",bindingsStream:a.ActorRdfJoinMultiBind.createBindStream(this.bindOrder,s.entries[0].output.bindingsStream,[s.entries[1].operation],async(b,m)=>{const y=b[0];return(0,e.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:y,context:h==null?void 0:h.set(u.KeysQueryOperation.joinBindings,m)})).bindingsStream},!0,f,d),metadata:async()=>await this.constructResultMetadata(s.entries,await t.ActorRdfJoin.getMetadatas(s.entries),s.context,{},!0)}}}async getJoinCoefficients(s,l){const{metadatas:f}=l,d=t.ActorRdfJoin.getRequestInitialTimes(f),h=t.ActorRdfJoin.getRequestItemTimes(f);if(s.entries[1].operation.type===i.Algebra.types.EXTEND||s.entries[1].operation.type===i.Algebra.types.GROUP)return(0,n.failTest)(`Actor ${this.name} can not bind on Extend and Group operations`);const p=(await this.mediatorJoinSelectivity.mediate({entries:s.entries,context:s.context})).selectivity*this.selectivityModifier;return(0,n.passTestWithSideData)({iterations:f[0].cardinality.value*f[1].cardinality.value*p,persistedItems:0,blockingItems:0,requestTime:d[0]+f[0].cardinality.value*(h[0]+d[1]+p*f[1].cardinality.value*h[1])},l)}};return Y3.ActorRdfJoinOptionalBind=o,Y3}var zee;function Ove(){return zee||(zee=1,function(a){var t=Wd&&Wd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Wd&&Wd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Sve(),a)}(Wd)),Wd}var Zd={},eS={},ef={},tS={},Xee;function Ave(){if(Xee)return tS;Xee=1,Object.defineProperty(tS,"__esModule",{value:!0}),tS.ActorTermComparatorFactory=void 0;const a=Te();let t=class extends a.Actor{constructor(n){super(n),this.mediatorQueryOperation=n.mediatorQueryOperation,this.mediatorFunctionFactory=n.mediatorFunctionFactory,this.mediatorMergeBindingsContext=n.mediatorMergeBindingsContext}};return tS.ActorTermComparatorFactory=t,tS}var Jee;function Eve(){return Jee||(Jee=1,function(a){var t=ef&&ef.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ef&&ef.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Ave(),a)}(ef)),ef}var rS={},Kee;function xve(){if(Kee)return rS;Kee=1,Object.defineProperty(rS,"__esModule",{value:!0}),rS.TermComparatorExpressionEvaluator=void 0;let a=class{constructor(u,n,r){this.internalEvaluator=u,this.equalityFunction=n,this.lessThanFunction=r,this._TERM_ORDERING_PRIORITY={Variable:0,BlankNode:1,NamedNode:2,Literal:3,Quad:4,DefaultGraph:5}}orderTypes(u,n){if(u===n)return 0;if(u===void 0)return-1;if(n===void 0)return 1;if(u.termType!==n.termType)return this._TERM_ORDERING_PRIORITY[u.termType]<this._TERM_ORDERING_PRIORITY[n.termType]?-1:1;if(u.equals(n))return 0;if(u.termType==="Quad"&&n.termType==="Quad"){const r=this.orderTypes(u.subject,n.subject);if(r!==0)return r;const e=this.orderTypes(u.predicate,n.predicate);if(e!==0)return e;const i=this.orderTypes(u.object,n.object);return i!==0?i:this.orderTypes(u.graph,n.graph)}return u.termType==="Literal"?this.orderLiteralTypes(u,n):this.comparePrimitives(u.value,n.value)}orderLiteralTypes(u,n){const r=this.internalEvaluator.transformer.transformLiteral(u),e=this.internalEvaluator.transformer.transformLiteral(n);try{return this.equalityFunction.applyOnTerms([r,e],this.internalEvaluator).typedValue?0:this.lessThanFunction.applyOnTerms([r,e],this.internalEvaluator).typedValue?-1:1}catch{const i=this.comparePrimitives(r.dataType,e.dataType);return i!==0?i:this.comparePrimitives(r.str(),e.str())}}comparePrimitives(u,n){return u===n?0:u<n?-1:1}};return rS.TermComparatorExpressionEvaluator=a,rS}var Wee;function Ive(){if(Wee)return eS;Wee=1,Object.defineProperty(eS,"__esModule",{value:!0}),eS.ActorTermComparatorFactoryExpressionEvaluator=void 0;const a=aee(),t=Eve(),u=ke(),n=Te(),r=kt(),e=Ae(),i=xve();let o=class extends t.ActorTermComparatorFactory{async test(s){return(0,n.passTestVoid)()}async run({context:s}){return s=e.prepareEvaluatorActionContext(s),new i.TermComparatorExpressionEvaluator(new a.InternalEvaluator(s,this.mediatorFunctionFactory,this.mediatorQueryOperation,await r.BindingsFactory.create(this.mediatorMergeBindingsContext,s,s.getSafe(u.KeysInitQuery.dataFactory))),await this.mediatorFunctionFactory.mediate({functionName:e.SparqlOperator.EQUAL,context:s,requireTermExpression:!0}),await this.mediatorFunctionFactory.mediate({functionName:e.SparqlOperator.LT,context:s,requireTermExpression:!0}))}};return eS.ActorTermComparatorFactoryExpressionEvaluator=o,eS}var Yee;function Rve(){return Yee||(Yee=1,function(a){var t=Zd&&Zd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=Zd&&Zd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Ive(),a)}(Zd)),Zd}var tf={},nS={},Zee;function Nve(){if(Zee)return nS;Zee=1,Object.defineProperty(nS,"__esModule",{value:!0}),nS.ActorRdfJoinMultiSmallestFilterBindings=void 0;const a=en(),t=ke(),u=Te(),n=kt(),r=ba(),e=St(),i=gt(),o=bt();let c=class extends a.ActorRdfJoin{constructor(l){super(l,{logicalType:"inner",physicalName:"multi-smallest-filter-bindings",limitEntries:2,limitEntriesMin:!0,isLeaf:!1})}async sortJoinEntries(l,f){let{entries:d}=await this.mediatorJoinEntriesSort.mediate({entries:l,context:f});d=d.sort((g,_)=>g.operationModified&&!_.operationModified?-1:0);const h=d.splice(0,1)[0];let p,b=-1,m=0;for(const[g,_]of d.entries()){const v=h.metadata.variables.filter(T=>_.metadata.variables.some(w=>T.variable.equals(w.variable))).length;(!p||v>m||v===m&&(_.metadata.variables.length<p.metadata.variables.length||_.metadata.variables.length===p.metadata.variables.length&&_.metadata.cardinality.value<p.metadata.cardinality.value))&&(p=_,b=g,m=v)}if(m===0)return(0,u.failTest)(`Actor ${this.name} can only join with common variables`);const y=d;return y.splice(b,1),(0,u.passTest)({first:h,second:p,remaining:y})}async getOutput(l){const f=l.context.getSafe(t.KeysInitQuery.dataFactory),d=new o.Factory(f),h=await a.ActorRdfJoin.getEntriesWithMetadatas([...l.entries]),{first:p,second:b,remaining:m}=(await this.sortJoinEntries(h,l.context)).getOrThrow(),y=p.output.bindingsStream;p.output.bindingsStream=y.clone();const g=p.metadata.variables.filter(E=>b.metadata.variables.some(x=>E.variable.equals(x.variable))),_={},v=y.clone().map(E=>E.filter((x,L)=>g.some(V=>V.variable.equals(L)))).filter(E=>{const x=(0,n.bindingsToString)(E);return!(x in _)&&(_[x]=!0)}),T=new r.ChunkedIterator(v,this.blockSize,{autoStart:!1}),w=(0,e.getOperationSource)(b.operation),M={output:{type:"bindings",bindingsStream:new i.UnionIterator(T.map(E=>w.source.queryBindings(b.operation,w.context?l.context.merge(w.context):l.context,{filterBindings:{bindings:E,metadata:p.metadata}}))),metadata:b.output.metadata},operation:b.operation,operationModified:!0};b.output.bindingsStream.destroy();const F={output:(0,e.getSafeBindings)(await this.mediatorJoin.mediate({type:l.type,entries:[p,M],context:l.context.set(t.KeysRdfJoin.lastPhysicalJoin,this.physicalName)})),operation:d.createJoin([p.operation,M.operation],!1),operationModified:!0},O=m;return O.unshift(F),{result:await this.mediatorJoin.mediate({type:l.type,entries:O,context:l.context}),physicalPlanMetadata:{firstIndex:h.indexOf(p),secondIndex:h.indexOf(b)}}}async getJoinCoefficients(l,f){let{metadatas:d}=f;if(l.context.get(t.KeysRdfJoin.lastPhysicalJoin)===this.physicalName)return(0,u.failTest)(`Actor ${this.name} can not be called recursively`);d=[...d];const h=await this.sortJoinEntries(l.entries.map((M,F)=>({...M,metadata:d[F]})),l.context);if(h.isFailed())return h;const{first:p,second:b,remaining:m}=h.get(),y=(0,e.getOperationSource)(b.operation);if(!y)return(0,u.failTest)(`Actor ${this.name} can only process if entries[1] has a source`);const g=b.operation,_=await y.source.getSelectorShape(l.context);if(!(0,e.doesShapeAcceptOperation)(_,g,{filterBindings:!0}))return(0,u.failTest)(`Actor ${this.name} can only process if entries[1] accept filterBindings`);d=[p.metadata,b.metadata,...m.map(M=>M.metadata)];const v=a.ActorRdfJoin.getRequestInitialTimes(d),T=a.ActorRdfJoin.getRequestItemTimes(d),{selectivity:w}=await this.mediatorJoinSelectivity.mediate({entries:[p,b],context:l.context}),A=m.reduce((M,F)=>M*F.metadata.cardinality.value*this.selectivityModifier,1);return(0,u.passTestWithSideData)({iterations:w*this.selectivityModifier*b.metadata.cardinality.value*A,persistedItems:p.metadata.cardinality.value,blockingItems:p.metadata.cardinality.value,requestTime:v[0]+d[0].cardinality.value*T[0]+v[1]+A*T[1]},f)}};return nS.ActorRdfJoinMultiSmallestFilterBindings=c,nS}var ete;function Fve(){return ete||(ete=1,function(a){var t=tf&&tf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=tf&&tf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Nve(),a)}(tf)),tf}var rf={},iS={},tte;function Dve(){if(tte)return iS;tte=1,Object.defineProperty(iS,"__esModule",{value:!0}),iS.ActorQueryProcessExplainParsed=void 0;const a=FA(),t=ke(),u=Te();let n=class extends a.ActorQueryProcess{constructor(e){super(e)}async test(e){return(e.context.get(t.KeysInitQuery.explain)??e.context.get(new u.ActionContextKey("explain")))!=="parsed"?(0,u.failTest)(`${this.name} can only explain in 'parsed' mode.`):(0,u.passTestVoid)()}async run(e){const{operation:i}=await this.queryProcessor.parse(e.query,e.context);return{result:{explain:!0,type:"parsed",data:i}}}};return iS.ActorQueryProcessExplainParsed=n,iS}var rte;function Pve(){return rte||(rte=1,function(a){var t=rf&&rf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=rf&&rf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Dve(),a)}(rf)),rf}var nf={},aS={},nte;function Lve(){if(nte)return aS;nte=1,Object.defineProperty(aS,"__esModule",{value:!0}),aS.ActorQueryProcessExplainLogical=void 0;const a=FA(),t=ke(),u=Te();let n=class extends a.ActorQueryProcess{constructor(e){super(e)}async test(e){return(e.context.get(t.KeysInitQuery.explain)??e.context.get(new u.ActionContextKey("explain")))!=="logical"?(0,u.failTest)(`${this.name} can only explain in 'logical' mode.`):(0,u.passTestVoid)()}async run(e){let{operation:i,context:o}=await this.queryProcessor.parse(e.query,e.context);return{operation:i,context:o}=await this.queryProcessor.optimize(i,o),{result:{explain:!0,type:"logical",data:i}}}};return aS.ActorQueryProcessExplainLogical=n,aS}var ite;function jve(){return ite||(ite=1,function(a){var t=nf&&nf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=nf&&nf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Lve(),a)}(nf)),nf}var af={},uS={},uf={},ate;function ute(){if(ate)return uf;ate=1,Object.defineProperty(uf,"__esModule",{value:!0}),uf.numberToString=uf.MemoryPhysicalQueryPlanLogger=void 0;const a=Bt();let t=class{constructor(){this.planNodes=new Map}logOperation(r,e,i,o,c,s){const l={actor:c,logicalOperator:r,physicalOperator:e,rawNode:i,children:[],metadata:s};if(this.planNodes.set(i,l),this.rootNode){if(!o)throw new Error("Detected more than one parent-less node");const f=this.planNodes.get(o);if(!f)throw new Error("Could not find parent node");f.children.push(l)}else{if(o)throw new Error("No root node has been set yet, while a parent is being referenced");this.rootNode=l}}stashChildren(r,e){const i=this.planNodes.get(r);if(!i)throw new Error("Could not find plan node");i.children=e?i.children.filter(e):[]}unstashChild(r,e){const i=this.planNodes.get(r);if(i){const o=this.planNodes.get(e);if(!o)throw new Error("Could not find plan parent node");o.children.push(i)}}appendMetadata(r,e){const i=this.planNodes.get(r);i&&(i.metadata={...i.metadata,...e})}toJson(){return this.rootNode?this.planNodeToJson(this.rootNode):{}}planNodeToJson(r){var i;const e={logical:r.logicalOperator,physical:r.physicalOperator,...this.getLogicalMetadata(r.rawNode),...this.compactMetadata(r.metadata)};if(r.children.length>0&&(e.children=r.children.map(o=>this.planNodeToJson(o))),e.physical==="bind"&&e.children){const o={};for(const s of e.children){const l=((i=s.children)==null?void 0:i.at(-1))??s,f=this.getPlanHash(l).join(",");o[f]||(o[f]=[]),o[f].push(s)}const c=[];for(const s of Object.values(o))c.push({occurrences:s.length,firstOccurrence:s[0]});e.childrenCompact=c,delete e.children}return e}getPlanHash(r){let e=[`${r.logical}-${r.physical}`];return r.children?e=[...e,...r.children.flatMap(i=>this.getPlanHash(i))]:r.childrenCompact&&(e=[...e,...r.childrenCompact.flatMap(i=>this.getPlanHash(i.firstOccurrence))]),e}compactMetadata(r){return Object.fromEntries(Object.entries(r).map(([e,i])=>[e,this.compactMetadataValue(i)]))}compactMetadataValue(r){return r&&typeof r=="object"&&"termType"in r?this.getLogicalMetadata(r):r}getLogicalMetadata(r){var i;const e={};if("type"in r){const o=r;switch((i=o.metadata)!=null&&i.scopedSource&&(e.source=o.metadata.scopedSource.source.toString()),o.type){case"pattern":e.pattern=this.quadToString(o);break;case"project":e.variables=o.variables.map(c=>c.value);break}}return e}quadToString(r){return`${(0,a.termToString)(r.subject)} ${(0,a.termToString)(r.predicate)} ${(0,a.termToString)(r.object)}${r.graph.termType==="DefaultGraph"?"":` ${(0,a.termToString)(r.graph)}`}`}toCompactString(){const r=this.toJson(),e=[],i=new Map;if("logical"in r?this.nodeToCompactString(e,i,"",r):e.push("Empty"),i.size>0){e.push(""),e.push("sources:");for(const[o,c]of i.entries())e.push(`  ${c}: ${o}`)}return e.join(`
`)}nodeToCompactString(r,e,i,o,c){let s;o.source&&(s=e.get(o.source),s===void 0&&(s=e.size,e.set(o.source,s))),r.push(`${i}${o.logical}${o.physical?`(${o.physical})`:""}${o.pattern?` (${o.pattern})`:""}${o.variables?` (${o.variables.join(",")})`:""}${o.bindOperation?` bindOperation:(${o.bindOperation.pattern}) bindCardEst:${o.bindOperationCardinality.type==="estimate"?"~":""}${u(o.bindOperationCardinality.value)}`:""}${o.cardinality?` cardEst:${o.cardinality.type==="estimate"?"~":""}${u(o.cardinality.value)}`:""}${o.source?` src:${s}`:""}${o.cardinalityReal?` cardReal:${o.cardinalityReal}`:""}${o.timeSelf?` timeSelf:${u(o.timeSelf)}ms`:""}${o.timeLife?` timeLife:${u(o.timeLife)}ms`:""}${c?` ${c}`:""}`);for(const l of o.children??[])this.nodeToCompactString(r,e,`${i}  `,l);for(const l of o.childrenCompact??[])this.nodeToCompactString(r,e,`${i}  `,l.firstOccurrence,`compacted-occurrences:${l.occurrences}`)}};uf.MemoryPhysicalQueryPlanLogger=t;function u(n){return n.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:3})}return uf.numberToString=u,uf}var ote;function Mve(){if(ote)return uS;ote=1,Object.defineProperty(uS,"__esModule",{value:!0}),uS.ActorQueryProcessExplainPhysical=void 0;const a=FA(),t=ke(),u=Te(),n=ute();let r=class extends a.ActorQueryProcess{constructor(i){super(i)}async test(i){const o=i.context.get(t.KeysInitQuery.explain)??i.context.get(new u.ActionContextKey("explain"));return o!=="physical"&&o!=="physical-json"?(0,u.failTest)(`${this.name} can only explain in 'physical' or 'physical-json' mode.`):(0,u.passTestVoid)()}async run(i){let{operation:o,context:c}=await this.queryProcessor.parse(i.query,i.context);({operation:o,context:c}=await this.queryProcessor.optimize(o,c));const s=new n.MemoryPhysicalQueryPlanLogger;c=c.set(t.KeysInitQuery.physicalQueryPlanLogger,s);const l=await this.queryProcessor.evaluate(o,c);switch(l.type){case"bindings":await l.bindingsStream.toArray();break;case"quads":await l.quadStream.toArray();break;case"boolean":await l.execute();break;case"void":await l.execute();break}const f=i.context.get(t.KeysInitQuery.explain)??i.context.getSafe(new u.ActionContextKey("explain"));return{result:{explain:!0,type:f,data:f==="physical"?s.toCompactString():s.toJson()}}}};return uS.ActorQueryProcessExplainPhysical=r,uS}var ste;function qve(){return ste||(ste=1,function(a){var t=af&&af.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=af&&af.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Mve(),a),u(ute(),a)}(af)),af}var of={},oS={},cte;function Cve(){if(cte)return oS;cte=1,Object.defineProperty(oS,"__esModule",{value:!0}),oS.ActorOptimizeQueryOperationPruneEmptySourceOperations=void 0;const a=En(),t=ke(),u=Te(),n=St(),r=bt();let e=class XS extends a.ActorOptimizeQueryOperation{constructor(o){super(o)}async test(o){return(0,n.getOperationSource)(o.operation)?(0,u.failTest)(`Actor ${this.name} does not work with top-level operation sources.`):(0,u.passTestVoid)()}async run(o){const c=o.context.getSafe(t.KeysInitQuery.dataFactory),s=new r.Factory(c);let l=o.operation;const f=[],d=this;r.Util.recurseOperation(l,{[r.Algebra.types.UNION](p){return d.collectMultiOperationInputs(p.input,f,r.Algebra.types.PATTERN),!0},[r.Algebra.types.ALT](p){return d.collectMultiOperationInputs(p.input,f,r.Algebra.types.LINK),!1},[r.Algebra.types.SERVICE](){return!1}});const h=new Set;return await Promise.all(f.map(async p=>{const b=p.type==="link"?s.createPattern(c.variable("?s"),p.iri,c.variable("?o")):p;await this.hasSourceResults(s,(0,n.getOperationSource)(p),b,o.context)||h.add(p)})),h.size>0&&(this.logDebug(o.context,`Pruning ${h.size} source-specific operations`),l=r.Util.mapOperation(l,{[r.Algebra.types.UNION](p,b){return d.mapMultiOperation(p,h,m=>b.createUnion(m))},[r.Algebra.types.ALT](p,b){return d.mapMultiOperation(p,h,m=>b.createAlt(m))}},s),l=r.Util.mapOperation(l,{[r.Algebra.types.PROJECT](p,b){return XS.hasEmptyOperation(p)?{recurse:!1,result:b.createUnion([])}:{recurse:!0,result:p}},[r.Algebra.types.LEFT_JOIN](p){return XS.hasEmptyOperation(p.input[1])?{recurse:!0,result:p.input[0]}:{recurse:!0,result:p}}},s)),{operation:l,context:o.context}}static hasEmptyOperation(o){let c=!1;return r.Util.recurseOperation(o,{[r.Algebra.types.UNION](s){return s.input.every(l=>XS.hasEmptyOperation(l))&&(c=!0),!1},[r.Algebra.types.ALT](s){return s.input.length===0&&(c=!0),!1},[r.Algebra.types.LEFT_JOIN](s){return XS.hasEmptyOperation(s.input[0])&&(c=!0),!1}}),c}collectMultiOperationInputs(o,c,s){for(const l of o)(0,n.getOperationSource)(l)&&l.type===s&&c.push(l)}mapMultiOperation(o,c,s){const l=o.input.filter(f=>!c.has(f));return l.length===o.input.length?{result:o,recurse:!0}:l.length===0?{result:s([]),recurse:!1}:l.length===1?{result:l[0],recurse:!0}:{result:s(l),recurse:!0}}async hasSourceResults(o,c,s,l){var d;if(((d=c.context)==null?void 0:d.get(t.KeysQuerySourceIdentify.traverse))??l.get(t.KeysQuerySourceIdentify.traverse))return!0;if(this.useAskIfSupported){const h=o.createAsk(s);if((0,n.doesShapeAcceptOperation)(await c.source.getSelectorShape(l),h))return c.source.queryBoolean(h,l)}const f=c.source.queryBindings(s,l);return new Promise((h,p)=>{f.on("error",p),f.getProperty("metadata",b=>{f.destroy(),h(b.cardinality.value>0)})})}};return oS.ActorOptimizeQueryOperationPruneEmptySourceOperations=e,oS}var lte;function Bve(){return lte||(lte=1,function(a){var t=of&&of.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=of&&of.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Cve(),a)}(of)),of}var sf={},sS={},dte;function $ve(){if(dte)return sS;dte=1,Object.defineProperty(sS,"__esModule",{value:!0}),sS.ActorHttpRetry=void 0;const a=ya(),t=ke(),u=Te();let n=class Mf extends a.ActorHttp{constructor(e){super(e),this.activeDelays={},this.httpInvalidator=e.httpInvalidator,this.httpInvalidator.addInvalidateListener(i=>this.handleHttpInvalidateEvent(i)),this.mediatorHttp=e.mediatorHttp}async test(e){if(e.context.has(Mf.keyWrapped))return(0,u.failTest)(`${this.name} can only wrap a request once`);const i=e.context.get(t.KeysHttp.httpRetryCount);return!i||i<1?(0,u.failTest)(`${this.name} requires a retry count greater than zero to function`):(0,u.passTest)({time:0})}async run(e){const i=a.ActorHttp.getInputUrl(e.input),o=e.context.getSafe(t.KeysHttp.httpRetryCount)+1,c=e.context.get(t.KeysHttp.httpRetryDelayFallback)??0,s=e.context.get(t.KeysHttp.httpRetryDelayLimit),l=e.context.get(t.KeysHttp.httpRetryStatusCodes);for(let f=1;f<=o;f++){const d=i.host in this.activeDelays?this.activeDelays[i.host].date.getTime()-Date.now():c;if(s&&d>s){this.logWarn(e.context,"Requested delay exceeds the limit",()=>({url:i.href,delay:d,delayDate:this.activeDelays[i.host].date.toISOString(),delayLimit:s,currentAttempt:`${f} / ${o}`}));break}else d>0&&f>1&&(this.logDebug(e.context,"Delaying request",()=>({url:i.href,delay:d,currentAttempt:`${f} / ${o}`})),await Mf.sleep(d));const h=await this.mediatorHttp.mediate({...e,context:e.context.set(Mf.keyWrapped,!0)});if(h.ok)return h;if(l&&l.includes(h.status)){this.logDebug(e.context,"Status code in force retry list, forcing retry",()=>({url:i.href,status:h.status,statusText:h.statusText,currentAttempt:`${f} / ${o}`}));continue}if(h.status===504){this.logDebug(e.context,"Received proxy timeout",()=>({url:i.href,status:h.status,statusText:h.statusText,currentAttempt:`${f} / ${o}`}));continue}if(h.status===429||h.status===503){const p=h.headers.get("retry-after");if(p){const b=Mf.parseRetryAfterHeader(p);b?(i.host in this.activeDelays&&clearTimeout(this.activeDelays[i.host].timeout),this.activeDelays[i.host]={date:b,timeout:setTimeout(()=>delete this.activeDelays[i.host],Date.now()-b.getTime())}):this.logDebug(e.context,"Invalid Retry-After header value from server",()=>({url:i.href,status:h.status,statusText:h.statusText,retryAfterHeader:p,currentAttempt:`${f} / ${o}`}))}this.logDebug(e.context,"Server temporarily unavailable",()=>({url:i.href,status:h.status,statusText:h.statusText,currentAttempt:`${f} / ${o}`}));continue}if(h.status>=400&&h.status<500){this.logDebug(e.context,"Server reported client-side error",()=>({url:i.href,status:h.status,statusText:h.statusText,currentAttempt:`${f} / ${o}`}));break}if(h.status>=500&&h.status<600){this.logDebug(e.context,"Server-side error encountered, terminating",()=>({url:i.href,status:h.status,statusText:h.statusText,currentAttempt:`${f} / ${o}`}));break}this.logDebug(e.context,"Request failed",()=>({url:i.href,status:h.status,statusText:h.statusText,currentAttempt:`${f} / ${o}`}))}throw new Error(`Request failed: ${i.href}`)}static async sleep(e){e>0&&await new Promise(i=>setTimeout(i,e))}static parseRetryAfterHeader(e){if(Mf.numberRegex.test(e))return new Date(Date.now()+Number.parseInt(e,10)*1e3);if(Mf.dateRegex.test(e))return new Date(e)}handleHttpInvalidateEvent(e){const i=e.url?new URL(e.url).host:void 0;for(const o of Object.keys(this.activeDelays))(!i||o===i)&&(clearTimeout(this.activeDelays[o].timeout),delete this.activeDelays[o])}};return sS.ActorHttpRetry=n,n.dateRegex=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), [0-9]{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) [0-9]{4} [0-9]{2}:[0-9]{2}:[0-9]{2} GMT$/u,n.numberRegex=/^[0-9]+$/u,n.keyWrapped=new u.ActionContextKey("urn:comunica:actor-http-retry#wrapped"),sS}var fte;function Vve(){return fte||(fte=1,function(a){var t=sf&&sf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=sf&&sf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u($ve(),a)}(sf)),sf}var cf={},cS={},hte;function Uve(){if(hte)return cS;hte=1,Object.defineProperty(cS,"__esModule",{value:!0}),cS.ActorQuerySourceIdentifySerialized=void 0;const a=e3(),t=Te(),u=WZ(),n=Mt();let r=class extends a.ActorQuerySourceIdentify{constructor(i){super(i)}async test(i){return this.isStringSource(i.querySourceUnidentified)?(0,t.passTestVoid)():(0,t.failTest)(`${this.name} requires a single query source with serialized type to be present in the context.`)}async run(i){return await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{type:"rdfjs",value:await this.getRdfSource(i.context,i.querySourceUnidentified),context:i.querySourceUnidentified.context},context:i.context})}async getRdfSource(i,o){const c=new n.Readable({objectMode:!0});c._read=()=>{},c.push(o.value),c.push(null);const s={context:i,handle:{metadata:{baseIRI:o.baseIRI},data:c,context:i},handleMediaType:o.mediaType},l=await this.mediatorRdfParse.mediate(s);return await(0,u.storeStream)(l.handle.data)}isStringSource(i){return"type"in i?i.type==="serialized":typeof i.value!="string"?!1:"mediaType"in i}};return cS.ActorQuerySourceIdentifySerialized=r,cS}var pte;function Qve(){return pte||(pte=1,function(a){var t=cf&&cf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=cf&&cf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Uve(),a)}(cf)),cf}var lf={},lS={},yte;function Hve(){if(yte)return lS;yte=1,Object.defineProperty(lS,"__esModule",{value:!0}),lS.ActorRdfJoinMultiBindSource=void 0;const a=en(),t=ke(),u=Te(),n=ba(),r=St(),e=gt(),i=bt();let o=class extends a.ActorRdfJoin{constructor(s){super(s,{logicalType:"inner",physicalName:"bind-source",canHandleUndefs:!0})}async getOutput(s,l){const f=s.context.getSafe(t.KeysInitQuery.dataFactory),d=new i.Factory(f),h=l.entriesSorted;this.logDebug(s.context,"First entry for Bind Join Source: ",()=>({entry:h[0].operation,metadata:h[0].metadata}));for(const[T,w]of h.entries())T!==0&&w.output.bindingsStream.close();const p=h[0].output,b=h[0].metadata,m=[...h];m.splice(0,1);const y=(0,r.getOperationSource)(m[0].operation),g=this.createOperationFromEntries(d,m),_=new n.ChunkedIterator(p.bindingsStream,this.blockSize,{autoStart:!1});return{result:{type:"bindings",bindingsStream:new e.UnionIterator(_.map(T=>y.source.queryBindings(g,y.context?s.context.merge(y.context):s.context,{joinBindings:{bindings:T,metadata:b}}))),metadata:()=>this.constructResultMetadata(h,h.map(T=>T.metadata),s.context)},physicalPlanMetadata:{bindIndex:l.entriesUnsorted.indexOf(h[0])}}}async sortJoinEntries(s,l){const f=await a.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,s,l);return f.isFailed()?f:(s=f.get(),s=s.sort((d,h)=>d.operationModified&&!h.operationModified?-1:0),(0,u.passTest)(s))}async getJoinCoefficients(s,l){let{metadatas:f}=l;const d=s.context.getSafe(t.KeysInitQuery.dataFactory),h=new i.Factory(d),p=s.entries.map((O,E)=>({...O,metadata:f[E]})),b=await this.sortJoinEntries(p,s.context);if(b.isFailed())return b;const m=b.get();f=m.map(O=>O.metadata);const y=a.ActorRdfJoin.getRequestInitialTimes(f),g=a.ActorRdfJoin.getRequestItemTimes(f),_=[...m];[...y],[...g],_.splice(0,1);const v=_.map(O=>(0,r.getOperationSource)(O.operation));if(v.some(O=>!O))return(0,u.failTest)(`Actor ${this.name} can not bind on remaining operations without source annotation`);if(v.some(O=>O!==v[0]))return(0,u.failTest)(`Actor ${this.name} can not bind on remaining operations with non-equal source annotation`);const T=v[0],w=this.createOperationFromEntries(h,_),A=await T.source.getSelectorShape(s.context);if(!(0,r.doesShapeAcceptOperation)(A,w,{joinBindings:!0}))return(0,u.failTest)(`Actor ${this.name} detected a source that can not handle passing down join bindings`);const M=await Promise.all(_.map(async O=>(await this.mediatorJoinSelectivity.mediate({entries:[m[0],O],context:s.context})).selectivity*this.selectivityModifier)),F=_.map((O,E)=>O.metadata.cardinality.value*M[E]).reduce((O,E)=>O+E,0);return(0,u.passTestWithSideData)({iterations:1,persistedItems:f[0].cardinality.value,blockingItems:f[0].cardinality.value,requestTime:y[0]+f[0].cardinality.value*g[0]+y[1]+F*g[1]},{...l,entriesUnsorted:p,entriesSorted:m})}createOperationFromEntries(s,l){return l.length===1?l[0].operation:s.createJoin(l.map(f=>f.operation),!0)}};return lS.ActorRdfJoinMultiBindSource=o,lS}var bte;function Gve(){return bte||(bte=1,function(a){var t=lf&&lf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=lf&&lf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Hve(),a)}(lf)),lf}var df={},dS={},_te;function kve(){if(_te)return dS;_te=1,Object.defineProperty(dS,"__esModule",{value:!0}),dS.ActorOptimizeQueryOperationJoinConnected=void 0;const a=En(),t=ke(),u=Te(),n=bt();let r=class TE extends a.ActorOptimizeQueryOperation{async test(i){return(0,u.passTestVoid)()}async run(i){const o=i.context.getSafe(t.KeysInitQuery.dataFactory),c=new n.Factory(o);return{operation:n.Util.mapOperation(i.operation,{join(l,f){return{recurse:!1,result:TE.cluster(l,f)}}},c),context:i.context}}static cluster(i,o){const c=i.input.map(d=>({inScopeVariables:Object.fromEntries(n.Util.inScopeVariables(d).map(h=>[h.value,!0])),entries:[d]}));let s,l=c;do s=l,l=TE.clusterIteration(s);while(s.length!==l.length);const f=l.map(d=>d.entries.length===1?d.entries[0]:o.createJoin(d.entries));return f.length===1?f[0]:o.createJoin(f,!1)}static clusterIteration(i){const o=[];for(const c of i){let s=!1;for(const l of o)if(TE.haveOverlappingVariables(c.inScopeVariables,l.inScopeVariables)){l.entries=[...l.entries,...c.entries],l.inScopeVariables={...l.inScopeVariables,...c.inScopeVariables},s=!0;break}s||o.push({inScopeVariables:c.inScopeVariables,entries:c.entries})}return o}static haveOverlappingVariables(i,o){for(const c of Object.keys(i))if(o[c])return!0;return!1}};return dS.ActorOptimizeQueryOperationJoinConnected=r,dS}var mte;function zve(){return mte||(mte=1,function(a){var t=df&&df.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=df&&df.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(kve(),a)}(df)),df}var ff={},fS={},gte;function Xve(){if(gte)return fS;gte=1,Object.defineProperty(fS,"__esModule",{value:!0}),fS.ActorOptimizeQueryOperationBgpToJoin=void 0;const a=En(),t=ke(),u=Te(),n=bt();let r=class extends a.ActorOptimizeQueryOperation{async test(i){return(0,u.passTestVoid)()}async run(i){const o=i.context.getSafe(t.KeysInitQuery.dataFactory),c=new n.Factory(o);return{operation:n.Util.mapOperation(i.operation,{bgp(l,f){return{recurse:!1,result:f.createJoin(l.patterns)}}},c),context:i.context}}};return fS.ActorOptimizeQueryOperationBgpToJoin=r,fS}var vte;function Jve(){return vte||(vte=1,function(a){var t=ff&&ff.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=ff&&ff.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Xve(),a)}(ff)),ff}var hf={},hS={},Tte;function Kve(){if(Tte)return hS;Tte=1,Object.defineProperty(hS,"__esModule",{value:!0}),hS.ActorOptimizeQueryOperationJoinBgp=void 0;const a=En(),t=ke(),u=Te(),n=bt();let r=class extends a.ActorOptimizeQueryOperation{async test(i){return(0,u.passTestVoid)()}async run(i){const o=i.context.getSafe(t.KeysInitQuery.dataFactory),c=new n.Factory(o);return{operation:n.Util.mapOperation(i.operation,{join(l,f){return l.input.every(d=>d.type==="bgp")?{recurse:!1,result:f.createBgp(l.input.flatMap(d=>d.patterns))}:{recurse:!1,result:l}}},c),context:i.context}}};return hS.ActorOptimizeQueryOperationJoinBgp=r,hS}var wte;function Wve(){return wte||(wte=1,function(a){var t=hf&&hf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=hf&&hf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Kve(),a)}(hf)),hf}var pf={},pS={},Ste;function Yve(){if(Ste)return pS;Ste=1,Object.defineProperty(pS,"__esModule",{value:!0}),pS.ActorOptimizeQueryOperationAssignSourcesExhaustive=void 0;const a=En(),t=fN(),u=ke(),n=Te(),r=St(),e=bt();let i=class extends a.ActorOptimizeQueryOperation{constructor(c){super(c)}async test(c){return(0,n.passTestVoid)()}async run(c){const s=c.context.getSafe(u.KeysInitQuery.dataFactory),l=new e.Factory(s),f=c.context.get(u.KeysQueryOperation.querySources)??[];if(f.length===0)return{operation:c.operation,context:c.context};if(f.length===1){const d=f[0],h=c.context.get(u.KeysRdfUpdateQuads.destination);if(!h||d.source.referenceValue===(0,t.getDataDestinationValue)(h))try{const p=await d.source.getSelectorShape(c.context);if((0,r.doesShapeAcceptOperation)(p,c.operation))return{operation:(0,r.assignOperationSource)(c.operation,d),context:c.context}}catch{}}return{operation:this.assignExhaustive(l,c.operation,f),context:c.context.delete(u.KeysInitQuery.queryString)}}assignExhaustive(c,s,l){const f=this;return e.Util.mapOperation(s,{[e.Algebra.types.PATTERN](d,h){return l.length===1?{result:(0,r.assignOperationSource)(d,l[0]),recurse:!1}:{result:h.createUnion(l.map(p=>(0,r.assignOperationSource)(d,p))),recurse:!1}},[e.Algebra.types.LINK](d,h){return l.length===1?{result:(0,r.assignOperationSource)(d,l[0]),recurse:!1}:{result:h.createAlt(l.map(p=>(0,r.assignOperationSource)(d,p))),recurse:!1}},[e.Algebra.types.NPS](d,h){return l.length===1?{result:(0,r.assignOperationSource)(d,l[0]),recurse:!1}:{result:h.createAlt(l.map(p=>(0,r.assignOperationSource)(d,p))),recurse:!1}},[e.Algebra.types.SERVICE](d){return{result:d,recurse:!1}},[e.Algebra.types.CONSTRUCT](d,h){return{result:h.createConstruct(f.assignExhaustive(c,d.input,l),d.template),recurse:!1}},[e.Algebra.types.DELETE_INSERT](d,h){return{result:h.createDeleteInsert(d.delete,d.insert,d.where?f.assignExhaustive(c,d.where,l):void 0),recurse:!1}}},c)}};return pS.ActorOptimizeQueryOperationAssignSourcesExhaustive=i,pS}var Ote;function Zve(){return Ote||(Ote=1,function(a){var t=pf&&pf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=pf&&pf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Yve(),a)}(pf)),pf}var yf={},yS={},Ate;function e2e(){if(Ate)return yS;Ate=1,Object.defineProperty(yS,"__esModule",{value:!0}),yS.ActorOptimizeQueryOperationDescribeToConstructsSubject=void 0;const a=En(),t=ke(),u=Te(),n=bt();let r=class extends a.ActorOptimizeQueryOperation{constructor(i){super(i)}async test(i){return i.operation.type!==n.Algebra.types.DESCRIBE?(0,u.failTest)(`Actor ${this.name} only supports describe operations, but got ${i.operation.type}`):(0,u.passTest)(!0)}async run(i){const o=i.context.getSafe(t.KeysInitQuery.dataFactory),c=new n.Factory(o),s=i.operation,l=s.terms.filter(d=>d.termType!=="Variable").map(d=>{const h=[o.quad(d,o.variable("__predicate"),o.variable("__object"))];return h.forEach(b=>b.type="pattern"),{input:{type:n.Algebra.types.BGP,patterns:h},template:h,type:"construct"}});if(l.length!==s.terms.length){let d=[];s.terms.filter(h=>h.termType==="Variable").forEach((h,p)=>{const b=[o.quad(h,o.variable(`__predicate${p}`),o.variable(`__object${p}`))];b.forEach(m=>m.type="pattern"),d=[...d,...b]}),l.push({input:{type:n.Algebra.types.JOIN,input:[s.input,{type:n.Algebra.types.BGP,patterns:d}]},template:d,type:n.Algebra.types.CONSTRUCT})}return{operation:c.createUnion(l,!1),context:i.context}}};return yS.ActorOptimizeQueryOperationDescribeToConstructsSubject=r,yS}var Ete;function t2e(){return Ete||(Ete=1,function(a){var t=yf&&yf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=yf&&yf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(e2e(),a)}(yf)),yf}var iF,xte;function r2e(){return xte||(xte=1,iF=function(a){const t=new(Uae()).LoggerVoid,u=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^4.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),n=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^4.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),r=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^4.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),e=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-quads/^4.0.0/components/ActorHashQuads.jsonld#ActorHashQuads_default_bus"}),i=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^4.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),o=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^4.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),c=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^4.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),s=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify-hypermedia/^4.0.0/components/ActorQuerySourceIdentifyHypermedia.jsonld#ActorQuerySourceIdentifyHypermedia_default_bus"}),l=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^4.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),f=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^4.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),d=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^4.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),h=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^4.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),p=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/^4.0.0/components/ActorRdfMetadata.jsonld#ActorRdfMetadata_default_bus"}),b=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-accumulate/^4.0.0/components/ActorRdfMetadataAccumulate.jsonld#ActorRdfMetadataAccumulate_default_bus"}),m=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/^4.0.0/components/ActorRdfMetadataExtract.jsonld#ActorRdfMetadataExtract_default_bus"}),y=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^4.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),g=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^4.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),_=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/^4.0.0/components/ActorRdfResolveHypermediaLinks.jsonld#ActorRdfResolveHypermediaLinks_default_bus"}),v=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links-queue/^4.0.0/components/ActorRdfResolveHypermediaLinksQueue.jsonld#ActorRdfResolveHypermediaLinksQueue_default_bus"}),T=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/^4.0.0/components/ActorRdfSerialize.jsonld#ActorRdfSerialize_default_bus"}),w=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-hypermedia/^4.0.0/components/ActorRdfUpdateHypermedia.jsonld#ActorRdfUpdateHypermedia_default_bus"}),A=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^4.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),M=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-bindings-aggregator-factory/^4.0.0/components/ActorBindingsAggregatorFactory.jsonld#ActorBindingsAggregatorFactory_default_bus"}),F=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-expression-evaluator-factory/^4.0.0/components/ActorExpressionEvaluatorFactory.jsonld#ActorExpressionEvaluatorFactory_default_bus"}),O=new(Re()).BusFunctionFactory({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-function-factory/^4.0.0/components/ActorFunctionFactory.jsonld#ActorFunctionFactory_default_bus"}),E=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),x=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_fallback_bus"}),L=new(Vt()).BusQueryOperation({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^4.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),V=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-process/^4.0.0/components/ActorQueryProcess.jsonld#ActorQueryProcess_default_bus"}),$=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify/^4.0.0/components/ActorQuerySourceIdentify.jsonld#ActorQuerySourceIdentify_default_bus"}),Q=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^4.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),ie=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-term-comparator-factory/^4.0.0/components/ActorTermComparatorFactory.jsonld#ActorTermComparatorFactory_default_bus"}),ue=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^4.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"}),pe=new(Te()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-merge-bindings-context/^4.0.0/components/ActorMergeBindingsContext.jsonld#ActorMergeBindingsContext_default_bus"});new(Due()).ActorContextPreprocessConvertShortcuts({contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",dataFactory:"@comunica/actor-init-query:dataFactory",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",distinctConstruct:"@comunica/actor-init-query:distinctConstruct",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",fetch:"@comunica/bus-http:fetch",functionArgumentsCache:"@comunica/actor-init-query:functionArgumentsCache",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpRetryCount:"@comunica/bus-http:http-retry-count",httpRetryDelayFallback:"@comunica/bus-http:http-retry-delay-fallback",httpRetryDelayLimit:"@comunica/bus-http:http-retry-delay-limit",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",invalidateCache:"@comunica/actor-init-query:invalidateCache",lenient:"@comunica/actor-init-query:lenient",log:"@comunica/core:log",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",queryTimestampHighResolution:"@comunica/actor-init-query:queryTimestampHighResolution",readOnly:"@comunica/bus-query-operation:readOnly",recoverBrokenLinks:"@comunica/bus-http-wayback:recover-broken-links",sources:"@comunica/actor-init-query:querySourcesUnidentified",traverse:"@comunica/bus-query-source-identify:traverse",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:context-preprocess/actors#convert-shortcuts",bus:n,busFailMessage:"Context preprocessing failed"}),new(Mue()).ActorContextPreprocessSetDefaults({logger:t,name:"urn:comunica:default:context-preprocess/actors#set-defaults",bus:n,busFailMessage:"Context preprocessing failed"}),new(Cue()).ActorContextPreprocessSourceToDestination({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:n,busFailMessage:"Context preprocessing failed"});const X=new(qL()).ActorContextPreprocessQuerySourceSkolemize({name:"urn:comunica:default:context-preprocess/actors#query-source-skolemize",bus:n,busFailMessage:"Context preprocessing failed"}),me=new($L()).MediatorCombinePipeline({name:"urn:comunica:default:context-preprocess/mediators#main",bus:n});new(Xue()).ActorHashBindingsMurmur({name:"urn:comunica:default:hash-bindings/actors#murmur",bus:r,busFailMessage:"Failed to obtaining hash functions for bindings"});const Fe=new(_r()).MediatorRace({name:"urn:comunica:default:hash-bindings/mediators#main",bus:r});new(Zue()).ActorHashQuadsMurmur({name:"urn:comunica:default:hash-quads/actors#murmur",bus:e,busFailMessage:"Failed to obtaining hash functions for quads"});const ve=new(_r()).MediatorRace({name:"urn:comunica:default:hash-quads/mediators#main",bus:e});new(roe()).ActorOptimizeQueryOperationRewriteCopy({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-copy",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(ioe()).ActorOptimizeQueryOperationRewriteMove({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-move",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(soe()).ActorOptimizeQueryOperationRewriteAdd({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-add",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"});const re=new(hoe()).ActorOptimizeQueryOperationGroupSources({name:"urn:comunica:default:optimize-query-operation/actors#group-sources",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"});new(yoe()).ActorOptimizeQueryOperationConstructDistinct({name:"urn:comunica:default:optimize-query-operation/actors#construct-distinct",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"});const je=new($L()).MediatorCombinePipeline({filterFailures:!0,name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:i});new(moe()).ActorQueryParseSparql({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:o,busFailMessage:'Query parsing failed: none of the configured parsers were able to the query "${action.query}"'}),new(ice()).ActorQueryParseGraphql({name:"urn:comunica:default:query-parse/actors#graphql",bus:o,busFailMessage:'Query parsing failed: none of the configured parsers were able to the query "${action.query}"'});const qe=new(_r()).MediatorRace({name:"urn:comunica:default:query-parse/mediators#main",bus:o});new(pce()).ActorQueryResultSerializeJson({mediaTypePriorities:{"application/json":1},mediaTypeFormats:{"application/json":"https://comunica.linkeddatafragments.org/#results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#json",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(bce()).ActorQueryResultSerializeSimple({mediaTypePriorities:{simple:.9},mediaTypeFormats:{simple:"https://comunica.linkeddatafragments.org/#results_simple"},name:"urn:comunica:default:query-result-serialize/actors#simple",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(mce()).ActorQueryResultSerializeSparqlCsv({mediaTypePriorities:{"text/csv":.75},mediaTypeFormats:{"text/csv":"http://www.w3.org/ns/formats/SPARQL_Results_CSV"},name:"urn:comunica:default:query-result-serialize/actors#csv",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(Sce()).ActorQueryResultSerializeSparqlTsv({mediaTypePriorities:{"text/tab-separated-values":.75},mediaTypeFormats:{"text/tab-separated-values":"http://www.w3.org/ns/formats/SPARQL_Results_TSV"},name:"urn:comunica:default:query-result-serialize/actors#sparql-tsv",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(Ece()).ActorQueryResultSerializeSparqlXml({mediaTypePriorities:{"application/sparql-results+xml":.8},mediaTypeFormats:{"application/sparql-results+xml":"http://www.w3.org/ns/formats/SPARQL_Results_XML"},name:"urn:comunica:default:query-result-serialize/actors#sparql-xml",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(Ice()).ActorQueryResultSerializeTable({columnWidth:50,mediaTypePriorities:{table:.6},mediaTypeFormats:{table:"https://comunica.linkeddatafragments.org/#results_table"},name:"urn:comunica:default:query-result-serialize/actors#table",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(Qce()).ActorQueryResultSerializeTree({mediaTypePriorities:{tree:.5},mediaTypeFormats:{tree:"https://comunica.linkeddatafragments.org/#results_tree"},name:"urn:comunica:default:query-result-serialize/actors#tree",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"});const $e=new(_r()).MediatorRace({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:c}),ge=new(oa()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:c}),we=new(oa()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:c}),G=new(nb()).MediatorNumber({field:"filterFactor",type:"max",ignoreFailures:!0,name:"urn:comunica:default:query-source-identify-hypermedia/mediators#main",bus:s}),N=new(Jce()).ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:l,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}"}),P=new(_r()).MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:l}),S=new(_r()).MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:f});new(Zce()).ActorRdfJoinEntriesSortCardinality({name:"urn:comunica:default:rdf-join-entries-sort/actors#cardinality",bus:d,busFailMessage:"Sorting join entries failed: none of the configured actors were able to sort"});const I=new(_r()).MediatorRace({name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:d});new(nle()).ActorRdfJoinSelectivityVariableCounting({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:h,busFailMessage:"Determining join selectivity failed: none of the configured actors were able to calculate selectivities"});const B=new(nb()).MediatorNumber({field:"accuracy",type:"max",ignoreFailures:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:h});new(ule()).ActorRdfMetadataPrimaryTopic({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"urn:comunica:default:rdf-metadata/actors#primary-topic",bus:p,busFailMessage:"Metadata splicing failed: none of the configured actors were able to splice metadata from ${action.url}"}),new(sle()).ActorRdfMetadataAll({name:"urn:comunica:default:rdf-metadata/actors#all",bus:p,busFailMessage:"Metadata splicing failed: none of the configured actors were able to splice metadata from ${action.url}"});const z=new(_r()).MediatorRace({name:"urn:comunica:default:rdf-metadata/mediators#main",bus:p});new(dle()).ActorRdfMetadataAccumulateCardinality({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cardinality",bus:b,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),new(hle()).ActorRdfMetadataAccumulatePageSize({name:"urn:comunica:default:rdf-metadata-accumulate/actors#pagesize",bus:b,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),new(yle()).ActorRdfMetadataAccumulateRequestTime({name:"urn:comunica:default:rdf-metadata-accumulate/actors#requesttime",bus:b,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"});const H=new(oa()).MediatorCombineUnion({field:"metadata",name:"urn:comunica:default:rdf-metadata-accumulate/mediators#main",bus:b});new(gle()).ActorRdfMetadataExtractHydraControls({name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-controls",bus:m,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(Tle()).ActorRdfMetadataExtractHydraCount({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-count",bus:m,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(Sle()).ActorRdfMetadataExtractHydraPagesize({predicates:["http://www.w3.org/ns/hydra/core#itemsPerPage"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-pagesize",bus:m,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(Ale()).ActorRdfMetadataExtractRequestTime({name:"urn:comunica:default:rdf-metadata-extract/actors#request-time",bus:m,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(xle()).ActorRdfMetadataExtractAllowHttpMethods({name:"urn:comunica:default:rdf-metadata-extract/actors#allow-http-methods",bus:m,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(Rle()).ActorRdfMetadataExtractPutAccepted({name:"urn:comunica:default:rdf-metadata-extract/actors#put-accepted",bus:m,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(Fle()).ActorRdfMetadataExtractPatchSparqlUpdate({name:"urn:comunica:default:rdf-metadata-extract/actors#patch-sparql-update",bus:m,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(Ple()).ActorRdfMetadataExtractSparqlService({inferHttpsEndpoint:!0,name:"urn:comunica:default:rdf-metadata-extract/actors#sparql-service",bus:m,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"});const K=new(oa()).MediatorCombineUnion({filterFailures:!0,field:"metadata",name:"urn:comunica:default:rdf-metadata-extract/mediators#main",bus:m});new(nde()).ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:y,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(yde()).ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:y,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(Mde()).ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:y,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(Vde()).ActorRdfParseShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-parse/actors#shaclc",bus:y,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"});const k=new(_r()).MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:y}),Z=new(oa()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:y});new(Hde()).ActorRdfParseHtml({busRdfParseHtml:g,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:y,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(nfe()).ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:g,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(afe()).ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:g,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(cfe()).ActorRdfResolveHypermediaLinksNext({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#next",bus:_,busFailMessage:"Hypermedia link resolution failed: none of the configured actors were able to resolve links from metadata"});const de=new(_r()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links/mediators#main",bus:_});new(yfe()).ActorRdfResolveHypermediaLinksQueueFifo({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/actors#fifo",bus:v,busFailMessage:"Link queue creation failed: none of the configured actors were able to create a link queue starting from ${action.firstUrl}"});const le=new(_r()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/mediators#main",bus:v});new(gfe()).ActorRdfSerializeN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},name:"urn:comunica:default:rdf-serialize/actors#n3",bus:T,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"}),new(xfe()).ActorRdfSerializeJsonLd({jsonStringifyIndentSpaces:2,mediaTypePriorities:{"application/ld+json":1},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-serialize/actors#jsonld",bus:T,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"}),new(Hfe()).ActorRdfSerializeShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-serialize/actors#shaclc",bus:T,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"});const De=new(_r()).MediatorRace({name:"urn:comunica:default:rdf-serialize/mediators#serialize",bus:T}),Qe=new(oa()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-serialize/mediators#mediaType",bus:T}),Le=new(oa()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:rdf-serialize/mediators#mediaTypeFormat",bus:T}),ce=new(_r()).MediatorRace({name:"urn:comunica:default:rdf-update-hypermedia/mediators#main",bus:w});new(Kfe()).ActorRdfUpdateQuadsRdfJsStore({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:A,busFailMessage:"RDF updating failed: none of the configured actors were able to handle an update"});const se=new(_r()).MediatorRace({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:A}),ye=new(_r()).MediatorRace({name:"urn:comunica:default:bindings-aggregator-factory/mediators#main",bus:M}),xe=new(_r()).MediatorRace({name:"urn:comunica:default:expression-evaluator-factory/mediators#main",bus:F});new(Zfe()).ActorFunctionFactoryExpressionBound({name:"urn:comunica:default:function-factory/actors#expression-function-bound",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(rhe()).ActorFunctionFactoryExpressionBnode({name:"urn:comunica:default:function-factory/actors#expression-function-bnode",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(ahe()).ActorFunctionFactoryExpressionCoalesce({name:"urn:comunica:default:function-factory/actors#expression-function-coalesce",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(she()).ActorFunctionFactoryExpressionConcat({name:"urn:comunica:default:function-factory/actors#expression-function-concat",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(hhe()).ActorFunctionFactoryExpressionExtensions({name:"urn:comunica:default:function-factory/actors#expression-function-extensions",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(bhe()).ActorFunctionFactoryExpressionIf({name:"urn:comunica:default:function-factory/actors#expression-function-if",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(ghe()).ActorFunctionFactoryExpressionLogicalAnd({name:"urn:comunica:default:function-factory/actors#expression-function-logical-and",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(whe()).ActorFunctionFactoryExpressionLogicalOr({name:"urn:comunica:default:function-factory/actors#expression-function-logical-or",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Ahe()).ActorFunctionFactoryExpressionSameTerm({name:"urn:comunica:default:function-factory/actors#expression-function-same-term",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Ihe()).ActorFunctionFactoryTermAbs({name:"urn:comunica:default:function-factory/actors#term-function-abs",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Dhe()).ActorFunctionFactoryTermAddition({name:"urn:comunica:default:function-factory/actors#term-function-addition",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(jhe()).ActorFunctionFactoryTermCeil({name:"urn:comunica:default:function-factory/actors#term-function-ceil",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Che()).ActorFunctionFactoryTermContains({name:"urn:comunica:default:function-factory/actors#term-function-contains",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Vhe()).ActorFunctionFactoryTermDatatype({name:"urn:comunica:default:function-factory/actors#term-function-datatype",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Hhe()).ActorFunctionFactoryTermDay({name:"urn:comunica:default:function-factory/actors#term-function-day",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(zhe()).ActorFunctionFactoryTermDivision({name:"urn:comunica:default:function-factory/actors#term-function-division",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Khe()).ActorFunctionFactoryTermEncodeForUri({name:"urn:comunica:default:function-factory/actors#term-function-encode-for-uri",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Zhe()).ActorFunctionFactoryTermEquality({name:"urn:comunica:default:function-factory/actors#term-function-equality",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(rpe()).ActorFunctionFactoryTermFloor({name:"urn:comunica:default:function-factory/actors#term-function-floor",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(ape()).ActorFunctionFactoryTermHours({name:"urn:comunica:default:function-factory/actors#term-function-hours",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(spe()).ActorFunctionFactoryTermIri({name:"urn:comunica:default:function-factory/actors#term-function-iri",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(dpe()).ActorFunctionFactoryTermIsBlank({name:"urn:comunica:default:function-factory/actors#term-function-is-blank",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(ppe()).ActorFunctionFactoryTermIsIri({name:"urn:comunica:default:function-factory/actors#term-function-is-iri",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(_pe()).ActorFunctionFactoryTermIsNumeric({name:"urn:comunica:default:function-factory/actors#term-function-is-numeric",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(vpe()).ActorFunctionFactoryTermIsTriple({name:"urn:comunica:default:function-factory/actors#term-function-is-triple",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Spe()).ActorFunctionFactoryTermIsLiteral({name:"urn:comunica:default:function-factory/actors#term-function-is-literal",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Epe()).ActorFunctionFactoryTermLang({name:"urn:comunica:default:function-factory/actors#term-function-lang",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Rpe()).ActorFunctionFactoryTermLcase({name:"urn:comunica:default:function-factory/actors#term-function-lcase",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Dpe()).ActorFunctionFactoryTermLangmatches({name:"urn:comunica:default:function-factory/actors#term-function-langmatches",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(jpe()).ActorFunctionFactoryTermMinutes({name:"urn:comunica:default:function-factory/actors#term-function-minutes",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Bpe()).ActorFunctionFactoryTermMd5({name:"urn:comunica:default:function-factory/actors#term-function-md5",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Upe()).ActorFunctionFactoryTermMultiplication({name:"urn:comunica:default:function-factory/actors#term-function-multiplication",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Gpe()).ActorFunctionFactoryTermMonth({name:"urn:comunica:default:function-factory/actors#term-function-month",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Xpe()).ActorFunctionFactoryTermNot({name:"urn:comunica:default:function-factory/actors#term-function-not",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Wpe()).ActorFunctionFactoryTermObject({name:"urn:comunica:default:function-factory/actors#term-function-object",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(e0e()).ActorFunctionFactoryTermNow({name:"urn:comunica:default:function-factory/actors#term-function-now",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(n0e()).ActorFunctionFactoryTermPredicate({name:"urn:comunica:default:function-factory/actors#term-function-predicate",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(u0e()).ActorFunctionFactoryTermRand({name:"urn:comunica:default:function-factory/actors#term-function-rand",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(lH()).ActorFunctionFactoryTermRegex({name:"urn:comunica:default:function-factory/actors#term-function-regex",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(l0e()).ActorFunctionFactoryTermReplace({name:"urn:comunica:default:function-factory/actors#term-function-replace",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(h0e()).ActorFunctionFactoryTermRound({name:"urn:comunica:default:function-factory/actors#term-function-round",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(b0e()).ActorFunctionFactoryTermSeconds({name:"urn:comunica:default:function-factory/actors#term-function-seconds",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(g0e()).ActorFunctionFactoryTermSha256({name:"urn:comunica:default:function-factory/actors#term-function-sha256",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(w0e()).ActorFunctionFactoryTermSha1({name:"urn:comunica:default:function-factory/actors#term-function-sha1",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(A0e()).ActorFunctionFactoryTermSha384({name:"urn:comunica:default:function-factory/actors#term-function-sha384",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(I0e()).ActorFunctionFactoryTermSha512({name:"urn:comunica:default:function-factory/actors#term-function-sha512",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(F0e()).ActorFunctionFactoryTermStrAfter({name:"urn:comunica:default:function-factory/actors#term-function-str-after",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(L0e()).ActorFunctionFactoryTermStrBefore({name:"urn:comunica:default:function-factory/actors#term-function-str-before",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(q0e()).ActorFunctionFactoryTermStrDt({name:"urn:comunica:default:function-factory/actors#term-function-str-dt",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new($0e()).ActorFunctionFactoryTermStrEnds({name:"urn:comunica:default:function-factory/actors#term-function-str-ends",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q0e()).ActorFunctionFactoryTermStrLang({name:"urn:comunica:default:function-factory/actors#term-function-str-lang",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(k0e()).ActorFunctionFactoryTermStrLen({name:"urn:comunica:default:function-factory/actors#term-function-str-len",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(J0e()).ActorFunctionFactoryTermStrStarts({name:"urn:comunica:default:function-factory/actors#term-function-str-starts",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(dye()).ActorFunctionFactoryTermStrUuid({name:"urn:comunica:default:function-factory/actors#term-function-str-uuid",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(pye()).ActorFunctionFactoryTermStr({name:"urn:comunica:default:function-factory/actors#term-function-str",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(_ye()).ActorFunctionFactoryTermSubStr({name:"urn:comunica:default:function-factory/actors#term-function-sub-str",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(vye()).ActorFunctionFactoryTermSubject({name:"urn:comunica:default:function-factory/actors#term-function-subject",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Sye()).ActorFunctionFactoryTermSubtraction({name:"urn:comunica:default:function-factory/actors#term-function-subtraction",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Eye()).ActorFunctionFactoryTermTimezone({name:"urn:comunica:default:function-factory/actors#term-function-timezone",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Rye()).ActorFunctionFactoryTermTriple({name:"urn:comunica:default:function-factory/actors#term-function-triple",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Dye()).ActorFunctionFactoryTermTz({name:"urn:comunica:default:function-factory/actors#term-function-tz",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(jye()).ActorFunctionFactoryTermUcase({name:"urn:comunica:default:function-factory/actors#term-function-ucase",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Cye()).ActorFunctionFactoryTermUnaryMinus({name:"urn:comunica:default:function-factory/actors#term-function-unary-minus",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Vye()).ActorFunctionFactoryTermUnaryPlus({name:"urn:comunica:default:function-factory/actors#term-function-unary-plus",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Hye()).ActorFunctionFactoryTermUuid({name:"urn:comunica:default:function-factory/actors#term-function-uuid",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(zye()).ActorFunctionFactoryTermXsdToBoolean({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-boolean",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Kye()).ActorFunctionFactoryTermXsdToDate({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-date",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Zye()).ActorFunctionFactoryTermXsdToDatetime({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-datetime",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(r1e()).ActorFunctionFactoryTermXsdToDayTimeDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-day-time-duration",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(a1e()).ActorFunctionFactoryTermXsdToDouble({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-double",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s1e()).ActorFunctionFactoryTermXsdToDecimal({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-decimal",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(d1e()).ActorFunctionFactoryTermXsdToDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-duration",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(p1e()).ActorFunctionFactoryTermXsdToFloat({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-float",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(_1e()).ActorFunctionFactoryTermXsdToInteger({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-integer",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(v1e()).ActorFunctionFactoryTermXsdToTime({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-time",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(S1e()).ActorFunctionFactoryTermXsdToString({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-string",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(E1e()).ActorFunctionFactoryTermXsdToYearMonthDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-year-month-duration",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(R1e()).ActorFunctionFactoryTermYear({name:"urn:comunica:default:function-factory/actors#term-function-year",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"});const U=new(_r()).MediatorRace({name:"urn:comunica:default:function-factory/mediators#main",bus:O}),R=new(M1e()).ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:E,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}"}),C=new(nb()).MediatorNumber({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#no-fallback",bus:E}),J=new(nb()).MediatorNumber({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#main",bus:x});new(C1e()).ActorQueryOperationSource({name:"urn:comunica:default:query-operation/actors#source",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const ae=new(nb()).MediatorNumber({field:"httpRequests",type:"min",ignoreFailures:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:L}),_e=new(_r()).MediatorRace({name:"urn:comunica:default:query-process/mediators#main",bus:V}),Se=new(_r()).MediatorRace({name:"urn:comunica:default:query-source-identify/mediators#main",bus:$}),Xe=new($1e()).MediatorJoinCoefficientsFixed({cpuWeight:10,memoryWeight:1,timeWeight:2,ioWeight:10,name:"urn:comunica:default:rdf-join/mediators#main",bus:Q}),Y=new(_r()).MediatorRace({name:"urn:comunica:default:term-comparator-factory/mediators#main",bus:ie}),Ee=new(t2()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-context-preprocess-query-source-identify/^4.0.0/components/ActorContextPreprocessQuerySourceIdentify.jsonld#IActorContextPreprocessQuerySourceIdentifyArgs_default_invalidator",bus:ue,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),Ne=new(Q1e()).MediatorAll({name:"urn:comunica:default:http-invalidate/mediators#main",bus:ue}),Ce=new(t2()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-update-quads-hypermedia/^4.0.0/components/ActorRdfUpdateQuadsHypermedia.jsonld#IActorRdfUpdateQuadsHypermediaArgs_default_invalidator",bus:ue,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),Ue=new(t2()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-http-retry/^4.0.0/components/ActorHttpRetry.jsonld#IActorHttpQueueArgs_default_invalidator",bus:ue,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),tt=new(t2()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^4.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:ue,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),ut=new(t2()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^4.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:ue,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),rt=new(oa()).MediatorCombineUnion({field:"mergeHandlers",name:"urn:comunica:default:merge-bindings-context/mediators#main",bus:pe});new(K1e()).ActorRdfJoinSingle({mediatorJoinSelectivity:B,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:Q,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(Y1e()).ActorRdfJoinMultiEmpty({mediatorJoinSelectivity:B,name:"urn:comunica:default:rdf-join/actors#inner-multi-empty",bus:Q,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"});const lt=new(Mz()).ActorRdfJoinHash({mediatorHashBindings:Fe,canHandleUndefs:!1,mediatorJoinSelectivity:B,name:"urn:comunica:default:rdf-join/actors#inner-hash-def",bus:Q,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),ne=new(Mz()).ActorRdfJoinHash({mediatorHashBindings:Fe,canHandleUndefs:!0,mediatorJoinSelectivity:B,name:"urn:comunica:default:rdf-join/actors#inner-hash-undef",bus:Q,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),j=new(cbe()).ActorRdfJoinSymmetricHash({mediatorHashBindings:Fe,mediatorJoinSelectivity:B,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:Q,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),D=new(dbe()).ActorRdfJoinNestedLoop({mediatorJoinSelectivity:B,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:Q,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"});new(Jz()).ActorRdfJoinMinusHash({canHandleUndefs:!1,mediatorJoinSelectivity:B,name:"urn:comunica:default:rdf-join/actors#minus-hash-def",bus:Q,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(Jz()).ActorRdfJoinMinusHash({canHandleUndefs:!0,mediatorJoinSelectivity:B,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:Q,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(IA()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!1,mediatorJoinSelectivity:B,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-nonblocking",bus:Q,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(IA()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!0,mediatorJoinSelectivity:B,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-blocking",bus:Q,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(IA()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!1,mediatorJoinSelectivity:B,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-nonblocking",bus:Q,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(IA()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!0,mediatorJoinSelectivity:B,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-blocking",bus:Q,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(bbe()).ActorRdfJoinOptionalNestedLoop({mediatorJoinSelectivity:B,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:Q,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(vbe()).ActorDereferenceRdfParse({mediatorDereference:P,mediatorParse:k,mediatorParseMediatypes:Z,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",shaclc:"text/shaclc",shaclce:"text/shaclc-ext",shc:"text/shaclc",shce:"text/shaclc-ext",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:f,busFailMessage:"RDF dereferencing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(Sbe()).ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:Z,mediatorRdfParseHandle:k,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:g,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(Abe()).ActorQueryResultSerializeRdf({mediatorRdfSerialize:De,mediatorMediaTypeCombiner:Qe,mediatorMediaTypeFormatCombiner:Le,name:"urn:comunica:default:query-result-serialize/actors#rdf",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(Rbe()).ActorBindingsAggregatorFactoryCount({mediatorExpressionEvaluatorFactory:xe,name:"urn:comunica:default:bindings-aggregator-factory/actors#count",bus:M,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(Fbe()).ActorBindingsAggregatorFactoryGroupConcat({mediatorExpressionEvaluatorFactory:xe,name:"urn:comunica:default:bindings-aggregator-factory/actors#group-concat",bus:M,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(Pbe()).ActorBindingsAggregatorFactorySample({mediatorExpressionEvaluatorFactory:xe,name:"urn:comunica:default:bindings-aggregator-factory/actors#sample",bus:M,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(jbe()).ActorBindingsAggregatorFactoryWildcardCount({mediatorExpressionEvaluatorFactory:xe,name:"urn:comunica:default:bindings-aggregator-factory/actors#wildcard-count",bus:M,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(qbe()).ActorBindingsAggregatorFactoryAverage({mediatorFunctionFactory:U,mediatorExpressionEvaluatorFactory:xe,name:"urn:comunica:default:bindings-aggregator-factory/actors#average",bus:M,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(Bbe()).ActorBindingsAggregatorFactorySum({mediatorFunctionFactory:U,mediatorExpressionEvaluatorFactory:xe,name:"urn:comunica:default:bindings-aggregator-factory/actors#sum",bus:M,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(Ube()).ActorFunctionFactoryExpressionIn({mediatorFunctionFactory:U,name:"urn:comunica:default:function-factory/actors#expression-function-in",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Gbe()).ActorFunctionFactoryExpressionNotIn({mediatorFunctionFactory:U,name:"urn:comunica:default:function-factory/actors#expression-function-not-in",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Xbe()).ActorFunctionFactoryTermGreaterThanEqual({mediatorFunctionFactory:U,name:"urn:comunica:default:function-factory/actors#term-function-greater-than-equal",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Wbe()).ActorFunctionFactoryTermGreaterThan({mediatorFunctionFactory:U,name:"urn:comunica:default:function-factory/actors#term-function-greater-than",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(e_e()).ActorFunctionFactoryTermInequality({mediatorFunctionFactory:U,name:"urn:comunica:default:function-factory/actors#term-function-inequality",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(n_e()).ActorFunctionFactoryTermLesserThanEqual({mediatorFunctionFactory:U,name:"urn:comunica:default:function-factory/actors#term-function-lesser-than-equal",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(u_e()).ActorFunctionFactoryTermLesserThan({mediatorFunctionFactory:U,name:"urn:comunica:default:function-factory/actors#term-function-lesser-than",bus:O,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s_e()).ActorHttpWayback({mediatorHttp:C,name:"urn:comunica:default:http/actors#wayback",bus:x,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}"}),new(C_e()).ActorRdfParseJsonLd({mediatorHttp:J,mediaTypePriorities:{"application/json":.15,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:y,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(V_e()).ActorRdfUpdateHypermediaPatchSparqlUpdate({mediatorHttp:J,name:"urn:comunica:default:rdf-update-hypermedia/actors#patch-sparql-update",bus:w,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(Q_e()).ActorRdfUpdateHypermediaPutLdp({mediatorHttp:J,mediatorRdfSerializeMediatypes:Qe,mediatorRdfSerialize:De,name:"urn:comunica:default:rdf-update-hypermedia/actors#put-ldp",bus:w,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(Y_e()).ActorRdfUpdateHypermediaSparql({mediatorHttp:J,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,name:"urn:comunica:default:rdf-update-hypermedia/actors#sparql",bus:w,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(eme()).ActorQueryOperationAsk({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#ask",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(rme()).ActorQueryOperationBgpJoin({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#bgp",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(iW()).ActorQueryOperationConstruct({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#construct",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(ame()).ActorQueryOperationDistinctHash({mediatorHashBindings:Fe,mediatorHashQuads:ve,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#distinct",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(ome()).ActorQueryOperationExtend({mediatorExpressionEvaluatorFactory:xe,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#extend",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(cme()).ActorQueryOperationFilter({mediatorExpressionEvaluatorFactory:xe,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#filter",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(dme()).ActorQueryOperationFromQuad({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#from",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(hme()).ActorQueryOperationProject({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#project",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(yme()).ActorQueryOperationReducedHash({mediatorHashBindings:Fe,cacheSize:100,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#reduced",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(_me()).ActorQueryOperationSlice({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#slice",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(TW()).ActorQueryOperationUnion({mediatorRdfMetadataAccumulate:H,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#union",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Tme()).ActorQueryOperationPathAlt({mediatorRdfMetadataAccumulate:H,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-alt",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Sme()).ActorQueryOperationPathInv({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-inv",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Ame()).ActorQueryOperationPathLink({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-link",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(xme()).ActorQueryOperationPathNps({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-nps",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Rme()).ActorQueryOperationClear({mediatorUpdateQuads:se,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-clear",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Fme()).ActorQueryOperationUpdateCompositeUpdate({mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-composite",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Pme()).ActorQueryOperationCreate({mediatorUpdateQuads:se,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-create",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(jme()).ActorQueryOperationDrop({mediatorUpdateQuads:se,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-drop",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(qme()).ActorQueryOperationLoad({mediatorUpdateQuads:se,mediatorQuerySourceIdentify:Se,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-load",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Vme()).ActorQueryOperationJoin({mediatorJoin:Xe,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#join",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Qme()).ActorQueryOperationLeftJoin({mediatorJoin:Xe,mediatorExpressionEvaluatorFactory:xe,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Gme()).ActorQueryOperationMinus({mediatorJoin:Xe,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#minus",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(zme()).ActorQueryOperationPathSeq({mediatorJoin:Xe,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-seq",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const q=new(Jme()).ActorRdfJoinMultiSmallest({mediatorJoinEntriesSort:I,mediatorJoin:Xe,mediatorJoinSelectivity:B,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:Q,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"});new(Wme()).ActorBindingsAggregatorFactoryMax({mediatorTermComparatorFactory:Y,mediatorExpressionEvaluatorFactory:xe,name:"urn:comunica:default:bindings-aggregator-factory/actors#max",bus:M,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(Zme()).ActorBindingsAggregatorFactoryMin({mediatorTermComparatorFactory:Y,mediatorExpressionEvaluatorFactory:xe,name:"urn:comunica:default:bindings-aggregator-factory/actors#min",bus:M,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(rge()).ActorQueryOperationOrderBy({mediatorExpressionEvaluatorFactory:xe,mediatorTermComparatorFactory:Y,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#orderby",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const W=new(ige()).ActorOptimizeQueryOperationFilterPushdown({aggressivePushdown:!1,maxIterations:10,splitConjunctive:!0,mergeConjunctive:!0,pushIntoLeftJoins:!0,pushEqualityIntoPatterns:!0,name:"urn:comunica:default:optimize-query-operation/actors#filter-pushdown",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[re]});new(uge()).ActorDereferenceHttp({mediatorHttp:J,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:l,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}",beforeActors:[N]});const be=new(cge()).ActorHttpProxy({mediatorHttp:J,name:"urn:comunica:default:http/actors#proxy",bus:E,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[R]});new(dge()).ActorContextPreprocessQuerySourceIdentify({cacheSize:100,httpInvalidator:Ee,mediatorQuerySourceIdentify:Se,mediatorContextPreprocess:me,name:"urn:comunica:default:context-preprocess/actors#query-source-identify",bus:n,busFailMessage:"Context preprocessing failed",beforeActors:[X]});const he=new(e4()).ActorInitQuery({mediatorQueryProcess:_e,mediatorQueryResultSerialize:$e,mediatorQueryResultSerializeMediaTypeCombiner:ge,mediatorQueryResultSerializeMediaTypeFormatCombiner:we,mediatorHttpInvalidate:Ne,defaultQueryInputFormat:"sparql",allowNoSources:!1,name:"urn:comunica:default:init/actors#query",bus:u,busFailMessage:"Initialization failed: none of the configured actors were to initialize"});new(hge()).ActorRdfUpdateQuadsHypermedia({cacheSize:100,httpInvalidator:Ce,mediatorDereferenceRdf:S,mediatorMetadata:z,mediatorMetadataExtract:K,mediatorRdfUpdateHypermedia:ce,name:"urn:comunica:default:rdf-update-quads/actors#hypermedia",bus:A,busFailMessage:"RDF updating failed: none of the configured actors were able to handle an update"});const Pe=new($Y()).ActionObserverHttp({httpInvalidator:tt,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^4.0.0/components/ActorQueryResultSerializeSparqlJson.jsonld#ActorQueryResultSerializeSparqlJson_default_observer",bus:E}),Be=new(HY()).ActionObserverHttp({httpInvalidator:ut,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^4.0.0/components/ActorQueryResultSerializeStats.jsonld#ActorQueryResultSerializeStats_default_observer",bus:E});new(wge()).ActorQuerySourceIdentifyHypermediaQpf({mediatorMetadata:z,mediatorMetadataExtract:K,mediatorDereferenceRdf:S,mediatorMergeBindingsContext:rt,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"urn:comunica:default:query-source-identify-hypermedia/actors#qpf",bus:s,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(Oge()).ActorQuerySourceIdentifyHypermediaSparql({mediatorHttp:J,mediatorMergeBindingsContext:rt,checkUrlSuffix:!0,forceHttpGet:!1,cacheSize:1024,bindMethod:"values",countTimeout:3e3,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#sparql",bus:s,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(Vge()).ActorQuerySourceIdentifyHypermediaNone({mediatorMergeBindingsContext:rt,name:"urn:comunica:default:query-source-identify-hypermedia/actors#none",bus:s,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(kge()).ActorExpressionEvaluatorFactoryDefault({mediatorQueryOperation:ae,mediatorFunctionFactory:U,mediatorMergeBindingsContext:rt,name:"urn:comunica:default:expression-evaluator-factory/actors#default",bus:F,busFailMessage:"Creation of Expression Evaluator failed"}),new(Jge()).ActorQueryOperationGroup({mediatorMergeBindingsContext:rt,mediatorBindingsAggregatorFactory:ye,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#group",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Wge()).ActorQueryOperationNop({mediatorMergeBindingsContext:rt,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#nop",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Zge()).ActorQueryOperationService({forceSparqlEndpoint:!1,mediatorMergeBindingsContext:rt,mediatorQuerySourceIdentify:Se,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#service",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(tve()).ActorQueryOperationValues({mediatorMergeBindingsContext:rt,name:"urn:comunica:default:query-operation/actors#values",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(nve()).ActorQueryOperationPathOneOrMore({mediatorMergeBindingsContext:rt,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(ave()).ActorQueryOperationPathZeroOrMore({mediatorMergeBindingsContext:rt,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(ove()).ActorQueryOperationPathZeroOrOne({mediatorMergeBindingsContext:rt,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(cve()).ActorQueryOperationUpdateDeleteInsert({mediatorUpdateQuads:se,mediatorMergeBindingsContext:rt,mediatorQueryOperation:ae,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:L,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const ze=new(fve()).ActorQueryProcessSequential({mediatorContextPreprocess:me,mediatorQueryParse:qe,mediatorOptimizeQueryOperation:je,mediatorQueryOperation:ae,mediatorMergeBindingsContext:rt,name:"urn:comunica:default:query-process/actors#sequential",bus:V,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),Ke=new(gve()).ActorQuerySourceIdentifyHypermedia({cacheSize:100,maxIterators:64,aggregateTraversalStore:!0,mediatorDereferenceRdf:S,mediatorMetadata:z,mediatorMetadataExtract:K,mediatorMetadataAccumulate:H,mediatorQuerySourceIdentifyHypermedia:G,mediatorRdfResolveHypermediaLinks:de,mediatorRdfResolveHypermediaLinksQueue:le,mediatorMergeBindingsContext:rt,name:"urn:comunica:default:query-source-identify/actors#hypermedia",bus:$,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}"});new(Tve()).ActorRdfJoinNone({mediatorMergeBindingsContext:rt,mediatorJoinSelectivity:B,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:Q,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(Ove()).ActorRdfJoinOptionalBind({bindOrder:"depth-first",selectivityModifier:1e-6,mediatorQueryOperation:ae,mediatorMergeBindingsContext:rt,mediatorJoinSelectivity:B,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:Q,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(Rve()).ActorTermComparatorFactoryExpressionEvaluator({mediatorQueryOperation:ae,mediatorFunctionFactory:U,mediatorMergeBindingsContext:rt,name:"urn:comunica:default:term-comparator-factory/actors#expression-evaluator",bus:ie,busFailMessage:"Creation of term comparator failed"});const ct=new(Gee()).ActorRdfJoinMultiBind({bindOrder:"depth-first",selectivityModifier:1e-4,minMaxCardinalityRatio:60,mediatorJoinEntriesSort:I,mediatorQueryOperation:ae,mediatorMergeBindingsContext:rt,mediatorJoinSelectivity:B,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:Q,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[q,lt,ne,j,D]});new(Fve()).ActorRdfJoinMultiSmallestFilterBindings({selectivityModifier:1e-4,blockSize:64,mediatorJoinEntriesSort:I,mediatorJoin:Xe,mediatorJoinSelectivity:B,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest-filter-bindings",bus:Q,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[q,lt,ne,j,D]}),new($Y()).ActorQueryResultSerializeSparqlJson({emitMetadata:!0,httpObserver:Pe,mediaTypePriorities:{"application/sparql-results+json":.8},mediaTypeFormats:{"application/sparql-results+json":"http://www.w3.org/ns/formats/SPARQL_Results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#sparql-json",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(HY()).ActorQueryResultSerializeStats({httpObserver:Be,mediaTypePriorities:{stats:.5},mediaTypeFormats:{stats:"https://comunica.linkeddatafragments.org/#results_stats"},name:"urn:comunica:default:query-result-serialize/actors#stats",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(Pve()).ActorQueryProcessExplainParsed({queryProcessor:ze,name:"urn:comunica:default:query-process/actors#explain-parsed",bus:V,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),new(jve()).ActorQueryProcessExplainLogical({queryProcessor:ze,name:"urn:comunica:default:query-process/actors#explain-logical",bus:V,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),new(qve()).ActorQueryProcessExplainPhysical({queryProcessor:ze,name:"urn:comunica:default:query-process/actors#explain-physical",bus:V,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'});const Ze=new(Bve()).ActorOptimizeQueryOperationPruneEmptySourceOperations({useAskIfSupported:!1,name:"urn:comunica:default:optimize-query-operation/actors#prune-empty-source-operations",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[W]});new(Vve()).ActorHttpRetry({mediatorHttp:J,httpInvalidator:Ue,name:"urn:comunica:default:http/actors#retry",bus:E,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[be]}),new(KN()).ActorQuerySourceIdentifyRdfJs({mediatorMergeBindingsContext:rt,name:"urn:comunica:default:query-source-identify/actors#rdfjs",bus:$,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}",beforeActors:[Ke]}),new(Qve()).ActorQuerySourceIdentifySerialized({mediatorRdfParse:k,mediatorQuerySourceIdentify:Se,name:"urn:comunica:default:query-source-identify/actors#serialized",bus:$,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}",beforeActors:[Ke]}),new(Gve()).ActorRdfJoinMultiBindSource({selectivityModifier:1e-4,blockSize:16,mediatorJoinEntriesSort:I,mediatorJoinSelectivity:B,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind-source",bus:Q,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[q,ct,lt,ne,j,D]});const Ye=new(zve()).ActorOptimizeQueryOperationJoinConnected({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Ze]}),Hr=new(Jve()).ActorOptimizeQueryOperationBgpToJoin({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Ye]}),Je=new(Wve()).ActorOptimizeQueryOperationJoinBgp({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Hr]}),oe=new(Zve()).ActorOptimizeQueryOperationAssignSourcesExhaustive({name:"urn:comunica:default:optimize-query-operation/actors#assign-sources-exhaustive",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Je]});return new(t2e()).ActorOptimizeQueryOperationDescribeToConstructsSubject({name:"urn:comunica:default:optimize-query-operation/actors#describe-to-constructs-subject",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[oe]}),he}),iF}var Ite;function n2e(){if(Ite)return La;Ite=1,Object.defineProperty(La,"__esModule",{value:!0}),La.QueryEngine=void 0;const a=e4(),t=r2e();let u=class extends a.QueryEngineBase{constructor(r=t()){super(r)}};return La.QueryEngine=u,La}var Rte;function i2e(){return Rte||(Rte=1,function(a){var t=gn&&gn.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=gn&&gn.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(n2e(),a)}(gn)),gn}var a2e=i2e(),bf={},bS={},Nte;function Fte(){if(Nte)return bS;Nte=1,Object.defineProperty(bS,"__esModule",{value:!0}),bS.BlankNode=void 0;let a=class{constructor(u){this.termType="BlankNode",this.value=u}equals(u){return!!u&&u.termType==="BlankNode"&&u.value===this.value}};return bS.BlankNode=a,bS}var _S={},mS={},Dte;function Pte(){if(Dte)return mS;Dte=1,Object.defineProperty(mS,"__esModule",{value:!0}),mS.DefaultGraph=void 0;let a=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(u){return!!u&&u.termType==="DefaultGraph"}};return mS.DefaultGraph=a,a.INSTANCE=new a,mS}var gS={},vS={},Lte;function aF(){if(Lte)return vS;Lte=1,Object.defineProperty(vS,"__esModule",{value:!0}),vS.NamedNode=void 0;let a=class{constructor(u){this.termType="NamedNode",this.value=u}equals(u){return!!u&&u.termType==="NamedNode"&&u.value===this.value}};return vS.NamedNode=a,vS}var jte;function Mte(){if(jte)return gS;jte=1,Object.defineProperty(gS,"__esModule",{value:!0}),gS.Literal=void 0;const a=aF();let t=class JS{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=JS.RDF_LANGUAGE_STRING,this.direction=""):r?"termType"in r?(this.language="",this.datatype=r,this.direction=""):(this.language=r.language,this.datatype=r.direction?JS.RDF_DIRECTIONAL_LANGUAGE_STRING:JS.RDF_LANGUAGE_STRING,this.direction=r.direction||""):(this.language="",this.datatype=JS.XSD_STRING,this.direction="")}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&(n.direction===this.direction||!n.direction&&this.direction==="")&&this.datatype.equals(n.datatype)}};return gS.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.RDF_DIRECTIONAL_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),gS}var TS={},qte;function Cte(){if(qte)return TS;qte=1,Object.defineProperty(TS,"__esModule",{value:!0}),TS.Quad=void 0;let a=class{constructor(u,n,r,e){this.termType="Quad",this.value="",this.subject=u,this.predicate=n,this.object=r,this.graph=e}equals(u){return!!u&&(u.termType==="Quad"||!u.termType)&&this.subject.equals(u.subject)&&this.predicate.equals(u.predicate)&&this.object.equals(u.object)&&this.graph.equals(u.graph)}};return TS.Quad=a,TS}var wS={},Bte;function $te(){if(Bte)return wS;Bte=1,Object.defineProperty(wS,"__esModule",{value:!0}),wS.Variable=void 0;let a=class{constructor(u){this.termType="Variable",this.value=u}equals(u){return!!u&&u.termType==="Variable"&&u.value===this.value}};return wS.Variable=a,wS}var Vte;function u2e(){if(Vte)return _S;Vte=1,Object.defineProperty(_S,"__esModule",{value:!0}),_S.DataFactory=void 0;const a=Fte(),t=Pte(),u=Mte(),n=aF(),r=Cte(),e=$te();let i=0,o=class{constructor(s){this.blankNodeCounter=0,s=s||{},this.blankNodePrefix=s.blankNodePrefix||`df_${i++}_`}namedNode(s){return new n.NamedNode(s)}blankNode(s){return new a.BlankNode(s||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(s,l){return new u.Literal(s,l)}variable(s){return new e.Variable(s)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(s,l,f,d){return new r.Quad(s,l,f,d||this.defaultGraph())}fromTerm(s){switch(s.termType){case"NamedNode":return this.namedNode(s.value);case"BlankNode":return this.blankNode(s.value);case"Literal":return s.language?this.literal(s.value,s.language):s.datatype.equals(u.Literal.XSD_STRING)?this.literal(s.value):this.literal(s.value,this.fromTerm(s.datatype));case"Variable":return this.variable(s.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(s.subject),this.fromTerm(s.predicate),this.fromTerm(s.object),this.fromTerm(s.graph))}}fromQuad(s){return this.fromTerm(s)}resetBlankNodeCounter(){this.blankNodeCounter=0}};return _S.DataFactory=o,_S}var Ute;function o2e(){return Ute||(Ute=1,function(a){var t=bf&&bf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var o=Object.getOwnPropertyDescriptor(r,e);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,o)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),u=bf&&bf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),u(Fte(),a),u(u2e(),a),u(Pte(),a),u(Mte(),a),u(aF(),a),u(Cte(),a),u($te(),a)}(bf)),bf}var s2e=o2e();class _f extends Error{}class c2e extends _f{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class l2e extends _f{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class d2e extends _f{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class wh extends _f{}class Qte extends _f{constructor(t){super(`Invalid unit ${t}`)}}class Ur extends _f{}class va extends _f{constructor(){super("Zone is an abstract class")}}const at="numeric",Zn="short",yn="long",DA={year:at,month:at,day:at},Hte={year:at,month:Zn,day:at},f2e={year:at,month:Zn,day:at,weekday:Zn},Gte={year:at,month:yn,day:at},kte={year:at,month:yn,day:at,weekday:yn},zte={hour:at,minute:at},Xte={hour:at,minute:at,second:at},Jte={hour:at,minute:at,second:at,timeZoneName:Zn},Kte={hour:at,minute:at,second:at,timeZoneName:yn},Wte={hour:at,minute:at,hourCycle:"h23"},Yte={hour:at,minute:at,second:at,hourCycle:"h23"},Zte={hour:at,minute:at,second:at,hourCycle:"h23",timeZoneName:Zn},ere={hour:at,minute:at,second:at,hourCycle:"h23",timeZoneName:yn},tre={year:at,month:at,day:at,hour:at,minute:at},rre={year:at,month:at,day:at,hour:at,minute:at,second:at},nre={year:at,month:Zn,day:at,hour:at,minute:at},ire={year:at,month:Zn,day:at,hour:at,minute:at,second:at},h2e={year:at,month:Zn,day:at,weekday:Zn,hour:at,minute:at},are={year:at,month:yn,day:at,hour:at,minute:at,timeZoneName:Zn},ure={year:at,month:yn,day:at,hour:at,minute:at,second:at,timeZoneName:Zn},ore={year:at,month:yn,day:at,weekday:yn,hour:at,minute:at,timeZoneName:yn},sre={year:at,month:yn,day:at,weekday:yn,hour:at,minute:at,second:at,timeZoneName:yn};class SS{get type(){throw new va}get name(){throw new va}get ianaName(){return this.name}get isUniversal(){throw new va}offsetName(t,u){throw new va}formatOffset(t,u){throw new va}offset(t){throw new va}equals(t){throw new va}get isValid(){throw new va}}let uF=null;class PA extends SS{static get instance(){return uF===null&&(uF=new PA),uF}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:u,locale:n}){return Pre(t,u,n)}formatOffset(t,u){return xS(this.offset(t),u)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let LA={};function p2e(a){return LA[a]||(LA[a]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:a,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),LA[a]}const y2e={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function b2e(a,t){const u=a.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(u),[,r,e,i,o,c,s,l]=n;return[i,r,e,o,c,s,l]}function _2e(a,t){const u=a.formatToParts(t),n=[];for(let r=0;r<u.length;r++){const{type:e,value:i}=u[r],o=y2e[e];e==="era"?n[o]=i:mt(o)||(n[o]=parseInt(i,10))}return n}let jA={};class Ci extends SS{static create(t){return jA[t]||(jA[t]=new Ci(t)),jA[t]}static resetCache(){jA={},LA={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=Ci.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:u,locale:n}){return Pre(t,u,n,this.name)}formatOffset(t,u){return xS(this.offset(t),u)}offset(t){const u=new Date(t);if(isNaN(u))return NaN;const n=p2e(this.name);let[r,e,i,o,c,s,l]=n.formatToParts?_2e(n,u):b2e(n,u);o==="BC"&&(r=-Math.abs(r)+1);const d=$A({year:r,month:e,day:i,hour:c===24?0:c,minute:s,second:l,millisecond:0});let h=+u;const p=h%1e3;return h-=p>=0?p:1e3+p,(d-h)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let cre={};function m2e(a,t={}){const u=JSON.stringify([a,t]);let n=cre[u];return n||(n=new Intl.ListFormat(a,t),cre[u]=n),n}let oF={};function sF(a,t={}){const u=JSON.stringify([a,t]);let n=oF[u];return n||(n=new Intl.DateTimeFormat(a,t),oF[u]=n),n}let cF={};function g2e(a,t={}){const u=JSON.stringify([a,t]);let n=cF[u];return n||(n=new Intl.NumberFormat(a,t),cF[u]=n),n}let lF={};function v2e(a,t={}){const{base:u,...n}=t,r=JSON.stringify([a,n]);let e=lF[r];return e||(e=new Intl.RelativeTimeFormat(a,t),lF[r]=e),e}let OS=null;function T2e(){return OS||(OS=new Intl.DateTimeFormat().resolvedOptions().locale,OS)}let lre={};function w2e(a){let t=lre[a];if(!t){const u=new Intl.Locale(a);t="getWeekInfo"in u?u.getWeekInfo():u.weekInfo,lre[a]=t}return t}function S2e(a){const t=a.indexOf("-x-");t!==-1&&(a=a.substring(0,t));const u=a.indexOf("-u-");if(u===-1)return[a];{let n,r;try{n=sF(a).resolvedOptions(),r=a}catch{const c=a.substring(0,u);n=sF(c).resolvedOptions(),r=c}const{numberingSystem:e,calendar:i}=n;return[r,e,i]}}function O2e(a,t,u){return(u||t)&&(a.includes("-u-")||(a+="-u"),u&&(a+=`-ca-${u}`),t&&(a+=`-nu-${t}`)),a}function A2e(a){const t=[];for(let u=1;u<=12;u++){const n=ht.utc(2009,u,1);t.push(a(n))}return t}function E2e(a){const t=[];for(let u=1;u<=7;u++){const n=ht.utc(2016,11,13+u);t.push(a(n))}return t}function MA(a,t,u,n){const r=a.listingMode();return r==="error"?null:r==="en"?u(t):n(t)}function x2e(a){return a.numberingSystem&&a.numberingSystem!=="latn"?!1:a.numberingSystem==="latn"||!a.locale||a.locale.startsWith("en")||new Intl.DateTimeFormat(a.intl).resolvedOptions().numberingSystem==="latn"}class I2e{constructor(t,u,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:r,floor:e,...i}=n;if(!u||Object.keys(i).length>0){const o={useGrouping:!1,...n};n.padTo>0&&(o.minimumIntegerDigits=n.padTo),this.inf=g2e(t,o)}}format(t){if(this.inf){const u=this.floor?Math.floor(t):t;return this.inf.format(u)}else{const u=this.floor?Math.floor(t):mF(t,3);return gr(u,this.padTo)}}}class R2e{constructor(t,u,n){this.opts=n,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const i=-1*(t.offset/60),o=i>=0?`Etc/GMT+${i}`:`Etc/GMT${i}`;t.offset!==0&&Ci.create(o).valid?(r=o,this.dt=t):(r="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,r=t.zone.name):(r="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const e={...this.opts};e.timeZone=e.timeZone||r,this.dtf=sF(u,e)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(u=>{if(u.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...u,value:n}}else return u}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class N2e{constructor(t,u,n){this.opts={style:"long",...n},!u&&Rre()&&(this.rtf=v2e(t,n))}format(t,u){return this.rtf?this.rtf.format(t,u):Z2e(u,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,u){return this.rtf?this.rtf.formatToParts(t,u):[]}}const F2e={firstDay:1,minimalDays:4,weekend:[6,7]};class qt{static fromOpts(t){return qt.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,u,n,r,e=!1){const i=t||sr.defaultLocale,o=i||(e?"en-US":T2e()),c=u||sr.defaultNumberingSystem,s=n||sr.defaultOutputCalendar,l=bF(r)||sr.defaultWeekSettings;return new qt(o,c,s,l,i)}static resetCache(){OS=null,oF={},cF={},lF={}}static fromObject({locale:t,numberingSystem:u,outputCalendar:n,weekSettings:r}={}){return qt.create(t,u,n,r)}constructor(t,u,n,r,e){const[i,o,c]=S2e(t);this.locale=i,this.numberingSystem=u||o||null,this.outputCalendar=n||c||null,this.weekSettings=r,this.intl=O2e(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=e,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=x2e(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),u=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&u?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:qt.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,bF(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,u=!1){return MA(this,t,Mre,()=>{const n=u?{month:t,day:"numeric"}:{month:t},r=u?"format":"standalone";return this.monthsCache[r][t]||(this.monthsCache[r][t]=A2e(e=>this.extract(e,n,"month"))),this.monthsCache[r][t]})}weekdays(t,u=!1){return MA(this,t,Bre,()=>{const n=u?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},r=u?"format":"standalone";return this.weekdaysCache[r][t]||(this.weekdaysCache[r][t]=E2e(e=>this.extract(e,n,"weekday"))),this.weekdaysCache[r][t]})}meridiems(){return MA(this,void 0,()=>$re,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ht.utc(2016,11,13,9),ht.utc(2016,11,13,19)].map(u=>this.extract(u,t,"dayperiod"))}return this.meridiemCache})}eras(t){return MA(this,t,Vre,()=>{const u={era:t};return this.eraCache[t]||(this.eraCache[t]=[ht.utc(-40,1,1),ht.utc(2017,1,1)].map(n=>this.extract(n,u,"era"))),this.eraCache[t]})}extract(t,u,n){const r=this.dtFormatter(t,u),e=r.formatToParts(),i=e.find(o=>o.type.toLowerCase()===n);return i?i.value:null}numberFormatter(t={}){return new I2e(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,u={}){return new R2e(t,this.intl,u)}relFormatter(t={}){return new N2e(this.intl,this.isEnglish(),t)}listFormatter(t={}){return m2e(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Nre()?w2e(this.locale):F2e}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let dF=null;class tn extends SS{static get utcInstance(){return dF===null&&(dF=new tn(0)),dF}static instance(t){return t===0?tn.utcInstance:new tn(t)}static parseSpecifier(t){if(t){const u=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(u)return new tn(VA(u[1],u[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${xS(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${xS(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,u){return xS(this.fixed,u)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class D2e extends SS{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ta(a,t){if(mt(a)||a===null)return t;if(a instanceof SS)return a;if(C2e(a)){const u=a.toLowerCase();return u==="default"?t:u==="local"||u==="system"?PA.instance:u==="utc"||u==="gmt"?tn.utcInstance:tn.parseSpecifier(u)||Ci.create(a)}else return wa(a)?tn.instance(a):typeof a=="object"&&"offset"in a&&typeof a.offset=="function"?a:new D2e(a)}const fF={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},dre={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},P2e=fF.hanidec.replace(/[\[|\]]/g,"").split("");function L2e(a){let t=parseInt(a,10);if(isNaN(t)){t="";for(let u=0;u<a.length;u++){const n=a.charCodeAt(u);if(a[u].search(fF.hanidec)!==-1)t+=P2e.indexOf(a[u]);else for(const r in dre){const[e,i]=dre[r];n>=e&&n<=i&&(t+=n-e)}}return parseInt(t,10)}else return t}let Sh={};function j2e(){Sh={}}function ei({numberingSystem:a},t=""){const u=a||"latn";return Sh[u]||(Sh[u]={}),Sh[u][t]||(Sh[u][t]=new RegExp(`${fF[u]}${t}`)),Sh[u][t]}let fre=()=>Date.now(),hre="system",pre=null,yre=null,bre=null,_re=60,mre,gre=null;class sr{static get now(){return fre}static set now(t){fre=t}static set defaultZone(t){hre=t}static get defaultZone(){return Ta(hre,PA.instance)}static get defaultLocale(){return pre}static set defaultLocale(t){pre=t}static get defaultNumberingSystem(){return yre}static set defaultNumberingSystem(t){yre=t}static get defaultOutputCalendar(){return bre}static set defaultOutputCalendar(t){bre=t}static get defaultWeekSettings(){return gre}static set defaultWeekSettings(t){gre=bF(t)}static get twoDigitCutoffYear(){return _re}static set twoDigitCutoffYear(t){_re=t%100}static get throwOnInvalid(){return mre}static set throwOnInvalid(t){mre=t}static resetCaches(){qt.resetCache(),Ci.resetCache(),ht.resetCache(),j2e()}}class ti{constructor(t,u){this.reason=t,this.explanation=u}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const vre=[0,31,59,90,120,151,181,212,243,273,304,334],Tre=[0,31,60,91,121,152,182,213,244,274,305,335];function Rn(a,t){return new ti("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${a}, which is invalid`)}function hF(a,t,u){const n=new Date(Date.UTC(a,t-1,u));a<100&&a>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const r=n.getUTCDay();return r===0?7:r}function wre(a,t,u){return u+(AS(a)?Tre:vre)[t-1]}function Sre(a,t){const u=AS(a)?Tre:vre,n=u.findIndex(e=>e<t),r=t-u[n];return{month:n+1,day:r}}function pF(a,t){return(a-t+7)%7+1}function qA(a,t=4,u=1){const{year:n,month:r,day:e}=a,i=wre(n,r,e),o=pF(hF(n,r,e),u);let c=Math.floor((i-o+14-t)/7),s;return c<1?(s=n-1,c=ES(s,t,u)):c>ES(n,t,u)?(s=n+1,c=1):s=n,{weekYear:s,weekNumber:c,weekday:o,...QA(a)}}function Ore(a,t=4,u=1){const{weekYear:n,weekNumber:r,weekday:e}=a,i=pF(hF(n,1,t),u),o=Ah(n);let c=r*7+e-i-7+t,s;c<1?(s=n-1,c+=Ah(s)):c>o?(s=n+1,c-=Ah(n)):s=n;const{month:l,day:f}=Sre(s,c);return{year:s,month:l,day:f,...QA(a)}}function yF(a){const{year:t,month:u,day:n}=a,r=wre(t,u,n);return{year:t,ordinal:r,...QA(a)}}function Are(a){const{year:t,ordinal:u}=a,{month:n,day:r}=Sre(t,u);return{year:t,month:n,day:r,...QA(a)}}function Ere(a,t){if(!mt(a.localWeekday)||!mt(a.localWeekNumber)||!mt(a.localWeekYear)){if(!mt(a.weekday)||!mt(a.weekNumber)||!mt(a.weekYear))throw new wh("Cannot mix locale-based week fields with ISO-based week fields");return mt(a.localWeekday)||(a.weekday=a.localWeekday),mt(a.localWeekNumber)||(a.weekNumber=a.localWeekNumber),mt(a.localWeekYear)||(a.weekYear=a.localWeekYear),delete a.localWeekday,delete a.localWeekNumber,delete a.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function M2e(a,t=4,u=1){const n=CA(a.weekYear),r=Nn(a.weekNumber,1,ES(a.weekYear,t,u)),e=Nn(a.weekday,1,7);return n?r?e?!1:Rn("weekday",a.weekday):Rn("week",a.weekNumber):Rn("weekYear",a.weekYear)}function q2e(a){const t=CA(a.year),u=Nn(a.ordinal,1,Ah(a.year));return t?u?!1:Rn("ordinal",a.ordinal):Rn("year",a.year)}function xre(a){const t=CA(a.year),u=Nn(a.month,1,12),n=Nn(a.day,1,BA(a.year,a.month));return t?u?n?!1:Rn("day",a.day):Rn("month",a.month):Rn("year",a.year)}function Ire(a){const{hour:t,minute:u,second:n,millisecond:r}=a,e=Nn(t,0,23)||t===24&&u===0&&n===0&&r===0,i=Nn(u,0,59),o=Nn(n,0,59),c=Nn(r,0,999);return e?i?o?c?!1:Rn("millisecond",r):Rn("second",n):Rn("minute",u):Rn("hour",t)}function mt(a){return typeof a>"u"}function wa(a){return typeof a=="number"}function CA(a){return typeof a=="number"&&a%1===0}function C2e(a){return typeof a=="string"}function B2e(a){return Object.prototype.toString.call(a)==="[object Date]"}function Rre(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Nre(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function $2e(a){return Array.isArray(a)?a:[a]}function Fre(a,t,u){if(a.length!==0)return a.reduce((n,r)=>{const e=[t(r),r];return n&&u(n[0],e[0])===n[0]?n:e},null)[1]}function V2e(a,t){return t.reduce((u,n)=>(u[n]=a[n],u),{})}function Oh(a,t){return Object.prototype.hasOwnProperty.call(a,t)}function bF(a){if(a==null)return null;if(typeof a!="object")throw new Ur("Week settings must be an object");if(!Nn(a.firstDay,1,7)||!Nn(a.minimalDays,1,7)||!Array.isArray(a.weekend)||a.weekend.some(t=>!Nn(t,1,7)))throw new Ur("Invalid week settings");return{firstDay:a.firstDay,minimalDays:a.minimalDays,weekend:Array.from(a.weekend)}}function Nn(a,t,u){return CA(a)&&a>=t&&a<=u}function U2e(a,t){return a-t*Math.floor(a/t)}function gr(a,t=2){const u=a<0;let n;return u?n="-"+(""+-a).padStart(t,"0"):n=(""+a).padStart(t,"0"),n}function Sa(a){if(!(mt(a)||a===null||a===""))return parseInt(a,10)}function mf(a){if(!(mt(a)||a===null||a===""))return parseFloat(a)}function _F(a){if(!(mt(a)||a===null||a==="")){const t=parseFloat("0."+a)*1e3;return Math.floor(t)}}function mF(a,t,u=!1){const n=10**t;return(u?Math.trunc:Math.round)(a*n)/n}function AS(a){return a%4===0&&(a%100!==0||a%400===0)}function Ah(a){return AS(a)?366:365}function BA(a,t){const u=U2e(t-1,12)+1,n=a+(t-u)/12;return u===2?AS(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][u-1]}function $A(a){let t=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond);return a.year<100&&a.year>=0&&(t=new Date(t),t.setUTCFullYear(a.year,a.month-1,a.day)),+t}function Dre(a,t,u){return-pF(hF(a,1,t),u)+t-1}function ES(a,t=4,u=1){const n=Dre(a,t,u),r=Dre(a+1,t,u);return(Ah(a)-n+r)/7}function gF(a){return a>99?a:a>sr.twoDigitCutoffYear?1900+a:2e3+a}function Pre(a,t,u,n=null){const r=new Date(a),e={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(e.timeZone=n);const i={timeZoneName:t,...e},o=new Intl.DateTimeFormat(u,i).formatToParts(r).find(c=>c.type.toLowerCase()==="timezonename");return o?o.value:null}function VA(a,t){let u=parseInt(a,10);Number.isNaN(u)&&(u=0);const n=parseInt(t,10)||0,r=u<0||Object.is(u,-0)?-n:n;return u*60+r}function Lre(a){const t=Number(a);if(typeof a=="boolean"||a===""||Number.isNaN(t))throw new Ur(`Invalid unit value ${a}`);return t}function UA(a,t){const u={};for(const n in a)if(Oh(a,n)){const r=a[n];if(r==null)continue;u[t(n)]=Lre(r)}return u}function xS(a,t){const u=Math.trunc(Math.abs(a/60)),n=Math.trunc(Math.abs(a%60)),r=a>=0?"+":"-";switch(t){case"short":return`${r}${gr(u,2)}:${gr(n,2)}`;case"narrow":return`${r}${u}${n>0?`:${n}`:""}`;case"techie":return`${r}${gr(u,2)}${gr(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function QA(a){return V2e(a,["hour","minute","second","millisecond"])}const Q2e=["January","February","March","April","May","June","July","August","September","October","November","December"],jre=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],H2e=["J","F","M","A","M","J","J","A","S","O","N","D"];function Mre(a){switch(a){case"narrow":return[...H2e];case"short":return[...jre];case"long":return[...Q2e];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const qre=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Cre=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],G2e=["M","T","W","T","F","S","S"];function Bre(a){switch(a){case"narrow":return[...G2e];case"short":return[...Cre];case"long":return[...qre];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const $re=["AM","PM"],k2e=["Before Christ","Anno Domini"],z2e=["BC","AD"],X2e=["B","A"];function Vre(a){switch(a){case"narrow":return[...X2e];case"short":return[...z2e];case"long":return[...k2e];default:return null}}function J2e(a){return $re[a.hour<12?0:1]}function K2e(a,t){return Bre(t)[a.weekday-1]}function W2e(a,t){return Mre(t)[a.month-1]}function Y2e(a,t){return Vre(t)[a.year<0?0:1]}function Z2e(a,t,u="always",n=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},e=["hours","minutes","seconds"].indexOf(a)===-1;if(u==="auto"&&e){const f=a==="days";switch(t){case 1:return f?"tomorrow":`next ${r[a][0]}`;case-1:return f?"yesterday":`last ${r[a][0]}`;case 0:return f?"today":`this ${r[a][0]}`}}const i=Object.is(t,-0)||t<0,o=Math.abs(t),c=o===1,s=r[a],l=n?c?s[1]:s[2]||s[1]:c?r[a][0]:a;return i?`${o} ${l} ago`:`in ${o} ${l}`}function Ure(a,t){let u="";for(const n of a)n.literal?u+=n.val:u+=t(n.val);return u}const eTe={D:DA,DD:Hte,DDD:Gte,DDDD:kte,t:zte,tt:Xte,ttt:Jte,tttt:Kte,T:Wte,TT:Yte,TTT:Zte,TTTT:ere,f:tre,ff:nre,fff:are,ffff:ore,F:rre,FF:ire,FFF:ure,FFFF:sre};class Qr{static create(t,u={}){return new Qr(t,u)}static parseFormat(t){let u=null,n="",r=!1;const e=[];for(let i=0;i<t.length;i++){const o=t.charAt(i);o==="'"?(n.length>0&&e.push({literal:r||/^\s+$/.test(n),val:n}),u=null,n="",r=!r):r||o===u?n+=o:(n.length>0&&e.push({literal:/^\s+$/.test(n),val:n}),n=o,u=o)}return n.length>0&&e.push({literal:r||/^\s+$/.test(n),val:n}),e}static macroTokenToFormatOpts(t){return eTe[t]}constructor(t,u){this.opts=u,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,u){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...u}).format()}dtFormatter(t,u={}){return this.loc.dtFormatter(t,{...this.opts,...u})}formatDateTime(t,u){return this.dtFormatter(t,u).format()}formatDateTimeParts(t,u){return this.dtFormatter(t,u).formatToParts()}formatInterval(t,u){return this.dtFormatter(t.start,u).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,u){return this.dtFormatter(t,u).resolvedOptions()}num(t,u=0){if(this.opts.forceSimple)return gr(t,u);const n={...this.opts};return u>0&&(n.padTo=u),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,u){const n=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",e=(h,p)=>this.loc.extract(t,h,p),i=h=>t.isOffsetFixed&&t.offset===0&&h.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,h.format):"",o=()=>n?J2e(t):e({hour:"numeric",hourCycle:"h12"},"dayperiod"),c=(h,p)=>n?W2e(t,h):e(p?{month:h}:{month:h,day:"numeric"},"month"),s=(h,p)=>n?K2e(t,h):e(p?{weekday:h}:{weekday:h,month:"long",day:"numeric"},"weekday"),l=h=>{const p=Qr.macroTokenToFormatOpts(h);return p?this.formatWithSystemDefault(t,p):h},f=h=>n?Y2e(t,h):e({era:h},"era"),d=h=>{switch(h){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return i({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return i({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return i({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return o();case"d":return r?e({day:"numeric"},"day"):this.num(t.day);case"dd":return r?e({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return s("short",!0);case"cccc":return s("long",!0);case"ccccc":return s("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return s("short",!1);case"EEEE":return s("long",!1);case"EEEEE":return s("narrow",!1);case"L":return r?e({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return r?e({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return r?e({month:"numeric"},"month"):this.num(t.month);case"MM":return r?e({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return r?e({year:"numeric"},"year"):this.num(t.year);case"yy":return r?e({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return r?e({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return r?e({year:"numeric"},"year"):this.num(t.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return l(h)}};return Ure(Qr.parseFormat(u),d)}formatDurationFromString(t,u){const n=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=c=>s=>{const l=n(s);return l?this.num(c.get(l),s.length):s},e=Qr.parseFormat(u),i=e.reduce((c,{literal:s,val:l})=>s?c:c.concat(l),[]),o=t.shiftTo(...i.map(n).filter(c=>c));return Ure(e,r(o))}}const Qre=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Eh(...a){const t=a.reduce((u,n)=>u+n.source,"");return RegExp(`^${t}$`)}function xh(...a){return t=>a.reduce(([u,n,r],e)=>{const[i,o,c]=e(t,r);return[{...u,...i},o||n,c]},[{},null,1]).slice(0,2)}function Ih(a,...t){if(a==null)return[null,null];for(const[u,n]of t){const r=u.exec(a);if(r)return n(r)}return[null,null]}function Hre(...a){return(t,u)=>{const n={};let r;for(r=0;r<a.length;r++)n[a[r]]=Sa(t[u+r]);return[n,null,u+r]}}const Gre=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,tTe=`(?:${Gre.source}?(?:\\[(${Qre.source})\\])?)?`,vF=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,kre=RegExp(`${vF.source}${tTe}`),TF=RegExp(`(?:T${kre.source})?`),rTe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,nTe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,iTe=/(\d{4})-?(\d{3})/,aTe=Hre("weekYear","weekNumber","weekDay"),uTe=Hre("year","ordinal"),oTe=/(\d{4})-(\d\d)-(\d\d)/,zre=RegExp(`${vF.source} ?(?:${Gre.source}|(${Qre.source}))?`),sTe=RegExp(`(?: ${zre.source})?`);function Rh(a,t,u){const n=a[t];return mt(n)?u:Sa(n)}function cTe(a,t){return[{year:Rh(a,t),month:Rh(a,t+1,1),day:Rh(a,t+2,1)},null,t+3]}function Nh(a,t){return[{hours:Rh(a,t,0),minutes:Rh(a,t+1,0),seconds:Rh(a,t+2,0),milliseconds:_F(a[t+3])},null,t+4]}function IS(a,t){const u=!a[t]&&!a[t+1],n=VA(a[t+1],a[t+2]),r=u?null:tn.instance(n);return[{},r,t+3]}function RS(a,t){const u=a[t]?Ci.create(a[t]):null;return[{},u,t+1]}const lTe=RegExp(`^T?${vF.source}$`),dTe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function fTe(a){const[t,u,n,r,e,i,o,c,s]=a,l=t[0]==="-",f=c&&c[0]==="-",d=(h,p=!1)=>h!==void 0&&(p||h&&l)?-h:h;return[{years:d(mf(u)),months:d(mf(n)),weeks:d(mf(r)),days:d(mf(e)),hours:d(mf(i)),minutes:d(mf(o)),seconds:d(mf(c),c==="-0"),milliseconds:d(_F(s),f)}]}const hTe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function wF(a,t,u,n,r,e,i){const o={year:t.length===2?gF(Sa(t)):Sa(t),month:jre.indexOf(u)+1,day:Sa(n),hour:Sa(r),minute:Sa(e)};return i&&(o.second=Sa(i)),a&&(o.weekday=a.length>3?qre.indexOf(a)+1:Cre.indexOf(a)+1),o}const pTe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function yTe(a){const[,t,u,n,r,e,i,o,c,s,l,f]=a,d=wF(t,r,n,u,e,i,o);let h;return c?h=hTe[c]:s?h=0:h=VA(l,f),[d,new tn(h)]}function bTe(a){return a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const _Te=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,mTe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,gTe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Xre(a){const[,t,u,n,r,e,i,o]=a;return[wF(t,r,n,u,e,i,o),tn.utcInstance]}function vTe(a){const[,t,u,n,r,e,i,o]=a;return[wF(t,o,u,n,r,e,i),tn.utcInstance]}const TTe=Eh(rTe,TF),wTe=Eh(nTe,TF),STe=Eh(iTe,TF),OTe=Eh(kre),Jre=xh(cTe,Nh,IS,RS),ATe=xh(aTe,Nh,IS,RS),ETe=xh(uTe,Nh,IS,RS),xTe=xh(Nh,IS,RS);function ITe(a){return Ih(a,[TTe,Jre],[wTe,ATe],[STe,ETe],[OTe,xTe])}function RTe(a){return Ih(bTe(a),[pTe,yTe])}function NTe(a){return Ih(a,[_Te,Xre],[mTe,Xre],[gTe,vTe])}function FTe(a){return Ih(a,[dTe,fTe])}const DTe=xh(Nh);function PTe(a){return Ih(a,[lTe,DTe])}const LTe=Eh(oTe,sTe),jTe=Eh(zre),MTe=xh(Nh,IS,RS);function qTe(a){return Ih(a,[LTe,Jre],[jTe,MTe])}const Kre="Invalid Duration",Wre={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},CTe={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Wre},Fn=146097/400,Fh=146097/4800,BTe={years:{quarters:4,months:12,weeks:Fn/7,days:Fn,hours:Fn*24,minutes:Fn*24*60,seconds:Fn*24*60*60,milliseconds:Fn*24*60*60*1e3},quarters:{months:3,weeks:Fn/28,days:Fn/4,hours:Fn*24/4,minutes:Fn*24*60/4,seconds:Fn*24*60*60/4,milliseconds:Fn*24*60*60*1e3/4},months:{weeks:Fh/7,days:Fh,hours:Fh*24,minutes:Fh*24*60,seconds:Fh*24*60*60,milliseconds:Fh*24*60*60*1e3},...Wre},gf=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],$Te=gf.slice(0).reverse();function Oa(a,t,u=!1){const n={values:u?t.values:{...a.values,...t.values||{}},loc:a.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||a.conversionAccuracy,matrix:t.matrix||a.matrix};return new Dt(n)}function Yre(a,t){let u=t.milliseconds??0;for(const n of $Te.slice(1))t[n]&&(u+=t[n]*a[n].milliseconds);return u}function Zre(a,t){const u=Yre(a,t)<0?-1:1;gf.reduceRight((n,r)=>{if(mt(t[r]))return n;if(n){const e=t[n]*u,i=a[r][n],o=Math.floor(e/i);t[r]+=o*u,t[n]-=o*i*u}return r},null),gf.reduce((n,r)=>{if(mt(t[r]))return n;if(n){const e=t[n]%1;t[n]-=e,t[r]+=e*a[n][r]}return r},null)}function VTe(a){const t={};for(const[u,n]of Object.entries(a))n!==0&&(t[u]=n);return t}class Dt{constructor(t){const u=t.conversionAccuracy==="longterm"||!1;let n=u?BTe:CTe;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||qt.create(),this.conversionAccuracy=u?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,u){return Dt.fromObject({milliseconds:t},u)}static fromObject(t,u={}){if(t==null||typeof t!="object")throw new Ur(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Dt({values:UA(t,Dt.normalizeUnit),loc:qt.fromObject(u),conversionAccuracy:u.conversionAccuracy,matrix:u.matrix})}static fromDurationLike(t){if(wa(t))return Dt.fromMillis(t);if(Dt.isDuration(t))return t;if(typeof t=="object")return Dt.fromObject(t);throw new Ur(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,u){const[n]=FTe(t);return n?Dt.fromObject(n,u):Dt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,u){const[n]=PTe(t);return n?Dt.fromObject(n,u):Dt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,u=null){if(!t)throw new Ur("need to specify a reason the Duration is invalid");const n=t instanceof ti?t:new ti(t,u);if(sr.throwOnInvalid)throw new d2e(n);return new Dt({invalid:n})}static normalizeUnit(t){const u={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!u)throw new Qte(t);return u}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,u={}){const n={...u,floor:u.round!==!1&&u.floor!==!1};return this.isValid?Qr.create(this.loc,n).formatDurationFromString(this,t):Kre}toHuman(t={}){if(!this.isValid)return Kre;const u=gf.map(n=>{const r=this.values[n];return mt(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(r)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(u)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=mF(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const u=this.toMillis();return u<0||u>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},ht.fromMillis(u,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Yre(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const u=Dt.fromDurationLike(t),n={};for(const r of gf)(Oh(u.values,r)||Oh(this.values,r))&&(n[r]=u.get(r)+this.get(r));return Oa(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const u=Dt.fromDurationLike(t);return this.plus(u.negate())}mapUnits(t){if(!this.isValid)return this;const u={};for(const n of Object.keys(this.values))u[n]=Lre(t(this.values[n],n));return Oa(this,{values:u},!0)}get(t){return this[Dt.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const u={...this.values,...UA(t,Dt.normalizeUnit)};return Oa(this,{values:u})}reconfigure({locale:t,numberingSystem:u,conversionAccuracy:n,matrix:r}={}){const i={loc:this.loc.clone({locale:t,numberingSystem:u}),matrix:r,conversionAccuracy:n};return Oa(this,i)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return Zre(this.matrix,t),Oa(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=VTe(this.normalize().shiftToAll().toObject());return Oa(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(i=>Dt.normalizeUnit(i));const u={},n={},r=this.toObject();let e;for(const i of gf)if(t.indexOf(i)>=0){e=i;let o=0;for(const s in n)o+=this.matrix[s][i]*n[s],n[s]=0;wa(r[i])&&(o+=r[i]);const c=Math.trunc(o);u[i]=c,n[i]=(o*1e3-c*1e3)/1e3}else wa(r[i])&&(n[i]=r[i]);for(const i in n)n[i]!==0&&(u[e]+=i===e?n[i]:n[i]/this.matrix[e][i]);return Zre(this.matrix,u),Oa(this,{values:u},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const u of Object.keys(this.values))t[u]=this.values[u]===0?0:-this.values[u];return Oa(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function u(n,r){return n===void 0||n===0?r===void 0||r===0:n===r}for(const n of gf)if(!u(this.values[n],t.values[n]))return!1;return!0}}const Dh="Invalid Interval";function UTe(a,t){return!a||!a.isValid?cr.invalid("missing or invalid start"):!t||!t.isValid?cr.invalid("missing or invalid end"):t<a?cr.invalid("end before start",`The end of an interval must be after its start, but you had start=${a.toISO()} and end=${t.toISO()}`):null}class cr{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,u=null){if(!t)throw new Ur("need to specify a reason the Interval is invalid");const n=t instanceof ti?t:new ti(t,u);if(sr.throwOnInvalid)throw new l2e(n);return new cr({invalid:n})}static fromDateTimes(t,u){const n=FS(t),r=FS(u),e=UTe(n,r);return e??new cr({start:n,end:r})}static after(t,u){const n=Dt.fromDurationLike(u),r=FS(t);return cr.fromDateTimes(r,r.plus(n))}static before(t,u){const n=Dt.fromDurationLike(u),r=FS(t);return cr.fromDateTimes(r.minus(n),r)}static fromISO(t,u){const[n,r]=(t||"").split("/",2);if(n&&r){let e,i;try{e=ht.fromISO(n,u),i=e.isValid}catch{i=!1}let o,c;try{o=ht.fromISO(r,u),c=o.isValid}catch{c=!1}if(i&&c)return cr.fromDateTimes(e,o);if(i){const s=Dt.fromISO(r,u);if(s.isValid)return cr.after(e,s)}else if(c){const s=Dt.fromISO(n,u);if(s.isValid)return cr.before(o,s)}}return cr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",u){if(!this.isValid)return NaN;const n=this.start.startOf(t,u);let r;return u!=null&&u.useLocaleWeeks?r=this.end.reconfigure({locale:n.locale}):r=this.end,r=r.startOf(t,u),Math.floor(r.diff(n,t).get(t))+(r.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:u}={}){return this.isValid?cr.fromDateTimes(t||this.s,u||this.e):this}splitAt(...t){if(!this.isValid)return[];const u=t.map(FS).filter(i=>this.contains(i)).sort((i,o)=>i.toMillis()-o.toMillis()),n=[];let{s:r}=this,e=0;for(;r<this.e;){const i=u[e]||this.e,o=+i>+this.e?this.e:i;n.push(cr.fromDateTimes(r,o)),r=o,e+=1}return n}splitBy(t){const u=Dt.fromDurationLike(t);if(!this.isValid||!u.isValid||u.as("milliseconds")===0)return[];let{s:n}=this,r=1,e;const i=[];for(;n<this.e;){const o=this.start.plus(u.mapUnits(c=>c*r));e=+o>+this.e?this.e:o,i.push(cr.fromDateTimes(n,e)),n=e,r+=1}return i}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const u=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return u>=n?null:cr.fromDateTimes(u,n)}union(t){if(!this.isValid)return this;const u=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return cr.fromDateTimes(u,n)}static merge(t){const[u,n]=t.sort((r,e)=>r.s-e.s).reduce(([r,e],i)=>e?e.overlaps(i)||e.abutsStart(i)?[r,e.union(i)]:[r.concat([e]),i]:[r,i],[[],null]);return n&&u.push(n),u}static xor(t){let u=null,n=0;const r=[],e=t.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),i=Array.prototype.concat(...e),o=i.sort((c,s)=>c.time-s.time);for(const c of o)n+=c.type==="s"?1:-1,n===1?u=c.time:(u&&+u!=+c.time&&r.push(cr.fromDateTimes(u,c.time)),u=null);return cr.merge(r)}difference(...t){return cr.xor([this].concat(t)).map(u=>this.intersection(u)).filter(u=>u&&!u.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Dh}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=DA,u={}){return this.isValid?Qr.create(this.s.loc.clone(u),t).formatInterval(this):Dh}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Dh}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Dh}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Dh}toFormat(t,{separator:u="  "}={}){return this.isValid?`${this.s.toFormat(t)}${u}${this.e.toFormat(t)}`:Dh}toDuration(t,u){return this.isValid?this.e.diff(this.s,t,u):Dt.invalid(this.invalidReason)}mapEndpoints(t){return cr.fromDateTimes(t(this.s),t(this.e))}}class HA{static hasDST(t=sr.defaultZone){const u=ht.now().setZone(t).set({month:12});return!t.isUniversal&&u.offset!==u.set({month:6}).offset}static isValidIANAZone(t){return Ci.isValidZone(t)}static normalizeZone(t){return Ta(t,sr.defaultZone)}static getStartOfWeek({locale:t=null,locObj:u=null}={}){return(u||qt.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:u=null}={}){return(u||qt.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:u=null}={}){return(u||qt.create(t)).getWeekendDays().slice()}static months(t="long",{locale:u=null,numberingSystem:n=null,locObj:r=null,outputCalendar:e="gregory"}={}){return(r||qt.create(u,n,e)).months(t)}static monthsFormat(t="long",{locale:u=null,numberingSystem:n=null,locObj:r=null,outputCalendar:e="gregory"}={}){return(r||qt.create(u,n,e)).months(t,!0)}static weekdays(t="long",{locale:u=null,numberingSystem:n=null,locObj:r=null}={}){return(r||qt.create(u,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:u=null,numberingSystem:n=null,locObj:r=null}={}){return(r||qt.create(u,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return qt.create(t).meridiems()}static eras(t="short",{locale:u=null}={}){return qt.create(u,null,"gregory").eras(t)}static features(){return{relative:Rre(),localeWeek:Nre()}}}function ene(a,t){const u=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=u(t)-u(a);return Math.floor(Dt.fromMillis(n).as("days"))}function QTe(a,t,u){const n=[["years",(c,s)=>s.year-c.year],["quarters",(c,s)=>s.quarter-c.quarter+(s.year-c.year)*4],["months",(c,s)=>s.month-c.month+(s.year-c.year)*12],["weeks",(c,s)=>{const l=ene(c,s);return(l-l%7)/7}],["days",ene]],r={},e=a;let i,o;for(const[c,s]of n)u.indexOf(c)>=0&&(i=c,r[c]=s(a,t),o=e.plus(r),o>t?(r[c]--,a=e.plus(r),a>t&&(o=a,r[c]--,a=e.plus(r))):a=o);return[a,r,o,i]}function HTe(a,t,u,n){let[r,e,i,o]=QTe(a,t,u);const c=t-r,s=u.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);s.length===0&&(i<t&&(i=r.plus({[o]:1})),i!==r&&(e[o]=(e[o]||0)+c/(i-r)));const l=Dt.fromObject(e,n);return s.length>0?Dt.fromMillis(c,n).shiftTo(...s).plus(l):l}const GTe="missing Intl.DateTimeFormat.formatToParts support";function jt(a,t=u=>u){return{regex:a,deser:([u])=>t(L2e(u))}}const tne="[ ]",rne=new RegExp(tne,"g");function kTe(a){return a.replace(/\./g,"\\.?").replace(rne,tne)}function nne(a){return a.replace(/\./g,"").replace(rne," ").toLowerCase()}function ri(a,t){return a===null?null:{regex:RegExp(a.map(kTe).join("|")),deser:([u])=>a.findIndex(n=>nne(u)===nne(n))+t}}function ine(a,t){return{regex:a,deser:([,u,n])=>VA(u,n),groups:t}}function GA(a){return{regex:a,deser:([t])=>t}}function zTe(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function XTe(a,t){const u=ei(t),n=ei(t,"{2}"),r=ei(t,"{3}"),e=ei(t,"{4}"),i=ei(t,"{6}"),o=ei(t,"{1,2}"),c=ei(t,"{1,3}"),s=ei(t,"{1,6}"),l=ei(t,"{1,9}"),f=ei(t,"{2,4}"),d=ei(t,"{4,6}"),h=m=>({regex:RegExp(zTe(m.val)),deser:([y])=>y,literal:!0}),b=(m=>{if(a.literal)return h(m);switch(m.val){case"G":return ri(t.eras("short"),0);case"GG":return ri(t.eras("long"),0);case"y":return jt(s);case"yy":return jt(f,gF);case"yyyy":return jt(e);case"yyyyy":return jt(d);case"yyyyyy":return jt(i);case"M":return jt(o);case"MM":return jt(n);case"MMM":return ri(t.months("short",!0),1);case"MMMM":return ri(t.months("long",!0),1);case"L":return jt(o);case"LL":return jt(n);case"LLL":return ri(t.months("short",!1),1);case"LLLL":return ri(t.months("long",!1),1);case"d":return jt(o);case"dd":return jt(n);case"o":return jt(c);case"ooo":return jt(r);case"HH":return jt(n);case"H":return jt(o);case"hh":return jt(n);case"h":return jt(o);case"mm":return jt(n);case"m":return jt(o);case"q":return jt(o);case"qq":return jt(n);case"s":return jt(o);case"ss":return jt(n);case"S":return jt(c);case"SSS":return jt(r);case"u":return GA(l);case"uu":return GA(o);case"uuu":return jt(u);case"a":return ri(t.meridiems(),0);case"kkkk":return jt(e);case"kk":return jt(f,gF);case"W":return jt(o);case"WW":return jt(n);case"E":case"c":return jt(u);case"EEE":return ri(t.weekdays("short",!1),1);case"EEEE":return ri(t.weekdays("long",!1),1);case"ccc":return ri(t.weekdays("short",!0),1);case"cccc":return ri(t.weekdays("long",!0),1);case"Z":case"ZZ":return ine(new RegExp(`([+-]${o.source})(?::(${n.source}))?`),2);case"ZZZ":return ine(new RegExp(`([+-]${o.source})(${n.source})?`),2);case"z":return GA(/[a-z_+-/]{1,256}?/i);case" ":return GA(/[^\S\n\r]/);default:return h(m)}})(a)||{invalidReason:GTe};return b.token=a,b}const JTe={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function KTe(a,t,u){const{type:n,value:r}=a;if(n==="literal"){const c=/^\s+$/.test(r);return{literal:!c,val:c?" ":r}}const e=t[n];let i=n;n==="hour"&&(t.hour12!=null?i=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?i="hour12":i="hour24":i=u.hour12?"hour12":"hour24");let o=JTe[i];if(typeof o=="object"&&(o=o[e]),o)return{literal:!1,val:o}}function WTe(a){return[`^${a.map(u=>u.regex).reduce((u,n)=>`${u}(${n.source})`,"")}$`,a]}function YTe(a,t,u){const n=a.match(t);if(n){const r={};let e=1;for(const i in u)if(Oh(u,i)){const o=u[i],c=o.groups?o.groups+1:1;!o.literal&&o.token&&(r[o.token.val[0]]=o.deser(n.slice(e,e+c))),e+=c}return[n,r]}else return[n,{}]}function ZTe(a){const t=e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let u=null,n;return mt(a.z)||(u=Ci.create(a.z)),mt(a.Z)||(u||(u=new tn(a.Z)),n=a.Z),mt(a.q)||(a.M=(a.q-1)*3+1),mt(a.h)||(a.h<12&&a.a===1?a.h+=12:a.h===12&&a.a===0&&(a.h=0)),a.G===0&&a.y&&(a.y=-a.y),mt(a.u)||(a.S=_F(a.u)),[Object.keys(a).reduce((e,i)=>{const o=t(i);return o&&(e[o]=a[i]),e},{}),u,n]}let SF=null;function ewe(){return SF||(SF=ht.fromMillis(1555555555555)),SF}function twe(a,t){if(a.literal)return a;const u=Qr.macroTokenToFormatOpts(a.val),n=sne(u,t);return n==null||n.includes(void 0)?a:n}function ane(a,t){return Array.prototype.concat(...a.map(u=>twe(u,t)))}class une{constructor(t,u){if(this.locale=t,this.format=u,this.tokens=ane(Qr.parseFormat(u),t),this.units=this.tokens.map(n=>XTe(n,t)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,r]=WTe(this.units);this.regex=RegExp(n,"i"),this.handlers=r}}explainFromTokens(t){if(this.isValid){const[u,n]=YTe(t,this.regex,this.handlers),[r,e,i]=n?ZTe(n):[null,null,void 0];if(Oh(n,"a")&&Oh(n,"H"))throw new wh("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:u,matches:n,result:r,zone:e,specificOffset:i}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function one(a,t,u){return new une(a,u).explainFromTokens(t)}function rwe(a,t,u){const{result:n,zone:r,specificOffset:e,invalidReason:i}=one(a,t,u);return[n,r,e,i]}function sne(a,t){if(!a)return null;const n=Qr.create(t,a).dtFormatter(ewe()),r=n.formatToParts(),e=n.resolvedOptions();return r.map(i=>KTe(i,a,e))}const OF="Invalid DateTime",nwe=864e13;function NS(a){return new ti("unsupported zone",`the zone "${a.name}" is not supported`)}function AF(a){return a.weekData===null&&(a.weekData=qA(a.c)),a.weekData}function EF(a){return a.localWeekData===null&&(a.localWeekData=qA(a.c,a.loc.getMinDaysInFirstWeek(),a.loc.getStartOfWeek())),a.localWeekData}function vf(a,t){const u={ts:a.ts,zone:a.zone,c:a.c,o:a.o,loc:a.loc,invalid:a.invalid};return new ht({...u,...t,old:u})}function cne(a,t,u){let n=a-t*60*1e3;const r=u.offset(n);if(t===r)return[n,t];n-=(r-t)*60*1e3;const e=u.offset(n);return r===e?[n,r]:[a-Math.min(r,e)*60*1e3,Math.max(r,e)]}function kA(a,t){a+=t*60*1e3;const u=new Date(a);return{year:u.getUTCFullYear(),month:u.getUTCMonth()+1,day:u.getUTCDate(),hour:u.getUTCHours(),minute:u.getUTCMinutes(),second:u.getUTCSeconds(),millisecond:u.getUTCMilliseconds()}}function zA(a,t,u){return cne($A(a),t,u)}function lne(a,t){const u=a.o,n=a.c.year+Math.trunc(t.years),r=a.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,e={...a.c,year:n,month:r,day:Math.min(a.c.day,BA(n,r))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},i=Dt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),o=$A(e);let[c,s]=cne(o,u,a.zone);return i!==0&&(c+=i,s=a.zone.offset(c)),{ts:c,o:s}}function Ph(a,t,u,n,r,e){const{setZone:i,zone:o}=u;if(a&&Object.keys(a).length!==0||t){const c=t||o,s=ht.fromObject(a,{...u,zone:c,specificOffset:e});return i?s:s.setZone(o)}else return ht.invalid(new ti("unparsable",`the input "${r}" can't be parsed as ${n}`))}function XA(a,t,u=!0){return a.isValid?Qr.create(qt.create("en-US"),{allowZ:u,forceSimple:!0}).formatDateTimeFromString(a,t):null}function xF(a,t){const u=a.c.year>9999||a.c.year<0;let n="";return u&&a.c.year>=0&&(n+="+"),n+=gr(a.c.year,u?6:4),t?(n+="-",n+=gr(a.c.month),n+="-",n+=gr(a.c.day)):(n+=gr(a.c.month),n+=gr(a.c.day)),n}function dne(a,t,u,n,r,e){let i=gr(a.c.hour);return t?(i+=":",i+=gr(a.c.minute),(a.c.millisecond!==0||a.c.second!==0||!u)&&(i+=":")):i+=gr(a.c.minute),(a.c.millisecond!==0||a.c.second!==0||!u)&&(i+=gr(a.c.second),(a.c.millisecond!==0||!n)&&(i+=".",i+=gr(a.c.millisecond,3))),r&&(a.isOffsetFixed&&a.offset===0&&!e?i+="Z":a.o<0?(i+="-",i+=gr(Math.trunc(-a.o/60)),i+=":",i+=gr(Math.trunc(-a.o%60))):(i+="+",i+=gr(Math.trunc(a.o/60)),i+=":",i+=gr(Math.trunc(a.o%60)))),e&&(i+="["+a.zone.ianaName+"]"),i}const fne={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},iwe={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},awe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},hne=["year","month","day","hour","minute","second","millisecond"],uwe=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],owe=["year","ordinal","hour","minute","second","millisecond"];function swe(a){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[a.toLowerCase()];if(!t)throw new Qte(a);return t}function pne(a){switch(a.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return swe(a)}}function cwe(a){return KA[a]||(JA===void 0&&(JA=sr.now()),KA[a]=a.offset(JA)),KA[a]}function yne(a,t){const u=Ta(t.zone,sr.defaultZone);if(!u.isValid)return ht.invalid(NS(u));const n=qt.fromObject(t);let r,e;if(mt(a.year))r=sr.now();else{for(const c of hne)mt(a[c])&&(a[c]=fne[c]);const i=xre(a)||Ire(a);if(i)return ht.invalid(i);const o=cwe(u);[r,e]=zA(a,o,u)}return new ht({ts:r,zone:u,loc:n,o:e})}function bne(a,t,u){const n=mt(u.round)?!0:u.round,r=(i,o)=>(i=mF(i,n||u.calendary?0:2,!0),t.loc.clone(u).relFormatter(u).format(i,o)),e=i=>u.calendary?t.hasSame(a,i)?0:t.startOf(i).diff(a.startOf(i),i).get(i):t.diff(a,i).get(i);if(u.unit)return r(e(u.unit),u.unit);for(const i of u.units){const o=e(i);if(Math.abs(o)>=1)return r(o,i)}return r(a>t?-0:0,u.units[u.units.length-1])}function _ne(a){let t={},u;return a.length>0&&typeof a[a.length-1]=="object"?(t=a[a.length-1],u=Array.from(a).slice(0,a.length-1)):u=Array.from(a),[t,u]}let JA,KA={};class ht{constructor(t){const u=t.zone||sr.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new ti("invalid input"):null)||(u.isValid?null:NS(u));this.ts=mt(t.ts)?sr.now():t.ts;let r=null,e=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(u))[r,e]=[t.old.c,t.old.o];else{const o=wa(t.o)&&!t.old?t.o:u.offset(this.ts);r=kA(this.ts,o),n=Number.isNaN(r.year)?new ti("invalid input"):null,r=n?null:r,e=n?null:o}this._zone=u,this.loc=t.loc||qt.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=r,this.o=e,this.isLuxonDateTime=!0}static now(){return new ht({})}static local(){const[t,u]=_ne(arguments),[n,r,e,i,o,c,s]=u;return yne({year:n,month:r,day:e,hour:i,minute:o,second:c,millisecond:s},t)}static utc(){const[t,u]=_ne(arguments),[n,r,e,i,o,c,s]=u;return t.zone=tn.utcInstance,yne({year:n,month:r,day:e,hour:i,minute:o,second:c,millisecond:s},t)}static fromJSDate(t,u={}){const n=B2e(t)?t.valueOf():NaN;if(Number.isNaN(n))return ht.invalid("invalid input");const r=Ta(u.zone,sr.defaultZone);return r.isValid?new ht({ts:n,zone:r,loc:qt.fromObject(u)}):ht.invalid(NS(r))}static fromMillis(t,u={}){if(wa(t))return t<-864e13||t>nwe?ht.invalid("Timestamp out of range"):new ht({ts:t,zone:Ta(u.zone,sr.defaultZone),loc:qt.fromObject(u)});throw new Ur(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,u={}){if(wa(t))return new ht({ts:t*1e3,zone:Ta(u.zone,sr.defaultZone),loc:qt.fromObject(u)});throw new Ur("fromSeconds requires a numerical input")}static fromObject(t,u={}){t=t||{};const n=Ta(u.zone,sr.defaultZone);if(!n.isValid)return ht.invalid(NS(n));const r=qt.fromObject(u),e=UA(t,pne),{minDaysInFirstWeek:i,startOfWeek:o}=Ere(e,r),c=sr.now(),s=mt(u.specificOffset)?n.offset(c):u.specificOffset,l=!mt(e.ordinal),f=!mt(e.year),d=!mt(e.month)||!mt(e.day),h=f||d,p=e.weekYear||e.weekNumber;if((h||l)&&p)throw new wh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&l)throw new wh("Can't mix ordinal dates with month/day");const b=p||e.weekday&&!h;let m,y,g=kA(c,s);b?(m=uwe,y=iwe,g=qA(g,i,o)):l?(m=owe,y=awe,g=yF(g)):(m=hne,y=fne);let _=!1;for(const O of m){const E=e[O];mt(E)?_?e[O]=y[O]:e[O]=g[O]:_=!0}const v=b?M2e(e,i,o):l?q2e(e):xre(e),T=v||Ire(e);if(T)return ht.invalid(T);const w=b?Ore(e,i,o):l?Are(e):e,[A,M]=zA(w,s,n),F=new ht({ts:A,zone:n,o:M,loc:r});return e.weekday&&h&&t.weekday!==F.weekday?ht.invalid("mismatched weekday",`you can't specify both a weekday of ${e.weekday} and a date of ${F.toISO()}`):F.isValid?F:ht.invalid(F.invalid)}static fromISO(t,u={}){const[n,r]=ITe(t);return Ph(n,r,u,"ISO 8601",t)}static fromRFC2822(t,u={}){const[n,r]=RTe(t);return Ph(n,r,u,"RFC 2822",t)}static fromHTTP(t,u={}){const[n,r]=NTe(t);return Ph(n,r,u,"HTTP",u)}static fromFormat(t,u,n={}){if(mt(t)||mt(u))throw new Ur("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:e=null}=n,i=qt.fromOpts({locale:r,numberingSystem:e,defaultToEN:!0}),[o,c,s,l]=rwe(i,t,u);return l?ht.invalid(l):Ph(o,c,n,`format ${u}`,t,s)}static fromString(t,u,n={}){return ht.fromFormat(t,u,n)}static fromSQL(t,u={}){const[n,r]=qTe(t);return Ph(n,r,u,"SQL",t)}static invalid(t,u=null){if(!t)throw new Ur("need to specify a reason the DateTime is invalid");const n=t instanceof ti?t:new ti(t,u);if(sr.throwOnInvalid)throw new c2e(n);return new ht({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,u={}){const n=sne(t,qt.fromObject(u));return n?n.map(r=>r?r.val:null).join(""):null}static expandFormat(t,u={}){return ane(Qr.parseFormat(t),qt.fromObject(u)).map(r=>r.val).join("")}static resetCache(){JA=void 0,KA={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?AF(this).weekYear:NaN}get weekNumber(){return this.isValid?AF(this).weekNumber:NaN}get weekday(){return this.isValid?AF(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?EF(this).weekday:NaN}get localWeekNumber(){return this.isValid?EF(this).weekNumber:NaN}get localWeekYear(){return this.isValid?EF(this).weekYear:NaN}get ordinal(){return this.isValid?yF(this.c).ordinal:NaN}get monthShort(){return this.isValid?HA.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?HA.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?HA.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?HA.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,u=6e4,n=$A(this.c),r=this.zone.offset(n-t),e=this.zone.offset(n+t),i=this.zone.offset(n-r*u),o=this.zone.offset(n-e*u);if(i===o)return[this];const c=n-i*u,s=n-o*u,l=kA(c,i),f=kA(s,o);return l.hour===f.hour&&l.minute===f.minute&&l.second===f.second&&l.millisecond===f.millisecond?[vf(this,{ts:c}),vf(this,{ts:s})]:[this]}get isInLeapYear(){return AS(this.year)}get daysInMonth(){return BA(this.year,this.month)}get daysInYear(){return this.isValid?Ah(this.year):NaN}get weeksInWeekYear(){return this.isValid?ES(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?ES(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:u,numberingSystem:n,calendar:r}=Qr.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:u,numberingSystem:n,outputCalendar:r}}toUTC(t=0,u={}){return this.setZone(tn.instance(t),u)}toLocal(){return this.setZone(sr.defaultZone)}setZone(t,{keepLocalTime:u=!1,keepCalendarTime:n=!1}={}){if(t=Ta(t,sr.defaultZone),t.equals(this.zone))return this;if(t.isValid){let r=this.ts;if(u||n){const e=t.offset(this.ts),i=this.toObject();[r]=zA(i,e,t)}return vf(this,{ts:r,zone:t})}else return ht.invalid(NS(t))}reconfigure({locale:t,numberingSystem:u,outputCalendar:n}={}){const r=this.loc.clone({locale:t,numberingSystem:u,outputCalendar:n});return vf(this,{loc:r})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const u=UA(t,pne),{minDaysInFirstWeek:n,startOfWeek:r}=Ere(u,this.loc),e=!mt(u.weekYear)||!mt(u.weekNumber)||!mt(u.weekday),i=!mt(u.ordinal),o=!mt(u.year),c=!mt(u.month)||!mt(u.day),s=o||c,l=u.weekYear||u.weekNumber;if((s||i)&&l)throw new wh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&i)throw new wh("Can't mix ordinal dates with month/day");let f;e?f=Ore({...qA(this.c,n,r),...u},n,r):mt(u.ordinal)?(f={...this.toObject(),...u},mt(u.day)&&(f.day=Math.min(BA(f.year,f.month),f.day))):f=Are({...yF(this.c),...u});const[d,h]=zA(f,this.o,this.zone);return vf(this,{ts:d,o:h})}plus(t){if(!this.isValid)return this;const u=Dt.fromDurationLike(t);return vf(this,lne(this,u))}minus(t){if(!this.isValid)return this;const u=Dt.fromDurationLike(t).negate();return vf(this,lne(this,u))}startOf(t,{useLocaleWeeks:u=!1}={}){if(!this.isValid)return this;const n={},r=Dt.normalizeUnit(t);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks")if(u){const e=this.loc.getStartOfWeek(),{weekday:i}=this;i<e&&(n.weekNumber=this.weekNumber-1),n.weekday=e}else n.weekday=1;if(r==="quarters"){const e=Math.ceil(this.month/3);n.month=(e-1)*3+1}return this.set(n)}endOf(t,u){return this.isValid?this.plus({[t]:1}).startOf(t,u).minus(1):this}toFormat(t,u={}){return this.isValid?Qr.create(this.loc.redefaultToEN(u)).formatDateTimeFromString(this,t):OF}toLocaleString(t=DA,u={}){return this.isValid?Qr.create(this.loc.clone(u),t).formatDateTime(this):OF}toLocaleParts(t={}){return this.isValid?Qr.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:u=!1,suppressMilliseconds:n=!1,includeOffset:r=!0,extendedZone:e=!1}={}){if(!this.isValid)return null;const i=t==="extended";let o=xF(this,i);return o+="T",o+=dne(this,i,u,n,r,e),o}toISODate({format:t="extended"}={}){return this.isValid?xF(this,t==="extended"):null}toISOWeekDate(){return XA(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:u=!1,includeOffset:n=!0,includePrefix:r=!1,extendedZone:e=!1,format:i="extended"}={}){return this.isValid?(r?"T":"")+dne(this,i==="extended",u,t,n,e):null}toRFC2822(){return XA(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return XA(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?xF(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:u=!1,includeOffsetSpace:n=!0}={}){let r="HH:mm:ss.SSS";return(u||t)&&(n&&(r+=" "),u?r+="z":t&&(r+="ZZ")),XA(this,r,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():OF}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const u={...this.c};return t.includeConfig&&(u.outputCalendar=this.outputCalendar,u.numberingSystem=this.loc.numberingSystem,u.locale=this.loc.locale),u}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,u="milliseconds",n={}){if(!this.isValid||!t.isValid)return Dt.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...n},e=$2e(u).map(Dt.normalizeUnit),i=t.valueOf()>this.valueOf(),o=i?this:t,c=i?t:this,s=HTe(o,c,e,r);return i?s.negate():s}diffNow(t="milliseconds",u={}){return this.diff(ht.now(),t,u)}until(t){return this.isValid?cr.fromDateTimes(this,t):this}hasSame(t,u,n){if(!this.isValid)return!1;const r=t.valueOf(),e=this.setZone(t.zone,{keepLocalTime:!0});return e.startOf(u,n)<=r&&r<=e.endOf(u,n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const u=t.base||ht.fromObject({},{zone:this.zone}),n=t.padding?this<u?-t.padding:t.padding:0;let r=["years","months","days","hours","minutes","seconds"],e=t.unit;return Array.isArray(t.unit)&&(r=t.unit,e=void 0),bne(u,this.plus(n),{...t,numeric:"always",units:r,unit:e})}toRelativeCalendar(t={}){return this.isValid?bne(t.base||ht.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(ht.isDateTime))throw new Ur("min requires all arguments be DateTimes");return Fre(t,u=>u.valueOf(),Math.min)}static max(...t){if(!t.every(ht.isDateTime))throw new Ur("max requires all arguments be DateTimes");return Fre(t,u=>u.valueOf(),Math.max)}static fromFormatExplain(t,u,n={}){const{locale:r=null,numberingSystem:e=null}=n,i=qt.fromOpts({locale:r,numberingSystem:e,defaultToEN:!0});return one(i,t,u)}static fromStringExplain(t,u,n={}){return ht.fromFormatExplain(t,u,n)}static buildFormatParser(t,u={}){const{locale:n=null,numberingSystem:r=null}=u,e=qt.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0});return new une(e,t)}static fromFormatParser(t,u,n={}){if(mt(t)||mt(u))throw new Ur("fromFormatParser requires an input string and a format parser");const{locale:r=null,numberingSystem:e=null}=n,i=qt.fromOpts({locale:r,numberingSystem:e,defaultToEN:!0});if(!i.equals(u.locale))throw new Ur(`fromFormatParser called with a locale of ${i}, but the format parser was created for ${u.locale}`);const{result:o,zone:c,specificOffset:s,invalidReason:l}=u.explainFromTokens(t);return l?ht.invalid(l):Ph(o,c,n,`format ${u.format}`,t,s)}static get DATE_SHORT(){return DA}static get DATE_MED(){return Hte}static get DATE_MED_WITH_WEEKDAY(){return f2e}static get DATE_FULL(){return Gte}static get DATE_HUGE(){return kte}static get TIME_SIMPLE(){return zte}static get TIME_WITH_SECONDS(){return Xte}static get TIME_WITH_SHORT_OFFSET(){return Jte}static get TIME_WITH_LONG_OFFSET(){return Kte}static get TIME_24_SIMPLE(){return Wte}static get TIME_24_WITH_SECONDS(){return Yte}static get TIME_24_WITH_SHORT_OFFSET(){return Zte}static get TIME_24_WITH_LONG_OFFSET(){return ere}static get DATETIME_SHORT(){return tre}static get DATETIME_SHORT_WITH_SECONDS(){return rre}static get DATETIME_MED(){return nre}static get DATETIME_MED_WITH_SECONDS(){return ire}static get DATETIME_MED_WITH_WEEKDAY(){return h2e}static get DATETIME_FULL(){return are}static get DATETIME_FULL_WITH_SECONDS(){return ure}static get DATETIME_HUGE(){return ore}static get DATETIME_HUGE_WITH_SECONDS(){return sre}}function FS(a){if(ht.isDateTime(a))return a;if(a&&a.valueOf&&wa(a.valueOf()))return ht.fromJSDate(a);if(a&&typeof a=="object")return ht.fromObject(a);throw new Ur(`Unknown datetime argument: ${a}, of type ${typeof a}`)}const lwe=new a2e.QueryEngine,IF=new s2e.DataFactory;self.onmessage=async a=>{const{sources:t,query:u}=a.data;await dwe(t,u)};async function dwe(a,t){const u=await lwe.queryBindings(t,{sources:[a],lenient:!0,extensionFunctions:{async"http://www.w3.org/2006/time#defaultTimezone"(n){if(n.length!==2)throw new Error("Invalid number of arguments for http://www.w3.org/2006/time#defaultTimezone");return fwe(n[0],n[1])},async"http://www.w3.org/2006/time#periodMinInclusive"(n){if(n.length!==1)throw new Error("Invalid number of arguments for http://www.w3.org/2006/time#periodMinInclusive");return WA(n[0],!0,!0)},async"http://www.w3.org/2006/time#periodMinExclusive"(n){if(n.length!==1)throw new Error("Invalid number of arguments for http://www.w3.org/2006/time#periodMinExclusive");return WA(n[0],!0,!1)},async"http://www.w3.org/2006/time#periodMaxInclusive"(n){if(n.length!==1)throw new Error("Invalid number of arguments for http://www.w3.org/2006/time#periodMaxInclusive");return WA(n[0],!1,!0)},async"http://www.w3.org/2006/time#periodMaxExclusive"(n){if(n.length!==1)throw new Error("Invalid number of arguments for http://www.w3.org/2006/time#periodMaxExclusive");return WA(n[0],!1,!1)}}});u.on("data",n=>{postMessage(n.toString())}),u.on("end",()=>{console.log("done in worker"),postMessage("done")})}function fwe(a,t){if(a.termType!=="Literal"||a.datatype.value!=="http://www.w3.org/2001/XMLSchema#dateTime"&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#date")return console.error(`Invalid dateTime Term: ${a.value}`),a;if(!(t.termType==="Literal"&&t.datatype.value==="http://www.w3.org/2001/XMLSchema#string"))return console.error(`Invalid timezone Term: ${t.value}`),a;let u=ht.fromISO(a.value,{setZone:!0});return!u.isValid||/(Z|[+-]\d{2}:\d{2})$/.test(a.value)?a:(u=ht.fromISO(a.value,{zone:t.value}),u.isValid?IF.literal(a.datatype.value==="http://www.w3.org/2001/XMLSchema#dateTime"?u.toISO():u.toFormat("yyyy-MM-ddZZ"),a.datatype):(console.error(`Invalid timezone: ${t.value}`),a))}function hwe(a){return IF.namedNode(DS(a))}function DS(a){return`http://www.w3.org/2001/XMLSchema#${a}`}function WA(a,t,u){if(a.termType!=="Literal")return console.error(`Invalid term: ${a.value}. Must be Literal.`),a;let n,r,e,i;if(a.datatype.value===DS("gYear")){const c=a.value.match(/^(-?([1-9][0-9]{3,}|0[0-9]{3}))(Z|([+\-])((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/);if(!c)return console.error(`Invalid xsd:gYear: ${a.value}`),a;n=c[1],r=c[3],e="year",i={year:1}}else if(a.datatype.value===DS("gYearMonth")){const c=a.value.match(/^(-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2]))(Z|([+\-])((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/);if(!c)return console.error(`Invalid xsd:gYearMonth: ${a.value}`),a;n=c[1],r=c[4],e="month",i={month:1}}else if(a.datatype.value===DS("date")){const c=a.value.match(/^(-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01]))(Z|([+\-])((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/);if(!c)return console.error(`Invalid xsd:date: ${a.value}`),a;n=c[1],r=c[5],e="day",i={day:1}}else if(a.datatype.value===DS("dateTime")){const c=a.value.match(/^(-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\.[0-9]+)?|(24:00:00(\.0+)?)))(Z|([+\-])((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/);if(!c)return console.error(`Invalid xsd:dateTime: ${a.value}`),a;n=c[1],r=c[10],e="millisecond",i={millisecond:1}}else return a;r||(r=t?"+14:00":"-14:00"),r==="Z"&&(r="+00:00");let o;return t?o=u?ht.fromISO(n,{zone:r}).startOf(e).setZone(r).toISO():ht.fromISO(n,{zone:r}).minus(i).endOf(e).setZone(r).toISO():o=u?ht.fromISO(n,{zone:r}).endOf(e).setZone(r).toISO():ht.fromISO(n,{zone:r}).plus(i).startOf(e).setZone(r).toISO(),o?IF.literal(o,hwe("dateTime")):(console.error(`Invalid value for dateTime: ${a.value}`),a)}})();
