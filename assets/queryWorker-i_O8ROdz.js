var KSe=Object.defineProperty;var iae=Ft=>{throw TypeError(Ft)};var YSe=(Ft,Qt,sr)=>Qt in Ft?KSe(Ft,Qt,{enumerable:!0,configurable:!0,writable:!0,value:sr}):Ft[Qt]=sr;var We=(Ft,Qt,sr)=>YSe(Ft,typeof Qt!="symbol"?Qt+"":Qt,sr),jD=(Ft,Qt,sr)=>Qt.has(Ft)||iae("Cannot "+sr);var v=(Ft,Qt,sr)=>(jD(Ft,Qt,"read from private field"),sr?sr.call(Ft):Qt.get(Ft)),Le=(Ft,Qt,sr)=>Qt.has(Ft)?iae("Cannot add the same private member more than once"):Qt instanceof WeakSet?Qt.add(Ft):Qt.set(Ft,sr),be=(Ft,Qt,sr,En)=>(jD(Ft,Qt,"write to private field"),En?En.call(Ft,sr):Qt.set(Ft,sr),sr),ae=(Ft,Qt,sr)=>(jD(Ft,Qt,"access private method"),sr);var Fr=(Ft,Qt,sr,En)=>({set _(ro){be(Ft,Qt,ro,sr)},get _(){return v(Ft,Qt,En)}});(function(){"use strict";var Ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qt(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function sr(a){if(a.__esModule)return a;var t=a.default;if(typeof t=="function"){var o=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};o.prototype=t.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(a).forEach(function(n){var r=Object.getOwnPropertyDescriptor(a,n);Object.defineProperty(o,n,r.get?r:{enumerable:!0,get:function(){return a[n]}})}),o}var En={},ro={},no={},yp={},io={},bp={},ao={},oo={},_p="delete",Wt=5,xn=1<<Wt,en=xn-1,Nt={};function sx(){return{value:!1}}function In(a){a&&(a.value=!0)}function ux(){}function ah(a){return a.size===void 0&&(a.size=a.__iterate(b6)),a.size}function na(a,t){if(typeof t!="number"){var o=t>>>0;if(""+o!==t||o===4294967295)return NaN;t=o}return t<0?ah(a)+t:t}function b6(){return!0}function mp(a,t,o){return(a===0&&!m6(a)||o!==void 0&&a<=-o)&&(t===void 0||o!==void 0&&t>=o)}function oh(a,t){return _6(a,t,0)}function gp(a,t){return _6(a,t,t)}function _6(a,t,o){return a===void 0?o:m6(a)?t===1/0?t:Math.max(0,t+a)|0:t===void 0||t===a?a:Math.min(t,a)|0}function m6(a){return a<0||a===0&&1/a===-1/0}var g6="@@__IMMUTABLE_ITERABLE__@@";function Hr(a){return!!(a&&a[g6])}var v6="@@__IMMUTABLE_KEYED__@@";function Ht(a){return!!(a&&a[v6])}var T6="@@__IMMUTABLE_INDEXED__@@";function Dr(a){return!!(a&&a[T6])}function sh(a){return Ht(a)||Dr(a)}var Jt=function(t){return Hr(t)?t:Gr(t)},Rn=function(a){function t(o){return Ht(o)?o:aa(o)}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t}(Jt),so=function(a){function t(o){return Dr(o)?o:Nn(o)}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t}(Jt),uh=function(a){function t(o){return Hr(o)&&!sh(o)?o:dh(o)}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t}(Jt);Jt.Keyed=Rn,Jt.Indexed=so,Jt.Set=uh;var w6="@@__IMMUTABLE_SEQ__@@";function vp(a){return!!(a&&a[w6])}var S6="@@__IMMUTABLE_RECORD__@@";function ia(a){return!!(a&&a[S6])}function bn(a){return Hr(a)||ia(a)}var ch="@@__IMMUTABLE_ORDERED__@@";function _n(a){return!!(a&&a[ch])}var Tp=0,Vn=1,Fn=2,cx=typeof Symbol=="function"&&Symbol.iterator,O6="@@iterator",xO=cx||O6,jt=function(t){this.next=t};jt.prototype.toString=function(){return"[Iterator]"},jt.KEYS=Tp,jt.VALUES=Vn,jt.ENTRIES=Fn,jt.prototype.inspect=jt.prototype.toSource=function(){return this.toString()},jt.prototype[xO]=function(){return this};function Kt(a,t,o,n){var r=a===0?t:a===1?o:[t,o];return n?n.value=r:n={value:r,done:!1},n}function tn(){return{value:void 0,done:!0}}function lx(a){return Array.isArray(a)?!0:!!IO(a)}function A6(a){return a&&typeof a.next=="function"}function dx(a){var t=IO(a);return t&&t.call(a)}function IO(a){var t=a&&(cx&&a[cx]||a[O6]);if(typeof t=="function")return t}function Lae(a){var t=IO(a);return t&&t===a.entries}function jae(a){var t=IO(a);return t&&t===a.keys}var lh=Object.prototype.hasOwnProperty;function fx(a){return Array.isArray(a)||typeof a=="string"?!0:a&&typeof a=="object"&&Number.isInteger(a.length)&&a.length>=0&&(a.length===0?Object.keys(a).length===1:a.hasOwnProperty(a.length-1))}var Gr=function(a){function t(o){return o==null?px():bn(o)?o.toSeq():qae(o)}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(n,r){var e=this._cache;if(e){for(var i=e.length,s=0;s!==i;){var c=e[r?i-++s:s++];if(n(c[1],c[0],this)===!1)break}return s}return this.__iterateUncached(n,r)},t.prototype.__iterator=function(n,r){var e=this._cache;if(e){var i=e.length,s=0;return new jt(function(){if(s===i)return tn();var c=e[r?i-++s:s++];return Kt(n,c[0],c[1])})}return this.__iteratorUncached(n,r)},t}(Jt),aa=function(a){function t(o){return o==null?px().toKeyedSeq():Hr(o)?Ht(o)?o.toSeq():o.fromEntrySeq():ia(o)?o.toSeq():yx(o)}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(Gr),Nn=function(a){function t(o){return o==null?px():Hr(o)?Ht(o)?o.entrySeq():o.toIndexedSeq():ia(o)?o.toSeq().entrySeq():x6(o)}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(Gr),dh=function(a){function t(o){return(Hr(o)&&!sh(o)?o:Nn(o)).toSetSeq()}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(Gr);Gr.isSeq=vp,Gr.Keyed=aa,Gr.Set=dh,Gr.Indexed=Nn,Gr.prototype[w6]=!0;var uo=function(a){function t(o){this._array=o,this.size=o.length}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.get=function(n,r){return this.has(n)?this._array[na(this,n)]:r},t.prototype.__iterate=function(n,r){for(var e=this._array,i=e.length,s=0;s!==i;){var c=r?i-++s:s++;if(n(e[c],c,this)===!1)break}return s},t.prototype.__iterator=function(n,r){var e=this._array,i=e.length,s=0;return new jt(function(){if(s===i)return tn();var c=r?i-++s:s++;return Kt(n,c,e[c])})},t}(Nn),hx=function(a){function t(o){var n=Object.keys(o).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(o):[]);this._object=o,this._keys=n,this.size=n.length}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.get=function(n,r){return r!==void 0&&!this.has(n)?r:this._object[n]},t.prototype.has=function(n){return lh.call(this._object,n)},t.prototype.__iterate=function(n,r){for(var e=this._object,i=this._keys,s=i.length,c=0;c!==s;){var u=i[r?s-++c:c++];if(n(e[u],u,this)===!1)break}return c},t.prototype.__iterator=function(n,r){var e=this._object,i=this._keys,s=i.length,c=0;return new jt(function(){if(c===s)return tn();var u=i[r?s-++c:c++];return Kt(n,u,e[u])})},t}(aa);hx.prototype[ch]=!0;var Mae=function(a){function t(o){this._collection=o,this.size=o.length||o.size}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(n,r){if(r)return this.cacheResult().__iterate(n,r);var e=this._collection,i=dx(e),s=0;if(A6(i))for(var c;!(c=i.next()).done&&n(c.value,s++,this)!==!1;);return s},t.prototype.__iteratorUncached=function(n,r){if(r)return this.cacheResult().__iterator(n,r);var e=this._collection,i=dx(e);if(!A6(i))return new jt(tn);var s=0;return new jt(function(){var c=i.next();return c.done?c:Kt(n,s++,c.value)})},t}(Nn),E6;function px(){return E6||(E6=new uo([]))}function yx(a){var t=bx(a);if(t)return t.fromEntrySeq();if(typeof a=="object")return new hx(a);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+a)}function x6(a){var t=bx(a);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+a)}function qae(a){var t=bx(a);if(t)return Lae(a)?t.fromEntrySeq():jae(a)?t.toSetSeq():t;if(typeof a=="object")return new hx(a);throw new TypeError("Expected Array or collection object of values, or keyed object: "+a)}function bx(a){return fx(a)?new uo(a):lx(a)?new Mae(a):void 0}var I6="@@__IMMUTABLE_MAP__@@";function wp(a){return!!(a&&a[I6])}function RO(a){return wp(a)&&_n(a)}function FO(a){return!!(a&&typeof a.equals=="function"&&typeof a.hashCode=="function")}function Er(a,t){if(a===t||a!==a&&t!==t)return!0;if(!a||!t)return!1;if(typeof a.valueOf=="function"&&typeof t.valueOf=="function"){if(a=a.valueOf(),t=t.valueOf(),a===t||a!==a&&t!==t)return!0;if(!a||!t)return!1}return!!(FO(a)&&FO(t)&&a.equals(t))}var Sp=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,o){t|=0,o|=0;var n=t&65535,r=o&65535;return n*r+((t>>>16)*r+n*(o>>>16)<<16>>>0)|0};function NO(a){return a>>>1&1073741824|a&3221225471}var Cae=Object.prototype.valueOf;function rn(a){if(a==null)return R6(a);if(typeof a.hashCode=="function")return NO(a.hashCode(a));var t=Hae(a);if(t==null)return R6(t);switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return Bae(t);case"string":return t.length>Gae?$ae(t):_x(t);case"object":case"function":return Vae(t);case"symbol":return Uae(t);default:if(typeof t.toString=="function")return _x(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function R6(a){return a===null?1108378658:1108378659}function Bae(a){if(a!==a||a===1/0)return 0;var t=a|0;for(t!==a&&(t^=a*4294967295);a>4294967295;)a/=4294967295,t^=a;return NO(t)}function $ae(a){var t=wx[a];return t===void 0&&(t=_x(a),Tx===zae&&(Tx=0,wx={}),Tx++,wx[a]=t),t}function _x(a){for(var t=0,o=0;o<a.length;o++)t=31*t+a.charCodeAt(o)|0;return NO(t)}function Uae(a){var t=P6[a];return t!==void 0||(t=D6(),P6[a]=t),t}function Vae(a){var t;if(mx&&(t=gx.get(a),t!==void 0)||(t=a[co],t!==void 0)||!N6&&(t=a.propertyIsEnumerable&&a.propertyIsEnumerable[co],t!==void 0||(t=Qae(a),t!==void 0)))return t;if(t=D6(),mx)gx.set(a,t);else{if(F6!==void 0&&F6(a)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(N6)Object.defineProperty(a,co,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(a.propertyIsEnumerable!==void 0&&a.propertyIsEnumerable===a.constructor.prototype.propertyIsEnumerable)a.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},a.propertyIsEnumerable[co]=t;else if(a.nodeType!==void 0)a[co]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var F6=Object.isExtensible,N6=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function Qae(a){if(a&&a.nodeType>0)switch(a.nodeType){case 1:return a.uniqueID;case 9:return a.documentElement&&a.documentElement.uniqueID}}function Hae(a){return a.valueOf!==Cae&&typeof a.valueOf=="function"?a.valueOf(a):a}function D6(){var a=++vx;return vx&1073741824&&(vx=0),a}var mx=typeof WeakMap=="function",gx;mx&&(gx=new WeakMap);var P6=Object.create(null),vx=0,co="__immutablehash__";typeof Symbol=="function"&&(co=Symbol(co));var Gae=16,zae=255,Tx=0,wx={},DO=function(a){function t(o,n){this._iter=o,this._useKeys=n,this.size=o.size}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.get=function(n,r){return this._iter.get(n,r)},t.prototype.has=function(n){return this._iter.has(n)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var n=this,r=Sx(this,!0);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().reverse()}),r},t.prototype.map=function(n,r){var e=this,i=C6(this,n,r);return this._useKeys||(i.valueSeq=function(){return e._iter.toSeq().map(n,r)}),i},t.prototype.__iterate=function(n,r){var e=this;return this._iter.__iterate(function(i,s){return n(i,s,e)},r)},t.prototype.__iterator=function(n,r){return this._iter.__iterator(n,r)},t}(aa);DO.prototype[ch]=!0;var L6=function(a){function t(o){this._iter=o,this.size=o.size}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.includes=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,r){var e=this,i=0;return r&&ah(this),this._iter.__iterate(function(s){return n(s,r?e.size-++i:i++,e)},r)},t.prototype.__iterator=function(n,r){var e=this,i=this._iter.__iterator(Vn,r),s=0;return r&&ah(this),new jt(function(){var c=i.next();return c.done?c:Kt(n,r?e.size-++s:s++,c.value,c)})},t}(Nn),j6=function(a){function t(o){this._iter=o,this.size=o.size}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.has=function(n){return this._iter.includes(n)},t.prototype.__iterate=function(n,r){var e=this;return this._iter.__iterate(function(i){return n(i,i,e)},r)},t.prototype.__iterator=function(n,r){var e=this._iter.__iterator(Vn,r);return new jt(function(){var i=e.next();return i.done?i:Kt(n,i.value,i.value,i)})},t}(dh),M6=function(a){function t(o){this._iter=o,this.size=o.size}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(n,r){var e=this;return this._iter.__iterate(function(i){if(i){Q6(i);var s=Hr(i);return n(s?i.get(1):i[1],s?i.get(0):i[0],e)}},r)},t.prototype.__iterator=function(n,r){var e=this._iter.__iterator(Vn,r);return new jt(function(){for(;;){var i=e.next();if(i.done)return i;var s=i.value;if(s){Q6(s);var c=Hr(s);return Kt(n,c?s.get(0):s[0],c?s.get(1):s[1],i)}}})},t}(aa);L6.prototype.cacheResult=DO.prototype.cacheResult=j6.prototype.cacheResult=M6.prototype.cacheResult=Ex;function q6(a){var t=di(a);return t._iter=a,t.size=a.size,t.flip=function(){return a},t.reverse=function(){var o=a.reverse.apply(this);return o.flip=function(){return a.reverse()},o},t.has=function(o){return a.includes(o)},t.includes=function(o){return a.has(o)},t.cacheResult=Ex,t.__iterateUncached=function(o,n){var r=this;return a.__iterate(function(e,i){return o(i,e,r)!==!1},n)},t.__iteratorUncached=function(o,n){if(o===Fn){var r=a.__iterator(o,n);return new jt(function(){var e=r.next();if(!e.done){var i=e.value[0];e.value[0]=e.value[1],e.value[1]=i}return e})}return a.__iterator(o===Vn?Tp:Vn,n)},t}function C6(a,t,o){var n=di(a);return n.size=a.size,n.has=function(r){return a.has(r)},n.get=function(r,e){var i=a.get(r,Nt);return i===Nt?e:t.call(o,i,r,a)},n.__iterateUncached=function(r,e){var i=this;return a.__iterate(function(s,c,u){return r(t.call(o,s,c,u),c,i)!==!1},e)},n.__iteratorUncached=function(r,e){var i=a.__iterator(Fn,e);return new jt(function(){var s=i.next();if(s.done)return s;var c=s.value,u=c[0];return Kt(r,u,t.call(o,c[1],u,a),s)})},n}function Sx(a,t){var o=this,n=di(a);return n._iter=a,n.size=a.size,n.reverse=function(){return a},a.flip&&(n.flip=function(){var r=q6(a);return r.reverse=function(){return a.flip()},r}),n.get=function(r,e){return a.get(t?r:-1-r,e)},n.has=function(r){return a.has(t?r:-1-r)},n.includes=function(r){return a.includes(r)},n.cacheResult=Ex,n.__iterate=function(r,e){var i=this,s=0;return e&&ah(a),a.__iterate(function(c,u){return r(c,t?u:e?i.size-++s:s++,i)},!e)},n.__iterator=function(r,e){var i=0;e&&ah(a);var s=a.__iterator(Fn,!e);return new jt(function(){var c=s.next();if(c.done)return c;var u=c.value;return Kt(r,t?u[0]:e?o.size-++i:i++,u[1],c)})},n}function B6(a,t,o,n){var r=di(a);return n&&(r.has=function(e){var i=a.get(e,Nt);return i!==Nt&&!!t.call(o,i,e,a)},r.get=function(e,i){var s=a.get(e,Nt);return s!==Nt&&t.call(o,s,e,a)?s:i}),r.__iterateUncached=function(e,i){var s=this,c=0;return a.__iterate(function(u,l,f){if(t.call(o,u,l,f))return c++,e(u,n?l:c-1,s)},i),c},r.__iteratorUncached=function(e,i){var s=a.__iterator(Fn,i),c=0;return new jt(function(){for(;;){var u=s.next();if(u.done)return u;var l=u.value,f=l[0],d=l[1];if(t.call(o,d,f,a))return Kt(e,n?f:c++,d,u)}})},r}function kae(a,t,o){var n=ua().asMutable();return a.__iterate(function(r,e){n.update(t.call(o,r,e,a),0,function(i){return i+1})}),n.asImmutable()}function Xae(a,t,o){var n=Ht(a),r=(_n(a)?Hn():ua()).asMutable();a.__iterate(function(i,s){r.update(t.call(o,i,s,a),function(c){return c=c||[],c.push(n?[s,i]:i),c})});var e=Ax(a);return r.map(function(i){return Gt(a,e(i))}).asImmutable()}function Wae(a,t,o){var n=Ht(a),r=[[],[]];a.__iterate(function(i,s){r[t.call(o,i,s,a)?1:0].push(n?[s,i]:i)});var e=Ax(a);return r.map(function(i){return Gt(a,e(i))})}function Ox(a,t,o,n){var r=a.size;if(mp(t,o,r))return a;if(typeof r>"u"&&(t<0||o<0))return Ox(a.toSeq().cacheResult(),t,o,n);var e=oh(t,r),i=gp(o,r),s=i-e,c;s===s&&(c=s<0?0:s);var u=di(a);return u.size=c===0?c:a.size&&c||void 0,!n&&vp(a)&&c>=0&&(u.get=function(l,f){return l=na(this,l),l>=0&&l<c?a.get(l+e,f):f}),u.__iterateUncached=function(l,f){var d=this;if(c===0)return 0;if(f)return this.cacheResult().__iterate(l,f);var h=0,p=!0,_=0;return a.__iterate(function(g,y){if(!(p&&(p=h++<e)))return _++,l(g,n?y:_-1,d)!==!1&&_!==c}),_},u.__iteratorUncached=function(l,f){if(c!==0&&f)return this.cacheResult().__iterator(l,f);if(c===0)return new jt(tn);var d=a.__iterator(l,f),h=0,p=0;return new jt(function(){for(;h++<e;)d.next();if(++p>c)return tn();var _=d.next();return n||l===Vn||_.done?_:l===Tp?Kt(l,p-1,void 0,_):Kt(l,p-1,_.value[1],_)})},u}function Jae(a,t,o){var n=di(a);return n.__iterateUncached=function(r,e){var i=this;if(e)return this.cacheResult().__iterate(r,e);var s=0;return a.__iterate(function(c,u,l){return t.call(o,c,u,l)&&++s&&r(c,u,i)}),s},n.__iteratorUncached=function(r,e){var i=this;if(e)return this.cacheResult().__iterator(r,e);var s=a.__iterator(Fn,e),c=!0;return new jt(function(){if(!c)return tn();var u=s.next();if(u.done)return u;var l=u.value,f=l[0],d=l[1];return t.call(o,d,f,i)?r===Fn?u:Kt(r,f,d,u):(c=!1,tn())})},n}function $6(a,t,o,n){var r=di(a);return r.__iterateUncached=function(e,i){var s=this;if(i)return this.cacheResult().__iterate(e,i);var c=!0,u=0;return a.__iterate(function(l,f,d){if(!(c&&(c=t.call(o,l,f,d))))return u++,e(l,n?f:u-1,s)}),u},r.__iteratorUncached=function(e,i){var s=this;if(i)return this.cacheResult().__iterator(e,i);var c=a.__iterator(Fn,i),u=!0,l=0;return new jt(function(){var f,d,h;do{if(f=c.next(),f.done)return n||e===Vn?f:e===Tp?Kt(e,l++,void 0,f):Kt(e,l++,f.value[1],f);var p=f.value;d=p[0],h=p[1],u&&(u=t.call(o,h,d,s))}while(u);return e===Fn?f:Kt(e,d,h,f)})},r}function Kae(a,t){var o=Ht(a),n=[a].concat(t).map(function(i){return Hr(i)?o&&(i=Rn(i)):i=o?yx(i):x6(Array.isArray(i)?i:[i]),i}).filter(function(i){return i.size!==0});if(n.length===0)return a;if(n.length===1){var r=n[0];if(r===a||o&&Ht(r)||Dr(a)&&Dr(r))return r}var e=new uo(n);return o?e=e.toKeyedSeq():Dr(a)||(e=e.toSetSeq()),e=e.flatten(!0),e.size=n.reduce(function(i,s){if(i!==void 0){var c=s.size;if(c!==void 0)return i+c}},0),e}function U6(a,t,o){var n=di(a);return n.__iterateUncached=function(r,e){if(e)return this.cacheResult().__iterate(r,e);var i=0,s=!1;function c(u,l){u.__iterate(function(f,d){return(!t||l<t)&&Hr(f)?c(f,l+1):(i++,r(f,o?d:i-1,n)===!1&&(s=!0)),!s},e)}return c(a,0),i},n.__iteratorUncached=function(r,e){if(e)return this.cacheResult().__iterator(r,e);var i=a.__iterator(r,e),s=[],c=0;return new jt(function(){for(;i;){var u=i.next();if(u.done!==!1){i=s.pop();continue}var l=u.value;if(r===Fn&&(l=l[1]),(!t||s.length<t)&&Hr(l))s.push(i),i=l.__iterator(r,e);else return o?u:Kt(r,c++,l,u)}return tn()})},n}function Yae(a,t,o){var n=Ax(a);return a.toSeq().map(function(r,e){return n(t.call(o,r,e,a))}).flatten(!0)}function Zae(a,t){var o=di(a);return o.size=a.size&&a.size*2-1,o.__iterateUncached=function(n,r){var e=this,i=0;return a.__iterate(function(s){return(!i||n(t,i++,e)!==!1)&&n(s,i++,e)!==!1},r),i},o.__iteratorUncached=function(n,r){var e=a.__iterator(Vn,r),i=0,s;return new jt(function(){return(!s||i%2)&&(s=e.next(),s.done)?s:i%2?Kt(n,i++,t):Kt(n,i++,s.value,s)})},o}function fh(a,t,o){t||(t=H6);var n=Ht(a),r=0,e=a.toSeq().map(function(i,s){return[s,i,r++,o?o(i,s,a):i]}).valueSeq().toArray();return e.sort(function(i,s){return t(i[3],s[3])||i[2]-s[2]}).forEach(n?function(i,s){e[s].length=2}:function(i,s){e[s]=i[1]}),n?aa(e):Dr(a)?Nn(e):dh(e)}function PO(a,t,o){if(t||(t=H6),o){var n=a.toSeq().map(function(r,e){return[r,o(r,e,a)]}).reduce(function(r,e){return V6(t,r[1],e[1])?e:r});return n&&n[0]}return a.reduce(function(r,e){return V6(t,r,e)?e:r})}function V6(a,t,o){var n=a(o,t);return n===0&&o!==t&&(o==null||o!==o)||n>0}function LO(a,t,o,n){var r=di(a),e=new uo(o).map(function(i){return i.size});return r.size=n?e.max():e.min(),r.__iterate=function(i,s){for(var c=this.__iterator(Vn,s),u,l=0;!(u=c.next()).done&&i(u.value,l++,this)!==!1;);return l},r.__iteratorUncached=function(i,s){var c=o.map(function(f){return f=Jt(f),dx(s?f.reverse():f)}),u=0,l=!1;return new jt(function(){var f;return l||(f=c.map(function(d){return d.next()}),l=n?f.every(function(d){return d.done}):f.some(function(d){return d.done})),l?tn():Kt(i,u++,t.apply(null,f.map(function(d){return d.value})))})},r}function Gt(a,t){return a===t?a:vp(a)?t:a.constructor(t)}function Q6(a){if(a!==Object(a))throw new TypeError("Expected [K, V] tuple: "+a)}function Ax(a){return Ht(a)?Rn:Dr(a)?so:uh}function di(a){return Object.create((Ht(a)?aa:Dr(a)?Nn:dh).prototype)}function Ex(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Gr.prototype.cacheResult.call(this)}function H6(a,t){return a===void 0&&t===void 0?0:a===void 0?1:t===void 0?-1:a>t?1:a<t?-1:0}function fi(a,t){t=t||0;for(var o=Math.max(0,a.length-t),n=new Array(o),r=0;r<o;r++)n[r]=a[r+t];return n}function xx(a,t){if(!a)throw new Error(t)}function mn(a){xx(a!==1/0,"Cannot perform this action with an infinite size.")}function G6(a){if(fx(a)&&typeof a!="string")return a;if(_n(a))return a.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+a)}var eoe=Object.prototype.toString;function jO(a){if(!a||typeof a!="object"||eoe.call(a)!=="[object Object]")return!1;var t=Object.getPrototypeOf(a);if(t===null)return!0;for(var o=t,n=Object.getPrototypeOf(t);n!==null;)o=n,n=Object.getPrototypeOf(o);return o===t}function oa(a){return typeof a=="object"&&(bn(a)||Array.isArray(a)||jO(a))}function Op(a){try{return typeof a=="string"?JSON.stringify(a):String(a)}catch{return JSON.stringify(a)}}function Ix(a,t){return bn(a)?a.has(t):oa(a)&&lh.call(a,t)}function MO(a,t,o){return bn(a)?a.get(t,o):Ix(a,t)?typeof a.get=="function"?a.get(t):a[t]:o}function qO(a){if(Array.isArray(a))return fi(a);var t={};for(var o in a)lh.call(a,o)&&(t[o]=a[o]);return t}function Rx(a,t){if(!oa(a))throw new TypeError("Cannot update non-data-structure value: "+a);if(bn(a)){if(!a.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+a);return a.remove(t)}if(!lh.call(a,t))return a;var o=qO(a);return Array.isArray(o)?o.splice(t,1):delete o[t],o}function Fx(a,t,o){if(!oa(a))throw new TypeError("Cannot update non-data-structure value: "+a);if(bn(a)){if(!a.set)throw new TypeError("Cannot update immutable value without .set() method: "+a);return a.set(t,o)}if(lh.call(a,t)&&o===a[t])return a;var n=qO(a);return n[t]=o,n}function sa(a,t,o,n){n||(n=o,o=void 0);var r=z6(bn(a),a,G6(t),0,o,n);return r===Nt?o:r}function z6(a,t,o,n,r,e){var i=t===Nt;if(n===o.length){var s=i?r:t,c=e(s);return c===s?t:c}if(!i&&!oa(t))throw new TypeError("Cannot update within non-data-structure value in path ["+o.slice(0,n).map(Op)+"]: "+t);var u=o[n],l=i?Nt:MO(t,u,Nt),f=z6(l===Nt?a:bn(l),l,o,n+1,r,e);return f===l?t:f===Nt?Rx(t,u):Fx(i?a?Qn():{}:t,u,f)}function Nx(a,t,o){return sa(a,t,Nt,function(){return o})}function Dx(a,t){return Nx(this,a,t)}function Px(a,t){return sa(a,t,function(){return Nt})}function Lx(a){return Px(this,a)}function CO(a,t,o,n){return sa(a,[t],o,n)}function jx(a,t,o){return arguments.length===1?a(this):CO(this,a,t,o)}function Mx(a,t,o){return sa(this,a,t,o)}function k6(){for(var a=[],t=arguments.length;t--;)a[t]=arguments[t];return W6(this,a)}function X6(a){for(var t=[],o=arguments.length-1;o-- >0;)t[o]=arguments[o+1];if(typeof a!="function")throw new TypeError("Invalid merger function: "+a);return W6(this,t,a)}function W6(a,t,o){for(var n=[],r=0;r<t.length;r++){var e=Rn(t[r]);e.size!==0&&n.push(e)}return n.length===0?a:a.toSeq().size===0&&!a.__ownerID&&n.length===1?a.constructor(n[0]):a.withMutations(function(i){for(var s=o?function(u,l){CO(i,l,Nt,function(f){return f===Nt?u:o(f,u,l)})}:function(u,l){i.set(l,u)},c=0;c<n.length;c++)n[c].forEach(s)})}function J6(a){for(var t=[],o=arguments.length-1;o-- >0;)t[o]=arguments[o+1];return Ep(a,t)}function K6(a,t){for(var o=[],n=arguments.length-2;n-- >0;)o[n]=arguments[n+2];return Ep(t,o,a)}function Y6(a){for(var t=[],o=arguments.length-1;o-- >0;)t[o]=arguments[o+1];return Ap(a,t)}function Z6(a,t){for(var o=[],n=arguments.length-2;n-- >0;)o[n]=arguments[n+2];return Ap(t,o,a)}function Ap(a,t,o){return Ep(a,t,toe(o))}function Ep(a,t,o){if(!oa(a))throw new TypeError("Cannot merge into non-data-structure value: "+a);if(bn(a))return typeof o=="function"&&a.mergeWith?a.mergeWith.apply(a,[o].concat(t)):a.merge?a.merge.apply(a,t):a.concat.apply(a,t);for(var n=Array.isArray(a),r=a,e=n?so:Rn,i=n?function(c){r===a&&(r=qO(r)),r.push(c)}:function(c,u){var l=lh.call(r,u),f=l&&o?o(r[u],c,u):c;(!l||f!==r[u])&&(r===a&&(r=qO(r)),r[u]=f)},s=0;s<t.length;s++)e(t[s]).forEach(i);return r}function toe(a){function t(o,n,r){return oa(o)&&oa(n)&&roe(o,n)?Ep(o,[n],t):a?a(o,n,r):n}return t}function roe(a,t){var o=Gr(a),n=Gr(t);return Dr(o)===Dr(n)&&Ht(o)===Ht(n)}function e4(){for(var a=[],t=arguments.length;t--;)a[t]=arguments[t];return Ap(this,a)}function t4(a){for(var t=[],o=arguments.length-1;o-- >0;)t[o]=arguments[o+1];return Ap(this,t,a)}function qx(a){for(var t=[],o=arguments.length-1;o-- >0;)t[o]=arguments[o+1];return sa(this,a,Qn(),function(n){return Ep(n,t)})}function Cx(a){for(var t=[],o=arguments.length-1;o-- >0;)t[o]=arguments[o+1];return sa(this,a,Qn(),function(n){return Ap(n,t)})}function xp(a){var t=this.asMutable();return a(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Ip(){return this.__ownerID?this:this.__ensureOwner(new ux)}function Rp(){return this.__ensureOwner()}function Bx(){return this.__altered}var ua=function(a){function t(o){return o==null?Qn():wp(o)&&!_n(o)?o:Qn().withMutations(function(n){var r=a(o);mn(r.size),r.forEach(function(e,i){return n.set(i,e)})})}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.of=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return Qn().withMutations(function(e){for(var i=0;i<n.length;i+=2){if(i+1>=n.length)throw new Error("Missing value for key: "+n[i]);e.set(n[i],n[i+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(n,r){return this._root?this._root.get(0,void 0,n,r):r},t.prototype.set=function(n,r){return i4(this,n,r)},t.prototype.remove=function(n){return i4(this,n,Nt)},t.prototype.deleteAll=function(n){var r=Jt(n);return r.size===0?this:this.withMutations(function(e){r.forEach(function(i){return e.remove(i)})})},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Qn()},t.prototype.sort=function(n){return Hn(fh(this,n))},t.prototype.sortBy=function(n,r){return Hn(fh(this,r,n))},t.prototype.map=function(n,r){var e=this;return this.withMutations(function(i){i.forEach(function(s,c){i.set(c,n.call(r,s,c,e))})})},t.prototype.__iterator=function(n,r){return new noe(this,n,r)},t.prototype.__iterate=function(n,r){var e=this,i=0;return this._root&&this._root.iterate(function(s){return i++,n(s[1],s[0],e)},r),i},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Ux(this.size,this._root,n,this.__hash):this.size===0?Qn():(this.__ownerID=n,this.__altered=!1,this)},t}(Rn);ua.isMap=wp;var Yt=ua.prototype;Yt[I6]=!0,Yt[_p]=Yt.remove,Yt.removeAll=Yt.deleteAll,Yt.setIn=Dx,Yt.removeIn=Yt.deleteIn=Lx,Yt.update=jx,Yt.updateIn=Mx,Yt.merge=Yt.concat=k6,Yt.mergeWith=X6,Yt.mergeDeep=e4,Yt.mergeDeepWith=t4,Yt.mergeIn=qx,Yt.mergeDeepIn=Cx,Yt.withMutations=xp,Yt.wasAltered=Bx,Yt.asImmutable=Rp,Yt["@@transducer/init"]=Yt.asMutable=Ip,Yt["@@transducer/step"]=function(a,t){return a.set(t[0],t[1])},Yt["@@transducer/result"]=function(a){return a.asImmutable()};var Fp=function(t,o){this.ownerID=t,this.entries=o};Fp.prototype.get=function(t,o,n,r){for(var e=this.entries,i=0,s=e.length;i<s;i++)if(Er(n,e[i][0]))return e[i][1];return r},Fp.prototype.update=function(t,o,n,r,e,i,s){for(var c=e===Nt,u=this.entries,l=0,f=u.length;l<f&&!Er(r,u[l][0]);l++);var d=l<f;if(d?u[l][1]===e:c)return this;if(In(s),(c||!d)&&In(i),!(c&&u.length===1)){if(!d&&!c&&u.length>=coe)return ioe(t,u,r,e);var h=t&&t===this.ownerID,p=h?u:fi(u);return d?c?l===f-1?p.pop():p[l]=p.pop():p[l]=[r,e]:p.push([r,e]),h?(this.entries=p,this):new Fp(t,p)}};var hh=function(t,o,n){this.ownerID=t,this.bitmap=o,this.nodes=n};hh.prototype.get=function(t,o,n,r){o===void 0&&(o=rn(n));var e=1<<((t===0?o:o>>>t)&en),i=this.bitmap;return(i&e)===0?r:this.nodes[o4(i&e-1)].get(t+Wt,o,n,r)},hh.prototype.update=function(t,o,n,r,e,i,s){n===void 0&&(n=rn(r));var c=(o===0?n:n>>>o)&en,u=1<<c,l=this.bitmap,f=(l&u)!==0;if(!f&&e===Nt)return this;var d=o4(l&u-1),h=this.nodes,p=f?h[d]:void 0,_=Vx(p,t,o+Wt,n,r,e,i,s);if(_===p)return this;if(!f&&_&&h.length>=loe)return ooe(t,h,l,c,_);if(f&&!_&&h.length===2&&a4(h[d^1]))return h[d^1];if(f&&_&&h.length===1&&a4(_))return _;var g=t&&t===this.ownerID,y=f?_?l:l^u:l|u,m=f?_?s4(h,d,_,g):uoe(h,d,g):soe(h,d,_,g);return g?(this.bitmap=y,this.nodes=m,this):new hh(t,y,m)};var Np=function(t,o,n){this.ownerID=t,this.count=o,this.nodes=n};Np.prototype.get=function(t,o,n,r){o===void 0&&(o=rn(n));var e=(t===0?o:o>>>t)&en,i=this.nodes[e];return i?i.get(t+Wt,o,n,r):r},Np.prototype.update=function(t,o,n,r,e,i,s){n===void 0&&(n=rn(r));var c=(o===0?n:n>>>o)&en,u=e===Nt,l=this.nodes,f=l[c];if(u&&!f)return this;var d=Vx(f,t,o+Wt,n,r,e,i,s);if(d===f)return this;var h=this.count;if(!f)h++;else if(!d&&(h--,h<doe))return aoe(t,l,h,c);var p=t&&t===this.ownerID,_=s4(l,c,d,p);return p?(this.count=h,this.nodes=_,this):new Np(t,h,_)};var ph=function(t,o,n){this.ownerID=t,this.keyHash=o,this.entries=n};ph.prototype.get=function(t,o,n,r){for(var e=this.entries,i=0,s=e.length;i<s;i++)if(Er(n,e[i][0]))return e[i][1];return r},ph.prototype.update=function(t,o,n,r,e,i,s){n===void 0&&(n=rn(r));var c=e===Nt;if(n!==this.keyHash)return c?this:(In(s),In(i),Qx(this,t,o,n,[r,e]));for(var u=this.entries,l=0,f=u.length;l<f&&!Er(r,u[l][0]);l++);var d=l<f;if(d?u[l][1]===e:c)return this;if(In(s),(c||!d)&&In(i),c&&f===2)return new Ii(t,this.keyHash,u[l^1]);var h=t&&t===this.ownerID,p=h?u:fi(u);return d?c?l===f-1?p.pop():p[l]=p.pop():p[l]=[r,e]:p.push([r,e]),h?(this.entries=p,this):new ph(t,this.keyHash,p)};var Ii=function(t,o,n){this.ownerID=t,this.keyHash=o,this.entry=n};Ii.prototype.get=function(t,o,n,r){return Er(n,this.entry[0])?this.entry[1]:r},Ii.prototype.update=function(t,o,n,r,e,i,s){var c=e===Nt,u=Er(r,this.entry[0]);if(u?e===this.entry[1]:c)return this;if(In(s),c){In(i);return}return u?t&&t===this.ownerID?(this.entry[1]=e,this):new Ii(t,this.keyHash,[r,e]):(In(i),Qx(this,t,o,rn(r),[r,e]))},Fp.prototype.iterate=ph.prototype.iterate=function(a,t){for(var o=this.entries,n=0,r=o.length-1;n<=r;n++)if(a(o[t?r-n:n])===!1)return!1},hh.prototype.iterate=Np.prototype.iterate=function(a,t){for(var o=this.nodes,n=0,r=o.length-1;n<=r;n++){var e=o[t?r-n:n];if(e&&e.iterate(a,t)===!1)return!1}},Ii.prototype.iterate=function(a,t){return a(this.entry)};var noe=function(a){function t(o,n,r){this._type=n,this._reverse=r,this._stack=o._root&&r4(o._root)}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var n=this._type,r=this._stack;r;){var e=r.node,i=r.index++,s=void 0;if(e.entry){if(i===0)return $x(n,e.entry)}else if(e.entries){if(s=e.entries.length-1,i<=s)return $x(n,e.entries[this._reverse?s-i:i])}else if(s=e.nodes.length-1,i<=s){var c=e.nodes[this._reverse?s-i:i];if(c){if(c.entry)return $x(n,c.entry);r=this._stack=r4(c,r)}continue}r=this._stack=this._stack.__prev}return tn()},t}(jt);function $x(a,t){return Kt(a,t[0],t[1])}function r4(a,t){return{node:a,index:0,__prev:t}}function Ux(a,t,o,n){var r=Object.create(Yt);return r.size=a,r._root=t,r.__ownerID=o,r.__hash=n,r.__altered=!1,r}var n4;function Qn(){return n4||(n4=Ux(0))}function i4(a,t,o){var n,r;if(a._root){var e=sx(),i=sx();if(n=Vx(a._root,a.__ownerID,0,void 0,t,o,e,i),!i.value)return a;r=a.size+(e.value?o===Nt?-1:1:0)}else{if(o===Nt)return a;r=1,n=new Fp(a.__ownerID,[[t,o]])}return a.__ownerID?(a.size=r,a._root=n,a.__hash=void 0,a.__altered=!0,a):n?Ux(r,n):Qn()}function Vx(a,t,o,n,r,e,i,s){return a?a.update(t,o,n,r,e,i,s):e===Nt?a:(In(s),In(i),new Ii(t,n,[r,e]))}function a4(a){return a.constructor===Ii||a.constructor===ph}function Qx(a,t,o,n,r){if(a.keyHash===n)return new ph(t,n,[a.entry,r]);var e=(o===0?a.keyHash:a.keyHash>>>o)&en,i=(o===0?n:n>>>o)&en,s,c=e===i?[Qx(a,t,o+Wt,n,r)]:(s=new Ii(t,n,r),e<i?[a,s]:[s,a]);return new hh(t,1<<e|1<<i,c)}function ioe(a,t,o,n){a||(a=new ux);for(var r=new Ii(a,rn(o),[o,n]),e=0;e<t.length;e++){var i=t[e];r=r.update(a,0,void 0,i[0],i[1])}return r}function aoe(a,t,o,n){for(var r=0,e=0,i=new Array(o),s=0,c=1,u=t.length;s<u;s++,c<<=1){var l=t[s];l!==void 0&&s!==n&&(r|=c,i[e++]=l)}return new hh(a,r,i)}function ooe(a,t,o,n,r){for(var e=0,i=new Array(xn),s=0;o!==0;s++,o>>>=1)i[s]=o&1?t[e++]:void 0;return i[n]=r,new Np(a,e+1,i)}function o4(a){return a-=a>>1&1431655765,a=(a&858993459)+(a>>2&858993459),a=a+(a>>4)&252645135,a+=a>>8,a+=a>>16,a&127}function s4(a,t,o,n){var r=n?a:fi(a);return r[t]=o,r}function soe(a,t,o,n){var r=a.length+1;if(n&&t+1===r)return a[t]=o,a;for(var e=new Array(r),i=0,s=0;s<r;s++)s===t?(e[s]=o,i=-1):e[s]=a[s+i];return e}function uoe(a,t,o){var n=a.length-1;if(o&&t===n)return a.pop(),a;for(var r=new Array(n),e=0,i=0;i<n;i++)i===t&&(e=1),r[i]=a[i+e];return r}var coe=xn/4,loe=xn/2,doe=xn/4,u4="@@__IMMUTABLE_LIST__@@";function BO(a){return!!(a&&a[u4])}var yh=function(a){function t(o){var n=$O();if(o==null)return n;if(BO(o))return o;var r=a(o),e=r.size;return e===0?n:(mn(e),e>0&&e<xn?Pp(0,e,Wt,null,new ca(r.toArray())):n.withMutations(function(i){i.setSize(e),r.forEach(function(s,c){return i.set(c,s)})}))}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(n,r){if(n=na(this,n),n>=0&&n<this.size){n+=this._origin;var e=d4(this,n);return e&&e.array[n&en]}return r},t.prototype.set=function(n,r){return foe(this,n,r)},t.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},t.prototype.insert=function(n,r){return this.splice(n,0,r)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Wt,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):$O()},t.prototype.push=function(){var n=arguments,r=this.size;return this.withMutations(function(e){la(e,0,r+n.length);for(var i=0;i<n.length;i++)e.set(r+i,n[i])})},t.prototype.pop=function(){return la(this,0,-1)},t.prototype.unshift=function(){var n=arguments;return this.withMutations(function(r){la(r,-n.length);for(var e=0;e<n.length;e++)r.set(e,n[e])})},t.prototype.shift=function(){return la(this,1)},t.prototype.concat=function(){for(var n=arguments,r=[],e=0;e<arguments.length;e++){var i=n[e],s=a(typeof i!="string"&&lx(i)?i:[i]);s.size!==0&&r.push(s)}return r.length===0?this:this.size===0&&!this.__ownerID&&r.length===1?this.constructor(r[0]):this.withMutations(function(c){r.forEach(function(u){return u.forEach(function(l){return c.push(l)})})})},t.prototype.setSize=function(n){return la(this,0,n)},t.prototype.map=function(n,r){var e=this;return this.withMutations(function(i){for(var s=0;s<e.size;s++)i.set(s,n.call(r,i.get(s),s,e))})},t.prototype.slice=function(n,r){var e=this.size;return mp(n,r,e)?this:la(this,oh(n,e),gp(r,e))},t.prototype.__iterator=function(n,r){var e=r?this.size:0,i=c4(this,r);return new jt(function(){var s=i();return s===Dp?tn():Kt(n,r?--e:e++,s)})},t.prototype.__iterate=function(n,r){for(var e=r?this.size:0,i=c4(this,r),s;(s=i())!==Dp&&n(s,r?--e:e++,this)!==!1;);return e},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Pp(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?$O():(this.__ownerID=n,this.__altered=!1,this)},t}(so);yh.isList=BO;var vr=yh.prototype;vr[u4]=!0,vr[_p]=vr.remove,vr.merge=vr.concat,vr.setIn=Dx,vr.deleteIn=vr.removeIn=Lx,vr.update=jx,vr.updateIn=Mx,vr.mergeIn=qx,vr.mergeDeepIn=Cx,vr.withMutations=xp,vr.wasAltered=Bx,vr.asImmutable=Rp,vr["@@transducer/init"]=vr.asMutable=Ip,vr["@@transducer/step"]=function(a,t){return a.push(t)},vr["@@transducer/result"]=function(a){return a.asImmutable()};var ca=function(t,o){this.array=t,this.ownerID=o};ca.prototype.removeBefore=function(t,o,n){if(n===o?1<<o:this.array.length===0)return this;var r=n>>>o&en;if(r>=this.array.length)return new ca([],t);var e=r===0,i;if(o>0){var s=this.array[r];if(i=s&&s.removeBefore(t,o-Wt,n),i===s&&e)return this}if(e&&!i)return this;var c=bh(this,t);if(!e)for(var u=0;u<r;u++)c.array[u]=void 0;return i&&(c.array[r]=i),c},ca.prototype.removeAfter=function(t,o,n){if(n===(o?1<<o:0)||this.array.length===0)return this;var r=n-1>>>o&en;if(r>=this.array.length)return this;var e;if(o>0){var i=this.array[r];if(e=i&&i.removeAfter(t,o-Wt,n),e===i&&r===this.array.length-1)return this}var s=bh(this,t);return s.array.splice(r+1),e&&(s.array[r]=e),s};var Dp={};function c4(a,t){var o=a._origin,n=a._capacity,r=Lp(n),e=a._tail;return i(a._root,a._level,0);function i(u,l,f){return l===0?s(u,f):c(u,l,f)}function s(u,l){var f=l===r?e&&e.array:u&&u.array,d=l>o?0:o-l,h=n-l;return h>xn&&(h=xn),function(){if(d===h)return Dp;var p=t?--h:d++;return f&&f[p]}}function c(u,l,f){var d,h=u&&u.array,p=f>o?0:o-f>>l,_=(n-f>>l)+1;return _>xn&&(_=xn),function(){for(;;){if(d){var g=d();if(g!==Dp)return g;d=null}if(p===_)return Dp;var y=t?--_:p++;d=i(h&&h[y],l-Wt,f+(y<<l))}}}}function Pp(a,t,o,n,r,e,i){var s=Object.create(vr);return s.size=t-a,s._origin=a,s._capacity=t,s._level=o,s._root=n,s._tail=r,s.__ownerID=e,s.__hash=i,s.__altered=!1,s}var l4;function $O(){return l4||(l4=Pp(0,0,Wt))}function foe(a,t,o){if(t=na(a,t),t!==t)return a;if(t>=a.size||t<0)return a.withMutations(function(i){t<0?la(i,t).set(0,o):la(i,0,t+1).set(t,o)});t+=a._origin;var n=a._tail,r=a._root,e=sx();return t>=Lp(a._capacity)?n=Hx(n,a.__ownerID,0,t,o,e):r=Hx(r,a.__ownerID,a._level,t,o,e),e.value?a.__ownerID?(a._root=r,a._tail=n,a.__hash=void 0,a.__altered=!0,a):Pp(a._origin,a._capacity,a._level,r,n):a}function Hx(a,t,o,n,r,e){var i=n>>>o&en,s=a&&i<a.array.length;if(!s&&r===void 0)return a;var c;if(o>0){var u=a&&a.array[i],l=Hx(u,t,o-Wt,n,r,e);return l===u?a:(c=bh(a,t),c.array[i]=l,c)}return s&&a.array[i]===r?a:(e&&In(e),c=bh(a,t),r===void 0&&i===c.array.length-1?c.array.pop():c.array[i]=r,c)}function bh(a,t){return t&&a&&t===a.ownerID?a:new ca(a?a.array.slice():[],t)}function d4(a,t){if(t>=Lp(a._capacity))return a._tail;if(t<1<<a._level+Wt){for(var o=a._root,n=a._level;o&&n>0;)o=o.array[t>>>n&en],n-=Wt;return o}}function la(a,t,o){t!==void 0&&(t|=0),o!==void 0&&(o|=0);var n=a.__ownerID||new ux,r=a._origin,e=a._capacity,i=r+t,s=o===void 0?e:o<0?e+o:r+o;if(i===r&&s===e)return a;if(i>=s)return a.clear();for(var c=a._level,u=a._root,l=0;i+l<0;)u=new ca(u&&u.array.length?[void 0,u]:[],n),c+=Wt,l+=1<<c;l&&(i+=l,r+=l,s+=l,e+=l);for(var f=Lp(e),d=Lp(s);d>=1<<c+Wt;)u=new ca(u&&u.array.length?[u]:[],n),c+=Wt;var h=a._tail,p=d<f?d4(a,s-1):d>f?new ca([],n):h;if(h&&d>f&&i<e&&h.array.length){u=bh(u,n);for(var _=u,g=c;g>Wt;g-=Wt){var y=f>>>g&en;_=_.array[y]=bh(_.array[y],n)}_.array[f>>>Wt&en]=h}if(s<e&&(p=p&&p.removeAfter(n,0,s)),i>=d)i-=d,s-=d,c=Wt,u=null,p=p&&p.removeBefore(n,0,i);else if(i>r||d<f){for(l=0;u;){var m=i>>>c&en;if(m!==d>>>c&en)break;m&&(l+=(1<<c)*m),c-=Wt,u=u.array[m]}u&&i>r&&(u=u.removeBefore(n,c,i-l)),u&&d<f&&(u=u.removeAfter(n,c,d-l)),l&&(i-=l,s-=l)}return a.__ownerID?(a.size=s-i,a._origin=i,a._capacity=s,a._level=c,a._root=u,a._tail=p,a.__hash=void 0,a.__altered=!0,a):Pp(i,s,c,u,p)}function Lp(a){return a<xn?0:a-1>>>Wt<<Wt}var Hn=function(a){function t(o){return o==null?jp():RO(o)?o:jp().withMutations(function(n){var r=Rn(o);mn(r.size),r.forEach(function(e,i){return n.set(i,e)})})}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(n,r){var e=this._map.get(n);return e!==void 0?this._list.get(e)[1]:r},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):jp()},t.prototype.set=function(n,r){return h4(this,n,r)},t.prototype.remove=function(n){return h4(this,n,Nt)},t.prototype.__iterate=function(n,r){var e=this;return this._list.__iterate(function(i){return i&&n(i[1],i[0],e)},r)},t.prototype.__iterator=function(n,r){return this._list.fromEntrySeq().__iterator(n,r)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var r=this._map.__ensureOwner(n),e=this._list.__ensureOwner(n);return n?Gx(r,e,n,this.__hash):this.size===0?jp():(this.__ownerID=n,this.__altered=!1,this._map=r,this._list=e,this)},t}(ua);Hn.isOrderedMap=RO,Hn.prototype[ch]=!0,Hn.prototype[_p]=Hn.prototype.remove;function Gx(a,t,o,n){var r=Object.create(Hn.prototype);return r.size=a?a.size:0,r._map=a,r._list=t,r.__ownerID=o,r.__hash=n,r.__altered=!1,r}var f4;function jp(){return f4||(f4=Gx(Qn(),$O()))}function h4(a,t,o){var n=a._map,r=a._list,e=n.get(t),i=e!==void 0,s,c;if(o===Nt){if(!i)return a;r.size>=xn&&r.size>=n.size*2?(c=r.filter(function(u,l){return u!==void 0&&e!==l}),s=c.toKeyedSeq().map(function(u){return u[0]}).flip().toMap(),a.__ownerID&&(s.__ownerID=c.__ownerID=a.__ownerID)):(s=n.remove(t),c=e===r.size-1?r.pop():r.set(e,void 0))}else if(i){if(o===r.get(e)[1])return a;s=n,c=r.set(e,[t,o])}else s=n.set(t,r.size),c=r.set(r.size,[t,o]);return a.__ownerID?(a.size=s.size,a._map=s,a._list=c,a.__hash=void 0,a.__altered=!0,a):Gx(s,c)}var p4="@@__IMMUTABLE_STACK__@@";function Mp(a){return!!(a&&a[p4])}var qp=function(a){function t(o){return o==null?UO():Mp(o)?o:UO().pushAll(o)}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(n,r){var e=this._head;for(n=na(this,n);e&&n--;)e=e.next;return e?e.value:r},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var r=this.size+arguments.length,e=this._head,i=arguments.length-1;i>=0;i--)e={value:n[i],next:e};return this.__ownerID?(this.size=r,this._head=e,this.__hash=void 0,this.__altered=!0,this):Cp(r,e)},t.prototype.pushAll=function(n){if(n=a(n),n.size===0)return this;if(this.size===0&&Mp(n))return n;mn(n.size);var r=this.size,e=this._head;return n.__iterate(function(i){r++,e={value:i,next:e}},!0),this.__ownerID?(this.size=r,this._head=e,this.__hash=void 0,this.__altered=!0,this):Cp(r,e)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):UO()},t.prototype.slice=function(n,r){if(mp(n,r,this.size))return this;var e=oh(n,this.size),i=gp(r,this.size);if(i!==this.size)return a.prototype.slice.call(this,n,r);for(var s=this.size-e,c=this._head;e--;)c=c.next;return this.__ownerID?(this.size=s,this._head=c,this.__hash=void 0,this.__altered=!0,this):Cp(s,c)},t.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Cp(this.size,this._head,n,this.__hash):this.size===0?UO():(this.__ownerID=n,this.__altered=!1,this)},t.prototype.__iterate=function(n,r){var e=this;if(r)return new uo(this.toArray()).__iterate(function(c,u){return n(c,u,e)},r);for(var i=0,s=this._head;s&&n(s.value,i++,this)!==!1;)s=s.next;return i},t.prototype.__iterator=function(n,r){if(r)return new uo(this.toArray()).__iterator(n,r);var e=0,i=this._head;return new jt(function(){if(i){var s=i.value;return i=i.next,Kt(n,e++,s)}return tn()})},t}(so);qp.isStack=Mp;var nn=qp.prototype;nn[p4]=!0,nn.shift=nn.pop,nn.unshift=nn.push,nn.unshiftAll=nn.pushAll,nn.withMutations=xp,nn.wasAltered=Bx,nn.asImmutable=Rp,nn["@@transducer/init"]=nn.asMutable=Ip,nn["@@transducer/step"]=function(a,t){return a.unshift(t)},nn["@@transducer/result"]=function(a){return a.asImmutable()};function Cp(a,t,o,n){var r=Object.create(nn);return r.size=a,r._head=t,r.__ownerID=o,r.__hash=n,r.__altered=!1,r}var y4;function UO(){return y4||(y4=Cp(0))}var b4="@@__IMMUTABLE_SET__@@";function Bp(a){return!!(a&&a[b4])}function VO(a){return Bp(a)&&_n(a)}function zx(a,t){if(a===t)return!0;if(!Hr(t)||a.size!==void 0&&t.size!==void 0&&a.size!==t.size||a.__hash!==void 0&&t.__hash!==void 0&&a.__hash!==t.__hash||Ht(a)!==Ht(t)||Dr(a)!==Dr(t)||_n(a)!==_n(t))return!1;if(a.size===0&&t.size===0)return!0;var o=!sh(a);if(_n(a)){var n=a.entries();return t.every(function(c,u){var l=n.next().value;return l&&Er(l[1],c)&&(o||Er(l[0],u))})&&n.next().done}var r=!1;if(a.size===void 0)if(t.size===void 0)typeof a.cacheResult=="function"&&a.cacheResult();else{r=!0;var e=a;a=t,t=e}var i=!0,s=t.__iterate(function(c,u){if(o?!a.has(c):r?!Er(c,a.get(u,Nt)):!Er(a.get(u,Nt),c))return i=!1,!1});return i&&a.size===s}function lo(a,t){var o=function(n){a.prototype[n]=t[n]};return Object.keys(t).forEach(o),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(o),a}function QO(a){if(!a||typeof a!="object")return a;if(!Hr(a)){if(!oa(a))return a;a=Gr(a)}if(Ht(a)){var t={};return a.__iterate(function(n,r){t[r]=QO(n)}),t}var o=[];return a.__iterate(function(n){o.push(QO(n))}),o}var _h=function(a){function t(o){return o==null?$p():Bp(o)&&!_n(o)?o:$p().withMutations(function(n){var r=a(o);mn(r.size),r.forEach(function(e){return n.add(e)})})}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(Rn(n).keySeq())},t.intersect=function(n){return n=Jt(n).toArray(),n.length?Pr.intersect.apply(t(n.pop()),n):$p()},t.union=function(n){return n=Jt(n).toArray(),n.length?Pr.union.apply(t(n.pop()),n):$p()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(n){return this._map.has(n)},t.prototype.add=function(n){return HO(this,this._map.set(n,n))},t.prototype.remove=function(n){return HO(this,this._map.remove(n))},t.prototype.clear=function(){return HO(this,this._map.clear())},t.prototype.map=function(n,r){var e=this,i=!1,s=HO(this,this._map.mapEntries(function(c){var u=c[1],l=n.call(r,u,u,e);return l!==u&&(i=!0),[l,l]},r));return i?s:this},t.prototype.union=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return n=n.filter(function(e){return e.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(e){for(var i=0;i<n.length;i++)typeof n[i]=="string"?e.add(n[i]):a(n[i]).forEach(function(s){return e.add(s)})})},t.prototype.intersect=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(n.length===0)return this;n=n.map(function(i){return a(i)});var e=[];return this.forEach(function(i){n.every(function(s){return s.includes(i)})||e.push(i)}),this.withMutations(function(i){e.forEach(function(s){i.remove(s)})})},t.prototype.subtract=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(n.length===0)return this;n=n.map(function(i){return a(i)});var e=[];return this.forEach(function(i){n.some(function(s){return s.includes(i)})&&e.push(i)}),this.withMutations(function(i){e.forEach(function(s){i.remove(s)})})},t.prototype.sort=function(n){return fo(fh(this,n))},t.prototype.sortBy=function(n,r){return fo(fh(this,r,n))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(n,r){var e=this;return this._map.__iterate(function(i){return n(i,i,e)},r)},t.prototype.__iterator=function(n,r){return this._map.__iterator(n,r)},t.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var r=this._map.__ensureOwner(n);return n?this.__make(r,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=r,this)},t}(uh);_h.isSet=Bp;var Pr=_h.prototype;Pr[b4]=!0,Pr[_p]=Pr.remove,Pr.merge=Pr.concat=Pr.union,Pr.withMutations=xp,Pr.asImmutable=Rp,Pr["@@transducer/init"]=Pr.asMutable=Ip,Pr["@@transducer/step"]=function(a,t){return a.add(t)},Pr["@@transducer/result"]=function(a){return a.asImmutable()},Pr.__empty=$p,Pr.__make=_4;function HO(a,t){return a.__ownerID?(a.size=t.size,a._map=t,a):t===a._map?a:t.size===0?a.__empty():a.__make(t)}function _4(a,t){var o=Object.create(Pr);return o.size=a?a.size:0,o._map=a,o.__ownerID=t,o}var m4;function $p(){return m4||(m4=_4(Qn()))}var kx=function(a){function t(o,n,r){if(!(this instanceof t))return new t(o,n,r);if(xx(r!==0,"Cannot step a Range by 0"),o=o||0,n===void 0&&(n=1/0),r=r===void 0?1:Math.abs(r),n<o&&(r=-r),this._start=o,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-o)/r-1)+1),this.size===0){if(Xx)return Xx;Xx=this}}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},t.prototype.get=function(n,r){return this.has(n)?this._start+na(this,n)*this._step:r},t.prototype.includes=function(n){var r=(n-this._start)/this._step;return r>=0&&r<this.size&&r===Math.floor(r)},t.prototype.slice=function(n,r){return mp(n,r,this.size)?this:(n=oh(n,this.size),r=gp(r,this.size),r<=n?new t(0,0):new t(this.get(n,this._end),this.get(r,this._end),this._step))},t.prototype.indexOf=function(n){var r=n-this._start;if(r%this._step===0){var e=r/this._step;if(e>=0&&e<this.size)return e}return-1},t.prototype.lastIndexOf=function(n){return this.indexOf(n)},t.prototype.__iterate=function(n,r){for(var e=this.size,i=this._step,s=r?this._start+(e-1)*i:this._start,c=0;c!==e&&n(s,r?e-++c:c++,this)!==!1;)s+=r?-i:i;return c},t.prototype.__iterator=function(n,r){var e=this.size,i=this._step,s=r?this._start+(e-1)*i:this._start,c=0;return new jt(function(){if(c===e)return tn();var u=s;return s+=r?-i:i,Kt(n,r?e-++c:c++,u)})},t.prototype.equals=function(n){return n instanceof t?this._start===n._start&&this._end===n._end&&this._step===n._step:zx(this,n)},t}(Nn),Xx;function GO(a,t,o){for(var n=G6(t),r=0;r!==n.length;)if(a=MO(a,n[r++],Nt),a===Nt)return o;return a}function g4(a,t){return GO(this,a,t)}function Wx(a,t){return GO(a,t,Nt)!==Nt}function hoe(a){return Wx(this,a)}function v4(){mn(this.size);var a={};return this.__iterate(function(t,o){a[o]=t}),a}Jt.isIterable=Hr,Jt.isKeyed=Ht,Jt.isIndexed=Dr,Jt.isAssociative=sh,Jt.isOrdered=_n,Jt.Iterator=jt,lo(Jt,{toArray:function(){mn(this.size);var t=new Array(this.size||0),o=Ht(this),n=0;return this.__iterate(function(r,e){t[n++]=o?[e,r]:r}),t},toIndexedSeq:function(){return new L6(this)},toJS:function(){return QO(this)},toKeyedSeq:function(){return new DO(this,!0)},toMap:function(){return ua(this.toKeyedSeq())},toObject:v4,toOrderedMap:function(){return Hn(this.toKeyedSeq())},toOrderedSet:function(){return fo(Ht(this)?this.valueSeq():this)},toSet:function(){return _h(Ht(this)?this.valueSeq():this)},toSetSeq:function(){return new j6(this)},toSeq:function(){return Dr(this)?this.toIndexedSeq():Ht(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return qp(Ht(this)?this.valueSeq():this)},toList:function(){return yh(Ht(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,o){return this.size===0?t+o:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+o},concat:function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];return Gt(this,Kae(this,t))},includes:function(t){return this.some(function(o){return Er(o,t)})},entries:function(){return this.__iterator(Fn)},every:function(t,o){mn(this.size);var n=!0;return this.__iterate(function(r,e,i){if(!t.call(o,r,e,i))return n=!1,!1}),n},filter:function(t,o){return Gt(this,B6(this,t,o,!0))},partition:function(t,o){return Wae(this,t,o)},find:function(t,o,n){var r=this.findEntry(t,o);return r?r[1]:n},forEach:function(t,o){return mn(this.size),this.__iterate(o?t.bind(o):t)},join:function(t){mn(this.size),t=t!==void 0?""+t:",";var o="",n=!0;return this.__iterate(function(r){n?n=!1:o+=t,o+=r!=null?r.toString():""}),o},keys:function(){return this.__iterator(Tp)},map:function(t,o){return Gt(this,C6(this,t,o))},reduce:function(t,o,n){return T4(this,t,o,n,arguments.length<2,!1)},reduceRight:function(t,o,n){return T4(this,t,o,n,arguments.length<2,!0)},reverse:function(){return Gt(this,Sx(this,!0))},slice:function(t,o){return Gt(this,Ox(this,t,o,!0))},some:function(t,o){mn(this.size);var n=!1;return this.__iterate(function(r,e,i){if(t.call(o,r,e,i))return n=!0,!1}),n},sort:function(t){return Gt(this,fh(this,t))},values:function(){return this.__iterator(Vn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(t,o){return ah(t?this.toSeq().filter(t,o):this)},countBy:function(t,o){return kae(this,t,o)},equals:function(t){return zx(this,t)},entrySeq:function(){var t=this;if(t._cache)return new uo(t._cache);var o=t.toSeq().map(yoe).toIndexedSeq();return o.fromEntrySeq=function(){return t.toSeq()},o},filterNot:function(t,o){return this.filter(Jx(t),o)},findEntry:function(t,o,n){var r=n;return this.__iterate(function(e,i,s){if(t.call(o,e,i,s))return r=[i,e],!1}),r},findKey:function(t,o){var n=this.findEntry(t,o);return n&&n[0]},findLast:function(t,o,n){return this.toKeyedSeq().reverse().find(t,o,n)},findLastEntry:function(t,o,n){return this.toKeyedSeq().reverse().findEntry(t,o,n)},findLastKey:function(t,o){return this.toKeyedSeq().reverse().findKey(t,o)},first:function(t){return this.find(b6,null,t)},flatMap:function(t,o){return Gt(this,Yae(this,t,o))},flatten:function(t){return Gt(this,U6(this,t,!0))},fromEntrySeq:function(){return new M6(this)},get:function(t,o){return this.find(function(n,r){return Er(r,t)},void 0,o)},getIn:g4,groupBy:function(t,o){return Xae(this,t,o)},has:function(t){return this.get(t,Nt)!==Nt},hasIn:hoe,isSubset:function(t){return t=typeof t.includes=="function"?t:Jt(t),this.every(function(o){return t.includes(o)})},isSuperset:function(t){return t=typeof t.isSubset=="function"?t:Jt(t),t.isSubset(this)},keyOf:function(t){return this.findKey(function(o){return Er(o,t)})},keySeq:function(){return this.toSeq().map(poe).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return PO(this,t)},maxBy:function(t,o){return PO(this,o,t)},min:function(t){return PO(this,t?w4(t):O4)},minBy:function(t,o){return PO(this,o?w4(o):O4,t)},rest:function(){return this.slice(1)},skip:function(t){return t===0?this:this.slice(Math.max(0,t))},skipLast:function(t){return t===0?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,o){return Gt(this,$6(this,t,o,!0))},skipUntil:function(t,o){return this.skipWhile(Jx(t),o)},sortBy:function(t,o){return Gt(this,fh(this,o,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,o){return Gt(this,Jae(this,t,o))},takeUntil:function(t,o){return this.takeWhile(Jx(t),o)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=boe(this))}});var zr=Jt.prototype;zr[g6]=!0,zr[xO]=zr.values,zr.toJSON=zr.toArray,zr.__toStringMapper=Op,zr.inspect=zr.toSource=function(){return this.toString()},zr.chain=zr.flatMap,zr.contains=zr.includes,lo(Rn,{flip:function(){return Gt(this,q6(this))},mapEntries:function(t,o){var n=this,r=0;return Gt(this,this.toSeq().map(function(e,i){return t.call(o,[i,e],r++,n)}).fromEntrySeq())},mapKeys:function(t,o){var n=this;return Gt(this,this.toSeq().flip().map(function(r,e){return t.call(o,r,e,n)}).flip())}});var Up=Rn.prototype;Up[v6]=!0,Up[xO]=zr.entries,Up.toJSON=v4,Up.__toStringMapper=function(a,t){return Op(t)+": "+Op(a)},lo(so,{toKeyedSeq:function(){return new DO(this,!1)},filter:function(t,o){return Gt(this,B6(this,t,o,!1))},findIndex:function(t,o){var n=this.findEntry(t,o);return n?n[0]:-1},indexOf:function(t){var o=this.keyOf(t);return o===void 0?-1:o},lastIndexOf:function(t){var o=this.lastKeyOf(t);return o===void 0?-1:o},reverse:function(){return Gt(this,Sx(this,!1))},slice:function(t,o){return Gt(this,Ox(this,t,o,!1))},splice:function(t,o){var n=arguments.length;if(o=Math.max(o||0,0),n===0||n===2&&!o)return this;t=oh(t,t<0?this.count():this.size);var r=this.slice(0,t);return Gt(this,n===1?r:r.concat(fi(arguments,2),this.slice(t+o)))},findLastIndex:function(t,o){var n=this.findLastEntry(t,o);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return Gt(this,U6(this,t,!1))},get:function(t,o){return t=na(this,t),t<0||this.size===1/0||this.size!==void 0&&t>this.size?o:this.find(function(n,r){return r===t},void 0,o)},has:function(t){return t=na(this,t),t>=0&&(this.size!==void 0?this.size===1/0||t<this.size:this.indexOf(t)!==-1)},interpose:function(t){return Gt(this,Zae(this,t))},interleave:function(){var t=[this].concat(fi(arguments)),o=LO(this.toSeq(),Nn.of,t),n=o.flatten(!0);return o.size&&(n.size=o.size*t.length),Gt(this,n)},keySeq:function(){return kx(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,o){return Gt(this,$6(this,t,o,!1))},zip:function(){var t=[this].concat(fi(arguments));return Gt(this,LO(this,S4,t))},zipAll:function(){var t=[this].concat(fi(arguments));return Gt(this,LO(this,S4,t,!0))},zipWith:function(t){var o=fi(arguments);return o[0]=this,Gt(this,LO(this,t,o))}});var mh=so.prototype;mh[T6]=!0,mh[ch]=!0,lo(uh,{get:function(t,o){return this.has(t)?t:o},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var gh=uh.prototype;gh.has=zr.includes,gh.contains=gh.includes,gh.keys=gh.values,lo(aa,Up),lo(Nn,mh),lo(dh,gh);function T4(a,t,o,n,r,e){return mn(a.size),a.__iterate(function(i,s,c){r?(r=!1,o=i):o=t.call(n,o,i,s,c)},e),o}function poe(a,t){return t}function yoe(a,t){return[t,a]}function Jx(a){return function(){return!a.apply(this,arguments)}}function w4(a){return function(){return-a.apply(this,arguments)}}function S4(){return fi(arguments)}function O4(a,t){return a<t?1:a>t?-1:0}function boe(a){if(a.size===1/0)return 0;var t=_n(a),o=Ht(a),n=t?1:0,r=a.__iterate(o?t?function(e,i){n=31*n+A4(rn(e),rn(i))|0}:function(e,i){n=n+A4(rn(e),rn(i))|0}:t?function(e){n=31*n+rn(e)|0}:function(e){n=n+rn(e)|0});return _oe(r,n)}function _oe(a,t){return t=Sp(t,3432918353),t=Sp(t<<15|t>>>-15,461845907),t=Sp(t<<13|t>>>-13,5),t=(t+3864292196|0)^a,t=Sp(t^t>>>16,2246822507),t=Sp(t^t>>>13,3266489909),t=NO(t^t>>>16),t}function A4(a,t){return a^t+2654435769+(a<<6)+(a>>2)|0}var fo=function(a){function t(o){return o==null?Kx():VO(o)?o:Kx().withMutations(function(n){var r=uh(o);mn(r.size),r.forEach(function(e){return n.add(e)})})}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(n){return this(Rn(n).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(_h);fo.isOrderedSet=VO;var ho=fo.prototype;ho[ch]=!0,ho.zip=mh.zip,ho.zipWith=mh.zipWith,ho.zipAll=mh.zipAll,ho.__empty=Kx,ho.__make=E4;function E4(a,t){var o=Object.create(ho);return o.size=a?a.size:0,o._map=a,o.__ownerID=t,o}var x4;function Kx(){return x4||(x4=E4(jp()))}var I4={LeftThenRight:-1,RightThenLeft:1};function moe(a){if(ia(a))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(bn(a))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(a===null||typeof a!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var Tr=function(t,o){var n;moe(t);var r=function(s){var c=this;if(s instanceof r)return s;if(!(this instanceof r))return new r(s);if(!n){n=!0;var u=Object.keys(t),l=e._indices={};e._name=o,e._keys=u,e._defaultValues=t;for(var f=0;f<u.length;f++){var d=u[f];l[d]=f,e[d]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Zx(this)+' with property "'+d+'" since that property name is part of the Record API.'):goe(e,d)}}return this.__ownerID=void 0,this._values=yh().withMutations(function(h){h.setSize(c._keys.length),Rn(s).forEach(function(p,_){h.set(c._indices[_],p===c._defaultValues[_]?void 0:p)})}),this},e=r.prototype=Object.create(zt);return e.constructor=r,o&&(r.displayName=o),r};Tr.prototype.toString=function(){for(var t=Zx(this)+" { ",o=this._keys,n,r=0,e=o.length;r!==e;r++)n=o[r],t+=(r?", ":"")+n+": "+Op(this.get(n));return t+" }"},Tr.prototype.equals=function(t){return this===t||ia(t)&&vh(this).equals(vh(t))},Tr.prototype.hashCode=function(){return vh(this).hashCode()},Tr.prototype.has=function(t){return this._indices.hasOwnProperty(t)},Tr.prototype.get=function(t,o){if(!this.has(t))return o;var n=this._indices[t],r=this._values.get(n);return r===void 0?this._defaultValues[t]:r},Tr.prototype.set=function(t,o){if(this.has(t)){var n=this._values.set(this._indices[t],o===this._defaultValues[t]?void 0:o);if(n!==this._values&&!this.__ownerID)return Yx(this,n)}return this},Tr.prototype.remove=function(t){return this.set(t)},Tr.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Yx(this,t)},Tr.prototype.wasAltered=function(){return this._values.wasAltered()},Tr.prototype.toSeq=function(){return vh(this)},Tr.prototype.toJS=function(){return QO(this)},Tr.prototype.entries=function(){return this.__iterator(Fn)},Tr.prototype.__iterator=function(t,o){return vh(this).__iterator(t,o)},Tr.prototype.__iterate=function(t,o){return vh(this).__iterate(t,o)},Tr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var o=this._values.__ensureOwner(t);return t?Yx(this,o,t):(this.__ownerID=t,this._values=o,this)},Tr.isRecord=ia,Tr.getDescriptiveName=Zx;var zt=Tr.prototype;zt[S6]=!0,zt[_p]=zt.remove,zt.deleteIn=zt.removeIn=Lx,zt.getIn=g4,zt.hasIn=zr.hasIn,zt.merge=k6,zt.mergeWith=X6,zt.mergeIn=qx,zt.mergeDeep=e4,zt.mergeDeepWith=t4,zt.mergeDeepIn=Cx,zt.setIn=Dx,zt.update=jx,zt.updateIn=Mx,zt.withMutations=xp,zt.asMutable=Ip,zt.asImmutable=Rp,zt[xO]=zt.entries,zt.toJSON=zt.toObject=zr.toObject,zt.inspect=zt.toSource=function(){return this.toString()};function Yx(a,t,o){var n=Object.create(Object.getPrototypeOf(a));return n._values=t,n.__ownerID=o,n}function Zx(a){return a.constructor.displayName||a.constructor.name||"Record"}function vh(a){return yx(a._keys.map(function(t){return[t,a.get(t)]}))}function goe(a,t){try{Object.defineProperty(a,t,{get:function(){return this.get(t)},set:function(o){xx(this.__ownerID,"Cannot set on an immutable record."),this.set(t,o)}})}catch{}}var R4=function(a){function t(o,n){if(!(this instanceof t))return new t(o,n);if(this._value=o,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(eI)return eI;eI=this}}return a&&(t.__proto__=a),t.prototype=Object.create(a&&a.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(n,r){return this.has(n)?this._value:r},t.prototype.includes=function(n){return Er(this._value,n)},t.prototype.slice=function(n,r){var e=this.size;return mp(n,r,e)?this:new t(this._value,gp(r,e)-oh(n,e))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(n){return Er(this._value,n)?0:-1},t.prototype.lastIndexOf=function(n){return Er(this._value,n)?this.size:-1},t.prototype.__iterate=function(n,r){for(var e=this.size,i=0;i!==e&&n(this._value,r?e-++i:i++,this)!==!1;);return i},t.prototype.__iterator=function(n,r){var e=this,i=this.size,s=0;return new jt(function(){return s===i?tn():Kt(n,r?i-++s:s++,e._value)})},t.prototype.equals=function(n){return n instanceof t?Er(this._value,n._value):zx(this,n)},t}(Nn),eI;function F4(a,t){return N4([],t||voe,a,"",t&&t.length>2?[]:void 0,{"":a})}function N4(a,t,o,n,r,e){if(typeof o!="string"&&!bn(o)&&(fx(o)||lx(o)||jO(o))){if(~a.indexOf(o))throw new TypeError("Cannot convert circular structure to Immutable");a.push(o),r&&n!==""&&r.push(n);var i=t.call(e,n,Gr(o).map(function(s,c){return N4(a,t,s,c,r,o)}),r&&r.slice());return a.pop(),r&&r.pop(),i}return o}function voe(a,t){return Dr(t)?t.toList():Ht(t)?t.toMap():t.toSet()}var D4="4.3.7",Toe={version:D4,Collection:Jt,Iterable:Jt,Seq:Gr,Map:ua,OrderedMap:Hn,List:yh,Stack:qp,Set:_h,OrderedSet:fo,PairSorting:I4,Record:Tr,Range:kx,Repeat:R4,is:Er,fromJS:F4,hash:rn,isImmutable:bn,isCollection:Hr,isKeyed:Ht,isIndexed:Dr,isAssociative:sh,isOrdered:_n,isValueObject:FO,isPlainObject:jO,isSeq:vp,isList:BO,isMap:wp,isOrderedMap:RO,isStack:Mp,isSet:Bp,isOrderedSet:VO,isRecord:ia,get:MO,getIn:GO,has:Ix,hasIn:Wx,merge:J6,mergeDeep:Y6,mergeWith:K6,mergeDeepWith:Z6,remove:Rx,removeIn:Px,set:Fx,setIn:Nx,update:CO,updateIn:sa},woe=Jt,Soe=Object.freeze({__proto__:null,Collection:Jt,Iterable:woe,List:yh,Map:ua,OrderedMap:Hn,OrderedSet:fo,PairSorting:I4,Range:kx,Record:Tr,Repeat:R4,Seq:Gr,Set:_h,Stack:qp,default:Toe,fromJS:F4,get:MO,getIn:GO,has:Ix,hasIn:Wx,hash:rn,is:Er,isAssociative:sh,isCollection:Hr,isImmutable:bn,isIndexed:Dr,isKeyed:Ht,isList:BO,isMap:wp,isOrdered:_n,isOrderedMap:RO,isOrderedSet:VO,isPlainObject:jO,isRecord:ia,isSeq:vp,isSet:Bp,isStack:Mp,isValueObject:FO,merge:J6,mergeDeep:Y6,mergeDeepWith:Z6,mergeWith:K6,remove:Rx,removeIn:Px,set:Fx,setIn:Nx,update:CO,updateIn:sa,version:D4}),tI=sr(Soe),P4;function L4(){if(P4)return oo;P4=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.ActionContextKey=oo.ActionContext=void 0;const a=tI;let t=class dO{constructor(r={}){this.map=(0,a.Map)(r)}setDefault(r,e){return this.has(r)?this:this.set(r,e)}set(r,e){return this.setRaw(r.name,e)}setRaw(r,e){return new dO(this.map.set(r,e))}delete(r){return new dO(this.map.delete(r.name))}get(r){return this.getRaw(r.name)}getRaw(r){return this.map.get(r)}getSafe(r){if(!this.has(r))throw new Error(`Context entry ${r.name} is required but not available`);return this.get(r)}has(r){return this.hasRaw(r.name)}hasRaw(r){return this.map.has(r)}merge(...r){let e=this;for(const i of r)for(const s of i.keys())e=e.set(s,i.get(s));return e}keys(){return[...this.map.keys()].map(r=>new o(r))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(r){return r instanceof dO?r:new dO((0,a.Map)(r??{}))}};oo.ActionContext=t;class o{constructor(r){this.name=r}}return oo.ActionContextKey=o,oo}var Vp={},j4;function M4(){if(j4)return Vp;j4=1,Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.Bus=void 0;let a=class{constructor(o){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,o),this.failMessage=`All actors over bus ${this.name} failed to handle an action`}subscribe(o){this.actors.push(o),this.reorderForDependencies()}subscribeObserver(o){this.observers.push(o)}unsubscribe(o){const n=this.actors.indexOf(o);return n>=0?(this.actors.splice(n,1),!0):!1}unsubscribeObserver(o){const n=this.observers.indexOf(o);return n>=0?(this.observers.splice(n,1),!0):!1}publish(o){return this.actors.map(n=>({actor:n,reply:n.test(o)}))}onRun(o,n,r){for(const e of this.observers)e.onRun(o,n,r)}addDependencies(o,n){for(const r of n){let e=this.dependencyLinks.get(r);e||(e=[],this.dependencyLinks.set(r,e)),e.push(o)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const o=[];for(const n of this.dependencyLinks.keys()){const r=this.actors.indexOf(n);r>=0&&(this.actors.splice(r,1),o.push(n))}for(;o.length>0;){let n=-1;for(let e=0;e<o.length;e++){let i=!0;for(const s of this.dependencyLinks.get(o[e]))if(!this.actors.includes(s)&&o.includes(s)){i=!1;break}if(i){n=e;break}}if(n<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const r=o.splice(n,1)[0];this.actors.push(r)}}}};return Vp.Bus=a,Vp}var Qp={},q4;function Ooe(){if(q4)return Qp;q4=1,Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.BusIndexed=void 0;const a=M4();let t=class extends a.Bus{constructor(n){super(n),this.actorsIndex={}}subscribe(n){const r=this.getActorIdentifiers(n)??["_undefined_"];for(const e of r){let i=this.actorsIndex[e];i||(i=this.actorsIndex[e]=[]),i.push(n),super.subscribe(n)}}unsubscribe(n){const r=this.getActorIdentifiers(n)??["_undefined_"];let e=!1;for(const i of r){const s=this.actorsIndex[i];if(s){const c=s.indexOf(n);c>=0&&s.splice(c,1),s.length===0&&delete this.actorsIndex[i]}e=e||super.unsubscribe(n)}return e}publish(n){const r=this.getActionIdentifier(n);return r?[...this.actorsIndex[r]||[],...this.actorsIndex._undefined_||[]].map(i=>({actor:i,reply:i.test(n)})):super.publish(n)}getActorIdentifiers(n){const r=this.actorIdentifierFields.reduce((e,i)=>e[i],n);if(r)return Array.isArray(r)?r:[r]}getActionIdentifier(n){return this.actionIdentifierFields.reduce((r,e)=>r[e],n)}};return Qp.BusIndexed=t,Qp}var Hp={},C4;function B4(){if(C4)return Hp;C4=1,Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.CONTEXT_KEY_LOGGER=void 0;const a=L4();return Hp.CONTEXT_KEY_LOGGER=new a.ActionContextKey("@comunica/core:log"),Hp}var Gp={},$4;function Aoe(){if($4)return Gp;$4=1,Object.defineProperty(Gp,"__esModule",{value:!0}),Gp.ActionObserver=void 0;let a=class{constructor(o){Object.assign(this,o)}};return Gp.ActionObserver=a,Gp}var zp={},U4;function Eoe(){if(U4)return zp;U4=1,Object.defineProperty(zp,"__esModule",{value:!0}),zp.Actor=void 0;const a=B4();let t=class Zf{constructor(n){this.beforeActors=[],Object.assign(this,n),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors),n.busFailMessage&&(this.bus.failMessage=n.busFailMessage)}static getContextLogger(n){return n.get(a.CONTEXT_KEY_LOGGER)}runObservable(n,r){const e=this.run(n,r);return this.bus.onRun(this,n,e),e}getDefaultLogData(n,r){const e=r?r():{};return e.actor=this.name,e}logTrace(n,r,e){const i=Zf.getContextLogger(n);i&&i.trace(r,this.getDefaultLogData(n,e))}logDebug(n,r,e){const i=Zf.getContextLogger(n);i&&i.debug(r,this.getDefaultLogData(n,e))}logInfo(n,r,e){const i=Zf.getContextLogger(n);i&&i.info(r,this.getDefaultLogData(n,e))}logWarn(n,r,e){const i=Zf.getContextLogger(n);i&&i.warn(r,this.getDefaultLogData(n,e))}logError(n,r,e){const i=Zf.getContextLogger(n);i&&i.error(r,this.getDefaultLogData(n,e))}logFatal(n,r,e){const i=Zf.getContextLogger(n);i&&i.fatal(r,this.getDefaultLogData(n,e))}};return zp.Actor=t,zp}var kp={},V4;function xoe(){if(V4)return kp;V4=1,Object.defineProperty(kp,"__esModule",{value:!0}),kp.Mediator=void 0;let a=class MD{constructor(o){Object.assign(this,o)}publish(o){const n=this.bus.publish(o);if(n.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return n}async mediateActor(o){return await this.mediateWith(o,this.publish(o))}async mediateTestable(o){return(await this.mediateActor(o)).mapAsync((r,e)=>r.runObservable(o,e))}async mediate(o){return(await this.mediateTestable(o)).getOrThrow()}constructFailureMessage(o,n){const r=`
        `;return`${this.bus.failMessage.replaceAll(/\$\{(.*?)\}/gu,(i,s)=>MD.getObjectValue({action:o},s.split("."))||i)}
    Error messages of failing actors:${r}${n.join(r)}`}static getObjectValue(o,n){if(n.length===0)return o;if(o)return MD.getObjectValue(o[n[0]],n.slice(1))}};return kp.Mediator=a,kp}var Lr={},Q4;function Ioe(){if(Q4)return Lr;Q4=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.TestResultFailed=Lr.TestResultPassed=Lr.failTest=Lr.passTestVoidWithSideData=Lr.passTestWithSideData=Lr.passTestVoid=Lr.passTest=void 0;function a(s){return new e(s,void 0)}Lr.passTest=a;function t(){return new e(!0,void 0)}Lr.passTestVoid=t;function o(s,c){return new e(s,c)}Lr.passTestWithSideData=o;function n(s){return new e(!0,s)}Lr.passTestVoidWithSideData=n;function r(s){return new i(s)}Lr.failTest=r;class e{constructor(c,u){this.value=c,this.sideData=u}isPassed(){return!0}isFailed(){return!1}get(){return this.value}getOrThrow(){return this.value}getSideData(){return this.sideData}getFailMessage(){}map(c){return new e(c(this.value,this.sideData),this.sideData)}async mapAsync(c){return new e(await c(this.value,this.sideData),this.sideData)}}Lr.TestResultPassed=e;class i{constructor(c){this.failMessage=c}isPassed(){return!1}isFailed(){return!0}get(){}getOrThrow(){throw new Error(this.getFailMessage())}getSideData(){throw new Error(this.getFailMessage())}getFailMessage(){return this.failMessage}map(){return this}async mapAsync(){return this}}return Lr.TestResultFailed=i,Lr}var H4;function De(){return H4||(H4=1,function(a){var t=ao&&ao.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ao&&ao.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(L4(),a),o(M4(),a),o(Ooe(),a),o(B4(),a),o(Aoe(),a),o(Eoe(),a),o(xoe(),a),o(Ioe(),a)}(ao)),ao}var G4;function Roe(){if(G4)return bp;G4=1,Object.defineProperty(bp,"__esModule",{value:!0}),bp.ActorInit=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}};return bp.ActorInit=t,bp}var z4;function Foe(){return z4||(z4=1,function(a){var t=io&&io.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=io&&io.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Roe(),a)}(io)),io}var k4;function X4(){if(k4)return yp;k4=1,Object.defineProperty(yp,"__esModule",{value:!0}),yp.ActorInitQueryBase=void 0;const a=Foe(),t=De();let o=class extends a.ActorInit{async test(r){return(0,t.passTestVoid)()}async run(r){throw new Error("ActorInitSparql#run is not supported in the browser.")}};return yp.ActorInitQueryBase=o,yp}function Noe(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var W4={exports:{}},yr=W4.exports={},hi,pi;function rI(){throw new Error("setTimeout has not been defined")}function nI(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?hi=setTimeout:hi=rI}catch{hi=rI}try{typeof clearTimeout=="function"?pi=clearTimeout:pi=nI}catch{pi=nI}})();function J4(a){if(hi===setTimeout)return setTimeout(a,0);if((hi===rI||!hi)&&setTimeout)return hi=setTimeout,setTimeout(a,0);try{return hi(a,0)}catch{try{return hi.call(null,a,0)}catch{return hi.call(this,a,0)}}}function Doe(a){if(pi===clearTimeout)return clearTimeout(a);if((pi===nI||!pi)&&clearTimeout)return pi=clearTimeout,clearTimeout(a);try{return pi(a)}catch{try{return pi.call(null,a)}catch{return pi.call(this,a)}}}var Ri=[],Th=!1,po,zO=-1;function Poe(){!Th||!po||(Th=!1,po.length?Ri=po.concat(Ri):zO=-1,Ri.length&&K4())}function K4(){if(!Th){var a=J4(Poe);Th=!0;for(var t=Ri.length;t;){for(po=Ri,Ri=[];++zO<t;)po&&po[zO].run();zO=-1,t=Ri.length}po=null,Th=!1,Doe(a)}}yr.nextTick=function(a){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];Ri.push(new Y4(a,t)),Ri.length===1&&!Th&&J4(K4)};function Y4(a,t){this.fun=a,this.array=t}Y4.prototype.run=function(){this.fun.apply(null,this.array)},yr.title="browser",yr.browser=!0,yr.env={},yr.argv=[],yr.version="",yr.versions={};function Fi(){}yr.on=Fi,yr.addListener=Fi,yr.once=Fi,yr.off=Fi,yr.removeListener=Fi,yr.removeAllListeners=Fi,yr.emit=Fi,yr.prependListener=Fi,yr.prependOnceListener=Fi,yr.listeners=function(a){return[]},yr.binding=function(a){throw new Error("process.binding is not supported")},yr.cwd=function(){return"/"},yr.chdir=function(a){throw new Error("process.chdir is not supported")},yr.umask=function(){return 0};var Loe=W4.exports;const xr=Noe(Loe);var Xp={},iI={exports:{}},Z4;function da(){if(Z4)return iI.exports;Z4=1;var a=iI.exports={},t,o;function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=n}catch{t=n}try{typeof clearTimeout=="function"?o=clearTimeout:o=r}catch{o=r}})();function e(_){if(t===setTimeout)return setTimeout(_,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(_,0);try{return t(_,0)}catch{try{return t.call(null,_,0)}catch{return t.call(this,_,0)}}}function i(_){if(o===clearTimeout)return clearTimeout(_);if((o===r||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(_);try{return o(_)}catch{try{return o.call(null,_)}catch{return o.call(this,_)}}}var s=[],c=!1,u,l=-1;function f(){!c||!u||(c=!1,u.length?s=u.concat(s):l=-1,s.length&&d())}function d(){if(!c){var _=e(f);c=!0;for(var g=s.length;g;){for(u=s,s=[];++l<g;)u&&u[l].run();l=-1,g=s.length}u=null,c=!1,i(_)}}a.nextTick=function(_){var g=new Array(arguments.length-1);if(arguments.length>1)for(var y=1;y<arguments.length;y++)g[y-1]=arguments[y];s.push(new h(_,g)),s.length===1&&!c&&e(d)};function h(_,g){this.fun=_,this.array=g}h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={};function p(){}return a.on=p,a.addListener=p,a.once=p,a.off=p,a.removeListener=p,a.removeAllListeners=p,a.emit=p,a.prependListener=p,a.prependOnceListener=p,a.listeners=function(_){return[]},a.binding=function(_){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(_){throw new Error("process.chdir is not supported")},a.umask=function(){return 0},iI.exports}var eP;function joe(){if(eP)return Xp;eP=1,Object.defineProperty(Xp,"__esModule",{value:!0}),Xp.ActorInitQuery=void 0;const a=X4();typeof xr>"u"&&(globalThis.process=da());class t extends a.ActorInitQueryBase{}return Xp.ActorInitQuery=t,Xp}var Wp={},yo={},Dt={},tP;function rP(){if(tP)return Dt;tP=1,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.KeysStatistics=Dt.KeysRdfJoin=Dt.KeysMergeBindingsContext=Dt.KeysRdfUpdateQuads=Dt.KeysQuerySourceIdentify=Dt.KeysRdfParseHtmlScript=Dt.KeysRdfParseJsonLd=Dt.KeysQueryOperation=Dt.KeysExpressionEvaluator=Dt.KeysInitQuery=Dt.KeysHttpProxy=Dt.KeysHttpMemento=Dt.KeysHttpWayback=Dt.KeysHttp=Dt.KeysCore=void 0;const a=De();return Dt.KeysCore={log:a.CONTEXT_KEY_LOGGER},Dt.KeysHttp={includeCredentials:new a.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new a.ActionContextKey("@comunica/bus-http:auth"),fetch:new a.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new a.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new a.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new a.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelayFallback:new a.ActionContextKey("@comunica/bus-http:http-retry-delay-fallback"),httpRetryDelayLimit:new a.ActionContextKey("@comunica/bus-http:http-retry-delay-limit"),httpRetryStatusCodes:new a.ActionContextKey("@comunica/bus-http:http-retry-status-codes")},Dt.KeysHttpWayback={recoverBrokenLinks:new a.ActionContextKey("@comunica/bus-http:recover-broken-links")},Dt.KeysHttpMemento={datetime:new a.ActionContextKey("@comunica/actor-http-memento:datetime")},Dt.KeysHttpProxy={httpProxyHandler:new a.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")},Dt.KeysInitQuery={querySourcesUnidentified:new a.ActionContextKey("@comunica/actor-init-query:querySourcesUnidentified"),initialBindings:new a.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new a.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new a.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new a.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new a.ActionContextKey("@comunica/actor-init-query:queryString"),query:new a.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new a.ActionContextKey("@comunica/actor-init-query:baseIRI"),functionArgumentsCache:new a.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new a.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),queryTimestampHighResolution:new a.ActionContextKey("@comunica/actor-init-query:queryTimestampHighResolution"),extensionFunctionCreator:new a.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new a.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new a.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new a.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new a.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new a.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new a.ActionContextKey("@context"),invalidateCache:new a.ActionContextKey("@comunica/actor-init-query:invalidateCache"),dataFactory:new a.ActionContextKey("@comunica/actor-init-query:dataFactory"),distinctConstruct:new a.ActionContextKey("@comunica/actor-init-query:distinctConstruct")},Dt.KeysExpressionEvaluator={extensionFunctionCreator:new a.ActionContextKey("@comunica/utils-expression-evaluator:extensionFunctionCreator"),superTypeProvider:new a.ActionContextKey("@comunica/utils-expression-evaluator:superTypeProvider"),defaultTimeZone:new a.ActionContextKey("@comunica/utils-expression-evaluator:defaultTimeZone"),actionContext:new a.ActionContextKey("@comunica/utils-expression-evaluator:actionContext")},Dt.KeysQueryOperation={operation:new a.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new a.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new a.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new a.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new a.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new a.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new a.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new a.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),querySources:new a.ActionContextKey("@comunica/bus-query-operation:querySources")},Dt.KeysRdfParseJsonLd={documentLoader:new a.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new a.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new a.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")},Dt.KeysRdfParseHtmlScript={processingHtmlScript:new a.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new a.ActionContextKey("extractAllScripts")},Dt.KeysQuerySourceIdentify={sourceIds:new a.ActionContextKey("@comunica/bus-query-source-identify:sourceIds"),hypermediaSourcesAggregatedStores:new a.ActionContextKey("@comunica/bus-query-source-identify:hypermediaSourcesAggregatedStores"),traverse:new a.ActionContextKey("@comunica/bus-query-source-identify:traverse")},Dt.KeysRdfUpdateQuads={destination:new a.ActionContextKey("@comunica/bus-rdf-update-quads:destination")},Dt.KeysMergeBindingsContext={sourcesBinding:new a.ActionContextKey("@comunica/bus-merge-bindings-context:sourcesBinding")},Dt.KeysRdfJoin={lastPhysicalJoin:new a.ActionContextKey("@comunica/bus-rdf-join:lastPhysicalJoin")},Dt.KeysStatistics={discoveredLinks:new a.ActionContextKey("@comunica/statistic:discoveredLinks"),dereferencedLinks:new a.ActionContextKey("@comunica/statistic:dereferencedLinks"),intermediateResults:new a.ActionContextKey("@comunica/statistic:intermediateResults")},Dt}var nP;function tt(){return nP||(nP=1,function(a){var t=yo&&yo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=yo&&yo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(rP(),a)}(yo)),yo}var iP;function Moe(){if(iP)return Wp;iP=1,Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.QueryEngineBase=void 0;const a=tt(),t=De();let o=class qD{constructor(r){this.actorInitQuery=r}async queryBindings(r,e){return this.queryOfType(r,e,"bindings")}async queryQuads(r,e){return this.queryOfType(r,e,"quads")}async queryBoolean(r,e){return this.queryOfType(r,e,"boolean")}async queryVoid(r,e){return this.queryOfType(r,e,"void")}async queryOfType(r,e,i){const s=await this.query(r,e);if(s.resultType===i)return await s.execute();throw new Error(`Query result type '${i}' was expected, while '${s.resultType}' was found.`)}async query(r,e){const i=await this.queryOrExplain(r,e);if("explain"in i)throw new Error("Tried to explain a query when in query-only mode");return i}async explain(r,e,i){return e.explain=i,await this.queryOrExplain(r,e)}async queryOrExplain(r,e){const i=t.ActionContext.ensureActionContext(e);i.get(a.KeysInitQuery.invalidateCache)&&await this.invalidateHttpCache();const{result:s}=await this.actorInitQuery.mediatorQueryProcess.mediate({query:r,context:i});return"explain"in s?s:qD.internalToFinalResult(s)}async getResultMediaTypes(r){return r=t.ActionContext.ensureActionContext(r),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeCombiner.mediate({context:r,mediaTypes:!0})).mediaTypes}async getResultMediaTypeFormats(r){return r=t.ActionContext.ensureActionContext(r),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeFormatCombiner.mediate({context:r,mediaTypeFormats:!0})).mediaTypeFormats}async resultToString(r,e,i){if(i=t.ActionContext.ensureActionContext(i),!e)switch(r.resultType){case"bindings":e="application/json";break;case"quads":e="application/trig";break;default:e="simple";break}const s={...await qD.finalToInternalResult(r),context:i};return(await this.actorInitQuery.mediatorQueryResultSerialize.mediate({context:i,handle:s,handleMediaType:e})).handle}invalidateHttpCache(r,e){return e=t.ActionContext.ensureActionContext(e),this.actorInitQuery.mediatorHttpInvalidate.mediate({url:r,context:e})}static internalToFinalResult(r){switch(r.type){case"bindings":return{resultType:"bindings",execute:async()=>r.bindingsStream,metadata:async()=>{const e=await r.metadata();return e.variables=e.variables.map(i=>i.variable),e},context:r.context};case"quads":return{resultType:"quads",execute:async()=>r.quadStream,metadata:async()=>await r.metadata(),context:r.context};case"boolean":return{resultType:"boolean",execute:async()=>r.execute(),context:r.context};case"void":return{resultType:"void",execute:async()=>r.execute(),context:r.context}}}static async finalToInternalResult(r){switch(r.resultType){case"bindings":return{type:"bindings",bindingsStream:await r.execute(),metadata:async()=>{const e=await r.metadata();return e.variables=e.variables.map(i=>({variable:i,canBeUndef:!1})),e}};case"quads":return{type:"quads",quadStream:await r.execute(),metadata:async()=>await r.metadata()};case"boolean":return{type:"boolean",execute:()=>r.execute()};case"void":return{type:"void",execute:()=>r.execute()}}}};return Wp.QueryEngineBase=o,Wp}var aP;function oP(){return aP||(aP=1,function(a){var t=no&&no.__createBinding||(Object.create?function(r,e,i,s){s===void 0&&(s=i);var c=Object.getOwnPropertyDescriptor(e,i);(!c||("get"in c?!e.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(r,s,c)}:function(r,e,i,s){s===void 0&&(s=i),r[s]=e[i]}),o=no&&no.__exportStar||function(r,e){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&t(e,r,i)};Object.defineProperty(a,"__esModule",{value:!0}),a.QueryEngineBase=void 0,o(X4(),a),o(joe(),a);var n=Moe();Object.defineProperty(a,"QueryEngineBase",{enumerable:!0,get:function(){return n.QueryEngineBase}})}(no)),no}var bo={},Jp={},_o={},aI={},sP;function qoe(){return sP||(sP=1,Object.defineProperty(aI,"__esModule",{value:!0})),aI}var oI={},uP;function Coe(){return uP||(uP=1,Object.defineProperty(oI,"__esModule",{value:!0})),oI}var sI={},cP;function Boe(){return cP||(cP=1,Object.defineProperty(sI,"__esModule",{value:!0})),sI}var uI={},lP;function $oe(){return lP||(lP=1,Object.defineProperty(uI,"__esModule",{value:!0})),uI}var cI={},dP;function Uoe(){return dP||(dP=1,Object.defineProperty(cI,"__esModule",{value:!0})),cI}var lI={},fP;function Voe(){return fP||(fP=1,Object.defineProperty(lI,"__esModule",{value:!0})),lI}var dI={},hP;function Qoe(){return hP||(hP=1,Object.defineProperty(dI,"__esModule",{value:!0})),dI}var fI={},pP;function Hoe(){return pP||(pP=1,Object.defineProperty(fI,"__esModule",{value:!0})),fI}var hI={},yP;function Goe(){return yP||(yP=1,Object.defineProperty(hI,"__esModule",{value:!0})),hI}var pI={},bP;function zoe(){return bP||(bP=1,Object.defineProperty(pI,"__esModule",{value:!0})),pI}var yI={},_P;function koe(){return _P||(_P=1,Object.defineProperty(yI,"__esModule",{value:!0})),yI}var bI={},mP;function Xoe(){return mP||(mP=1,Object.defineProperty(bI,"__esModule",{value:!0})),bI}var _I={},gP;function Woe(){return gP||(gP=1,Object.defineProperty(_I,"__esModule",{value:!0})),_I}var mI={},vP;function Joe(){return vP||(vP=1,Object.defineProperty(mI,"__esModule",{value:!0})),mI}var gI={},TP;function Koe(){return TP||(TP=1,Object.defineProperty(gI,"__esModule",{value:!0})),gI}var vI={},wP;function Yoe(){return wP||(wP=1,Object.defineProperty(vI,"__esModule",{value:!0})),vI}var TI={},SP;function Zoe(){return SP||(SP=1,Object.defineProperty(TI,"__esModule",{value:!0})),TI}var wI={},OP;function ese(){return OP||(OP=1,Object.defineProperty(wI,"__esModule",{value:!0})),wI}var Kp={},AP;function tse(){if(AP)return Kp;AP=1,Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.Logger=void 0;let a=class aae{static getLevelOrdinal(o){return aae.LEVELS[o]}};return Kp.Logger=a,a.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Kp}var Yp={},EP;function rse(){if(EP)return Yp;EP=1,Object.defineProperty(Yp,"__esModule",{value:!0}),Yp.ExpressionType=void 0;var a;return function(t){t.Aggregate="aggregate",t.Existence="existence",t.Operator="operator",t.Term="term",t.Variable="variable"}(a||(Yp.ExpressionType=a={})),Yp}var xP;function fa(){return xP||(xP=1,function(a){var t=_o&&_o.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=_o&&_o.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(qoe(),a),o(Coe(),a),o(Boe(),a),o($oe(),a),o(Uoe(),a),o(Voe(),a),o(Qoe(),a),o(Hoe(),a),o(Goe(),a),o(zoe(),a),o(koe(),a),o(Xoe(),a),o(Woe(),a),o(Joe(),a),o(Koe(),a),o(Yoe(),a),o(Zoe(),a),o(ese(),a),o(tse(),a),o(rse(),a)}(_o)),_o}var IP;function nse(){if(IP)return Jp;IP=1,Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.LoggerVoid=void 0;const a=fa();let t=class extends a.Logger{debug(){}error(){}fatal(){}info(){}trace(){}warn(){}};return Jp.LoggerVoid=t,Jp}var RP;function ise(){return RP||(RP=1,function(a){var t=bo&&bo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=bo&&bo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(nse(),a)}(bo)),bo}var mo={},go={},FP;function NP(){if(FP)return go;FP=1,Object.defineProperty(go,"__esModule",{value:!0}),go.MediatorFunctionFactory=go.ActorFunctionFactory=void 0;const a=De();let t=class extends a.Actor{constructor(r){super(r)}};go.ActorFunctionFactory=t;class o extends a.Mediator{}return go.MediatorFunctionFactory=o,go}var Zp={},DP;function ase(){if(DP)return Zp;DP=1,Object.defineProperty(Zp,"__esModule",{value:!0}),Zp.ActorFunctionFactoryDedicated=void 0;const a=De(),t=NP();let o=class extends t.ActorFunctionFactory{constructor(r){super(r)}async test(r){return this.functionNames.includes(r.functionName)&&(this.termFunction||!r.requireTermExpression)?(0,a.passTestVoid)():(0,a.failTest)(`Actor ${this.name} can not provide implementation for "${r.functionName}", only for ${this.termFunction?"":"non-termExpression "}${this.functionNames.join(" and ")}.`)}};return Zp.ActorFunctionFactoryDedicated=o,Zp}var e0={},PP;function ose(){if(PP)return e0;PP=1,Object.defineProperty(e0,"__esModule",{value:!0}),e0.BusFunctionFactory=void 0;const a=De();let t=class extends a.BusIndexed{constructor(n){super({...n,actorIdentifierFields:["functionNames"],actionIdentifierFields:["functionName"]})}};return e0.BusFunctionFactory=t,e0}var vo={},SI={},t0={},OI={},jr={},To={},r0={},LP;function jP(){if(LP)return r0;LP=1,Object.defineProperty(r0,"__esModule",{value:!0}),r0.BlankNode=void 0;class a{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}}return r0.BlankNode=a,r0}var n0={},i0={},MP;function qP(){if(MP)return i0;MP=1,Object.defineProperty(i0,"__esModule",{value:!0}),i0.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}return i0.DefaultGraph=a,a.INSTANCE=new a,i0}var a0={},o0={},CP;function AI(){if(CP)return o0;CP=1,Object.defineProperty(o0,"__esModule",{value:!0}),o0.NamedNode=void 0;class a{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}}return o0.NamedNode=a,o0}var BP;function $P(){if(BP)return a0;BP=1,Object.defineProperty(a0,"__esModule",{value:!0}),a0.Literal=void 0;const a=AI();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return a0.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),a0}var s0={},UP;function VP(){if(UP)return s0;UP=1,Object.defineProperty(s0,"__esModule",{value:!0}),s0.Quad=void 0;class a{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}}return s0.Quad=a,s0}var u0={},QP;function HP(){if(QP)return u0;QP=1,Object.defineProperty(u0,"__esModule",{value:!0}),u0.Variable=void 0;class a{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}}return u0.Variable=a,u0}var GP;function sse(){if(GP)return n0;GP=1,Object.defineProperty(n0,"__esModule",{value:!0}),n0.DataFactory=void 0;const a=jP(),t=qP(),o=$P(),n=AI(),r=VP(),e=HP();let i=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return n0.DataFactory=s,n0}var zP;function use(){return zP||(zP=1,function(a){var t=To&&To.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=To&&To.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(jP(),a),o(sse(),a),o(qP(),a),o($P(),a),o(AI(),a),o(VP(),a),o(HP(),a)}(To)),To}var kP;function cse(){if(kP)return jr;kP=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.stringQuadToQuad=jr.quadToStringQuad=jr.stringToTerm=jr.getLiteralLanguage=jr.getLiteralType=jr.getLiteralValue=jr.termToString=void 0;const a=use(),t=new a.DataFactory;function o(u){if(u)switch(u.termType){case"NamedNode":return u.value;case"BlankNode":return"_:"+u.value;case"Literal":const l=u;return'"'+l.value+'"'+(l.datatype&&l.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&l.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+l.datatype.value:"")+(l.language?"@"+l.language:"");case"Quad":return`<<${o(u.subject)} ${o(u.predicate)} ${o(u.object)}${u.graph.termType==="DefaultGraph"?"":" "+o(u.graph)}>>`;case"Variable":return"?"+u.value;case"DefaultGraph":return u.value}}jr.termToString=o;function n(u){const l=/^"([^]*)"/.exec(u);if(!l)throw new Error(u+" is not a literal");return l[1]}jr.getLiteralValue=n;function r(u){const l=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(u);if(!l)throw new Error(u+" is not a literal");return l[1]||(l[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}jr.getLiteralType=r;function e(u){const l=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(u);if(!l)throw new Error(u+" is not a literal");return l[1]?l[1].toLowerCase():""}jr.getLiteralLanguage=e;function i(u,l){if(l=l||t,!u||!u.length)return l.defaultGraph();switch(u[0]){case"_":return l.blankNode(u.substr(2));case"?":if(!l.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return l.variable(u.substr(1));case'"':const f=e(u),d=l.namedNode(r(u));return l.literal(n(u),f||d);case"<":default:if(u[0]==="<"&&u.length>4&&u[1]==="<"&&u[u.length-1]===">"&&u[u.length-2]===">"){const h=u.slice(2,-2).trim();let p=[],_=0,g=0,y=!1;for(let m=0;m<h.length;m++){const b=h[m];if(b==="<"&&_++,b===">"){if(_===0)throw new Error("Found closing tag without opening tag in "+u);_--}if(b==='"'){let T=!1,w=m;for(;w-- >0&&h[w]==="\\";)T=!T;T||(y=!y)}if(b===" "&&!y&&_===0){for(p.push(h.slice(g,m));h[m+1]===" ";)m+=1;g=m+1}}if(_!==0)throw new Error("Found opening tag without closing tag in "+u);if(p.push(h.slice(g,h.length)),p.length!==3&&p.length!==4)throw new Error("Nested quad syntax error "+u);return p=p.map(m=>m.startsWith("<")&&!m.includes(" ")?m.slice(1,-1):m),l.quad(i(p[0]),i(p[1]),i(p[2]),p[3]?i(p[3]):void 0)}return l.namedNode(u)}}jr.stringToTerm=i;function s(u){return{subject:o(u.subject),predicate:o(u.predicate),object:o(u.object),graph:o(u.graph)}}jr.quadToStringQuad=s;function c(u,l){return l=l||t,l.quad(i(u.subject,l),i(u.predicate,l),i(u.object,l),i(u.graph,l))}return jr.stringQuadToQuad=c,jr}var XP;function $t(){return XP||(XP=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.termToString=a.stringToTerm=a.stringQuadToQuad=a.quadToStringQuad=a.getLiteralValue=a.getLiteralType=a.getLiteralLanguage=void 0;const t=cse();Object.defineProperty(a,"getLiteralLanguage",{enumerable:!0,get:function(){return t.getLiteralLanguage}}),Object.defineProperty(a,"getLiteralType",{enumerable:!0,get:function(){return t.getLiteralType}}),Object.defineProperty(a,"getLiteralValue",{enumerable:!0,get:function(){return t.getLiteralValue}}),Object.defineProperty(a,"quadToStringQuad",{enumerable:!0,get:function(){return t.quadToStringQuad}}),Object.defineProperty(a,"stringQuadToQuad",{enumerable:!0,get:function(){return t.stringQuadToQuad}}),Object.defineProperty(a,"stringToTerm",{enumerable:!0,get:function(){return t.stringToTerm}}),Object.defineProperty(a,"termToString",{enumerable:!0,get:function(){return t.termToString}})}(OI)),OI}var Gn={},Dn={},EI,WP;function lse(){return WP||(WP=1,EI=function a(t,o){if(t===o)return!0;if(t&&o&&typeof t=="object"&&typeof o=="object"){if(t.constructor!==o.constructor)return!1;var n,r,e;if(Array.isArray(t)){if(n=t.length,n!=o.length)return!1;for(r=n;r--!==0;)if(!a(t[r],o[r]))return!1;return!0}if(t instanceof Map&&o instanceof Map){if(t.size!==o.size)return!1;for(r of t.entries())if(!o.has(r[0]))return!1;for(r of t.entries())if(!a(r[1],o.get(r[0])))return!1;return!0}if(t instanceof Set&&o instanceof Set){if(t.size!==o.size)return!1;for(r of t.entries())if(!o.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(o)){if(n=t.length,n!=o.length)return!1;for(r=n;r--!==0;)if(t[r]!==o[r])return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===o.toString();if(e=Object.keys(t),n=e.length,n!==Object.keys(o).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(o,e[r]))return!1;for(r=n;r--!==0;){var i=e[r];if(!a(t[i],o[i]))return!1}return!0}return t!==t&&o!==o}),EI}var xI={},JP;function c0(){return JP||(JP=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.expressionTypes=a.types=void 0,function(t){t.ALT="alt",t.ASK="ask",t.BGP="bgp",t.CONSTRUCT="construct",t.DESCRIBE="describe",t.DISTINCT="distinct",t.EXPRESSION="expression",t.EXTEND="extend",t.FILTER="filter",t.FROM="from",t.GRAPH="graph",t.GROUP="group",t.INV="inv",t.JOIN="join",t.LEFT_JOIN="leftjoin",t.LINK="link",t.MINUS="minus",t.NOP="nop",t.NPS="nps",t.ONE_OR_MORE_PATH="OneOrMorePath",t.ORDER_BY="orderby",t.PATH="path",t.PATTERN="pattern",t.PROJECT="project",t.REDUCED="reduced",t.SEQ="seq",t.SERVICE="service",t.SLICE="slice",t.UNION="union",t.VALUES="values",t.ZERO_OR_MORE_PATH="ZeroOrMorePath",t.ZERO_OR_ONE_PATH="ZeroOrOnePath",t.COMPOSITE_UPDATE="compositeupdate",t.DELETE_INSERT="deleteinsert",t.LOAD="load",t.CLEAR="clear",t.CREATE="create",t.DROP="drop",t.ADD="add",t.MOVE="move",t.COPY="copy"}(a.types||(a.types={})),function(t){t.AGGREGATE="aggregate",t.EXISTENCE="existence",t.NAMED="named",t.OPERATOR="operator",t.TERM="term",t.WILDCARD="wildcard"}(a.expressionTypes||(a.expressionTypes={}))}(xI)),xI}var yi={},wo={},l0={},KP;function YP(){if(KP)return l0;KP=1,Object.defineProperty(l0,"__esModule",{value:!0}),l0.BlankNode=void 0;class a{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}}return l0.BlankNode=a,l0}var d0={},f0={},ZP;function eL(){if(ZP)return f0;ZP=1,Object.defineProperty(f0,"__esModule",{value:!0}),f0.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}return f0.DefaultGraph=a,a.INSTANCE=new a,f0}var h0={},p0={},tL;function II(){if(tL)return p0;tL=1,Object.defineProperty(p0,"__esModule",{value:!0}),p0.NamedNode=void 0;class a{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}}return p0.NamedNode=a,p0}var rL;function nL(){if(rL)return h0;rL=1,Object.defineProperty(h0,"__esModule",{value:!0}),h0.Literal=void 0;const a=II();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return h0.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),h0}var y0={},iL;function aL(){if(iL)return y0;iL=1,Object.defineProperty(y0,"__esModule",{value:!0}),y0.Quad=void 0;class a{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}}return y0.Quad=a,y0}var b0={},oL;function sL(){if(oL)return b0;oL=1,Object.defineProperty(b0,"__esModule",{value:!0}),b0.Variable=void 0;class a{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}}return b0.Variable=a,b0}var uL;function dse(){if(uL)return d0;uL=1,Object.defineProperty(d0,"__esModule",{value:!0}),d0.DataFactory=void 0;const a=YP(),t=eL(),o=nL(),n=II(),r=aL(),e=sL();let i=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return d0.DataFactory=s,d0}var cL;function fse(){return cL||(cL=1,function(a){var t=wo&&wo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=wo&&wo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(YP(),a),o(dse(),a),o(eL(),a),o(nL(),a),o(II(),a),o(aL(),a),o(sL(),a)}(wo)),wo}var RI={},lL;function dL(){if(lL)return RI;lL=1;let a=class{constructor(){return t||this}equals(n){return n&&this.termType===n.termType}};Object.defineProperty(a.prototype,"value",{enumerable:!0,value:"*"}),Object.defineProperty(a.prototype,"termType",{enumerable:!0,value:"Wildcard"});var t=new a;return RI.Wildcard=a,RI}var FI,fL;function hse(){if(fL)return FI;fL=1;var a=function(){var t=function(Ke,Ge,et,at){for(et=et||{},at=Ke.length;at--;et[Ke[at]]=Ge);return et},o=[6,12,13,15,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],n=[2,247],r=[100,110,113,115,116,123,126,131,329,330,331,332,333],e=[2,409],i=[1,18],s=[1,27],c=[13,16,45,197,224,229,308],u=[28,29,53],l=[28,53],f=[1,42],d=[1,45],h=[1,41],p=[1,44],_=[123,126],g=[1,67],y=[39,45,87],m=[13,16,45,197,224,308],b=[1,87],T=[2,281],w=[1,86],O=[13,16,45,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],F=[6,28,29,53,63,70,73,81,83,85],Q=[6,13,16,28,29,53,63,70,73,81,83,85,87,308],j=[6,13,16,28,29,45,53,63,70,73,81,82,83,85,87,89,197,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314],x=[6,13,16,28,29,31,39,45,47,48,53,63,70,73,81,82,83,85,87,89,109,112,121,123,126,128,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,337,338,340,341,342,343,344,345,346],I=[13,16,308],D=[112,132,327,334],C=[13,16,112,132,308],X=[1,111],z=[1,117],J=[112,132,327,328,334],ie=[13,16,112,132,308,328],se=[28,29,45,53,87],ye=[1,138],K=[1,151],Te=[1,128],Ne=[1,127],_e=[1,129],$=[1,140],He=[1,141],qe=[1,142],Ce=[1,143],xe=[1,144],we=[1,145],ee=[1,147],M=[1,148],B=[2,457],R=[1,158],q=[1,159],W=[1,160],re=[1,152],Y=[1,153],ue=[1,156],te=[1,171],le=[1,172],Oe=[1,173],Se=[1,174],Ve=[1,175],ke=[1,176],Ae=[1,167],A=[1,168],E=[1,169],P=[1,170],k=[1,157],N=[1,166],S=[1,161],L=[1,162],U=[1,163],Z=[1,164],me=[1,165],pe=[6,13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],Xe=[1,195],ne=[6,31,73,81,83,85],Ie=[2,285],ve=[1,199],Re=[1,201],ce=[6,31,70,73,81,83,85],Pe=[2,283],ze=[1,207],Ue=[1,218],Ye=[1,223],fe=[1,219],H=[1,225],V=[1,226],G=[1,224],oe=[6,63,70,73,81,83,85],Fe=[1,236],Ee=[2,334],Qe=[1,243],Je=[1,241],rt=[6,193],it=[2,349],ht=[2,339],st=[28,128],ot=[47,48,193,272],Kr=[47,48,193,242,272],nt=[47,48,193,242,246,272],ge=[47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,341,342,343,344,345,346],je=[39,47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,338,341,342,343,344,345,346],Be=[1,271],ct=[1,270],lt=[6,13,16,29,31,39,45,47,48,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],Et=[1,281],dr=[1,280],Xt=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],zi=[45,89],Sn=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],er=[13,16,31,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],Bn=[31,89],Br=[48,87],li=[6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338],$r=[6,13,16,39,45,48,82,87,89,231,263,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338,340],Qf=[1,313],Yr=[6,85],tp=[6,31,81,83,85],Hf=[2,361],On=[2,353],pn=[1,343],aO=[31,112,335],ki=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],yD=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335],Rie=[6,109,193],Gf=[31,112],Ar=[13,16,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],bD=[1,390],_D=[1,391],Da=[13,16,87,197,308,314],Fie=[13,16,39,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],IE=[1,417],RE=[1,418],Nie=[13,16,48,197,229,308],Pa=[6,31,85],Die=[6,13,16,31,45,73,81,83,85,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],mD=[6,13,16,29,31,45,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,231,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,346,347,348,349,350,351],zf=[29,31,85,112,159,160,161,163,164],FE=[1,443],NE=[1,444],Pie=[1,449],kf=[31,112,193,232,318,335],DE=[13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],Lie=[13,16,31,45,48,82,87,89,112,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],gD=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],oO=[13,16,31,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],sO=[31,45],jie=[1,507],Mie=[1,508],qie=[6,13,16,29,31,39,45,47,48,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,336,338,341,342,343,344,345,346,347,348,349,350,351],PE=[29,31,85,112,159,160,161,163,164,335],Xf=[6,13,16,31,45,70,73,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],Cie=[13,16,31,45,48,82,87,89,112,193,197,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Bie=[2,352],vD=[13,16,197,308,314],$ie=[1,565],rp=[6,13,16,31,45,76,78,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],Uie=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],Xi=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],Vie=[13,16,87,308],Wi=[2,364],np=[29,31,85,112,159,160,161,163,164,193,232,318,335],LE=[31,112,193,232,272,318,335],Ji=[2,359],Qie=[13,16,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],jE=[29,31,85,112,159,160,161,163,164,193,232,272,318,335],Hie=[13,16,31,45,82,87,89,112,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],Gie=[2,347],TD={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Query:7,Qry:8,Query_option0:9,Prologue_repetition0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectClauseWildcard:17,Qry_repetition0:18,WhereClause:19,SolutionModifierNoGroup:20,SelectClauseVars:21,Qry_repetition1:22,SolutionModifier:23,CONSTRUCT:24,ConstructTemplate:25,Qry_repetition2:26,Qry_repetition3:27,WHERE:28,"{":29,Qry_option0:30,"}":31,DESCRIBE:32,Qry_group0:33,Qry_repetition4:34,Qry_option1:35,ASK:36,Qry_repetition5:37,SelectClauseBase:38,"*":39,SelectClauseVars_repetition_plus0:40,SELECT:41,SelectClauseBase_option0:42,SelectClauseItem:43,Var:44,"(":45,Expression:46,AS:47,")":48,SubSelect:49,SubSelect_option0:50,SubSelect_option1:51,DatasetClause:52,FROM:53,DatasetClause_option0:54,iri:55,WhereClause_option0:56,GroupGraphPattern:57,SolutionModifier_option0:58,SolutionModifierNoGroup_option0:59,SolutionModifierNoGroup_option1:60,SolutionModifierNoGroup_option2:61,GroupClause:62,GROUP:63,BY:64,GroupClause_repetition_plus0:65,GroupCondition:66,BuiltInCall:67,FunctionCall:68,HavingClause:69,HAVING:70,HavingClause_repetition_plus0:71,OrderClause:72,ORDER:73,OrderClause_repetition_plus0:74,OrderCondition:75,ASC:76,BrackettedExpression:77,DESC:78,Constraint:79,LimitOffsetClauses:80,LIMIT:81,INTEGER:82,OFFSET:83,ValuesClause:84,VALUES:85,InlineData:86,VAR:87,InlineData_repetition0:88,NIL:89,InlineData_repetition1:90,InlineData_repetition_plus2:91,InlineData_repetition3:92,DataBlock:93,DataBlockValueList:94,DataBlockValueList_repetition_plus0:95,Update:96,Update_repetition0:97,Update1:98,Update_option0:99,LOAD:100,Update1_option0:101,Update1_option1:102,Update1_group0:103,Update1_option2:104,GraphRefAll:105,Update1_group1:106,Update1_option3:107,GraphOrDefault:108,TO:109,CREATE:110,Update1_option4:111,GRAPH:112,INSERTDATA:113,QuadPattern:114,DELETEDATA:115,DELETEWHERE:116,Update1_option5:117,InsertDeleteClause:118,Update1_repetition0:119,IntoGraphClause:120,INTO:121,GraphRef:122,DELETE:123,InsertDeleteClause_option0:124,InsertClause:125,INSERT:126,UsingClause:127,USING:128,UsingClause_option0:129,WithClause:130,WITH:131,DEFAULT:132,GraphOrDefault_option0:133,GraphRefAll_group0:134,Quads:135,Quads_option0:136,Quads_repetition0:137,QuadsNotTriples:138,VarOrIri:139,QuadsNotTriples_option0:140,QuadsNotTriples_option1:141,QuadsNotTriples_option2:142,TriplesTemplate:143,TriplesTemplate_repetition0:144,TriplesSameSubject:145,TriplesTemplate_option0:146,GroupGraphPatternSub:147,GroupGraphPatternSub_option0:148,GroupGraphPatternSub_repetition0:149,GroupGraphPatternSubTail:150,GraphPatternNotTriples:151,GroupGraphPatternSubTail_option0:152,GroupGraphPatternSubTail_option1:153,TriplesBlock:154,TriplesBlock_repetition0:155,TriplesSameSubjectPath:156,TriplesBlock_option0:157,GroupOrUnionGraphPattern:158,OPTIONAL:159,MINUS:160,SERVICE:161,GraphPatternNotTriples_option0:162,FILTER:163,BIND:164,InlineDataOneVar:165,InlineDataFull:166,InlineDataOneVar_repetition0:167,InlineDataFull_repetition0:168,InlineDataFull_repetition_plus1:169,InlineDataFull_repetition2:170,DataBlockValue:171,Literal:172,QuotedTriple:173,UNDEF:174,GroupOrUnionGraphPattern_repetition0:175,ArgList:176,ArgList_option0:177,ArgList_repetition0:178,ExpressionList:179,ExpressionList_repetition0:180,ConstructTemplate_option0:181,ConstructTriples:182,ConstructTriples_repetition0:183,ConstructTriples_option0:184,VarOrTermOrQuotedTP:185,PropertyListNotEmpty:186,TriplesNode:187,PropertyList:188,PropertyList_option0:189,VerbObjectList:190,PropertyListNotEmpty_repetition0:191,SemiOptionalVerbObjectList:192,";":193,SemiOptionalVerbObjectList_option0:194,Verb:195,ObjectList:196,a:197,ObjectList_repetition0:198,Object:199,GraphNode:200,Object_option0:201,PropertyListPathNotEmpty:202,TriplesNodePath:203,TriplesSameSubjectPath_option0:204,O:205,PropertyListPathNotEmpty_repetition0:206,PropertyListPathNotEmptyTail:207,O_group0:208,ObjectListPath:209,ObjectListPath_repetition0:210,ObjectPath:211,GraphNodePath:212,ObjectPath_option0:213,Path:214,Path_repetition0:215,PathSequence:216,PathSequence_repetition0:217,PathEltOrInverse:218,PathElt:219,PathPrimary:220,PathElt_option0:221,PathEltOrInverse_option0:222,IriOrA:223,"!":224,PathNegatedPropertySet:225,PathOneInPropertySet:226,PathNegatedPropertySet_repetition0:227,PathNegatedPropertySet_option0:228,"^":229,TriplesNode_repetition_plus0:230,"[":231,"]":232,TriplesNodePath_repetition_plus0:233,VarOrTermOrQuotedTPExpr:234,VarOrTerm:235,GraphTerm:236,BlankNode:237,ConditionalOrExpression:238,ConditionalAndExpression:239,ConditionalOrExpression_repetition0:240,ConditionalOrExpressionTail:241,"||":242,RelationalExpression:243,ConditionalAndExpression_repetition0:244,ConditionalAndExpressionTail:245,"&&":246,NumericExpression:247,RelationalExpression_group0:248,RelationalExpression_option0:249,IN:250,MultiplicativeExpression:251,NumericExpression_repetition0:252,AdditiveExpressionTail:253,AdditiveExpressionTail_group0:254,NumericLiteralPositive:255,AdditiveExpressionTail_repetition0:256,NumericLiteralNegative:257,AdditiveExpressionTail_repetition1:258,UnaryExpression:259,MultiplicativeExpression_repetition0:260,MultiplicativeExpressionTail:261,MultiplicativeExpressionTail_group0:262,"+":263,PrimaryExpression:264,"-":265,ExprQuotedTP:266,Aggregate:267,FUNC_ARITY0:268,FUNC_ARITY1:269,FUNC_ARITY1_SPARQL_STAR:270,FUNC_ARITY2:271,",":272,FUNC_ARITY3:273,FUNC_ARITY3_SPARQL_STAR:274,BuiltInCall_group0:275,BOUND:276,BNODE:277,BuiltInCall_option0:278,EXISTS:279,COUNT:280,Aggregate_option0:281,Aggregate_group0:282,FUNC_AGGREGATE:283,Aggregate_option1:284,GROUP_CONCAT:285,Aggregate_option2:286,Aggregate_option3:287,GroupConcatSeparator:288,SEPARATOR:289,"=":290,String:291,LANGTAG:292,"^^":293,DECIMAL:294,DOUBLE:295,BOOLEAN:296,INTEGER_POSITIVE:297,DECIMAL_POSITIVE:298,DOUBLE_POSITIVE:299,INTEGER_NEGATIVE:300,DECIMAL_NEGATIVE:301,DOUBLE_NEGATIVE:302,STRING_LITERAL1:303,STRING_LITERAL2:304,STRING_LITERAL_LONG1:305,STRING_LITERAL_LONG2:306,PrefixedName:307,PNAME_LN:308,BLANK_NODE_LABEL:309,ANON:310,QuotedTP:311,"<<":312,qtSubjectOrObject:313,">>":314,DataValueTerm:315,AnnotationPattern:316,"{|":317,"|}":318,AnnotationPatternPath:319,ExprVarOrTerm:320,QueryOrUpdate_group0_option0:321,Prologue_repetition0_group0:322,Qry_group0_repetition_plus0:323,SelectClauseBase_option0_group0:324,DISTINCT:325,REDUCED:326,NAMED:327,SILENT:328,CLEAR:329,DROP:330,ADD:331,MOVE:332,COPY:333,ALL:334,".":335,UNION:336,"|":337,"/":338,PathElt_option0_group0:339,"?":340,"!=":341,"<":342,">":343,"<=":344,">=":345,NOT:346,CONCAT:347,COALESCE:348,SUBSTR:349,REGEX:350,REPLACE:351,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",24:"CONSTRUCT",28:"WHERE",29:"{",31:"}",32:"DESCRIBE",36:"ASK",39:"*",41:"SELECT",45:"(",47:"AS",48:")",53:"FROM",63:"GROUP",64:"BY",70:"HAVING",73:"ORDER",76:"ASC",78:"DESC",81:"LIMIT",82:"INTEGER",83:"OFFSET",85:"VALUES",87:"VAR",89:"NIL",100:"LOAD",109:"TO",110:"CREATE",112:"GRAPH",113:"INSERTDATA",115:"DELETEDATA",116:"DELETEWHERE",121:"INTO",123:"DELETE",126:"INSERT",128:"USING",131:"WITH",132:"DEFAULT",159:"OPTIONAL",160:"MINUS",161:"SERVICE",163:"FILTER",164:"BIND",174:"UNDEF",193:";",197:"a",224:"!",229:"^",231:"[",232:"]",242:"||",246:"&&",250:"IN",263:"+",265:"-",268:"FUNC_ARITY0",269:"FUNC_ARITY1",270:"FUNC_ARITY1_SPARQL_STAR",271:"FUNC_ARITY2",272:",",273:"FUNC_ARITY3",274:"FUNC_ARITY3_SPARQL_STAR",276:"BOUND",277:"BNODE",279:"EXISTS",280:"COUNT",283:"FUNC_AGGREGATE",285:"GROUP_CONCAT",289:"SEPARATOR",290:"=",292:"LANGTAG",293:"^^",294:"DECIMAL",295:"DOUBLE",296:"BOOLEAN",297:"INTEGER_POSITIVE",298:"DECIMAL_POSITIVE",299:"DOUBLE_POSITIVE",300:"INTEGER_NEGATIVE",301:"DECIMAL_NEGATIVE",302:"DOUBLE_NEGATIVE",303:"STRING_LITERAL1",304:"STRING_LITERAL2",305:"STRING_LITERAL_LONG1",306:"STRING_LITERAL_LONG2",308:"PNAME_LN",309:"BLANK_NODE_LABEL",310:"ANON",312:"<<",314:">>",317:"{|",318:"|}",325:"DISTINCT",326:"REDUCED",327:"NAMED",328:"SILENT",329:"CLEAR",330:"DROP",331:"ADD",332:"MOVE",333:"COPY",334:"ALL",335:".",336:"UNION",337:"|",338:"/",340:"?",341:"!=",342:"<",343:">",344:"<=",345:">=",346:"NOT",347:"CONCAT",348:"COALESCE",349:"SUBSTR",350:"REGEX",351:"REPLACE"},productions_:[0,[3,3],[7,2],[4,1],[11,2],[14,3],[8,4],[8,4],[8,5],[8,7],[8,5],[8,4],[17,2],[21,2],[38,2],[43,1],[43,5],[49,4],[49,4],[52,3],[19,2],[23,2],[20,3],[62,3],[66,1],[66,1],[66,3],[66,5],[66,1],[69,2],[72,3],[75,2],[75,2],[75,1],[75,1],[80,2],[80,2],[80,4],[80,4],[84,2],[86,4],[86,4],[86,6],[86,2],[94,3],[96,3],[98,4],[98,3],[98,5],[98,4],[98,2],[98,2],[98,2],[98,5],[120,2],[118,3],[118,1],[125,2],[127,3],[130,2],[108,1],[108,2],[122,2],[105,1],[105,1],[114,3],[135,2],[138,7],[143,3],[57,3],[57,3],[147,2],[150,3],[154,3],[151,1],[151,2],[151,2],[151,3],[151,4],[151,2],[151,6],[151,1],[93,1],[93,1],[165,4],[166,4],[166,6],[171,1],[171,1],[171,1],[171,1],[158,2],[79,1],[79,1],[79,1],[68,2],[176,1],[176,5],[179,1],[179,4],[25,3],[182,3],[145,2],[145,2],[188,1],[186,2],[192,2],[190,2],[195,1],[195,1],[196,2],[199,2],[156,2],[156,2],[202,2],[207,1],[207,2],[205,2],[209,2],[211,2],[214,2],[216,2],[219,2],[218,2],[220,1],[220,2],[220,3],[225,1],[225,1],[225,4],[226,1],[226,2],[187,3],[187,3],[203,3],[203,3],[200,1],[200,1],[212,1],[212,1],[234,1],[235,1],[235,1],[139,1],[139,1],[44,1],[236,1],[236,1],[236,1],[236,1],[46,1],[238,2],[241,2],[239,2],[245,2],[243,1],[243,3],[243,4],[247,2],[253,2],[253,2],[253,2],[251,2],[261,2],[259,2],[259,2],[259,2],[259,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[77,3],[67,1],[67,2],[67,4],[67,4],[67,6],[67,8],[67,8],[67,2],[67,4],[67,2],[67,4],[67,3],[267,5],[267,5],[267,6],[288,4],[172,1],[172,2],[172,3],[172,1],[172,1],[172,1],[172,1],[172,1],[172,1],[255,1],[255,1],[255,1],[257,1],[257,1],[257,1],[291,1],[291,1],[291,1],[291,1],[55,1],[55,1],[307,1],[307,1],[237,1],[237,1],[311,5],[173,5],[313,1],[313,1],[313,1],[313,1],[313,1],[315,1],[315,1],[315,1],[185,1],[185,1],[185,1],[316,3],[319,3],[266,5],[320,1],[320,1],[320,1],[223,1],[223,1],[321,0],[321,1],[5,1],[5,1],[5,1],[9,0],[9,1],[322,1],[322,1],[10,0],[10,2],[18,0],[18,2],[22,0],[22,2],[26,0],[26,2],[27,0],[27,2],[30,0],[30,1],[323,1],[323,2],[33,1],[33,1],[34,0],[34,2],[35,0],[35,1],[37,0],[37,2],[40,1],[40,2],[324,1],[324,1],[42,0],[42,1],[50,0],[50,1],[51,0],[51,1],[54,0],[54,1],[56,0],[56,1],[58,0],[58,1],[59,0],[59,1],[60,0],[60,1],[61,0],[61,1],[65,1],[65,2],[71,1],[71,2],[74,1],[74,2],[88,0],[88,2],[90,0],[90,2],[91,1],[91,2],[92,0],[92,2],[95,1],[95,2],[97,0],[97,4],[99,0],[99,2],[101,0],[101,1],[102,0],[102,1],[103,1],[103,1],[104,0],[104,1],[106,1],[106,1],[106,1],[107,0],[107,1],[111,0],[111,1],[117,0],[117,1],[119,0],[119,2],[124,0],[124,1],[129,0],[129,1],[133,0],[133,1],[134,1],[134,1],[134,1],[136,0],[136,1],[137,0],[137,2],[140,0],[140,1],[141,0],[141,1],[142,0],[142,1],[144,0],[144,3],[146,0],[146,1],[148,0],[148,1],[149,0],[149,2],[152,0],[152,1],[153,0],[153,1],[155,0],[155,3],[157,0],[157,1],[162,0],[162,1],[167,0],[167,2],[168,0],[168,2],[169,1],[169,2],[170,0],[170,2],[175,0],[175,3],[177,0],[177,1],[178,0],[178,3],[180,0],[180,3],[181,0],[181,1],[183,0],[183,3],[184,0],[184,1],[189,0],[189,1],[191,0],[191,2],[194,0],[194,1],[198,0],[198,3],[201,0],[201,1],[204,0],[204,1],[206,0],[206,2],[208,1],[208,1],[210,0],[210,3],[213,0],[213,1],[215,0],[215,3],[217,0],[217,3],[339,1],[339,1],[339,1],[221,0],[221,1],[222,0],[222,1],[227,0],[227,3],[228,0],[228,1],[230,1],[230,2],[233,1],[233,2],[240,0],[240,2],[244,0],[244,2],[248,1],[248,1],[248,1],[248,1],[248,1],[248,1],[249,0],[249,1],[252,0],[252,2],[254,1],[254,1],[256,0],[256,2],[258,0],[258,2],[260,0],[260,2],[262,1],[262,1],[275,1],[275,1],[275,1],[275,1],[275,1],[278,0],[278,1],[281,0],[281,1],[282,1],[282,1],[284,0],[284,1],[286,0],[286,1],[287,0],[287,1]],performAction:function(Ge,et,at,pt,_t,de,An){var he=de.length-1;switch(_t){case 1:if(de[he-1]=de[he-1]||{},It.base&&(de[he-1].base=It.base),It.base="",de[he-1].prefixes=It.prefixes,It.prefixes=null,It.pathOnly){if(de[he-1].type==="path"||"termType"in de[he-1])return de[he-1];throw new Error("Received full SPARQL query in path only mode")}else if(de[he-1].type==="path"||"termType"in de[he-1])throw new Error("Received only path in full SPARQL mode");if(de[he-1].type==="update"){const xt={};for(const Bt of de[he-1].updates)if(Bt.updateType==="insert"){const wt={};for(const Vr of Bt.insert)if(Vr.type==="bgp"||Vr.type==="graph")for(const Qr of Vr.triples)Qr.subject.termType==="BlankNode"&&(wt[Qr.subject.value]=!0),Qr.predicate.termType==="BlankNode"&&(wt[Qr.predicate.value]=!0),Qr.object.termType==="BlankNode"&&(wt[Qr.object.value]=!0);for(const Vr of Object.keys(wt)){if(xt[Vr])throw new Error("Detected reuse blank node across different INSERT DATA clauses");xt[Vr]=!0}}}return de[he-1];case 2:this.$={...de[he-1],...de[he],type:"query"};break;case 4:It.base=uO(de[he]);break;case 5:It.prefixes||(It.prefixes={}),de[he-1]=de[he-1].substr(0,de[he-1].length-1),de[he]=uO(de[he]),It.prefixes[de[he-1]]=de[he];break;case 6:this.$={...de[he-3],...Kf(de[he-2]),...de[he-1],...de[he]};break;case 7:if(!It.skipValidation&&(RD(de[he-3].variables.map(Bt=>ID(Bt.expression))).some(Bt=>Bt.aggregation==="count"&&!(Bt.expression instanceof ME))||de[he].group)){for(const Bt of de[he-3].variables)if(Bt.termType==="Variable"){if(!de[he].group||!de[he].group.map(wt=>up(wt)).includes(up(Bt)))throw Error("Projection of ungrouped variable (?"+up(Bt)+")")}else if(ID(Bt.expression).length===0){const wt=XSe(Bt.expression);for(const Vr of wt)if(!de[he].group||!de[he].group.map||!de[he].group.map(Qr=>up(Qr)).includes(up(Vr)))throw Error("Use of ungrouped variable in projection of operation (?"+up(Vr)+")")}}const cp=de[he-1].where.filter(xt=>xt.type==="query");if(cp.length>0){const xt=de[he-3].variables.filter(wt=>wt.variable&&wt.variable.value).map(wt=>wt.variable.value),Bt=RD(cp.map(wt=>wt.variables)).map(wt=>wt.value||wt.variable.value);for(const wt of xt)if(Bt.indexOf(wt)>=0)throw Error("Target id of 'AS' (?"+wt+") already used in subquery")}this.$=mr(de[he-3],Kf(de[he-2]),de[he-1],de[he]);break;case 8:this.$=mr({queryType:"CONSTRUCT",template:de[he-3]},Kf(de[he-2]),de[he-1],de[he]);break;case 9:this.$=mr({queryType:"CONSTRUCT",template:de[he-2]=de[he-2]?de[he-2].triples:[]},Kf(de[he-5]),{where:[{type:"bgp",triples:ip([],de[he-2])}]},de[he]);break;case 10:this.$=mr({queryType:"DESCRIBE",variables:de[he-3]==="*"?[new ME]:de[he-3]},Kf(de[he-2]),de[he-1],de[he]);break;case 11:this.$=mr({queryType:"ASK"},Kf(de[he-2]),de[he-1],de[he]);break;case 12:this.$=mr(de[he-1],{variables:[new ME]});break;case 13:const PD=de[he].map(xt=>xt.value||xt.variable.value),VE=WSe(PD);if(VE.length>0)throw Error("Two or more of the resulting columns have the same name (?"+VE[0]+")");this.$=mr(de[he-1],{variables:de[he]});break;case 14:this.$=mr({queryType:"SELECT"},de[he]&&(de[he-1]=ln(de[he]),de[he]={},de[he][de[he-1]]=!0,de[he]));break;case 16:case 27:this.$=ap(de[he-3],{variable:de[he-1]});break;case 17:case 18:this.$=mr(de[he-3],de[he-2],de[he-1],de[he],{type:"query"});break;case 19:case 58:this.$={iri:de[he],named:!!de[he-1]};break;case 20:this.$={where:de[he].patterns};break;case 21:this.$=mr(de[he-1],de[he]);break;case 22:this.$=mr(de[he-2],de[he-1],de[he]);break;case 23:this.$={group:de[he]};break;case 24:case 25:case 28:case 31:case 33:case 34:this.$=ap(de[he]);break;case 26:this.$=ap(de[he-1]);break;case 29:this.$={having:de[he]};break;case 30:this.$={order:de[he]};break;case 32:this.$=ap(de[he],{descending:!0});break;case 35:this.$={limit:sp(de[he])};break;case 36:this.$={offset:sp(de[he])};break;case 37:this.$={limit:sp(de[he-2]),offset:sp(de[he])};break;case 38:this.$={limit:sp(de[he]),offset:sp(de[he-2])};break;case 39:case 43:this.$={type:"values",values:de[he]};break;case 40:case 84:this.$=de[he-1].map(xt=>({[de[he-3]]:xt}));break;case 41:case 85:this.$=de[he-1].map(()=>({}));break;case 42:case 86:var La=de[he-4].length;de[he-4]=de[he-4].map(wD),this.$=de[he-1].map(function(xt){if(xt.length!==La)throw Error("Inconsistent VALUES length");for(var Bt={},wt=0;wt<La;wt++)Bt["?"+de[he-4][wt].value]=xt[wt];return Bt});break;case 44:case 65:case 100:case 126:case 175:this.$=de[he-1];break;case 45:this.$={type:"update",updates:Jf(de[he-2],de[he-1])};break;case 46:this.$=mr({type:"load",silent:!!de[he-2],source:de[he-1]},de[he]&&{destination:de[he]});break;case 47:this.$={type:ln(de[he-2]),silent:!!de[he-1],graph:de[he]};break;case 48:this.$={type:ln(de[he-4]),silent:!!de[he-3],source:de[he-2],destination:de[he]};break;case 49:this.$={type:"create",silent:!!de[he-2],graph:{type:"graph",name:de[he]}};break;case 50:this.$={updateType:"insert",insert:rae(de[he])};break;case 51:this.$={updateType:"delete",delete:DD(rae(de[he]))};break;case 52:this.$={updateType:"deletewhere",delete:DD(de[he])};break;case 53:this.$={updateType:"insertdelete",...de[he-4],...de[he-3],...Kf(de[he-2],"using"),where:de[he].patterns};break;case 54:case 57:case 62:case 167:case 191:case 236:this.$=de[he];break;case 55:this.$={delete:DD(de[he-1]),insert:de[he]||[]};break;case 56:this.$={delete:[],insert:de[he]};break;case 59:this.$={graph:de[he]};break;case 60:this.$={type:"graph",default:!0};break;case 61:case 63:this.$={type:"graph",name:de[he]};break;case 64:this.$={[ln(de[he])]:!0};break;case 66:this.$=de[he-1]?Ai(de[he],[de[he-1]]):Ai(de[he]);break;case 67:var BE=mr(de[he-3]||{triples:[]},{type:"graph",name:de[he-5]});this.$=de[he]?[BE,de[he]]:[BE];break;case 68:case 73:this.$={type:"bgp",triples:Ai(de[he-2],[de[he-1]])};break;case 69:this.$={type:"group",patterns:[de[he-1]]};break;case 70:for(const xt of de[he-1].filter(Bt=>Bt.type==="bind")){const Bt=de[he-1].indexOf(xt),wt=new Set;for(const Vr of de[he-1].slice(0,Bt))(Vr.type==="group"||Vr.type==="bgp")&&eae(Vr).forEach(Qr=>wt.add(Qr));if(wt.has(xt.variable.value))throw Error("Variable used to bind is already bound (?"+xt.variable.value+")")}this.$={type:"group",patterns:de[he-1]};break;case 71:this.$=de[he-1]?Ai([de[he-1]],de[he]):Ai(de[he]);break;case 72:this.$=de[he]?[de[he-2],de[he]]:de[he-2];break;case 75:this.$=mr(de[he],{type:"optional"});break;case 76:this.$=mr(de[he],{type:"minus"});break;case 77:this.$=mr(de[he],{type:"graph",name:de[he-1]});break;case 78:this.$=mr(de[he],{type:"service",name:de[he-1],silent:!!de[he-2]});break;case 79:this.$={type:"filter",expression:de[he]};break;case 80:this.$={type:"bind",variable:de[he-1],expression:de[he-3]};break;case 89:this.$=lO(de[he]);break;case 90:this.$=void 0;break;case 91:this.$=de[he-1].length?{type:"union",patterns:Ai(de[he-1].map(OD),[OD(de[he])])}:de[he];break;case 95:this.$={...de[he],function:de[he-1]};break;case 96:this.$={type:"functionCall",args:[]};break;case 97:this.$={type:"functionCall",args:Jf(de[he-2],de[he-1]),distinct:!!de[he-3]};break;case 98:case 115:case 128:case 247:case 249:case 251:case 253:case 255:case 263:case 267:case 297:case 299:case 303:case 307:case 328:case 341:case 349:case 355:case 361:case 367:case 369:case 373:case 375:case 379:case 381:case 385:case 391:case 395:case 401:case 405:case 409:case 411:case 420:case 428:case 430:case 440:case 444:case 446:case 448:this.$=[];break;case 99:this.$=Jf(de[he-2],de[he-1]);break;case 101:this.$=Ai(de[he-2],[de[he-1]]);break;case 102:case 112:this.$=ND(de[he].map(xt=>mr(Ki(de[he-1]),xt)));break;case 103:this.$=ND(ip(de[he].map(xt=>mr(Ki(de[he-1].entity),xt)),de[he-1].triples));break;case 105:this.$=Ai([de[he-1]],de[he]);break;case 106:this.$=Ai(de[he]);break;case 107:this.$=xD(de[he-1],de[he]);break;case 109:case 237:this.$=It.factory.namedNode(CSe);break;case 110:case 118:this.$=Jf(de[he-1],de[he]);break;case 111:this.$=de[he]?{annotation:de[he],object:de[he-1]}:de[he-1];break;case 113:this.$=de[he]?ND(ip(de[he].map(xt=>mr(Ki(de[he-1].entity),xt)),de[he-1].triples)):de[he-1].triples;break;case 114:this.$=xD(...de[he-1],de[he]);break;case 116:this.$=xD(...de[he]);break;case 117:case 159:case 163:this.$=[de[he-1],de[he]];break;case 119:this.$=de[he]?{object:de[he-1],annotation:de[he]}:de[he-1];break;case 120:this.$=de[he-1].length?op("|",Jf(de[he-1],de[he])):de[he];break;case 121:this.$=de[he-1].length?op("/",Jf(de[he-1],de[he])):de[he];break;case 122:this.$=de[he]?op(de[he],[de[he-1]]):de[he-1];break;case 123:this.$=de[he-1]?op(de[he-1],[de[he]]):de[he];break;case 125:case 131:this.$=op(de[he-1],[de[he]]);break;case 129:this.$=op("|",Jf(de[he-2],de[he-1]));break;case 132:case 134:this.$=zSe(de[he-1]);break;case 133:case 135:this.$=kSe(de[he-1]);break;case 140:this.$={entity:de[he],triples:[]};break;case 145:this.$=wD(de[he]);break;case 149:this.$=It.factory.namedNode(zie);break;case 151:case 153:case 158:case 162:this.$=SD(de[he-1],de[he]);break;case 152:this.$=["||",de[he]];break;case 154:this.$=["&&",de[he]];break;case 156:this.$=Ur(de[he-1],[de[he-2],de[he]]);break;case 157:this.$=Ur(de[he-2]?"notin":"in",[de[he-3],de[he]]);break;case 160:this.$=["+",SD(de[he-1],de[he])];break;case 161:var $E=Ei(de[he-1].value.replace("-",""),de[he-1].datatype);this.$=["-",SD($E,de[he])];break;case 164:this.$=Ur("UPLUS",[de[he]]);break;case 165:this.$=Ur(de[he-1],[de[he]]);break;case 166:this.$=Ur("UMINUS",[de[he]]);break;case 177:this.$=Ur(ln(de[he-1]));break;case 178:this.$=Ur(ln(de[he-3]),[de[he-1]]);break;case 179:this.$=lO(Ur(ln(de[he-3]),[de[he-1]]));break;case 180:this.$=Ur(ln(de[he-5]),[de[he-3],de[he-1]]);break;case 181:this.$=Ur(ln(de[he-7]),[de[he-5],de[he-3],de[he-1]]);break;case 182:this.$=lO(Ur(ln(de[he-7]),[de[he-5],de[he-3],de[he-1]]));break;case 183:this.$=Ur(ln(de[he-1]),de[he]);break;case 184:this.$=Ur("bound",[wD(de[he-1])]);break;case 185:this.$=Ur(de[he-1],[]);break;case 186:this.$=Ur(de[he-3],[de[he-1]]);break;case 187:this.$=Ur(de[he-2]?"notexists":"exists",[OD(de[he])]);break;case 188:case 189:this.$=ap(de[he-1],{type:"aggregate",aggregation:ln(de[he-4]),distinct:!!de[he-2]});break;case 190:this.$=ap(de[he-2],{type:"aggregate",aggregation:ln(de[he-5]),distinct:!!de[he-3],separator:typeof de[he-1]=="string"?de[he-1]:" "});break;case 192:this.$=Ei(de[he]);break;case 193:this.$=VSe(de[he-1],ln(de[he].substr(1)));break;case 194:this.$=Ei(de[he-2],de[he]);break;case 195:case 204:this.$=Ei(de[he],kie);break;case 196:case 205:this.$=Ei(de[he],Xie);break;case 197:case 206:this.$=Ei(ln(de[he]),Wie);break;case 200:this.$=Ei(de[he].toLowerCase(),USe);break;case 201:this.$=Ei(de[he].substr(1),kie);break;case 202:this.$=Ei(de[he].substr(1),Xie);break;case 203:this.$=Ei(de[he].substr(1).toLowerCase(),Wie);break;case 207:case 208:this.$=Zie(de[he],1);break;case 209:case 210:this.$=Zie(de[he],3);break;case 211:this.$=It.factory.namedNode(uO(de[he]));break;case 213:var UE=de[he].indexOf(":"),gr=de[he].substr(0,UE),xi=It.prefixes[gr];if(!xi)throw new Error("Unknown prefix: "+gr);var Yf=uO(xi+de[he].substr(UE+1));this.$=It.factory.namedNode(Yf);break;case 214:if(de[he]=de[he].substr(0,de[he].length-1),!(de[he]in It.prefixes))throw new Error("Unknown prefix: "+de[he]);var Yf=uO(It.prefixes[de[he]]);this.$=It.factory.namedNode(Yf);break;case 215:this.$=cO(de[he].replace(/^(_:)/,""));break;case 216:this.$=cO();break;case 217:case 218:case 232:this.$=lO(AD(de[he-3],de[he-2],de[he-1]));break;case 230:case 231:this.$=lO(de[he-1]);break;case 248:case 250:case 252:case 254:case 256:case 260:case 264:case 268:case 270:case 292:case 294:case 296:case 298:case 300:case 302:case 304:case 306:case 329:case 342:case 356:case 368:case 370:case 372:case 374:case 392:case 402:case 425:case 427:case 429:case 431:case 441:case 445:case 447:case 449:de[he-1].push(de[he]);break;case 259:case 269:case 291:case 293:case 295:case 301:case 305:case 371:case 424:case 426:this.$=[de[he]];break;case 308:de[he-3].push(de[he-2]);break;case 350:case 362:case 376:case 380:case 382:case 386:case 396:case 406:case 410:case 412:case 421:de[he-2].push(de[he-1]);break}},table:[t(o,n,{3:1,4:2,10:3}),{1:[3]},t(r,[2,307],{5:4,7:5,321:6,214:7,8:8,96:9,215:10,17:11,21:12,97:16,38:17,6:[2,238],13:e,16:e,45:e,197:e,224:e,229:e,308:e,24:[1,13],32:[1,14],36:[1,15],41:i}),t([6,13,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],[2,3],{322:19,11:20,14:21,12:[1,22],15:[1,23]}),{6:[1,24]},{6:[2,240]},{6:[2,241]},{6:[2,242]},{6:[2,243],9:25,84:26,85:s},{6:[2,239]},t(c,[2,411],{216:28,217:29}),t(u,[2,249],{18:30}),t(u,[2,251],{22:31}),t(l,[2,255],{25:32,27:33,29:[1,34]}),{13:f,16:d,33:35,39:[1,37],44:39,55:40,87:h,139:38,307:43,308:p,323:36},t(u,[2,267],{37:46}),t(_,[2,326],{98:47,103:49,106:50,117:55,130:61,100:[1,48],110:[1,51],113:[1,52],115:[1,53],116:[1,54],131:[1,62],329:[1,56],330:[1,57],331:[1,58],332:[1,59],333:[1,60]}),{39:[1,63],40:64,43:65,44:66,45:g,87:h},t(y,[2,273],{42:68,324:69,325:[1,70],326:[1,71]}),t(o,[2,248]),t(o,[2,245]),t(o,[2,246]),{13:[1,72]},{16:[1,73]},{1:[2,1]},{6:[2,2]},{6:[2,244]},{45:[1,77],85:[1,78],86:74,87:[1,75],89:[1,76]},t([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],[2,120],{337:[1,79]}),t(m,[2,418],{218:80,222:81,229:[1,82]}),{19:83,28:b,29:T,52:84,53:w,56:85},{19:88,28:b,29:T,52:89,53:w,56:85},t(u,[2,253],{26:90}),{28:[1,91],52:92,53:w},t(O,[2,385],{181:93,182:94,183:95,31:[2,383]}),t(F,[2,263],{34:96}),t(F,[2,261],{44:39,55:40,307:43,139:97,13:f,16:d,87:h,308:p}),t(F,[2,262]),t(Q,[2,259]),t(j,[2,143]),t(j,[2,144]),t([6,13,16,28,29,31,39,45,47,48,53,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,145]),t(x,[2,211]),t(x,[2,212]),t(x,[2,213]),t(x,[2,214]),{19:98,28:b,29:T,52:99,53:w,56:85},{6:[2,309],99:100,193:[1,101]},t(I,[2,311],{101:102,328:[1,103]}),t(D,[2,317],{104:104,328:[1,105]}),t(C,[2,322],{107:106,328:[1,107]}),{111:108,112:[2,324],328:[1,109]},{29:X,114:110},{29:X,114:112},{29:X,114:113},{118:114,123:[1,115],125:116,126:z},t(J,[2,315]),t(J,[2,316]),t(ie,[2,319]),t(ie,[2,320]),t(ie,[2,321]),t(_,[2,327]),{13:f,16:d,55:118,307:43,308:p},t(u,[2,12]),t(u,[2,13],{44:66,43:119,45:g,87:h}),t(se,[2,269]),t(se,[2,15]),{13:f,16:d,44:136,45:ye,46:120,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},t(y,[2,14]),t(y,[2,274]),t(y,[2,271]),t(y,[2,272]),t(o,[2,4]),{13:[1,177]},t(pe,[2,39]),{29:[1,178]},{29:[1,179]},{87:[1,181],91:180},{45:[1,187],87:[1,185],89:[1,186],93:182,165:183,166:184},t(c,[2,410]),t([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337],[2,121],{338:[1,188]}),{13:f,16:d,45:[1,193],55:194,197:Xe,219:189,220:190,223:191,224:[1,192],307:43,308:p},t(m,[2,419]),t(ne,Ie,{20:196,59:197,69:198,70:ve}),t(u,[2,250]),{29:Re,57:200},t(I,[2,279],{54:202,327:[1,203]}),{29:[2,282]},t(ce,Pe,{23:204,58:205,62:206,63:ze}),t(u,[2,252]),{19:208,28:b,29:T,52:209,53:w,56:85},{29:[1,210]},t(l,[2,256]),{31:[1,211]},{31:[2,384]},{13:f,16:d,44:215,45:Ue,55:220,82:K,87:h,89:Ye,145:212,172:221,185:213,187:214,231:fe,236:216,237:222,255:154,257:155,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,309:H,310:V,311:217,312:G},t(oe,[2,265],{56:85,35:227,52:228,19:229,28:b,29:T,53:w}),t(Q,[2,260]),t(ce,Pe,{58:205,62:206,23:230,63:ze}),t(u,[2,268]),{6:[2,45]},t(o,n,{10:3,4:231}),{13:f,16:d,55:232,307:43,308:p},t(I,[2,312]),{105:233,112:Fe,122:234,132:[1,237],134:235,327:[1,238],334:[1,239]},t(D,[2,318]),t(I,Ee,{108:240,133:242,112:Qe,132:Je}),t(C,[2,323]),{112:[1,244]},{112:[2,325]},t(rt,[2,50]),t(O,it,{135:245,136:246,143:247,144:248,31:ht,112:ht}),t(rt,[2,51]),t(rt,[2,52]),t(st,[2,328],{119:249}),{29:X,114:250},t(st,[2,56]),{29:X,114:251},t(_,[2,59]),t(se,[2,270]),{47:[1,252]},t(ot,[2,150]),t(Kr,[2,428],{240:253}),t(nt,[2,430],{244:254}),t(nt,[2,155],{248:255,249:256,250:[2,438],290:[1,257],341:[1,258],342:[1,259],343:[1,260],344:[1,261],345:[1,262],346:[1,263]}),t(ge,[2,440],{252:264}),t(je,[2,448],{260:265}),{13:f,16:d,44:136,45:ye,55:133,67:132,68:134,77:131,82:K,87:h,172:135,255:154,257:155,264:266,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},{13:f,16:d,44:136,45:ye,55:133,67:132,68:134,77:131,82:K,87:h,172:135,255:154,257:155,264:267,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},{13:f,16:d,44:136,45:ye,55:133,67:132,68:134,77:131,82:K,87:h,172:135,255:154,257:155,264:268,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},t(je,[2,167]),t(je,[2,168]),t(je,[2,169]),t(je,[2,170],{176:269,45:Be,89:ct}),t(je,[2,171]),t(je,[2,172]),t(je,[2,173]),t(je,[2,174]),{13:f,16:d,44:136,45:ye,46:272,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},t(lt,[2,176]),{89:[1,273]},{45:[1,274]},{45:[1,275]},{45:[1,276]},{45:[1,277]},{45:[1,278]},{45:Et,89:dr,179:279},{45:[1,282]},{45:[1,284],89:[1,283]},{279:[1,285]},t(Xt,[2,192],{292:[1,286],293:[1,287]}),t(Xt,[2,195]),t(Xt,[2,196]),t(Xt,[2,197]),t(Xt,[2,198]),t(Xt,[2,199]),t(Xt,[2,200]),{13:f,16:d,44:39,55:40,82:K,87:h,139:289,172:291,255:154,257:155,266:290,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,320:288},{45:[1,292]},{45:[1,293]},{45:[1,294]},t(zi,[2,452]),t(zi,[2,453]),t(zi,[2,454]),t(zi,[2,455]),t(zi,[2,456]),{279:[2,458]},t(Sn,[2,207]),t(Sn,[2,208]),t(Sn,[2,209]),t(Sn,[2,210]),t(Xt,[2,201]),t(Xt,[2,202]),t(Xt,[2,203]),t(Xt,[2,204]),t(Xt,[2,205]),t(Xt,[2,206]),t(o,[2,5]),t(er,[2,297],{88:295}),t(Bn,[2,299],{90:296}),{48:[1,297],87:[1,298]},t(Br,[2,301]),t(pe,[2,43]),t(pe,[2,82]),t(pe,[2,83]),{29:[1,299]},{29:[1,300]},{87:[1,302],169:301},t(c,[2,412]),t(li,[2,123]),t(li,[2,416],{221:303,339:304,39:[1,306],263:[1,307],340:[1,305]}),t($r,[2,124]),{13:f,16:d,45:[1,311],55:194,89:[1,310],197:Xe,223:312,225:308,226:309,229:Qf,307:43,308:p},t(c,e,{215:10,214:314}),t($r,[2,236]),t($r,[2,237]),t(Yr,[2,6]),t(tp,[2,287],{60:315,72:316,73:[1,317]}),t(ne,[2,286]),{13:f,16:d,45:ye,55:323,67:321,68:322,71:318,77:320,79:319,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,307:43,308:p,346:N,347:S,348:L,349:U,350:Z,351:me},t([6,31,63,70,73,81,83,85],[2,20]),t(O,Hf,{38:17,49:324,147:325,17:326,21:327,148:328,154:329,155:330,29:On,31:On,85:On,112:On,159:On,160:On,161:On,163:On,164:On,41:i}),{13:f,16:d,55:331,307:43,308:p},t(I,[2,280]),t(Yr,[2,7]),t(ne,Ie,{59:197,69:198,20:332,70:ve}),t(ce,[2,284]),{64:[1,333]},t(ce,Pe,{58:205,62:206,23:334,63:ze}),t(u,[2,254]),t(O,it,{144:248,30:335,143:336,31:[2,257]}),t(u,[2,100]),{31:[2,387],184:337,335:[1,338]},{13:f,16:d,44:39,55:40,87:h,139:342,186:339,190:340,195:341,197:pn,307:43,308:p},t(aO,[2,389],{44:39,55:40,307:43,190:340,195:341,139:342,188:344,189:345,186:346,13:f,16:d,87:h,197:pn,308:p}),t(ki,[2,227]),t(ki,[2,228]),t(ki,[2,229]),{13:f,16:d,44:215,45:Ue,55:220,82:K,87:h,89:Ye,172:221,185:351,187:350,200:348,230:347,231:fe,234:349,236:216,237:222,255:154,257:155,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,309:H,310:V,311:217,312:G},{13:f,16:d,44:39,55:40,87:h,139:342,186:352,190:340,195:341,197:pn,307:43,308:p},t(ki,[2,146]),t(ki,[2,147]),t(ki,[2,148]),t(ki,[2,149]),{13:f,16:d,44:354,55:355,82:K,87:h,172:357,237:356,255:154,257:155,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,309:H,310:V,311:358,312:G,313:353},t(yD,[2,215]),t(yD,[2,216]),t(ce,Pe,{58:205,62:206,23:359,63:ze}),t(F,[2,264]),t(oe,[2,266]),t(Yr,[2,11]),t(r,[2,308],{6:[2,310]}),t(rt,[2,313],{102:360,120:361,121:[1,362]}),t(rt,[2,47]),t(rt,[2,63]),t(rt,[2,64]),{13:f,16:d,55:363,307:43,308:p},t(rt,[2,336]),t(rt,[2,337]),t(rt,[2,338]),{109:[1,364]},t(Rie,[2,60]),{13:f,16:d,55:365,307:43,308:p},t(I,[2,335]),{13:f,16:d,55:366,307:43,308:p},{31:[1,367]},t(Gf,[2,341],{137:368}),t(Gf,[2,340]),{13:f,16:d,44:215,45:Ue,55:220,82:K,87:h,89:Ye,145:369,172:221,185:213,187:214,231:fe,236:216,237:222,255:154,257:155,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,309:H,310:V,311:217,312:G},{28:[1,370],127:371,128:[1,372]},t(st,[2,330],{124:373,125:374,126:z}),t(st,[2,57]),{44:375,87:h},t(ot,[2,151],{241:376,242:[1,377]}),t(Kr,[2,153],{245:378,246:[1,379]}),{13:f,16:d,44:136,45:ye,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,247:380,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},{250:[1,381]},t(Ar,[2,432]),t(Ar,[2,433]),t(Ar,[2,434]),t(Ar,[2,435]),t(Ar,[2,436]),t(Ar,[2,437]),{250:[2,439]},t([47,48,193,242,246,250,272,290,341,342,343,344,345,346],[2,158],{253:382,254:383,255:384,257:385,263:[1,386],265:[1,387],297:te,298:le,299:Oe,300:Se,301:Ve,302:ke}),t(ge,[2,162],{261:388,262:389,39:bD,338:_D}),t(je,[2,164]),t(je,[2,165]),t(je,[2,166]),t(lt,[2,95]),t(lt,[2,96]),t(Ar,[2,377],{177:392,325:[1,393]}),{48:[1,394]},t(lt,[2,177]),{13:f,16:d,44:136,45:ye,46:395,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},{13:f,16:d,44:136,45:ye,46:396,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},{13:f,16:d,44:136,45:ye,46:397,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},{13:f,16:d,44:136,45:ye,46:398,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},{13:f,16:d,44:136,45:ye,46:399,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},t(lt,[2,183]),t(lt,[2,98]),t(Ar,[2,381],{180:400}),{87:[1,401]},t(lt,[2,185]),{13:f,16:d,44:136,45:ye,46:402,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},{29:Re,57:403},t(Xt,[2,193]),{13:f,16:d,55:404,307:43,308:p},{13:f,16:d,44:39,55:40,87:h,139:342,195:405,197:pn,307:43,308:p},t(Da,[2,233]),t(Da,[2,234]),t(Da,[2,235]),t(Fie,[2,459],{281:406,325:[1,407]}),t(Ar,[2,463],{284:408,325:[1,409]}),t(Ar,[2,465],{286:410,325:[1,411]}),{13:f,16:d,31:[1,412],55:414,82:K,171:413,172:415,173:416,174:IE,255:154,257:155,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:RE},{31:[1,419],89:[1,420]},{29:[1,421]},t(Br,[2,302]),t(er,[2,367],{167:422}),t(Bn,[2,369],{168:423}),{48:[1,424],87:[1,425]},t(Br,[2,371]),t(li,[2,122]),t(li,[2,417]),t(li,[2,413]),t(li,[2,414]),t(li,[2,415]),t($r,[2,125]),t($r,[2,127]),t($r,[2,128]),t(Nie,[2,420],{227:426}),t($r,[2,130]),{13:f,16:d,55:194,197:Xe,223:427,307:43,308:p},{48:[1,428]},t(Pa,[2,289],{61:429,80:430,81:[1,431],83:[1,432]}),t(tp,[2,288]),{64:[1,433]},t(ne,[2,29],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:434,13:f,16:d,45:ye,268:$,269:He,270:qe,271:Ce,273:xe,274:we,276:ee,277:M,279:B,280:R,283:q,285:W,308:p,346:N,347:S,348:L,349:U,350:Z,351:me}),t(Die,[2,293]),t(mD,[2,92]),t(mD,[2,93]),t(mD,[2,94]),{45:Be,89:ct,176:269},{31:[1,435]},{31:[1,436]},{19:437,28:b,29:T,56:85},{19:438,28:b,29:T,56:85},t(zf,[2,355],{149:439}),t(zf,[2,354]),{13:f,16:d,44:215,45:FE,55:220,82:K,87:h,89:Ye,156:440,172:221,185:441,203:442,231:NE,236:216,237:222,255:154,257:155,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,309:H,310:V,311:217,312:G},t(F,[2,19]),t(Pa,[2,21]),{13:f,16:d,44:450,45:Pie,55:323,65:445,66:446,67:447,68:448,87:h,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,307:43,308:p,346:N,347:S,348:L,349:U,350:Z,351:me},t(Yr,[2,8]),{31:[1,451]},{31:[2,258]},{31:[2,101]},t(O,[2,386],{31:[2,388]}),t(aO,[2,102]),t(kf,[2,391],{191:452}),t(O,[2,395],{196:453,198:454}),t(O,[2,108]),t(O,[2,109]),t(aO,[2,103]),t(aO,[2,104]),t(aO,[2,390]),{13:f,16:d,44:215,45:Ue,48:[1,455],55:220,82:K,87:h,89:Ye,172:221,185:351,187:350,200:456,231:fe,234:349,236:216,237:222,255:154,257:155,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,309:H,310:V,311:217,312:G},t(DE,[2,424]),t(Lie,[2,136]),t(Lie,[2,137]),t(gD,[2,140]),{232:[1,457]},{13:f,16:d,44:39,55:40,87:h,139:342,195:458,197:pn,307:43,308:p},t(Da,[2,219]),t(Da,[2,220]),t(Da,[2,221]),t(Da,[2,222]),t(Da,[2,223]),t(Yr,[2,10]),t(rt,[2,46]),t(rt,[2,314]),{112:Fe,122:459},t(rt,[2,62]),t(I,Ee,{133:242,108:460,112:Qe,132:Je}),t(Rie,[2,61]),t(rt,[2,49]),t([6,28,126,128,193],[2,65]),{31:[2,66],112:[1,462],138:461},t(Gf,[2,351],{146:463,335:[1,464]}),{29:Re,57:465},t(st,[2,329]),t(I,[2,332],{129:466,327:[1,467]}),t(st,[2,55]),t(st,[2,331]),{48:[1,468]},t(Kr,[2,429]),{13:f,16:d,44:136,45:ye,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,239:469,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},t(nt,[2,431]),{13:f,16:d,44:136,45:ye,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,243:470,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},t(nt,[2,156]),{45:Et,89:dr,179:471},t(ge,[2,441]),{13:f,16:d,44:136,45:ye,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,251:472,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},t(je,[2,444],{256:473}),t(je,[2,446],{258:474}),t(Ar,[2,442]),t(Ar,[2,443]),t(je,[2,449]),{13:f,16:d,44:136,45:ye,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,255:154,257:155,259:475,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},t(Ar,[2,450]),t(Ar,[2,451]),t(Ar,[2,379],{178:476}),t(Ar,[2,378]),t([6,13,16,29,31,39,45,47,48,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,175]),{48:[1,477]},{48:[1,478]},{272:[1,479]},{272:[1,480]},{272:[1,481]},{13:f,16:d,44:136,45:ye,46:482,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},{48:[1,483]},{48:[1,484]},t(lt,[2,187]),t(Xt,[2,194]),{13:f,16:d,44:39,55:40,82:K,87:h,139:289,172:291,255:154,257:155,266:290,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,320:485},{13:f,16:d,39:[1,487],44:136,45:ye,46:488,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,282:486,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},t(Fie,[2,460]),{13:f,16:d,44:136,45:ye,46:489,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},t(Ar,[2,464]),{13:f,16:d,44:136,45:ye,46:490,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},t(Ar,[2,466]),t(pe,[2,40]),t(er,[2,298]),t(oO,[2,87]),t(oO,[2,88]),t(oO,[2,89]),t(oO,[2,90]),{13:f,16:d,55:492,82:K,172:493,255:154,257:155,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,311:494,312:G,315:491},t(pe,[2,41]),t(Bn,[2,300]),t(sO,[2,303],{92:495}),{13:f,16:d,31:[1,496],55:414,82:K,171:497,172:415,173:416,174:IE,255:154,257:155,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:RE},{31:[1,498],89:[1,499]},{29:[1,500]},t(Br,[2,372]),{13:f,16:d,48:[2,422],55:194,197:Xe,223:312,226:502,228:501,229:Qf,307:43,308:p},t($r,[2,131]),t($r,[2,126]),t(Pa,[2,22]),t(Pa,[2,290]),{82:[1,503]},{82:[1,504]},{13:f,16:d,44:510,45:ye,55:323,67:321,68:322,74:505,75:506,76:jie,77:320,78:Mie,79:509,87:h,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,307:43,308:p,346:N,347:S,348:L,349:U,350:Z,351:me},t(Die,[2,294]),t(qie,[2,69]),t(qie,[2,70]),t(ne,Ie,{59:197,69:198,20:511,70:ve}),t(ce,Pe,{58:205,62:206,23:512,63:ze}),{29:[2,375],31:[2,71],84:522,85:s,112:[1,518],150:513,151:514,158:515,159:[1,516],160:[1,517],161:[1,519],163:[1,520],164:[1,521],175:523},t(zf,[2,363],{157:524,335:[1,525]}),t(c,e,{215:10,202:526,205:527,208:528,214:529,44:530,87:h}),t(PE,[2,399],{215:10,205:527,208:528,214:529,44:530,204:531,202:532,13:e,16:e,45:e,197:e,224:e,229:e,308:e,87:h}),{13:f,16:d,44:215,45:FE,55:220,82:K,87:h,89:Ye,172:221,185:351,203:536,212:534,231:NE,233:533,234:535,236:216,237:222,255:154,257:155,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,309:H,310:V,311:217,312:G},t(c,e,{215:10,205:527,208:528,214:529,44:530,202:537,87:h}),t(ce,[2,23],{307:43,267:139,275:146,278:149,55:323,67:447,68:448,44:450,66:538,13:f,16:d,45:Pie,87:h,268:$,269:He,270:qe,271:Ce,273:xe,274:we,276:ee,277:M,279:B,280:R,283:q,285:W,308:p,346:N,347:S,348:L,349:U,350:Z,351:me}),t(Xf,[2,291]),t(Xf,[2,24]),t(Xf,[2,25]),{13:f,16:d,44:136,45:ye,46:539,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},t(Xf,[2,28]),t(ce,Pe,{58:205,62:206,23:540,63:ze}),t([31,112,232,318,335],[2,105],{192:541,193:[1,542]}),t(kf,[2,107]),{13:f,16:d,44:215,45:Ue,55:220,82:K,87:h,89:Ye,172:221,185:351,187:350,199:543,200:544,231:fe,234:349,236:216,237:222,255:154,257:155,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,309:H,310:V,311:217,312:G},t(Cie,[2,132]),t(DE,[2,425]),t(Cie,[2,133]),{13:f,16:d,44:354,55:355,82:K,87:h,172:357,237:356,255:154,257:155,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,309:H,310:V,311:358,312:G,313:545},t(rt,[2,54]),t(rt,[2,48]),t(Gf,[2,342]),{13:f,16:d,44:39,55:40,87:h,139:546,307:43,308:p},t(Gf,[2,68]),t(O,[2,350],{31:Bie,112:Bie}),t(rt,[2,53]),{13:f,16:d,55:547,307:43,308:p},t(I,[2,333]),t(se,[2,16]),t(Kr,[2,152]),t(nt,[2,154]),t(nt,[2,157]),t(ge,[2,159]),t(ge,[2,160],{262:389,261:548,39:bD,338:_D}),t(ge,[2,161],{262:389,261:549,39:bD,338:_D}),t(je,[2,163]),{13:f,16:d,44:136,45:ye,46:550,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},t(lt,[2,178]),t(lt,[2,179]),{13:f,16:d,44:136,45:ye,46:551,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},{13:f,16:d,44:136,45:ye,46:552,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},{13:f,16:d,44:136,45:ye,46:553,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},{48:[1,554],272:[1,555]},t(lt,[2,184]),t(lt,[2,186]),{314:[1,556]},{48:[1,557]},{48:[2,461]},{48:[2,462]},{48:[1,558]},{48:[2,467],193:[1,561],287:559,288:560},{13:f,16:d,55:194,197:Xe,223:562,307:43,308:p},t(vD,[2,224]),t(vD,[2,225]),t(vD,[2,226]),{31:[1,563],45:$ie,94:564},t(pe,[2,84]),t(er,[2,368]),t(pe,[2,85]),t(Bn,[2,370]),t(sO,[2,373],{170:566}),{48:[1,567]},{48:[2,423],337:[1,568]},t(Pa,[2,35],{83:[1,569]}),t(Pa,[2,36],{81:[1,570]}),t(tp,[2,30],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:509,44:510,75:571,13:f,16:d,45:ye,76:jie,78:Mie,87:h,268:$,269:He,270:qe,271:Ce,273:xe,274:we,276:ee,277:M,279:B,280:R,283:q,285:W,308:p,346:N,347:S,348:L,349:U,350:Z,351:me}),t(rp,[2,295]),{45:ye,77:572},{45:ye,77:573},t(rp,[2,33]),t(rp,[2,34]),{31:[2,275],50:574,84:575,85:s},{31:[2,277],51:576,84:577,85:s},t(zf,[2,356]),t(Uie,[2,357],{152:578,335:[1,579]}),t(Xi,[2,74]),{29:Re,57:580},{29:Re,57:581},{13:f,16:d,44:39,55:40,87:h,139:582,307:43,308:p},t(Vie,[2,365],{162:583,328:[1,584]}),{13:f,16:d,45:ye,55:323,67:321,68:322,77:320,79:585,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,307:43,308:p,346:N,347:S,348:L,349:U,350:Z,351:me},{45:[1,586]},t(Xi,[2,81]),{29:Re,57:587},t(zf,[2,73]),t(O,[2,362],{29:Wi,31:Wi,85:Wi,112:Wi,159:Wi,160:Wi,161:Wi,163:Wi,164:Wi}),t(PE,[2,112]),t(np,[2,401],{206:588}),t(O,[2,405],{209:589,210:590}),t(O,[2,403]),t(O,[2,404]),t(PE,[2,113]),t(PE,[2,400]),{13:f,16:d,44:215,45:FE,48:[1,591],55:220,82:K,87:h,89:Ye,172:221,185:351,203:536,212:592,231:NE,234:535,236:216,237:222,255:154,257:155,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,309:H,310:V,311:217,312:G},t(DE,[2,426]),t(gD,[2,138]),t(gD,[2,139]),{232:[1,593]},t(Xf,[2,292]),{47:[1,595],48:[1,594]},t(Yr,[2,9]),t(kf,[2,392]),t(kf,[2,393],{44:39,55:40,307:43,195:341,139:342,194:596,190:597,13:f,16:d,87:h,197:pn,308:p}),t(kf,[2,110],{272:[1,598]}),t(LE,[2,397],{201:599,316:600,317:[1,601]}),{314:[1,602]},{29:[1,603]},t(st,[2,58]),t(je,[2,445]),t(je,[2,447]),{48:[1,604],272:[1,605]},{48:[1,606]},{272:[1,607]},{272:[1,608]},t(lt,[2,99]),t(Ar,[2,382]),t([13,16,39,47,48,87,193,197,242,246,250,263,265,272,290,297,298,299,300,301,302,308,314,338,341,342,343,344,345,346],[2,232]),t(lt,[2,188]),t(lt,[2,189]),{48:[1,609]},{48:[2,468]},{289:[1,610]},{13:f,16:d,55:492,82:K,172:493,255:154,257:155,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,311:494,312:G,315:611},t(pe,[2,42]),t(sO,[2,304]),{13:f,16:d,55:414,82:K,95:612,171:613,172:415,173:416,174:IE,255:154,257:155,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:RE},{31:[1,614],45:$ie,94:615},t($r,[2,129]),t(Nie,[2,421]),{82:[1,616]},{82:[1,617]},t(rp,[2,296]),t(rp,[2,31]),t(rp,[2,32]),{31:[2,17]},{31:[2,276]},{31:[2,18]},{31:[2,278]},t(O,Hf,{155:330,153:618,154:619,29:Ji,31:Ji,85:Ji,112:Ji,159:Ji,160:Ji,161:Ji,163:Ji,164:Ji}),t(Uie,[2,358]),t(Xi,[2,75]),t(Xi,[2,76]),{29:Re,57:620},{13:f,16:d,44:39,55:40,87:h,139:621,307:43,308:p},t(Vie,[2,366]),t(Xi,[2,79]),{13:f,16:d,44:136,45:ye,46:622,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},t(Xi,[2,91],{336:[1,623]}),t([29,31,85,112,159,160,161,163,164,232,318,335],[2,114],{207:624,193:[1,625]}),t(np,[2,117]),{13:f,16:d,44:215,45:FE,55:220,82:K,87:h,89:Ye,172:221,185:351,203:536,211:626,212:627,231:NE,234:535,236:216,237:222,255:154,257:155,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,309:H,310:V,311:217,312:G},t(ki,[2,134]),t(DE,[2,427]),t(ki,[2,135]),t(Xf,[2,26]),{44:628,87:h},t(kf,[2,106]),t(kf,[2,394]),t(O,[2,396]),t(LE,[2,111]),t(LE,[2,398]),{13:f,16:d,44:39,55:40,87:h,139:342,186:629,190:340,195:341,197:pn,307:43,308:p},t(yD,[2,217]),t(O,it,{144:248,140:630,143:631,31:[2,343]}),t(lt,[2,97]),t(Ar,[2,380]),t(lt,[2,180]),{13:f,16:d,44:136,45:ye,46:632,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},{13:f,16:d,44:136,45:ye,46:633,55:133,67:132,68:134,77:131,82:K,87:h,172:135,224:Te,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ne,264:130,265:_e,266:137,267:139,268:$,269:He,270:qe,271:Ce,273:xe,274:we,275:146,276:ee,277:M,278:149,279:B,280:R,283:q,285:W,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:k,346:N,347:S,348:L,349:U,350:Z,351:me},t(lt,[2,190]),{290:[1,634]},{314:[1,635]},{13:f,16:d,48:[1,636],55:414,82:K,171:637,172:415,173:416,174:IE,255:154,257:155,291:150,294:re,295:Y,296:ue,297:te,298:le,299:Oe,300:Se,301:Ve,302:ke,303:Ae,304:A,305:E,306:P,307:43,308:p,312:RE},t(Qie,[2,305]),t(pe,[2,86]),t(sO,[2,374]),t(Pa,[2,37]),t(Pa,[2,38]),t(zf,[2,72]),t(zf,[2,360]),t(Xi,[2,77]),{29:Re,57:638},{47:[1,639]},{29:[2,376]},t(np,[2,402]),t(np,[2,115],{215:10,208:528,214:529,44:530,205:640,13:e,16:e,45:e,197:e,224:e,229:e,308:e,87:h}),t(np,[2,118],{272:[1,641]}),t(jE,[2,407],{213:642,319:643,317:[1,644]}),{48:[1,645]},{318:[1,646]},{31:[1,647]},{31:[2,344]},{48:[1,648]},{48:[1,649]},{291:650,303:Ae,304:A,305:E,306:P},t(oO,[2,218]),t(sO,[2,44]),t(Qie,[2,306]),t(Xi,[2,78]),{44:651,87:h},t(np,[2,116]),t(O,[2,406]),t(jE,[2,119]),t(jE,[2,408]),t(c,e,{215:10,205:527,208:528,214:529,44:530,202:652,87:h}),t(Xf,[2,27]),t(LE,[2,230]),t(Hie,[2,345],{141:653,335:[1,654]}),t(lt,[2,181]),t(lt,[2,182]),{48:[2,191]},{48:[1,655]},{318:[1,656]},t(O,it,{144:248,142:657,143:658,31:Gie,112:Gie}),t(Hie,[2,346]),t(Xi,[2,80]),t(jE,[2,231]),t(Gf,[2,67]),t(Gf,[2,348])],defaultActions:{5:[2,240],6:[2,241],7:[2,242],9:[2,239],24:[2,1],25:[2,2],26:[2,244],87:[2,282],94:[2,384],100:[2,45],109:[2,325],166:[2,458],263:[2,439],336:[2,258],337:[2,101],487:[2,461],488:[2,462],560:[2,468],574:[2,17],575:[2,276],576:[2,18],577:[2,278],623:[2,376],631:[2,344],650:[2,191]},parseError:function(Ge,et){if(et.recoverable)this.trace(Ge);else{var at=new Error(Ge);throw at.hash=et,at}},parse:function(Ge){var et=this,at=[0],pt=[null],_t=[],de=this.table,An="",he=0,La=0,BE=2,$E=1,UE=_t.slice.call(arguments,1),gr=Object.create(this.lexer),xi={yy:{}};for(var Yf in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Yf)&&(xi.yy[Yf]=this.yy[Yf]);gr.setInput(Ge,xi.yy),xi.yy.lexer=gr,xi.yy.parser=this,typeof gr.yylloc>"u"&&(gr.yylloc={});var cp=gr.yylloc;_t.push(cp);var PD=gr.options&&gr.options.ranges;typeof xi.yy.parseError=="function"?this.parseError=xi.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var VE=function(){var lp;return lp=gr.lex()||$E,typeof lp!="number"&&(lp=et.symbols_[lp]||lp),lp},xt,Bt,wt,Vr,Qr={},QE,Yi,nae,HE;;){if(Bt=at[at.length-1],this.defaultActions[Bt]?wt=this.defaultActions[Bt]:((xt===null||typeof xt>"u")&&(xt=VE()),wt=de[Bt]&&de[Bt][xt]),typeof wt>"u"||!wt.length||!wt[0]){var LD="";HE=[];for(QE in de[Bt])this.terminals_[QE]&&QE>BE&&HE.push("'"+this.terminals_[QE]+"'");gr.showPosition?LD="Parse error on line "+(he+1)+`:
`+gr.showPosition()+`
Expecting `+HE.join(", ")+", got '"+(this.terminals_[xt]||xt)+"'":LD="Parse error on line "+(he+1)+": Unexpected "+(xt==$E?"end of input":"'"+(this.terminals_[xt]||xt)+"'"),this.parseError(LD,{text:gr.match,token:this.terminals_[xt]||xt,line:gr.yylineno,loc:cp,expected:HE})}if(wt[0]instanceof Array&&wt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Bt+", token: "+xt);switch(wt[0]){case 1:at.push(xt),pt.push(gr.yytext),_t.push(gr.yylloc),at.push(wt[1]),xt=null,La=gr.yyleng,An=gr.yytext,he=gr.yylineno,cp=gr.yylloc;break;case 2:if(Yi=this.productions_[wt[1]][1],Qr.$=pt[pt.length-Yi],Qr._$={first_line:_t[_t.length-(Yi||1)].first_line,last_line:_t[_t.length-1].last_line,first_column:_t[_t.length-(Yi||1)].first_column,last_column:_t[_t.length-1].last_column},PD&&(Qr._$.range=[_t[_t.length-(Yi||1)].range[0],_t[_t.length-1].range[1]]),Vr=this.performAction.apply(Qr,[An,La,he,xi.yy,wt[1],pt,_t].concat(UE)),typeof Vr<"u")return Vr;Yi&&(at=at.slice(0,-1*Yi*2),pt=pt.slice(0,-1*Yi),_t=_t.slice(0,-1*Yi)),at.push(this.productions_[wt[1]][0]),pt.push(Qr.$),_t.push(Qr._$),nae=de[at[at.length-2]][at[at.length-1]],at.push(nae);break;case 3:return!0}}return!0}},ME=dL().Wildcard,qE="http://www.w3.org/1999/02/22-rdf-syntax-ns#",CSe=qE+"type",BSe=qE+"first",$Se=qE+"rest",zie=qE+"nil",CE="http://www.w3.org/2001/XMLSchema#",kie=CE+"integer",Xie=CE+"decimal",Wie=CE+"double",USe=CE+"boolean",Wf="",Jie="",Kie="";function ln(Ke){return Ke.toLowerCase()}function Jf(Ke,Ge){return Ke.push(Ge),Ke}function ip(Ke,Ge){return Ke.push.apply(Ke,Ge),Ke}function mr(Ke){Ke||(Ke={});for(var Ge=1,et=arguments.length,at;Ge<et&&(at=arguments[Ge]||{});Ge++)for(var pt in at)Ke[pt]=at[pt];return Ke}function Ai(){for(var Ke=[],Ge=0,et=arguments.length;Ge<et;Ge++)Ke=Ke.concat.apply(Ke,arguments[Ge]);return Ke}function uO(Ke){if(Ke[0]==="<"&&(Ke=Ke.substring(1,Ke.length-1)),/^[a-z][a-z0-9.+-]*:/i.test(Ke))return Ke;if(!It.base)throw new Error("Cannot resolve relative IRI "+Ke+" because no base IRI was set.");switch(Wf!==It.base&&(Wf=It.base,Jie=Wf.replace(/[^\/:]*$/,""),Kie=Wf.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),Ke[0]){case void 0:return Wf;case"#":return Wf+Ke;case"?":return Wf.replace(/(?:\?.*)?$/,Ke);case"/":return Kie+Ke;default:return Jie+Ke}}function wD(Ke){if(Ke){var Ge=Ke[0];if(Ge==="?"||Ge==="$")return It.factory.variable(Ke.substr(1))}return Ke}function Ur(Ke,Ge){return{type:"operation",operator:Ke,args:Ge||[]}}function ap(Ke,Ge){var et={expression:Ke==="*"?new ME:Ke};if(Ge)for(var at in Ge)et[at]=Ge[at];return et}function op(Ke,Ge){return{type:"path",pathType:Ke,items:Ge}}function SD(Ke,Ge){for(var et=0,at=Ge.length,pt;et<at&&(pt=Ge[et]);et++)Ke=Ur(pt[0],[Ke,pt[1]]);return Ke}function Kf(Ke,Ge){var et=[],at=[],pt=Ke.length,_t,de={};if(!pt)return null;for(var An=0;An<pt&&(_t=Ke[An]);An++)(_t.named?at:et).push(_t.iri);return de[Ge||"from"]={default:et,named:at},de}function sp(Ke){return parseInt(Ke,10)}function OD(Ke){return Ke.type==="group"&&Ke.patterns.length===1?Ke.patterns[0]:Ke}function Ei(Ke,Ge){return Ge&&Ge.termType!=="NamedNode"&&(Ge=It.factory.namedNode(Ge)),It.factory.literal(Ke,Ge)}function VSe(Ke,Ge){return It.factory.literal(Ke,Ge)}function AD(Ke,Ge,et){if(!("termType"in Ge))throw new Error("Nested triples cannot contain paths");return It.factory.quad(Ke,Ge,et)}function Ki(Ke,Ge,et,at){var pt={};return Ke!=null&&(pt.subject=Ke),Ge!=null&&(pt.predicate=Ge),et!=null&&(pt.object=et),at!=null&&(pt.annotations=at),pt}function cO(Ke){return typeof Ke=="string"?Ke.startsWith("e_")?It.factory.blankNode(Ke):It.factory.blankNode("e_"+Ke):It.factory.blankNode("g_"+Yie++)}var Yie=0;It._resetBlanks=function(){Yie=0};var QSe=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,HSe={"\\":"\\","'":"'",'"':'"',t:"	",b:"\b",n:`
`,r:"\r",f:"\f"},GSe=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,ED=String.fromCharCode;function Zie(Ke,Ge){Ke=Ke.substring(Ge,Ke.length-Ge);try{Ke=Ke.replace(QSe,function(et,at,pt,_t){var de;if(at){if(de=parseInt(at,16),isNaN(de))throw new Error;return ED(de)}else if(pt){if(de=parseInt(pt,16),isNaN(de))throw new Error;return de<65535?ED(de):ED(55296+((de-=65536)>>10),56320+(de&1023))}else{var An=HSe[_t];if(!An)throw new Error;return An}})}catch{return""}if(GSe.exec(Ke))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+Ke);return Ke}function zSe(Ke){var Ge=cO(),et=Ge,at=[],pt,_t=[];Ke.forEach(function(La){at.push(La.entity),ip(_t,La.triples)});for(var de=0,An=0,he=at.length,pt=Array(he*2);de<he;)pt[An++]=Ki(et,It.factory.namedNode(BSe),at[de]),pt[An++]=Ki(et,It.factory.namedNode($Se),et=++de<he?cO():It.factory.namedNode(zie));return{entity:Ge,triples:ip(pt,_t)}}function kSe(Ke){var Ge=cO();return{entity:Ge,triples:Ke.map(function(et){return mr(Ki(Ge),et)})}}function xD(Ke,Ge,et){var at=[],pt=[];return Ge.forEach(function(_t){let de=null;_t.annotation&&(de=_t.annotation,_t=_t.object),at.push(Ki(null,Ke,_t.entity,de)),ip(pt,_t.triples)}),Ai(at,et||[],pt)}function up(Ke){return Ke.variable?Ke.variable.value:Ke.value||Ke.expression.value}function ID(Ke){if(!Ke)return[];if(Ke.type==="aggregate")return[Ke];if(Ke.type==="operation"){const Ge=[];for(const et of Ke.args)Ge.push(...ID(et));return Ge}return[]}function XSe(Ke){const Ge=new Set,et=function(at){at&&(at.termType==="Variable"?Ge.add(at):at.type==="operation"&&at.args.forEach(et))};return et(Ke),Ge}function RD(Ke,Ge=1,et=[]){for(const at of Ke)Ge>0&&at instanceof Array?RD(at,Ge-1,et):et.push(at);return et}function FD(Ke){return Ke.termType==="Variable"}function eae(Ke){if(Ke.triples){const Ge=[];for(const et of Ke.triples)FD(et.subject)&&Ge.push(et.subject.value),FD(et.predicate)&&Ge.push(et.predicate.value),FD(et.object)&&Ge.push(et.object.value);return Ge}else if(Ke.patterns){const Ge=[];for(const et of Ke.patterns)Ge.push(...eae(et));return Ge}return[]}function WSe(Ke){const Ge=Ke.slice().sort(),et=[];for(let at=0;at<Ge.length-1;at++)Ge[at+1]==Ge[at]&&et.push(Ge[at]);return et}function lO(Ke){if(!It.sparqlStar)throw new Error("SPARQL-star support is not enabled");return Ke}function tae(Ke,Ge,et){for(const at of Ge){const pt=Ki("subject"in at?at.subject:Ke,at.predicate,at.object);et.push(pt),at.annotations&&tae(AD(Ke,at.predicate,at.object),at.annotations,et)}}function ND(Ke){if(It.sparqlStar){const Ge=[];return Ke.forEach(et=>{const at=Ki(et.subject,et.predicate,et.object);Ge.push(at),et.annotations&&tae(AD(et.subject,et.predicate,et.object),et.annotations,Ge)}),Ge}return Ke}function rae(Ke){for(const Ge of Ke){if(Ge.type==="graph"&&Ge.name.termType==="Variable")throw new Error("Detected illegal variable in GRAPH");if(Ge.type==="bgp"||Ge.type==="graph"){for(const et of Ge.triples)if(et.subject.termType==="Variable"||et.predicate.termType==="Variable"||et.object.termType==="Variable")throw new Error("Detected illegal variable in BGP")}}return Ke}function DD(Ke){for(const Ge of Ke)if(Ge.type==="bgp"){for(const et of Ge.triples)if(et.subject.termType==="BlankNode"||et.predicate.termType==="BlankNode"||et.object.termType==="BlankNode")throw new Error("Detected illegal blank node in BGP")}return Ke}var JSe=function(){var Ke={EOF:1,parseError:function(et,at){if(this.yy.parser)this.yy.parser.parseError(et,at);else throw new Error(et)},setInput:function(Ge,et){return this.yy=et||this.yy||{},this._input=Ge,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Ge=this._input[0];this.yytext+=Ge,this.yyleng++,this.offset++,this.match+=Ge,this.matched+=Ge;var et=Ge.match(/(?:\r\n?|\n).*/g);return et?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ge},unput:function(Ge){var et=Ge.length,at=Ge.split(/(?:\r\n?|\n)/g);this._input=Ge+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-et),this.offset-=et;var pt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),at.length-1&&(this.yylineno-=at.length-1);var _t=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:at?(at.length===pt.length?this.yylloc.first_column:0)+pt[pt.length-at.length].length-at[0].length:this.yylloc.first_column-et},this.options.ranges&&(this.yylloc.range=[_t[0],_t[0]+this.yyleng-et]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Ge){this.unput(this.match.slice(Ge))},pastInput:function(){var Ge=this.matched.substr(0,this.matched.length-this.match.length);return(Ge.length>20?"...":"")+Ge.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ge=this.match;return Ge.length<20&&(Ge+=this._input.substr(0,20-Ge.length)),(Ge.substr(0,20)+(Ge.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ge=this.pastInput(),et=new Array(Ge.length+1).join("-");return Ge+this.upcomingInput()+`
`+et+"^"},test_match:function(Ge,et){var at,pt,_t;if(this.options.backtrack_lexer&&(_t={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(_t.yylloc.range=this.yylloc.range.slice(0))),pt=Ge[0].match(/(?:\r\n?|\n).*/g),pt&&(this.yylineno+=pt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:pt?pt[pt.length-1].length-pt[pt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ge[0].length},this.yytext+=Ge[0],this.match+=Ge[0],this.matches=Ge,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ge[0].length),this.matched+=Ge[0],at=this.performAction.call(this,this.yy,this,et,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),at)return at;if(this._backtrack){for(var de in _t)this[de]=_t[de];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Ge,et,at,pt;this._more||(this.yytext="",this.match="");for(var _t=this._currentRules(),de=0;de<_t.length;de++)if(at=this._input.match(this.rules[_t[de]]),at&&(!et||at[0].length>et[0].length)){if(et=at,pt=de,this.options.backtrack_lexer){if(Ge=this.test_match(at,_t[de]),Ge!==!1)return Ge;if(this._backtrack){et=!1;continue}else return!1}else if(!this.options.flex)break}return et?(Ge=this.test_match(et,_t[pt]),Ge!==!1?Ge:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var et=this.next();return et||this.lex()},begin:function(et){this.conditionStack.push(et)},popState:function(){var et=this.conditionStack.length-1;return et>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(et){return et=this.conditionStack.length-1-Math.abs(et||0),et>=0?this.conditionStack[et]:"INITIAL"},pushState:function(et){this.begin(et)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(et,at,pt,_t){switch(pt){case 0:break;case 1:return 12;case 2:return 15;case 3:return 41;case 4:return 325;case 5:return 326;case 6:return 45;case 7:return 47;case 8:return 48;case 9:return 39;case 10:return 24;case 11:return 28;case 12:return 29;case 13:return 31;case 14:return 32;case 15:return 36;case 16:return 53;case 17:return 327;case 18:return 63;case 19:return 64;case 20:return 70;case 21:return 73;case 22:return 76;case 23:return 78;case 24:return 81;case 25:return 83;case 26:return 85;case 27:return 193;case 28:return 100;case 29:return 328;case 30:return 121;case 31:return 329;case 32:return 330;case 33:return 110;case 34:return 331;case 35:return 109;case 36:return 332;case 37:return 333;case 38:return 113;case 39:return 115;case 40:return 116;case 41:return 131;case 42:return 123;case 43:return 126;case 44:return 128;case 45:return 132;case 46:return 112;case 47:return 334;case 48:return 335;case 49:return 159;case 50:return 161;case 51:return 164;case 52:return 174;case 53:return 160;case 54:return 336;case 55:return 163;case 56:return 312;case 57:return 314;case 58:return 317;case 59:return 318;case 60:return 272;case 61:return 197;case 62:return 337;case 63:return 338;case 64:return 229;case 65:return 340;case 66:return 263;case 67:return 224;case 68:return 231;case 69:return 232;case 70:return 242;case 71:return 246;case 72:return 290;case 73:return 341;case 74:return 342;case 75:return 343;case 76:return 344;case 77:return 345;case 78:return 250;case 79:return 346;case 80:return 265;case 81:return 276;case 82:return 277;case 83:return 268;case 84:return 269;case 85:return 270;case 86:return 271;case 87:return 347;case 88:return 348;case 89:return 273;case 90:return 274;case 91:return 350;case 92:return 349;case 93:return 351;case 94:return 279;case 95:return 280;case 96:return 283;case 97:return 285;case 98:return 289;case 99:return 293;case 100:return 296;case 101:return 13;case 102:return 16;case 103:return 308;case 104:return 309;case 105:return 87;case 106:return 292;case 107:return 82;case 108:return 294;case 109:return 295;case 110:return 297;case 111:return 298;case 112:return 299;case 113:return 300;case 114:return 301;case 115:return 302;case 116:return"EXPONENT";case 117:return 303;case 118:return 304;case 119:return 305;case 120:return 306;case 121:return 89;case 122:return 310;case 123:return 6;case 124:return"INVALID";case 125:console.log(at.yytext);break}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:\{\|)/i,/^(?:\|\})/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(SUBJECT|PREDICATE|OBJECT|isTRIPLE))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:TRIPLE)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125],inclusive:!0}}};return Ke}();TD.lexer=JSe;function It(){this.yy={}}return It.prototype=TD,TD.Parser=It,new It}();return FI=a,FI}var NI,hL;function pse(){if(hL)return NI;hL=1;var a="http://www.w3.org/2001/XMLSchema#integer",t="http://www.w3.org/2001/XMLSchema#string";function o(d){this._options=d=d||{};var h=d.prefixes||{};this._prefixByIri={};var p=[];for(var _ in h){var g=h[_];s(g)&&(this._prefixByIri[g]=_,p.push(g))}var y=p.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+y+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=d.sparqlStar,this._indent=s(d.indent)?d.indent:"  ",this._newline=s(d.newline)?d.newline:`
`,this._explicitDatatype=!!d.explicitDatatype}o.prototype.toQuery=function(d){var h="";return d.queryType&&(h+=d.queryType.toUpperCase()+" "),d.reduced&&(h+="REDUCED "),d.distinct&&(h+="DISTINCT "),d.variables?h+=l(d.variables,void 0,function(p){return/^[?$]/.test(p)?p:c(p)?this.toEntity(p):"("+this.toExpression(p.expression)+" AS "+i(p.variable)+")"},this)+" ":d.template&&(h+=this.group(d.template,!0)+this._newline),d.from&&(h+=this.graphs("FROM ",d.from.default)+this.graphs("FROM NAMED ",d.from.named)),d.where&&(h+="WHERE "+this.group(d.where,!0)+this._newline),d.updates&&(h+=l(d.updates,";"+this._newline,this.toUpdate,this)),d.group&&(h+="GROUP BY "+l(d.group,void 0,function(p){var _=c(p.expression)?this.toEntity(p.expression):"("+this.toExpression(p.expression)+")";return p.variable?"("+_+" AS "+i(p.variable)+")":_},this)+this._newline),d.having&&(h+="HAVING ("+l(d.having,void 0,this.toExpression,this)+")"+this._newline),d.order&&(h+="ORDER BY "+l(d.order,void 0,function(p){var _="("+this.toExpression(p.expression)+")";return p.descending?"DESC "+_:_},this)+this._newline),d.offset&&(h+="OFFSET "+d.offset+this._newline),d.limit&&(h+="LIMIT "+d.limit+this._newline),d.values&&(h+=this.values(d)),h=this.baseAndPrefixes(d)+h,h.trim()},o.prototype.baseAndPrefixes=function(d){var h=d.base?"BASE <"+d.base+">"+this._newline:"",p="";for(var _ in d.prefixes)(this._options.allPrefixes||this._usedPrefixes[_])&&(p+="PREFIX "+_+": <"+d.prefixes[_]+">"+this._newline);return h+p},o.prototype.toPattern=function(d){var h=d.type||d instanceof Array&&"array"||(d.subject&&d.predicate&&d.object?"triple":"");if(!(h in this))throw new Error("Unknown entry type: "+h);return this[h](d)},o.prototype.triple=function(d){return this.toEntity(d.subject)+" "+this.toEntity(d.predicate)+" "+this.toEntity(d.object)+"."},o.prototype.array=function(d){return l(d,this._newline,this.toPattern,this)},o.prototype.bgp=function(d){return this.encodeTriples(d.triples)},o.prototype.encodeTriples=function(d){if(!d.length)return"";for(var h=[],p=void 0,_=void 0,g=0;g<d.length;g++){var y=d[g];u(y.subject,p)?u(y.predicate,_)?h.push(","):(_=y.predicate,h.push(";"+this._newline,this._indent,this.toEntity(_))):(p&&h.push("."+this._newline),p=y.subject,_=y.predicate,h.push(this.toEntity(p)," ",this.toEntity(_))),h.push(" ",this.toEntity(y.object))}return h.push("."),h.join("")},o.prototype.graph=function(d){return"GRAPH "+this.toEntity(d.name)+" "+this.group(d)},o.prototype.graphs=function(d,h){return!h||h.length===0?"":l(h,"",function(p){return d+this.toEntity(p)+this._newline},this)},o.prototype.group=function(d,h){return d=h!==!0?this.array(d.patterns||d.triples):this.toPattern(d.type!=="group"?d:d.patterns),d.indexOf(this._newline)===-1?"{ "+d+" }":"{"+this._newline+this.indent(d)+this._newline+"}"},o.prototype.query=function(d){return this.toQuery(d)},o.prototype.filter=function(d){return"FILTER("+this.toExpression(d.expression)+")"},o.prototype.bind=function(d){return"BIND("+this.toExpression(d.expression)+" AS "+i(d.variable)+")"},o.prototype.optional=function(d){return"OPTIONAL "+this.group(d)},o.prototype.union=function(d){return l(d.patterns,this._newline+"UNION"+this._newline,function(h){return this.group(h,!0)},this)},o.prototype.minus=function(d){return"MINUS "+this.group(d)},o.prototype.values=function(d){var h=Object.keys(d.values.reduce(function(g,y){for(var m in y)g[m]=!0;return g},{})),p,_;return h.length===1?p=_="":(p="(",_=")"),"VALUES "+p+h.join(" ")+_+" {"+this._newline+l(d.values,this._newline,function(g){return"  "+p+l(h,void 0,function(y){return g[y]?this.toEntity(g[y]):"UNDEF"},this)+_},this)+this._newline+"}"},o.prototype.service=function(d){return"SERVICE "+(d.silent?"SILENT ":"")+this.toEntity(d.name)+" "+this.group(d)},o.prototype.toExpression=function(d){if(c(d))return this.toEntity(d);switch(d.type.toLowerCase()){case"aggregate":return d.aggregation.toUpperCase()+"("+(d.distinct?"DISTINCT ":"")+this.toExpression(d.expression)+(typeof d.separator=="string"?'; SEPARATOR = "'+d.separator.replace(n,r)+'"':"")+")";case"functioncall":return this.toEntity(d.function)+"("+l(d.args,", ",this.toExpression,this)+")";case"operation":var h=d.operator.toUpperCase(),p=d.args||[];switch(d.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(c(p[0])?this.toEntity(p[0]):"("+this.toExpression(p[0])+")")+" "+h+" "+(c(p[1])?this.toEntity(p[1]):"("+this.toExpression(p[1])+")");case"!":return"!("+this.toExpression(p[0])+")";case"uplus":return"+("+this.toExpression(p[0])+")";case"uminus":return"-("+this.toExpression(p[0])+")";case"notin":h="NOT IN";case"in":return this.toExpression(p[0])+" "+h+"("+(s(p[1])?p[1]:l(p[1],", ",this.toExpression,this))+")";case"notexists":h="NOT EXISTS";case"exists":return h+" "+this.group(p[0],!0);default:return h+"("+l(p,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+d.type)}},o.prototype.toEntity=function(d){if(c(d))switch(d.termType){case"Wildcard":return"*";case"Variable":return i(d);case"BlankNode":return"_:"+d.value;case"Literal":var h=d.value||"",p=d.language||"",_=d.datatype;if(d='"'+h.replace(n,r)+'"',p)d+="@"+p;else if(_){if(!this._explicitDatatype)switch(_.value){case t:return d;case a:if(/^\d+$/.test(h))return h+" "}d+="^^"+this.encodeIRI(_.value)}return d;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return d.graph&&d.graph.termType!=="DefaultGraph"?"<< GRAPH "+this.toEntity(d.graph)+" { "+this.toEntity(d.subject)+" "+this.toEntity(d.predicate)+" "+this.toEntity(d.object)+" }  >>":"<< "+this.toEntity(d.subject)+" "+this.toEntity(d.predicate)+" "+this.toEntity(d.object)+" >>";default:return this.encodeIRI(d.value)}else{var g=d.items.map(this.toEntity,this),y=d.pathType;switch(y){case"^":case"!":return y+g[0];case"*":case"+":case"?":return"("+g[0]+y+")";default:return"("+g.join(y)+")"}}};var n=/["\\\t\n\r\b\f]/g,r=function(d){return e[d]},e={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};o.prototype.encodeIRI=function(d){var h=this._prefixRegex.exec(d);if(h){var p=this._prefixByIri[h[1]];return this._usedPrefixes[p]=!0,p+":"+h[2]}return"<"+d+">"},o.prototype.toUpdate=function(d){switch(d.type||d.updateType){case"load":return"LOAD"+(d.source?" "+this.toEntity(d.source):"")+(d.destination?" INTO GRAPH "+this.toEntity(d.destination):"");case"insert":return"INSERT DATA "+this.group(d.insert,!0);case"delete":return"DELETE DATA "+this.group(d.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(d.delete,!0);case"insertdelete":return(d.graph?"WITH "+this.toEntity(d.graph)+this._newline:"")+(d.delete.length?"DELETE "+this.group(d.delete,!0)+this._newline:"")+(d.insert.length?"INSERT "+this.group(d.insert,!0)+this._newline:"")+(d.using?this.graphs("USING ",d.using.default):"")+(d.using?this.graphs("USING NAMED ",d.using.named):"")+"WHERE "+this.group(d.where,!0);case"add":case"copy":case"move":return d.type.toUpperCase()+" "+(d.silent?"SILENT ":"")+(d.source.default?"DEFAULT":this.toEntity(d.source.name))+" TO "+this.toEntity(d.destination.name);case"create":case"clear":case"drop":return d.type.toUpperCase()+(d.silent?" SILENT ":" ")+(d.graph.default?"DEFAULT":d.graph.named?"NAMED":d.graph.all?"ALL":"GRAPH "+this.toEntity(d.graph.name));default:throw new Error("Unknown update query type: "+d.type)}},o.prototype.indent=function(d){return d.replace(/^/gm,this._indent)};function i(d){return"?"+d.value}function s(d){return typeof d=="string"}function c(d){return typeof d.termType=="string"}function u(d,h){if(!d||!c(d)||!h||!c(h)||d.termType!==h.termType)return!1;switch(d.termType){case"Literal":return d.value===h.value&&d.language===h.language&&u(d.datatype,h.datatype);case"Quad":return u(d.subject,h.subject)&&u(d.predicate,h.predicate)&&u(d.object,h.object)&&u(d.graph,h.graph);default:return d.value===h.value}}function l(d,h,p,_){return d.map(p,_).join(s(h)?h:" ")}function f(d={}){return{stringify:function(h){var p=Object.create(d);return p.prefixes=h.prefixes,new o(p).toQuery(h)},createGenerator:function(){return new o(d)}}}return NI={Generator:f},NI}var So={},_0={},pL;function yL(){if(pL)return _0;pL=1,Object.defineProperty(_0,"__esModule",{value:!0}),_0.BlankNode=void 0;class a{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}}return _0.BlankNode=a,_0}var m0={},g0={},bL;function _L(){if(bL)return g0;bL=1,Object.defineProperty(g0,"__esModule",{value:!0}),g0.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}return g0.DefaultGraph=a,a.INSTANCE=new a,g0}var v0={},T0={},mL;function DI(){if(mL)return T0;mL=1,Object.defineProperty(T0,"__esModule",{value:!0}),T0.NamedNode=void 0;class a{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}}return T0.NamedNode=a,T0}var gL;function vL(){if(gL)return v0;gL=1,Object.defineProperty(v0,"__esModule",{value:!0}),v0.Literal=void 0;const a=DI();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return v0.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),v0}var w0={},TL;function wL(){if(TL)return w0;TL=1,Object.defineProperty(w0,"__esModule",{value:!0}),w0.Quad=void 0;class a{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}}return w0.Quad=a,w0}var S0={},SL;function OL(){if(SL)return S0;SL=1,Object.defineProperty(S0,"__esModule",{value:!0}),S0.Variable=void 0;class a{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}}return S0.Variable=a,S0}var AL;function yse(){if(AL)return m0;AL=1,Object.defineProperty(m0,"__esModule",{value:!0}),m0.DataFactory=void 0;const a=yL(),t=_L(),o=vL(),n=DI(),r=wL(),e=OL();let i=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return m0.DataFactory=s,m0}var EL;function bse(){return EL||(EL=1,function(a){var t=So&&So.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=So&&So.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(yL(),a),o(yse(),a),o(_L(),a),o(vL(),a),o(DI(),a),o(wL(),a),o(OL(),a)}(So)),So}var PI,xL;function O0(){if(xL)return PI;xL=1;const{Parser:a}=hse(),{Generator:t}=pse(),{Wildcard:o}=dL(),{DataFactory:n}=bse();function r({prefixes:e,baseIRI:i,factory:s,pathOnly:c,sparqlStar:u,skipValidation:l,skipUngroupedVariableCheck:f}={}){const d={};for(const p in e??{})d[p]=e[p];const h=new a;return h.parse=function(){return a.base=i||"",a.prefixes=Object.create(d),a.factory=s||new n,a.sparqlStar=!!u,a.pathOnly=!!c,a.skipValidation=!!l||!!f,a.prototype.parse.apply(h,arguments)},h._resetBlanks=a._resetBlanks,h}return PI={Parser:r,Generator:t,Wildcard:o},PI}var IL;function kO(){if(IL)return yi;IL=1;var a=yi&&yi.__createBinding||(Object.create?function(c,u,l,f){f===void 0&&(f=l);var d=Object.getOwnPropertyDescriptor(u,l);(!d||("get"in d?!u.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return u[l]}}),Object.defineProperty(c,f,d)}:function(c,u,l,f){f===void 0&&(f=l),c[f]=u[l]}),t=yi&&yi.__setModuleDefault||(Object.create?function(c,u){Object.defineProperty(c,"default",{enumerable:!0,value:u})}:function(c,u){c.default=u}),o=yi&&yi.__importStar||function(c){if(c&&c.__esModule)return c;var u={};if(c!=null)for(var l in c)l!=="default"&&Object.prototype.hasOwnProperty.call(c,l)&&a(u,c,l);return t(u,c),u};Object.defineProperty(yi,"__esModule",{value:!0});const n=o(c0()),r=fse(),e=$t(),i=O0();class s{constructor(u){this.dataFactory=u||new r.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(u,l=!0){return this.flattenMulti({type:n.types.ALT,input:u},l)}createAsk(u){return{type:n.types.ASK,input:u}}createBoundAggregate(u,l,f,d,h){const p=this.createAggregateExpression(l,f,d,h);return p.variable=u,p}createBgp(u){return{type:n.types.BGP,patterns:u}}createConstruct(u,l){return{type:n.types.CONSTRUCT,input:u,template:l}}createDescribe(u,l){return{type:n.types.DESCRIBE,input:u,terms:l}}createDistinct(u){return{type:n.types.DISTINCT,input:u}}createExtend(u,l,f){return{type:n.types.EXTEND,input:u,variable:l,expression:f}}createFrom(u,l,f){return{type:n.types.FROM,input:u,default:l,named:f}}createFilter(u,l){return{type:n.types.FILTER,input:u,expression:l}}createGraph(u,l){return{type:n.types.GRAPH,input:u,name:l}}createGroup(u,l,f){return{type:n.types.GROUP,input:u,variables:l,aggregates:f}}createInv(u){return{type:n.types.INV,path:u}}createJoin(u,l=!0){return this.flattenMulti({type:n.types.JOIN,input:u},l)}createLeftJoin(u,l,f){return f?{type:n.types.LEFT_JOIN,input:[u,l],expression:f}:{type:n.types.LEFT_JOIN,input:[u,l]}}createLink(u){return{type:n.types.LINK,iri:u}}createMinus(u,l){return{type:n.types.MINUS,input:[u,l]}}createNop(){return{type:n.types.NOP}}createNps(u){return{type:n.types.NPS,iris:u}}createOneOrMorePath(u){return{type:n.types.ONE_OR_MORE_PATH,path:u}}createOrderBy(u,l){return{type:n.types.ORDER_BY,input:u,expressions:l}}createPath(u,l,f,d){return d?{type:n.types.PATH,subject:u,predicate:l,object:f,graph:d}:{type:n.types.PATH,subject:u,predicate:l,object:f,graph:this.dataFactory.defaultGraph()}}createPattern(u,l,f,d){const h=this.dataFactory.quad(u,l,f,d);return h.type=n.types.PATTERN,h}createProject(u,l){return{type:n.types.PROJECT,input:u,variables:l}}createReduced(u){return{type:n.types.REDUCED,input:u}}createSeq(u,l=!0){return this.flattenMulti({type:n.types.SEQ,input:u},l)}createService(u,l,f){return{type:n.types.SERVICE,input:u,name:l,silent:!!f}}createSlice(u,l,f){return l=l||0,f!==void 0?{type:n.types.SLICE,input:u,start:l,length:f}:{type:n.types.SLICE,input:u,start:l}}createUnion(u,l=!0){return this.flattenMulti({type:n.types.UNION,input:u},l)}createValues(u,l){return{type:n.types.VALUES,variables:u,bindings:l}}createZeroOrMorePath(u){return{type:n.types.ZERO_OR_MORE_PATH,path:u}}createZeroOrOnePath(u){return{type:n.types.ZERO_OR_ONE_PATH,path:u}}createAggregateExpression(u,l,f,d){return d?{type:n.types.EXPRESSION,expressionType:n.expressionTypes.AGGREGATE,aggregator:u,expression:l,separator:d,distinct:f}:{type:n.types.EXPRESSION,expressionType:n.expressionTypes.AGGREGATE,aggregator:u,expression:l,distinct:f}}createExistenceExpression(u,l){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.EXISTENCE,not:u,input:l}}createNamedExpression(u,l){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.NAMED,name:u,args:l}}createOperatorExpression(u,l){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.OPERATOR,operator:u,args:l}}createTermExpression(u){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.TERM,term:u}}createWildcardExpression(){return{type:n.types.EXPRESSION,expressionType:n.expressionTypes.WILDCARD,wildcard:new i.Wildcard}}createTerm(u){return u[0]==="$"&&(u=u.replace("$","?")),(0,e.stringToTerm)(u,this.dataFactory)}createCompositeUpdate(u){return{type:n.types.COMPOSITE_UPDATE,updates:u}}createDeleteInsert(u,l,f){const d={type:n.types.DELETE_INSERT};return u&&(d.delete=u),l&&(d.insert=l),f&&(d.where=f),d}createLoad(u,l,f){const d={type:n.types.LOAD,source:u};return l&&(d.destination=l),this.addSilent(d,!!f)}createClear(u,l){return this.addSilent({type:n.types.CLEAR,source:u},!!l)}createCreate(u,l){return this.addSilent({type:n.types.CREATE,source:u},!!l)}createDrop(u,l){return this.addSilent({type:n.types.DROP,source:u},!!l)}createAdd(u,l,f){return this.addSilent({type:n.types.ADD,source:u,destination:l},!!f)}createMove(u,l,f){return this.addSilent({type:n.types.MOVE,source:u,destination:l},!!f)}createCopy(u,l,f){return this.addSilent({type:n.types.COPY,source:u,destination:l},!!f)}addSilent(u,l){return l&&(u.silent=l),u}flattenMulti(u,l){if(!l)return u;const f=u.type,d=u.input;let h=[];for(const p of d)p.type===f?h.push(...p.input):h.push(p);return u.input=h,u}}return yi.default=s,yi}var wh={},Oo={},yt={},Ao={},A0={},RL;function FL(){if(RL)return A0;RL=1,Object.defineProperty(A0,"__esModule",{value:!0}),A0.BlankNode=void 0;class a{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}}return A0.BlankNode=a,A0}var E0={},x0={},NL;function DL(){if(NL)return x0;NL=1,Object.defineProperty(x0,"__esModule",{value:!0}),x0.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}return x0.DefaultGraph=a,a.INSTANCE=new a,x0}var I0={},R0={},PL;function LI(){if(PL)return R0;PL=1,Object.defineProperty(R0,"__esModule",{value:!0}),R0.NamedNode=void 0;class a{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}}return R0.NamedNode=a,R0}var LL;function jL(){if(LL)return I0;LL=1,Object.defineProperty(I0,"__esModule",{value:!0}),I0.Literal=void 0;const a=LI();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return I0.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),I0}var F0={},ML;function qL(){if(ML)return F0;ML=1,Object.defineProperty(F0,"__esModule",{value:!0}),F0.Quad=void 0;class a{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}}return F0.Quad=a,F0}var N0={},CL;function BL(){if(CL)return N0;CL=1,Object.defineProperty(N0,"__esModule",{value:!0}),N0.Variable=void 0;class a{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}}return N0.Variable=a,N0}var $L;function _se(){if($L)return E0;$L=1,Object.defineProperty(E0,"__esModule",{value:!0}),E0.DataFactory=void 0;const a=FL(),t=DL(),o=jL(),n=LI(),r=qL(),e=BL();let i=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return E0.DataFactory=s,E0}var UL;function mse(){return UL||(UL=1,function(a){var t=Ao&&Ao.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ao&&Ao.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(FL(),a),o(_se(),a),o(DL(),a),o(jL(),a),o(LI(),a),o(qL(),a),o(BL(),a)}(Ao)),Ao}var VL;function QL(){if(VL)return yt;VL=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.matchPatternMappings=yt.matchPatternComplete=yt.matchPattern=yt.matchTerm=yt.getValueNestedPath=yt.someTermsNested=yt.someTerms=yt.everyTermsNested=yt.everyTerms=yt.reduceTermsNested=yt.reduceTerms=yt.mapTermsNested=yt.mapTerms=yt.filterQuadTermNamesNested=yt.filterQuadTermNames=yt.filterTermsNested=yt.filterTerms=yt.forEachTermsNested=yt.forEachTerms=yt.collectNamedTerms=yt.getNamedTerms=yt.getTermsNested=yt.getTerms=yt.TRIPLE_TERM_NAMES=yt.QUAD_TERM_NAMES=void 0;const a=mse(),t=new a.DataFactory;yt.QUAD_TERM_NAMES=["subject","predicate","object","graph"],yt.TRIPLE_TERM_NAMES=["subject","predicate","object"];function o(j,x){return x&&j.graph.termType==="DefaultGraph"?[j.subject,j.predicate,j.object]:[j.subject,j.predicate,j.object,j.graph]}yt.getTerms=o;function n(j,x){const I=[];for(const D of o(j,x))D.termType==="Quad"?n(D,x).forEach(C=>I.push(C)):I.push(D);return I}yt.getTermsNested=n;function r(j){return[{key:"subject",value:j.subject},{key:"predicate",value:j.predicate},{key:"object",value:j.object},{key:"graph",value:j.graph}]}yt.getNamedTerms=r;function e(j,x,I){const D={};return j.forEach(C=>D[C.key]=C.value),x&&(D.subject=D.subject||x("subject"),D.predicate=D.predicate||x("predicate"),D.object=D.object||x("object"),D.graph=D.graph||x("graph")),(I||t).quad(D.subject,D.predicate,D.object,D.graph)}yt.collectNamedTerms=e;function i(j,x){x(j.subject,"subject"),x(j.predicate,"predicate"),x(j.object,"object"),x(j.graph,"graph")}yt.forEachTerms=i;function s(j,x,I=[]){j.subject.termType==="Quad"?s(j.subject,x,[...I,"subject"]):x(j.subject,[...I,"subject"]),j.predicate.termType==="Quad"?s(j.predicate,x,[...I,"predicate"]):x(j.predicate,[...I,"predicate"]),j.object.termType==="Quad"?s(j.object,x,[...I,"object"]):x(j.object,[...I,"object"]),j.graph.termType==="Quad"?s(j.graph,x,[...I,"graph"]):x(j.graph,[...I,"graph"])}yt.forEachTermsNested=s;function c(j,x){const I=[];return x(j.subject,"subject")&&I.push(j.subject),x(j.predicate,"predicate")&&I.push(j.predicate),x(j.object,"object")&&I.push(j.object),x(j.graph,"graph")&&I.push(j.graph),I}yt.filterTerms=c;function u(j,x,I=[]){let D=[];return j.subject.termType==="Quad"?D=[...D,...u(j.subject,x,[...I,"subject"])]:x(j.subject,[...I,"subject"])&&D.push(j.subject),j.predicate.termType==="Quad"?D=[...D,...u(j.predicate,x,[...I,"predicate"])]:x(j.predicate,[...I,"predicate"])&&D.push(j.predicate),j.object.termType==="Quad"?D=[...D,...u(j.object,x,[...I,"object"])]:x(j.object,[...I,"object"])&&D.push(j.object),j.graph.termType==="Quad"?D=[...D,...u(j.graph,x,[...I,"graph"])]:x(j.graph,[...I,"graph"])&&D.push(j.graph),D}yt.filterTermsNested=u;function l(j,x){const I=[];return x(j.subject,"subject")&&I.push("subject"),x(j.predicate,"predicate")&&I.push("predicate"),x(j.object,"object")&&I.push("object"),x(j.graph,"graph")&&I.push("graph"),I}yt.filterQuadTermNames=l;function f(j,x,I=[]){let D=[];const C=[...I,"subject"];j.subject.termType==="Quad"?D=[...D,...f(j.subject,x,C)]:x(j.subject,C)&&D.push(C);const X=[...I,"predicate"];j.predicate.termType==="Quad"?D=[...D,...f(j.predicate,x,X)]:x(j.predicate,X)&&D.push(X);const z=[...I,"object"];j.object.termType==="Quad"?D=[...D,...f(j.object,x,z)]:x(j.object,z)&&D.push(z);const J=[...I,"graph"];return j.graph.termType==="Quad"?D=[...D,...f(j.graph,x,J)]:x(j.graph,J)&&D.push(J),D}yt.filterQuadTermNamesNested=f;function d(j,x,I){return(I||t).quad(x(j.subject,"subject"),x(j.predicate,"predicate"),x(j.object,"object"),x(j.graph,"graph"))}yt.mapTerms=d;function h(j,x,I,D=[]){return(I||t).quad(j.subject.termType==="Quad"?h(j.subject,x,I,[...D,"subject"]):x(j.subject,[...D,"subject"]),j.predicate.termType==="Quad"?h(j.predicate,x,I,[...D,"predicate"]):x(j.predicate,[...D,"predicate"]),j.object.termType==="Quad"?h(j.object,x,I,[...D,"object"]):x(j.object,[...D,"object"]),j.graph.termType==="Quad"?h(j.graph,x,I,[...D,"graph"]):x(j.graph,[...D,"graph"]))}yt.mapTermsNested=h;function p(j,x,I){let D=I;return D=x(D,j.subject,"subject"),D=x(D,j.predicate,"predicate"),D=x(D,j.object,"object"),x(D,j.graph,"graph")}yt.reduceTerms=p;function _(j,x,I,D=[]){let C=I;return j.subject.termType==="Quad"?C=_(j.subject,x,C,[...D,"subject"]):C=x(C,j.subject,[...D,"subject"]),j.predicate.termType==="Quad"?C=_(j.predicate,x,C,[...D,"predicate"]):C=x(C,j.predicate,[...D,"predicate"]),j.object.termType==="Quad"?C=_(j.object,x,C,[...D,"object"]):C=x(C,j.object,[...D,"object"]),j.graph.termType==="Quad"?C=_(j.graph,x,C,[...D,"graph"]):C=x(C,j.graph,[...D,"graph"]),C}yt.reduceTermsNested=_;function g(j,x){return x(j.subject,"subject")&&x(j.predicate,"predicate")&&x(j.object,"object")&&x(j.graph,"graph")}yt.everyTerms=g;function y(j,x,I=[]){return(j.subject.termType==="Quad"?y(j.subject,x,[...I,"subject"]):x(j.subject,[...I,"subject"]))&&(j.predicate.termType==="Quad"?y(j.predicate,x,[...I,"predicate"]):x(j.predicate,[...I,"predicate"]))&&(j.object.termType==="Quad"?y(j.object,x,[...I,"object"]):x(j.object,[...I,"object"]))&&(j.graph.termType==="Quad"?y(j.graph,x,[...I,"graph"]):x(j.graph,[...I,"graph"]))}yt.everyTermsNested=y;function m(j,x){return x(j.subject,"subject")||x(j.predicate,"predicate")||x(j.object,"object")||x(j.graph,"graph")}yt.someTerms=m;function b(j,x,I=[]){return(j.subject.termType==="Quad"?b(j.subject,x,[...I,"subject"]):x(j.subject,[...I,"subject"]))||(j.predicate.termType==="Quad"?b(j.predicate,x,[...I,"predicate"]):x(j.predicate,[...I,"predicate"]))||(j.object.termType==="Quad"?b(j.object,x,[...I,"object"]):x(j.object,[...I,"object"]))||(j.graph.termType==="Quad"?b(j.graph,x,[...I,"graph"]):x(j.graph,[...I,"graph"]))}yt.someTermsNested=b;function T(j,x){if(x.length===0)return j;if(j.termType==="Quad")return T(j[x[0]],x.slice(1));throw new Error(`Tried to get ${x[0]} from term of type ${j.termType}`)}yt.getValueNestedPath=T;function w(j,x){return!x||x.termType==="Variable"||x.termType==="Quad"&&j.termType==="Quad"&&F(j,x)||x.equals(j)}yt.matchTerm=w;function O(j,x,I,D,C){return w(j.subject,x)&&w(j.predicate,I)&&w(j.object,D)&&w(j.graph,C)}yt.matchPattern=O;function F(j,x){return O(j,x.subject,x.predicate,x.object,x.graph)}yt.matchPatternComplete=F;function Q(j,x,I={}){const D={};function C(X,z){return g(X,(J,ie)=>{var se,ye;const K=z[ie];switch(J.termType){case"Variable":return I.skipVarMapping&&K.termType==="Variable"||((ye=(se=D[J.value])===null||se===void 0?void 0:se.equals(K))!==null&&ye!==void 0?ye:(D[J.value]=K,!0));case"Quad":return K.termType==="Quad"&&C(J,K);default:return J.equals(K)}})}return C(x,j)&&(I.returnMappings?D:!0)}return yt.matchPatternMappings=Q,yt}var br={},HL;function gse(){if(HL)return br;HL=1,Object.defineProperty(br,"__esModule",{value:!0}),br.getQuads=br.getDefaultGraphs=br.getVariables=br.getLiterals=br.getBlankNodes=br.getNamedNodes=br.getTermsOfType=br.uniqTerms=br.TERM_TYPES=void 0;const a=$t();br.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function t(u){const l={};return u.filter(f=>{const d=(0,a.termToString)(f);return!(d in l)&&(l[d]=!0)})}br.uniqTerms=t;function o(u,l){return u.filter(f=>f.termType===l)}br.getTermsOfType=o;function n(u){return o(u,"NamedNode")}br.getNamedNodes=n;function r(u){return o(u,"BlankNode")}br.getBlankNodes=r;function e(u){return o(u,"Literal")}br.getLiterals=e;function i(u){return o(u,"Variable")}br.getVariables=i;function s(u){return o(u,"DefaultGraph")}br.getDefaultGraphs=s;function c(u){return o(u,"Quad")}return br.getQuads=c,br}var GL;function Mr(){return GL||(GL=1,function(a){var t=Oo&&Oo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Oo&&Oo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(QL(),a),o(gse(),a)}(Oo)),Oo}var zL;function jI(){if(zL)return wh;zL=1;var a=wh&&wh.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wh,"__esModule",{value:!0});const t=c0(),o=a(kO()),n=Mr();class r{static flatten(i){return Array.prototype.concat(...i).filter(s=>s)}static objectify(i){if(i.termType){if(i.termType==="Quad")return{type:"pattern",termType:"Quad",subject:r.objectify(i.subject),predicate:r.objectify(i.predicate),object:r.objectify(i.object),graph:r.objectify(i.graph)};{let s={termType:i.termType,value:i.value};return i.language&&(s.language=i.language),i.datatype&&(s.datatype=r.objectify(i.datatype)),s}}if(Array.isArray(i))return i.map(s=>r.objectify(s));if(i===Object(i)){let s={};for(let c of Object.keys(i))s[c]=r.objectify(i[c]);return s}return i}static inScopeVariables(i){const s=[];function c(l){s.find(f=>l.value===f.value)||s.push(l)}function u(l){l.subject.termType==="Variable"&&c(l.subject),l.predicate.termType==="Variable"&&c(l.predicate),l.object.termType==="Variable"&&c(l.object),l.graph.termType==="Variable"&&c(l.graph),l.subject.termType==="Quad"&&u(l.subject),l.predicate.termType==="Quad"&&u(l.predicate),l.object.termType==="Quad"&&u(l.object),l.graph.termType==="Quad"&&u(l.graph)}return r.recurseOperation(i,{[t.types.EXPRESSION]:l=>(l.expressionType===t.expressionTypes.AGGREGATE&&l.variable&&c(l.variable),!0),[t.types.EXTEND]:l=>(c(l.variable),!0),[t.types.GRAPH]:l=>(l.name.termType==="Variable"&&c(l.name),!0),[t.types.GROUP]:l=>(l.variables.forEach(c),!0),[t.types.PATH]:l=>(l.subject.termType==="Variable"&&c(l.subject),l.object.termType==="Variable"&&c(l.object),l.graph.termType==="Variable"&&c(l.graph),l.subject.termType==="Quad"&&u(l.subject),l.object.termType==="Quad"&&u(l.object),l.graph.termType==="Quad"&&u(l.graph),!0),[t.types.PATTERN]:l=>(u(l),!0),[t.types.PROJECT]:l=>(l.variables.forEach(c),!1),[t.types.SERVICE]:l=>(l.name.termType==="Variable"&&c(l.name),!0),[t.types.VALUES]:l=>(l.variables.forEach(c),!0)}),s}static recurseOperation(i,s){let c=i,u=!0;const l=s[i.type];if(l&&(u=l(i)),!u)return;let f=d=>r.recurseOperation(d,s);switch(c.type){case t.types.ALT:c.input.map(f);break;case t.types.ASK:f(c.input);break;case t.types.BGP:c.patterns.forEach(f);break;case t.types.CONSTRUCT:f(c.input),c.template.map(f);break;case t.types.DESCRIBE:f(c.input);break;case t.types.DISTINCT:f(c.input);break;case t.types.EXPRESSION:c.expressionType===t.expressionTypes.EXISTENCE&&f(c.input);break;case t.types.EXTEND:f(c.input),f(c.expression);break;case t.types.FILTER:f(c.input),f(c.expression);break;case t.types.FROM:f(c.input);break;case t.types.GRAPH:f(c.input);break;case t.types.GROUP:f(c.input),c.aggregates.forEach(f);break;case t.types.INV:f(c.path);break;case t.types.JOIN:c.input.map(f);break;case t.types.LEFT_JOIN:c.input.map(f),c.expression&&f(c.expression);break;case t.types.LINK:break;case t.types.MINUS:c.input.map(f);break;case t.types.NOP:break;case t.types.NPS:break;case t.types.ONE_OR_MORE_PATH:f(c.path);break;case t.types.ORDER_BY:f(c.input),c.expressions.forEach(f);break;case t.types.PATH:f(c.predicate);break;case t.types.PATTERN:break;case t.types.PROJECT:f(c.input);break;case t.types.REDUCED:f(c.input);break;case t.types.SEQ:c.input.map(f);break;case t.types.SERVICE:f(c.input);break;case t.types.SLICE:f(c.input);break;case t.types.UNION:c.input.map(f);break;case t.types.VALUES:break;case t.types.ZERO_OR_MORE_PATH:f(c.path);break;case t.types.ZERO_OR_ONE_PATH:f(c.path);break;case t.types.COMPOSITE_UPDATE:c.updates.forEach(d=>f(d));break;case t.types.DELETE_INSERT:c.delete&&c.delete.forEach(d=>f(d)),c.insert&&c.insert.forEach(d=>f(d)),c.where&&f(c.where);break;case t.types.LOAD:break;case t.types.CLEAR:break;case t.types.CREATE:break;case t.types.DROP:break;case t.types.ADD:break;case t.types.MOVE:break;case t.types.COPY:break;default:throw new Error(`Unknown Operation type ${c.type}`)}}static mapOperation(i,s,c){let u=i,l=!0,f=!0;c=c||new o.default;const d=s[i.type];if(d){const _=d(i,c);u=_.result,l=_.recurse,f=_.copyMetadata!==!1}let h;if(f&&(u.metadata||i.metadata)&&(h={...u.metadata,...i.metadata}),!l)return h&&(u.metadata=h),u;let p=_=>r.mapOperation(_,s,c);switch(u.type){case t.types.ALT:u=c.createAlt(u.input.map(p));break;case t.types.ASK:u=c.createAsk(p(u.input));break;case t.types.BGP:u=c.createBgp(u.patterns.map(p));break;case t.types.CONSTRUCT:u=c.createConstruct(p(u.input),u.template.map(p));break;case t.types.DESCRIBE:u=c.createDescribe(p(u.input),u.terms);break;case t.types.DISTINCT:u=c.createDistinct(p(u.input));break;case t.types.EXPRESSION:u=r.mapExpression(u,s,c);break;case t.types.EXTEND:u=c.createExtend(p(u.input),u.variable,p(u.expression));break;case t.types.FILTER:u=c.createFilter(p(u.input),p(u.expression));break;case t.types.FROM:u=c.createFrom(p(u.input),[...u.default],[...u.named]);break;case t.types.GRAPH:u=c.createGraph(p(u.input),u.name);break;case t.types.GROUP:u=c.createGroup(p(u.input),[].concat(u.variables),u.aggregates.map(p));break;case t.types.INV:u=c.createInv(p(u.path));break;case t.types.JOIN:u=c.createJoin(u.input.map(p));break;case t.types.LEFT_JOIN:u=c.createLeftJoin(p(u.input[0]),p(u.input[1]),u.expression?p(u.expression):void 0);break;case t.types.LINK:u=c.createLink(u.iri);break;case t.types.MINUS:u=c.createMinus(p(u.input[0]),p(u.input[1]));break;case t.types.NOP:u=c.createNop();break;case t.types.NPS:u=c.createNps([].concat(u.iris));break;case t.types.ONE_OR_MORE_PATH:u=c.createOneOrMorePath(p(u.path));break;case t.types.ORDER_BY:u=c.createOrderBy(p(u.input),u.expressions.map(p));break;case t.types.PATH:u=c.createPath(u.subject,p(u.predicate),u.object,u.graph);break;case t.types.PATTERN:u=c.createPattern(u.subject,u.predicate,u.object,u.graph);break;case t.types.PROJECT:u=c.createProject(p(u.input),[...u.variables]);break;case t.types.REDUCED:u=c.createReduced(p(u.input));break;case t.types.SEQ:u=c.createSeq(u.input.map(p));break;case t.types.SERVICE:u=c.createService(p(u.input),u.name,u.silent);break;case t.types.SLICE:u=c.createSlice(p(u.input),u.start,u.length);break;case t.types.UNION:u=c.createUnion(u.input.map(p));break;case t.types.VALUES:u=c.createValues([].concat(u.variables),u.bindings.map(_=>Object.assign({},_)));break;case t.types.ZERO_OR_MORE_PATH:u=c.createZeroOrMorePath(p(u.path));break;case t.types.ZERO_OR_ONE_PATH:u=c.createZeroOrOnePath(p(u.path));break;case t.types.COMPOSITE_UPDATE:u=c.createCompositeUpdate(u.updates.map(p));break;case t.types.DELETE_INSERT:u=c.createDeleteInsert(u.delete?u.delete.map(p):void 0,u.insert?u.insert.map(p):void 0,u.where?p(u.where):void 0);break;case t.types.LOAD:u=c.createLoad(u.source,u.destination,u.silent);break;case t.types.CLEAR:u=c.createClear(u.source,u.silent);break;case t.types.CREATE:u=c.createCreate(u.source,u.silent);break;case t.types.DROP:u=c.createDrop(u.source,u.silent);break;case t.types.ADD:u=c.createAdd(u.source,u.destination);break;case t.types.MOVE:u=c.createMove(u.source,u.destination);break;case t.types.COPY:u=c.createCopy(u.source,u.destination);break;default:throw new Error(`Unknown Operation type ${u.type}`)}return h&&(u.metadata=h),u}static mapExpression(i,s,c){let u=i,l=!0;c=c||new o.default;const f=s[i.expressionType];if(f&&({result:u,recurse:l}=f(i,c)),!l)return u;let d=h=>r.mapOperation(h,s,c);switch(i.expressionType){case t.expressionTypes.AGGREGATE:return i.variable?c.createBoundAggregate(i.variable,i.aggregator,d(i.expression),i.distinct,i.separator):c.createAggregateExpression(i.aggregator,d(i.expression),i.distinct,i.separator);case t.expressionTypes.EXISTENCE:return c.createExistenceExpression(i.not,d(i.input));case t.expressionTypes.NAMED:return c.createNamedExpression(i.name,i.args.map(d));case t.expressionTypes.OPERATOR:return c.createOperatorExpression(i.operator,i.args.map(d));case t.expressionTypes.TERM:return c.createTermExpression(i.term);case t.expressionTypes.WILDCARD:return c.createWildcardExpression();default:throw new Error(`Unknown Expression type ${i.expressionType}`)}}static cloneOperation(i){return r.mapOperation(i,{})}static cloneExpression(i){return r.mapExpression(i,{})}static createUniqueVariable(i,s,c){let u=0,l=i;for(;s[l];)l=`${i}${u++}`;return c.variable(l)}static isSimpleTerm(i){return i.termType!==void 0&&i.termType!=="Quad"&&i.termType!=="Wildcard"}static isQuad(i){return i.termType==="Quad"}static hasQuadVariables(i){return(0,n.someTermsNested)(i,s=>s.termType==="Variable")}static isWildcard(i){return i.termType==="Wildcard"}}return wh.default=r,wh}var kL;function vse(){if(kL)return Dn;kL=1;var a=Dn&&Dn.__createBinding||(Object.create?function(M,B,R,q){q===void 0&&(q=R);var W=Object.getOwnPropertyDescriptor(B,R);(!W||("get"in W?!B.__esModule:W.writable||W.configurable))&&(W={enumerable:!0,get:function(){return B[R]}}),Object.defineProperty(M,q,W)}:function(M,B,R,q){q===void 0&&(q=R),M[q]=B[R]}),t=Dn&&Dn.__setModuleDefault||(Object.create?function(M,B){Object.defineProperty(M,"default",{enumerable:!0,value:B})}:function(M,B){M.default=B}),o=Dn&&Dn.__importStar||function(M){if(M&&M.__esModule)return M;var B={};if(M!=null)for(var R in M)R!=="default"&&Object.prototype.hasOwnProperty.call(M,R)&&a(B,M,R);return t(B,M),B},n=Dn&&Dn.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(Dn,"__esModule",{value:!0});const r=lse(),e=$t(),i=o(c0()),s=n(kO()),c=n(jI()),u=O0().Parser,l=i.types;let f=new Set,d=0,h=!1,p;function _(M,B){B=B||{},p=new s.default(B.dataFactory);let R;if(y(M)){let q=new u(B);q._resetBlanks(),R=q.parse(M)}else R=M;return g(R,B.quads,B.blankToVariable)}Dn.default=_;function g(M,B,R){if(f=new Set,d=0,h=!!B,!M.type)return p.createNop();if(M.type!=="query"&&M.type!=="update")throw new Error("Translate only works on complete query or update objects.");let q;if(w(M),M.type==="query"){const W={type:"group",patterns:M.where||[]};q=F(W),q=K(M,q)}else M.type==="update"&&(q=_e(M));return R&&(q=ee(q)),q}function y(M){return typeof M=="string"}function m(M){return!!(M!=null&&M.termType)}function b(M){return M.subject&&M.predicate&&M.object}function T(M){return(M==null?void 0:M.termType)==="Variable"}function w(M){if(m(M))T(M)&&f.add(`?${M.value}`);else if(Array.isArray(M))for(const B of M)w(B);else if(M&&typeof M=="object")for(let B of Object.keys(M))B.startsWith("?")?f.add(B):B.startsWith("$")&&f.add(`?${B.slice(1)}`),w(M[B])}function O(M){let B={};if(b(M)){const R=[O(M.subject),O(M.predicate),O(M.object),M.graph?O(M.graph):{}];Object.assign(B,...R)}else if(m(M))T(M)&&(B[M.value]=M);else if(M.type==="bgp"){const R=M.triples;Object.assign(B,...R.map(O))}else if(M.type==="path")Object.assign(B,...M.items.map(O));else if(M.type==="group"||M.type==="union"||M.type==="optional")Object.assign(B,...M.patterns.map(O));else if(M.type==="service"||M.type==="graph")Object.assign(B,O(M.name)),Object.assign(B,...M.patterns.map(O));else if(M.type==="bind")Object.assign(B,O(M.variable));else if(M.type==="values"){if(M.values.length>0){const R=Object.keys(M.values[0]).map(q=>p.createTerm(q));Object.assign(B,...R.map(O))}}else if(M.type==="query"&&(M.queryType==="SELECT"||M.queryType==="DESCRIBE")){M.where&&M.variables.some(c.default.isWildcard)&&Object.assign(B,...M.where.map(O));for(const R of M.variables)T(R)?Object.assign(B,O(R)):R.variable&&Object.assign(B,O(R.variable));if(M.queryType==="SELECT"){if(M.group)for(const R of M.group)R.variable&&Object.assign(B,O(R.variable));if(M.values){const R={type:"values",values:M.values};Object.assign(B,O(R))}}}return B}function F(M){if(M.type==="bgp")return j(M);if(M.type==="union")return p.createUnion(M.patterns.map(B=>(B.type!=="group"&&(B={type:"group",patterns:[B]}),F(B))));if(M.type==="graph"){const B={type:"group",patterns:M.patterns};let R=F(B);return h?R=J(R,M.name):R=p.createGraph(R,M.name),R}if(M.type==="values")return ye(M);if(M.type==="query")return g(M,h,!1);if(M.type==="group"){let B=[],R=[];for(let re of M.patterns)(re.type==="filter"?B:R).push(re);let q=R.reduce(ie,p.createBgp([])),W=B.map(re=>Q(re.expression));return W.length>0&&(q=p.createFilter(q,W.reduce((re,Y)=>p.createOperatorExpression("&&",[re,Y])))),q}throw new Error(`Unexpected type: ${M.type}`)}function Q(M){if(c.default.isSimpleTerm(M))return p.createTermExpression(M);if(c.default.isQuad(M))return c.default.hasQuadVariables(M)?p.createOperatorExpression("triple",[Q(M.subject),Q(M.predicate),Q(M.object)]):p.createTermExpression(M);if(c.default.isWildcard(M))return p.createWildcardExpression();if("aggregation"in M)return p.createAggregateExpression(M.aggregation,Q(M.expression),!!M.distinct,M.separator);if("function"in M)return p.createNamedExpression(M.function,M.args.map(Q));if("operator"in M)return M.operator==="exists"||M.operator==="notexists"?p.createExistenceExpression(M.operator==="notexists",F(M.args[0])):((M.operator==="in"||M.operator==="notin")&&(M.args=[M.args[0]].concat(M.args[1])),p.createOperatorExpression(M.operator,M.args.map(Q)));throw new Error(`Unknown expression: ${JSON.stringify(M)}`)}function j(M){let B=[],R=[];for(let q of M.triples)if("pathType"in q.predicate){let W=x(q);for(let re of W)re.type===l.PATH?(B.length>0&&R.push(p.createBgp(B)),B=[],R.push(re)):B.push(re)}else B.push(X(q));return B.length>0&&R.push(p.createBgp(B)),R.length===1?R[0]:p.createJoin(R)}function x(M){let B=M.subject,R=I(M.predicate),q=M.object;return D(B,R,q)}function I(M){if(c.default.isSimpleTerm(M)){if(M.termType==="NamedNode")return p.createLink(M);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(M)}`)}if(M.pathType==="^")return p.createInv(I(M.items[0]));if(M.pathType==="!"){let B=[],R=[],q;"pathType"in M.items[0]&&M.items[0].pathType==="|"?q=M.items[0].items:q=M.items;for(let Y of q)if(c.default.isSimpleTerm(Y))B.push(Y);else if(Y.pathType==="^")R.push(Y.items[0]);else throw new Error(`Unexpected item: ${JSON.stringify(Y)}`);let W=p.createNps(B),re=p.createInv(p.createNps(R));return R.length===0?W:B.length===0?re:p.createAlt([W,re])}if(M.pathType==="/")return p.createSeq(M.items.map(I));if(M.pathType==="|")return p.createAlt(M.items.map(I));if(M.pathType==="*")return p.createZeroOrMorePath(I(M.items[0]));if(M.pathType==="+")return p.createOneOrMorePath(I(M.items[0]));if(M.pathType==="?")return p.createZeroOrOnePath(I(M.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(M)}`)}function D(M,B,R){if(B.type===l.LINK)return[p.createPattern(M,B.iri,R)];if(B.type===l.INV)return D(R,B.path,M);if(B.type===l.SEQ){let q=M;return c.default.flatten(B.input.map((W,re)=>{const Y=re===B.input.length-1?R:C(),ue=D(q,W,Y);return Y.termType==="Variable"&&(q=Y),ue}))}return[p.createPath(M,B,R)]}function C(){let M=`?var${d++}`;return f.has(M)?C():(f.add(M),p.createTerm(M))}function X(M){if("pathType"in M.predicate)throw new Error("Trying to translate property path to quad.");return p.createPattern(M.subject,M.predicate,M.object,M.graph)}let z=Object.values(l);function J(M,B,R){if(M.type===l.GRAPH){if(R)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");M=J(M.input,M.name)}else if(M.type!==l.SERVICE)if(M.type===l.BGP)M.patterns=M.patterns.map(q=>(R&&(q.subject.equals(B)&&(q.subject=R),q.predicate.equals(B)&&(q.predicate=R),q.object.equals(B)&&(q.object=R)),q.graph.termType==="DefaultGraph"&&(q.graph=B),q));else if(M.type===l.PATH)R&&(M.subject.equals(B)&&(M.subject=R),M.object.equals(B)&&(M.object=R)),M.graph.termType==="DefaultGraph"&&(M.graph=B);else if(M.type===l.PROJECT&&!R)M.variables.some(q=>q.equals(B))||(R=C()),M.input=J(M.input,B,R);else if(M.type===l.EXTEND&&!R)M.variable.equals(B)&&(R=C()),M.input=J(M.input,B,R);else for(let q of Object.keys(M))Array.isArray(M[q])?M[q]=M[q].map(W=>J(W,B,R)):z.indexOf(M[q].type)>=0?M[q]=J(M[q],B,R):R&&T(M[q])&&M[q].equals(B)&&(M[q]=R);return M}function ie(M,B){if(B.type==="optional"){const R=F({type:"group",patterns:B.patterns});R.type===l.FILTER?M=p.createLeftJoin(M,R.input,R.expression):M=p.createLeftJoin(M,R)}else if(B.type==="minus"){const R=F({type:"group",patterns:B.patterns});M=p.createMinus(M,R)}else if(B.type==="bind")M=p.createExtend(M,B.variable,Q(B.expression));else if(B.type==="service"){const R={type:"group",patterns:B.patterns},q=p.createService(F(R),B.name,B.silent);M=se(M,q)}else{const R=F(B);M=se(M,R)}return M}function se(M,B){return M.type===l.BGP&&B.type===l.BGP?M=p.createBgp([...M.patterns,...B.patterns]):M.type===l.BGP&&M.patterns.length===0?M=B:B.type===l.BGP&&B.patterns.length===0||(M=p.createJoin([M,B])),M}function ye(M){let B=(M.values.length===0?[]:Object.keys(M.values[0])).map(p.createTerm.bind(p)),R=M.values.map(q=>{let W=Object.keys(q);W=W.filter(Y=>q[Y]!==void 0);let re={};for(let Y of W)re[Y]=q[Y];return re});return p.createValues(B,R)}function K(M,B){const R=M,q=[],W={};if(R.variables=R.variables&&R.variables.map(Y=>Te(Y,W)),R.having=R.having&&R.having.map(Y=>Te(Y,W)),R.order=R.order&&R.order.map(Y=>Te(Y,W)),R.group||Object.keys(W).length>0){const Y=Object.keys(W).map(te=>Ne(W[te],p.createTerm(te))),ue=[];if(R.group)for(const te of R.group)if(c.default.isSimpleTerm(te.expression))ue.push(te.expression);else{const le="variable"in te?te.variable:C();B=p.createExtend(B,le,Q(te.expression)),ue.push(le)}B=p.createGroup(B,ue,Y)}if(R.having)for(let Y of R.having)B=p.createFilter(B,Q(Y));M.values&&(B=p.createJoin([B,ye(M)]));let re=[];if(M.queryType==="SELECT"||M.queryType==="DESCRIBE")if(M.variables.some(Y=>Y&&c.default.isWildcard(Y)))re=Object.values(O(M)).sort((Y,ue)=>Y.value.localeCompare(ue.value));else for(let Y of M.variables)T(Y)||!("variable"in Y)?re.push(Y):Y.variable&&(re.push(Y.variable),q.push(Y));for(let Y of q)B=p.createExtend(B,Y.variable,Q(Y.expression));return R.order&&(B=p.createOrderBy(B,R.order.map(Y=>{let ue=Q(Y.expression);return Y.descending&&(ue=p.createOperatorExpression("desc",[ue])),ue}))),M.queryType==="SELECT"&&(B=p.createProject(B,re)),R.distinct&&(B=p.createDistinct(B)),R.reduced&&(B=p.createReduced(B)),M.queryType==="CONSTRUCT"?B=p.createConstruct(B,(M.template||[]).map(X)):M.queryType==="ASK"?B=p.createAsk(B):M.queryType==="DESCRIBE"&&(B=p.createDescribe(B,re)),(R.offset||R.limit)&&(B=p.createSlice(B,R.offset||0,R.limit)),R.from&&(B=p.createFrom(B,R.from.default,R.from.named)),B}function Te(M,B){if("type"in M&&M.type==="aggregate"){let R=!1,q;for(let W of Object.keys(B))if(r(B[W],M)){q=p.createTerm(W),R=!0;break}return R||(q=C(),B[(0,e.termToString)(q)]=M),q}return"expression"in M&&M.expression?{...M,expression:Te(M.expression,B)}:"args"in M&&M.args?{...M,args:M.args.map(R=>Te(R,B))}:M}function Ne(M,B){if(M.type!=="aggregate"||!M.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(M)}`);const R=Q(M);return R.variable=B,R}function _e(M){return M.updates.length===1?$(M.updates[0]):p.createCompositeUpdate(M.updates.map($))}function $(M){if("type"in M){if(M.type==="load")return xe(M);if(M.type==="clear"||M.type==="create"||M.type==="drop")return Ce(M);if(M.type==="add"||M.type==="copy"||M.type==="move")return we(M)}else if(M.updateType==="insertdelete"||M.updateType==="deletewhere"||M.updateType==="delete"||M.updateType==="insert")return He(M);throw new Error(`Unknown update type ${JSON.stringify(M)}`)}function He(M){if(!h)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let B=[],R=[],q;if(M.delete&&(B=c.default.flatten(M.delete.map(W=>qe(W,M.graph)))),M.insert&&(R=c.default.flatten(M.insert.map(W=>qe(W,M.graph)))),M.where&&M.where.length>0){q=F({type:"group",patterns:M.where});const W=M.using;W?q=p.createFrom(q,W.default,W.named):M.graph&&(q=J(q,M.graph))}else M.updateType==="deletewhere"&&B.length>0&&(q=p.createBgp(B));return p.createDeleteInsert(B.length>0?B:void 0,R.length>0?R:void 0,q)}function qe(M,B){let R=B;M.type==="graph"&&(R=M.name);let q=M.triples;return R&&(q=q.map(W=>Object.assign(W,{graph:R}))),q.map(X)}function Ce(M){let B;switch(c.default.isSimpleTerm(M.graph)?B=M.graph:M.graph.all?B="ALL":M.graph.default?B="DEFAULT":M.graph.named?B="NAMED":B=M.graph.name,M.type){case"clear":return p.createClear(B,M.silent);case"create":return p.createCreate(B,M.silent);case"drop":return p.createDrop(B,M.silent)}}function xe(M){return p.createLoad(M.source,M.destination,M.silent)}function we(M){const B=M.source.default?"DEFAULT":M.source.name,R=M.destination.default?"DEFAULT":M.destination.name;switch(M.type){case"copy":return p.createCopy(B,R,M.silent);case"move":return p.createMove(B,R,M.silent);case"add":return p.createAdd(B,R,M.silent)}}function ee(M){const B={},R=Array.from(f).reduce((W,re)=>(W[re]=!0,W),{});return c.default.mapOperation(M,{[i.types.DELETE_INSERT]:W=>({result:p.createDeleteInsert(W.delete,W.insert,W.where&&ee(W.where)),recurse:!1}),[i.types.PATH]:(W,re)=>({result:re.createPath(q(W.subject),W.predicate,q(W.object),q(W.graph)),recurse:!1}),[i.types.PATTERN]:(W,re)=>({result:re.createPattern(q(W.subject),q(W.predicate),q(W.object),q(W.graph)),recurse:!1}),[i.types.CONSTRUCT]:W=>({result:p.createConstruct(ee(W.input),W.template),recurse:!1})});function q(W){if(W.termType==="BlankNode"){let re=B[W.value];return re||(re=c.default.createUniqueVariable(W.value,R,p.dataFactory),R[re.value]=!0,B[W.value]=re),re}return W}}return Dn}var an={},Eo={},Rt={},MI={},Ut={},qI,XL;function D0(){if(XL)return qI;XL=1,qI=a;function a(t,o){if(!t)throw new Error(o||"Assertion failed")}return a.equal=function(o,n,r){if(o!=n)throw new Error(r||"Assertion failed: "+o+" != "+n)},qI}var XO={exports:{}},WL;function Tse(){return WL||(WL=1,typeof Object.create=="function"?XO.exports=function(t,o){o&&(t.super_=o,t.prototype=Object.create(o.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:XO.exports=function(t,o){if(o){t.super_=o;var n=function(){};n.prototype=o.prototype,t.prototype=new n,t.prototype.constructor=t}}),XO.exports}var JL;function bi(){if(JL)return Ut;JL=1;var a=D0(),t=Tse();Ut.inherits=t;function o(D,C){return(D.charCodeAt(C)&64512)!==55296||C<0||C+1>=D.length?!1:(D.charCodeAt(C+1)&64512)===56320}function n(D,C){if(Array.isArray(D))return D.slice();if(!D)return[];var X=[];if(typeof D=="string")if(C){if(C==="hex")for(D=D.replace(/[^a-z0-9]+/ig,""),D.length%2!==0&&(D="0"+D),J=0;J<D.length;J+=2)X.push(parseInt(D[J]+D[J+1],16))}else for(var z=0,J=0;J<D.length;J++){var ie=D.charCodeAt(J);ie<128?X[z++]=ie:ie<2048?(X[z++]=ie>>6|192,X[z++]=ie&63|128):o(D,J)?(ie=65536+((ie&1023)<<10)+(D.charCodeAt(++J)&1023),X[z++]=ie>>18|240,X[z++]=ie>>12&63|128,X[z++]=ie>>6&63|128,X[z++]=ie&63|128):(X[z++]=ie>>12|224,X[z++]=ie>>6&63|128,X[z++]=ie&63|128)}else for(J=0;J<D.length;J++)X[J]=D[J]|0;return X}Ut.toArray=n;function r(D){for(var C="",X=0;X<D.length;X++)C+=s(D[X].toString(16));return C}Ut.toHex=r;function e(D){var C=D>>>24|D>>>8&65280|D<<8&16711680|(D&255)<<24;return C>>>0}Ut.htonl=e;function i(D,C){for(var X="",z=0;z<D.length;z++){var J=D[z];C==="little"&&(J=e(J)),X+=c(J.toString(16))}return X}Ut.toHex32=i;function s(D){return D.length===1?"0"+D:D}Ut.zero2=s;function c(D){return D.length===7?"0"+D:D.length===6?"00"+D:D.length===5?"000"+D:D.length===4?"0000"+D:D.length===3?"00000"+D:D.length===2?"000000"+D:D.length===1?"0000000"+D:D}Ut.zero8=c;function u(D,C,X,z){var J=X-C;a(J%4===0);for(var ie=new Array(J/4),se=0,ye=C;se<ie.length;se++,ye+=4){var K;z==="big"?K=D[ye]<<24|D[ye+1]<<16|D[ye+2]<<8|D[ye+3]:K=D[ye+3]<<24|D[ye+2]<<16|D[ye+1]<<8|D[ye],ie[se]=K>>>0}return ie}Ut.join32=u;function l(D,C){for(var X=new Array(D.length*4),z=0,J=0;z<D.length;z++,J+=4){var ie=D[z];C==="big"?(X[J]=ie>>>24,X[J+1]=ie>>>16&255,X[J+2]=ie>>>8&255,X[J+3]=ie&255):(X[J+3]=ie>>>24,X[J+2]=ie>>>16&255,X[J+1]=ie>>>8&255,X[J]=ie&255)}return X}Ut.split32=l;function f(D,C){return D>>>C|D<<32-C}Ut.rotr32=f;function d(D,C){return D<<C|D>>>32-C}Ut.rotl32=d;function h(D,C){return D+C>>>0}Ut.sum32=h;function p(D,C,X){return D+C+X>>>0}Ut.sum32_3=p;function _(D,C,X,z){return D+C+X+z>>>0}Ut.sum32_4=_;function g(D,C,X,z,J){return D+C+X+z+J>>>0}Ut.sum32_5=g;function y(D,C,X,z){var J=D[C],ie=D[C+1],se=z+ie>>>0,ye=(se<z?1:0)+X+J;D[C]=ye>>>0,D[C+1]=se}Ut.sum64=y;function m(D,C,X,z){var J=C+z>>>0,ie=(J<C?1:0)+D+X;return ie>>>0}Ut.sum64_hi=m;function b(D,C,X,z){var J=C+z;return J>>>0}Ut.sum64_lo=b;function T(D,C,X,z,J,ie,se,ye){var K=0,Te=C;Te=Te+z>>>0,K+=Te<C?1:0,Te=Te+ie>>>0,K+=Te<ie?1:0,Te=Te+ye>>>0,K+=Te<ye?1:0;var Ne=D+X+J+se+K;return Ne>>>0}Ut.sum64_4_hi=T;function w(D,C,X,z,J,ie,se,ye){var K=C+z+ie+ye;return K>>>0}Ut.sum64_4_lo=w;function O(D,C,X,z,J,ie,se,ye,K,Te){var Ne=0,_e=C;_e=_e+z>>>0,Ne+=_e<C?1:0,_e=_e+ie>>>0,Ne+=_e<ie?1:0,_e=_e+ye>>>0,Ne+=_e<ye?1:0,_e=_e+Te>>>0,Ne+=_e<Te?1:0;var $=D+X+J+se+K+Ne;return $>>>0}Ut.sum64_5_hi=O;function F(D,C,X,z,J,ie,se,ye,K,Te){var Ne=C+z+ie+ye+Te;return Ne>>>0}Ut.sum64_5_lo=F;function Q(D,C,X){var z=C<<32-X|D>>>X;return z>>>0}Ut.rotr64_hi=Q;function j(D,C,X){var z=D<<32-X|C>>>X;return z>>>0}Ut.rotr64_lo=j;function x(D,C,X){return D>>>X}Ut.shr64_hi=x;function I(D,C,X){var z=D<<32-X|C>>>X;return z>>>0}return Ut.shr64_lo=I,Ut}var CI={},KL;function P0(){if(KL)return CI;KL=1;var a=bi(),t=D0();function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return CI.BlockHash=o,o.prototype.update=function(r,e){if(r=a.toArray(r,e),this.pending?this.pending=this.pending.concat(r):this.pending=r,this.pendingTotal+=r.length,this.pending.length>=this._delta8){r=this.pending;var i=r.length%this._delta8;this.pending=r.slice(r.length-i,r.length),this.pending.length===0&&(this.pending=null),r=a.join32(r,0,r.length-i,this.endian);for(var s=0;s<r.length;s+=this._delta32)this._update(r,s,s+this._delta32)}return this},o.prototype.digest=function(r){return this.update(this._pad()),t(this.pending===null),this._digest(r)},o.prototype._pad=function(){var r=this.pendingTotal,e=this._delta8,i=e-(r+this.padLength)%e,s=new Array(i+this.padLength);s[0]=128;for(var c=1;c<i;c++)s[c]=0;if(r<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)s[c++]=0;s[c++]=0,s[c++]=0,s[c++]=0,s[c++]=0,s[c++]=r>>>24&255,s[c++]=r>>>16&255,s[c++]=r>>>8&255,s[c++]=r&255}else for(s[c++]=r&255,s[c++]=r>>>8&255,s[c++]=r>>>16&255,s[c++]=r>>>24&255,s[c++]=0,s[c++]=0,s[c++]=0,s[c++]=0,u=8;u<this.padLength;u++)s[c++]=0;return s},CI}var xo={},_i={},YL;function ZL(){if(YL)return _i;YL=1;var a=bi(),t=a.rotr32;function o(l,f,d,h){if(l===0)return n(f,d,h);if(l===1||l===3)return e(f,d,h);if(l===2)return r(f,d,h)}_i.ft_1=o;function n(l,f,d){return l&f^~l&d}_i.ch32=n;function r(l,f,d){return l&f^l&d^f&d}_i.maj32=r;function e(l,f,d){return l^f^d}_i.p32=e;function i(l){return t(l,2)^t(l,13)^t(l,22)}_i.s0_256=i;function s(l){return t(l,6)^t(l,11)^t(l,25)}_i.s1_256=s;function c(l){return t(l,7)^t(l,18)^l>>>3}_i.g0_256=c;function u(l){return t(l,17)^t(l,19)^l>>>10}return _i.g1_256=u,_i}var BI,e8;function wse(){if(e8)return BI;e8=1;var a=bi(),t=P0(),o=ZL(),n=a.rotl32,r=a.sum32,e=a.sum32_5,i=o.ft_1,s=t.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return a.inherits(u,s),BI=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(f,d){for(var h=this.W,p=0;p<16;p++)h[p]=f[d+p];for(;p<h.length;p++)h[p]=n(h[p-3]^h[p-8]^h[p-14]^h[p-16],1);var _=this.h[0],g=this.h[1],y=this.h[2],m=this.h[3],b=this.h[4];for(p=0;p<h.length;p++){var T=~~(p/20),w=e(n(_,5),i(T,g,y,m),b,h[p],c[T]);b=m,m=y,y=n(g,30),g=_,_=w}this.h[0]=r(this.h[0],_),this.h[1]=r(this.h[1],g),this.h[2]=r(this.h[2],y),this.h[3]=r(this.h[3],m),this.h[4]=r(this.h[4],b)},u.prototype._digest=function(f){return f==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")},BI}var $I,t8;function r8(){if(t8)return $I;t8=1;var a=bi(),t=P0(),o=ZL(),n=D0(),r=a.sum32,e=a.sum32_4,i=a.sum32_5,s=o.ch32,c=o.maj32,u=o.s0_256,l=o.s1_256,f=o.g0_256,d=o.g1_256,h=t.BlockHash,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _(){if(!(this instanceof _))return new _;h.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=p,this.W=new Array(64)}return a.inherits(_,h),$I=_,_.blockSize=512,_.outSize=256,_.hmacStrength=192,_.padLength=64,_.prototype._update=function(y,m){for(var b=this.W,T=0;T<16;T++)b[T]=y[m+T];for(;T<b.length;T++)b[T]=e(d(b[T-2]),b[T-7],f(b[T-15]),b[T-16]);var w=this.h[0],O=this.h[1],F=this.h[2],Q=this.h[3],j=this.h[4],x=this.h[5],I=this.h[6],D=this.h[7];for(n(this.k.length===b.length),T=0;T<b.length;T++){var C=i(D,l(j),s(j,x,I),this.k[T],b[T]),X=r(u(w),c(w,O,F));D=I,I=x,x=j,j=r(Q,C),Q=F,F=O,O=w,w=r(C,X)}this.h[0]=r(this.h[0],w),this.h[1]=r(this.h[1],O),this.h[2]=r(this.h[2],F),this.h[3]=r(this.h[3],Q),this.h[4]=r(this.h[4],j),this.h[5]=r(this.h[5],x),this.h[6]=r(this.h[6],I),this.h[7]=r(this.h[7],D)},_.prototype._digest=function(y){return y==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")},$I}var UI,n8;function Sse(){if(n8)return UI;n8=1;var a=bi(),t=r8();function o(){if(!(this instanceof o))return new o;t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return a.inherits(o,t),UI=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(r){return r==="hex"?a.toHex32(this.h.slice(0,7),"big"):a.split32(this.h.slice(0,7),"big")},UI}var VI,i8;function a8(){if(i8)return VI;i8=1;var a=bi(),t=P0(),o=D0(),n=a.rotr64_hi,r=a.rotr64_lo,e=a.shr64_hi,i=a.shr64_lo,s=a.sum64,c=a.sum64_hi,u=a.sum64_lo,l=a.sum64_4_hi,f=a.sum64_4_lo,d=a.sum64_5_hi,h=a.sum64_5_lo,p=t.BlockHash,_=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function g(){if(!(this instanceof g))return new g;p.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=_,this.W=new Array(160)}a.inherits(g,p),VI=g,g.blockSize=1024,g.outSize=512,g.hmacStrength=192,g.padLength=128,g.prototype._prepareBlock=function(X,z){for(var J=this.W,ie=0;ie<32;ie++)J[ie]=X[z+ie];for(;ie<J.length;ie+=2){var se=I(J[ie-4],J[ie-3]),ye=D(J[ie-4],J[ie-3]),K=J[ie-14],Te=J[ie-13],Ne=j(J[ie-30],J[ie-29]),_e=x(J[ie-30],J[ie-29]),$=J[ie-32],He=J[ie-31];J[ie]=l(se,ye,K,Te,Ne,_e,$,He),J[ie+1]=f(se,ye,K,Te,Ne,_e,$,He)}},g.prototype._update=function(X,z){this._prepareBlock(X,z);var J=this.W,ie=this.h[0],se=this.h[1],ye=this.h[2],K=this.h[3],Te=this.h[4],Ne=this.h[5],_e=this.h[6],$=this.h[7],He=this.h[8],qe=this.h[9],Ce=this.h[10],xe=this.h[11],we=this.h[12],ee=this.h[13],M=this.h[14],B=this.h[15];o(this.k.length===J.length);for(var R=0;R<J.length;R+=2){var q=M,W=B,re=F(He,qe),Y=Q(He,qe),ue=y(He,qe,Ce,xe,we),te=m(He,qe,Ce,xe,we,ee),le=this.k[R],Oe=this.k[R+1],Se=J[R],Ve=J[R+1],ke=d(q,W,re,Y,ue,te,le,Oe,Se,Ve),Ae=h(q,W,re,Y,ue,te,le,Oe,Se,Ve);q=w(ie,se),W=O(ie,se),re=b(ie,se,ye,K,Te),Y=T(ie,se,ye,K,Te,Ne);var A=c(q,W,re,Y),E=u(q,W,re,Y);M=we,B=ee,we=Ce,ee=xe,Ce=He,xe=qe,He=c(_e,$,ke,Ae),qe=u($,$,ke,Ae),_e=Te,$=Ne,Te=ye,Ne=K,ye=ie,K=se,ie=c(ke,Ae,A,E),se=u(ke,Ae,A,E)}s(this.h,0,ie,se),s(this.h,2,ye,K),s(this.h,4,Te,Ne),s(this.h,6,_e,$),s(this.h,8,He,qe),s(this.h,10,Ce,xe),s(this.h,12,we,ee),s(this.h,14,M,B)},g.prototype._digest=function(X){return X==="hex"?a.toHex32(this.h,"big"):a.split32(this.h,"big")};function y(C,X,z,J,ie){var se=C&z^~C&ie;return se<0&&(se+=4294967296),se}function m(C,X,z,J,ie,se){var ye=X&J^~X&se;return ye<0&&(ye+=4294967296),ye}function b(C,X,z,J,ie){var se=C&z^C&ie^z&ie;return se<0&&(se+=4294967296),se}function T(C,X,z,J,ie,se){var ye=X&J^X&se^J&se;return ye<0&&(ye+=4294967296),ye}function w(C,X){var z=n(C,X,28),J=n(X,C,2),ie=n(X,C,7),se=z^J^ie;return se<0&&(se+=4294967296),se}function O(C,X){var z=r(C,X,28),J=r(X,C,2),ie=r(X,C,7),se=z^J^ie;return se<0&&(se+=4294967296),se}function F(C,X){var z=n(C,X,14),J=n(C,X,18),ie=n(X,C,9),se=z^J^ie;return se<0&&(se+=4294967296),se}function Q(C,X){var z=r(C,X,14),J=r(C,X,18),ie=r(X,C,9),se=z^J^ie;return se<0&&(se+=4294967296),se}function j(C,X){var z=n(C,X,1),J=n(C,X,8),ie=e(C,X,7),se=z^J^ie;return se<0&&(se+=4294967296),se}function x(C,X){var z=r(C,X,1),J=r(C,X,8),ie=i(C,X,7),se=z^J^ie;return se<0&&(se+=4294967296),se}function I(C,X){var z=n(C,X,19),J=n(X,C,29),ie=e(C,X,6),se=z^J^ie;return se<0&&(se+=4294967296),se}function D(C,X){var z=r(C,X,19),J=r(X,C,29),ie=i(C,X,6),se=z^J^ie;return se<0&&(se+=4294967296),se}return VI}var QI,o8;function Ose(){if(o8)return QI;o8=1;var a=bi(),t=a8();function o(){if(!(this instanceof o))return new o;t.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return a.inherits(o,t),QI=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(r){return r==="hex"?a.toHex32(this.h.slice(0,12),"big"):a.split32(this.h.slice(0,12),"big")},QI}var s8;function Ase(){return s8||(s8=1,xo.sha1=wse(),xo.sha224=Sse(),xo.sha256=r8(),xo.sha384=Ose(),xo.sha512=a8()),xo}var HI={},u8;function Ese(){if(u8)return HI;u8=1;var a=bi(),t=P0(),o=a.rotl32,n=a.sum32,r=a.sum32_3,e=a.sum32_4,i=t.BlockHash;function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}a.inherits(s,i),HI.ripemd160=s,s.blockSize=512,s.outSize=160,s.hmacStrength=192,s.padLength=64,s.prototype._update=function(g,y){for(var m=this.h[0],b=this.h[1],T=this.h[2],w=this.h[3],O=this.h[4],F=m,Q=b,j=T,x=w,I=O,D=0;D<80;D++){var C=n(o(e(m,c(D,b,T,w),g[f[D]+y],u(D)),h[D]),O);m=O,O=w,w=o(T,10),T=b,b=C,C=n(o(e(F,c(79-D,Q,j,x),g[d[D]+y],l(D)),p[D]),I),F=I,I=x,x=o(j,10),j=Q,Q=C}C=r(this.h[1],T,x),this.h[1]=r(this.h[2],w,I),this.h[2]=r(this.h[3],O,F),this.h[3]=r(this.h[4],m,Q),this.h[4]=r(this.h[0],b,j),this.h[0]=C},s.prototype._digest=function(g){return g==="hex"?a.toHex32(this.h,"little"):a.split32(this.h,"little")};function c(_,g,y,m){return _<=15?g^y^m:_<=31?g&y|~g&m:_<=47?(g|~y)^m:_<=63?g&m|y&~m:g^(y|~m)}function u(_){return _<=15?0:_<=31?1518500249:_<=47?1859775393:_<=63?2400959708:2840853838}function l(_){return _<=15?1352829926:_<=31?1548603684:_<=47?1836072691:_<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return HI}var GI,c8;function xse(){if(c8)return GI;c8=1;var a=bi(),t=D0();function o(n,r,e){if(!(this instanceof o))return new o(n,r,e);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(a.toArray(r,e))}return GI=o,o.prototype._init=function(r){r.length>this.blockSize&&(r=new this.Hash().update(r).digest()),t(r.length<=this.blockSize);for(var e=r.length;e<this.blockSize;e++)r.push(0);for(e=0;e<r.length;e++)r[e]^=54;for(this.inner=new this.Hash().update(r),e=0;e<r.length;e++)r[e]^=106;this.outer=new this.Hash().update(r)},o.prototype.update=function(r,e){return this.inner.update(r,e),this},o.prototype.digest=function(r){return this.outer.update(this.inner.digest()),this.outer.digest(r)},GI}var l8;function L0(){return l8||(l8=1,function(a){var t=a;t.utils=bi(),t.common=P0(),t.sha=Ase(),t.ripemd=Ese(),t.hmac=xse(),t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(MI)),MI}var d8;function Ise(){if(d8)return Rt;d8=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.isTermGrounded=Rt.termToSignature=Rt.quadToSignature=Rt.sha1hex=Rt.hashTerm=Rt.hashTerms=Rt.getGraphBlankNodes=Rt.uniqGraph=Rt.deindexGraph=Rt.indexGraph=Rt.getQuadsWithoutBlankNodes=Rt.getQuadsWithBlankNodes=Rt.hasValue=Rt.hashValues=Rt.getBijectionInner=Rt.getBijection=Rt.isomorphic=void 0;const a=L0(),t=$t(),o=Mr();function n(w,O){return!!r(w,O)}Rt.isomorphic=n;function r(w,O){const F=f(l(w)),Q=f(l(O));if(Object.keys(F).length!==Object.keys(Q).length)return null;for(const C in F)if(F[C]!==Q[C])return null;const j=h(u(w)),x=h(u(O)),I=p(w),D=p(O);return e(j,x,I,D)}Rt.getBijection=r;function e(w,O,F,Q,j,x){j||(j={}),x||(x={});const[I,D]=_(w,F,j),[C,X]=_(O,Q,x);if(Object.keys(I).length!==Object.keys(C).length)return null;for(const J in I)if(!c(C,I[J]))return null;let z={};for(const J of F){const ie=t.termToString(J),se=D[ie];for(const ye in X)if(X[ye]===se){z[ie]=ye,delete X[ye];break}}if(!i(Object.keys(z).sort(),F.map(t.termToString).sort())||!i(s(z).sort(),Q.map(t.termToString).sort())){z=null;for(const J of F){const ie=t.termToString(J);if(!I[ie])for(const se of Q){const ye=t.termToString(se);if(!C[ye]&&D[ie]===X[ye]){const K=y(ie);z=e(w,O,F,Q,Object.assign(Object.assign({},I),{[ie]:K}),Object.assign(Object.assign({},C),{[ye]:K}))}}}}return z}Rt.getBijectionInner=e;function i(w,O){if(w.length!==O.length)return!1;for(let F=w.length;F--;)if(w[F]!==O[F])return!1;return!0}function s(w){const O=[];for(const F in w)O.push(w[F]);return O}Rt.hashValues=s;function c(w,O){for(const F in w)if(w[F]===O)return!0;return!1}Rt.hasValue=c;function u(w){return w.filter(O=>o.someTerms(O,F=>F.termType==="BlankNode"||F.termType==="Quad"&&o.getTermsNested(F).some(Q=>Q.termType==="BlankNode")))}Rt.getQuadsWithBlankNodes=u;function l(w){return w.filter(O=>o.everyTerms(O,F=>F.termType!=="BlankNode"&&!(F.termType==="Quad"&&o.getTermsNested(F).some(Q=>Q.termType==="BlankNode"))))}Rt.getQuadsWithoutBlankNodes=l;function f(w){const O={};for(const F of w)O[JSON.stringify(t.quadToStringQuad(F))]=!0;return O}Rt.indexGraph=f;function d(w){return Object.keys(w).map(O=>t.stringQuadToQuad(JSON.parse(O)))}Rt.deindexGraph=d;function h(w){return d(f(w))}Rt.uniqGraph=h;function p(w){return o.uniqTerms(w.map(O=>o.getBlankNodes(o.getTermsNested(O))).reduce((O,F)=>O.concat(F),[]))}Rt.getGraphBlankNodes=p;function _(w,O,F){const Q=Object.assign({},F),j={};let x=!0;for(;x;){const I=Object.keys(Q).length;for(const C of O){const X=t.termToString(C);if(!Q[X]){const[z,J]=g(C,w,Q);z&&(Q[X]=J),j[X]=J}}const D={};for(const C in j){const X=j[C];D[X]===void 0?D[X]=C:D[X]=!1}for(const C in D){const X=D[C];X&&(Q[X]=C)}x=I!==Object.keys(Q).length}return[Q,j]}Rt.hashTerms=_;function g(w,O,F){const Q=[];let j=!0;for(const I of O){const D=o.getTermsNested(I);if(D.some(C=>C.equals(w))){Q.push(m(I,F,w));for(const C of D)!T(C,F)&&!C.equals(w)&&(j=!1)}}const x=y(Q.sort().join(""));return[j,x]}Rt.hashTerm=g;function y(w){return a.sha1().update(w).digest("hex")}Rt.sha1hex=y;function m(w,O,F){return o.getTerms(w).map(Q=>b(Q,O,F)).join("|")}Rt.quadToSignature=m;function b(w,O,F){return w.equals(F)?"@self":w.termType==="BlankNode"?O[t.termToString(w)]||"@blank":w.termType==="Quad"?`<${m(w,O,F)}>`:t.termToString(w)}Rt.termToSignature=b;function T(w,O){return w.termType!=="BlankNode"&&!(w.termType==="Quad"&&o.getTermsNested(w).some(F=>!T(F,O)))||!!O[t.termToString(w)]}return Rt.isTermGrounded=T,Rt}var f8;function Rse(){return f8||(f8=1,function(a){var t=Eo&&Eo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e),Object.defineProperty(n,i,{enumerable:!0,get:function(){return r[e]}})}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Eo&&Eo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Ise(),a)}(Eo)),Eo}var h8;function Fse(){if(h8)return an;h8=1;var a=an&&an.__createBinding||(Object.create?function(ne,Ie,ve,Re){Re===void 0&&(Re=ve);var ce=Object.getOwnPropertyDescriptor(Ie,ve);(!ce||("get"in ce?!Ie.__esModule:ce.writable||ce.configurable))&&(ce={enumerable:!0,get:function(){return Ie[ve]}}),Object.defineProperty(ne,Re,ce)}:function(ne,Ie,ve,Re){Re===void 0&&(Re=ve),ne[Re]=Ie[ve]}),t=an&&an.__setModuleDefault||(Object.create?function(ne,Ie){Object.defineProperty(ne,"default",{enumerable:!0,value:Ie})}:function(ne,Ie){ne.default=Ie}),o=an&&an.__importStar||function(ne){if(ne&&ne.__esModule)return ne;var Ie={};if(ne!=null)for(var ve in ne)ve!=="default"&&Object.prototype.hasOwnProperty.call(ne,ve)&&a(Ie,ne,ve);return t(Ie,ne),Ie},n=an&&an.__importDefault||function(ne){return ne&&ne.__esModule?ne:{default:ne}};Object.defineProperty(an,"__esModule",{value:!0}),an.toSparqlJs=an.toSparql=void 0;const r=Rse(),e=$t(),i=O0(),s=o(c0()),c=n(kO()),u=n(jI()),l=s.types,f=s.expressionTypes;let d;const h=new c.default;function p(ne,Ie={}){return new i.Generator(Ie).stringify(_(ne))}an.toSparql=p;function _(ne){g(),ne=me(ne);let Ie=y(ne);return Ie.type==="group"?Ie.patterns[0]:Ie}an.toSparqlJs=_;function g(){d={project:!1,extend:[],group:[],aggregates:[],order:[]}}function y(ne){switch(ne.type!==l.EXTEND&&ne.type!==l.ORDER_BY&&ne.type!==l.GRAPH&&(d.project=!1),ne.type){case l.EXPRESSION:return m(ne);case l.ASK:return xe(ne,l.ASK);case l.BGP:return C(ne);case l.CONSTRUCT:return X(ne);case l.DESCRIBE:return xe(ne,l.DESCRIBE);case l.DISTINCT:return z(ne);case l.EXTEND:return J(ne);case l.FROM:return ie(ne);case l.FILTER:return se(ne);case l.GRAPH:return ye(ne);case l.GROUP:return K(ne);case l.JOIN:return Te(ne);case l.LEFT_JOIN:return Ne(ne);case l.MINUS:return _e(ne);case l.NOP:return{};case l.ORDER_BY:return $(ne);case l.PATH:return He(ne);case l.PATTERN:return qe(ne);case l.PROJECT:return xe(ne,l.PROJECT);case l.REDUCED:return ee(ne);case l.SERVICE:return M(ne);case l.SLICE:return B(ne);case l.UNION:return R(ne);case l.VALUES:return q(ne);case l.COMPOSITE_UPDATE:return Ve(ne);case l.DELETE_INSERT:return ke(ne);case l.LOAD:return Ae(ne);case l.CLEAR:return A(ne);case l.CREATE:return E(ne);case l.DROP:return P(ne);case l.ADD:return N(ne);case l.MOVE:return S(ne);case l.COPY:return L(ne)}throw new Error(`Unknown Operation type ${ne.type}`)}function m(ne){switch(ne.expressionType){case f.AGGREGATE:return w(ne);case f.EXISTENCE:return O(ne);case f.NAMED:return F(ne);case f.OPERATOR:return Q(ne);case f.TERM:return j(ne);case f.WILDCARD:return x(ne)}throw new Error(`Unknown Expression Operation type ${ne.expressionType}`)}function b(ne){switch(ne.type){case l.ALT:return W(ne);case l.INV:return re(ne);case l.LINK:return Y(ne);case l.NPS:return ue(ne);case l.ONE_OR_MORE_PATH:return te(ne);case l.SEQ:return le(ne);case l.ZERO_OR_MORE_PATH:return Oe(ne);case l.ZERO_OR_ONE_PATH:return Se(ne)}throw new Error(`Unknown Path type ${ne.type}`)}function T(ne){return(0,e.termToString)(ne)}function w(ne){const Ie={expression:m(ne.expression),type:"aggregate",aggregation:ne.aggregator,distinct:ne.distinct};return ne.separator&&(Ie.separator=ne.separator),Ie}function O(ne){return{type:"operation",operator:ne.not?"notexists":"exists",args:[{type:"group",patterns:u.default.flatten([y(ne.input)])}]}}function F(ne){return{type:"functionCall",function:ne.name,args:ne.args.map(m)}}function Q(ne){if(ne.operator==="desc"){const ve={expression:m(ne.args[0])};return ve.descending=!0,ve}const Ie={type:"operation",operator:ne.operator,args:ne.args.map(m)};return(Ie.operator==="in"||Ie.operator==="notin")&&(Ie.args=[Ie.args[0]].concat([Ie.args.slice(1)])),Ie}function j(ne){return ne.term}function x(ne){return ne.wildcard}function I(ne){return Array.isArray(ne)?ne.length===1?ne[0]:{type:"group",patterns:ne}:ne}function D(ne){return ne}function C(ne){let Ie=ne.patterns.map(qe);return Ie.length===0?null:{type:"bgp",triples:Ie}}function X(ne){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:ne.template.map(qe),where:u.default.flatten([y(ne.input)])}}function z(ne){let Ie=y(ne.input);return Ie.patterns[0].distinct=!0,Ie}function J(ne){return d.project?(d.extend.push(ne),y(ne.input)):u.default.flatten([y(ne.input),{type:"bind",variable:ne.variable,expression:m(ne.expression)}])}function ie(ne){const Ie=y(ne.input);let ve=Ie;return Ie.type==="group"&&(ve=Ie.patterns[0]),ve.from={default:ne.default,named:ne.named},Ie}function se(ne){return{type:"group",patterns:u.default.flatten([y(ne.input),{type:"filter",expression:m(ne.expression)}])}}function ye(ne){return{type:"graph",patterns:u.default.flatten([y(ne.input)]),name:ne.name}}function K(ne){const Ie=y(ne.input),ve=ne.aggregates.map(D);return d.aggregates.push(...ve),d.group.push(...ne.variables),Ie}function Te(ne){return u.default.flatten(ne.input.map(y)).reduce((ve,Re)=>(Re.type!=="bgp"||ve.length==0||ve[ve.length-1].type!=="bgp"?ve.push(Re):ve[ve.length-1].triples.push(...Re.triples),ve),[])}function Ne(ne){const Ie={type:"optional",patterns:[y(ne.input[1])]};return ne.expression&&Ie.patterns.push({type:"filter",expression:m(ne.expression)}),Ie.patterns=u.default.flatten(Ie.patterns),u.default.flatten([y(ne.input[0]),Ie])}function _e(ne){let Ie=y(ne.input[1]);return Ie.type==="group"&&(Ie=Ie.patterns),Array.isArray(Ie)||(Ie=[Ie]),u.default.flatten([y(ne.input[0]),{type:"minus",patterns:Ie}])}function $(ne){return d.order.push(...ne.expressions),y(ne.input)}function He(ne){return{type:"bgp",triples:[{subject:ne.subject,predicate:b(ne.predicate),object:ne.object}]}}function qe(ne){return{subject:ne.subject,predicate:ne.predicate,object:ne.object}}function Ce(ne,Ie){let ve=u.default.isSimpleTerm(ne)?T(ne):ne;if(typeof ve=="string"){if(Ie[ve])return Ie[ve]}else if(Array.isArray(ne))ne=ne.map(Re=>Ce(Re,Ie));else for(let Re of Object.keys(ne))ne[Re]=Ce(ne[Re],Ie);return ne}function xe(ne,Ie){const ve={type:"query",prefixes:{}},Re=ve;let ce;Ie===l.PROJECT?(ve.queryType="SELECT",ce=ne.variables):Ie===l.ASK?ve.queryType="ASK":Ie===l.DESCRIBE&&(ve.queryType="DESCRIBE",ce=ne.terms);const Pe=d.extend,ze=d.group,Ue=d.aggregates,Ye=d.order;g(),d.project=!0;let fe=u.default.flatten([y(ne.input)]);fe.length===1&&fe[0].type==="group"&&(fe=fe[0].patterns),ve.where=fe;let H={};for(let oe of d.aggregates)H[T(oe.variable)]=m(oe);let V={};for(let oe=d.extend.length-1;oe>=0;--oe){let Fe=d.extend[oe];V[T(Fe.variable)]=Ce(m(Fe.expression),H)}d.group.length>0&&(Re.group=d.group.map(oe=>{let Fe=T(oe);if(V[Fe]){let Ee=V[Fe];return delete V[Fe],{variable:oe,expression:Ee}}return{expression:oe}})),d.order.length>0&&(Re.order=d.order.map(y).map(oe=>oe.descending?oe:{expression:oe})),ce&&(Re.variables=ce.map(oe=>{let Fe=T(oe);if(V[Fe]){let Ee=V[Fe];return delete V[Fe],{variable:oe,expression:Ee}}return oe}),Re.variables.length===0&&(Re.variables=[new i.Wildcard]));const G=Object.entries(V);if(G.length>0){Re.where=Re.where||[];for(const[oe,Fe]of G)Re.where.push({type:"bind",variable:(0,e.stringToTerm)(oe),expression:Fe})}if(ve.where.length>0&&ve.where[ve.where.length-1].type==="filter"){const oe=ve.where[ve.where.length-1];we(oe,Object.keys(H))&&(Re.having=u.default.flatten([Ce(oe.expression,H)]),ve.where.splice(-1))}return d.extend=Pe,d.group=ze,d.aggregates=Ue,d.order=Ye,{type:"group",patterns:[Re]}}function we(ne,Ie){return u.default.isSimpleTerm(ne)?Ie.indexOf(T(ne))>=0:Array.isArray(ne)?ne.some(ve=>we(ve,Ie)):ne===Object(ne)?Object.keys(ne).some(ve=>we(ne[ve],Ie)):Ie.indexOf(ne)>=0}function ee(ne){let Ie=y(ne.input);return Ie.patterns[0].reduced=!0,Ie}function M(ne){let Ie=y(ne.input);return Ie.type==="group"&&(Ie=Ie.patterns),Array.isArray(Ie)||(Ie=[Ie]),{type:"service",name:ne.name,silent:ne.silent,patterns:Ie}}function B(ne){let Ie=y(ne.input),ve=Ie;return Ie.type&&Ie.type==="group"&&(ve=Ie.patterns[0]),ne.start!==0&&(ve.offset=ne.start),ne.length!==void 0&&(ve.limit=ne.length),Ie}function R(ne){return{type:"union",patterns:ne.input.map(y).map(I)}}function q(ne){return{type:"values",values:ne.bindings.map(Ie=>{let ve={};for(let Re of ne.variables){let ce=`?${Re.value}`;Ie[ce]?ve[ce]=Ie[ce]:ve[ce]=void 0}return ve})}}function W(ne){const Ie=ne.input.map(b);return Ie.every(ve=>"pathType"in ve&&ve.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:u.default.flatten(Ie.map(ve=>ve.items))}]}:{type:"path",pathType:"|",items:Ie}}function re(ne){if(ne.path.type===l.NPS){const Ie=ne.path.iris.map(ve=>({type:"path",pathType:"^",items:[ve]}));return Ie.length<=1?{type:"path",pathType:"!",items:Ie}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:Ie}]}}return{type:"path",pathType:"^",items:[b(ne.path)]}}function Y(ne){return ne.iri}function ue(ne){return ne.iris.length<=1?{type:"path",pathType:"!",items:ne.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:ne.iris}]}}function te(ne){return{type:"path",pathType:"+",items:[b(ne.path)]}}function le(ne){return{type:"path",pathType:"/",items:ne.input.map(b)}}function Oe(ne){return{type:"path",pathType:"*",items:[b(ne.path)]}}function Se(ne){return{type:"path",pathType:"?",items:[b(ne.path)]}}function Ve(ne){const Ie=ne.updates.map(ve=>y(ve).updates[0]);return{prefixes:{},type:"update",updates:Ie}}function ke(ne){var Ie;let ve=ne.where,Re;if(ve&&ve.type===l.FROM){let Pe=ve;ve=Pe.input,Re={default:Pe.default,named:Pe.named}}const ce=[{updateType:"insertdelete",delete:Z(ne.delete||[]),insert:Z(ne.insert||[])}];if(Re&&(ce[0].using=Re),!ve||ve.type===l.BGP&&ve.patterns.length===0)ce[0].where=[];else{const Pe=[];let ze=y(pe(ve,Pe));if(ze.type==="group"?ce[0].where=ze.patterns:ce[0].where=[ze],Pe.length>0){if(Pe.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");((Ie=Pe[0])===null||Ie===void 0?void 0:Ie.value)!==""&&(ce[0].where=[{type:"graph",patterns:ce[0].where,name:Pe[0]}])}}return!ne.delete&&!ne.where?(ce[0].updateType="insert",delete ce[0].delete,delete ce[0].where):!ne.insert&&!ne.where?(delete ce[0].insert,delete ce[0].where,ne.delete.some(Pe=>Pe.subject.termType==="Variable"||Pe.predicate.termType==="Variable"||Pe.object.termType==="Variable")?ce[0].updateType="deletewhere":ce[0].updateType="delete"):!ne.insert&&ne.where&&ne.where.type==="bgp"&&(0,r.isomorphic)(ne.delete,ne.where.patterns)&&(delete ce[0].where,ce[0].updateType="deletewhere"),{prefixes:{},type:"update",updates:ce}}function Ae(ne){const Ie=[{type:"load",silent:!!ne.silent,source:ne.source}];return ne.destination&&(Ie[0].destination=ne.destination),{prefixes:{},type:"update",updates:Ie}}function A(ne){return k(ne,"clear")}function E(ne){return k(ne,"create")}function P(ne){return k(ne,"drop")}function k(ne,Ie){const ve=[{type:Ie,silent:!!ne.silent}];return ne.source==="DEFAULT"?ve[0].graph={default:!0}:ne.source==="NAMED"?ve[0].graph={named:!0}:ne.source==="ALL"?ve[0].graph={all:!0}:ve[0].graph={type:"graph",name:ne.source},{prefixes:{},type:"update",updates:ve}}function N(ne){return U(ne,"add")}function S(ne){return U(ne,"move")}function L(ne){return U(ne,"copy")}function U(ne,Ie){const ve=[{type:Ie,silent:!!ne.silent}];return ve[0].source=ne.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:ne.source},ve[0].destination=ne.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:ne.destination},{prefixes:{},type:"update",updates:ve}}function Z(ne){if(!ne)return[];const Ie={};return ne.forEach(ve=>{const Re=ve.graph.value;Ie[Re]||(Ie[Re]=[]),Ie[Re].push(ve)}),Object.keys(Ie).map(ve=>ve===""?{type:"bgp",triples:Ie[ve].map(qe)}:{type:"graph",triples:Ie[ve].map(qe),name:Ie[ve][0].graph})}function me(ne){return pe(ne,[])}function pe(ne,Ie){if(Array.isArray(ne))return ne.map(ze=>pe(ze,Ie));if(!ne.type||ne.type===l.DELETE_INSERT)return ne;if((ne.type===l.PATTERN||ne.type===l.PATH)&&ne.graph)return Ie.push(ne.graph),ne.graph.name!==""?ne.type===l.PATTERN?h.createPattern(ne.subject,ne.predicate,ne.object):h.createPath(ne.subject,ne.predicate,ne.object):ne;const ve={},Re={},ce={};for(let ze of Object.keys(ne)){const Ue=[];if(ve[ze]=pe(ne[ze],Ue),Ue.length>0){Re[ze]=Ue;for(const Ye of Ue)ce[Ye.value]=Ye}}const Pe=Object.keys(ce);if(Pe.length>0)if(Pe.length===1&&![l.PROJECT,l.SERVICE].includes(ne.type))Ie.push(ce[Pe[0]]);else{if(ne.type===l.BGP)return Xe(ne,Re.patterns);for(let ze of Object.keys(Re)){const Ue=ve[ze];Array.isArray(Ue)?ve[ze]=Ue.map((Ye,fe)=>Re[ze][0].value===""?Ye:h.createGraph(Ye,Re[ze][fe])):Re[ze][0].value!==""&&(ve[ze]=h.createGraph(Ue,Re[ze][0]))}}return ve}function Xe(ne,Ie){var ve;const Re={};for(let ze=0;ze<ne.patterns.length;++ze){const Ue=ne.patterns[ze],Ye=Ie[ze].value;Re[Ye]=(ve=Re[Ye])!==null&&ve!==void 0?ve:{patterns:[],graph:Ie[ze]},Re[Ye].patterns.push(Ue)}let ce=[];for(const[ze,{patterns:Ue,graph:Ye}]of Object.entries(Re)){const fe=h.createBgp(Ue);ce.push(ze===""?fe:h.createGraph(fe,Ye))}let Pe=ce[0];for(let ze=1;ze<ce.length;++ze)Pe=h.createJoin([Pe,ce[ze]]);return Pe}return an}var p8;function mt(){return p8||(p8=1,function(a){var t=Gn&&Gn.__createBinding||(Object.create?function(l,f,d,h){h===void 0&&(h=d);var p=Object.getOwnPropertyDescriptor(f,d);(!p||("get"in p?!f.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(l,h,p)}:function(l,f,d,h){h===void 0&&(h=d),l[h]=f[d]}),o=Gn&&Gn.__setModuleDefault||(Object.create?function(l,f){Object.defineProperty(l,"default",{enumerable:!0,value:f})}:function(l,f){l.default=f}),n=Gn&&Gn.__importStar||function(l){if(l&&l.__esModule)return l;var f={};if(l!=null)for(var d in l)d!=="default"&&Object.prototype.hasOwnProperty.call(l,d)&&t(f,l,d);return o(f,l),f},r=Gn&&Gn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(a,"__esModule",{value:!0}),a.Util=a.toSparqlJs=a.toSparql=a.Factory=a.Algebra=a.translate=void 0;const e=r(vse());a.translate=e.default;const i=n(c0());a.Algebra=i;const s=r(kO());a.Factory=s.default;const c=Fse();Object.defineProperty(a,"toSparql",{enumerable:!0,get:function(){return c.toSparql}}),Object.defineProperty(a,"toSparqlJs",{enumerable:!0,get:function(){return c.toSparqlJs}});const u=r(jI());a.Util=u.default}(Gn)),Gn}var Io={},j0={},y8;function Nse(){if(y8)return j0;y8=1,Object.defineProperty(j0,"__esModule",{value:!0}),j0.asTermType=void 0;function a(t){if(t==="namedNode"||t==="literal"||t==="blankNode"||t==="quad")return t}return j0.asTermType=a,j0}var M0={},b8;function Dse(){if(b8)return M0;b8=1,Object.defineProperty(M0,"__esModule",{value:!0}),M0.Variable=void 0;const a=fa();class t{constructor(n){this.expressionType=a.ExpressionType.Variable,this.name=n}}return M0.Variable=t,M0}var gt={},zn={},Ro={},q0={},_8;function m8(){if(_8)return q0;_8=1,Object.defineProperty(q0,"__esModule",{value:!0}),q0.BlankNode=void 0;class a{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}}return q0.BlankNode=a,q0}var C0={},B0={},g8;function v8(){if(g8)return B0;g8=1,Object.defineProperty(B0,"__esModule",{value:!0}),B0.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}return B0.DefaultGraph=a,a.INSTANCE=new a,B0}var $0={},U0={},T8;function zI(){if(T8)return U0;T8=1,Object.defineProperty(U0,"__esModule",{value:!0}),U0.NamedNode=void 0;class a{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}}return U0.NamedNode=a,U0}var w8;function S8(){if(w8)return $0;w8=1,Object.defineProperty($0,"__esModule",{value:!0}),$0.Literal=void 0;const a=zI();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return $0.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),$0}var V0={},O8;function A8(){if(O8)return V0;O8=1,Object.defineProperty(V0,"__esModule",{value:!0}),V0.Quad=void 0;class a{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}}return V0.Quad=a,V0}var Q0={},E8;function x8(){if(E8)return Q0;E8=1,Object.defineProperty(Q0,"__esModule",{value:!0}),Q0.Variable=void 0;class a{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}}return Q0.Variable=a,Q0}var I8;function Pse(){if(I8)return C0;I8=1,Object.defineProperty(C0,"__esModule",{value:!0}),C0.DataFactory=void 0;const a=m8(),t=v8(),o=S8(),n=zI(),r=A8(),e=x8();let i=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return C0.DataFactory=s,C0}var R8;function Lse(){return R8||(R8=1,function(a){var t=Ro&&Ro.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ro&&Ro.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(m8(),a),o(Pse(),a),o(v8(),a),o(S8(),a),o(zI(),a),o(A8(),a),o(x8(),a)}(Ro)),Ro}var F8;function Fo(){if(F8)return zn;F8=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.SparqlOperator=zn.TypeURL=zn.typedLiteral=zn.TypeAlias=void 0;const a=Lse();var t;(function(i){i.SPARQL_NUMERIC="SPARQL_NUMERIC",i.SPARQL_STRINGLY="SPARQL_STRINGLY"})(t||(zn.TypeAlias=t={}));const o=new a.DataFactory;function n(i,s){return o.literal(i,o.namedNode(s))}zn.typedLiteral=n;var r;(function(i){i.XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",i.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",i.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",i.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",i.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",i.XSD_DATE_TIME_STAMP="http://www.w3.org/2001/XMLSchema#dateTimeStamp",i.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",i.XSD_G_MONTH="http://www.w3.org/2001/XMLSchema#gMonth",i.XSD_G_MONTHDAY="http://www.w3.org/2001/XMLSchema#gMonthDay",i.XSD_G_YEAR="http://www.w3.org/2001/XMLSchema#gYear",i.XSD_G_YEAR_MONTH="http://www.w3.org/2001/XMLSchema#gYearMonth",i.XSD_TIME="http://www.w3.org/2001/XMLSchema#time",i.XSD_G_DAY="http://www.w3.org/2001/XMLSchema#gDay",i.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",i.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",i.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",i.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",i.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",i.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",i.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",i.XSD_INT="http://www.w3.org/2001/XMLSchema#int",i.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",i.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",i.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",i.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",i.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",i.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",i.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",i.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",i.XSD_NORMALIZED_STRING="http://www.w3.org/2001/XMLSchema#normalizedString",i.XSD_TOKEN="http://www.w3.org/2001/XMLSchema#token",i.XSD_LANGUAGE="http://www.w3.org/2001/XMLSchema#language",i.XSD_NM_TOKEN="http://www.w3.org/2001/XMLSchema#NMTOKEN",i.XSD_NAME="http://www.w3.org/2001/XMLSchema#name",i.XSD_NC_NAME="http://www.w3.org/2001/XMLSchema#NCName",i.XSD_ENTITY="http://www.w3.org/2001/XMLSchema#ENTITY",i.XSD_ID="http://www.w3.org/2001/XMLSchema#ID",i.XSD_ID_REF="http://www.w3.org/2001/XMLSchema#IDREF",i.XSD_DURATION="http://www.w3.org/2001/XMLSchema#duration",i.XSD_YEAR_MONTH_DURATION="http://www.w3.org/2001/XMLSchema#yearMonthDuration",i.XSD_DAY_TIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration"})(r||(zn.TypeURL=r={}));var e;return function(i){i.NOT="!",i.UMINUS="uminus",i.UPLUS="uplus",i.LOGICAL_OR="||",i.LOGICAL_AND="&&",i.EQUAL="=",i.NOT_EQUAL="!=",i.LT="<",i.GT=">",i.LTE="<=",i.GTE=">=",i.SAME_TERM="sameterm",i.IN="in",i.NOT_IN="notin",i.MULTIPLICATION="*",i.DIVISION="/",i.ADDITION="+",i.SUBTRACTION="-",i.IS_IRI="isiri",i.IS_URI="isuri",i.IS_BLANK="isblank",i.IS_LITERAL="isliteral",i.IS_NUMERIC="isnumeric",i.STR="str",i.LANG="lang",i.DATATYPE="datatype",i.IRI="iri",i.URI="uri",i.BNODE="bnode",i.STRDT="strdt",i.STRLANG="strlang",i.UUID="uuid",i.STRUUID="struuid",i.STRLEN="strlen",i.SUBSTR="substr",i.UCASE="ucase",i.LCASE="lcase",i.STRSTARTS="strstarts",i.STRENDS="strends",i.CONTAINS="contains",i.STRBEFORE="strbefore",i.STRAFTER="strafter",i.ENCODE_FOR_URI="encode_for_uri",i.CONCAT="concat",i.LANG_MATCHES="langmatches",i.REGEX="regex",i.REPLACE="replace",i.ABS="abs",i.ROUND="round",i.CEIL="ceil",i.FLOOR="floor",i.RAND="rand",i.NOW="now",i.YEAR="year",i.MONTH="month",i.DAY="day",i.HOURS="hours",i.MINUTES="minutes",i.SECONDS="seconds",i.TIMEZONE="timezone",i.TZ="tz",i.MD5="md5",i.SHA1="sha1",i.SHA256="sha256",i.SHA384="sha384",i.SHA512="sha512",i.TRIPLE="triple",i.SUBJECT="subject",i.PREDICATE="predicate",i.OBJECT="object",i.IS_TRIPLE="istriple",i.BOUND="bound",i.IF="if",i.COALESCE="coalesce"}(e||(zn.SparqlOperator=e={})),zn}var St={},N8;function Sh(){if(N8)return St;N8=1,Object.defineProperty(St,"__esModule",{value:!0}),St.NoAggregator=St.ExtensionFunctionError=St.InvalidExpression=St.InvalidArity=St.UnexpectedError=St.ParseError=St.EmptyAggregateError=St.IncompatibleLanguageOperation=St.InvalidTimezoneCall=St.CastError=St.InvalidArgumentTypes=St.InError=St.CoalesceError=St.RDFEqualTypeError=St.EBVCoercionError=St.UnboundVariableError=St.InvalidLexicalForm=St.isExpressionError=St.ExpressionError=void 0;class a extends Error{}St.ExpressionError=a;function t(T){return T instanceof a}St.isExpressionError=t;class o extends a{constructor(w){super(`Invalid lexical form '${b(w)}'`),this.arg=w}}St.InvalidLexicalForm=o;class n extends a{constructor(w,O){super(`Unbound variable '${b(w)}'`),this.variable=w,this.bindings=O}}St.UnboundVariableError=n;class r extends a{constructor(w){super(`Cannot coerce term to EBV '${b(w)}'`),this.arg=w}}St.EBVCoercionError=r;class e extends a{constructor(w){super("Equality test for literals with unsupported datatypes"),this.args=w}}St.RDFEqualTypeError=e;class i extends a{constructor(w){super("All COALESCE arguments threw errors"),this.errors=w}}St.CoalesceError=i;class s extends a{constructor(w){super(`Some argument to IN errorred and none where equal. ${w.map(O=>`(${O.toString()}) `).join("and ")}`),this.errors=w}}St.InError=s;class c extends a{constructor(w,O){super(`Argument types not valid for operator: '${b(O)}' with '${b(w)}`),this.args=w,this.op=O}}St.InvalidArgumentTypes=c;class u extends a{constructor(w,O){super(`Invalid cast: '${b(w)}' to '${b(O)}'`),this.arg=w}}St.CastError=u;class l extends a{constructor(w){super(`TIMEZONE call on ${w} which has no timezone`),this.dateString=w}}St.InvalidTimezoneCall=l;class f extends a{constructor(w,O){super(`Operation on incompatible language literals '${b(w)}' and '${b(O)}'`),this.arg1=w,this.arg2=O}}St.IncompatibleLanguageOperation=f;class d extends a{constructor(){super("Empty aggregate expression")}}St.EmptyAggregateError=d;class h extends a{constructor(w,O){super(`Failed to parse "${w}" as ${O}.`)}}St.ParseError=h;class p extends Error{constructor(w,O){super(`Programmer Error '${w}'`),this.payload=O}}St.UnexpectedError=p;class _ extends Error{constructor(w,O){super(`The number of args does not match the arity of the operator '${b(O)}'.`),this.args=w,this.op=O}}St.InvalidArity=_;class g extends Error{constructor(w){super(`Invalid SPARQL Expression '${b(w)}'`)}}St.InvalidExpression=g;class y extends Error{constructor(w,O){O instanceof Error?super(`Error thrown in ${w}: ${O.message}${O.stack?`
${O.stack}`:""}`):super(`Error thrown in ${w}`)}}St.ExtensionFunctionError=y;class m extends Error{constructor(w){super(`Aggregate expression ${b(w)} found, but no aggregate hook provided.`)}}St.NoAggregator=m;function b(T){return JSON.stringify(T)}return St}var kn={},D8;function jse(){if(D8)return kn;D8=1,Object.defineProperty(kn,"__esModule",{value:!0}),kn.serializeDuration=kn.serializeTime=kn.serializeDate=kn.serializeDateTime=void 0;function a(i,s=2){return i.toLocaleString(void 0,{minimumIntegerDigits:s,useGrouping:!1})}function t(i){return`${n({year:i.year,month:i.month,day:i.day})}T${r(i)}`}kn.serializeDateTime=t;function o(i){return i.zoneHours===void 0||i.zoneMinutes===void 0?"":i.zoneHours===0&&i.zoneMinutes===0?"Z":`${i.zoneHours>=0?`+${a(i.zoneHours)}`:a(i.zoneHours)}:${a(Math.abs(i.zoneMinutes))}`}function n(i){return`${a(i.year,4)}-${a(i.month)}-${a(i.day)}${o(i)}`}kn.serializeDate=n;function r(i){return`${a(i.hours)}:${a(i.minutes)}:${a(i.seconds)}${o(i)}`}kn.serializeTime=r;function e(i,s="PT0S"){if(!Object.values(i).some(g=>(g||0)!==0))return s;const c=Object.values(i).some(g=>(g||0)<0)?"-":"",u=i.year?`${Math.abs(i.year)}Y`:"",l=i.month?`${Math.abs(i.month)}M`:"",f=i.day?`${Math.abs(i.day)}D`:"",d=`${c}P${u}${l}${f}`;if(!(i.hours||i.minutes||i.seconds))return d;const h=i.hours?`${Math.abs(i.hours)}H`:"",p=i.minutes?`${Math.abs(i.minutes)}M`:"",_=i.seconds?`${Math.abs(i.seconds)}S`:"";return`${d}T${h}${p}${_}`}return kn.serializeDuration=e,kn}var kI={},Zt={},H0={},P8;function L8(){if(P8)return H0;P8=1,Object.defineProperty(H0,"__esModule",{value:!0}),H0.OverloadTree=void 0;const a=Oh(),t=WO();let o=class CD{constructor(r,e){this.identifier=r,this.implementation=void 0,this.generalOverloads=Object.create(null),this.literalOverLoads=[],this.depth=e??0,this.promotionCount=void 0}getSubtree(r){const e=(0,t.asGeneralType)(r);if(e)return this.generalOverloads[e];for(const[i,s]of this.literalOverLoads)if(r===i)return s}getImplementationExact(r){let e=this;for(const i of r)if(e=e.getSubtree(i),!e)return;return e.implementation}search(r,e,i){let s=i[this.identifier],c=0;for(;c<r.length&&(s!=null&&s.cache);){const f=r[c],d=(0,a.isLiteralTermExpression)(f);s=s.cache[d?d.dataType:f.termType],c++}if(c===r.length&&(s!=null&&s.func))return s.func;const u=[],l=0;if(r.length===0)return this.implementation;for(u.push(...this.getSubTreeWithArg(r[l],e).map(f=>({node:f,index:l+1})));u.length>0;){const{index:f,node:d}=u.pop();if(f===r.length&&d.implementation)return this.addToCache(i,r,d.implementation),d.implementation;u.push(...d.getSubTreeWithArg(r[f],e).map(h=>({node:h,index:f+1})))}}addToCache(r,e,i){function s(u,l){return l in u||(u[l]={}),u[l]}let c=s(r,this.identifier);for(const u of e){const l=(0,a.isLiteralTermExpression)(u),f=l?l.dataType:u.termType;c.cache=c.cache??{},c=s(c.cache,f)}c.func=i}addOverload(r,e){this._addOverload([...r],e,0)}_addOverload(r,e,i){const[s,...c]=r;if(!s){(this.promotionCount===void 0||i<=this.promotionCount)&&(this.promotionCount=i,this.implementation=e);return}let u=this.getSubtree(s);if(!u){const l=new CD(this.identifier,this.depth+1),f=(0,t.asGeneralType)(s);f&&(this.generalOverloads[f]=l);const d=(0,t.asOverrideType)(s);d&&this.literalOverLoads.push([d,l]),u=l}if(u._addOverload(c,e,i),t.typePromotion[s])for(const l of t.typePromotion[s])this.addPromotedOverload(l.typeToPromote,e,l.conversionFunction,c,i)}addPromotedOverload(r,e,i,s,c){let u=this.getSubtree(r);if(!u){const l=new CD(this.identifier,this.depth+1);this.literalOverLoads.push([r,l]),u=l}u._addOverload(s,l=>f=>e(l)([...f.slice(0,this.depth),i(f[this.depth]),...f.slice(this.depth+1,f.length)]),c+1)}getSubTreeWithArg(r,e){const i=[],s=(0,a.isLiteralTermExpression)(r);if(this.generalOverloads.term&&i.push(this.generalOverloads.term),this.generalOverloads[r.termType]&&i.push(this.generalOverloads[r.termType]),s){const c=(0,t.asKnownLiteralType)(s.dataType);let u;c?u=t.superTypeDictTable[c]:u=(0,t.getSuperTypes)(s.dataType,e);const l=this.literalOverLoads.filter(([f,d])=>f in u).map(([f,d])=>[u[f],d]);l.sort(([f,d],[h,p])=>f-h),i.push(...l.map(([f,d])=>d))}return i}};return H0.OverloadTree=o,H0}var j8;function M8(){if(j8)return Zt;j8=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.expressionToVar=Zt.dateTime=Zt.langString=Zt.string=Zt.double=Zt.float=Zt.decimal=Zt.integer=Zt.bool=Zt.Builder=Zt.declare=void 0;const a=tt(),t=Oh(),o=Oh(),n=Fo(),r=Fo(),e=Sh(),i=L8();function s(m){return new c(m)}Zt.declare=s;class c{constructor(b){this.overloadTree=new i.OverloadTree(b),this.collected=!1}collect(){if(this.collected)throw new Error("Builders can only be collected once!");return this.collected=!0,this.overloadTree}static wrapInvalidLexicalProtected(b){return T=>w=>{for(const[O,F]of w.entries())if(F instanceof o.NonLexicalLiteral)throw new e.InvalidLexicalForm(w[O].toRDF(T.context.getSafe(a.KeysInitQuery.dataFactory)));return b(T)(w)}}set(b,T,w=!0){return this.overloadTree.addOverload(b,w?c.wrapInvalidLexicalProtected(T):T),this}copy({from:b,to:T}){const w=this.overloadTree.getImplementationExact(b);if(!w)throw new e.UnexpectedError("Tried to copy implementation, but types not found",{from:b,to:T});return this.set(T,w)}onUnary(b,T,w=!0){return this.set([b],O=>([F])=>T(O)(F),w)}onUnaryTyped(b,T,w=!0){return this.set([b],O=>([F])=>T(O)(F.typedValue),w)}onBinary(b,T,w=!0){return this.set(b,O=>([F,Q])=>T(O)(F,Q),w)}onBinaryTyped(b,T,w=!0){return this.set(b,O=>([F,Q])=>T(O)(F.typedValue,Q.typedValue),w)}onTernaryTyped(b,T,w=!0){return this.set(b,O=>([F,Q,j])=>T(O)(F.typedValue,Q.typedValue,j.typedValue),w)}onTernary(b,T,w=!0){return this.set(b,O=>([F,Q,j])=>T(O)(F,Q,j),w)}onQuaternaryTyped(b,T,w=!0){return this.set(b,O=>([F,Q,j,x])=>T(O)(F.typedValue,Q.typedValue,j.typedValue,x.typedValue),w)}onTerm1(b,T=!1){return this.set(["term"],w=>([O])=>b(w)(O),T)}onTerm3(b){return this.set(["term","term","term"],T=>([w,O,F])=>b(T)(w,O,F))}onQuad1(b){return this.set(["quad"],T=>([w])=>b(T)(w))}onLiteral1(b,T=!0){return this.set(["literal"],w=>([O])=>b(w)(O),T)}onBoolean1(b,T=!0){return this.set([n.TypeURL.XSD_BOOLEAN],w=>([O])=>b(w)(O),T)}onBoolean1Typed(b,T=!0){return this.set([n.TypeURL.XSD_BOOLEAN],w=>([O])=>b(w)(O.typedValue),T)}onString1(b,T=!0){return this.set([n.TypeURL.XSD_STRING],w=>([O])=>b(w)(O),T)}onString1Typed(b,T=!0){return this.set([n.TypeURL.XSD_STRING],w=>([O])=>b(w)(O.typedValue),T)}onLangString1(b,T=!0){return this.set([n.TypeURL.RDF_LANG_STRING],w=>([O])=>b(w)(O),T)}onStringly1(b,T=!0){return this.set([n.TypeAlias.SPARQL_STRINGLY],w=>([O])=>b(w)(O),T)}onStringly1Typed(b,T=!0){return this.set([n.TypeAlias.SPARQL_STRINGLY],w=>([O])=>b(w)(O.typedValue),T)}onNumeric1(b,T=!0){return this.set([n.TypeAlias.SPARQL_NUMERIC],w=>([O])=>b(w)(O),T)}onDateTime1(b,T=!0){return this.set([n.TypeURL.XSD_DATE_TIME],w=>([O])=>b(w)(O),T)}numericConverter(b,T=!0){const w=O=>F=>b(O)(F.typedValue);return this.onUnary(r.TypeURL.XSD_INTEGER,O=>F=>l(w(O)(F)),T).onUnary(r.TypeURL.XSD_DECIMAL,O=>F=>f(w(O)(F)),T).onUnary(r.TypeURL.XSD_FLOAT,O=>F=>d(w(O)(F)),T).onUnary(r.TypeURL.XSD_DOUBLE,O=>F=>h(w(O)(F)),T)}arithmetic(b,T=!0){const w=O=>(F,Q)=>b(O)(F.typedValue,Q.typedValue);return this.onBinary([r.TypeURL.XSD_INTEGER,r.TypeURL.XSD_INTEGER],O=>(F,Q)=>l(w(O)(F,Q)),T).onBinary([r.TypeURL.XSD_DECIMAL,r.TypeURL.XSD_DECIMAL],O=>(F,Q)=>f(w(O)(F,Q)),T).onBinary([r.TypeURL.XSD_FLOAT,r.TypeURL.XSD_FLOAT],O=>(F,Q)=>d(w(O)(F,Q)),T).onBinary([r.TypeURL.XSD_DOUBLE,r.TypeURL.XSD_DOUBLE],O=>(F,Q)=>h(w(O)(F,Q)),T)}numberTest(b){return this.numeric(T=>([w,O])=>{const F=b(T)(w.typedValue,O.typedValue);return u(F)})}stringTest(b,T=!0){return this.set([n.TypeURL.XSD_STRING,n.TypeURL.XSD_STRING],w=>([O,F])=>{const Q=b(w)(O.typedValue,F.typedValue);return u(Q)},T)}booleanTest(b,T=!0){return this.set([n.TypeURL.XSD_BOOLEAN,n.TypeURL.XSD_BOOLEAN],w=>([O,F])=>{const Q=b(w)(O.typedValue,F.typedValue);return u(Q)},T)}dateTimeTest(b,T=!0){return this.set([n.TypeURL.XSD_DATE_TIME,n.TypeURL.XSD_DATE_TIME],w=>([O,F])=>{const Q=b(w)(O.typedValue,F.typedValue);return u(Q)},T)}numeric(b){return this.set([n.TypeAlias.SPARQL_NUMERIC,n.TypeAlias.SPARQL_NUMERIC],b)}}Zt.Builder=c;function u(m){return new t.BooleanLiteral(m)}Zt.bool=u;function l(m){return new t.IntegerLiteral(m)}Zt.integer=l;function f(m){return new t.DecimalLiteral(m)}Zt.decimal=f;function d(m){return new t.FloatLiteral(m)}Zt.float=d;function h(m){return new t.DoubleLiteral(m)}Zt.double=h;function p(m){return new t.StringLiteral(m)}Zt.string=p;function _(m,b){return new t.LangStringLiteral(m,b)}Zt.langString=_;function g(m,b){return new t.DateTimeLiteral(m,b)}Zt.dateTime=g;function y(m,b){return m.variable(b.name.slice(1))}return Zt.expressionToVar=y,Zt}var q8;function WO(){return q8||(q8=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.typePromotion=a.isSubTypeOf=a.getSuperTypeDict=a.isInternalSubType=a.asGeneralType=a.asOverrideType=a.asKnownLiteralType=a.asTypeAlias=a.typeAliasCheck=a.extensionTableInit=a.getSuperTypes=a.superTypeDictTable=a.extensionTableInput=void 0;const t=Oh(),o=M8(),n=Fo();a.extensionTableInput={[n.TypeURL.XSD_DATE_TIME_STAMP]:n.TypeURL.XSD_DATE_TIME,[n.TypeURL.XSD_DAY_TIME_DURATION]:n.TypeURL.XSD_DURATION,[n.TypeURL.XSD_YEAR_MONTH_DURATION]:n.TypeURL.XSD_DURATION,[n.TypeURL.RDF_LANG_STRING]:n.TypeAlias.SPARQL_STRINGLY,[n.TypeURL.XSD_STRING]:n.TypeAlias.SPARQL_STRINGLY,[n.TypeURL.XSD_NORMALIZED_STRING]:n.TypeURL.XSD_STRING,[n.TypeURL.XSD_TOKEN]:n.TypeURL.XSD_NORMALIZED_STRING,[n.TypeURL.XSD_LANGUAGE]:n.TypeURL.XSD_TOKEN,[n.TypeURL.XSD_NM_TOKEN]:n.TypeURL.XSD_TOKEN,[n.TypeURL.XSD_NAME]:n.TypeURL.XSD_TOKEN,[n.TypeURL.XSD_NC_NAME]:n.TypeURL.XSD_NAME,[n.TypeURL.XSD_ENTITY]:n.TypeURL.XSD_NC_NAME,[n.TypeURL.XSD_ID]:n.TypeURL.XSD_NC_NAME,[n.TypeURL.XSD_ID_REF]:n.TypeURL.XSD_NC_NAME,[n.TypeURL.XSD_DOUBLE]:n.TypeAlias.SPARQL_NUMERIC,[n.TypeURL.XSD_FLOAT]:n.TypeAlias.SPARQL_NUMERIC,[n.TypeURL.XSD_DECIMAL]:n.TypeAlias.SPARQL_NUMERIC,[n.TypeURL.XSD_INTEGER]:n.TypeURL.XSD_DECIMAL,[n.TypeURL.XSD_NON_POSITIVE_INTEGER]:n.TypeURL.XSD_INTEGER,[n.TypeURL.XSD_NEGATIVE_INTEGER]:n.TypeURL.XSD_NON_POSITIVE_INTEGER,[n.TypeURL.XSD_LONG]:n.TypeURL.XSD_INTEGER,[n.TypeURL.XSD_INT]:n.TypeURL.XSD_LONG,[n.TypeURL.XSD_SHORT]:n.TypeURL.XSD_INT,[n.TypeURL.XSD_BYTE]:n.TypeURL.XSD_SHORT,[n.TypeURL.XSD_NON_NEGATIVE_INTEGER]:n.TypeURL.XSD_INTEGER,[n.TypeURL.XSD_POSITIVE_INTEGER]:n.TypeURL.XSD_NON_NEGATIVE_INTEGER,[n.TypeURL.XSD_UNSIGNED_LONG]:n.TypeURL.XSD_NON_NEGATIVE_INTEGER,[n.TypeURL.XSD_UNSIGNED_INT]:n.TypeURL.XSD_UNSIGNED_LONG,[n.TypeURL.XSD_UNSIGNED_SHORT]:n.TypeURL.XSD_UNSIGNED_INT,[n.TypeURL.XSD_UNSIGNED_BYTE]:n.TypeURL.XSD_UNSIGNED_SHORT,[n.TypeURL.XSD_DATE_TIME]:"term",[n.TypeURL.XSD_BOOLEAN]:"term",[n.TypeURL.XSD_DATE]:"term",[n.TypeURL.XSD_G_MONTH]:"term",[n.TypeURL.XSD_G_MONTHDAY]:"term",[n.TypeURL.XSD_G_YEAR]:"term",[n.TypeURL.XSD_G_YEAR_MONTH]:"term",[n.TypeURL.XSD_TIME]:"term",[n.TypeURL.XSD_G_DAY]:"term",[n.TypeURL.XSD_DURATION]:"term",[n.TypeAlias.SPARQL_NUMERIC]:"term",[n.TypeAlias.SPARQL_STRINGLY]:"term",[n.TypeURL.XSD_ANY_URI]:"term"},a.superTypeDictTable=Object.create(null);function r(_,g){const y=g.cache.get(_);if(y)return y;const m=g.discoverer(_);if(m==="term"){const w=Object.create(null);return w.__depth=0,w[_]=0,g.cache.set(_,w),w}let b;const T=u(m);return T?b={...a.superTypeDictTable[T]}:b={...r(m,g)},b.__depth++,b[_]=b.__depth,g.cache.set(_,b),b}a.getSuperTypes=r;function e(){for(const[_,g]of Object.entries(a.extensionTableInput)){const y=_;a.superTypeDictTable[y]||i(y,g,a.superTypeDictTable)}}a.extensionTableInit=e,e();function i(_,g,y){if(g==="term"||g===void 0){const m=Object.create(null);m.__depth=0,m[_]=0,y[_]=m;return}y[g]||i(g,a.extensionTableInput[g],y),y[_]={...y[g],[_]:y[g].__depth+1,__depth:y[g].__depth+1}}a.typeAliasCheck=Object.create(null);function s(){for(const _ of Object.values(n.TypeAlias))a.typeAliasCheck[_]=!0}s();function c(_){if(_ in a.typeAliasCheck)return _}a.asTypeAlias=c;function u(_){if(_ in a.superTypeDictTable)return _}a.asKnownLiteralType=u;function l(_){if(u(_)??_==="term")return _}a.asOverrideType=l;function f(_){if(_==="term"||(0,t.asTermType)(_))return _}a.asGeneralType=f;function d(_,g){return _!=="term"&&a.superTypeDictTable[_]&&a.superTypeDictTable[_][g]!==void 0}a.isInternalSubType=d;function h(_,g){const y=u(_);return y?a.superTypeDictTable[y]:r(_,g)}a.getSuperTypeDict=h;function p(_,g,y){return _==="term"?!1:h(_,y)[g]!==void 0}a.isSubTypeOf=p,a.typePromotion={[n.TypeURL.XSD_STRING]:[{typeToPromote:n.TypeURL.XSD_ANY_URI,conversionFunction:_=>(0,o.string)(_.str())}],[n.TypeURL.XSD_DOUBLE]:[{typeToPromote:n.TypeURL.XSD_FLOAT,conversionFunction:_=>(0,o.double)(_.typedValue)},{typeToPromote:n.TypeURL.XSD_DECIMAL,conversionFunction:_=>(0,o.double)(_.typedValue)}],[n.TypeURL.XSD_FLOAT]:[{typeToPromote:n.TypeURL.XSD_DECIMAL,conversionFunction:_=>(0,o.float)(_.typedValue)}]}}(kI)),kI}var C8;function Mse(){if(C8)return gt;C8=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.isNonLexicalLiteral=gt.NonLexicalLiteral=gt.YearMonthDurationLiteral=gt.DayTimeDurationLiteral=gt.DurationLiteral=gt.DateLiteral=gt.TimeLiteral=gt.DateTimeLiteral=gt.StringLiteral=gt.LangStringLiteral=gt.BooleanLiteral=gt.DoubleLiteral=gt.FloatLiteral=gt.DecimalLiteral=gt.IntegerLiteral=gt.NumericLiteral=gt.Literal=gt.isLiteralTermExpression=gt.DefaultGraph=gt.Quad=gt.BlankNode=gt.NamedNode=gt.Term=void 0;const a=fa(),t=Fo(),o=Fo(),n=Sh(),r=jse(),e=WO();class i{constructor(){this.expressionType=a.ExpressionType.Term}str(){throw new n.InvalidArgumentTypes([this],t.SparqlOperator.STR)}coerceEBV(){throw new n.EBVCoercionError(this)}}gt.Term=i;class s extends i{constructor(X){super(),this.value=X,this.termType="namedNode"}toRDF(X){return X.namedNode(this.value)}str(){return this.value}}gt.NamedNode=s;class c extends i{constructor(X){super(),this.termType="blankNode",this.value=X}toRDF(X){return typeof this.value=="string"?X.blankNode(this.value):this.value}}gt.BlankNode=c;class u extends i{constructor(X,z,J,ie){super(),this.subject=X,this.predicate=z,this.object=J,this.graph=ie,this.termType="quad"}toRDF(X){return X.quad(this.subject.toRDF(X),this.predicate.toRDF(X),this.object.toRDF(X),this.graph.toRDF(X))}str(){return`Quad: [${this.subject.str()}, ${this.predicate.str()}, ${this.object.str()}, ${this.graph.str()}]`}}gt.Quad=u;class l extends i{constructor(){super(),this.termType="defaultGraph"}toRDF(X){return X.defaultGraph()}str(){return"DefaultGraph"}}gt.DefaultGraph=l;function f(C){if(C.termType==="literal")return C}gt.isLiteralTermExpression=f;class d extends i{constructor(X,z,J,ie){super(),this.typedValue=X,this.dataType=z,this.strValue=J,this.language=ie,this.termType="literal"}toRDF(X){return X.literal(this.strValue??this.str(),this.language??X.namedNode(this.dataType))}str(){return this.strValue??this.typedValue.toString()}}gt.Literal=d;class h extends d{constructor(X,z,J,ie){super(X,z,J,ie),this.typedValue=X,this.strValue=J,this.language=ie}coerceEBV(){return!!this.typedValue}toRDF(X){const z=super.toRDF(X);return Number.isFinite(this.typedValue)||(z.value=z.value.replace("Infinity","INF")),z}str(){return this.strValue??this.specificFormatter(this.typedValue)}}gt.NumericLiteral=h;class p extends h{constructor(X,z,J,ie){super(X,z??o.TypeURL.XSD_INTEGER,J,ie),this.typedValue=X,this.strValue=J,this.language=ie}specificFormatter(X){return X.toFixed(0)}}gt.IntegerLiteral=p;class _ extends h{constructor(X,z,J,ie){super(X,z??o.TypeURL.XSD_DECIMAL,J,ie),this.typedValue=X,this.strValue=J,this.language=ie}specificFormatter(X){return X.toString()}}gt.DecimalLiteral=_;class g extends h{constructor(X,z,J,ie){super(X,z??o.TypeURL.XSD_FLOAT,J,ie),this.typedValue=X,this.strValue=J,this.language=ie}specificFormatter(X){return X.toString()}}gt.FloatLiteral=g;class y extends h{constructor(X,z,J,ie){super(X,z??o.TypeURL.XSD_DOUBLE,J,ie),this.typedValue=X,this.strValue=J,this.language=ie}specificFormatter(X){if(!Number.isFinite(X))return X>0?"INF":X<0?"-INF":"NaN";const z=X.toExponential(),[J,ie]=z.split("e"),se=ie.replace(/\+/u,"");return`${J.includes(".")?J:`${J}.0`}E${se}`}}gt.DoubleLiteral=y;class m extends d{constructor(X,z,J){super(X,J??o.TypeURL.XSD_BOOLEAN,z),this.typedValue=X,this.strValue=z}coerceEBV(){return this.typedValue}}gt.BooleanLiteral=m;class b extends d{constructor(X,z,J){super(X,J??o.TypeURL.RDF_LANG_STRING,X,z),this.typedValue=X,this.language=z}coerceEBV(){return this.str().length>0}}gt.LangStringLiteral=b;class T extends d{constructor(X,z){super(X,z??o.TypeURL.XSD_STRING,X),this.typedValue=X}coerceEBV(){return this.str().length>0}}gt.StringLiteral=T;class w extends d{constructor(X,z,J){super(X,J??o.TypeURL.XSD_DATE_TIME,z),this.typedValue=X,this.strValue=z}str(){return(0,r.serializeDateTime)(this.typedValue)}}gt.DateTimeLiteral=w;class O extends d{constructor(X,z,J){super(X,J??o.TypeURL.XSD_TIME,z),this.typedValue=X,this.strValue=z}str(){return(0,r.serializeTime)(this.typedValue)}}gt.TimeLiteral=O;class F extends d{constructor(X,z,J){super(X,J??o.TypeURL.XSD_DATE,z),this.typedValue=X,this.strValue=z}str(){return(0,r.serializeDate)(this.typedValue)}}gt.DateLiteral=F;class Q extends d{constructor(X,z,J){super(X,J??o.TypeURL.XSD_DURATION,z),this.typedValue=X,this.strValue=z}str(){return(0,r.serializeDuration)(this.typedValue)}}gt.DurationLiteral=Q;class j extends Q{constructor(X,z,J){super(X,z,J??o.TypeURL.XSD_DAY_TIME_DURATION),this.typedValue=X,this.strValue=z}}gt.DayTimeDurationLiteral=j;class x extends d{constructor(X,z,J){super(X,J??o.TypeURL.XSD_YEAR_MONTH_DURATION,z),this.typedValue=X,this.strValue=z}str(){return(0,r.serializeDuration)(this.typedValue,"P0M")}}gt.YearMonthDurationLiteral=x;class I extends d{constructor(X,z,J,ie,se){super({toString:()=>"undefined"},z,ie,se),this.openWorldType=J}coerceEBV(){if((0,e.isSubTypeOf)(this.dataType,o.TypeURL.XSD_BOOLEAN,this.openWorldType)||(0,e.isSubTypeOf)(this.dataType,o.TypeAlias.SPARQL_NUMERIC,this.openWorldType))return!1;throw new n.EBVCoercionError(this)}toRDF(X){return X.literal(this.str(),this.language??X.namedNode(this.dataType))}str(){return this.strValue??""}}gt.NonLexicalLiteral=I;function D(C){if(C instanceof I)return C}return gt.isNonLexicalLiteral=D,gt}var G0={},B8;function qse(){if(B8)return G0;B8=1,Object.defineProperty(G0,"__esModule",{value:!0}),G0.Operator=void 0;const a=fa();let t=class{constructor(n,r,e){this.name=n,this.args=r,this.apply=e,this.expressionType=a.ExpressionType.Operator}};return G0.Operator=t,G0}var z0={},$8;function Cse(){if($8)return z0;$8=1,Object.defineProperty(z0,"__esModule",{value:!0}),z0.Aggregate=void 0;const a=fa();let t=class{constructor(n,r){this.name=n,this.expression=r,this.expressionType=a.ExpressionType.Aggregate}};return z0.Aggregate=t,z0}var k0={},U8;function Bse(){if(U8)return k0;U8=1,Object.defineProperty(k0,"__esModule",{value:!0}),k0.Existence=void 0;const a=fa();let t=class{constructor(n){this.expression=n,this.expressionType=a.ExpressionType.Existence}};return k0.Existence=t,k0}var V8;function Oh(){return V8||(V8=1,function(a){var t=Io&&Io.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Io&&Io.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Nse(),a),o(Dse(),a),o(Mse(),a),o(qse(),a),o(Cse(),a),o(Bse(),a)}(Io)),Io}var Ir={},Pt={},Q8;function X0(){if(Q8)return Pt;Q8=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.extractTimeZone=Pt.extractRawTimeZone=Pt.dayTimeDurationsToSeconds=Pt.yearMonthDurationsToMonths=Pt.trimToDayTimeDuration=Pt.trimToYearMonthDuration=Pt.toUTCDate=Pt.toJSDate=Pt.negateDuration=Pt.toDateTimeRepresentation=Pt.defaultedDateTimeRepresentation=Pt.simplifyDurationRepresentation=Pt.defaultedDurationRepresentation=Pt.defaultedYearMonthDurationRepresentation=Pt.defaultedDayTimeDurationRepresentation=void 0;function a(_){return{day:_.day??0,hours:_.hours??0,minutes:_.minutes??0,seconds:_.seconds??0}}Pt.defaultedDayTimeDurationRepresentation=a;function t(_){return{year:_.year??0,month:_.month??0}}Pt.defaultedYearMonthDurationRepresentation=t;function o(_){return{...a(_),...t(_)}}Pt.defaultedDurationRepresentation=o;function n(_){const g=o(_),y={},m=g.year+Math.trunc(g.month/12);m&&(y.year=m,g.month%=12),g.month&&(y.month=g.month);const b=g.day+Math.trunc(g.hours/24)+Math.trunc(g.minutes/(24*60))+Math.trunc(g.seconds/(24*60*60));b&&(y.day=b,g.hours%=24,g.minutes%=24*60,g.seconds%=24*60*60);const T=g.hours+Math.trunc(g.minutes/60)+Math.trunc(g.seconds/(60*60));T&&(y.hours=T,g.minutes%=60,g.seconds%=60*60);const w=g.minutes+Math.trunc(g.seconds/60);return w&&(y.minutes=w,g.seconds%=60),g.seconds&&(y.seconds=g.seconds),y}Pt.simplifyDurationRepresentation=n;function r(_){return{..._,day:_.day??1,hours:_.hours??0,month:_.month??1,year:_.year??0,seconds:_.seconds??0,minutes:_.minutes??0}}Pt.defaultedDateTimeRepresentation=r;function e({date:_,timeZone:g}){return{year:_.getFullYear(),month:_.getMonth()+1,day:_.getDate(),hours:_.getHours(),minutes:_.getMinutes(),seconds:_.getSeconds(),zoneHours:g.zoneHours,zoneMinutes:g.zoneMinutes}}Pt.toDateTimeRepresentation=e;function i(_){return{year:_.year===void 0?void 0:-1*_.year,month:_.month===void 0?void 0:-1*_.month,day:_.day===void 0?void 0:-1*_.day,hours:_.hours===void 0?void 0:-1*_.hours,minutes:_.minutes===void 0?void 0:-1*_.minutes,seconds:_.seconds===void 0?void 0:-1*_.seconds}}Pt.negateDuration=i;function s(_){const g=new Date(_.year,_.month-1,_.day,_.hours,_.minutes,Math.trunc(_.seconds),_.seconds%1*1e3);return _.year>=0&&_.year<100&&g.setFullYear(g.getFullYear()-1900),g}Pt.toJSDate=s;function c(_,g){const y=s(r(_)),m=y.getTimezoneOffset(),b=_.zoneHours??g.zoneHours,T=_.zoneMinutes??g.zoneMinutes;return new Date(y.getTime()-(m+b*60+T)*60*1e3)}Pt.toUTCDate=c;function u(_){return{year:_.year,month:_.month}}Pt.trimToYearMonthDuration=u;function l(_){return{day:_.day,hours:_.hours,minutes:_.minutes,seconds:_.seconds}}Pt.trimToDayTimeDuration=l;function f(_){return _.year*12+_.month}Pt.yearMonthDurationsToMonths=f;function d(_){return((_.day*24+_.hours)*60+_.minutes)*60+_.seconds}Pt.dayTimeDurationsToSeconds=d;function h(_){return/(Z|([+-]\d\d:\d\d))?$/u.exec(_)[0]}Pt.extractRawTimeZone=h;function p(_){return{zoneHours:_.getTimezoneOffset()/60,zoneMinutes:_.getTimezoneOffset()%60}}return Pt.extractTimeZone=p,Pt}var Ni={},H8;function G8(){if(H8)return Ni;H8=1,Object.defineProperty(Ni,"__esModule",{value:!0}),Ni.elapsedDuration=Ni.addDurationToDateTime=Ni.maximumDayInMonthFor=void 0;const a=X0();function t(e,i,s=0){const c=e-s,u=i-s,l=Math.floor(c/u);return{intDiv:l,remainder:e-l*u}}function o(e,i){const{intDiv:s,remainder:c}=t(i,13,1),u=e+s;return[1,3,5,7,8,10,12].includes(c)?31:[4,6,9,11].includes(c)?30:c===2&&(t(u,400).remainder===0||t(u,100).remainder!==0&&t(u,4).remainder===0)?29:28}Ni.maximumDayInMonthFor=o;function n(e,i){const s={...e};let c=t(e.month+i.month,13,1);for(s.month=c.remainder,s.year=e.year+i.year+c.intDiv,c=t(e.seconds+i.seconds,60),s.seconds=c.remainder,c=t(e.minutes+i.minutes+c.intDiv,60),s.minutes=c.remainder,c=t(e.hours+i.hours+c.intDiv,24),s.hours=c.remainder,s.day=e.day+i.day+c.intDiv;;){let u;if(s.day<1)s.day+=o(s.year,s.month-1),u=-1;else if(s.day>o(s.year,s.month))s.day-=o(s.year,s.month),u=1;else break;c=t(s.month+u,13,1),s.month=c.remainder,s.year+=c.intDiv}return s}Ni.addDurationToDateTime=n;function r(e,i,s){const c=(0,a.toUTCDate)(e,s),u=(0,a.toUTCDate)(i,s),l=c.getTime()-u.getTime();return{day:Math.floor(l/(1e3*60*60*24)),hours:Math.floor(l%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(l%(1e3*60*60)/(1e3*60)),seconds:l%(1e3*60)}}return Ni.elapsedDuration=r,Ni}var z8;function XI(){if(z8)return Ir;z8=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.parseDayTimeDuration=Ir.parseYearMonthDuration=Ir.parseDuration=Ir.parseTime=Ir.parseDate=Ir.parseDateTime=Ir.parseXSDDecimal=Ir.parseXSDFloat=void 0;const a=X0(),t=Sh(),o=G8();function n(h){const p=Number(h);return Number.isNaN(p)?h==="NaN"?Number.NaN:h==="INF"||h==="+INF"?Number.POSITIVE_INFINITY:h==="-INF"?Number.NEGATIVE_INFINITY:void 0:p}Ir.parseXSDFloat=n;function r(h){const p=Number(h);return Number.isNaN(p)?void 0:p}Ir.parseXSDDecimal=r;function e(h){const[p,_]=h.split("T");if(_===void 0)throw new t.ParseError(h,"dateTime");return{...s(p),...c(_)}}Ir.parseDateTime=e;function i(h){if(h==="")return{zoneHours:void 0,zoneMinutes:void 0};if(h==="Z")return{zoneHours:0,zoneMinutes:0};const _=h.replaceAll(/^([+|-])(\d\d):(\d\d)$/gu,"$11!$2!$3").split("!").map(Number);return{zoneHours:_[0]*_[1],zoneMinutes:_[0]*_[2]}}function s(h){const p=h.replaceAll(/^(-)?([123456789]*\d{4})-(\d\d)-(\d\d)(Z|([+-]\d\d:\d\d))?$/gu,"$11!$2!$3!$4!$5");if(p===h)throw new t.ParseError(h,"date");const _=p.split("!"),g=_.slice(0,-1).map(Number),y={year:g[0]*g[1],month:g[2],day:g[3],...i(_[4])};if(!(y.month>=1&&y.month<=12)||!(y.day>=1&&y.day<=(0,o.maximumDayInMonthFor)(y.year,y.month)))throw new t.ParseError(h,"date");return y}Ir.parseDate=s;function c(h){const p=h.replaceAll(/^(\d\d):(\d\d):(\d\d(\.\d+)?)(Z|([+-]\d\d:\d\d))?$/gu,"$1!$2!$3!$5");if(p===h)throw new t.ParseError(h,"time");const _=p.split("!"),g=_.slice(0,-1).map(Number),y={hours:g[0],minutes:g[1],seconds:g[2],...i(_[3])};if(y.seconds>=60||y.minutes>=60||y.hours>24||y.hours===24&&(y.minutes!==0||y.seconds!==0))throw new t.ParseError(h,"time");return y}function u(h){const p=c(h);return p.hours%=24,p}Ir.parseTime=u;function l(h){const[p,_]=h.split("T"),g=p.replaceAll(/^(-)?P(\d+Y)?(\d+M)?(\d+D)?$/gu,"$11S!$2!$3!$4");if(g===p)throw new t.ParseError(h,"duration");const y=g.split("!");if(_!==void 0){const T=_.replaceAll(/^(\d+H)?(\d+M)?(\d+(\.\d+)?S)?$/gu,"$1!$2!$3");if(_===""||_===T)throw new t.ParseError(h,"duration");y.push(...T.split("!"))}const m=y.map(T=>T.slice(0,-1));if(!m.slice(1).some(Boolean))throw new t.ParseError(h,"duration");const b=Number(m[0]);return(0,a.simplifyDurationRepresentation)({year:m[1]?b*Number(m[1]):void 0,month:m[2]?b*Number(m[2]):void 0,day:m[3]?b*Number(m[3]):void 0,hours:m[4]?b*Number(m[4]):void 0,minutes:m[5]?b*Number(m[5]):void 0,seconds:m[6]?b*Number(m[6]):void 0})}Ir.parseDuration=l;function f(h){const p=l(h);if(["hours","minutes","seconds","day"].some(_=>!!p[_]))throw new t.ParseError(h,"yearMonthDuration");return p}Ir.parseYearMonthDuration=f;function d(h){const p=l(h);if(["year","month"].some(_=>!!p[_]))throw new t.ParseError(h,"dayTimeDuration");return p}return Ir.parseDayTimeDuration=d,Ir}var k8;function $se(){if(k8)return t0;k8=1,Object.defineProperty(t0,"__esModule",{value:!0}),t0.TermTransformer=void 0;const a=$t(),t=mt(),o=Oh(),n=Fo(),r=Sh(),e=Sh(),i=XI(),s=XI(),c=WO();let u=class{constructor(f){this.superTypeProvider=f}transformRDFTermUnsafe(f){return this.transformTerm({term:f,type:t.Algebra.types.EXPRESSION,expressionType:t.Algebra.expressionTypes.TERM})}transformTerm(f){if(!f.term)throw new r.InvalidExpression(f);switch(f.term.termType){case"Variable":return new o.Variable(a.termToString(f.term));case"Literal":return this.transformLiteral(f.term);case"NamedNode":return new o.NamedNode(f.term.value);case"BlankNode":return new o.BlankNode(f.term.value);case"Quad":return new o.Quad(this.transformRDFTermUnsafe(f.term.subject),this.transformRDFTermUnsafe(f.term.predicate),this.transformRDFTermUnsafe(f.term.object),this.transformRDFTermUnsafe(f.term.graph));case"DefaultGraph":return new o.DefaultGraph}}transformLiteral(f){if(!f.datatype||[null,void 0,""].includes(f.datatype.value))return f.language?new o.LangStringLiteral(f.value,f.language):new o.StringLiteral(f.value);const d=f.datatype.value,h=(0,c.getSuperTypeDict)(d,this.superTypeProvider);try{if(n.TypeURL.XSD_STRING in h)return new o.StringLiteral(f.value,d);if(n.TypeURL.RDF_LANG_STRING in h)return new o.LangStringLiteral(f.value,f.language);if(n.TypeURL.XSD_YEAR_MONTH_DURATION in h)return new o.YearMonthDurationLiteral((0,i.parseYearMonthDuration)(f.value),f.value,d);if(n.TypeURL.XSD_DAY_TIME_DURATION in h)return new o.DayTimeDurationLiteral((0,i.parseDayTimeDuration)(f.value),f.value,d);if(n.TypeURL.XSD_DURATION in h)return new o.DurationLiteral((0,i.parseDuration)(f.value),f.value,d);if(n.TypeURL.XSD_DATE_TIME in h){const g=new Date(f.value);return Number.isNaN(g.getTime())?new o.NonLexicalLiteral(void 0,d,this.superTypeProvider,f.value):new o.DateTimeLiteral((0,i.parseDateTime)(f.value),f.value,d)}if(n.TypeURL.XSD_DATE in h)return new o.DateLiteral((0,i.parseDate)(f.value),f.value,d);if(n.TypeURL.XSD_TIME in h)return new o.TimeLiteral((0,i.parseTime)(f.value),f.value,d);if(n.TypeURL.XSD_BOOLEAN in h)return f.value!=="true"&&f.value!=="false"&&f.value!=="1"&&f.value!=="0"?new o.NonLexicalLiteral(void 0,d,this.superTypeProvider,f.value):new o.BooleanLiteral(f.value==="true"||f.value==="1",f.value);if(n.TypeURL.XSD_DECIMAL in h){const g=s.parseXSDDecimal(f.value);return g===void 0?new o.NonLexicalLiteral(void 0,d,this.superTypeProvider,f.value):n.TypeURL.XSD_INTEGER in h?new o.IntegerLiteral(g,d,f.value):new o.DecimalLiteral(g,d,f.value)}const p=n.TypeURL.XSD_FLOAT in h,_=n.TypeURL.XSD_DOUBLE in h;if(p||_){const g=s.parseXSDFloat(f.value);return g===void 0?new o.NonLexicalLiteral(void 0,d,this.superTypeProvider,f.value):p?new o.FloatLiteral(g,d,f.value):new o.DoubleLiteral(g,d,f.value)}return new o.Literal(f.value,d,f.value)}catch(p){if((0,e.isExpressionError)(p))return new o.NonLexicalLiteral(void 0,d,this.superTypeProvider,f.value);throw p}}};return t0.TermTransformer=u,t0}var W0={},J0={},X8;function Use(){var d,h,_,g,y,m,b,T,w,O,F,Q,j,x,I,D,C,X,z,J,ie,se,ye,K,Te,Ne,_e,$,BD,qe,Ce,xe,we,oae,M,B,R,ja,Ma,$D,GE,zE,tr,UD,fO,qa,VD;if(X8)return J0;X8=1,Object.defineProperty(J0,"__esModule",{value:!0}),J0.LRUCache=void 0;const a=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,t=new Set,o=typeof xr=="object"&&xr?xr:{},n=(Ae,A,E,P)=>{typeof o.emitWarning=="function"?o.emitWarning(Ae,A,E,P):console.error(`[${E}] ${A}: ${Ae}`)};let r=globalThis.AbortController,e=globalThis.AbortSignal;if(typeof r>"u"){e=class{constructor(){We(this,"onabort");We(this,"_onabort",[]);We(this,"reason");We(this,"aborted",!1)}addEventListener(P,k){this._onabort.push(k)}},r=class{constructor(){We(this,"signal",new e);A()}abort(P){var k,N;if(!this.signal.aborted){this.signal.reason=P,this.signal.aborted=!0;for(const S of this.signal._onabort)S(P);(N=(k=this.signal).onabort)==null||N.call(k,P)}}};let Ae=((d=o.env)==null?void 0:d.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const A=()=>{Ae&&(Ae=!1,n("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",A))}}const i=Ae=>!t.has(Ae),s=Ae=>Ae&&Ae===Math.floor(Ae)&&Ae>0&&isFinite(Ae),c=Ae=>s(Ae)?Ae<=Math.pow(2,8)?Uint8Array:Ae<=Math.pow(2,16)?Uint16Array:Ae<=Math.pow(2,32)?Uint32Array:Ae<=Number.MAX_SAFE_INTEGER?u:null:null;class u extends Array{constructor(A){super(A),this.fill(0)}}const p=class p{constructor(A,E){We(this,"heap");We(this,"length");if(!v(p,h))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new E(A),this.length=0}static create(A){const E=c(A);if(!E)return[];be(p,h,!0);const P=new p(A,E);return be(p,h,!1),P}push(A){this.heap[this.length++]=A}pop(){return this.heap[--this.length]}};h=new WeakMap,Le(p,h,!1);let l=p;const ke=class ke{constructor(A){Le(this,$);Le(this,y);Le(this,m);Le(this,b);Le(this,T);Le(this,w);Le(this,O);We(this,"ttl");We(this,"ttlResolution");We(this,"ttlAutopurge");We(this,"updateAgeOnGet");We(this,"updateAgeOnHas");We(this,"allowStale");We(this,"noDisposeOnSet");We(this,"noUpdateTTL");We(this,"maxEntrySize");We(this,"sizeCalculation");We(this,"noDeleteOnFetchRejection");We(this,"noDeleteOnStaleGet");We(this,"allowStaleOnFetchAbort");We(this,"allowStaleOnFetchRejection");We(this,"ignoreFetchAbort");Le(this,F);Le(this,Q);Le(this,j);Le(this,x);Le(this,I);Le(this,D);Le(this,C);Le(this,X);Le(this,z);Le(this,J);Le(this,ie);Le(this,se);Le(this,ye);Le(this,K);Le(this,Te);Le(this,Ne);Le(this,_e);Le(this,qe,()=>{});Le(this,Ce,()=>{});Le(this,xe,()=>{});Le(this,we,()=>!1);Le(this,M,A=>{});Le(this,B,(A,E,P)=>{});Le(this,R,(A,E,P,k)=>{if(P||k)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});We(this,_,"LRUCache");const{max:E=0,ttl:P,ttlResolution:k=1,ttlAutopurge:N,updateAgeOnGet:S,updateAgeOnHas:L,allowStale:U,dispose:Z,disposeAfter:me,noDisposeOnSet:pe,noUpdateTTL:Xe,maxSize:ne=0,maxEntrySize:Ie=0,sizeCalculation:ve,fetchMethod:Re,memoMethod:ce,noDeleteOnFetchRejection:Pe,noDeleteOnStaleGet:ze,allowStaleOnFetchRejection:Ue,allowStaleOnFetchAbort:Ye,ignoreFetchAbort:fe}=A;if(E!==0&&!s(E))throw new TypeError("max option must be a nonnegative integer");const H=E?c(E):Array;if(!H)throw new Error("invalid max value: "+E);if(be(this,y,E),be(this,m,ne),this.maxEntrySize=Ie||v(this,m),this.sizeCalculation=ve,this.sizeCalculation){if(!v(this,m)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(ce!==void 0&&typeof ce!="function")throw new TypeError("memoMethod must be a function if defined");if(be(this,O,ce),Re!==void 0&&typeof Re!="function")throw new TypeError("fetchMethod must be a function if specified");if(be(this,w,Re),be(this,Ne,!!Re),be(this,j,new Map),be(this,x,new Array(E).fill(void 0)),be(this,I,new Array(E).fill(void 0)),be(this,D,new H(E)),be(this,C,new H(E)),be(this,X,0),be(this,z,0),be(this,J,l.create(E)),be(this,F,0),be(this,Q,0),typeof Z=="function"&&be(this,b,Z),typeof me=="function"?(be(this,T,me),be(this,ie,[])):(be(this,T,void 0),be(this,ie,void 0)),be(this,Te,!!v(this,b)),be(this,_e,!!v(this,T)),this.noDisposeOnSet=!!pe,this.noUpdateTTL=!!Xe,this.noDeleteOnFetchRejection=!!Pe,this.allowStaleOnFetchRejection=!!Ue,this.allowStaleOnFetchAbort=!!Ye,this.ignoreFetchAbort=!!fe,this.maxEntrySize!==0){if(v(this,m)!==0&&!s(v(this,m)))throw new TypeError("maxSize must be a positive integer if specified");if(!s(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");ae(this,$,oae).call(this)}if(this.allowStale=!!U,this.noDeleteOnStaleGet=!!ze,this.updateAgeOnGet=!!S,this.updateAgeOnHas=!!L,this.ttlResolution=s(k)||k===0?k:1,this.ttlAutopurge=!!N,this.ttl=P||0,this.ttl){if(!s(this.ttl))throw new TypeError("ttl must be a positive integer if specified");ae(this,$,BD).call(this)}if(v(this,y)===0&&this.ttl===0&&v(this,m)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!v(this,y)&&!v(this,m)){const V="LRU_CACHE_UNBOUNDED";i(V)&&(t.add(V),n("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",V,ke))}}static unsafeExposeInternals(A){return{starts:v(A,ye),ttls:v(A,K),sizes:v(A,se),keyMap:v(A,j),keyList:v(A,x),valList:v(A,I),next:v(A,D),prev:v(A,C),get head(){return v(A,X)},get tail(){return v(A,z)},free:v(A,J),isBackgroundFetch:E=>{var P;return ae(P=A,$,tr).call(P,E)},backgroundFetch:(E,P,k,N)=>{var S;return ae(S=A,$,zE).call(S,E,P,k,N)},moveToTail:E=>{var P;return ae(P=A,$,fO).call(P,E)},indexes:E=>{var P;return ae(P=A,$,ja).call(P,E)},rindexes:E=>{var P;return ae(P=A,$,Ma).call(P,E)},isStale:E=>{var P;return v(P=A,we).call(P,E)}}}get max(){return v(this,y)}get maxSize(){return v(this,m)}get calculatedSize(){return v(this,Q)}get size(){return v(this,F)}get fetchMethod(){return v(this,w)}get memoMethod(){return v(this,O)}get dispose(){return v(this,b)}get disposeAfter(){return v(this,T)}getRemainingTTL(A){return v(this,j).has(A)?1/0:0}*entries(){for(const A of ae(this,$,ja).call(this))v(this,I)[A]!==void 0&&v(this,x)[A]!==void 0&&!ae(this,$,tr).call(this,v(this,I)[A])&&(yield[v(this,x)[A],v(this,I)[A]])}*rentries(){for(const A of ae(this,$,Ma).call(this))v(this,I)[A]!==void 0&&v(this,x)[A]!==void 0&&!ae(this,$,tr).call(this,v(this,I)[A])&&(yield[v(this,x)[A],v(this,I)[A]])}*keys(){for(const A of ae(this,$,ja).call(this)){const E=v(this,x)[A];E!==void 0&&!ae(this,$,tr).call(this,v(this,I)[A])&&(yield E)}}*rkeys(){for(const A of ae(this,$,Ma).call(this)){const E=v(this,x)[A];E!==void 0&&!ae(this,$,tr).call(this,v(this,I)[A])&&(yield E)}}*values(){for(const A of ae(this,$,ja).call(this))v(this,I)[A]!==void 0&&!ae(this,$,tr).call(this,v(this,I)[A])&&(yield v(this,I)[A])}*rvalues(){for(const A of ae(this,$,Ma).call(this))v(this,I)[A]!==void 0&&!ae(this,$,tr).call(this,v(this,I)[A])&&(yield v(this,I)[A])}[(g=Symbol.iterator,_=Symbol.toStringTag,g)](){return this.entries()}find(A,E={}){for(const P of ae(this,$,ja).call(this)){const k=v(this,I)[P],N=ae(this,$,tr).call(this,k)?k.__staleWhileFetching:k;if(N!==void 0&&A(N,v(this,x)[P],this))return this.get(v(this,x)[P],E)}}forEach(A,E=this){for(const P of ae(this,$,ja).call(this)){const k=v(this,I)[P],N=ae(this,$,tr).call(this,k)?k.__staleWhileFetching:k;N!==void 0&&A.call(E,N,v(this,x)[P],this)}}rforEach(A,E=this){for(const P of ae(this,$,Ma).call(this)){const k=v(this,I)[P],N=ae(this,$,tr).call(this,k)?k.__staleWhileFetching:k;N!==void 0&&A.call(E,N,v(this,x)[P],this)}}purgeStale(){let A=!1;for(const E of ae(this,$,Ma).call(this,{allowStale:!0}))v(this,we).call(this,E)&&(ae(this,$,qa).call(this,v(this,x)[E],"expire"),A=!0);return A}info(A){const E=v(this,j).get(A);if(E===void 0)return;const P=v(this,I)[E],k=ae(this,$,tr).call(this,P)?P.__staleWhileFetching:P;if(k===void 0)return;const N={value:k};if(v(this,K)&&v(this,ye)){const S=v(this,K)[E],L=v(this,ye)[E];if(S&&L){const U=S-(a.now()-L);N.ttl=U,N.start=Date.now()}}return v(this,se)&&(N.size=v(this,se)[E]),N}dump(){const A=[];for(const E of ae(this,$,ja).call(this,{allowStale:!0})){const P=v(this,x)[E],k=v(this,I)[E],N=ae(this,$,tr).call(this,k)?k.__staleWhileFetching:k;if(N===void 0||P===void 0)continue;const S={value:N};if(v(this,K)&&v(this,ye)){S.ttl=v(this,K)[E];const L=a.now()-v(this,ye)[E];S.start=Math.floor(Date.now()-L)}v(this,se)&&(S.size=v(this,se)[E]),A.unshift([P,S])}return A}load(A){this.clear();for(const[E,P]of A){if(P.start){const k=Date.now()-P.start;P.start=a.now()-k}this.set(E,P.value,P)}}set(A,E,P={}){var Xe,ne,Ie,ve,Re;if(E===void 0)return this.delete(A),this;const{ttl:k=this.ttl,start:N,noDisposeOnSet:S=this.noDisposeOnSet,sizeCalculation:L=this.sizeCalculation,status:U}=P;let{noUpdateTTL:Z=this.noUpdateTTL}=P;const me=v(this,R).call(this,A,E,P.size||0,L);if(this.maxEntrySize&&me>this.maxEntrySize)return U&&(U.set="miss",U.maxEntrySizeExceeded=!0),ae(this,$,qa).call(this,A,"set"),this;let pe=v(this,F)===0?void 0:v(this,j).get(A);if(pe===void 0)pe=v(this,F)===0?v(this,z):v(this,J).length!==0?v(this,J).pop():v(this,F)===v(this,y)?ae(this,$,GE).call(this,!1):v(this,F),v(this,x)[pe]=A,v(this,I)[pe]=E,v(this,j).set(A,pe),v(this,D)[v(this,z)]=pe,v(this,C)[pe]=v(this,z),be(this,z,pe),Fr(this,F)._++,v(this,B).call(this,pe,me,U),U&&(U.set="add"),Z=!1;else{ae(this,$,fO).call(this,pe);const ce=v(this,I)[pe];if(E!==ce){if(v(this,Ne)&&ae(this,$,tr).call(this,ce)){ce.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:Pe}=ce;Pe!==void 0&&!S&&(v(this,Te)&&((Xe=v(this,b))==null||Xe.call(this,Pe,A,"set")),v(this,_e)&&((ne=v(this,ie))==null||ne.push([Pe,A,"set"])))}else S||(v(this,Te)&&((Ie=v(this,b))==null||Ie.call(this,ce,A,"set")),v(this,_e)&&((ve=v(this,ie))==null||ve.push([ce,A,"set"])));if(v(this,M).call(this,pe),v(this,B).call(this,pe,me,U),v(this,I)[pe]=E,U){U.set="replace";const Pe=ce&&ae(this,$,tr).call(this,ce)?ce.__staleWhileFetching:ce;Pe!==void 0&&(U.oldValue=Pe)}}else U&&(U.set="update")}if(k!==0&&!v(this,K)&&ae(this,$,BD).call(this),v(this,K)&&(Z||v(this,xe).call(this,pe,k,N),U&&v(this,Ce).call(this,U,pe)),!S&&v(this,_e)&&v(this,ie)){const ce=v(this,ie);let Pe;for(;Pe=ce==null?void 0:ce.shift();)(Re=v(this,T))==null||Re.call(this,...Pe)}return this}pop(){var A;try{for(;v(this,F);){const E=v(this,I)[v(this,X)];if(ae(this,$,GE).call(this,!0),ae(this,$,tr).call(this,E)){if(E.__staleWhileFetching)return E.__staleWhileFetching}else if(E!==void 0)return E}}finally{if(v(this,_e)&&v(this,ie)){const E=v(this,ie);let P;for(;P=E==null?void 0:E.shift();)(A=v(this,T))==null||A.call(this,...P)}}}has(A,E={}){const{updateAgeOnHas:P=this.updateAgeOnHas,status:k}=E,N=v(this,j).get(A);if(N!==void 0){const S=v(this,I)[N];if(ae(this,$,tr).call(this,S)&&S.__staleWhileFetching===void 0)return!1;if(v(this,we).call(this,N))k&&(k.has="stale",v(this,Ce).call(this,k,N));else return P&&v(this,qe).call(this,N),k&&(k.has="hit",v(this,Ce).call(this,k,N)),!0}else k&&(k.has="miss");return!1}peek(A,E={}){const{allowStale:P=this.allowStale}=E,k=v(this,j).get(A);if(k===void 0||!P&&v(this,we).call(this,k))return;const N=v(this,I)[k];return ae(this,$,tr).call(this,N)?N.__staleWhileFetching:N}async fetch(A,E={}){const{allowStale:P=this.allowStale,updateAgeOnGet:k=this.updateAgeOnGet,noDeleteOnStaleGet:N=this.noDeleteOnStaleGet,ttl:S=this.ttl,noDisposeOnSet:L=this.noDisposeOnSet,size:U=0,sizeCalculation:Z=this.sizeCalculation,noUpdateTTL:me=this.noUpdateTTL,noDeleteOnFetchRejection:pe=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Xe=this.allowStaleOnFetchRejection,ignoreFetchAbort:ne=this.ignoreFetchAbort,allowStaleOnFetchAbort:Ie=this.allowStaleOnFetchAbort,context:ve,forceRefresh:Re=!1,status:ce,signal:Pe}=E;if(!v(this,Ne))return ce&&(ce.fetch="get"),this.get(A,{allowStale:P,updateAgeOnGet:k,noDeleteOnStaleGet:N,status:ce});const ze={allowStale:P,updateAgeOnGet:k,noDeleteOnStaleGet:N,ttl:S,noDisposeOnSet:L,size:U,sizeCalculation:Z,noUpdateTTL:me,noDeleteOnFetchRejection:pe,allowStaleOnFetchRejection:Xe,allowStaleOnFetchAbort:Ie,ignoreFetchAbort:ne,status:ce,signal:Pe};let Ue=v(this,j).get(A);if(Ue===void 0){ce&&(ce.fetch="miss");const Ye=ae(this,$,zE).call(this,A,Ue,ze,ve);return Ye.__returned=Ye}else{const Ye=v(this,I)[Ue];if(ae(this,$,tr).call(this,Ye)){const oe=P&&Ye.__staleWhileFetching!==void 0;return ce&&(ce.fetch="inflight",oe&&(ce.returnedStale=!0)),oe?Ye.__staleWhileFetching:Ye.__returned=Ye}const fe=v(this,we).call(this,Ue);if(!Re&&!fe)return ce&&(ce.fetch="hit"),ae(this,$,fO).call(this,Ue),k&&v(this,qe).call(this,Ue),ce&&v(this,Ce).call(this,ce,Ue),Ye;const H=ae(this,$,zE).call(this,A,Ue,ze,ve),G=H.__staleWhileFetching!==void 0&&P;return ce&&(ce.fetch=fe?"stale":"refresh",G&&fe&&(ce.returnedStale=!0)),G?H.__staleWhileFetching:H.__returned=H}}async forceFetch(A,E={}){const P=await this.fetch(A,E);if(P===void 0)throw new Error("fetch() returned undefined");return P}memo(A,E={}){const P=v(this,O);if(!P)throw new Error("no memoMethod provided to constructor");const{context:k,forceRefresh:N,...S}=E,L=this.get(A,S);if(!N&&L!==void 0)return L;const U=P(A,L,{options:S,context:k});return this.set(A,U,S),U}get(A,E={}){const{allowStale:P=this.allowStale,updateAgeOnGet:k=this.updateAgeOnGet,noDeleteOnStaleGet:N=this.noDeleteOnStaleGet,status:S}=E,L=v(this,j).get(A);if(L!==void 0){const U=v(this,I)[L],Z=ae(this,$,tr).call(this,U);return S&&v(this,Ce).call(this,S,L),v(this,we).call(this,L)?(S&&(S.get="stale"),Z?(S&&P&&U.__staleWhileFetching!==void 0&&(S.returnedStale=!0),P?U.__staleWhileFetching:void 0):(N||ae(this,$,qa).call(this,A,"expire"),S&&P&&(S.returnedStale=!0),P?U:void 0)):(S&&(S.get="hit"),Z?U.__staleWhileFetching:(ae(this,$,fO).call(this,L),k&&v(this,qe).call(this,L),U))}else S&&(S.get="miss")}delete(A){return ae(this,$,qa).call(this,A,"delete")}clear(){return ae(this,$,VD).call(this,"delete")}};y=new WeakMap,m=new WeakMap,b=new WeakMap,T=new WeakMap,w=new WeakMap,O=new WeakMap,F=new WeakMap,Q=new WeakMap,j=new WeakMap,x=new WeakMap,I=new WeakMap,D=new WeakMap,C=new WeakMap,X=new WeakMap,z=new WeakMap,J=new WeakMap,ie=new WeakMap,se=new WeakMap,ye=new WeakMap,K=new WeakMap,Te=new WeakMap,Ne=new WeakMap,_e=new WeakMap,$=new WeakSet,BD=function(){const A=new u(v(this,y)),E=new u(v(this,y));be(this,K,A),be(this,ye,E),be(this,xe,(N,S,L=a.now())=>{if(E[N]=S!==0?L:0,A[N]=S,S!==0&&this.ttlAutopurge){const U=setTimeout(()=>{v(this,we).call(this,N)&&ae(this,$,qa).call(this,v(this,x)[N],"expire")},S+1);U.unref&&U.unref()}}),be(this,qe,N=>{E[N]=A[N]!==0?a.now():0}),be(this,Ce,(N,S)=>{if(A[S]){const L=A[S],U=E[S];if(!L||!U)return;N.ttl=L,N.start=U,N.now=P||k();const Z=N.now-U;N.remainingTTL=L-Z}});let P=0;const k=()=>{const N=a.now();if(this.ttlResolution>0){P=N;const S=setTimeout(()=>P=0,this.ttlResolution);S.unref&&S.unref()}return N};this.getRemainingTTL=N=>{const S=v(this,j).get(N);if(S===void 0)return 0;const L=A[S],U=E[S];if(!L||!U)return 1/0;const Z=(P||k())-U;return L-Z},be(this,we,N=>{const S=E[N],L=A[N];return!!L&&!!S&&(P||k())-S>L})},qe=new WeakMap,Ce=new WeakMap,xe=new WeakMap,we=new WeakMap,oae=function(){const A=new u(v(this,y));be(this,Q,0),be(this,se,A),be(this,M,E=>{be(this,Q,v(this,Q)-A[E]),A[E]=0}),be(this,R,(E,P,k,N)=>{if(ae(this,$,tr).call(this,P))return 0;if(!s(k))if(N){if(typeof N!="function")throw new TypeError("sizeCalculation must be a function");if(k=N(P,E),!s(k))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return k}),be(this,B,(E,P,k)=>{if(A[E]=P,v(this,m)){const N=v(this,m)-A[E];for(;v(this,Q)>N;)ae(this,$,GE).call(this,!0)}be(this,Q,v(this,Q)+A[E]),k&&(k.entrySize=P,k.totalCalculatedSize=v(this,Q))})},M=new WeakMap,B=new WeakMap,R=new WeakMap,ja=function*({allowStale:A=this.allowStale}={}){if(v(this,F))for(let E=v(this,z);!(!ae(this,$,$D).call(this,E)||((A||!v(this,we).call(this,E))&&(yield E),E===v(this,X)));)E=v(this,C)[E]},Ma=function*({allowStale:A=this.allowStale}={}){if(v(this,F))for(let E=v(this,X);!(!ae(this,$,$D).call(this,E)||((A||!v(this,we).call(this,E))&&(yield E),E===v(this,z)));)E=v(this,D)[E]},$D=function(A){return A!==void 0&&v(this,j).get(v(this,x)[A])===A},GE=function(A){var N,S;const E=v(this,X),P=v(this,x)[E],k=v(this,I)[E];return v(this,Ne)&&ae(this,$,tr).call(this,k)?k.__abortController.abort(new Error("evicted")):(v(this,Te)||v(this,_e))&&(v(this,Te)&&((N=v(this,b))==null||N.call(this,k,P,"evict")),v(this,_e)&&((S=v(this,ie))==null||S.push([k,P,"evict"]))),v(this,M).call(this,E),A&&(v(this,x)[E]=void 0,v(this,I)[E]=void 0,v(this,J).push(E)),v(this,F)===1?(be(this,X,be(this,z,0)),v(this,J).length=0):be(this,X,v(this,D)[E]),v(this,j).delete(P),Fr(this,F)._--,E},zE=function(A,E,P,k){const N=E===void 0?void 0:v(this,I)[E];if(ae(this,$,tr).call(this,N))return N;const S=new r,{signal:L}=P;L==null||L.addEventListener("abort",()=>S.abort(L.reason),{signal:S.signal});const U={signal:S.signal,options:P,context:k},Z=(ve,Re=!1)=>{const{aborted:ce}=S.signal,Pe=P.ignoreFetchAbort&&ve!==void 0;if(P.status&&(ce&&!Re?(P.status.fetchAborted=!0,P.status.fetchError=S.signal.reason,Pe&&(P.status.fetchAbortIgnored=!0)):P.status.fetchResolved=!0),ce&&!Pe&&!Re)return pe(S.signal.reason);const ze=ne;return v(this,I)[E]===ne&&(ve===void 0?ze.__staleWhileFetching?v(this,I)[E]=ze.__staleWhileFetching:ae(this,$,qa).call(this,A,"fetch"):(P.status&&(P.status.fetchUpdated=!0),this.set(A,ve,U.options))),ve},me=ve=>(P.status&&(P.status.fetchRejected=!0,P.status.fetchError=ve),pe(ve)),pe=ve=>{const{aborted:Re}=S.signal,ce=Re&&P.allowStaleOnFetchAbort,Pe=ce||P.allowStaleOnFetchRejection,ze=Pe||P.noDeleteOnFetchRejection,Ue=ne;if(v(this,I)[E]===ne&&(!ze||Ue.__staleWhileFetching===void 0?ae(this,$,qa).call(this,A,"fetch"):ce||(v(this,I)[E]=Ue.__staleWhileFetching)),Pe)return P.status&&Ue.__staleWhileFetching!==void 0&&(P.status.returnedStale=!0),Ue.__staleWhileFetching;if(Ue.__returned===Ue)throw ve},Xe=(ve,Re)=>{var Pe;const ce=(Pe=v(this,w))==null?void 0:Pe.call(this,A,N,U);ce&&ce instanceof Promise&&ce.then(ze=>ve(ze===void 0?void 0:ze),Re),S.signal.addEventListener("abort",()=>{(!P.ignoreFetchAbort||P.allowStaleOnFetchAbort)&&(ve(void 0),P.allowStaleOnFetchAbort&&(ve=ze=>Z(ze,!0)))})};P.status&&(P.status.fetchDispatched=!0);const ne=new Promise(Xe).then(Z,me),Ie=Object.assign(ne,{__abortController:S,__staleWhileFetching:N,__returned:void 0});return E===void 0?(this.set(A,Ie,{...U.options,status:void 0}),E=v(this,j).get(A)):v(this,I)[E]=Ie,Ie},tr=function(A){if(!v(this,Ne))return!1;const E=A;return!!E&&E instanceof Promise&&E.hasOwnProperty("__staleWhileFetching")&&E.__abortController instanceof r},UD=function(A,E){v(this,C)[E]=A,v(this,D)[A]=E},fO=function(A){A!==v(this,z)&&(A===v(this,X)?be(this,X,v(this,D)[A]):ae(this,$,UD).call(this,v(this,C)[A],v(this,D)[A]),ae(this,$,UD).call(this,v(this,z),A),be(this,z,A))},qa=function(A,E){var k,N,S,L;let P=!1;if(v(this,F)!==0){const U=v(this,j).get(A);if(U!==void 0)if(P=!0,v(this,F)===1)ae(this,$,VD).call(this,E);else{v(this,M).call(this,U);const Z=v(this,I)[U];if(ae(this,$,tr).call(this,Z)?Z.__abortController.abort(new Error("deleted")):(v(this,Te)||v(this,_e))&&(v(this,Te)&&((k=v(this,b))==null||k.call(this,Z,A,E)),v(this,_e)&&((N=v(this,ie))==null||N.push([Z,A,E]))),v(this,j).delete(A),v(this,x)[U]=void 0,v(this,I)[U]=void 0,U===v(this,z))be(this,z,v(this,C)[U]);else if(U===v(this,X))be(this,X,v(this,D)[U]);else{const me=v(this,C)[U];v(this,D)[me]=v(this,D)[U];const pe=v(this,D)[U];v(this,C)[pe]=v(this,C)[U]}Fr(this,F)._--,v(this,J).push(U)}}if(v(this,_e)&&((S=v(this,ie))!=null&&S.length)){const U=v(this,ie);let Z;for(;Z=U==null?void 0:U.shift();)(L=v(this,T))==null||L.call(this,...Z)}return P},VD=function(A){var E,P,k;for(const N of ae(this,$,Ma).call(this,{allowStale:!0})){const S=v(this,I)[N];if(ae(this,$,tr).call(this,S))S.__abortController.abort(new Error("deleted"));else{const L=v(this,x)[N];v(this,Te)&&((E=v(this,b))==null||E.call(this,S,L,A)),v(this,_e)&&((P=v(this,ie))==null||P.push([S,L,A]))}}if(v(this,j).clear(),v(this,I).fill(void 0),v(this,x).fill(void 0),v(this,K)&&v(this,ye)&&(v(this,K).fill(0),v(this,ye).fill(0)),v(this,se)&&v(this,se).fill(0),be(this,X,0),be(this,z,0),v(this,J).length=0,be(this,Q,0),be(this,F,0),v(this,_e)&&v(this,ie)){const N=v(this,ie);let S;for(;S=N==null?void 0:N.shift();)(k=v(this,T))==null||k.call(this,...S)}};let f=ke;return J0.LRUCache=f,J0}var W8;function Vse(){if(W8)return W0;W8=1,Object.defineProperty(W0,"__esModule",{value:!0}),W0.prepareEvaluatorActionContext=void 0;const a=tt(),t=Use(),o=X0();function n(r){let e=r;if(e.has(a.KeysInitQuery.extensionFunctionCreator)&&e.has(a.KeysInitQuery.extensionFunctions))throw new Error("Illegal simultaneous usage of extensionFunctionCreator and extensionFunctions in context");if(e.has(a.KeysInitQuery.extensionFunctionCreator))e=e.set(a.KeysExpressionEvaluator.extensionFunctionCreator,e.get(a.KeysInitQuery.extensionFunctionCreator));else if(e.has(a.KeysInitQuery.extensionFunctions)){const i=e.getSafe(a.KeysInitQuery.extensionFunctions);e=e.set(a.KeysExpressionEvaluator.extensionFunctionCreator,async s=>i[s.value])}else e=e.setDefault(a.KeysExpressionEvaluator.extensionFunctionCreator,async()=>{});return e=e.setDefault(a.KeysExpressionEvaluator.defaultTimeZone,(0,o.extractTimeZone)(e.getSafe(a.KeysInitQuery.queryTimestamp))),e=e.setDefault(a.KeysExpressionEvaluator.superTypeProvider,{cache:new t.LRUCache({max:1e3}),discoverer:()=>"term"}),e}return W0.prepareEvaluatorActionContext=n,W0}var J8;function Me(){return J8||(J8=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.LangStringLiteral=a.TimeLiteral=a.DurationLiteral=a.DateLiteral=a.DayTimeDurationLiteral=a.DateTimeLiteral=a.yearMonthDurationsToMonths=a.toUTCDate=a.toDateTimeRepresentation=a.negateDuration=a.extractRawTimeZone=a.defaultedYearMonthDurationRepresentation=a.defaultedDurationRepresentation=a.defaultedDayTimeDurationRepresentation=a.defaultedDateTimeRepresentation=a.dayTimeDurationsToSeconds=a.isSubTypeOf=a.SparqlOperator=a.TypeAlias=a.TypeURL=a.typedLiteral=a.InvalidArity=a.InvalidLexicalForm=a.ExtensionFunctionError=a.CastError=a.UnboundVariableError=a.NoAggregator=a.InError=a.CoalesceError=a.InvalidArgumentTypes=a.InvalidTimezoneCall=a.IncompatibleLanguageOperation=a.RDFEqualTypeError=a.EmptyAggregateError=a.isExpressionError=a.ExpressionError=a.Builder=a.expressionToVar=a.float=a.decimal=a.langString=a.dateTime=a.integer=a.double=a.string=a.bool=a.declare=a.prepareEvaluatorActionContext=a.OverloadTree=a.TermTransformer=void 0,a.trimToDayTimeDuration=a.trimToYearMonthDuration=a.parseDate=a.parseXSDFloat=a.parseXSDDecimal=a.parseYearMonthDuration=a.parseTime=a.parseDuration=a.parseDayTimeDuration=a.parseDateTime=a.elapsedDuration=a.addDurationToDateTime=a.isNonLexicalLiteral=a.StringLiteral=a.NonLexicalLiteral=a.FloatLiteral=a.IntegerLiteral=a.Literal=a.Existence=a.Aggregate=a.DoubleLiteral=a.DefaultGraph=a.DecimalLiteral=a.BlankNode=a.BooleanLiteral=a.NumericLiteral=a.Variable=a.NamedNode=a.Operator=a.Quad=a.YearMonthDurationLiteral=a.Term=void 0;var t=$se();Object.defineProperty(a,"TermTransformer",{enumerable:!0,get:function(){return t.TermTransformer}});var o=L8();Object.defineProperty(a,"OverloadTree",{enumerable:!0,get:function(){return o.OverloadTree}});var n=Vse();Object.defineProperty(a,"prepareEvaluatorActionContext",{enumerable:!0,get:function(){return n.prepareEvaluatorActionContext}});var r=M8();Object.defineProperty(a,"declare",{enumerable:!0,get:function(){return r.declare}}),Object.defineProperty(a,"bool",{enumerable:!0,get:function(){return r.bool}}),Object.defineProperty(a,"string",{enumerable:!0,get:function(){return r.string}}),Object.defineProperty(a,"double",{enumerable:!0,get:function(){return r.double}}),Object.defineProperty(a,"integer",{enumerable:!0,get:function(){return r.integer}}),Object.defineProperty(a,"dateTime",{enumerable:!0,get:function(){return r.dateTime}}),Object.defineProperty(a,"langString",{enumerable:!0,get:function(){return r.langString}}),Object.defineProperty(a,"decimal",{enumerable:!0,get:function(){return r.decimal}}),Object.defineProperty(a,"float",{enumerable:!0,get:function(){return r.float}}),Object.defineProperty(a,"expressionToVar",{enumerable:!0,get:function(){return r.expressionToVar}}),Object.defineProperty(a,"Builder",{enumerable:!0,get:function(){return r.Builder}});var e=Sh();Object.defineProperty(a,"ExpressionError",{enumerable:!0,get:function(){return e.ExpressionError}}),Object.defineProperty(a,"isExpressionError",{enumerable:!0,get:function(){return e.isExpressionError}}),Object.defineProperty(a,"EmptyAggregateError",{enumerable:!0,get:function(){return e.EmptyAggregateError}}),Object.defineProperty(a,"RDFEqualTypeError",{enumerable:!0,get:function(){return e.RDFEqualTypeError}}),Object.defineProperty(a,"IncompatibleLanguageOperation",{enumerable:!0,get:function(){return e.IncompatibleLanguageOperation}}),Object.defineProperty(a,"InvalidTimezoneCall",{enumerable:!0,get:function(){return e.InvalidTimezoneCall}}),Object.defineProperty(a,"InvalidArgumentTypes",{enumerable:!0,get:function(){return e.InvalidArgumentTypes}}),Object.defineProperty(a,"CoalesceError",{enumerable:!0,get:function(){return e.CoalesceError}}),Object.defineProperty(a,"InError",{enumerable:!0,get:function(){return e.InError}}),Object.defineProperty(a,"NoAggregator",{enumerable:!0,get:function(){return e.NoAggregator}}),Object.defineProperty(a,"UnboundVariableError",{enumerable:!0,get:function(){return e.UnboundVariableError}}),Object.defineProperty(a,"CastError",{enumerable:!0,get:function(){return e.CastError}}),Object.defineProperty(a,"ExtensionFunctionError",{enumerable:!0,get:function(){return e.ExtensionFunctionError}}),Object.defineProperty(a,"InvalidLexicalForm",{enumerable:!0,get:function(){return e.InvalidLexicalForm}}),Object.defineProperty(a,"InvalidArity",{enumerable:!0,get:function(){return e.InvalidArity}});var i=Fo();Object.defineProperty(a,"typedLiteral",{enumerable:!0,get:function(){return i.typedLiteral}}),Object.defineProperty(a,"TypeURL",{enumerable:!0,get:function(){return i.TypeURL}}),Object.defineProperty(a,"TypeAlias",{enumerable:!0,get:function(){return i.TypeAlias}}),Object.defineProperty(a,"SparqlOperator",{enumerable:!0,get:function(){return i.SparqlOperator}});var s=WO();Object.defineProperty(a,"isSubTypeOf",{enumerable:!0,get:function(){return s.isSubTypeOf}});var c=X0();Object.defineProperty(a,"dayTimeDurationsToSeconds",{enumerable:!0,get:function(){return c.dayTimeDurationsToSeconds}}),Object.defineProperty(a,"defaultedDateTimeRepresentation",{enumerable:!0,get:function(){return c.defaultedDateTimeRepresentation}}),Object.defineProperty(a,"defaultedDayTimeDurationRepresentation",{enumerable:!0,get:function(){return c.defaultedDayTimeDurationRepresentation}}),Object.defineProperty(a,"defaultedDurationRepresentation",{enumerable:!0,get:function(){return c.defaultedDurationRepresentation}}),Object.defineProperty(a,"defaultedYearMonthDurationRepresentation",{enumerable:!0,get:function(){return c.defaultedYearMonthDurationRepresentation}}),Object.defineProperty(a,"extractRawTimeZone",{enumerable:!0,get:function(){return c.extractRawTimeZone}}),Object.defineProperty(a,"negateDuration",{enumerable:!0,get:function(){return c.negateDuration}}),Object.defineProperty(a,"toDateTimeRepresentation",{enumerable:!0,get:function(){return c.toDateTimeRepresentation}}),Object.defineProperty(a,"toUTCDate",{enumerable:!0,get:function(){return c.toUTCDate}}),Object.defineProperty(a,"yearMonthDurationsToMonths",{enumerable:!0,get:function(){return c.yearMonthDurationsToMonths}});var u=Oh();Object.defineProperty(a,"DateTimeLiteral",{enumerable:!0,get:function(){return u.DateTimeLiteral}}),Object.defineProperty(a,"DayTimeDurationLiteral",{enumerable:!0,get:function(){return u.DayTimeDurationLiteral}}),Object.defineProperty(a,"DateLiteral",{enumerable:!0,get:function(){return u.DateLiteral}}),Object.defineProperty(a,"DurationLiteral",{enumerable:!0,get:function(){return u.DurationLiteral}}),Object.defineProperty(a,"TimeLiteral",{enumerable:!0,get:function(){return u.TimeLiteral}}),Object.defineProperty(a,"LangStringLiteral",{enumerable:!0,get:function(){return u.LangStringLiteral}}),Object.defineProperty(a,"Term",{enumerable:!0,get:function(){return u.Term}}),Object.defineProperty(a,"YearMonthDurationLiteral",{enumerable:!0,get:function(){return u.YearMonthDurationLiteral}}),Object.defineProperty(a,"Quad",{enumerable:!0,get:function(){return u.Quad}}),Object.defineProperty(a,"Operator",{enumerable:!0,get:function(){return u.Operator}}),Object.defineProperty(a,"NamedNode",{enumerable:!0,get:function(){return u.NamedNode}}),Object.defineProperty(a,"Variable",{enumerable:!0,get:function(){return u.Variable}}),Object.defineProperty(a,"NumericLiteral",{enumerable:!0,get:function(){return u.NumericLiteral}}),Object.defineProperty(a,"BooleanLiteral",{enumerable:!0,get:function(){return u.BooleanLiteral}}),Object.defineProperty(a,"BlankNode",{enumerable:!0,get:function(){return u.BlankNode}}),Object.defineProperty(a,"DecimalLiteral",{enumerable:!0,get:function(){return u.DecimalLiteral}}),Object.defineProperty(a,"DefaultGraph",{enumerable:!0,get:function(){return u.DefaultGraph}}),Object.defineProperty(a,"DoubleLiteral",{enumerable:!0,get:function(){return u.DoubleLiteral}}),Object.defineProperty(a,"Aggregate",{enumerable:!0,get:function(){return u.Aggregate}}),Object.defineProperty(a,"Existence",{enumerable:!0,get:function(){return u.Existence}}),Object.defineProperty(a,"Literal",{enumerable:!0,get:function(){return u.Literal}}),Object.defineProperty(a,"IntegerLiteral",{enumerable:!0,get:function(){return u.IntegerLiteral}}),Object.defineProperty(a,"FloatLiteral",{enumerable:!0,get:function(){return u.FloatLiteral}}),Object.defineProperty(a,"NonLexicalLiteral",{enumerable:!0,get:function(){return u.NonLexicalLiteral}}),Object.defineProperty(a,"StringLiteral",{enumerable:!0,get:function(){return u.StringLiteral}}),Object.defineProperty(a,"isNonLexicalLiteral",{enumerable:!0,get:function(){return u.isNonLexicalLiteral}});var l=G8();Object.defineProperty(a,"addDurationToDateTime",{enumerable:!0,get:function(){return l.addDurationToDateTime}}),Object.defineProperty(a,"elapsedDuration",{enumerable:!0,get:function(){return l.elapsedDuration}});var f=XI();Object.defineProperty(a,"parseDateTime",{enumerable:!0,get:function(){return f.parseDateTime}}),Object.defineProperty(a,"parseDayTimeDuration",{enumerable:!0,get:function(){return f.parseDayTimeDuration}}),Object.defineProperty(a,"parseDuration",{enumerable:!0,get:function(){return f.parseDuration}}),Object.defineProperty(a,"parseTime",{enumerable:!0,get:function(){return f.parseTime}}),Object.defineProperty(a,"parseYearMonthDuration",{enumerable:!0,get:function(){return f.parseYearMonthDuration}}),Object.defineProperty(a,"parseXSDDecimal",{enumerable:!0,get:function(){return f.parseXSDDecimal}}),Object.defineProperty(a,"parseXSDFloat",{enumerable:!0,get:function(){return f.parseXSDFloat}}),Object.defineProperty(a,"parseDate",{enumerable:!0,get:function(){return f.parseDate}});var d=X0();Object.defineProperty(a,"trimToYearMonthDuration",{enumerable:!0,get:function(){return d.trimToYearMonthDuration}}),Object.defineProperty(a,"trimToDayTimeDuration",{enumerable:!0,get:function(){return d.trimToDayTimeDuration}})}(SI)),SI}var K8;function Y8(){if(K8)return vo;K8=1,Object.defineProperty(vo,"__esModule",{value:!0}),vo.TermFunctionBase=vo.ExpressionFunctionBase=void 0;const a=tt(),t=Me();class o{constructor({arity:e,operator:i,apply:s}){this.arity=e,this.operator=i,this.apply=s}checkArity(e){return Array.isArray(this.arity)?this.arity.includes(e.length):this.arity===Number.POSITIVE_INFINITY?!0:e.length===this.arity}}vo.ExpressionFunctionBase=o;class n extends o{constructor({arity:e,operator:i,overloads:s}){super({arity:e,operator:i,apply:async({args:c,exprEval:u,mapping:l})=>this.applyOnTerms(await Promise.all(c.map(f=>u.evaluatorExpressionEvaluation(f,l))),u)}),this.supportsTermExpressions=!0,this.overloads=s}applyOnTerms(e,i){return(this.overloads.search(e,i.context.getSafe(a.KeysExpressionEvaluator.superTypeProvider),i.context.getSafe(a.KeysInitQuery.functionArgumentsCache))??this.handleInvalidTypes(e))(i)(e)}handleInvalidTypes(e){throw new t.InvalidArgumentTypes(e,this.operator)}}return vo.TermFunctionBase=n,vo}var Z8;function $e(){return Z8||(Z8=1,function(a){var t=mo&&mo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=mo&&mo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(NP(),a),o(ase(),a),o(ose(),a),o(Y8(),a)}(mo)),mo}var No={},K0={},ej;function tj(){if(ej)return K0;ej=1,Object.defineProperty(K0,"__esModule",{value:!0}),K0.ActorQueryOperation=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}};return K0.ActorQueryOperation=t,K0}var Y0={},Do={},Z0={},rj;function Qse(){if(rj)return Z0;rj=1,Object.defineProperty(Z0,"__esModule",{value:!0}),Z0.MetadataValidationState=void 0;let a=class{constructor(){this.invalidateListeners=[],this.valid=!0}addInvalidateListener(o){this.invalidateListeners.push(o)}invalidate(){if(this.valid){this.valid=!1;for(const o of this.invalidateListeners)o()}}};return Z0.MetadataValidationState=a,Z0}var gn={},nj;function Hse(){if(nj)return gn;nj=1,Object.defineProperty(gn,"__esModule",{value:!0}),gn.cachifyMetadata=gn.validateMetadataBindings=gn.validateMetadataQuads=gn.getMetadataBindings=gn.getMetadataQuads=void 0;function a(e){return r(()=>new Promise((i,s)=>{e.getProperty("metadata",c=>i(c)),e.on("error",s)}).then(i=>o(i)))}gn.getMetadataQuads=a;function t(e){return r(()=>new Promise((i,s)=>{e.getProperty("metadata",c=>i(c)),e.on("error",s)}).then(i=>n(i)))}gn.getMetadataBindings=t;function o(e){for(const i of["cardinality"])if(!(i in e))throw new Error(`Invalid metadata: missing ${i} in ${JSON.stringify(e)}`);return e}gn.validateMetadataQuads=o;function n(e){for(const i of["cardinality","variables"])if(!(i in e))throw new Error(`Invalid metadata: missing ${i} in ${JSON.stringify(e)}`);return e}gn.validateMetadataBindings=n;function r(e){let i;return()=>(i||(i=e(),i.then(s=>s.state.addInvalidateListener(()=>{i=void 0})).catch(()=>{})),i)}return gn.cachifyMetadata=r,gn}var ij;function Nr(){return ij||(ij=1,function(a){var t=Do&&Do.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Do&&Do.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Qse(),a),o(Hse(),a)}(Do)),Do}var aj;function oj(){if(aj)return Y0;aj=1,Object.defineProperty(Y0,"__esModule",{value:!0}),Y0.ActorQueryOperationTyped=void 0;const a=tt(),t=De(),o=Nr(),n=tj();let r=class extends n.ActorQueryOperation{constructor(i,s){if(super({...i,operationName:s}),!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(i){if(!i.operation)return(0,t.failTest)("Missing field 'operation' in a query operation action.");if(i.operation.type!==this.operationName)return(0,t.failTest)(`Actor ${this.name} only supports ${this.operationName} operations, but got ${i.operation.type}`);const s=i.operation;return this.testOperation(s,i.context)}async run(i,s){const c=i.context.get(a.KeysInitQuery.physicalQueryPlanLogger);c&&(c.logOperation(i.operation.type,void 0,i.operation,i.context.get(a.KeysInitQuery.physicalQueryPlanNode),this.name,{}),i.context=i.context.set(a.KeysInitQuery.physicalQueryPlanNode,i.operation));const u=i.operation,l=i.context.set(a.KeysQueryOperation.operation,u),f=await this.runOperation(u,l,s);return"metadata"in f&&(f.metadata=(0,o.cachifyMetadata)(f.metadata)),f}};return Y0.ActorQueryOperationTyped=r,Y0}var ey={},sj;function Gse(){if(sj)return ey;sj=1,Object.defineProperty(ey,"__esModule",{value:!0}),ey.ActorQueryOperationTypedMediated=void 0;const a=oj();let t=class extends a.ActorQueryOperationTyped{constructor(n,r){super(n,r)}};return ey.ActorQueryOperationTypedMediated=t,ey}var ty={},uj;function zse(){if(uj)return ty;uj=1,Object.defineProperty(ty,"__esModule",{value:!0}),ty.BusQueryOperation=void 0;const a=De();let t=class extends a.BusIndexed{constructor(n){super({...n,actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"]})}};return ty.BusQueryOperation=t,ty}var cj;function Vt(){return cj||(cj=1,function(a){var t=No&&No.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=No&&No.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(tj(),a),o(oj(),a),o(Gse(),a),o(zse(),a)}(No)),No}var Po={},ry={},Lo={},ny={},lj;function kse(){if(lj)return ny;lj=1,Object.defineProperty(ny,"__esModule",{value:!0}),ny.ActorContextPreprocess=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}};return ny.ActorContextPreprocess=t,ny}var dj;function iy(){return dj||(dj=1,function(a){var t=Lo&&Lo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Lo&&Lo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(kse(),a)}(Lo)),Lo}var fj;function Xse(){if(fj)return ry;fj=1,Object.defineProperty(ry,"__esModule",{value:!0}),ry.ActorContextPreprocessConvertShortcuts=void 0;const a=iy(),t=De();let o=class sae extends a.ActorContextPreprocess{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){return{context:sae.expandShortcuts(r.context,this.contextKeyShortcuts)}}static expandShortcuts(r,e){for(const i of r.keys())e[i.name]&&(r=r.set(new t.ActionContextKey(e[i.name]),r.get(i)).delete(i));return r}};return ry.ActorContextPreprocessConvertShortcuts=o,ry}var hj;function Wse(){return hj||(hj=1,function(a){var t=Po&&Po.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Po&&Po.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Xse(),a)}(Po)),Po}var jo={},ay={},Mo={},oy={},pj;function yj(){if(pj)return oy;pj=1,Object.defineProperty(oy,"__esModule",{value:!0}),oy.BlankNode=void 0;class a{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}}return oy.BlankNode=a,oy}var sy={},uy={},bj;function _j(){if(bj)return uy;bj=1,Object.defineProperty(uy,"__esModule",{value:!0}),uy.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}return uy.DefaultGraph=a,a.INSTANCE=new a,uy}var cy={},ly={},mj;function WI(){if(mj)return ly;mj=1,Object.defineProperty(ly,"__esModule",{value:!0}),ly.NamedNode=void 0;class a{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}}return ly.NamedNode=a,ly}var gj;function vj(){if(gj)return cy;gj=1,Object.defineProperty(cy,"__esModule",{value:!0}),cy.Literal=void 0;const a=WI();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return cy.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),cy}var dy={},Tj;function wj(){if(Tj)return dy;Tj=1,Object.defineProperty(dy,"__esModule",{value:!0}),dy.Quad=void 0;class a{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}}return dy.Quad=a,dy}var fy={},Sj;function Oj(){if(Sj)return fy;Sj=1,Object.defineProperty(fy,"__esModule",{value:!0}),fy.Variable=void 0;class a{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}}return fy.Variable=a,fy}var Aj;function Jse(){if(Aj)return sy;Aj=1,Object.defineProperty(sy,"__esModule",{value:!0}),sy.DataFactory=void 0;const a=yj(),t=_j(),o=vj(),n=WI(),r=wj(),e=Oj();let i=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return sy.DataFactory=s,sy}var Ej;function Kse(){return Ej||(Ej=1,function(a){var t=Mo&&Mo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Mo&&Mo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(yj(),a),o(Jse(),a),o(_j(),a),o(vj(),a),o(WI(),a),o(wj(),a),o(Oj(),a)}(Mo)),Mo}var xj;function Yse(){if(xj)return ay;xj=1,Object.defineProperty(ay,"__esModule",{value:!0}),ay.ActorContextPreprocessSetDefaults=void 0;const a=iy(),t=tt(),o=De(),n=Kse();let r=class extends a.ActorContextPreprocess{constructor(i){super(i),this.defaultFunctionArgumentsCache={}}async test(i){return(0,o.passTestVoid)()}async run(i){let s=i.context;if(i.initialize){s=s.setDefault(t.KeysInitQuery.queryTimestamp,new Date).setDefault(t.KeysInitQuery.queryTimestampHighResolution,performance.now()).setDefault(t.KeysQuerySourceIdentify.sourceIds,new Map).setDefault(t.KeysCore.log,this.logger).setDefault(t.KeysInitQuery.functionArgumentsCache,this.defaultFunctionArgumentsCache).setDefault(t.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores,new Map).setDefault(t.KeysInitQuery.dataFactory,new n.DataFactory);let c={language:"sparql",version:"1.1"};s.has(t.KeysInitQuery.queryFormat)?(c=s.get(t.KeysInitQuery.queryFormat),c.language==="graphql"&&(s=s.setDefault(t.KeysInitQuery.graphqlSingularizeVariables,{}))):s=s.set(t.KeysInitQuery.queryFormat,c)}return{context:s}}};return ay.ActorContextPreprocessSetDefaults=r,ay}var Ij;function Zse(){return Ij||(Ij=1,function(a){var t=jo&&jo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=jo&&jo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Yse(),a)}(jo)),jo}var qo={},hy={},Rj;function eue(){if(Rj)return hy;Rj=1,Object.defineProperty(hy,"__esModule",{value:!0}),hy.ActorContextPreprocessSourceToDestination=void 0;const a=iy(),t=tt(),o=De();let n=class extends a.ActorContextPreprocess{constructor(e){super(e)}async test(e){return(0,o.passTestVoid)()}async run(e){if(e.context.get(t.KeysInitQuery.querySourcesUnidentified)&&!e.context.get(t.KeysRdfUpdateQuads.destination)){const i=e.context.get(t.KeysInitQuery.querySourcesUnidentified);if(i.length===1)return{context:e.context.set(t.KeysRdfUpdateQuads.destination,i[0])}}return e}};return hy.ActorContextPreprocessSourceToDestination=n,hy}var Fj;function tue(){return Fj||(Fj=1,function(a){var t=qo&&qo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=qo&&qo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(eue(),a)}(qo)),qo}var Co={},py={},yy={},JI={},JO={exports:{}},Nj;function by(){if(Nj)return JO.exports;Nj=1;var a=typeof Reflect=="object"?Reflect:null,t=a&&typeof a.apply=="function"?a.apply:function(w,O,F){return Function.prototype.apply.call(w,O,F)},o;a&&typeof a.ownKeys=="function"?o=a.ownKeys:Object.getOwnPropertySymbols?o=function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:o=function(w){return Object.getOwnPropertyNames(w)};function n(T){console&&console.warn&&console.warn(T)}var r=Number.isNaN||function(w){return w!==w};function e(){e.init.call(this)}JO.exports=e,JO.exports.once=y,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._eventsCount=0,e.prototype._maxListeners=void 0;var i=10;function s(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(e,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(T){if(typeof T!="number"||T<0||r(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");i=T}}),e.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},e.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||r(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this};function c(T){return T._maxListeners===void 0?e.defaultMaxListeners:T._maxListeners}e.prototype.getMaxListeners=function(){return c(this)},e.prototype.emit=function(w){for(var O=[],F=1;F<arguments.length;F++)O.push(arguments[F]);var Q=w==="error",j=this._events;if(j!==void 0)Q=Q&&j.error===void 0;else if(!Q)return!1;if(Q){var x;if(O.length>0&&(x=O[0]),x instanceof Error)throw x;var I=new Error("Unhandled error."+(x?" ("+x.message+")":""));throw I.context=x,I}var D=j[w];if(D===void 0)return!1;if(typeof D=="function")t(D,this,O);else for(var C=D.length,X=p(D,C),F=0;F<C;++F)t(X[F],this,O);return!0};function u(T,w,O,F){var Q,j,x;if(s(O),j=T._events,j===void 0?(j=T._events=Object.create(null),T._eventsCount=0):(j.newListener!==void 0&&(T.emit("newListener",w,O.listener?O.listener:O),j=T._events),x=j[w]),x===void 0)x=j[w]=O,++T._eventsCount;else if(typeof x=="function"?x=j[w]=F?[O,x]:[x,O]:F?x.unshift(O):x.push(O),Q=c(T),Q>0&&x.length>Q&&!x.warned){x.warned=!0;var I=new Error("Possible EventEmitter memory leak detected. "+x.length+" "+String(w)+" listeners added. Use emitter.setMaxListeners() to increase limit");I.name="MaxListenersExceededWarning",I.emitter=T,I.type=w,I.count=x.length,n(I)}return T}e.prototype.addListener=function(w,O){return u(this,w,O,!1)},e.prototype.on=e.prototype.addListener,e.prototype.prependListener=function(w,O){return u(this,w,O,!0)};function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(T,w,O){var F={fired:!1,wrapFn:void 0,target:T,type:w,listener:O},Q=l.bind(F);return Q.listener=O,F.wrapFn=Q,Q}e.prototype.once=function(w,O){return s(O),this.on(w,f(this,w,O)),this},e.prototype.prependOnceListener=function(w,O){return s(O),this.prependListener(w,f(this,w,O)),this},e.prototype.removeListener=function(w,O){var F,Q,j,x,I;if(s(O),Q=this._events,Q===void 0)return this;if(F=Q[w],F===void 0)return this;if(F===O||F.listener===O)--this._eventsCount===0?this._events=Object.create(null):(delete Q[w],Q.removeListener&&this.emit("removeListener",w,F.listener||O));else if(typeof F!="function"){for(j=-1,x=F.length-1;x>=0;x--)if(F[x]===O||F[x].listener===O){I=F[x].listener,j=x;break}if(j<0)return this;j===0?F.shift():_(F,j),F.length===1&&(Q[w]=F[0]),Q.removeListener!==void 0&&this.emit("removeListener",w,I||O)}return this},e.prototype.off=e.prototype.removeListener,e.prototype.removeAllListeners=function(w){var O,F,Q;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[w]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[w]),this;if(arguments.length===0){var j=Object.keys(F),x;for(Q=0;Q<j.length;++Q)x=j[Q],x!=="removeListener"&&this.removeAllListeners(x);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(O=F[w],typeof O=="function")this.removeListener(w,O);else if(O!==void 0)for(Q=O.length-1;Q>=0;Q--)this.removeListener(w,O[Q]);return this};function d(T,w,O){var F=T._events;if(F===void 0)return[];var Q=F[w];return Q===void 0?[]:typeof Q=="function"?O?[Q.listener||Q]:[Q]:O?g(Q):p(Q,Q.length)}e.prototype.listeners=function(w){return d(this,w,!0)},e.prototype.rawListeners=function(w){return d(this,w,!1)},e.listenerCount=function(T,w){return typeof T.listenerCount=="function"?T.listenerCount(w):h.call(T,w)},e.prototype.listenerCount=h;function h(T){var w=this._events;if(w!==void 0){var O=w[T];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}e.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};function p(T,w){for(var O=new Array(w),F=0;F<w;++F)O[F]=T[F];return O}function _(T,w){for(;w+1<T.length;w++)T[w]=T[w+1];T.pop()}function g(T){for(var w=new Array(T.length),O=0;O<w.length;++O)w[O]=T[O].listener||T[O];return w}function y(T,w){return new Promise(function(O,F){function Q(x){T.removeListener(w,j),F(x)}function j(){typeof T.removeListener=="function"&&T.removeListener("error",Q),O([].slice.call(arguments))}b(T,w,j,{once:!0}),w!=="error"&&m(T,Q,{once:!0})})}function m(T,w,O){typeof T.on=="function"&&b(T,"error",w,O)}function b(T,w,O,F){if(typeof T.on=="function")F.once?T.once(w,O):T.on(w,O);else if(typeof T.addEventListener=="function")T.addEventListener(w,function Q(j){F.once&&T.removeEventListener(w,Q),O(j)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}return JO.exports}var _y={},Dj;function rue(){if(Dj)return _y;Dj=1,Object.defineProperty(_y,"__esModule",{value:!0}),_y.LinkedList=void 0;class a{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var o;return(o=this._head)===null||o===void 0?void 0:o.value}get last(){var o;return(o=this._tail)===null||o===void 0?void 0:o.value}get empty(){return this._head===null}push(o){const n={value:o,next:null};this._tail===null?this._head=this._tail=n:this._tail.next=this._tail=n,this._length++}shift(){if(this._head===null)return;const{value:o,next:n}=this._head;return this._head=n,n===null&&(this._tail=null),this._length--,o}clear(){this._length=0,this._head=this._tail=null}}return _y.LinkedList=a,_y}var my={},Pj;function nue(){if(Pj)return my;Pj=1,Object.defineProperty(my,"__esModule",{value:!0}),my.createTaskScheduler=void 0;const a=Promise.resolve(void 0);function t(){const o=typeof queueMicrotask=="function"?queueMicrotask:i=>a.then(i),n=typeof setImmediate=="function"?setImmediate:i=>setTimeout(i,0);let r=0,e=null;return i=>{e!==null?e.push(i):++r<100?o(i):(e=[i],n(()=>{for(const s of e)o(s);e=null,r=0}))}}return my.createTaskScheduler=t,my}var Lj;function Tt(){return Lj||(Lj=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.isIterator=a.isIterable=a.isSourceExpression=a.isPromise=a.isEventEmitter=a.isFunction=a.range=a.union=a.fromIterable=a.fromIterator=a.fromArray=a.single=a.empty=a.wrap=a.WrappingIterator=a.ClonedIterator=a.UnionIterator=a.MultiTransformIterator=a.SimpleTransformIterator=a.TransformIterator=a.BufferedIterator=a.MappingIterator=a.DESTINATION=a.identity=a.IntegerIterator=a.ArrayIterator=a.SingletonIterator=a.EmptyIterator=a.AsyncIterator=a.DESTROYED=a.ENDED=a.CLOSED=a.CLOSING=a.OPEN=a.INIT=a.setTaskScheduler=a.getTaskScheduler=a.scheduleTask=a.LinkedList=void 0;const t=by(),o=rue();Object.defineProperty(a,"LinkedList",{enumerable:!0,get:function(){return o.LinkedList}});let r=nue().createTaskScheduler();function e(B){r(B)}a.scheduleTask=e;function i(){return r}a.getTaskScheduler=i;function s(B){r=B}a.setTaskScheduler=s,a.INIT=1,a.OPEN=2,a.CLOSING=4,a.CLOSED=8,a.ENDED=16,a.DESTROYED=32;class c extends t.EventEmitter{constructor(R=a.OPEN){super(),this._readable=!1,this._state=R,this.on("newListener",u)}_changeState(R,q=!1){const W=R>this._state&&this._state<a.ENDED;return W&&(this._state=R,R===a.ENDED&&(q?r(()=>this.emit("end")):this.emit("end"))),W}read(){return null}forEach(R,q){this.on("data",He(R,q))}close(){this._changeState(a.CLOSED)&&this._endAsync()}destroy(R){this.done||this._destroy(R,q=>{R=R||q,R&&this.emit("error",R),this._end(!0)})}_destroy(R,q){q()}_end(R=!1){this._changeState(R?a.DESTROYED:a.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){r(()=>this._end())}get readable(){return this._readable}set readable(R){R=!!R&&!this.done,this._readable!==R&&(this._readable=R,R&&r(()=>this.emit("readable")))}get closed(){return this._state>=a.CLOSING}get ended(){return this._state===a.ENDED}get destroyed(){return this._state===a.DESTROYED}get done(){return this._state>=a.ENDED}toString(){const R=this._toStringDetails();return`[${this.constructor.name}${R?` ${R}`:""}]`}_toStringDetails(){return""}toArray(R){const q=[],W=typeof(R==null?void 0:R.limit)=="number"?R.limit:1/0;return this.ended||W<=0?Promise.resolve(q):new Promise((re,Y)=>{const ue=()=>re(q),te=le=>{q.push(le),q.length>=W&&(this.removeListener("error",Y),this.removeListener("data",te),this.removeListener("end",ue),re(q))};this.on("error",Y),this.on("data",te),this.on("end",ue)})}getProperty(R,q){const W=this._properties;if(!q)return W&&W[R];if(W&&R in W)r(()=>q(W[R]));else{let re;(re=this._propertyCallbacks)||(this._propertyCallbacks=re=Object.create(null)),R in re?re[R].push(q):re[R]=[q]}}setProperty(R,q){const W=this._properties||(this._properties=Object.create(null));W[R]=q;const re=this._propertyCallbacks||{},Y=re[R];if(Y){delete re[R],r(()=>{for(const ue of Y)ue(q)});for(R in re)return;delete this._propertyCallbacks}}getProperties(){const R=this._properties,q={};for(const W in R)q[W]=R[W];return q}setProperties(R){for(const q in R)this.setProperty(q,R[q])}copyProperties(R,q){for(const W of q)R.getProperty(W,re=>this.setProperty(W,re))}transform(R){return new x(this,R)}map(R,q){return new y(this,He(R,q))}filter(R,q){return this.map(function(W){return R.call(q||this,W)?W:null})}uniq(R=g){const q=new Set;return this.filter(function(W){const re=R.call(this,W);return q.has(re)?!1:(q.add(re),!0)})}prepend(R){return this.transform({prepend:R})}append(R){return this.transform({append:R})}surround(R,q){return this.transform({prepend:R,append:q})}skip(R){return this.map(q=>R-- >0?null:q)}take(R){return this.transform({limit:R})}range(R,q){return this.transform({offset:R,limit:Math.max(q-R+1,0)})}clone(){return new X(this)}[Symbol.asyncIterator](){const R=this;let q=null,W=null,re=null;R.addListener("readable",Y),R.addListener("end",Y),R.addListener("error",ue);function Y(){if(q!==null)if(re!==null)ue(re);else if(R.done)q({done:!0,value:void 0}),q=W=null,te();else{const le=R.read();le!==null&&(q({done:!1,value:le}),q=W=null)}}function ue(le){W!==null?(W(le),q=W=re=null,te()):re===null&&(re=le)}function te(){R.removeListener("readable",Y),R.removeListener("end",Y),R.removeListener("error",ue)}return{next(){return new Promise((le,Oe)=>{q=le,W=Oe,Y()})}}}}a.AsyncIterator=c;function u(B){B==="data"&&(this.removeListener("newListener",u),f(this,"readable",l),this.readable&&r(()=>l.call(this)))}function l(){let B;for(;this.listenerCount("data")!==0&&(B=this.read())!==null;)this.emit("data",B);this.listenerCount("data")===0&&!this.done&&(this.removeListener("readable",l),f(this,"newListener",u))}function f(B,R,q){B.listeners(R).includes(q)||B.on(R,q)}class d extends c{constructor(){super(),this._changeState(a.ENDED,!0)}}a.EmptyIterator=d;class h extends c{constructor(R){super(),this._item=R,R===null?this.close():this.readable=!0}read(){const R=this._item;return this._item=null,this.close(),R}_toStringDetails(){return this._item===null?"":`(${this._item})`}}a.SingletonIterator=h;class p extends c{constructor(R=[],{autoStart:q=!0,preserve:W=!0}={}){super();const re=W||!Array.isArray(R)?[...R]:R;this._index=0,this._sourceStarted=q!==!1,this._truncateThreshold=W?-1:64,this._sourceStarted&&re.length===0?this.close():this._buffer=re,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let R=null;return this._buffer&&(this._index<this._buffer.length&&(R=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),R}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(R,q){delete this._buffer,q()}toArray(R={}){if(!this._buffer)return Promise.resolve([]);const{length:q}=this._buffer,W=this._index,re=typeof R.limit!="number"?q:W+R.limit,Y=this._buffer.slice(W,re);return this._index=re,re>=q&&this.close(),Promise.resolve(Y)}}a.ArrayIterator=p;class _ extends c{constructor({start:R=0,step:q=1,end:W}={}){super(),Number.isFinite(R)&&(R=Math.trunc(R)),this._next=R,Number.isFinite(q)&&(q=Math.trunc(q)),this._step=q;const re=q>=0,Y=re?1/0:-1/0;Number.isFinite(W)?W=Math.trunc(W):W!==-Y&&(W=Y),this._last=W,!Number.isFinite(R)||(re?R>W:R<W)?this.close():this.readable=!0}read(){if(this.closed)return null;const R=this._next,q=this._step,W=this._last,re=this._next+=q;return(q>=0?re>W:re<W)&&this.close(),R}_toStringDetails(){return`(${this._next}...${this._last})`}}a.IntegerIterator=_;function g(B){return B}a.identity=g,a.DESTINATION=Symbol("destination");class y extends c{constructor(R,q=g,W={}){super(),this._map=q,this._source=m(R),this._destroySource=W.destroySource!==!1,R.done?this.close():(this._source[a.DESTINATION]=this,this._source.on("end",F),this._source.on("error",O),this._source.on("readable",w),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let R,q;for(;(R=this._source.read())!==null;)if((q=this._map(R))!==null)return q}this.readable=!1,this._source.done&&this.close()}return null}_end(R){this._source.removeListener("end",F),this._source.removeListener("error",O),this._source.removeListener("readable",w),delete this._source[a.DESTINATION],this._destroySource&&this._source.destroy(),super._end(R)}}a.MappingIterator=y;function m(B,R=!1){if(!B||!qe(B.read)||!qe(B.on))throw new TypeError(`Invalid source: ${B}`);if(!R&&B[a.DESTINATION])throw new Error("The source already has a destination");return B}class b extends c{constructor({maxBufferSize:R=4,autoStart:q=!0}={}){super(a.INIT),this._buffer=new o.LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=R,r(()=>this._init(q)),this._sourceStarted=q!==!1}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(R){R!==1/0&&(R=Number.isFinite(R)?Math.max(Math.trunc(R),1):4),this._maxBufferSize!==R&&(this._maxBufferSize=R,this._state===a.OPEN&&this._fillBuffer())}_init(R){let q=!1;this._reading=!0,this._begin(()=>{if(q)throw new Error("done callback called multiple times");q=!0,this._reading=!1,this._changeState(a.OPEN),R?this._fillBufferAsync():this.readable=!0})}_begin(R){R()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const R=this._buffer;let q;return R.empty?(q=null,this.readable=!1):q=R.shift(),!this._reading&&R.length<this._maxBufferSize&&(this.closed?R.empty&&this._endAsync():this._fillBufferAsync()),q}_read(R,q){q()}_push(R){this.done||(this._pushedCount++,this._buffer.push(R),this.readable=!0)}_fillBuffer(){let R;this._reading||(this.closed?this._completeClose():(R=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(R,()=>{if(!R)throw new Error("done callback called multiple times");R=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,r(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(a.CLOSING):this._completeClose()}_completeClose(){this._changeState(a.CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(R,q){this._buffer.clear(),q()}_flush(R){R()}_toStringDetails(){const R=this._buffer;return`{${R.empty?"":`next: ${R.first}, `}buffer: ${R.length}}`}}a.BufferedIterator=b;class T extends b{constructor(R,q=R||{}){super(q),this._boundPush=W=>this._push(W),we(R)||(R=q.source),Ce(R)?this.source=R:R&&(this._createSource=xe(R)?()=>R:R,this._sourceStarted&&this._loadSourceAsync()),this._optional=!!q.optional,this._destroySource=q.destroySource!==!1}get source(){return qe(this._createSource)&&this._loadSourceAsync(),this._source}set source(R){const q=this._source=this._validateSource(R);q[a.DESTINATION]=this,this.done?this._destroySource&&q.destroy():q.done?this.close():(q.on("end",Q),q.on("readable",j),q.on("error",O))}_loadSourceAsync(){qe(this._createSource)&&(Promise.resolve(this._createSource()).then(R=>{delete this._createSource,this.source=R,this._fillBuffer()},R=>this.emit("error",R)),this._createSource=null)}_validateSource(R,q=!1){if(this._source||typeof this._createSource<"u")throw new Error("The source cannot be changed after it has been set");return m(R,q)}_read(R,q){const W=()=>{this._pushedCount<R&&!this.closed?r(()=>this._readAndTransform(W,q)):q()};this._readAndTransform(W,q)}_readAndTransform(R,q){let W;const re=this.source;!re||re.done||(W=re.read())===null?q():this._optional?this._optionalTransform(W,R):this._transform(W,R,this._boundPush)}_optionalTransform(R,q){const W=this._pushedCount;this._transform(R,()=>{W===this._pushedCount&&this._push(R),q()},this._boundPush)}_transform(R,q,W){W(R),q()}_closeWhenDone(){this.close()}_end(R){const q=this._source;q&&(q.removeListener("end",Q),q.removeListener("error",O),q.removeListener("readable",j),delete q[a.DESTINATION],this._destroySource&&q.destroy()),super._end(R)}}a.TransformIterator=T;function w(){this[a.DESTINATION].readable=!0}function O(B){this[a.DESTINATION].emit("error",B)}function F(){this[a.DESTINATION].close()}function Q(){this[a.DESTINATION]._closeWhenDone()}function j(){this[a.DESTINATION]._sourceStarted!==!1&&this[a.DESTINATION]._fillBuffer()}class x extends T{constructor(R,q){if(super(R,q),this._offset=0,this._limit=1/0,this._filter=W=>!0,q=q||(we(R)?null:R),q){const W=qe(q)?q:q.transform,{limit:re,offset:Y,filter:ue,map:te,prepend:le,append:Oe}=q;Y===1/0||re===-1/0?this._limit=0:(Number.isFinite(Y)&&(this._offset=Math.max(Math.trunc(Y),0)),Number.isFinite(re)&&(this._limit=Math.max(Math.trunc(re),0)),qe(ue)&&(this._filter=ue),qe(te)&&(this._map=te),this._transform=qe(W)?W:null),le&&(this._prepender=Ce(le)?le:K(le)),Oe&&(this._appender=Ce(Oe)?Oe:K(Oe))}}_read(R,q){const W=()=>this._readAndTransformSimple(R,re,q);this._readAndTransformSimple(R,re,q);function re(){r(W)}}_readAndTransformSimple(R,q,W){let re;const{source:Y}=this;if(!Y||Y.done){W();return}for(this._limit===0&&this.close();!this.closed&&this._pushedCount<R&&(re=Y.read())!==null;){if(!this._filter(re)||this._offset!==0&&this._offset--)continue;const ue=typeof this._map>"u"?re:this._map(re);if(ue===null)this._optional&&this._push(re);else if(!qe(this._transform))this._push(ue);else{this._optional?this._optionalTransform(ue,q):this._transform(ue,q,this._boundPush);return}--this._limit===0&&this.close()}W()}_begin(R){this._insert(this._prepender,R),delete this._prepender}_flush(R){this._insert(this._appender,R),delete this._appender}_insert(R,q){const W=Y=>this._push(Y);!R||R.done?q():(R.on("data",W),R.on("end",re));function re(){R.removeListener("data",W),R.removeListener("end",re),q()}}}a.SimpleTransformIterator=x;class I extends T{constructor(R,q){if(super(R,q),this._transformerQueue=[],q){const W=qe(q)?q:q.multiTransform;W&&(this._createTransformer=W)}}_read(R,q){const W=this._transformerQueue,re=this._optional;let Y,ue;for(;(Y=W[0])&&Y.transformer.done;){re&&Y.item!==null&&(R--,this._push(Y.item)),W.shift();const{transformer:le}=Y;le.removeListener("end",j),le.removeListener("readable",j),le.removeListener("error",O)}const{source:te}=this;for(;te&&!te.done&&W.length<this.maxBufferSize&&(ue=te.read(),ue!==null);){const le=this._createTransformer(ue)||new d;le[a.DESTINATION]=this,le.on("end",j),le.on("readable",j),le.on("error",O),W.push({transformer:le,item:ue})}if(Y=W[0],Y){const{transformer:le}=Y;for(;R-- >0&&(ue=le.read())!==null;)this._push(ue),re&&(Y.item=null)}else te&&te.done&&this.close();q()}_createTransformer(R){return new h(R)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(R){if(super._end(R),this._destroySource)for(const q of this._transformerQueue)q.transformer.destroy()}}a.MultiTransformIterator=I;class D extends b{constructor(R,q={}){super(q),this._sources=[],this._currentSource=-1;const W=q.autoStart!==!1;if(Ce(R))R.on("error",re=>this.emit("error",re)),this._pending={loading:!1,sources:R},W&&this._loadSources();else if(Array.isArray(R)&&R.length>0)for(const re of R)this._addSource(re);else W&&this.close();this._destroySources=q.destroySources!==!1}_loadSources(){const R=this._pending.sources;this._pending.loading=!0,R.done?(delete this._pending,this.close()):(R.on("data",q=>{this._addSource(q),this._fillBufferAsync()}),R.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(R){xe(R)&&(R=ie(R)),R.done||(this._sources.push(R),R[a.DESTINATION]=this,R.on("error",O),R.on("readable",j),R.on("end",C))}_removeEmptySources(){this._sources=this._sources.filter((R,q)=>(R.done&&q<=this._currentSource&&this._currentSource--,!R.done)),this._fillBuffer()}_read(R,q){var W;((W=this._pending)===null||W===void 0?void 0:W.loading)===!1&&this._loadSources();let re=0,Y;for(;re!==(re=R);)for(let ue=0;ue<this._sources.length&&R>0;ue++)this._currentSource=(this._currentSource+1)%this._sources.length,(Y=this._sources[this._currentSource].read())!==null&&(R--,this._push(Y));!this._pending&&this._sources.length===0&&this.close(),q()}_end(R=!1){if(super._end(R),this._destroySources){for(const q of this._sources)q.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}a.UnionIterator=D;function C(){this[a.DESTINATION]._removeEmptySources()}class X extends T{constructor(R){super(R,{autoStart:!1}),this._readPosition=0,this._reading=!1,R&&(this.readable=!0)}_init(){}close(){c.prototype.close.call(this)}get source(){return super.source}set source(R){const q=this._source=this._validateSource(R),W=q&&q[a.DESTINATION]||(q[a.DESTINATION]=new z(q));this.done?this._destroySource&&q.destroy():W.endsAt(0)?this.close():(W.register(this),(q._sourceStarted===!1||W.readAt(0)!==null)&&(this.readable=!0));const re=this._propertyCallbacks;for(const Y in re){const ue=re[Y];for(const te of ue)this._getSourceProperty(Y,te)}}_validateSource(R,q=!1){const W=R&&R[a.DESTINATION];return super._validateSource(R,!W||W instanceof z)}getProperty(R,q){const{source:W}=this,re=this._properties,Y=re&&R in re;if(!q)return Y?re&&re[R]:W&&W.getProperty(R);super.getProperty(R,q),W&&!Y&&this._getSourceProperty(R,q)}_getSourceProperty(R,q){this.source.getProperty(R,W=>{(!this._properties||!(R in this._properties))&&q(W)})}getProperties(){const R=this.source?this.source.getProperties():{},q=this._properties;for(const W in q)R[W]=q[W];return R}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const R=this.source;let q=null;if(!this.done&&R){const W=R[a.DESTINATION];(q=W.readAt(this._readPosition))!==null?this._readPosition++:this.readable=!1,W.endsAt(this._readPosition)&&this.close()}return q}_end(R){const q=this.source,W=q==null?void 0:q[a.DESTINATION];W&&W.unregister(this),b.prototype._end.call(this,R)}}a.ClonedIterator=X;class z{constructor(R){if(this._history=[],this._trackers=new Set,this._source=R,!R.done){const q=()=>{for(const Y of this._trackers)Y.readable=!0},W=Y=>{for(const ue of this._trackers)ue.emit("error",Y)},re=()=>{for(const Y of this._trackers)Y._sourceStarted!==!1&&Y._readPosition===this._history.length&&Y.close();this._trackers.clear(),R.removeListener("end",re),R.removeListener("error",W),R.removeListener("readable",q)};R.on("end",re),R.on("error",W),R.on("readable",q)}}register(R){this._source.done||this._trackers.add(R)}unregister(R){this._trackers.delete(R)}readAt(R){let q=null;return R<this._history.length?q=this._history[R]:!this._source.done&&(q=this._source.read())!==null&&(this._history[R]=q),q}endsAt(R){return this._source.done&&this._history.length===R}}class J extends c{constructor(R,q){super(),this._source=null,this._destroySource=(q==null?void 0:q.destroySource)!==!1,xe(R)?(this._source=new c,R.then(W=>{this._source=null,this.source=W}).catch(W=>this.emit("error",W))):R&&(this.source=R)}set source(R){let q=R;if(this._source!==null)throw new Error("The source cannot be changed after it has been set");if(ee(q)&&(q=q[Symbol.iterator]()),M(q)){let W=q;q=new t.EventEmitter,q.read=()=>{if(W!==null){let re;for(;!(re=W.next()).done;)if(re.value!==null)return re.value;W=null,this.close()}return null}}else q=m(q);if(this.done){this._destroySource&&qe(q.destroy)&&q.destroy();return}q[a.DESTINATION]=this,q.on("end",F),q.on("error",O),q.on("readable",w),this._source=q,this.readable=q.readable!==!1}read(){if(this._source!==null&&this._source.readable!==!1){const R=this._source.read();if(R!==null)return R;this.readable=!1}return null}_end(R=!1){this._source!==null&&(this._source.removeListener("end",F),this._source.removeListener("error",O),this._source.removeListener("readable",w),delete this._source[a.DESTINATION],this._destroySource&&qe(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(R)}}a.WrappingIterator=J;function ie(B,R){if(R&&("autoStart"in R||"optional"in R||"source"in R||"maxBufferSize"in R))return B&&!Ce(B)&&(B=new J(B)),new T(B,R);if(!B)return se();if(xe(B))return new J(B,R);if(B instanceof c)return B;if(Array.isArray(B))return K(B);if(ee(B)||M(B)||Ce(B))return new J(B,R);throw new TypeError(`Invalid source: ${B}`)}a.wrap=ie;function se(){return new d}a.empty=se;function ye(B){return new h(B)}a.single=ye;function K(B){return new p(B)}a.fromArray=K;function Te(B){return new J(B)}a.fromIterator=Te;function Ne(B){return new J(B)}a.fromIterable=Ne;function _e(B){return new D(B)}a.union=_e;function $(B,R,q){return new _({start:B,end:R,step:q})}a.range=$;function He(B,R){return R?B.bind(R):B}function qe(B){return typeof B=="function"}a.isFunction=qe;function Ce(B){return qe(B==null?void 0:B.on)}a.isEventEmitter=Ce;function xe(B){return qe(B==null?void 0:B.then)}a.isPromise=xe;function we(B){return B&&(Ce(B)||xe(B)||qe(B))}a.isSourceExpression=we;function ee(B){return B&&Symbol.iterator in B}a.isIterable=ee;function M(B){return qe(B==null?void 0:B.next)}a.isIterator=M}(JI)),JI}var KI={},Bo={},gy={},jj;function iue(){if(jj)return gy;jj=1,Object.defineProperty(gy,"__esModule",{value:!0}),gy.BlankNodeScoped=void 0;let a=class{constructor(o,n){this.termType="BlankNode",this.value=o,this.skolemized=n}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}};return gy.BlankNodeScoped=a,gy}var vy={},Mj;function aue(){if(Mj)return vy;Mj=1,Object.defineProperty(vy,"__esModule",{value:!0}),vy.BlankNodeBindingsScoped=void 0;let a=class{constructor(o){this.termType="BlankNode",this.singleBindingsScope=!0,this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}};return vy.BlankNodeBindingsScoped=a,vy}var qj;function YI(){return qj||(qj=1,function(a){var t=Bo&&Bo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Bo&&Bo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(iue(),a),o(aue(),a)}(Bo)),Bo}var Cj;function ZI(){return Cj||(Cj=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.deskolemizeOperation=a.deskolemizeQuad=a.deskolemizeTermNestedThrowing=a.deskolemizeTerm=a.skolemizeBindingsStream=a.skolemizeQuadStream=a.skolemizeBindings=a.skolemizeQuad=a.skolemizeTerm=a.getSourceId=a.SKOLEM_PREFIX=void 0;const t=YI(),o=Mr(),n=mt();a.SKOLEM_PREFIX="urn:comunica_skolem:source_";function r(p,_){let g=p.get(_.referenceValue);return g===void 0&&(g=`${p.size}`,p.set(_.referenceValue,g)),g}a.getSourceId=r;function e(p,_,g){return _.termType==="BlankNode"?new t.BlankNodeScoped(`bc_${g}_${_.value}`,p.namedNode(`${a.SKOLEM_PREFIX}${g}:${_.value}`)):_}a.skolemizeTerm=e;function i(p,_,g){return(0,o.mapTermsNested)(_,y=>e(p,y,g))}a.skolemizeQuad=i;function s(p,_,g){return _.map(y=>y.termType==="Quad"?i(p,y,g):e(p,y,g))}a.skolemizeBindings=s;function c(p,_,g){const y=_.map(b=>i(p,b,g));function m(){_.getProperty("metadata",b=>{y.setProperty("metadata",b),b.state.addInvalidateListener(m)})}return m(),y}a.skolemizeQuadStream=c;function u(p,_,g){const y=_.map(b=>s(p,b,g));function m(){_.getProperty("metadata",b=>{y.setProperty("metadata",b),b.state.addInvalidateListener(m)})}return m(),y}a.skolemizeBindingsStream=u;function l(p,_,g){if(_.termType==="BlankNode"&&"skolemized"in _&&(_=_.skolemized),_.termType==="NamedNode"&&_.value.startsWith(a.SKOLEM_PREFIX)){const y=_.value.indexOf(":",a.SKOLEM_PREFIX.length);if(_.value.slice(a.SKOLEM_PREFIX.length,y)===g){const b=_.value.slice(y+1,_.value.length);return p.blankNode(b)}return null}return _}a.deskolemizeTerm=l;function f(p,_,g){if(_.termType==="Quad")return(0,o.mapTermsNested)(_,m=>{const b=l(p,m,g);if(!b)throw new Error("Skolemized term is not in scope for this source");return b});const y=l(p,_,g);if(y===null)throw new Error("Skolemized term is not in scope for this source");return y}a.deskolemizeTermNestedThrowing=f;function d(p,_,g){return(0,o.mapTermsNested)(_,y=>l(p,y,g)??y)}a.deskolemizeQuad=d;function h(p,_,g){const y=new n.Factory;try{return n.Util.mapOperation(_,{[n.Algebra.types.PATTERN](m,b){return{result:Object.assign(b.createPattern(f(p,m.subject,g),f(p,m.predicate,g),f(p,m.object,g),f(p,m.graph,g)),{metadata:m.metadata}),recurse:!1}},[n.Algebra.types.PATH](m,b){return{result:Object.assign(b.createPath(f(p,m.subject,g),m.predicate,f(p,m.object,g),f(p,m.graph,g)),{metadata:m.metadata}),recurse:!1}}},y)}catch{}}a.deskolemizeOperation=h}(KI)),KI}var Bj;function $j(){if(Bj)return yy;Bj=1,Object.defineProperty(yy,"__esModule",{value:!0}),yy.QuerySourceSkolemized=void 0;const a=tt(),t=Nr(),o=Tt(),n=ZI();let r=class{constructor(i,s){this.innerSource=i,this.sourceId=s}async getSelectorShape(i){return this.innerSource.getSelectorShape(i)}queryBindings(i,s,c){const u=s.getSafe(a.KeysInitQuery.dataFactory),l=(0,n.deskolemizeOperation)(u,i,this.sourceId);if(!l){const f=new o.ArrayIterator([],{autoStart:!1});return f.setProperty("metadata",{state:new t.MetadataValidationState,cardinality:{type:"exact",value:0},variables:[]}),f}return(0,n.skolemizeBindingsStream)(u,this.innerSource.queryBindings(l,s,c),this.sourceId)}queryBoolean(i,s){return this.innerSource.queryBoolean(i,s)}queryQuads(i,s){const c=s.getSafe(a.KeysInitQuery.dataFactory),u=(0,n.deskolemizeOperation)(c,i,this.sourceId);if(!u){const l=new o.ArrayIterator([],{autoStart:!1});return l.setProperty("metadata",{state:new t.MetadataValidationState,cardinality:{type:"exact",value:0}}),l}return(0,n.skolemizeQuadStream)(c,this.innerSource.queryQuads(u,s),this.sourceId)}queryVoid(i,s){return this.innerSource.queryVoid(i,s)}get referenceValue(){return this.innerSource.referenceValue}toString(){return`${this.innerSource.toString()}(SkolemID:${this.sourceId})`}};return yy.QuerySourceSkolemized=r,yy}var Uj;function oue(){if(Uj)return py;Uj=1,Object.defineProperty(py,"__esModule",{value:!0}),py.ActorContextPreprocessQuerySourceSkolemize=void 0;const a=iy(),t=tt(),o=De(),n=$j(),r=ZI();let e=class extends a.ActorContextPreprocess{constructor(s){super(s)}async test(s){return(0,o.passTestVoid)()}async run(s){let c=s.context;if(c.has(t.KeysQueryOperation.querySources)){c.has(t.KeysQuerySourceIdentify.sourceIds)||(c=c.set(t.KeysQuerySourceIdentify.sourceIds,new Map));const u=c.getSafe(t.KeysQuerySourceIdentify.sourceIds);let l=c.getSafe(t.KeysQueryOperation.querySources);l=l.map(f=>({source:new n.QuerySourceSkolemized(f.source,(0,r.getSourceId)(u,f.source)),context:f.context})),c=c.set(t.KeysQueryOperation.querySources,l)}return{context:c}}};return py.ActorContextPreprocessQuerySourceSkolemize=e,py}var Vj;function Qj(){return Vj||(Vj=1,function(a){var t=Co&&Co.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Co&&Co.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(oue(),a),o($j(),a),o(ZI(),a)}(Co)),Co}var $o={},Ty={},Hj;function sue(){if(Hj)return Ty;Hj=1,Object.defineProperty(Ty,"__esModule",{value:!0}),Ty.MediatorCombinePipeline=void 0;const a=De();let t=class extends a.Mediator{constructor(n){super(n)}async mediate(n){let r;try{r=this.publish(n)}catch{return n}if(this.filterFailures){const c=[];for(const u of r)(await u.reply).isPassed()&&c.push(u);r=c}const e=[];if(r=await Promise.all(r.map(async({actor:c,reply:u},l)=>{try{const f=await u,d=f.getOrThrow();return e[l]=f.getSideData(),{actor:c,reply:d}}catch(f){throw new Error(this.constructFailureMessage(n,[f.message]))}})),this.order){const c=u=>{const l=this.field?u[this.field]:u;if(typeof l!="number")throw new TypeError("Cannot order elements that are not numbers.");return l};r=r.sort((u,l)=>(this.order==="increasing"?1:-1)*(c(u.reply)-c(l.reply)))}let i=n,s=0;for(const{actor:c}of r)i={...i,...await c.runObservable(i,e[s++])};return i}mediateWith(){throw new Error("Method not supported.")}};return Ty.MediatorCombinePipeline=t,Ty}var Gj;function zj(){return Gj||(Gj=1,function(a){var t=$o&&$o.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=$o&&$o.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(sue(),a)}($o)),$o}var Uo={},wy={},Vo={},Sy={},kj;function uue(){if(kj)return Sy;kj=1,Object.defineProperty(Sy,"__esModule",{value:!0}),Sy.ActorHashBindings=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}};return Sy.ActorHashBindings=t,Sy}var Xj;function cue(){return Xj||(Xj=1,function(a){var t=Vo&&Vo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Vo&&Vo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(uue(),a)}(Vo)),Vo}var eR={exports:{}};/**
 * @preserve
 * JS Implementation of incremental MurmurHash3 (r150) (as of May 10, 2013)
 *
 * @author <a href="mailto:jensyt@gmail.com">Jens Taylor</a>
 * @see http://github.com/homebrewing/brauhaus-diff
 * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
 * @see http://github.com/garycourt/murmurhash-js
 * @author <a href="mailto:aappleby@gmail.com">Austin Appleby</a>
 * @see http://sites.google.com/site/murmurhash/
 */var Wj;function Jj(){return Wj||(Wj=1,function(a){(function(){var t;function o(n,r){var e=this instanceof o?this:t;if(e.reset(r),typeof n=="string"&&n.length>0&&e.hash(n),e!==this)return e}o.prototype.hash=function(n){var r,e,i,s,c;switch(c=n.length,this.len+=c,e=this.k1,i=0,this.rem){case 0:e^=c>i?n.charCodeAt(i++)&65535:0;case 1:e^=c>i?(n.charCodeAt(i++)&65535)<<8:0;case 2:e^=c>i?(n.charCodeAt(i++)&65535)<<16:0;case 3:e^=c>i?(n.charCodeAt(i)&255)<<24:0,e^=c>i?(n.charCodeAt(i++)&65280)>>8:0}if(this.rem=c+this.rem&3,c-=this.rem,c>0){for(r=this.h1;e=e*11601+(e&65535)*3432906752&4294967295,e=e<<15|e>>>17,e=e*13715+(e&65535)*461832192&4294967295,r^=e,r=r<<13|r>>>19,r=r*5+3864292196&4294967295,!(i>=c);)e=n.charCodeAt(i++)&65535^(n.charCodeAt(i++)&65535)<<8^(n.charCodeAt(i++)&65535)<<16,s=n.charCodeAt(i++),e^=(s&255)<<24^(s&65280)>>8;switch(e=0,this.rem){case 3:e^=(n.charCodeAt(i+2)&65535)<<16;case 2:e^=(n.charCodeAt(i+1)&65535)<<8;case 1:e^=n.charCodeAt(i)&65535}this.h1=r}return this.k1=e,this},o.prototype.result=function(){var n,r;return n=this.k1,r=this.h1,n>0&&(n=n*11601+(n&65535)*3432906752&4294967295,n=n<<15|n>>>17,n=n*13715+(n&65535)*461832192&4294967295,r^=n),r^=this.len,r^=r>>>16,r=r*51819+(r&65535)*2246770688&4294967295,r^=r>>>13,r=r*44597+(r&65535)*3266445312&4294967295,r^=r>>>16,r>>>0},o.prototype.reset=function(n){return this.h1=typeof n=="number"?n:0,this.rem=this.k1=this.len=0,this},t=new o,a.exports=o})()}(eR)),eR.exports}var Kj;function lue(){if(Kj)return wy;Kj=1,Object.defineProperty(wy,"__esModule",{value:!0}),wy.ActorHashBindingsMurmur=void 0;const a=cue(),t=De(),o=Jj();let n=class extends a.ActorHashBindings{async test(e){return(0,t.passTestVoid)()}async run(e){return{hashFunction:(i,s)=>{var u;let c=o();for(const l of s)c=c.hash(((u=i.get(l))==null?void 0:u.value)??"UNDEF");return c.result()}}}};return wy.ActorHashBindingsMurmur=n,wy}var Yj;function due(){return Yj||(Yj=1,function(a){var t=Uo&&Uo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Uo&&Uo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(lue(),a)}(Uo)),Uo}var Qo={},Oy={},Zj;function fue(){if(Zj)return Oy;Zj=1,Object.defineProperty(Oy,"__esModule",{value:!0}),Oy.MediatorRace=void 0;const a=De();let t=class extends a.Mediator{constructor(n){super(n)}mediateWith(n,r){return new Promise((e,i)=>{const s=[];for(const c of r)c.reply.then(u=>{u.isPassed()?e((0,a.passTestWithSideData)(c.actor,u.getSideData())):(s.push(u.getFailMessage()),s.length===r.length&&e((0,a.failTest)(this.constructFailureMessage(n,s))))}).catch(u=>{i(u)})})}};return Oy.MediatorRace=t,Oy}var e5;function wr(){return e5||(e5=1,function(a){var t=Qo&&Qo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Qo&&Qo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(fue(),a)}(Qo)),Qo}var Ho={},Ay={},Go={},Ey={},t5;function hue(){if(t5)return Ey;t5=1,Object.defineProperty(Ey,"__esModule",{value:!0}),Ey.ActorHashQuads=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}};return Ey.ActorHashQuads=t,Ey}var r5;function pue(){return r5||(r5=1,function(a){var t=Go&&Go.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Go&&Go.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(hue(),a)}(Go)),Go}var n5;function yue(){if(n5)return Ay;n5=1,Object.defineProperty(Ay,"__esModule",{value:!0}),Ay.ActorHashQuadsMurmur=void 0;const a=pue(),t=De(),o=Jj();let n=class extends a.ActorHashQuads{async test(e){return(0,t.passTestVoid)()}async run(e){return{hashFunction:i=>{const s=o(i.subject.value);return s.hash(i.predicate.value),s.hash(i.object.value),s.hash(i.graph.value),s.result()}}}};return Ay.ActorHashQuadsMurmur=n,Ay}var i5;function bue(){return i5||(i5=1,function(a){var t=Ho&&Ho.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ho&&Ho.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(yue(),a)}(Ho)),Ho}var zo={},xy={},ko={},Iy={},a5;function _ue(){if(a5)return Iy;a5=1,Object.defineProperty(Iy,"__esModule",{value:!0}),Iy.ActorOptimizeQueryOperation=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}};return Iy.ActorOptimizeQueryOperation=t,Iy}var o5;function Pn(){return o5||(o5=1,function(a){var t=ko&&ko.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ko&&ko.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(_ue(),a)}(ko)),ko}var s5;function mue(){if(s5)return xy;s5=1,Object.defineProperty(xy,"__esModule",{value:!0}),xy.ActorOptimizeQueryOperationRewriteCopy=void 0;const a=Pn(),t=tt(),o=De(),n=mt();let r=class extends a.ActorOptimizeQueryOperation{constructor(i){super(i)}async test(i){return(0,o.passTestVoid)()}async run(i){const s=i.context.getSafe(t.KeysInitQuery.dataFactory),c=new n.Factory(s);return{operation:n.Util.mapOperation(i.operation,{[n.Algebra.types.COPY](l,f){let d;return typeof l.destination=="string"&&typeof l.source=="string"&&l.destination===l.source||typeof l.destination!="string"&&typeof l.source!="string"&&l.destination.equals(l.source)?d=f.createCompositeUpdate([]):d=f.createCompositeUpdate([f.createDrop(l.destination,!0),f.createAdd(l.source,l.destination,l.silent)]),{result:d,recurse:!1}}},c),context:i.context}}};return xy.ActorOptimizeQueryOperationRewriteCopy=r,xy}var u5;function gue(){return u5||(u5=1,function(a){var t=zo&&zo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=zo&&zo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(mue(),a)}(zo)),zo}var Xo={},Ry={},c5;function vue(){if(c5)return Ry;c5=1,Object.defineProperty(Ry,"__esModule",{value:!0}),Ry.ActorOptimizeQueryOperationRewriteMove=void 0;const a=Pn(),t=tt(),o=De(),n=mt();let r=class extends a.ActorOptimizeQueryOperation{constructor(i){super(i)}async test(i){return(0,o.passTestVoid)()}async run(i){const s=i.context.getSafe(t.KeysInitQuery.dataFactory),c=new n.Factory(s);return{operation:n.Util.mapOperation(i.operation,{[n.Algebra.types.MOVE](l,f){let d;if(typeof l.destination=="string"&&typeof l.source=="string"&&l.destination===l.source||typeof l.destination!="string"&&typeof l.source!="string"&&l.destination.equals(l.source))d=f.createCompositeUpdate([]);else{const h=[f.createDrop(l.destination,!0),f.createAdd(l.source,l.destination,l.silent),f.createDrop(l.source)];d=f.createCompositeUpdate(h)}return{result:d,recurse:!1}}},c),context:i.context}}};return Ry.ActorOptimizeQueryOperationRewriteMove=r,Ry}var l5;function Tue(){return l5||(l5=1,function(a){var t=Xo&&Xo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Xo&&Xo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(vue(),a)}(Xo)),Xo}var Wo={},Fy={},Jo={},Ny={},d5;function f5(){if(d5)return Ny;d5=1,Object.defineProperty(Ny,"__esModule",{value:!0}),Ny.BlankNode=void 0;class a{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}}return Ny.BlankNode=a,Ny}var Dy={},Py={},h5;function p5(){if(h5)return Py;h5=1,Object.defineProperty(Py,"__esModule",{value:!0}),Py.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}return Py.DefaultGraph=a,a.INSTANCE=new a,Py}var Ly={},jy={},y5;function tR(){if(y5)return jy;y5=1,Object.defineProperty(jy,"__esModule",{value:!0}),jy.NamedNode=void 0;class a{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}}return jy.NamedNode=a,jy}var b5;function _5(){if(b5)return Ly;b5=1,Object.defineProperty(Ly,"__esModule",{value:!0}),Ly.Literal=void 0;const a=tR();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return Ly.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Ly}var My={},m5;function g5(){if(m5)return My;m5=1,Object.defineProperty(My,"__esModule",{value:!0}),My.Quad=void 0;class a{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}}return My.Quad=a,My}var qy={},v5;function T5(){if(v5)return qy;v5=1,Object.defineProperty(qy,"__esModule",{value:!0}),qy.Variable=void 0;class a{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}}return qy.Variable=a,qy}var w5;function wue(){if(w5)return Dy;w5=1,Object.defineProperty(Dy,"__esModule",{value:!0}),Dy.DataFactory=void 0;const a=f5(),t=p5(),o=_5(),n=tR(),r=g5(),e=T5();let i=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return Dy.DataFactory=s,Dy}var S5;function Sue(){return S5||(S5=1,function(a){var t=Jo&&Jo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Jo&&Jo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(f5(),a),o(wue(),a),o(p5(),a),o(_5(),a),o(tR(),a),o(g5(),a),o(T5(),a)}(Jo)),Jo}var O5;function Oue(){if(O5)return Fy;O5=1,Object.defineProperty(Fy,"__esModule",{value:!0}),Fy.ActorOptimizeQueryOperationRewriteAdd=void 0;const a=Pn(),t=tt(),o=De(),n=Sue(),r=mt(),e=new n.DataFactory;let i=class extends a.ActorOptimizeQueryOperation{constructor(c){super(c)}async test(c){return(0,o.passTestVoid)()}async run(c){const u=c.context.getSafe(t.KeysInitQuery.dataFactory),l=new r.Factory(u);return{operation:r.Util.mapOperation(c.operation,{[r.Algebra.types.ADD](d,h){const p=d.destination==="DEFAULT"?e.defaultGraph():d.destination,_=d.source==="DEFAULT"?e.defaultGraph():d.source;return{result:h.createDeleteInsert(void 0,[h.createPattern(e.variable("s"),e.variable("p"),e.variable("o"),p)],h.createPattern(e.variable("s"),e.variable("p"),e.variable("o"),_)),recurse:!1}}},l),context:c.context}}};return Fy.ActorOptimizeQueryOperationRewriteAdd=i,Fy}var A5;function Aue(){return A5||(A5=1,function(a){var t=Wo&&Wo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Wo&&Wo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Oue(),a)}(Wo)),Wo}var Ko={},Cy={},Yo={},By={},E5;function Eue(){if(E5)return By;E5=1,Object.defineProperty(By,"__esModule",{value:!0}),By.doesShapeAcceptOperation=void 0;function a(n,r,e){return t(n,n,r,e)}By.doesShapeAcceptOperation=a;function t(n,r,e,i){if(r.type==="conjunction")return r.children.every(c=>t(n,c,e,i));if(r.type==="disjunction")return r.children.some(c=>t(n,c,e,i));if(r.type==="arity")return t(n,r.child,e,i);if(((i==null?void 0:i.joinBindings)&&!r.joinBindings)??((i==null?void 0:i.filterBindings)&&!r.filterBindings))return!1;const s=r.operation;switch(s.operationType){case"type":return o(n,r,e,i)?s.type===e.type:!1;case"pattern":return o(n,r,e,i)?s.pattern.type===e.type:!1;case"wildcard":return!0}}function o(n,r,e,i){return!(e.input&&!(Array.isArray(e.input)?e.input:[e.input]).every(c=>t(n,n,c,i))||e.patterns&&!e.patterns.every(s=>t(n,n,s,i)))}return By}var _r={},x5;function xue(){if(x5)return _r;x5=1,Object.defineProperty(_r,"__esModule",{value:!0}),_r.removeOperationSource=_r.assignOperationSource=_r.getOperationSource=_r.testReadOnly=_r.validateQueryOutput=_r.getSafeVoid=_r.getSafeBoolean=_r.getSafeQuads=_r.getSafeBindings=void 0;const a=tt(),t=De();function o(f){return i(f,"bindings"),f}_r.getSafeBindings=o;function n(f){return i(f,"quads"),f}_r.getSafeQuads=n;function r(f){return i(f,"boolean"),f}_r.getSafeBoolean=r;function e(f){return i(f,"void"),f}_r.getSafeVoid=e;function i(f,d){if(f.type!==d)throw new Error(`Invalid query output type: Expected '${d}' but got '${f.type}'`)}_r.validateQueryOutput=i;function s(f){return f.get(a.KeysQueryOperation.readOnly)?(0,t.failTest)("Attempted a write operation in read-only mode"):(0,t.passTestVoid)()}_r.testReadOnly=s;function c(f){var d;return(d=f.metadata)==null?void 0:d.scopedSource}_r.getOperationSource=c;function u(f,d){return f={...f},f.metadata=f.metadata?{...f.metadata}:{},f.metadata.scopedSource=d,f}_r.assignOperationSource=u;function l(f){var d;(d=f.metadata)==null||delete d.scopedSource,f.metadata&&Object.keys(f.metadata).length===0&&delete f.metadata}return _r.removeOperationSource=l,_r}var Zo={},I5;function Iue(){if(I5)return Zo;I5=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.materializeOperation=Zo.materializeTerm=void 0;const a=$t(),t=Mr(),o=mt();function n(i,s){if(i.termType==="Variable"){const c=s.get(i);if(c)return c}return i.termType==="Quad"&&(0,t.someTermsNested)(i,c=>c.termType==="Variable")?(0,t.mapTermsNested)(i,c=>n(c,s)):i}Zo.materializeTerm=n;function r(i,s,c,u,l={}){return l={strictTargetVariables:"strictTargetVariables"in l?l.strictTargetVariables:!1,bindFilter:"bindFilter"in l?l.bindFilter:!0,originalBindings:"originalBindings"in l?l.originalBindings:s},o.Util.mapOperation(i,{path(f,d){return{recurse:!1,result:Object.assign(d.createPath(n(f.subject,s),f.predicate,n(f.object,s),n(f.graph,s)),{metadata:f.metadata})}},pattern(f,d){return{recurse:!1,result:Object.assign(d.createPattern(n(f.subject,s),n(f.predicate,s),n(f.object,s),n(f.graph,s)),{metadata:f.metadata})}},extend(f){if(s.has(f.variable)){if(l.strictTargetVariables)throw new Error(`Tried to bind variable ${(0,a.termToString)(f.variable)} in a BIND operator.`);return{recurse:!0,result:r(f.input,s,c,u,l)}}return{recurse:!0,result:f}},group(f,d){if(l.strictTargetVariables){for(const p of f.variables)if(s.has(p))throw new Error(`Tried to bind variable ${(0,a.termToString)(p)} in a GROUP BY operator.`);return{recurse:!0,result:f}}const h=f.variables.filter(p=>!s.has(p));return{recurse:!0,result:d.createGroup(f.input,h,f.aggregates)}},filter(f,d){const h=l.originalBindings;if(f.expression.expressionType!=="operator"||h.size===0)return{recurse:!1,result:f};const p=e(d,h),_=r(f.expression,s,c,u,l);let g=r(f.input,s,c,u,l);return p.length>0&&(g=d.createJoin([...p,g])),{recurse:!1,result:d.createFilter(g,_)}},project(f,d){if(l.strictTargetVariables){for(const _ of f.variables)if(s.has(_))throw new Error(`Tried to bind variable ${(0,a.termToString)(_)} in a SELECT operator.`);return{recurse:!0,result:f}}for(const _ of s.keys())for(const g of f.variables)if(g.equals(_)){s=s.delete(_);break}const h=e(d,l.originalBindings,f.variables);let p=r(f.input,s,c,u,l);return h.length>0&&(p=d.createJoin([...h,p])),{recurse:!1,result:d.createProject(p,f.variables)}},values(f,d){if(l.strictTargetVariables){for(const h of f.variables)if(s.has(h))throw new Error(`Tried to bind variable ${(0,a.termToString)(h)} in a VALUES operator.`)}else{const h=f.variables.filter(_=>!s.has(_)),p=f.bindings.map(_=>{const g={..._};let y=!0;return s.forEach((m,b)=>{const T=(0,a.termToString)(b);T in g&&(m.equals(g[T])||(y=!1),delete g[T])}),y?g:void 0}).filter(Boolean);return{recurse:!0,result:d.createValues(h,p)}}return{recurse:!1,result:f}},expression(f,d){if(!l.bindFilter)return{recurse:!1,result:f};if(f.expressionType==="term")return{recurse:!1,result:d.createTermExpression(n(f.term,s))};if(f.expressionType==="operator")return f.operator==="bound"&&f.args.length===1&&f.args[0].expressionType==="term"&&[...s.keys()].some(h=>f.args[0].term.equals(h))?{recurse:!1,result:d.createTermExpression(d.dataFactory.literal("true",d.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")))}:{recurse:!0,result:f};if(f.expressionType==="aggregate"&&"variable"in f&&s.has(f.variable)){if(l.strictTargetVariables)throw new Error(`Tried to bind ${(0,a.termToString)(f.variable)} in a ${f.aggregator} aggregate.`);return{recurse:!0,result:f}}return{recurse:!0,result:f}}},c)}Zo.materializeOperation=r;function e(i,s,c){const u=[];for(const[l,f]of s)if(!c||c.some(d=>d.equals(l))){const d={[(0,a.termToString)(l)]:f};u.push(i.createValues([l],[d]))}return u}return Zo}var R5;function At(){return R5||(R5=1,function(a){var t=Yo&&Yo.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Yo&&Yo.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Eue(),a),o(xue(),a),o(Iue(),a)}(Yo)),Yo}var F5;function Rue(){if(F5)return Cy;F5=1,Object.defineProperty(Cy,"__esModule",{value:!0}),Cy.ActorOptimizeQueryOperationGroupSources=void 0;const a=Pn(),t=tt(),o=De(),n=At(),r=mt();let e=class extends a.ActorOptimizeQueryOperation{constructor(s){super(s)}async test(s){return(0,n.getOperationSource)(s.operation)?(0,o.failTest)(`Actor ${this.name} does not work with top-level operation sources.`):(0,o.passTestVoid)()}async run(s){return{operation:await this.groupOperation(s.operation,s.context),context:s.context}}async groupOperation(s,c){var p;const u=c.getSafe(t.KeysInitQuery.dataFactory),l=new r.Factory(u);if((0,n.getOperationSource)(s)??!("input"in s))return s;if(!Array.isArray(s.input)){const _=await this.groupOperation(s.input,c);if((p=_.metadata)!=null&&p.scopedSource){const g=(0,n.getOperationSource)(_);(0,n.doesShapeAcceptOperation)(await g.source.getSelectorShape(c),s)&&(this.logDebug(c,`Hoist 1 source-specific operation into a single ${s.type} operation for ${g.source.toString()}`),(0,n.removeOperationSource)(_),s=(0,n.assignOperationSource)(s,g))}return{...s,input:_}}const f=await Promise.all(s.input.map(_=>this.groupOperation(_,c))),d=this.clusterOperationsWithEqualSources(f);if(d.length===1){const _=d[0],g=(0,n.getOperationSource)(d[0][0]);return{...await this.moveSourceAnnotationUpwardsIfPossible(s,_,g,c),input:_}}if(d.length===f.length)return{...s,input:f};let h;switch(s.type){case r.Algebra.types.JOIN:h=l.createJoin.bind(l);break;case r.Algebra.types.UNION:h=l.createUnion.bind(l);break;case r.Algebra.types.ALT:h=l.createAlt.bind(l);break;case r.Algebra.types.SEQ:h=l.createSeq.bind(l);break;default:throw new Error(`Unsupported operation '${s.type}' detected while grouping sources`)}return await this.groupOperationMulti(d,h,c)}async groupOperationMulti(s,c,u){let l=!0;const f=await Promise.all(s.map(async d=>{const h=(0,n.getOperationSource)(d[0]),p=await this.moveSourceAnnotationUpwardsIfPossible(c(d,!0),d,h,u);return(0,n.getOperationSource)(p)&&(l=!1),p}));return c(f,l)}clusterOperationsWithEqualSources(s){const c=new Map,u=[];for(const f of s){const d=(0,n.getOperationSource)(f);d?(c.has(d)||c.set(d,[]),c.get(d).push(f)):u.push(f)}const l=[];u.length>0&&l.push(u);for(const[f,d]of c.entries())l.push(d.map(h=>(0,n.assignOperationSource)(h,f)));return l}async moveSourceAnnotationUpwardsIfPossible(s,c,u,l){if(u&&(0,n.doesShapeAcceptOperation)(await u.source.getSelectorShape(l),s)){this.logDebug(l,`Hoist ${c.length} source-specific operations into a single ${s.type} operation for ${u.source.toString()}`),s=(0,n.assignOperationSource)(s,u);for(const f of c)(0,n.removeOperationSource)(f)}return s}};return Cy.ActorOptimizeQueryOperationGroupSources=e,Cy}var N5;function Fue(){return N5||(N5=1,function(a){var t=Ko&&Ko.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ko&&Ko.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Rue(),a)}(Ko)),Ko}var es={},$y={},D5;function Nue(){if(D5)return $y;D5=1,Object.defineProperty($y,"__esModule",{value:!0}),$y.ActorOptimizeQueryOperationConstructDistinct=void 0;const a=Pn(),t=rP(),o=De(),n=mt();let r=class extends a.ActorOptimizeQueryOperation{constructor(i){super(i)}async test(i){return i.context.has(t.KeysInitQuery.distinctConstruct)?(0,o.passTestVoid)():(0,o.failTest)(`${this.name} was not enabled by the query.`)}async run(i){return{operation:n.Util.mapOperation(i.operation,{construct(c,u){return{recurse:!1,result:u.createDistinct(u.createConstruct(c.input,c.template))}}}),context:i.context.delete(t.KeysInitQuery.distinctConstruct)}}};return $y.ActorOptimizeQueryOperationConstructDistinct=r,$y}var P5;function Due(){return P5||(P5=1,function(a){var t=es&&es.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=es&&es.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Nue(),a)}(es)),es}var ts={},Uy={},rs={},Vy={},L5;function Pue(){if(L5)return Vy;L5=1,Object.defineProperty(Vy,"__esModule",{value:!0}),Vy.ActorQueryParse=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}};return Vy.ActorQueryParse=t,Vy}var j5;function M5(){return j5||(j5=1,function(a){var t=rs&&rs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=rs&&rs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Pue(),a)}(rs)),rs}var q5;function Lue(){if(q5)return Uy;q5=1,Object.defineProperty(Uy,"__esModule",{value:!0}),Uy.ActorQueryParseSparql=void 0;const a=M5(),t=tt(),o=De(),n=mt(),r=O0();let e=class extends a.ActorQueryParse{constructor(s){super(s),this.prefixes=Object.freeze(this.prefixes)}async test(s){return s.queryFormat&&s.queryFormat.language!=="sparql"?(0,o.failTest)("This actor can only parse SPARQL queries"):(0,o.passTestVoid)()}async run(s){const c=s.context.getSafe(t.KeysInitQuery.dataFactory),l=new r.Parser({prefixes:this.prefixes,baseIRI:s.baseIRI,sparqlStar:!0,factory:c}).parse(s.query);return{baseIRI:l.type==="query"?l.base:void 0,operation:(0,n.translate)(l,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:s.baseIRI,dataFactory:c})}}};return Uy.ActorQueryParseSparql=e,Uy}var C5;function jue(){return C5||(C5=1,function(a){var t=ts&&ts.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ts&&ts.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Lue(),a)}(ts)),ts}var ns={},Qy={},is={},as={},os={},Hy={},B5;function Ah(){if(B5)return Hy;B5=1,Object.defineProperty(Hy,"__esModule",{value:!0}),Hy.DirectiveNodeHandlerAdapter=void 0;let a=class{constructor(o,n,r){this.targetKind=o,this.util=n,this.settings=r}getDirectiveConditionalValue(o,n){const r=this.util.getArgument(o.arguments,"if");if(!r)throw new Error(`The directive ${o.name.value} is missing an if-argument.`);const e=this.util.handleNodeValue(r.value,r.name.value,n);if(e.terms.length!==1)throw new Error(`Can not apply the directive ${o.name.value} with a list.`);return e.terms[0]}isDirectiveScopeAll(o){const n=this.util.getArgument(o.arguments,"scope");return n&&n.value.kind==="EnumValue"&&n.value.value==="all"}};return Hy.DirectiveNodeHandlerAdapter=a,Hy}var Gy={},$5;function Mue(){if($5)return Gy;$5=1,Object.defineProperty(Gy,"__esModule",{value:!0}),Gy.DirectiveNodeHandlerInclude=void 0;const a=Ah();let t=class extends a.DirectiveNodeHandlerAdapter{constructor(n,r){super("include",n,r)}handle(n,r){const e=this.getDirectiveConditionalValue(n.directive,r);return e.termType==="Literal"&&e.value==="false"?{ignore:!0}:{}}};return Gy.DirectiveNodeHandlerInclude=t,Gy}var zy={},U5;function que(){if(U5)return zy;U5=1,Object.defineProperty(zy,"__esModule",{value:!0}),zy.DirectiveNodeHandlerOptional=void 0;const a=Ah();let t=class extends a.DirectiveNodeHandlerAdapter{constructor(n,r){super("optional",n,r)}handle(n,r){return{operationOverrider:e=>this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),e)}}};return zy.DirectiveNodeHandlerOptional=t,zy}var ky={},rR={},V5;function Xy(){return V5||(V5=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.SingularizeState=void 0,function(t){t[t.SINGLE=0]="SINGLE",t[t.PLURAL=1]="PLURAL"}(a.SingularizeState||(a.SingularizeState={}))}(rR)),rR}var Q5;function Cue(){if(Q5)return ky;Q5=1,Object.defineProperty(ky,"__esModule",{value:!0}),ky.DirectiveNodeHandlerPlural=void 0;const a=Xy(),t=Ah();let o=class extends t.DirectiveNodeHandlerAdapter{constructor(r,e){super("plural",r,e)}handle(r,e){return this.isDirectiveScopeAll(r.directive)&&(e.singularizeState=a.SingularizeState.PLURAL),delete e.singularizeVariables[this.util.nameToVariable(r.fieldLabel,e).value],{}}};return ky.DirectiveNodeHandlerPlural=o,ky}var Wy={},H5;function Bue(){if(H5)return Wy;H5=1,Object.defineProperty(Wy,"__esModule",{value:!0}),Wy.DirectiveNodeHandlerSingle=void 0;const a=Xy(),t=Ah();let o=class extends t.DirectiveNodeHandlerAdapter{constructor(r,e){super("single",r,e)}handle(r,e){return this.isDirectiveScopeAll(r.directive)&&(e.singularizeState=a.SingularizeState.SINGLE),e.singularizeVariables[this.util.nameToVariable(r.fieldLabel,e).value]=!0,{}}};return Wy.DirectiveNodeHandlerSingle=o,Wy}var Jy={},G5;function $ue(){if(G5)return Jy;G5=1,Object.defineProperty(Jy,"__esModule",{value:!0}),Jy.DirectiveNodeHandlerSkip=void 0;const a=Ah();let t=class extends a.DirectiveNodeHandlerAdapter{constructor(n,r){super("skip",n,r)}handle(n,r){const e=this.getDirectiveConditionalValue(n.directive,r);return e.termType==="Literal"&&e.value==="true"?{ignore:!0}:{}}};return Jy.DirectiveNodeHandlerSkip=t,Jy}var z5;function k5(){return z5||(z5=1,function(a){var t=os&&os.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=os&&os.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Ah(),a),o(Mue(),a),o(que(),a),o(Cue(),a),o(Bue(),a),o($ue(),a)}(os)),os}var ss={},Ky={},X5;function mi(){if(X5)return Ky;X5=1,Object.defineProperty(Ky,"__esModule",{value:!0}),Ky.NodeValueHandlerAdapter=void 0;let a=class{constructor(o,n,r){this.targetKind=o,this.util=n,this.settings=r}};return Ky.NodeValueHandlerAdapter=a,Ky}var Yy={},W5;function Uue(){if(W5)return Yy;W5=1,Object.defineProperty(Yy,"__esModule",{value:!0}),Yy.NodeValueHandlerBoolean=void 0;const a=mi();let t=class extends a.NodeValueHandlerAdapter{constructor(n,r){super("BooleanValue",n,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")}handle(n,r,e){return{terms:[this.util.dataFactory.literal(n.value?"true":"false",this.datatype)]}}};return Yy.NodeValueHandlerBoolean=t,Yy}var Zy={},J5;function Vue(){if(J5)return Zy;J5=1,Object.defineProperty(Zy,"__esModule",{value:!0}),Zy.NodeValueHandlerEnum=void 0;const a=mi();let t=class extends a.NodeValueHandlerAdapter{constructor(n,r){super("EnumValue",n,r)}handle(n,r,e){return{terms:[this.util.valueToNamedNode(n.value,e.context)]}}};return Zy.NodeValueHandlerEnum=t,Zy}var e1={},K5;function Que(){if(K5)return e1;K5=1,Object.defineProperty(e1,"__esModule",{value:!0}),e1.NodeValueHandlerFloat=void 0;const a=mi();let t=class extends a.NodeValueHandlerAdapter{constructor(n,r){super("FloatValue",n,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#float")}handle(n,r,e){return{terms:[this.util.dataFactory.literal(n.value,this.datatype)]}}};return e1.NodeValueHandlerFloat=t,e1}var t1={},Y5;function Hue(){if(Y5)return t1;Y5=1,Object.defineProperty(t1,"__esModule",{value:!0}),t1.NodeValueHandlerInt=void 0;const a=mi();let t=class extends a.NodeValueHandlerAdapter{constructor(n,r){super("IntValue",n,r),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#integer")}handle(n,r,e){return{terms:[this.util.dataFactory.literal(n.value,this.datatype)]}}};return t1.NodeValueHandlerInt=t,t1}var r1={},Z5;function Gue(){if(Z5)return r1;Z5=1,Object.defineProperty(r1,"__esModule",{value:!0}),r1.NodeValueHandlerList=void 0;const a=mi();let t=class extends a.NodeValueHandlerAdapter{constructor(n,r){super("ListValue",n,r),this.nodeFirst=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),this.nodeRest=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),this.nodeNil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(n,r,e){const i=[];let s=[];for(const c of n.values){const u=this.util.handleNodeValue(c,r,e);for(const l of u.terms)i.push(l);u.auxiliaryPatterns&&(s=s.concat(u.auxiliaryPatterns))}if(this.settings.arraysToRdfLists){const c=this.util.dataFactory.blankNode();let u=c,l=i.length;for(const f of i){s.push(this.util.operationFactory.createPattern(u,this.nodeFirst,f,e.graph));const d=--l===0?this.nodeNil:this.util.dataFactory.blankNode();s.push(this.util.operationFactory.createPattern(u,this.nodeRest,d,e.graph)),u=d}return{terms:[c],auxiliaryPatterns:s}}else return{terms:i,auxiliaryPatterns:s}}};return r1.NodeValueHandlerList=t,r1}var n1={},eM;function zue(){if(eM)return n1;eM=1,Object.defineProperty(n1,"__esModule",{value:!0}),n1.NodeValueHandlerNull=void 0;const a=mi();let t=class extends a.NodeValueHandlerAdapter{constructor(n,r){super("NullValue",n,r),this.nil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(n,r,e){return{terms:[this.nil]}}};return n1.NodeValueHandlerNull=t,n1}var i1={},tM;function kue(){if(tM)return i1;tM=1,Object.defineProperty(i1,"__esModule",{value:!0}),i1.NodeValueHandlerObject=void 0;const a=mi();let t=class extends a.NodeValueHandlerAdapter{constructor(n,r){super("ObjectValue",n,r)}handle(n,r,e){const i=this.util.dataFactory.blankNode();let s=[];for(const c of n.fields){const u=this.util.handleNodeValue(c.value,r,e);for(const l of u.terms)s.push(this.util.createQuadPattern(i,c.name,l,e.graph,e.context));u.auxiliaryPatterns&&(s=s.concat(u.auxiliaryPatterns))}return{terms:[i],auxiliaryPatterns:s}}};return i1.NodeValueHandlerObject=t,i1}var a1={},rM;function Xue(){if(rM)return a1;rM=1,Object.defineProperty(a1,"__esModule",{value:!0}),a1.NodeValueHandlerString=void 0;const a=mi();let t=class extends a.NodeValueHandlerAdapter{constructor(n,r){super("StringValue",n,r)}handle(n,r,e){const i=e.context.getContextRaw()[r];let s,c;return i&&typeof i!="string"&&(i["@language"]?s=i["@language"]:i["@type"]&&(c=this.util.dataFactory.namedNode(i["@type"]))),{terms:[this.util.dataFactory.literal(n.value,s||c)]}}};return a1.NodeValueHandlerString=t,a1}var o1={},nM;function Wue(){if(nM)return o1;nM=1,Object.defineProperty(o1,"__esModule",{value:!0}),o1.NodeValueHandlerVariable=void 0;const a=mi();let t=class extends a.NodeValueHandlerAdapter{constructor(n,r){super("Variable",n,r)}handle(n,r,e){const i=n.name.value,s=e.variablesDict[i],c=e.variablesMetaDict[i];if(!s){if(!e.ignoreUnknownVariables&&(!c||c.mandatory))throw new Error(`Undefined variable: ${i}`);{const u=this.util.dataFactory.variable(i);return e.terminalVariables.map(l=>l.value).indexOf(i)<0&&e.terminalVariables.push(u),{terms:[u]}}}if(s.kind==="Variable")throw new Error(`Variable refers to another variable: ${i}`);if(c)if(c.list){if(s.kind!=="ListValue")throw new Error(`Expected a list, but got ${s.kind} for ${i}`);if(c.type){const u=s;for(const l of u.values)if(l.kind!==c.type)throw new Error(`Expected ${c.type}, but got ${l.kind} for ${i}`)}}else c.type;return this.util.handleNodeValue(s,r,e)}};return o1.NodeValueHandlerVariable=t,o1}var iM;function Jue(){return iM||(iM=1,function(a){var t=ss&&ss.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ss&&ss.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(mi(),a),o(Uue(),a),o(Vue(),a),o(Que(),a),o(Hue(),a),o(Gue(),a),o(zue(),a),o(kue(),a),o(Xue(),a),o(Wue(),a)}(ss)),ss}var s1={},aM;function KO(){if(aM)return s1;aM=1,Object.defineProperty(s1,"__esModule",{value:!0}),s1.NodeHandlerAdapter=void 0;let a=class{constructor(o,n,r){this.targetKind=o,this.util=n,this.settings=r}getNodeQuadContextSelectionSet(o,n,r){const e={};if(o){for(const i of o.selections)if(i.kind==="Field"){const s=i;this.handleNodeQuadContextField(s,r,e,"id","subject"),this.handleNodeQuadContextField(s,r,e,"graph","graph")}}return e}handleNodeQuadContextField(o,n,r,e,i){if(!r[i]&&o.name.value===e){if(!r[i]){const s=this.util.getArgument(o.arguments,"_");if(s){const c=this.util.handleNodeValue(s.value,o.name.value,n);if(c.terms.length!==1)throw new Error(`Only single values can be set as ${e}, but got ${c.terms.length} at ${o.name.value}`);r[i]=c.terms[0],c.auxiliaryPatterns&&(r.auxiliaryPatterns||(r.auxiliaryPatterns=[]),r.auxiliaryPatterns.concat(c.auxiliaryPatterns))}}if(!r[i]){const s=this.util.nameToVariable(this.util.getFieldLabel(o),n);n.terminalVariables.push(s),r[i]=s}}}getDirectiveOutputs(o,n,r){const e=[];if(o)for(const i of o){const s=this.util.handleDirectiveNode({directive:i,fieldLabel:n},r);if(s){if(s.ignore)return null;e.push(s)}}return e}handleDirectiveOutputs(o,n){for(const r of o){if(r.ignore)return this.util.operationFactory.createBgp([]);r.operationOverrider&&(n=r.operationOverrider(n))}return n}};return s1.NodeHandlerAdapter=a,s1}var u1={},oM;function nR(){if(oM)return u1;oM=1,Object.defineProperty(u1,"__esModule",{value:!0}),u1.NodeHandlerDefinitionAdapter=void 0;const a=KO();let t=class extends a.NodeHandlerAdapter{constructor(n,r,e){super(n,r,e)}};return u1.NodeHandlerDefinitionAdapter=t,u1}var c1={},sM;function Kue(){if(sM)return c1;sM=1,Object.defineProperty(c1,"__esModule",{value:!0}),c1.NodeHandlerDefinitionFragment=void 0;const a=nR();let t=class extends a.NodeHandlerDefinitionAdapter{constructor(n,r){super("FragmentDefinition",n,r)}handle(n,r){throw new Error("Illegal state: fragment definitions must be indexed and removed before processing")}};return c1.NodeHandlerDefinitionFragment=t,c1}var l1={},uM;function Yue(){if(uM)return l1;uM=1,Object.defineProperty(l1,"__esModule",{value:!0}),l1.NodeHandlerDefinitionOperation=void 0;const a=nR();let t=class extends a.NodeHandlerDefinitionAdapter{constructor(n,r){super("OperationDefinition",n,r)}handle(n,r){if(n.operation!=="query")throw new Error("Unsupported definition operation: "+n.operation);if(n.variableDefinitions)for(const s of n.variableDefinitions){const c=s.variable.name.value;s.defaultValue&&(r.variablesDict[c]||(r.variablesDict[c]=s.defaultValue));let u=s.type;const l=u.kind==="NonNullType";l&&(u=u.type);const f=u.kind==="ListType";f&&(u=u.type);const d=u.name.value;r.variablesMetaDict[c]={mandatory:l,list:f,type:d}}const e=this.getDirectiveOutputs(n.directives,n.name?n.name.value:"",r);if(!e)return this.util.operationFactory.createBgp([]);const i=this.util.joinOperations(n.selectionSet.selections.map(s=>this.util.handleNode(s,r)));return this.handleDirectiveOutputs(e,i)}};return l1.NodeHandlerDefinitionOperation=t,l1}var d1={},cM;function Zue(){if(cM)return d1;cM=1,Object.defineProperty(d1,"__esModule",{value:!0}),d1.NodeHandlerDocument=void 0;const a=mt(),t=KO();let o=class extends t.NodeHandlerAdapter{constructor(r,e){super("Document",r,e)}handle(r,e){const i=r.definitions.map(c=>{const u=this.getNodeQuadContextDefinitionNode(c,Object.assign(Object.assign({},e),{ignoreUnknownVariables:!0})),l=Object.assign(Object.assign({},e),{graph:u.graph||e.graph,subject:u.subject||this.util.dataFactory.blankNode()});let f=this.util.handleNode(c,l);return u&&u.auxiliaryPatterns&&(f=this.util.joinOperations([f,this.util.operationFactory.createBgp(u.auxiliaryPatterns)])),f}),s=this.util.operationFactory.createProject(i.length===1?i[0]:this.util.operationFactory.createUnion(i),e.terminalVariables);return this.translateBlankNodesToVariables(s)}getNodeQuadContextDefinitionNode(r,e){if(r.kind==="OperationDefinition")return this.getNodeQuadContextSelectionSet(r.selectionSet,r.name?r.name.value:"",e);throw new Error(`Unsupported definition: ${r.kind}`)}translateBlankNodesToVariables(r){const e=this,i={},s=Array.from(r.variables).reduce((u,l)=>(u[l.value]=!0,u),{});return a.Util.mapOperation(r,{path:(u,l)=>({recurse:!1,result:l.createPath(c(u.subject),u.predicate,c(u.object),c(u.graph))}),pattern:(u,l)=>({recurse:!1,result:l.createPattern(c(u.subject),c(u.predicate),c(u.object),c(u.graph))})});function c(u){if(u.termType==="BlankNode"){let l=i[u.value];return l||(l=a.Util.createUniqueVariable(u.value,s,e.util.dataFactory),s[l.value]=!0,i[u.value]=l),l}return u}}};return d1.NodeHandlerDocument=o,d1}var f1={},lM;function YO(){if(lM)return f1;lM=1,Object.defineProperty(f1,"__esModule",{value:!0}),f1.NodeHandlerSelectionAdapter=void 0;const a=mt(),t=Xy(),o=KO();let n=class extends o.NodeHandlerAdapter{constructor(e,i,s){super(e,i,s)}getNodeQuadContextFieldNode(e,i,s){return this.getNodeQuadContextSelectionSet(e.selectionSet,i,Object.assign(Object.assign({},s),{path:this.util.appendFieldToPath(s.path,i)}))}fieldToOperation(e,i,s,c){const u=s;let l=0,f;if((i.name.value==="id"||i.name.value==="graph")&&(s=!1,i.arguments))for(const w of i.arguments)w.name.value==="_"&&this.util.handleNodeValue(w.value,i.name.value,e);const d=this.util.getFieldLabel(i);if(e.singularizeState===t.SingularizeState.SINGLE&&(e.singularizeVariables[this.util.nameToVariable(d,e).value]=!0),s){const w=this.handleMetaField(e,d,c);if(w)return w}const h=c?[this.util.operationFactory.createBgp(c)]:[],p=this.getNodeQuadContextFieldNode(i,d,e);let _=p.subject||this.util.nameToVariable(d,e),g=p.graph||e.graph;p.auxiliaryPatterns&&h.push(this.util.operationFactory.createBgp(p.auxiliaryPatterns));let y=!0,m=null;if(s&&i.arguments&&i.arguments.length){for(const w of i.arguments)if(w.name.value==="_"){const O=this.util.handleNodeValue(w.value,i.name.value,e);m=O.terms,h.push(this.util.operationFactory.createBgp(O.terms.map(F=>this.util.createQuadPattern(e.subject,i.name,F,e.graph,e.context)))),O.auxiliaryPatterns&&h.push(this.util.operationFactory.createBgp(O.auxiliaryPatterns)),s=!1;break}else if(w.name.value==="graph"){const O=this.util.handleNodeValue(w.value,i.name.value,e);if(O.terms.length!==1)throw new Error(`Only single values can be set as graph, but got ${O.terms.length} at ${i.name.value}`);g=O.terms[0],e=Object.assign(Object.assign({},e),{graph:g}),O.auxiliaryPatterns&&h.push(this.util.operationFactory.createBgp(O.auxiliaryPatterns));break}else if(w.name.value==="alt"){let O=w.value;O.kind!=="ListValue"&&(O={kind:"ListValue",values:[O]}),h.push(this.util.createQuadPath(e.subject,i.name,O,_,e.graph,e.context)),y=!1;break}}if(s&&y&&h.push(this.util.operationFactory.createBgp([this.util.createQuadPattern(e.subject,i.name,_,e.graph,e.context)])),i.arguments&&i.arguments.length){for(const w of i.arguments)if(!(w.name.value==="_"||w.name.value==="graph"||w.name.value==="alt"))if(w.name.value==="first"){if(w.value.kind!=="IntValue")throw new Error("Invalid value type for 'first' argument: "+w.value.kind);f=parseInt(w.value.value,10)}else if(w.name.value==="offset"){if(w.value.kind!=="IntValue")throw new Error("Invalid value type for 'offset' argument: "+w.value.kind);l=parseInt(w.value.value,10)}else{const O=this.util.handleNodeValue(w.value,w.name.value,e);h.push(this.util.operationFactory.createBgp(O.terms.map(F=>this.util.createQuadPattern(_,w.name,F,e.graph,e.context)))),O.auxiliaryPatterns&&h.push(this.util.operationFactory.createBgp(O.auxiliaryPatterns))}}const b=this.getDirectiveOutputs(i.directives,d,e);if(!b)return this.util.operationFactory.createBgp([]);let T=this.util.joinOperations(h);if(i.selectionSet&&i.selectionSet.selections.length){if(m){if(m.length!==1)throw new Error(`Only single values can be set as id, but got ${m.length} at ${i.name.value}`);_=m[0]}const w=Object.assign(Object.assign(Object.assign({},e),u?{path:this.util.appendFieldToPath(e.path,d)}:{}),{graph:g,subject:u?_:e.subject});let O=!1;const F=i.selectionSet.selections.filter(j=>j.kind==="Field"&&j.name.value==="totalCount"?(O=!0,!1):!0);let Q=this.util.joinOperations(h.concat(F.map(j=>this.util.handleNode(j,w))));if(O){const j=this.util.dataFactory.variable("var"+this.settings.expressionVariableCounter++),x=this.util.dataFactory.variable(_.value+this.settings.variableDelimiter+"totalCount"),I=this.util.operationFactory.createBoundAggregate(j,"count",this.util.operationFactory.createTermExpression(_),!1),D=this.util.operationFactory.createProject(this.util.operationFactory.createExtend(this.util.operationFactory.createGroup(T,[],[I]),x,this.util.operationFactory.createTermExpression(j)),[x]);e.terminalVariables.push(x),F.length?Q=this.util.operationFactory.createJoin([this.util.operationFactory.createProject(Q,[]),D]):Q=D}T=Q}else s&&_.termType==="Variable"&&e.terminalVariables.push(_);return(l||f)&&(T=this.util.operationFactory.createSlice(this.util.operationFactory.createProject(T,a.Util.inScopeVariables(T)),l,f)),this.handleDirectiveOutputs(b,T)}handleMetaField(e,i,s){if(i==="__typename"){const c=this.util.nameToVariable(i,e);return e.terminalVariables.push(c),this.util.operationFactory.createBgp([this.util.operationFactory.createPattern(e.subject,this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.util.nameToVariable(i,e),e.graph)].concat(s||[]))}}};return f1.NodeHandlerSelectionAdapter=n,f1}var h1={},dM;function ece(){if(dM)return h1;dM=1,Object.defineProperty(h1,"__esModule",{value:!0}),h1.NodeHandlerSelectionField=void 0;const a=YO();let t=class extends a.NodeHandlerSelectionAdapter{constructor(n,r){super("Field",n,r)}handle(n,r){return this.fieldToOperation(r,n,!0)}};return h1.NodeHandlerSelectionField=t,h1}var p1={},fM;function tce(){if(fM)return p1;fM=1,Object.defineProperty(p1,"__esModule",{value:!0}),p1.NodeHandlerSelectionFragmentSpread=void 0;const a=YO();let t=class extends a.NodeHandlerSelectionAdapter{constructor(n,r){super("FragmentSpread",n,r)}handle(n,r){const e=r.fragmentDefinitions[n.name.value];if(!e)throw new Error("Undefined fragment definition: "+n.name.value);const i={alias:void 0,arguments:void 0,directives:e.directives,kind:"Field",name:n.name,selectionSet:e.selectionSet},s=[this.util.newTypePattern(r.subject,e.typeCondition,r)];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(r,i,!1,s))}};return p1.NodeHandlerSelectionFragmentSpread=t,p1}var y1={},hM;function rce(){if(hM)return y1;hM=1,Object.defineProperty(y1,"__esModule",{value:!0}),y1.NodeHandlerSelectionInlineFragment=void 0;const a=YO();let t=class extends a.NodeHandlerSelectionAdapter{constructor(n,r){super("InlineFragment",n,r)}handle(n,r){const e={alias:void 0,arguments:void 0,directives:n.directives,kind:"Field",name:{kind:"Name",value:r.subject.value},selectionSet:n.selectionSet},i=n.typeCondition?[this.util.newTypePattern(r.subject,n.typeCondition,r)]:[];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(r,e,!1,i))}};return y1.NodeHandlerSelectionInlineFragment=t,y1}var pM;function yM(){return pM||(pM=1,function(a){var t=as&&as.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=as&&as.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(k5(),a),o(Jue(),a),o(KO(),a),o(nR(),a),o(Kue(),a),o(Yue(),a),o(Zue(),a),o(YO(),a),o(ece(),a),o(tce(),a),o(rce(),a)}(as)),as}var us={},bM=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag",iR=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):void 0;function ZO(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ZO=function(o){return typeof o}:ZO=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ZO(a)}var nce=10,_M=2;function mM(a){return eA(a,[])}function eA(a,t){switch(ZO(a)){case"string":return JSON.stringify(a);case"function":return a.name?"[function ".concat(a.name,"]"):"[function]";case"object":return a===null?"null":ice(a,t);default:return String(a)}}function ice(a,t){if(t.indexOf(a)!==-1)return"[Circular]";var o=[].concat(t,[a]),n=sce(a);if(n!==void 0){var r=n.call(a);if(r!==a)return typeof r=="string"?r:eA(r,o)}else if(Array.isArray(a))return oce(a,o);return ace(a,o)}function ace(a,t){var o=Object.keys(a);if(o.length===0)return"{}";if(t.length>_M)return"["+uce(a)+"]";var n=o.map(function(r){var e=eA(a[r],t);return r+": "+e});return"{ "+n.join(", ")+" }"}function oce(a,t){if(a.length===0)return"[]";if(t.length>_M)return"[Array]";for(var o=Math.min(nce,a.length),n=a.length-o,r=[],e=0;e<o;++e)r.push(eA(a[e],t));return n===1?r.push("... 1 more item"):n>1&&r.push("... ".concat(n," more items")),"["+r.join(", ")+"]"}function sce(a){var t=a[String(iR)];if(typeof t=="function")return t;if(typeof a.inspect=="function")return a.inspect}function uce(a){var t=Object.prototype.toString.call(a).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof a.constructor=="function"){var o=a.constructor.name;if(typeof o=="string"&&o!=="")return o}return t}function tA(a,t){var o=!!a;if(!o)throw new Error(t)}var cce=function(t,o){return t instanceof o};function lce(a,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}function dce(a,t,o){return t&&lce(a.prototype,t),a}var aR=function(){function a(t){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GraphQL request",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{line:1,column:1};typeof t=="string"||tA(0,"Body must be a string. Received: ".concat(mM(t),".")),this.body=t,this.name=o,this.locationOffset=n,this.locationOffset.line>0||tA(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||tA(0,"column in locationOffset is 1-indexed and must be positive.")}return dce(a,[{key:bM,get:function(){return"Source"}}]),a}();function fce(a){return cce(a,aR)}function rA(a,t){for(var o=/\r\n|[\n\r]/g,n=1,r=t+1,e;(e=o.exec(a.body))&&e.index<t;)n+=1,r=t+1-(e.index+e[0].length);return{line:n,column:r}}function gM(a){return oR(a.source,rA(a.source,a.start))}function oR(a,t){var o=a.locationOffset.column-1,n=nA(o)+a.body,r=t.line-1,e=a.locationOffset.line-1,i=t.line+e,s=t.line===1?o:0,c=t.column+s,u="".concat(a.name,":").concat(i,":").concat(c,`
`),l=n.split(/\r\n|[\n\r]/g),f=l[r];if(f.length>120){for(var d=Math.floor(c/80),h=c%80,p=[],_=0;_<f.length;_+=80)p.push(f.slice(_,_+80));return u+vM([["".concat(i),p[0]]].concat(p.slice(1,d+1).map(function(g){return["",g]}),[[" ",nA(h-1)+"^"],["",p[d+1]]]))}return u+vM([["".concat(i-1),l[r-1]],["".concat(i),f],["",nA(c-1)+"^"],["".concat(i+1),l[r+1]]])}function vM(a){var t=a.filter(function(n){n[0];var r=n[1];return r!==void 0}),o=Math.max.apply(Math,t.map(function(n){var r=n[0];return r.length}));return t.map(function(n){var r=n[0],e=n[1];return hce(o,r)+(e?" | "+e:" |")}).join(`
`)}function nA(a){return Array(a+1).join(" ")}function hce(a,t){return nA(a-t.length)+t}var ut=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),Ze=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function iA(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?iA=function(o){return typeof o}:iA=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},iA(a)}function pce(a){return iA(a)=="object"&&a!==null}function aA(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?aA=function(o){return typeof o}:aA=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},aA(a)}function TM(a,t){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);t&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),o.push.apply(o,n)}return o}function yce(a){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?TM(Object(o),!0).forEach(function(n){bce(a,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):TM(Object(o)).forEach(function(n){Object.defineProperty(a,n,Object.getOwnPropertyDescriptor(o,n))})}return a}function bce(a,t,o){return t in a?Object.defineProperty(a,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[t]=o,a}function _ce(a,t){if(!(a instanceof t))throw new TypeError("Cannot call a class as a function")}function mce(a,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}function gce(a,t,o){return t&&mce(a.prototype,t),a}function vce(a,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(t&&t.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),t&&_1(a,t)}function Tce(a){var t=SM();return function(){var n=m1(a),r;if(t){var e=m1(this).constructor;r=Reflect.construct(n,arguments,e)}else r=n.apply(this,arguments);return wM(this,r)}}function wM(a,t){return t&&(aA(t)==="object"||typeof t=="function")?t:b1(a)}function b1(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function sR(a){var t=typeof Map=="function"?new Map:void 0;return sR=function(n){if(n===null||!wce(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,r)}function r(){return oA(n,arguments,m1(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_1(r,n)},sR(a)}function oA(a,t,o){return SM()?oA=Reflect.construct:oA=function(r,e,i){var s=[null];s.push.apply(s,e);var c=Function.bind.apply(r,s),u=new c;return i&&_1(u,i.prototype),u},oA.apply(null,arguments)}function SM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function wce(a){return Function.toString.call(a).indexOf("[native code]")!==-1}function _1(a,t){return _1=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},_1(a,t)}function m1(a){return m1=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},m1(a)}var Sce=function(a){vce(o,a);var t=Tce(o);function o(n,r,e,i,s,c,u){var l,f,d,h;_ce(this,o),h=t.call(this,n),h.name="GraphQLError",h.originalError=c??void 0,h.nodes=OM(Array.isArray(r)?r:r?[r]:void 0);for(var p=[],_=0,g=(y=h.nodes)!==null&&y!==void 0?y:[];_<g.length;_++){var y,m=g[_],b=m.loc;b!=null&&p.push(b)}p=OM(p),h.source=e??((l=p)===null||l===void 0?void 0:l[0].source),h.positions=i??((f=p)===null||f===void 0?void 0:f.map(function(w){return w.start})),h.locations=i&&e?i.map(function(w){return rA(e,w)}):(d=p)===null||d===void 0?void 0:d.map(function(w){return rA(w.source,w.start)}),h.path=s??void 0;var T=c==null?void 0:c.extensions;return u==null&&pce(T)?h.extensions=yce({},T):h.extensions=u??{},Object.defineProperties(b1(h),{message:{enumerable:!0},locations:{enumerable:h.locations!=null},path:{enumerable:h.path!=null},extensions:{enumerable:h.extensions!=null&&Object.keys(h.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),c!=null&&c.stack?(Object.defineProperty(b1(h),"stack",{value:c.stack,writable:!0,configurable:!0}),wM(h)):(Error.captureStackTrace?Error.captureStackTrace(b1(h),o):Object.defineProperty(b1(h),"stack",{value:Error().stack,writable:!0,configurable:!0}),h)}return gce(o,[{key:"toString",value:function(){return Oce(this)}},{key:"toJSON",value:function(){return Ace(this)}},{key:bM,get:function(){return"Object"}}]),o}(sR(Error));function OM(a){return a===void 0||a.length===0?void 0:a}function Oce(a){var t=a.message;if(a.nodes)for(var o=0,n=a.nodes;o<n.length;o++){var r=n[o];r.loc&&(t+=`

`+gM(r.loc))}else if(a.source&&a.locations)for(var e=0,i=a.locations;e<i.length;e++){var s=i[e];t+=`

`+oR(a.source,s)}return t}function Ace(a){var t;a||tA(0,"Received null or undefined error.");var o=(t=a.message)!==null&&t!==void 0?t:"An unknown error occurred.",n=a.locations,r=a.path,e=a.extensions;return e&&Object.keys(e).length>0?{message:o,locations:n,path:r,extensions:e}:{message:o,locations:n,path:r}}function vn(a,t,o){return new Sce("Syntax Error: ".concat(o),void 0,a,[t])}function Ece(a,t){var o=!!a;if(!o)throw new Error("Unexpected invariant triggered.")}function AM(a){var t=a.prototype.toJSON;typeof t=="function"||Ece(0),a.prototype.inspect=t,iR&&(a.prototype[iR]=t)}var uR=function(){function a(o,n,r){this.start=o.start,this.end=n.end,this.startToken=o,this.endToken=n,this.source=r}var t=a.prototype;return t.toJSON=function(){return{start:this.start,end:this.end}},a}();AM(uR);var ur=function(){function a(o,n,r,e,i,s,c){this.kind=o,this.start=n,this.end=r,this.line=e,this.column=i,this.value=c,this.prev=s,this.next=null}var t=a.prototype;return t.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},a}();AM(ur);function EM(a){return a!=null&&typeof a.kind=="string"}function xce(a){var t=a.split(/\r\n|[\n\r]/g),o=Ice(a);if(o!==0)for(var n=1;n<t.length;n++)t[n]=t[n].slice(o);for(var r=0;r<t.length&&xM(t[r]);)++r;for(var e=t.length;e>r&&xM(t[e-1]);)--e;return t.slice(r,e).join(`
`)}function xM(a){for(var t=0;t<a.length;++t)if(a[t]!==" "&&a[t]!=="	")return!1;return!0}function Ice(a){for(var t,o=!0,n=!0,r=0,e=null,i=0;i<a.length;++i)switch(a.charCodeAt(i)){case 13:a.charCodeAt(i+1)===10&&++i;case 10:o=!1,n=!0,r=0;break;case 9:case 32:++r;break;default:n&&!o&&(e===null||r<e)&&(e=r),n=!1}return(t=e)!==null&&t!==void 0?t:0}function Rce(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=a.indexOf(`
`)===-1,r=a[0]===" "||a[0]==="	",e=a[a.length-1]==='"',i=a[a.length-1]==="\\",s=!n||e||i||o,c="";return s&&!(n&&r)&&(c+=`
`+t),c+=t?a.replace(/\n/g,`
`+t):a,s&&(c+=`
`),'"""'+c.replace(/"""/g,'\\"""')+'"""'}var IM=function(){function a(o){var n=new ur(Ze.SOF,0,0,0,0,null);this.source=o,this.lastToken=n,this.token=n,this.line=1,this.lineStart=0}var t=a.prototype;return t.advance=function(){this.lastToken=this.token;var n=this.token=this.lookahead();return n},t.lookahead=function(){var n=this.token;if(n.kind!==Ze.EOF)do{var r;n=(r=n.next)!==null&&r!==void 0?r:n.next=Nce(this,n)}while(n.kind===Ze.COMMENT);return n},a}();function Fce(a){return a===Ze.BANG||a===Ze.DOLLAR||a===Ze.AMP||a===Ze.PAREN_L||a===Ze.PAREN_R||a===Ze.SPREAD||a===Ze.COLON||a===Ze.EQUALS||a===Ze.AT||a===Ze.BRACKET_L||a===Ze.BRACKET_R||a===Ze.BRACE_L||a===Ze.PIPE||a===Ze.BRACE_R}function cs(a){return isNaN(a)?Ze.EOF:a<127?JSON.stringify(String.fromCharCode(a)):'"\\u'.concat(("00"+a.toString(16).toUpperCase()).slice(-4),'"')}function Nce(a,t){for(var o=a.source,n=o.body,r=n.length,e=t.end;e<r;){var i=n.charCodeAt(e),s=a.line,c=1+e-a.lineStart;switch(i){case 65279:case 9:case 32:case 44:++e;continue;case 10:++e,++a.line,a.lineStart=e;continue;case 13:n.charCodeAt(e+1)===10?e+=2:++e,++a.line,a.lineStart=e;continue;case 33:return new ur(Ze.BANG,e,e+1,s,c,t);case 35:return Pce(o,e,s,c,t);case 36:return new ur(Ze.DOLLAR,e,e+1,s,c,t);case 38:return new ur(Ze.AMP,e,e+1,s,c,t);case 40:return new ur(Ze.PAREN_L,e,e+1,s,c,t);case 41:return new ur(Ze.PAREN_R,e,e+1,s,c,t);case 46:if(n.charCodeAt(e+1)===46&&n.charCodeAt(e+2)===46)return new ur(Ze.SPREAD,e,e+3,s,c,t);break;case 58:return new ur(Ze.COLON,e,e+1,s,c,t);case 61:return new ur(Ze.EQUALS,e,e+1,s,c,t);case 64:return new ur(Ze.AT,e,e+1,s,c,t);case 91:return new ur(Ze.BRACKET_L,e,e+1,s,c,t);case 93:return new ur(Ze.BRACKET_R,e,e+1,s,c,t);case 123:return new ur(Ze.BRACE_L,e,e+1,s,c,t);case 124:return new ur(Ze.PIPE,e,e+1,s,c,t);case 125:return new ur(Ze.BRACE_R,e,e+1,s,c,t);case 34:return n.charCodeAt(e+1)===34&&n.charCodeAt(e+2)===34?Mce(o,e,s,c,t,a):jce(o,e,s,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return Lce(o,e,i,s,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Cce(o,e,s,c,t)}throw vn(o,e,Dce(i))}var u=a.line,l=1+e-a.lineStart;return new ur(Ze.EOF,r,r,u,l,t)}function Dce(a){return a<32&&a!==9&&a!==10&&a!==13?"Cannot contain the invalid character ".concat(cs(a),"."):a===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:"Cannot parse the unexpected character ".concat(cs(a),".")}function Pce(a,t,o,n,r){var e=a.body,i,s=t;do i=e.charCodeAt(++s);while(!isNaN(i)&&(i>31||i===9));return new ur(Ze.COMMENT,t,s,o,n,r,e.slice(t+1,s))}function Lce(a,t,o,n,r,e){var i=a.body,s=o,c=t,u=!1;if(s===45&&(s=i.charCodeAt(++c)),s===48){if(s=i.charCodeAt(++c),s>=48&&s<=57)throw vn(a,c,"Invalid number, unexpected digit after 0: ".concat(cs(s),"."))}else c=cR(a,c,s),s=i.charCodeAt(c);if(s===46&&(u=!0,s=i.charCodeAt(++c),c=cR(a,c,s),s=i.charCodeAt(c)),(s===69||s===101)&&(u=!0,s=i.charCodeAt(++c),(s===43||s===45)&&(s=i.charCodeAt(++c)),c=cR(a,c,s),s=i.charCodeAt(c)),s===46||Bce(s))throw vn(a,c,"Invalid number, expected digit but got: ".concat(cs(s),"."));return new ur(u?Ze.FLOAT:Ze.INT,t,c,n,r,e,i.slice(t,c))}function cR(a,t,o){var n=a.body,r=t,e=o;if(e>=48&&e<=57){do e=n.charCodeAt(++r);while(e>=48&&e<=57);return r}throw vn(a,r,"Invalid number, expected digit but got: ".concat(cs(e),"."))}function jce(a,t,o,n,r){for(var e=a.body,i=t+1,s=i,c=0,u="";i<e.length&&!isNaN(c=e.charCodeAt(i))&&c!==10&&c!==13;){if(c===34)return u+=e.slice(s,i),new ur(Ze.STRING,t,i+1,o,n,r,u);if(c<32&&c!==9)throw vn(a,i,"Invalid character within String: ".concat(cs(c),"."));if(++i,c===92){switch(u+=e.slice(s,i-1),c=e.charCodeAt(i),c){case 34:u+='"';break;case 47:u+="/";break;case 92:u+="\\";break;case 98:u+="\b";break;case 102:u+="\f";break;case 110:u+=`
`;break;case 114:u+="\r";break;case 116:u+="	";break;case 117:{var l=qce(e.charCodeAt(i+1),e.charCodeAt(i+2),e.charCodeAt(i+3),e.charCodeAt(i+4));if(l<0){var f=e.slice(i+1,i+5);throw vn(a,i,"Invalid character escape sequence: \\u".concat(f,"."))}u+=String.fromCharCode(l),i+=4;break}default:throw vn(a,i,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}++i,s=i}}throw vn(a,i,"Unterminated string.")}function Mce(a,t,o,n,r,e){for(var i=a.body,s=t+3,c=s,u=0,l="";s<i.length&&!isNaN(u=i.charCodeAt(s));){if(u===34&&i.charCodeAt(s+1)===34&&i.charCodeAt(s+2)===34)return l+=i.slice(c,s),new ur(Ze.BLOCK_STRING,t,s+3,o,n,r,xce(l));if(u<32&&u!==9&&u!==10&&u!==13)throw vn(a,s,"Invalid character within String: ".concat(cs(u),"."));u===10?(++s,++e.line,e.lineStart=s):u===13?(i.charCodeAt(s+1)===10?s+=2:++s,++e.line,e.lineStart=s):u===92&&i.charCodeAt(s+1)===34&&i.charCodeAt(s+2)===34&&i.charCodeAt(s+3)===34?(l+=i.slice(c,s)+'"""',s+=4,c=s):++s}throw vn(a,s,"Unterminated string.")}function qce(a,t,o,n){return sA(a)<<12|sA(t)<<8|sA(o)<<4|sA(n)}function sA(a){return a>=48&&a<=57?a-48:a>=65&&a<=70?a-55:a>=97&&a<=102?a-87:-1}function Cce(a,t,o,n,r){for(var e=a.body,i=e.length,s=t+1,c=0;s!==i&&!isNaN(c=e.charCodeAt(s))&&(c===95||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++s;return new ur(Ze.NAME,t,s,o,n,r,e.slice(t,s))}function Bce(a){return a===95||a>=65&&a<=90||a>=97&&a<=122}var RM=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function $ce(a,t){var o=new lR(a,t);return o.parseDocument()}function Uce(a,t){var o=new lR(a,t);o.expectToken(Ze.SOF);var n=o.parseValueLiteral(!1);return o.expectToken(Ze.EOF),n}function Vce(a,t){var o=new lR(a,t);o.expectToken(Ze.SOF);var n=o.parseTypeReference();return o.expectToken(Ze.EOF),n}var lR=function(){function a(o,n){var r=fce(o)?o:new aR(o);this._lexer=new IM(r),this._options=n}var t=a.prototype;return t.parseName=function(){var n=this.expectToken(Ze.NAME);return{kind:ut.NAME,value:n.value,loc:this.loc(n)}},t.parseDocument=function(){var n=this._lexer.token;return{kind:ut.DOCUMENT,definitions:this.many(Ze.SOF,this.parseDefinition,Ze.EOF),loc:this.loc(n)}},t.parseDefinition=function(){if(this.peek(Ze.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(Ze.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var n=this._lexer.token;if(this.peek(Ze.BRACE_L))return{kind:ut.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(n)};var r=this.parseOperationType(),e;return this.peek(Ze.NAME)&&(e=this.parseName()),{kind:ut.OPERATION_DEFINITION,operation:r,name:e,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},t.parseOperationType=function(){var n=this.expectToken(Ze.NAME);switch(n.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(n)},t.parseVariableDefinitions=function(){return this.optionalMany(Ze.PAREN_L,this.parseVariableDefinition,Ze.PAREN_R)},t.parseVariableDefinition=function(){var n=this._lexer.token;return{kind:ut.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Ze.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Ze.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(n)}},t.parseVariable=function(){var n=this._lexer.token;return this.expectToken(Ze.DOLLAR),{kind:ut.VARIABLE,name:this.parseName(),loc:this.loc(n)}},t.parseSelectionSet=function(){var n=this._lexer.token;return{kind:ut.SELECTION_SET,selections:this.many(Ze.BRACE_L,this.parseSelection,Ze.BRACE_R),loc:this.loc(n)}},t.parseSelection=function(){return this.peek(Ze.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var n=this._lexer.token,r=this.parseName(),e,i;return this.expectOptionalToken(Ze.COLON)?(e=r,i=this.parseName()):i=r,{kind:ut.FIELD,alias:e,name:i,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Ze.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(n)}},t.parseArguments=function(n){var r=n?this.parseConstArgument:this.parseArgument;return this.optionalMany(Ze.PAREN_L,r,Ze.PAREN_R)},t.parseArgument=function(){var n=this._lexer.token,r=this.parseName();return this.expectToken(Ze.COLON),{kind:ut.ARGUMENT,name:r,value:this.parseValueLiteral(!1),loc:this.loc(n)}},t.parseConstArgument=function(){var n=this._lexer.token;return{kind:ut.ARGUMENT,name:this.parseName(),value:(this.expectToken(Ze.COLON),this.parseValueLiteral(!0)),loc:this.loc(n)}},t.parseFragment=function(){var n=this._lexer.token;this.expectToken(Ze.SPREAD);var r=this.expectOptionalKeyword("on");return!r&&this.peek(Ze.NAME)?{kind:ut.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(n)}:{kind:ut.INLINE_FRAGMENT,typeCondition:r?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(n)}},t.parseFragmentDefinition=function(){var n,r=this._lexer.token;return this.expectKeyword("fragment"),((n=this._options)===null||n===void 0?void 0:n.experimentalFragmentVariables)===!0?{kind:ut.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}:{kind:ut.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(r)}},t.parseFragmentName=function(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(n){var r=this._lexer.token;switch(r.kind){case Ze.BRACKET_L:return this.parseList(n);case Ze.BRACE_L:return this.parseObject(n);case Ze.INT:return this._lexer.advance(),{kind:ut.INT,value:r.value,loc:this.loc(r)};case Ze.FLOAT:return this._lexer.advance(),{kind:ut.FLOAT,value:r.value,loc:this.loc(r)};case Ze.STRING:case Ze.BLOCK_STRING:return this.parseStringLiteral();case Ze.NAME:switch(this._lexer.advance(),r.value){case"true":return{kind:ut.BOOLEAN,value:!0,loc:this.loc(r)};case"false":return{kind:ut.BOOLEAN,value:!1,loc:this.loc(r)};case"null":return{kind:ut.NULL,loc:this.loc(r)};default:return{kind:ut.ENUM,value:r.value,loc:this.loc(r)}}case Ze.DOLLAR:if(!n)return this.parseVariable();break}throw this.unexpected()},t.parseStringLiteral=function(){var n=this._lexer.token;return this._lexer.advance(),{kind:ut.STRING,value:n.value,block:n.kind===Ze.BLOCK_STRING,loc:this.loc(n)}},t.parseList=function(n){var r=this,e=this._lexer.token,i=function(){return r.parseValueLiteral(n)};return{kind:ut.LIST,values:this.any(Ze.BRACKET_L,i,Ze.BRACKET_R),loc:this.loc(e)}},t.parseObject=function(n){var r=this,e=this._lexer.token,i=function(){return r.parseObjectField(n)};return{kind:ut.OBJECT,fields:this.any(Ze.BRACE_L,i,Ze.BRACE_R),loc:this.loc(e)}},t.parseObjectField=function(n){var r=this._lexer.token,e=this.parseName();return this.expectToken(Ze.COLON),{kind:ut.OBJECT_FIELD,name:e,value:this.parseValueLiteral(n),loc:this.loc(r)}},t.parseDirectives=function(n){for(var r=[];this.peek(Ze.AT);)r.push(this.parseDirective(n));return r},t.parseDirective=function(n){var r=this._lexer.token;return this.expectToken(Ze.AT),{kind:ut.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(n),loc:this.loc(r)}},t.parseTypeReference=function(){var n=this._lexer.token,r;return this.expectOptionalToken(Ze.BRACKET_L)?(r=this.parseTypeReference(),this.expectToken(Ze.BRACKET_R),r={kind:ut.LIST_TYPE,type:r,loc:this.loc(n)}):r=this.parseNamedType(),this.expectOptionalToken(Ze.BANG)?{kind:ut.NON_NULL_TYPE,type:r,loc:this.loc(n)}:r},t.parseNamedType=function(){var n=this._lexer.token;return{kind:ut.NAMED_TYPE,name:this.parseName(),loc:this.loc(n)}},t.parseTypeSystemDefinition=function(){var n=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(n.kind===Ze.NAME)switch(n.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(n)},t.peekDescription=function(){return this.peek(Ze.STRING)||this.peek(Ze.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var n=this._lexer.token,r=this.parseDescription();this.expectKeyword("schema");var e=this.parseDirectives(!0),i=this.many(Ze.BRACE_L,this.parseOperationTypeDefinition,Ze.BRACE_R);return{kind:ut.SCHEMA_DEFINITION,description:r,directives:e,operationTypes:i,loc:this.loc(n)}},t.parseOperationTypeDefinition=function(){var n=this._lexer.token,r=this.parseOperationType();this.expectToken(Ze.COLON);var e=this.parseNamedType();return{kind:ut.OPERATION_TYPE_DEFINITION,operation:r,type:e,loc:this.loc(n)}},t.parseScalarTypeDefinition=function(){var n=this._lexer.token,r=this.parseDescription();this.expectKeyword("scalar");var e=this.parseName(),i=this.parseDirectives(!0);return{kind:ut.SCALAR_TYPE_DEFINITION,description:r,name:e,directives:i,loc:this.loc(n)}},t.parseObjectTypeDefinition=function(){var n=this._lexer.token,r=this.parseDescription();this.expectKeyword("type");var e=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:ut.OBJECT_TYPE_DEFINITION,description:r,name:e,interfaces:i,directives:s,fields:c,loc:this.loc(n)}},t.parseImplementsInterfaces=function(){var n;if(!this.expectOptionalKeyword("implements"))return[];if(((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLImplementsInterfaces)===!0){var r=[];this.expectOptionalToken(Ze.AMP);do r.push(this.parseNamedType());while(this.expectOptionalToken(Ze.AMP)||this.peek(Ze.NAME));return r}return this.delimitedMany(Ze.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var n;return((n=this._options)===null||n===void 0?void 0:n.allowLegacySDLEmptyFields)===!0&&this.peek(Ze.BRACE_L)&&this._lexer.lookahead().kind===Ze.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(Ze.BRACE_L,this.parseFieldDefinition,Ze.BRACE_R)},t.parseFieldDefinition=function(){var n=this._lexer.token,r=this.parseDescription(),e=this.parseName(),i=this.parseArgumentDefs();this.expectToken(Ze.COLON);var s=this.parseTypeReference(),c=this.parseDirectives(!0);return{kind:ut.FIELD_DEFINITION,description:r,name:e,arguments:i,type:s,directives:c,loc:this.loc(n)}},t.parseArgumentDefs=function(){return this.optionalMany(Ze.PAREN_L,this.parseInputValueDef,Ze.PAREN_R)},t.parseInputValueDef=function(){var n=this._lexer.token,r=this.parseDescription(),e=this.parseName();this.expectToken(Ze.COLON);var i=this.parseTypeReference(),s;this.expectOptionalToken(Ze.EQUALS)&&(s=this.parseValueLiteral(!0));var c=this.parseDirectives(!0);return{kind:ut.INPUT_VALUE_DEFINITION,description:r,name:e,type:i,defaultValue:s,directives:c,loc:this.loc(n)}},t.parseInterfaceTypeDefinition=function(){var n=this._lexer.token,r=this.parseDescription();this.expectKeyword("interface");var e=this.parseName(),i=this.parseImplementsInterfaces(),s=this.parseDirectives(!0),c=this.parseFieldsDefinition();return{kind:ut.INTERFACE_TYPE_DEFINITION,description:r,name:e,interfaces:i,directives:s,fields:c,loc:this.loc(n)}},t.parseUnionTypeDefinition=function(){var n=this._lexer.token,r=this.parseDescription();this.expectKeyword("union");var e=this.parseName(),i=this.parseDirectives(!0),s=this.parseUnionMemberTypes();return{kind:ut.UNION_TYPE_DEFINITION,description:r,name:e,directives:i,types:s,loc:this.loc(n)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(Ze.EQUALS)?this.delimitedMany(Ze.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var n=this._lexer.token,r=this.parseDescription();this.expectKeyword("enum");var e=this.parseName(),i=this.parseDirectives(!0),s=this.parseEnumValuesDefinition();return{kind:ut.ENUM_TYPE_DEFINITION,description:r,name:e,directives:i,values:s,loc:this.loc(n)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(Ze.BRACE_L,this.parseEnumValueDefinition,Ze.BRACE_R)},t.parseEnumValueDefinition=function(){var n=this._lexer.token,r=this.parseDescription(),e=this.parseName(),i=this.parseDirectives(!0);return{kind:ut.ENUM_VALUE_DEFINITION,description:r,name:e,directives:i,loc:this.loc(n)}},t.parseInputObjectTypeDefinition=function(){var n=this._lexer.token,r=this.parseDescription();this.expectKeyword("input");var e=this.parseName(),i=this.parseDirectives(!0),s=this.parseInputFieldsDefinition();return{kind:ut.INPUT_OBJECT_TYPE_DEFINITION,description:r,name:e,directives:i,fields:s,loc:this.loc(n)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(Ze.BRACE_L,this.parseInputValueDef,Ze.BRACE_R)},t.parseTypeSystemExtension=function(){var n=this._lexer.lookahead();if(n.kind===Ze.NAME)switch(n.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(n)},t.parseSchemaExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var r=this.parseDirectives(!0),e=this.optionalMany(Ze.BRACE_L,this.parseOperationTypeDefinition,Ze.BRACE_R);if(r.length===0&&e.length===0)throw this.unexpected();return{kind:ut.SCHEMA_EXTENSION,directives:r,operationTypes:e,loc:this.loc(n)}},t.parseScalarTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var r=this.parseName(),e=this.parseDirectives(!0);if(e.length===0)throw this.unexpected();return{kind:ut.SCALAR_TYPE_EXTENSION,name:r,directives:e,loc:this.loc(n)}},t.parseObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var r=this.parseName(),e=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(e.length===0&&i.length===0&&s.length===0)throw this.unexpected();return{kind:ut.OBJECT_TYPE_EXTENSION,name:r,interfaces:e,directives:i,fields:s,loc:this.loc(n)}},t.parseInterfaceTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var r=this.parseName(),e=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),s=this.parseFieldsDefinition();if(e.length===0&&i.length===0&&s.length===0)throw this.unexpected();return{kind:ut.INTERFACE_TYPE_EXTENSION,name:r,interfaces:e,directives:i,fields:s,loc:this.loc(n)}},t.parseUnionTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var r=this.parseName(),e=this.parseDirectives(!0),i=this.parseUnionMemberTypes();if(e.length===0&&i.length===0)throw this.unexpected();return{kind:ut.UNION_TYPE_EXTENSION,name:r,directives:e,types:i,loc:this.loc(n)}},t.parseEnumTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var r=this.parseName(),e=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();if(e.length===0&&i.length===0)throw this.unexpected();return{kind:ut.ENUM_TYPE_EXTENSION,name:r,directives:e,values:i,loc:this.loc(n)}},t.parseInputObjectTypeExtension=function(){var n=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var r=this.parseName(),e=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();if(e.length===0&&i.length===0)throw this.unexpected();return{kind:ut.INPUT_OBJECT_TYPE_EXTENSION,name:r,directives:e,fields:i,loc:this.loc(n)}},t.parseDirectiveDefinition=function(){var n=this._lexer.token,r=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Ze.AT);var e=this.parseName(),i=this.parseArgumentDefs(),s=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var c=this.parseDirectiveLocations();return{kind:ut.DIRECTIVE_DEFINITION,description:r,name:e,arguments:i,repeatable:s,locations:c,loc:this.loc(n)}},t.parseDirectiveLocations=function(){return this.delimitedMany(Ze.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var n=this._lexer.token,r=this.parseName();if(RM[r.value]!==void 0)return r;throw this.unexpected(n)},t.loc=function(n){var r;if(((r=this._options)===null||r===void 0?void 0:r.noLocation)!==!0)return new uR(n,this._lexer.lastToken,this._lexer.source)},t.peek=function(n){return this._lexer.token.kind===n},t.expectToken=function(n){var r=this._lexer.token;if(r.kind===n)return this._lexer.advance(),r;throw vn(this._lexer.source,r.start,"Expected ".concat(FM(n),", found ").concat(dR(r),"."))},t.expectOptionalToken=function(n){var r=this._lexer.token;if(r.kind===n)return this._lexer.advance(),r},t.expectKeyword=function(n){var r=this._lexer.token;if(r.kind===Ze.NAME&&r.value===n)this._lexer.advance();else throw vn(this._lexer.source,r.start,'Expected "'.concat(n,'", found ').concat(dR(r),"."))},t.expectOptionalKeyword=function(n){var r=this._lexer.token;return r.kind===Ze.NAME&&r.value===n?(this._lexer.advance(),!0):!1},t.unexpected=function(n){var r=n??this._lexer.token;return vn(this._lexer.source,r.start,"Unexpected ".concat(dR(r),"."))},t.any=function(n,r,e){this.expectToken(n);for(var i=[];!this.expectOptionalToken(e);)i.push(r.call(this));return i},t.optionalMany=function(n,r,e){if(this.expectOptionalToken(n)){var i=[];do i.push(r.call(this));while(!this.expectOptionalToken(e));return i}return[]},t.many=function(n,r,e){this.expectToken(n);var i=[];do i.push(r.call(this));while(!this.expectOptionalToken(e));return i},t.delimitedMany=function(n,r){this.expectOptionalToken(n);var e=[];do e.push(r.call(this));while(this.expectOptionalToken(n));return e},a}();function dR(a){var t=a.value;return FM(a.kind)+(t!=null?' "'.concat(t,'"'):"")}function FM(a){return Fce(a)?'"'.concat(a,'"'):a}var Qce={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Eh=Object.freeze({});function NM(a,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qce,n=void 0,r=Array.isArray(a),e=[a],i=-1,s=[],c=void 0,u=void 0,l=void 0,f=[],d=[],h=a;do{i++;var p=i===e.length,_=p&&s.length!==0;if(p){if(u=d.length===0?void 0:f[f.length-1],c=l,l=d.pop(),_){if(r)c=c.slice();else{for(var g={},y=0,m=Object.keys(c);y<m.length;y++){var b=m[y];g[b]=c[b]}c=g}for(var T=0,w=0;w<s.length;w++){var O=s[w][0],F=s[w][1];r&&(O-=T),r&&F===null?(c.splice(O,1),T++):c[O]=F}}i=n.index,e=n.keys,s=n.edits,r=n.inArray,n=n.prev}else{if(u=l?r?i:e[i]:void 0,c=l?l[u]:h,c==null)continue;l&&f.push(u)}var Q=void 0;if(!Array.isArray(c)){if(!EM(c))throw new Error("Invalid AST Node: ".concat(mM(c),"."));var j=uA(t,c.kind,p);if(j){if(Q=j.call(t,c,u,l,f,d),Q===Eh)break;if(Q===!1){if(!p){f.pop();continue}}else if(Q!==void 0&&(s.push([u,Q]),!p))if(EM(Q))c=Q;else{f.pop();continue}}}if(Q===void 0&&_&&s.push([u,c]),p)f.pop();else{var x;n={inArray:r,index:i,keys:e,edits:s,prev:n},r=Array.isArray(c),e=r?c:(x=o[c.kind])!==null&&x!==void 0?x:[],i=-1,s=[],l&&d.push(l),l=c}}while(n!==void 0);return s.length!==0&&(h=s[s.length-1][1]),h}function Hce(a){var t=new Array(a.length);return{enter:function(n){for(var r=0;r<a.length;r++)if(t[r]==null){var e=uA(a[r],n.kind,!1);if(e){var i=e.apply(a[r],arguments);if(i===!1)t[r]=n;else if(i===Eh)t[r]=Eh;else if(i!==void 0)return i}}},leave:function(n){for(var r=0;r<a.length;r++)if(t[r]==null){var e=uA(a[r],n.kind,!0);if(e){var i=e.apply(a[r],arguments);if(i===Eh)t[r]=Eh;else if(i!==void 0&&i!==!1)return i}}else t[r]===n&&(t[r]=null)}}}function uA(a,t,o){var n=a[t];if(n){if(!o&&typeof n=="function")return n;var r=o?n.leave:n.enter;if(typeof r=="function")return r}else{var e=o?a.leave:a.enter;if(e){if(typeof e=="function")return e;var i=e[t];if(typeof i=="function")return i}}}function Gce(a){return NM(a,{leave:kce})}var zce=80,kce={Name:function(t){return t.value},Variable:function(t){return"$"+t.name},Document:function(t){return ft(t.definitions,`

`)+`
`},OperationDefinition:function(t){var o=t.operation,n=t.name,r=cr("(",ft(t.variableDefinitions,", "),")"),e=ft(t.directives," "),i=t.selectionSet;return!n&&!e&&!r&&o==="query"?i:ft([o,ft([n,r]),e,i]," ")},VariableDefinition:function(t){var o=t.variable,n=t.type,r=t.defaultValue,e=t.directives;return o+": "+n+cr(" = ",r)+cr(" ",ft(e," "))},SelectionSet:function(t){var o=t.selections;return Wn(o)},Field:function(t){var o=t.alias,n=t.name,r=t.arguments,e=t.directives,i=t.selectionSet,s=cr("",o,": ")+n,c=s+cr("(",ft(r,", "),")");return c.length>zce&&(c=s+cr(`(
`,cA(ft(r,`
`)),`
)`)),ft([c,ft(e," "),i]," ")},Argument:function(t){var o=t.name,n=t.value;return o+": "+n},FragmentSpread:function(t){var o=t.name,n=t.directives;return"..."+o+cr(" ",ft(n," "))},InlineFragment:function(t){var o=t.typeCondition,n=t.directives,r=t.selectionSet;return ft(["...",cr("on ",o),ft(n," "),r]," ")},FragmentDefinition:function(t){var o=t.name,n=t.typeCondition,r=t.variableDefinitions,e=t.directives,i=t.selectionSet;return"fragment ".concat(o).concat(cr("(",ft(r,", "),")")," ")+"on ".concat(n," ").concat(cr("",ft(e," ")," "))+i},IntValue:function(t){var o=t.value;return o},FloatValue:function(t){var o=t.value;return o},StringValue:function(t,o){var n=t.value,r=t.block;return r?Rce(n,o==="description"?"":"  "):JSON.stringify(n)},BooleanValue:function(t){var o=t.value;return o?"true":"false"},NullValue:function(){return"null"},EnumValue:function(t){var o=t.value;return o},ListValue:function(t){var o=t.values;return"["+ft(o,", ")+"]"},ObjectValue:function(t){var o=t.fields;return"{"+ft(o,", ")+"}"},ObjectField:function(t){var o=t.name,n=t.value;return o+": "+n},Directive:function(t){var o=t.name,n=t.arguments;return"@"+o+cr("(",ft(n,", "),")")},NamedType:function(t){var o=t.name;return o},ListType:function(t){var o=t.type;return"["+o+"]"},NonNullType:function(t){var o=t.type;return o+"!"},SchemaDefinition:Xn(function(a){var t=a.directives,o=a.operationTypes;return ft(["schema",ft(t," "),Wn(o)]," ")}),OperationTypeDefinition:function(t){var o=t.operation,n=t.type;return o+": "+n},ScalarTypeDefinition:Xn(function(a){var t=a.name,o=a.directives;return ft(["scalar",t,ft(o," ")]," ")}),ObjectTypeDefinition:Xn(function(a){var t=a.name,o=a.interfaces,n=a.directives,r=a.fields;return ft(["type",t,cr("implements ",ft(o," & ")),ft(n," "),Wn(r)]," ")}),FieldDefinition:Xn(function(a){var t=a.name,o=a.arguments,n=a.type,r=a.directives;return t+(DM(o)?cr(`(
`,cA(ft(o,`
`)),`
)`):cr("(",ft(o,", "),")"))+": "+n+cr(" ",ft(r," "))}),InputValueDefinition:Xn(function(a){var t=a.name,o=a.type,n=a.defaultValue,r=a.directives;return ft([t+": "+o,cr("= ",n),ft(r," ")]," ")}),InterfaceTypeDefinition:Xn(function(a){var t=a.name,o=a.interfaces,n=a.directives,r=a.fields;return ft(["interface",t,cr("implements ",ft(o," & ")),ft(n," "),Wn(r)]," ")}),UnionTypeDefinition:Xn(function(a){var t=a.name,o=a.directives,n=a.types;return ft(["union",t,ft(o," "),n&&n.length!==0?"= "+ft(n," | "):""]," ")}),EnumTypeDefinition:Xn(function(a){var t=a.name,o=a.directives,n=a.values;return ft(["enum",t,ft(o," "),Wn(n)]," ")}),EnumValueDefinition:Xn(function(a){var t=a.name,o=a.directives;return ft([t,ft(o," ")]," ")}),InputObjectTypeDefinition:Xn(function(a){var t=a.name,o=a.directives,n=a.fields;return ft(["input",t,ft(o," "),Wn(n)]," ")}),DirectiveDefinition:Xn(function(a){var t=a.name,o=a.arguments,n=a.repeatable,r=a.locations;return"directive @"+t+(DM(o)?cr(`(
`,cA(ft(o,`
`)),`
)`):cr("(",ft(o,", "),")"))+(n?" repeatable":"")+" on "+ft(r," | ")}),SchemaExtension:function(t){var o=t.directives,n=t.operationTypes;return ft(["extend schema",ft(o," "),Wn(n)]," ")},ScalarTypeExtension:function(t){var o=t.name,n=t.directives;return ft(["extend scalar",o,ft(n," ")]," ")},ObjectTypeExtension:function(t){var o=t.name,n=t.interfaces,r=t.directives,e=t.fields;return ft(["extend type",o,cr("implements ",ft(n," & ")),ft(r," "),Wn(e)]," ")},InterfaceTypeExtension:function(t){var o=t.name,n=t.interfaces,r=t.directives,e=t.fields;return ft(["extend interface",o,cr("implements ",ft(n," & ")),ft(r," "),Wn(e)]," ")},UnionTypeExtension:function(t){var o=t.name,n=t.directives,r=t.types;return ft(["extend union",o,ft(n," "),r&&r.length!==0?"= "+ft(r," | "):""]," ")},EnumTypeExtension:function(t){var o=t.name,n=t.directives,r=t.values;return ft(["extend enum",o,ft(n," "),Wn(r)]," ")},InputObjectTypeExtension:function(t){var o=t.name,n=t.directives,r=t.fields;return ft(["extend input",o,ft(n," "),Wn(r)]," ")}};function Xn(a){return function(t){return ft([t.description,a(t)],`
`)}}function ft(a){var t,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return(t=a==null?void 0:a.filter(function(n){return n}).join(o))!==null&&t!==void 0?t:""}function Wn(a){return cr(`{
`,cA(ft(a,`
`)),`
}`)}function cr(a,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return t!=null&&t!==""?a+t+o:""}function cA(a){return cr("  ",a.replace(/\n/g,`
  `))}function Xce(a){return a.indexOf(`
`)!==-1}function DM(a){return a!=null&&a.some(Xce)}function Wce(a){return PM(a)||LM(a)||MM(a)}function PM(a){return a.kind===ut.OPERATION_DEFINITION||a.kind===ut.FRAGMENT_DEFINITION}function Jce(a){return a.kind===ut.FIELD||a.kind===ut.FRAGMENT_SPREAD||a.kind===ut.INLINE_FRAGMENT}function Kce(a){return a.kind===ut.VARIABLE||a.kind===ut.INT||a.kind===ut.FLOAT||a.kind===ut.STRING||a.kind===ut.BOOLEAN||a.kind===ut.NULL||a.kind===ut.ENUM||a.kind===ut.LIST||a.kind===ut.OBJECT}function Yce(a){return a.kind===ut.NAMED_TYPE||a.kind===ut.LIST_TYPE||a.kind===ut.NON_NULL_TYPE}function LM(a){return a.kind===ut.SCHEMA_DEFINITION||jM(a)||a.kind===ut.DIRECTIVE_DEFINITION}function jM(a){return a.kind===ut.SCALAR_TYPE_DEFINITION||a.kind===ut.OBJECT_TYPE_DEFINITION||a.kind===ut.INTERFACE_TYPE_DEFINITION||a.kind===ut.UNION_TYPE_DEFINITION||a.kind===ut.ENUM_TYPE_DEFINITION||a.kind===ut.INPUT_OBJECT_TYPE_DEFINITION}function MM(a){return a.kind===ut.SCHEMA_EXTENSION||qM(a)}function qM(a){return a.kind===ut.SCALAR_TYPE_EXTENSION||a.kind===ut.OBJECT_TYPE_EXTENSION||a.kind===ut.INTERFACE_TYPE_EXTENSION||a.kind===ut.UNION_TYPE_EXTENSION||a.kind===ut.ENUM_TYPE_EXTENSION||a.kind===ut.INPUT_OBJECT_TYPE_EXTENSION}var Zce=Object.freeze({__proto__:null,BREAK:Eh,DirectiveLocation:RM,Kind:ut,Lexer:IM,Location:uR,Source:aR,Token:ur,TokenKind:Ze,getLocation:rA,getVisitFn:uA,isDefinitionNode:Wce,isExecutableDefinitionNode:PM,isSelectionNode:Jce,isTypeDefinitionNode:jM,isTypeExtensionNode:qM,isTypeNode:Yce,isTypeSystemDefinitionNode:LM,isTypeSystemExtensionNode:MM,isValueNode:Kce,parse:$ce,parseType:Vce,parseValue:Uce,print:Gce,printLocation:gM,printSourceLocation:oR,visit:NM,visitInParallel:Hce}),ele=sr(Zce),g1={},ls={},v1={},CM;function BM(){if(CM)return v1;CM=1,Object.defineProperty(v1,"__esModule",{value:!0}),v1.BlankNode=void 0;class a{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}}return v1.BlankNode=a,v1}var T1={},w1={},$M;function UM(){if($M)return w1;$M=1,Object.defineProperty(w1,"__esModule",{value:!0}),w1.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}return w1.DefaultGraph=a,a.INSTANCE=new a,w1}var S1={},O1={},VM;function fR(){if(VM)return O1;VM=1,Object.defineProperty(O1,"__esModule",{value:!0}),O1.NamedNode=void 0;class a{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}}return O1.NamedNode=a,O1}var QM;function HM(){if(QM)return S1;QM=1,Object.defineProperty(S1,"__esModule",{value:!0}),S1.Literal=void 0;const a=fR();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return S1.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),S1}var A1={},GM;function zM(){if(GM)return A1;GM=1,Object.defineProperty(A1,"__esModule",{value:!0}),A1.Quad=void 0;class a{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}}return A1.Quad=a,A1}var E1={},kM;function XM(){if(kM)return E1;kM=1,Object.defineProperty(E1,"__esModule",{value:!0}),E1.Variable=void 0;class a{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}}return E1.Variable=a,E1}var WM;function tle(){if(WM)return T1;WM=1,Object.defineProperty(T1,"__esModule",{value:!0}),T1.DataFactory=void 0;const a=BM(),t=UM(),o=HM(),n=fR(),r=zM(),e=XM();let i=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return T1.DataFactory=s,T1}var JM;function rle(){return JM||(JM=1,function(a){var t=ls&&ls.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ls&&ls.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(BM(),a),o(tle(),a),o(UM(),a),o(HM(),a),o(fR(),a),o(zM(),a),o(XM(),a)}(ls)),ls}var ds={},x1={},fs={},Di={},KM;function nle(){if(KM)return Di;KM=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.removeDotSegmentsOfPath=Di.removeDotSegments=Di.resolve=void 0;function a(r,e){e=e||"";const i=e.indexOf("#");if(i>0&&(e=e.substr(0,i)),!r.length){if(e.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${e}' for value '${r}'`);return e}if(r.startsWith("?")){const h=e.indexOf("?");return h>0&&(e=e.substr(0,h)),e+r}if(r.startsWith("#"))return e+r;if(!e.length){const h=r.indexOf(":");if(h<0)throw new Error(`Found invalid relative IRI '${r}' for a missing baseIRI`);return o(r,h)}const s=r.indexOf(":");if(s>=0)return o(r,s);const c=e.indexOf(":");if(c<0)throw new Error(`Found invalid baseIRI '${e}' for value '${r}'`);const u=e.substr(0,c+1);if(r.indexOf("//")===0)return u+o(r,s);let l;if(e.indexOf("//",c)===c+1){if(l=e.indexOf("/",c+3),l<0)return e.length>c+3?e+"/"+o(r,s):u+o(r,s)}else if(l=e.indexOf("/",c+1),l<0)return u+o(r,s);if(r.indexOf("/")===0)return e.substr(0,l)+t(r);let f=e.substr(l);const d=f.lastIndexOf("/");return d>=0&&d<f.length-1&&(f=f.substr(0,d+1),r[0]==="."&&r[1]!=="."&&r[1]!=="/"&&r[2]&&(r=r.substr(1))),r=f+r,r=t(r),e.substr(0,l)+r}Di.resolve=a;function t(r){const e=[];let i=0;for(;i<r.length;)switch(r[i]){case"/":if(r[i+1]===".")if(r[i+2]==="."){if(!n(r[i+3])){e.push([]),i++;break}e.pop(),r[i+3]||e.push([]),i+=3}else{if(!n(r[i+2])){e.push([]),i++;break}r[i+2]||e.push([]),i+=2}else e.push([]),i++;break;case"#":case"?":e.length||e.push([]),e[e.length-1].push(r.substr(i)),i=r.length;break;default:e.length||e.push([]),e[e.length-1].push(r[i]),i++;break}return"/"+e.map(s=>s.join("")).join("/")}Di.removeDotSegments=t;function o(r,e){let i=e+1;e>=0?r[e+1]==="/"&&r[e+2]==="/"&&(i=e+3):r[0]==="/"&&r[1]==="/"&&(i=2);const s=r.indexOf("/",i);if(s<0)return r;const c=r.substr(0,s),u=r.substr(s);return c+t(u)}Di.removeDotSegmentsOfPath=o;function n(r){return!r||r==="#"||r==="?"||r==="/"}return Di}var YM;function Sr(){return YM||(YM=1,function(a){var t=fs&&fs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e),Object.defineProperty(n,i,{enumerable:!0,get:function(){return r[e]}})}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=fs&&fs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(nle(),a)}(fs)),fs}var hR={},ZM;function lA(){return ZM||(ZM=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ERROR_CODES=a.ErrorCoded=void 0;class t extends Error{constructor(n,r){super(n),this.code=r}}a.ErrorCoded=t,function(o){o.COLLIDING_KEYWORDS="colliding keywords",o.CONFLICTING_INDEXES="conflicting indexes",o.CYCLIC_IRI_MAPPING="cyclic IRI mapping",o.INVALID_ID_VALUE="invalid @id value",o.INVALID_INDEX_VALUE="invalid @index value",o.INVALID_NEST_VALUE="invalid @nest value",o.INVALID_PREFIX_VALUE="invalid @prefix value",o.INVALID_PROPAGATE_VALUE="invalid @propagate value",o.INVALID_REVERSE_VALUE="invalid @reverse value",o.INVALID_IMPORT_VALUE="invalid @import value",o.INVALID_VERSION_VALUE="invalid @version value",o.INVALID_BASE_IRI="invalid base IRI",o.INVALID_CONTAINER_MAPPING="invalid container mapping",o.INVALID_CONTEXT_ENTRY="invalid context entry",o.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",o.INVALID_DEFAULT_LANGUAGE="invalid default language",o.INVALID_INCLUDED_VALUE="invalid @included value",o.INVALID_IRI_MAPPING="invalid IRI mapping",o.INVALID_JSON_LITERAL="invalid JSON literal",o.INVALID_KEYWORD_ALIAS="invalid keyword alias",o.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",o.INVALID_LANGUAGE_MAPPING="invalid language mapping",o.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",o.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",o.INVALID_LOCAL_CONTEXT="invalid local context",o.INVALID_REMOTE_CONTEXT="invalid remote context",o.INVALID_REVERSE_PROPERTY="invalid reverse property",o.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",o.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",o.INVALID_SCOPED_CONTEXT="invalid scoped context",o.INVALID_SCRIPT_ELEMENT="invalid script element",o.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",o.INVALID_TERM_DEFINITION="invalid term definition",o.INVALID_TYPE_MAPPING="invalid type mapping",o.INVALID_TYPE_VALUE="invalid type value",o.INVALID_TYPED_VALUE="invalid typed value",o.INVALID_VALUE_OBJECT="invalid value object",o.INVALID_VALUE_OBJECT_VALUE="invalid value object value",o.INVALID_VOCAB_MAPPING="invalid vocab mapping",o.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",o.KEYWORD_REDEFINITION="keyword redefinition",o.LOADING_DOCUMENT_FAILED="loading document failed",o.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",o.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",o.PROCESSING_MODE_CONFLICT="processing mode conflict",o.PROTECTED_TERM_REDEFINITION="protected term redefinition",o.CONTEXT_OVERFLOW="context overflow",o.INVALID_BASE_DIRECTION="invalid base direction",o.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",o.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",o.INVALID_EMBEDDED_NODE="invalid embedded node",o.INVALID_ANNOTATION="invalid annotation"}(a.ERROR_CODES||(a.ERROR_CODES={}))}(hR)),hR}var I1={},pR={},dA={};dA.byteLength=ole,dA.toByteArray=ule,dA.fromByteArray=dle;for(var gi=[],Ln=[],ile=typeof Uint8Array<"u"?Uint8Array:Array,yR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xh=0,ale=yR.length;xh<ale;++xh)gi[xh]=yR[xh],Ln[yR.charCodeAt(xh)]=xh;Ln[45]=62,Ln[95]=63;function eq(a){var t=a.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var o=a.indexOf("=");o===-1&&(o=t);var n=o===t?0:4-o%4;return[o,n]}function ole(a){var t=eq(a),o=t[0],n=t[1];return(o+n)*3/4-n}function sle(a,t,o){return(t+o)*3/4-o}function ule(a){var t,o=eq(a),n=o[0],r=o[1],e=new ile(sle(a,n,r)),i=0,s=r>0?n-4:n,c;for(c=0;c<s;c+=4)t=Ln[a.charCodeAt(c)]<<18|Ln[a.charCodeAt(c+1)]<<12|Ln[a.charCodeAt(c+2)]<<6|Ln[a.charCodeAt(c+3)],e[i++]=t>>16&255,e[i++]=t>>8&255,e[i++]=t&255;return r===2&&(t=Ln[a.charCodeAt(c)]<<2|Ln[a.charCodeAt(c+1)]>>4,e[i++]=t&255),r===1&&(t=Ln[a.charCodeAt(c)]<<10|Ln[a.charCodeAt(c+1)]<<4|Ln[a.charCodeAt(c+2)]>>2,e[i++]=t>>8&255,e[i++]=t&255),e}function cle(a){return gi[a>>18&63]+gi[a>>12&63]+gi[a>>6&63]+gi[a&63]}function lle(a,t,o){for(var n,r=[],e=t;e<o;e+=3)n=(a[e]<<16&16711680)+(a[e+1]<<8&65280)+(a[e+2]&255),r.push(cle(n));return r.join("")}function dle(a){for(var t,o=a.length,n=o%3,r=[],e=16383,i=0,s=o-n;i<s;i+=e)r.push(lle(a,i,i+e>s?s:i+e));return n===1?(t=a[o-1],r.push(gi[t>>2]+gi[t<<4&63]+"==")):n===2&&(t=(a[o-2]<<8)+a[o-1],r.push(gi[t>>10]+gi[t>>4&63]+gi[t<<2&63]+"=")),r.join("")}var bR={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */bR.read=function(a,t,o,n,r){var e,i,s=r*8-n-1,c=(1<<s)-1,u=c>>1,l=-7,f=o?r-1:0,d=o?-1:1,h=a[t+f];for(f+=d,e=h&(1<<-l)-1,h>>=-l,l+=s;l>0;e=e*256+a[t+f],f+=d,l-=8);for(i=e&(1<<-l)-1,e>>=-l,l+=n;l>0;i=i*256+a[t+f],f+=d,l-=8);if(e===0)e=1-u;else{if(e===c)return i?NaN:(h?-1:1)*(1/0);i=i+Math.pow(2,n),e=e-u}return(h?-1:1)*i*Math.pow(2,e-n)},bR.write=function(a,t,o,n,r,e){var i,s,c,u=e*8-r-1,l=(1<<u)-1,f=l>>1,d=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:e-1,p=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,i=l):(i=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-i))<1&&(i--,c*=2),i+f>=1?t+=d/c:t+=d*Math.pow(2,1-f),t*c>=2&&(i++,c/=2),i+f>=l?(s=0,i=l):i+f>=1?(s=(t*c-1)*Math.pow(2,r),i=i+f):(s=t*Math.pow(2,f-1)*Math.pow(2,r),i=0));r>=8;a[o+h]=s&255,h+=p,s/=256,r-=8);for(i=i<<r|s,u+=r;u>0;a[o+h]=i&255,h+=p,i/=256,u-=8);a[o+h-p]|=_*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(a){const t=dA,o=bR,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;a.Buffer=l,a.SlowBuffer=w,a.INSPECT_MAX_BYTES=50;const r=2147483647;a.kMaxLength=r;const{Uint8Array:e,ArrayBuffer:i,SharedArrayBuffer:s}=globalThis;l.TYPED_ARRAY_SUPPORT=c(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const N=new e(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,e.prototype),Object.setPrototypeOf(N,S),N.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function u(N){if(N>r)throw new RangeError('The value "'+N+'" is invalid for option "size"');const S=new e(N);return Object.setPrototypeOf(S,l.prototype),S}function l(N,S,L){if(typeof N=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(N)}return f(N,S,L)}l.poolSize=8192;function f(N,S,L){if(typeof N=="string")return _(N,S);if(i.isView(N))return y(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(Ae(N,i)||N&&Ae(N.buffer,i)||typeof s<"u"&&(Ae(N,s)||N&&Ae(N.buffer,s)))return m(N,S,L);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const U=N.valueOf&&N.valueOf();if(U!=null&&U!==N)return l.from(U,S,L);const Z=b(N);if(Z)return Z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return l.from(N[Symbol.toPrimitive]("string"),S,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}l.from=function(N,S,L){return f(N,S,L)},Object.setPrototypeOf(l.prototype,e.prototype),Object.setPrototypeOf(l,e);function d(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function h(N,S,L){return d(N),N<=0?u(N):S!==void 0?typeof L=="string"?u(N).fill(S,L):u(N).fill(S):u(N)}l.alloc=function(N,S,L){return h(N,S,L)};function p(N){return d(N),u(N<0?0:T(N)|0)}l.allocUnsafe=function(N){return p(N)},l.allocUnsafeSlow=function(N){return p(N)};function _(N,S){if((typeof S!="string"||S==="")&&(S="utf8"),!l.isEncoding(S))throw new TypeError("Unknown encoding: "+S);const L=O(N,S)|0;let U=u(L);const Z=U.write(N,S);return Z!==L&&(U=U.slice(0,Z)),U}function g(N){const S=N.length<0?0:T(N.length)|0,L=u(S);for(let U=0;U<S;U+=1)L[U]=N[U]&255;return L}function y(N){if(Ae(N,e)){const S=new e(N);return m(S.buffer,S.byteOffset,S.byteLength)}return g(N)}function m(N,S,L){if(S<0||N.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<S+(L||0))throw new RangeError('"length" is outside of buffer bounds');let U;return S===void 0&&L===void 0?U=new e(N):L===void 0?U=new e(N,S):U=new e(N,S,L),Object.setPrototypeOf(U,l.prototype),U}function b(N){if(l.isBuffer(N)){const S=T(N.length)|0,L=u(S);return L.length===0||N.copy(L,0,0,S),L}if(N.length!==void 0)return typeof N.length!="number"||A(N.length)?u(0):g(N);if(N.type==="Buffer"&&Array.isArray(N.data))return g(N.data)}function T(N){if(N>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return N|0}function w(N){return+N!=N&&(N=0),l.alloc(+N)}l.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==l.prototype},l.compare=function(S,L){if(Ae(S,e)&&(S=l.from(S,S.offset,S.byteLength)),Ae(L,e)&&(L=l.from(L,L.offset,L.byteLength)),!l.isBuffer(S)||!l.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===L)return 0;let U=S.length,Z=L.length;for(let me=0,pe=Math.min(U,Z);me<pe;++me)if(S[me]!==L[me]){U=S[me],Z=L[me];break}return U<Z?-1:Z<U?1:0},l.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(S,L){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return l.alloc(0);let U;if(L===void 0)for(L=0,U=0;U<S.length;++U)L+=S[U].length;const Z=l.allocUnsafe(L);let me=0;for(U=0;U<S.length;++U){let pe=S[U];if(Ae(pe,e))me+pe.length>Z.length?(l.isBuffer(pe)||(pe=l.from(pe)),pe.copy(Z,me)):e.prototype.set.call(Z,pe,me);else if(l.isBuffer(pe))pe.copy(Z,me);else throw new TypeError('"list" argument must be an Array of Buffers');me+=pe.length}return Z};function O(N,S){if(l.isBuffer(N))return N.length;if(i.isView(N)||Ae(N,i))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);const L=N.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&L===0)return 0;let Z=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return le(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return Ve(N).length;default:if(Z)return U?-1:le(N).length;S=(""+S).toLowerCase(),Z=!0}}l.byteLength=O;function F(N,S,L){let U=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,S>>>=0,L<=S))return"";for(N||(N="utf8");;)switch(N){case"hex":return Ne(this,S,L);case"utf8":case"utf-8":return ie(this,S,L);case"ascii":return K(this,S,L);case"latin1":case"binary":return Te(this,S,L);case"base64":return J(this,S,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,S,L);default:if(U)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),U=!0}}l.prototype._isBuffer=!0;function Q(N,S,L){const U=N[S];N[S]=N[L],N[L]=U}l.prototype.swap16=function(){const S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<S;L+=2)Q(this,L,L+1);return this},l.prototype.swap32=function(){const S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<S;L+=4)Q(this,L,L+3),Q(this,L+1,L+2);return this},l.prototype.swap64=function(){const S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<S;L+=8)Q(this,L,L+7),Q(this,L+1,L+6),Q(this,L+2,L+5),Q(this,L+3,L+4);return this},l.prototype.toString=function(){const S=this.length;return S===0?"":arguments.length===0?ie(this,0,S):F.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(S){if(!l.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:l.compare(this,S)===0},l.prototype.inspect=function(){let S="";const L=a.INSPECT_MAX_BYTES;return S=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(S+=" ... "),"<Buffer "+S+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(S,L,U,Z,me){if(Ae(S,e)&&(S=l.from(S,S.offset,S.byteLength)),!l.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(L===void 0&&(L=0),U===void 0&&(U=S?S.length:0),Z===void 0&&(Z=0),me===void 0&&(me=this.length),L<0||U>S.length||Z<0||me>this.length)throw new RangeError("out of range index");if(Z>=me&&L>=U)return 0;if(Z>=me)return-1;if(L>=U)return 1;if(L>>>=0,U>>>=0,Z>>>=0,me>>>=0,this===S)return 0;let pe=me-Z,Xe=U-L;const ne=Math.min(pe,Xe),Ie=this.slice(Z,me),ve=S.slice(L,U);for(let Re=0;Re<ne;++Re)if(Ie[Re]!==ve[Re]){pe=Ie[Re],Xe=ve[Re];break}return pe<Xe?-1:Xe<pe?1:0};function j(N,S,L,U,Z){if(N.length===0)return-1;if(typeof L=="string"?(U=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,A(L)&&(L=Z?0:N.length-1),L<0&&(L=N.length+L),L>=N.length){if(Z)return-1;L=N.length-1}else if(L<0)if(Z)L=0;else return-1;if(typeof S=="string"&&(S=l.from(S,U)),l.isBuffer(S))return S.length===0?-1:x(N,S,L,U,Z);if(typeof S=="number")return S=S&255,typeof e.prototype.indexOf=="function"?Z?e.prototype.indexOf.call(N,S,L):e.prototype.lastIndexOf.call(N,S,L):x(N,[S],L,U,Z);throw new TypeError("val must be string, number or Buffer")}function x(N,S,L,U,Z){let me=1,pe=N.length,Xe=S.length;if(U!==void 0&&(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(N.length<2||S.length<2)return-1;me=2,pe/=2,Xe/=2,L/=2}function ne(ve,Re){return me===1?ve[Re]:ve.readUInt16BE(Re*me)}let Ie;if(Z){let ve=-1;for(Ie=L;Ie<pe;Ie++)if(ne(N,Ie)===ne(S,ve===-1?0:Ie-ve)){if(ve===-1&&(ve=Ie),Ie-ve+1===Xe)return ve*me}else ve!==-1&&(Ie-=Ie-ve),ve=-1}else for(L+Xe>pe&&(L=pe-Xe),Ie=L;Ie>=0;Ie--){let ve=!0;for(let Re=0;Re<Xe;Re++)if(ne(N,Ie+Re)!==ne(S,Re)){ve=!1;break}if(ve)return Ie}return-1}l.prototype.includes=function(S,L,U){return this.indexOf(S,L,U)!==-1},l.prototype.indexOf=function(S,L,U){return j(this,S,L,U,!0)},l.prototype.lastIndexOf=function(S,L,U){return j(this,S,L,U,!1)};function I(N,S,L,U){L=Number(L)||0;const Z=N.length-L;U?(U=Number(U),U>Z&&(U=Z)):U=Z;const me=S.length;U>me/2&&(U=me/2);let pe;for(pe=0;pe<U;++pe){const Xe=parseInt(S.substr(pe*2,2),16);if(A(Xe))return pe;N[L+pe]=Xe}return pe}function D(N,S,L,U){return ke(le(S,N.length-L),N,L,U)}function C(N,S,L,U){return ke(Oe(S),N,L,U)}function X(N,S,L,U){return ke(Ve(S),N,L,U)}function z(N,S,L,U){return ke(Se(S,N.length-L),N,L,U)}l.prototype.write=function(S,L,U,Z){if(L===void 0)Z="utf8",U=this.length,L=0;else if(U===void 0&&typeof L=="string")Z=L,U=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(U)?(U=U>>>0,Z===void 0&&(Z="utf8")):(Z=U,U=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const me=this.length-L;if((U===void 0||U>me)&&(U=me),S.length>0&&(U<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");let pe=!1;for(;;)switch(Z){case"hex":return I(this,S,L,U);case"utf8":case"utf-8":return D(this,S,L,U);case"ascii":case"latin1":case"binary":return C(this,S,L,U);case"base64":return X(this,S,L,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,S,L,U);default:if(pe)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),pe=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(N,S,L){return S===0&&L===N.length?t.fromByteArray(N):t.fromByteArray(N.slice(S,L))}function ie(N,S,L){L=Math.min(N.length,L);const U=[];let Z=S;for(;Z<L;){const me=N[Z];let pe=null,Xe=me>239?4:me>223?3:me>191?2:1;if(Z+Xe<=L){let ne,Ie,ve,Re;switch(Xe){case 1:me<128&&(pe=me);break;case 2:ne=N[Z+1],(ne&192)===128&&(Re=(me&31)<<6|ne&63,Re>127&&(pe=Re));break;case 3:ne=N[Z+1],Ie=N[Z+2],(ne&192)===128&&(Ie&192)===128&&(Re=(me&15)<<12|(ne&63)<<6|Ie&63,Re>2047&&(Re<55296||Re>57343)&&(pe=Re));break;case 4:ne=N[Z+1],Ie=N[Z+2],ve=N[Z+3],(ne&192)===128&&(Ie&192)===128&&(ve&192)===128&&(Re=(me&15)<<18|(ne&63)<<12|(Ie&63)<<6|ve&63,Re>65535&&Re<1114112&&(pe=Re))}}pe===null?(pe=65533,Xe=1):pe>65535&&(pe-=65536,U.push(pe>>>10&1023|55296),pe=56320|pe&1023),U.push(pe),Z+=Xe}return ye(U)}const se=4096;function ye(N){const S=N.length;if(S<=se)return String.fromCharCode.apply(String,N);let L="",U=0;for(;U<S;)L+=String.fromCharCode.apply(String,N.slice(U,U+=se));return L}function K(N,S,L){let U="";L=Math.min(N.length,L);for(let Z=S;Z<L;++Z)U+=String.fromCharCode(N[Z]&127);return U}function Te(N,S,L){let U="";L=Math.min(N.length,L);for(let Z=S;Z<L;++Z)U+=String.fromCharCode(N[Z]);return U}function Ne(N,S,L){const U=N.length;(!S||S<0)&&(S=0),(!L||L<0||L>U)&&(L=U);let Z="";for(let me=S;me<L;++me)Z+=E[N[me]];return Z}function _e(N,S,L){const U=N.slice(S,L);let Z="";for(let me=0;me<U.length-1;me+=2)Z+=String.fromCharCode(U[me]+U[me+1]*256);return Z}l.prototype.slice=function(S,L){const U=this.length;S=~~S,L=L===void 0?U:~~L,S<0?(S+=U,S<0&&(S=0)):S>U&&(S=U),L<0?(L+=U,L<0&&(L=0)):L>U&&(L=U),L<S&&(L=S);const Z=this.subarray(S,L);return Object.setPrototypeOf(Z,l.prototype),Z};function $(N,S,L){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+S>L)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(S,L,U){S=S>>>0,L=L>>>0,U||$(S,L,this.length);let Z=this[S],me=1,pe=0;for(;++pe<L&&(me*=256);)Z+=this[S+pe]*me;return Z},l.prototype.readUintBE=l.prototype.readUIntBE=function(S,L,U){S=S>>>0,L=L>>>0,U||$(S,L,this.length);let Z=this[S+--L],me=1;for(;L>0&&(me*=256);)Z+=this[S+--L]*me;return Z},l.prototype.readUint8=l.prototype.readUInt8=function(S,L){return S=S>>>0,L||$(S,1,this.length),this[S]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(S,L){return S=S>>>0,L||$(S,2,this.length),this[S]|this[S+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(S,L){return S=S>>>0,L||$(S,2,this.length),this[S]<<8|this[S+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(S,L){return S=S>>>0,L||$(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(S,L){return S=S>>>0,L||$(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},l.prototype.readBigUInt64LE=P(function(S){S=S>>>0,re(S,"offset");const L=this[S],U=this[S+7];(L===void 0||U===void 0)&&Y(S,this.length-8);const Z=L+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24,me=this[++S]+this[++S]*2**8+this[++S]*2**16+U*2**24;return BigInt(Z)+(BigInt(me)<<BigInt(32))}),l.prototype.readBigUInt64BE=P(function(S){S=S>>>0,re(S,"offset");const L=this[S],U=this[S+7];(L===void 0||U===void 0)&&Y(S,this.length-8);const Z=L*2**24+this[++S]*2**16+this[++S]*2**8+this[++S],me=this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+U;return(BigInt(Z)<<BigInt(32))+BigInt(me)}),l.prototype.readIntLE=function(S,L,U){S=S>>>0,L=L>>>0,U||$(S,L,this.length);let Z=this[S],me=1,pe=0;for(;++pe<L&&(me*=256);)Z+=this[S+pe]*me;return me*=128,Z>=me&&(Z-=Math.pow(2,8*L)),Z},l.prototype.readIntBE=function(S,L,U){S=S>>>0,L=L>>>0,U||$(S,L,this.length);let Z=L,me=1,pe=this[S+--Z];for(;Z>0&&(me*=256);)pe+=this[S+--Z]*me;return me*=128,pe>=me&&(pe-=Math.pow(2,8*L)),pe},l.prototype.readInt8=function(S,L){return S=S>>>0,L||$(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},l.prototype.readInt16LE=function(S,L){S=S>>>0,L||$(S,2,this.length);const U=this[S]|this[S+1]<<8;return U&32768?U|4294901760:U},l.prototype.readInt16BE=function(S,L){S=S>>>0,L||$(S,2,this.length);const U=this[S+1]|this[S]<<8;return U&32768?U|4294901760:U},l.prototype.readInt32LE=function(S,L){return S=S>>>0,L||$(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},l.prototype.readInt32BE=function(S,L){return S=S>>>0,L||$(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},l.prototype.readBigInt64LE=P(function(S){S=S>>>0,re(S,"offset");const L=this[S],U=this[S+7];(L===void 0||U===void 0)&&Y(S,this.length-8);const Z=this[S+4]+this[S+5]*2**8+this[S+6]*2**16+(U<<24);return(BigInt(Z)<<BigInt(32))+BigInt(L+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24)}),l.prototype.readBigInt64BE=P(function(S){S=S>>>0,re(S,"offset");const L=this[S],U=this[S+7];(L===void 0||U===void 0)&&Y(S,this.length-8);const Z=(L<<24)+this[++S]*2**16+this[++S]*2**8+this[++S];return(BigInt(Z)<<BigInt(32))+BigInt(this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+U)}),l.prototype.readFloatLE=function(S,L){return S=S>>>0,L||$(S,4,this.length),o.read(this,S,!0,23,4)},l.prototype.readFloatBE=function(S,L){return S=S>>>0,L||$(S,4,this.length),o.read(this,S,!1,23,4)},l.prototype.readDoubleLE=function(S,L){return S=S>>>0,L||$(S,8,this.length),o.read(this,S,!0,52,8)},l.prototype.readDoubleBE=function(S,L){return S=S>>>0,L||$(S,8,this.length),o.read(this,S,!1,52,8)};function He(N,S,L,U,Z,me){if(!l.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>Z||S<me)throw new RangeError('"value" argument is out of bounds');if(L+U>N.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(S,L,U,Z){if(S=+S,L=L>>>0,U=U>>>0,!Z){const Xe=Math.pow(2,8*U)-1;He(this,S,L,U,Xe,0)}let me=1,pe=0;for(this[L]=S&255;++pe<U&&(me*=256);)this[L+pe]=S/me&255;return L+U},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(S,L,U,Z){if(S=+S,L=L>>>0,U=U>>>0,!Z){const Xe=Math.pow(2,8*U)-1;He(this,S,L,U,Xe,0)}let me=U-1,pe=1;for(this[L+me]=S&255;--me>=0&&(pe*=256);)this[L+me]=S/pe&255;return L+U},l.prototype.writeUint8=l.prototype.writeUInt8=function(S,L,U){return S=+S,L=L>>>0,U||He(this,S,L,1,255,0),this[L]=S&255,L+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(S,L,U){return S=+S,L=L>>>0,U||He(this,S,L,2,65535,0),this[L]=S&255,this[L+1]=S>>>8,L+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(S,L,U){return S=+S,L=L>>>0,U||He(this,S,L,2,65535,0),this[L]=S>>>8,this[L+1]=S&255,L+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(S,L,U){return S=+S,L=L>>>0,U||He(this,S,L,4,4294967295,0),this[L+3]=S>>>24,this[L+2]=S>>>16,this[L+1]=S>>>8,this[L]=S&255,L+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(S,L,U){return S=+S,L=L>>>0,U||He(this,S,L,4,4294967295,0),this[L]=S>>>24,this[L+1]=S>>>16,this[L+2]=S>>>8,this[L+3]=S&255,L+4};function qe(N,S,L,U,Z){W(S,U,Z,N,L,7);let me=Number(S&BigInt(4294967295));N[L++]=me,me=me>>8,N[L++]=me,me=me>>8,N[L++]=me,me=me>>8,N[L++]=me;let pe=Number(S>>BigInt(32)&BigInt(4294967295));return N[L++]=pe,pe=pe>>8,N[L++]=pe,pe=pe>>8,N[L++]=pe,pe=pe>>8,N[L++]=pe,L}function Ce(N,S,L,U,Z){W(S,U,Z,N,L,7);let me=Number(S&BigInt(4294967295));N[L+7]=me,me=me>>8,N[L+6]=me,me=me>>8,N[L+5]=me,me=me>>8,N[L+4]=me;let pe=Number(S>>BigInt(32)&BigInt(4294967295));return N[L+3]=pe,pe=pe>>8,N[L+2]=pe,pe=pe>>8,N[L+1]=pe,pe=pe>>8,N[L]=pe,L+8}l.prototype.writeBigUInt64LE=P(function(S,L=0){return qe(this,S,L,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=P(function(S,L=0){return Ce(this,S,L,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(S,L,U,Z){if(S=+S,L=L>>>0,!Z){const ne=Math.pow(2,8*U-1);He(this,S,L,U,ne-1,-ne)}let me=0,pe=1,Xe=0;for(this[L]=S&255;++me<U&&(pe*=256);)S<0&&Xe===0&&this[L+me-1]!==0&&(Xe=1),this[L+me]=(S/pe>>0)-Xe&255;return L+U},l.prototype.writeIntBE=function(S,L,U,Z){if(S=+S,L=L>>>0,!Z){const ne=Math.pow(2,8*U-1);He(this,S,L,U,ne-1,-ne)}let me=U-1,pe=1,Xe=0;for(this[L+me]=S&255;--me>=0&&(pe*=256);)S<0&&Xe===0&&this[L+me+1]!==0&&(Xe=1),this[L+me]=(S/pe>>0)-Xe&255;return L+U},l.prototype.writeInt8=function(S,L,U){return S=+S,L=L>>>0,U||He(this,S,L,1,127,-128),S<0&&(S=255+S+1),this[L]=S&255,L+1},l.prototype.writeInt16LE=function(S,L,U){return S=+S,L=L>>>0,U||He(this,S,L,2,32767,-32768),this[L]=S&255,this[L+1]=S>>>8,L+2},l.prototype.writeInt16BE=function(S,L,U){return S=+S,L=L>>>0,U||He(this,S,L,2,32767,-32768),this[L]=S>>>8,this[L+1]=S&255,L+2},l.prototype.writeInt32LE=function(S,L,U){return S=+S,L=L>>>0,U||He(this,S,L,4,2147483647,-2147483648),this[L]=S&255,this[L+1]=S>>>8,this[L+2]=S>>>16,this[L+3]=S>>>24,L+4},l.prototype.writeInt32BE=function(S,L,U){return S=+S,L=L>>>0,U||He(this,S,L,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[L]=S>>>24,this[L+1]=S>>>16,this[L+2]=S>>>8,this[L+3]=S&255,L+4},l.prototype.writeBigInt64LE=P(function(S,L=0){return qe(this,S,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=P(function(S,L=0){return Ce(this,S,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function xe(N,S,L,U,Z,me){if(L+U>N.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function we(N,S,L,U,Z){return S=+S,L=L>>>0,Z||xe(N,S,L,4),o.write(N,S,L,U,23,4),L+4}l.prototype.writeFloatLE=function(S,L,U){return we(this,S,L,!0,U)},l.prototype.writeFloatBE=function(S,L,U){return we(this,S,L,!1,U)};function ee(N,S,L,U,Z){return S=+S,L=L>>>0,Z||xe(N,S,L,8),o.write(N,S,L,U,52,8),L+8}l.prototype.writeDoubleLE=function(S,L,U){return ee(this,S,L,!0,U)},l.prototype.writeDoubleBE=function(S,L,U){return ee(this,S,L,!1,U)},l.prototype.copy=function(S,L,U,Z){if(!l.isBuffer(S))throw new TypeError("argument should be a Buffer");if(U||(U=0),!Z&&Z!==0&&(Z=this.length),L>=S.length&&(L=S.length),L||(L=0),Z>0&&Z<U&&(Z=U),Z===U||S.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),S.length-L<Z-U&&(Z=S.length-L+U);const me=Z-U;return this===S&&typeof e.prototype.copyWithin=="function"?this.copyWithin(L,U,Z):e.prototype.set.call(S,this.subarray(U,Z),L),me},l.prototype.fill=function(S,L,U,Z){if(typeof S=="string"){if(typeof L=="string"?(Z=L,L=0,U=this.length):typeof U=="string"&&(Z=U,U=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!l.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(S.length===1){const pe=S.charCodeAt(0);(Z==="utf8"&&pe<128||Z==="latin1")&&(S=pe)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(L<0||this.length<L||this.length<U)throw new RangeError("Out of range index");if(U<=L)return this;L=L>>>0,U=U===void 0?this.length:U>>>0,S||(S=0);let me;if(typeof S=="number")for(me=L;me<U;++me)this[me]=S;else{const pe=l.isBuffer(S)?S:l.from(S,Z),Xe=pe.length;if(Xe===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(me=0;me<U-L;++me)this[me+L]=pe[me%Xe]}return this};const M={};function B(N,S,L){M[N]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${N}]`,this.stack,delete this.name}get code(){return N}set code(Z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Z,writable:!0})}toString(){return`${this.name} [${N}]: ${this.message}`}}}B("ERR_BUFFER_OUT_OF_BOUNDS",function(N){return N?`${N} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),B("ERR_INVALID_ARG_TYPE",function(N,S){return`The "${N}" argument must be of type number. Received type ${typeof S}`},TypeError),B("ERR_OUT_OF_RANGE",function(N,S,L){let U=`The value of "${N}" is out of range.`,Z=L;return Number.isInteger(L)&&Math.abs(L)>2**32?Z=R(String(L)):typeof L=="bigint"&&(Z=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(Z=R(Z)),Z+="n"),U+=` It must be ${S}. Received ${Z}`,U},RangeError);function R(N){let S="",L=N.length;const U=N[0]==="-"?1:0;for(;L>=U+4;L-=3)S=`_${N.slice(L-3,L)}${S}`;return`${N.slice(0,L)}${S}`}function q(N,S,L){re(S,"offset"),(N[S]===void 0||N[S+L]===void 0)&&Y(S,N.length-(L+1))}function W(N,S,L,U,Z,me){if(N>L||N<S){const pe=typeof S=="bigint"?"n":"";let Xe;throw S===0||S===BigInt(0)?Xe=`>= 0${pe} and < 2${pe} ** ${(me+1)*8}${pe}`:Xe=`>= -(2${pe} ** ${(me+1)*8-1}${pe}) and < 2 ** ${(me+1)*8-1}${pe}`,new M.ERR_OUT_OF_RANGE("value",Xe,N)}q(U,Z,me)}function re(N,S){if(typeof N!="number")throw new M.ERR_INVALID_ARG_TYPE(S,"number",N)}function Y(N,S,L){throw Math.floor(N)!==N?(re(N,L),new M.ERR_OUT_OF_RANGE("offset","an integer",N)):S<0?new M.ERR_BUFFER_OUT_OF_BOUNDS:new M.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${S}`,N)}const ue=/[^+/0-9A-Za-z-_]/g;function te(N){if(N=N.split("=")[0],N=N.trim().replace(ue,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function le(N,S){S=S||1/0;let L;const U=N.length;let Z=null;const me=[];for(let pe=0;pe<U;++pe){if(L=N.charCodeAt(pe),L>55295&&L<57344){if(!Z){if(L>56319){(S-=3)>-1&&me.push(239,191,189);continue}else if(pe+1===U){(S-=3)>-1&&me.push(239,191,189);continue}Z=L;continue}if(L<56320){(S-=3)>-1&&me.push(239,191,189),Z=L;continue}L=(Z-55296<<10|L-56320)+65536}else Z&&(S-=3)>-1&&me.push(239,191,189);if(Z=null,L<128){if((S-=1)<0)break;me.push(L)}else if(L<2048){if((S-=2)<0)break;me.push(L>>6|192,L&63|128)}else if(L<65536){if((S-=3)<0)break;me.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((S-=4)<0)break;me.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return me}function Oe(N){const S=[];for(let L=0;L<N.length;++L)S.push(N.charCodeAt(L)&255);return S}function Se(N,S){let L,U,Z;const me=[];for(let pe=0;pe<N.length&&!((S-=2)<0);++pe)L=N.charCodeAt(pe),U=L>>8,Z=L%256,me.push(Z),me.push(U);return me}function Ve(N){return t.toByteArray(te(N))}function ke(N,S,L,U){let Z;for(Z=0;Z<U&&!(Z+L>=S.length||Z>=N.length);++Z)S[Z+L]=N[Z];return Z}function Ae(N,S){return N instanceof S||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===S.name}function A(N){return N!==N}const E=function(){const N="0123456789abcdef",S=new Array(256);for(let L=0;L<16;++L){const U=L*16;for(let Z=0;Z<16;++Z)S[U+Z]=N[L]+N[Z]}return S}();function P(N){return typeof BigInt>"u"?k:N}function k(){throw new Error("BigInt not supported")}})(pR);const tq=pR.Buffer,fle=pR.Buffer;var _R,rq;function R1(){if(rq)return _R;rq=1;var a=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/\s|\uFEFF|\xA0/,n=/\r?\n[\x20\x09]+/g,r=/[;,"]/,e=/[;,"]|\s/,i=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,s={IDLE:1,URI:2,ATTR:4};function c(p){return p.replace(t,"")}function u(p){return o.test(p)}function l(p,_){for(;u(p[_]);)_++;return _}function f(p){return e.test(p)||!i.test(p)}function d(p,_){return Object.keys(p).length===Object.keys(_).length&&Object.keys(p).every(g=>g in _&&p[g]===_[g])}class h{constructor(_){this.refs=[],_&&this.parse(_)}rel(_){for(var g=[],y=_.toLowerCase(),m=0;m<this.refs.length;m++)typeof this.refs[m].rel=="string"&&this.refs[m].rel.toLowerCase()===y&&g.push(this.refs[m]);return g}get(_,g){_=_.toLowerCase(),g=g.toLowerCase();for(var y=[],m=0;m<this.refs.length;m++)typeof this.refs[m][_]=="string"&&this.refs[m][_].toLowerCase()===g&&y.push(this.refs[m]);return y}set(_){return this.refs.push(_),this}setUnique(_){return this.refs.some(g=>d(g,_))||this.refs.push(_),this}has(_,g){_=_.toLowerCase(),g=g.toLowerCase();for(var y=0;y<this.refs.length;y++)if(typeof this.refs[y][_]=="string"&&this.refs[y][_].toLowerCase()===g)return!0;return!1}parse(_,b){b=b||0,_=b?_.slice(b):_,_=c(_).replace(n,"");for(var y=s.IDLE,m=_.length,b=0,T=null;b<m;)if(y===s.IDLE){if(u(_[b])){b++;continue}else if(_[b]==="<"){T!=null&&(T.rel!=null?this.refs.push(...h.expandRelations(T)):this.refs.push(T));var w=_.indexOf(">",b);if(w===-1)throw new Error("Expected end of URI delimiter at offset "+b);T={uri:_.slice(b+1,w)},b=w,y=s.URI}else throw new Error('Unexpected character "'+_[b]+'" at offset '+b);b++}else if(y===s.URI)if(u(_[b])){b++;continue}else if(_[b]===";")y=s.ATTR,b++;else if(_[b]===",")y=s.IDLE,b++;else throw new Error('Unexpected character "'+_[b]+'" at offset '+b);else if(y===s.ATTR){if(_[b]===";"||u(_[b])){b++;continue}var w=_.indexOf("=",b);w===-1&&(w=_.indexOf(";",b)),w===-1&&(w=_.length);var O=c(_.slice(b,w)).toLowerCase(),F="";if(b=w+1,b=l(_,b),_[b]==='"')for(b++;b<m;){if(_[b]==='"'){b++;break}_[b]==="\\"&&b++,F+=_[b],b++}else{for(var w=b+1;!r.test(_[w])&&w<m;)w++;F=_.slice(b,w),b=w}switch(T[O]&&h.isSingleOccurenceAttr(O)||(O[O.length-1]==="*"?T[O]=h.parseExtendedValue(F):(F=O==="type"?F.toLowerCase():F,T[O]!=null?Array.isArray(T[O])?T[O].push(F):T[O]=[T[O],F]:T[O]=F)),_[b]){case",":y=s.IDLE;break;case";":y=s.ATTR;break}b++}else throw new Error('Unknown parser state "'+y+'"');return T!=null&&(T.rel!=null?this.refs.push(...h.expandRelations(T)):this.refs.push(T)),T=null,this}toString(){for(var _=[],g="",y=null,m=0;m<this.refs.length;m++)y=this.refs[m],g=Object.keys(this.refs[m]).reduce(function(b,T){return T==="uri"?b:b+"; "+h.formatAttribute(T,y[T])},"<"+y.uri+">"),_.push(g);return _.join(", ")}}return h.isCompatibleEncoding=function(p){return a.test(p)},h.parse=function(p,_){return new h().parse(p,_)},h.isSingleOccurenceAttr=function(p){return p==="rel"||p==="type"||p==="media"||p==="title"||p==="title*"},h.isTokenAttr=function(p){return p==="rel"||p==="type"||p==="anchor"},h.escapeQuotes=function(p){return p.replace(/"/g,'\\"')},h.expandRelations=function(p){var _=p.rel.split(" ");return _.map(function(g){var y=Object.assign({},p);return y.rel=g,y})},h.parseExtendedValue=function(p){var _=/([^']+)?(?:'([^']*)')?(.+)/.exec(p);return{language:_[2].toLowerCase(),encoding:h.isCompatibleEncoding(_[1])?null:_[1].toLowerCase(),value:h.isCompatibleEncoding(_[1])?decodeURIComponent(_[3]):_[3]}},h.formatExtendedAttribute=function(p,_){var g=(_.encoding||"utf-8").toUpperCase(),y=_.language||"en",m="";return tq.isBuffer(_.value)&&h.isCompatibleEncoding(g)?m=_.value.toString(g):tq.isBuffer(_.value)?m=_.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):m=encodeURIComponent(_.value),p+"="+g+"'"+y+"'"+m},h.formatAttribute=function(p,_){return Array.isArray(_)?_.map(g=>h.formatAttribute(p,g)).join("; "):p[p.length-1]==="*"||typeof _!="string"?h.formatExtendedAttribute(p,_):(h.isTokenAttr(p)?_=f(_)?'"'+h.escapeQuotes(_)+'"':h.escapeQuotes(_):f(_)&&(_=encodeURIComponent(_),_=_.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),_='"'+_+'"'),p+"="+_)},_R=h,_R}var nq;function iq(){if(nq)return I1;nq=1,Object.defineProperty(I1,"__esModule",{value:!0}),I1.FetchDocumentLoader=void 0;const a=lA(),t=R1(),o=Sr();class n{constructor(e){this.fetcher=e}async load(e){const i=await(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(i.ok&&i.headers){let s=i.headers.get("Content-Type");if(s){const c=s.indexOf(";");c>0&&(s=s.substr(0,c))}if(s==="application/ld+json")return await i.json();if(i.headers.has("Link")){let c;if(i.headers.forEach((u,l)=>{if(l==="link"){const f=(0,t.parse)(u);for(const d of f.get("type","application/ld+json"))if(d.rel==="alternate"){if(c)throw new Error("Multiple JSON-LD alternate links were found on "+e);c=(0,o.resolve)(d.uri,e)}}}),c)return this.load(c)}throw new a.ErrorCoded(`Unsupported JSON-LD media type ${s}`,a.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(i.statusText||`Status code: ${i.status}`)}}return I1.FetchDocumentLoader=n,I1}var mR={},F1={},aq;function gR(){if(aq)return F1;aq=1,Object.defineProperty(F1,"__esModule",{value:!0}),F1.Util=void 0;class a{static isCompactIri(o){return o.indexOf(":")>0&&!(o&&o[0]==="#")}static getPrefix(o,n){if(o&&o[0]==="#")return null;const r=o.indexOf(":");if(r>=0){if(o.length>r+1&&o.charAt(r+1)==="/"&&o.charAt(r+2)==="/")return null;const e=o.substr(0,r);if(e==="_")return null;if(n[e])return e}return null}static getContextValueId(o){if(o===null||typeof o=="string")return o;const n=o["@id"];return n||null}static isSimpleTermDefinitionPrefix(o,n){return!a.isPotentialKeyword(o)&&(n.allowPrefixNonGenDelims||typeof o=="string"&&(o[0]==="_"||a.isPrefixIriEndingWithGenDelim(o)))}static isPotentialKeyword(o){return typeof o=="string"&&a.KEYWORD_REGEX.test(o)}static isPrefixIriEndingWithGenDelim(o){return a.ENDS_WITH_GEN_DELIM.test(o)}static isPrefixValue(o){return o&&(typeof o=="string"||o&&typeof o=="object")}static isValidIri(o){return!!(o&&a.IRI_REGEX.test(o))}static isValidIriWeak(o){return!!o&&o[0]!==":"&&a.IRI_REGEX_WEAK.test(o)}static isValidKeyword(o){return a.VALID_KEYWORDS[o]}static isTermProtected(o,n){const r=o[n];return typeof r!="string"&&r&&r["@protected"]}static hasProtectedTerms(o){for(const n of Object.keys(o))if(a.isTermProtected(o,n))return!0;return!1}static isReservedInternalKeyword(o){return o.startsWith("@__")}static deepEqual(o,n){const r=Object.keys(o),e=Object.keys(n);return r.length!==e.length?!1:r.every(i=>{const s=o[i],c=n[i];return s===c||s!==null&&c!==null&&typeof s=="object"&&typeof c=="object"&&this.deepEqual(s,c)})}}return a.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,a.IRI_REGEX_WEAK=/(?::[^:])|\//,a.KEYWORD_REGEX=/^@[a-z]+$/i,a.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,a.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,a.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,a.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},a.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],a.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],a.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],a.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],a.CONTAINERS_1_0=["@list","@set","@index"],F1.Util=a,F1}var oq;function sq(){return oq||(oq=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.defaultExpandOptions=a.JsonLdContextNormalized=void 0;const t=Sr(),o=lA(),n=gR();class r{constructor(i){this.contextRaw=i}getContextRaw(){return this.contextRaw}expandTerm(i,s,c=a.defaultExpandOptions){const u=this.contextRaw[i];if(u===null||u&&u["@id"]===null)return null;let l=!0;if(u&&s){const g=n.Util.getContextValueId(u);if(g&&g!==i)if(typeof g!="string"||!n.Util.isValidIri(g)&&!n.Util.isValidKeyword(g))n.Util.isPotentialKeyword(g)||(l=!1);else return g}const f=n.Util.getPrefix(i,this.contextRaw),d=this.contextRaw["@vocab"],h=(!!d||d==="")&&d.indexOf(":")<0,p=this.contextRaw["@base"],_=n.Util.isPotentialKeyword(i);if(f){const g=this.contextRaw[f],y=n.Util.getContextValueId(g);if(y){if(typeof g=="string"||!c.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(y,c))return i}else if(y[0]!=="_"&&!_&&!g["@prefix"]&&!(i in this.contextRaw))return i;return y+i.substr(f.length+1)}}else if(s&&(d||d===""||c.allowVocabRelativeToBase&&p&&h)&&!_&&!n.Util.isCompactIri(i))if(h){if(c.allowVocabRelativeToBase)return(d||p?(0,t.resolve)(d,p):"")+i;throw new o.ErrorCoded(`Relative vocab expansion for term '${i}' with vocab '${d}' is not allowed.`,o.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return d+i;else if(!s&&p&&!_&&!n.Util.isCompactIri(i))return(0,t.resolve)(i,p);if(l)return i;throw new o.ErrorCoded(`Invalid IRI mapping found for context entry '${i}': '${JSON.stringify(u)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(i,s){if(s&&this.contextRaw["@vocab"]&&i.startsWith(this.contextRaw["@vocab"]))return i.substr(this.contextRaw["@vocab"].length);if(!s&&this.contextRaw["@base"]&&i.startsWith(this.contextRaw["@base"]))return i.substr(this.contextRaw["@base"].length);const c={prefix:"",suffix:i};for(const u in this.contextRaw){const l=this.contextRaw[u];if(l&&!n.Util.isPotentialKeyword(u)){const f=n.Util.getContextValueId(l);if(i.startsWith(f)){const d=i.substr(f.length);if(d)d.length<c.suffix.length&&(c.prefix=u,c.suffix=d);else if(s)return u}}}return c.prefix?c.prefix+":"+c.suffix:i}}a.JsonLdContextNormalized=r,a.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(mR)),mR}var uq;function hle(){if(uq)return x1;uq=1,Object.defineProperty(x1,"__esModule",{value:!0}),x1.ContextParser=void 0;const a=Sr(),t=lA(),o=iq(),n=sq(),r=gR();class e{constructor(s){s=s||{},this.documentLoader=s.documentLoader||new o.FetchDocumentLoader,this.documentCache={},this.validateContext=!s.skipValidation,this.expandContentTypeToBase=!!s.expandContentTypeToBase,this.remoteContextsDepthLimit=s.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in s?!!s.redirectSchemaOrgHttps:!0}static validateLanguage(s,c,u){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(s)}'`,u);if(!r.Util.REGEX_LANGUAGE_TAG.test(s)){if(c)throw new t.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(s)}'`,u);return!1}return!0}static validateDirection(s,c){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);if(!r.Util.REGEX_DIRECTION_TAG.test(s)){if(c)throw new t.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(s){for(const c of Object.keys(s)){let u=s[c];if(u&&typeof u=="object"&&u["@reverse"]&&!u["@id"]){if(typeof u["@reverse"]!="string"||r.Util.isValidKeyword(u["@reverse"]))throw new t.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${u["@reverse"]}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);u=s[c]=Object.assign(Object.assign({},u),{"@id":u["@reverse"]}),u["@id"]=u["@reverse"],r.Util.isPotentialKeyword(u["@reverse"])?delete u["@reverse"]:u["@reverse"]=!0}}return s}expandPrefixedTerms(s,c,u){const l=s.getContextRaw();for(const f of u||Object.keys(l))if(r.Util.EXPAND_KEYS_BLACKLIST.indexOf(f)<0&&!r.Util.isReservedInternalKeyword(f)){const d=l[f];if(r.Util.isPotentialKeyword(f)&&r.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(f)>=0&&(f!=="@type"||typeof l[f]=="object"&&!(l[f]["@protected"]||l[f]["@container"]==="@set")))throw new t.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${f} to ${JSON.stringify(d)}`,t.ERROR_CODES.KEYWORD_REDEFINITION);if(r.Util.ALIAS_RANGE_BLACKLIST.indexOf(r.Util.getContextValueId(d))>=0)throw new t.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${f} to ${JSON.stringify(d)}`,t.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(d&&r.Util.isPotentialKeyword(r.Util.getContextValueId(d))&&d["@prefix"]===!0)throw new t.ErrorCoded(`Tried to use keyword aliases as prefix: '${f}': '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);for(;r.Util.isPrefixValue(l[f]);){const h=l[f];let p=!1;if(typeof h=="string")l[f]=s.expandTerm(h,!0),p=p||h!==l[f];else{const _=h["@id"],g=h["@type"],y=!("@prefix"in h)||r.Util.isValidIri(f);if("@id"in h)_!=null&&typeof _=="string"&&(l[f]=Object.assign(Object.assign({},l[f]),{"@id":s.expandTerm(_,!0)}),p=p||_!==l[f]["@id"]);else if(!r.Util.isPotentialKeyword(f)&&y){const m=s.expandTerm(f,!0);m!==f&&(l[f]=Object.assign(Object.assign({},l[f]),{"@id":m}),p=!0)}if(g&&typeof g=="string"&&g!=="@vocab"&&(!h["@container"]||!h["@container"]["@type"])&&y){let m=s.expandTerm(g,!0);c&&g===m&&(m=s.expandTerm(g,!1)),m!==g&&(p=!0,l[f]=Object.assign(Object.assign({},l[f]),{"@type":m}))}}if(!p)break}}}normalize(s,{processingMode:c,normalizeLanguageTags:u}){if(u||c===1)for(const l of Object.keys(s))if(l==="@language"&&typeof s[l]=="string")s[l]=s[l].toLowerCase();else{const f=s[l];if(f&&typeof f=="object"&&typeof f["@language"]=="string"){const d=f["@language"].toLowerCase();d!==f["@language"]&&(s[l]=Object.assign(Object.assign({},f),{"@language":d}))}}}containersToHash(s){for(const c of Object.keys(s)){const u=s[c];if(u&&typeof u=="object"){if(typeof u["@container"]=="string")s[c]=Object.assign(Object.assign({},u),{"@container":{[u["@container"]]:!0}});else if(Array.isArray(u["@container"])){const l={};for(const f of u["@container"])l[f]=!0;s[c]=Object.assign(Object.assign({},u),{"@container":l})}}}}applyScopedProtected(s,{processingMode:c},u){if(c&&c>=1.1&&s["@protected"]){for(const l of Object.keys(s))if(!r.Util.isReservedInternalKeyword(l)&&!r.Util.isPotentialKeyword(l)&&!r.Util.isTermProtected(s,l)){const f=s[l];f&&typeof f=="object"?"@protected"in s[l]||(s[l]=Object.assign(Object.assign({},s[l]),{"@protected":!0})):(s[l]={"@id":f,"@protected":!0},r.Util.isSimpleTermDefinitionPrefix(f,u)&&(s[l]=Object.assign(Object.assign({},s[l]),{"@prefix":!0})))}delete s["@protected"]}}validateKeywordRedefinitions(s,c,u,l){for(const f of l??Object.keys(c))if(r.Util.isTermProtected(s,f)&&(typeof c[f]=="string"?c[f]={"@id":c[f],"@protected":!0}:c[f]=Object.assign(Object.assign({},c[f]),{"@protected":!0}),!r.Util.deepEqual(s[f],c[f])))throw new t.ErrorCoded(`Attempted to override the protected keyword ${f} from ${JSON.stringify(r.Util.getContextValueId(s[f]))} to ${JSON.stringify(r.Util.getContextValueId(c[f]))}`,t.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(s,{processingMode:c}){for(const u of Object.keys(s)){if(r.Util.isReservedInternalKeyword(u))continue;if(u==="")throw new t.ErrorCoded(`The empty term is not allowed, got: '${u}': '${JSON.stringify(s[u])}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);const l=s[u],f=typeof l;if(r.Util.isPotentialKeyword(u)){switch(u.substr(1)){case"vocab":if(l!==null&&f!=="string")throw new t.ErrorCoded(`Found an invalid @vocab IRI: ${l}`,t.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(l!==null&&f!=="string")throw new t.ErrorCoded(`Found an invalid @base IRI: ${s[u]}`,t.ERROR_CODES.INVALID_BASE_IRI);break;case"language":l!==null&&e.validateLanguage(l,!0,t.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(l!==null&&f!=="number")throw new t.ErrorCoded(`Found an invalid @version number: ${l}`,t.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":l!==null&&e.validateDirection(l,!0);break;case"propagate":if(c===1)throw new t.ErrorCoded(`Found an illegal @propagate keyword: ${l}`,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(l!==null&&f!=="boolean")throw new t.ErrorCoded(`Found an invalid @propagate value: ${l}`,t.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(r.Util.isValidKeyword(u)&&r.Util.isValidKeyword(r.Util.getContextValueId(l)))throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${r.Util.getContextValueId(l)}'`,t.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(l!==null)switch(f){case"string":if(r.Util.getPrefix(l,s)===u)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);if(r.Util.isValidIriWeak(u)){if(l==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${l}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(l)&&l!==new n.JsonLdContextNormalized(s).expandTerm(u))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${l}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!r.Util.isCompactIri(u)&&!("@id"in l)&&(l["@type"]==="@id"?!s["@base"]:!s["@vocab"]))throw new t.ErrorCoded(`Missing @id in context entry: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);for(const d of Object.keys(l)){const h=l[d];if(h)switch(d){case"@id":if(r.Util.isValidKeyword(h)&&h!=="@type"&&h!=="@id"&&h!=="@graph"&&h!=="@nest")throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIriWeak(u)){if(h==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(h)&&h!==new n.JsonLdContextNormalized(s).expandTerm(u))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof h!="string")throw new t.ErrorCoded(`Detected non-string @id in context entry: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.getPrefix(h,s)===u)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(l["@container"]==="@type"&&h!=="@id"&&h!=="@vocab")throw new t.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${u}': '${h}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof h!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(h!=="@id"&&h!=="@vocab"&&(c===1||h!=="@json")&&(c===1||h!=="@none")&&(h[0]==="_"||!r.Util.isValidIri(h)))throw new t.ErrorCoded(`A context @type must be an absolute IRI, found: '${u}': '${h}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof h=="string"&&l["@id"]&&l["@id"]!==h)throw new t.ErrorCoded(`Found non-matching @id and @reverse term values in '${u}':'${h}' and '${l["@id"]}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in l)throw new t.ErrorCoded(`@nest is not allowed in the reverse property '${u}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(c===1&&(Object.keys(h).length>1||r.Util.CONTAINERS_1_0.indexOf(Object.keys(h)[0])<0))throw new t.ErrorCoded(`Invalid term @container for '${u}' ('${Object.keys(h)}') in 1.0, must be only one of ${r.Util.CONTAINERS_1_0.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const p of Object.keys(h)){if(p==="@list"&&l["@reverse"])throw new t.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${u}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(r.Util.CONTAINERS.indexOf(p)<0)throw new t.ErrorCoded(`Invalid term @container for '${u}' ('${p}'), must be one of ${r.Util.CONTAINERS.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":e.validateLanguage(h,!0,t.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":e.validateDirection(h,!0);break;case"@prefix":if(h!==null&&typeof h!="boolean")throw new t.ErrorCoded(`Found an invalid term @prefix boolean in: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in l)&&!r.Util.isValidIri(u))throw new t.ErrorCoded(`Invalid @prefix definition for '${u}' ('${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(c===1||!l["@container"]||!l["@container"]["@index"])throw new t.ErrorCoded(`Attempt to add illegal key to value object: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(r.Util.isPotentialKeyword(h)&&h!=="@nest")throw new t.ErrorCoded(`Found an invalid term @nest value in: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new t.ErrorCoded(`Found an invalid term value: '${u}': '${l}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(s,c,u){return typeof s=="string"||(u&&!("@base"in s)&&c.parentContext&&typeof c.parentContext=="object"&&"@base"in c.parentContext&&(s["@base"]=c.parentContext["@base"],c.parentContext["@__baseDocument"]&&(s["@__baseDocument"]=!0)),c.baseIRI&&!c.external&&("@base"in s?s["@base"]!==null&&typeof s["@base"]=="string"&&!r.Util.isValidIri(s["@base"])&&(s["@base"]=(0,a.resolve)(s["@base"],c.parentContext&&c.parentContext["@base"]||c.baseIRI)):(s["@base"]=c.baseIRI,s["@__baseDocument"]=!0))),s}normalizeContextIri(s,c){if(!r.Util.isValidIri(s))try{s=(0,a.resolve)(s,c)}catch{throw new Error(`Invalid context IRI: ${s}`)}return this.redirectSchemaOrgHttps&&s.startsWith("http://schema.org")&&(s="https://schema.org/"),s}async parseInnerContexts(s,c,u){for(const l of u??Object.keys(s)){const f=s[l];if(f&&typeof f=="object"&&"@context"in f&&f["@context"]!==null&&!c.ignoreScopedContexts){if(this.validateContext)try{const d=Object.assign(Object.assign({},s),{[l]:Object.assign({},s[l])});delete d[l]["@context"],await this.parse(f["@context"],Object.assign(Object.assign({},c),{external:!1,parentContext:d,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(d){throw new t.ErrorCoded(d.message,t.ERROR_CODES.INVALID_SCOPED_CONTEXT)}s[l]=Object.assign(Object.assign({},f),{"@context":(await this.parse(f["@context"],Object.assign(Object.assign({},c),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:s}))).getContextRaw()})}}return s}async parse(s,c={},u={}){const{baseIRI:l,parentContext:f,external:d,processingMode:h=e.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:p,ignoreProtection:_,minimalProcessing:g}=c,y=c.remoteContexts||{};if(Object.keys(y).length>=this.remoteContextsDepthLimit)throw new t.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(y),t.ERROR_CODES.CONTEXT_OVERFLOW);if(s==null){if(!_&&f&&r.Util.hasProtectedTerms(f))throw new t.ErrorCoded("Illegal context nullification when terms are protected",t.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new n.JsonLdContextNormalized(this.applyBaseEntry({},c,!1))}else if(typeof s=="string"){const m=this.normalizeContextIri(s,l),b=this.getOverriddenLoad(m,c);if(b)return new n.JsonLdContextNormalized(b);const T=await this.parse(await this.load(m),Object.assign(Object.assign({},c),{baseIRI:m,external:!0,remoteContexts:Object.assign(Object.assign({},y),{[m]:!0})}));return this.applyBaseEntry(T.getContextRaw(),c,!0),T}else if(Array.isArray(s)){const m=[],b=await Promise.all(s.map((w,O)=>{if(typeof w=="string"){const F=this.normalizeContextIri(w,l);m[O]=F;const Q=this.getOverriddenLoad(F,c);return Q||this.load(F)}else return w}));if(g)return new n.JsonLdContextNormalized(b);const T=await b.reduce((w,O,F)=>w.then(Q=>this.parse(O,Object.assign(Object.assign({},c),{baseIRI:m[F]||c.baseIRI,external:!!m[F]||c.external,parentContext:Q.getContextRaw(),remoteContexts:m[F]?Object.assign(Object.assign({},y),{[m[F]]:!0}):y}),{skipValidation:F<b.length-1})),Promise.resolve(new n.JsonLdContextNormalized(f||{})));return this.applyBaseEntry(T.getContextRaw(),c,!0),T}else if(typeof s=="object"){if("@context"in s)return await this.parse(s["@context"],c);if(s=Object.assign({},s),d&&delete s["@base"],this.applyBaseEntry(s,c,!0),this.containersToHash(s),g)return new n.JsonLdContextNormalized(s);let m={};if("@import"in s)if(h>=1.1){if(typeof s["@import"]!="string")throw new t.ErrorCoded("An @import value must be a string, but got "+typeof s["@import"],t.ERROR_CODES.INVALID_IMPORT_VALUE);m=await this.loadImportContext(this.normalizeContextIri(s["@import"],l)),delete s["@import"]}else throw new t.ErrorCoded("Context importing is not supported in JSON-LD 1.0",t.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(m,{processingMode:h},n.defaultExpandOptions);const b=Object.assign(m,s);this.idifyReverseTerms(b),this.normalize(b,{processingMode:h,normalizeLanguageTags:p}),this.applyScopedProtected(b,{processingMode:h},n.defaultExpandOptions);const T=Object.keys(b),w=[];if(typeof f=="object")for(const F in f)F in b?w.push(F):b[F]=f[F];await this.parseInnerContexts(b,c,T);const O=new n.JsonLdContextNormalized(b);return(b&&b["@version"]||e.DEFAULT_PROCESSING_MODE)>=1.1&&(s["@vocab"]&&typeof s["@vocab"]=="string"||s["@vocab"]==="")&&(f&&"@vocab"in f&&s["@vocab"].indexOf(":")<0?b["@vocab"]=f["@vocab"]+s["@vocab"]:(r.Util.isCompactIri(s["@vocab"])||s["@vocab"]in b)&&(b["@vocab"]=O.expandTerm(s["@vocab"],!0))),this.expandPrefixedTerms(O,this.expandContentTypeToBase,T),!_&&f&&h>=1.1&&this.validateKeywordRedefinitions(f,b,n.defaultExpandOptions,w),this.validateContext&&!u.skipValidation&&this.validate(b,{processingMode:h}),O}else throw new t.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${s}`,t.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(s){const c=this.documentCache[s];if(c)return c;let u;try{u=await this.documentLoader.load(s)}catch(l){throw new t.ErrorCoded(`Failed to load remote context ${s}: ${l.message}`,t.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in u))throw new t.ErrorCoded(`Missing @context in remote context at ${s}`,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[s]=u["@context"]}getOverriddenLoad(s,c){if(s in(c.remoteContexts||{})){if(c.ignoreRemoteScopedContexts)return s;throw new t.ErrorCoded("Detected a cyclic context inclusion of "+s,t.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(s){let c=await this.load(s);if(typeof c!="object"||Array.isArray(c))throw new t.ErrorCoded("An imported context must be a single object: "+s,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in c)throw new t.ErrorCoded("An imported context can not import another context: "+s,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);return c=Object.assign({},c),this.containersToHash(c),c}}return e.DEFAULT_PROCESSING_MODE=1.1,x1.ContextParser=e,x1}var vR={},cq;function ple(){return cq||(cq=1,Object.defineProperty(vR,"__esModule",{value:!0})),vR}var TR={},lq;function yle(){return lq||(lq=1,Object.defineProperty(TR,"__esModule",{value:!0})),TR}var dq;function ble(){return dq||(dq=1,function(a){var t=ds&&ds.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ds&&ds.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(hle(),a),o(lA(),a),o(iq(),a),o(ple(),a),o(yle(),a),o(sq(),a),o(gR(),a)}(ds)),ds}var fq;function hq(){if(fq)return g1;fq=1,Object.defineProperty(g1,"__esModule",{value:!0}),g1.Util=void 0;const a=rle(),t=ble(),o=mt();class n{constructor(e){this.nodeHandlers={},this.nodeValueHandlers={},this.directiveNodeHandlers={},this.settings=e,this.dataFactory=e.dataFactory||new a.DataFactory,this.operationFactory=new o.Factory(this.dataFactory),this.contextParser=new t.ContextParser}registerNodeHandler(e){this.nodeHandlers[e.targetKind]=e}registerNodeValueHandler(e){this.nodeValueHandlers[e.targetKind]=e}registerDirectiveNodeHandler(e){this.directiveNodeHandlers[e.targetKind]=e}handleNode(e,i){const s=this.nodeHandlers[e.kind];if(!s)throw new Error(`Unsupported GraphQL node '${e.kind}'`);return s.handle(e,i)}handleNodeValue(e,i,s){const c=this.nodeValueHandlers[e.kind];if(!c)throw new Error(`Unsupported GraphQL value node '${e.kind}'`);return c.handle(e,i,s)}handleDirectiveNode(e,i){const s=this.directiveNodeHandlers[e.directive.name.value];return s?s.handle(e,i):null}joinOperations(e){if(e.length===1)return e[0];const i=[],s=[];for(const c of e)c.type==="bgp"?i.push(c):s.push(c);if(i.length===e.length)return this.joinOperationsAsBgp(i);if(i.length===e.length-1&&s[0].type==="leftjoin"&&s[0].input[0].type==="bgp"){const c=s[0];return i.push(c.input[0]),this.operationFactory.createLeftJoin(this.joinOperationsAsBgp(i),c.input[1])}else return s.length===e.length?this.joinOperationsAsNestedJoin(s):this.joinOperationsAsNestedJoin([this.joinOperationsAsBgp(i),this.joinOperationsAsNestedJoin(s)])}joinOperationsAsBgp(e){return this.operationFactory.createBgp([].concat.apply([],e.map(i=>i.patterns)))}joinOperationsAsNestedJoin(e){return this.operationFactory.createJoin(e)}appendFieldToPath(e,i){return e.concat([i])}getFieldLabel(e){return(e.alias?e.alias:e.name).value}nameToVariable(e,i){return this.dataFactory.variable((i.path.length?i.path.join(this.settings.variableDelimiter)+this.settings.variableDelimiter:"")+e)}valueToNamedNode(e,i){const s=i.expandTerm(e,!0);if(this.settings.requireContext&&!s)throw new Error("No context entry was found for "+e);return this.dataFactory.namedNode(s||e)}getArgument(e,i){if(e){for(const s of e)if(s.name.value===i)return s}}newTypePattern(e,i,s){return this.operationFactory.createPattern(e,this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.valueToNamedNode(i.name.value,s.context),s.graph)}createQuadPattern(e,i,s,c,u){const l=this.valueToNamedNode(i.value,u);return u&&u.getContextRaw()[i.value]&&u.getContextRaw()[i.value]["@reverse"]?this.operationFactory.createPattern(s,l,e,c):this.operationFactory.createPattern(e,l,s,c)}createQuadPath(e,i,s,c,u,l){const f=this.valueToNamedNode(i.value,l);let d=this.operationFactory.createLink(f);for(const h of s.values){if(h.kind!=="EnumValue")throw new Error("Invalid value type for 'alt' argument, must be EnumValue, but got "+h.kind);d=this.operationFactory.createAlt([d,this.operationFactory.createLink(this.valueToNamedNode(h.value,l))])}return l&&l.getContextRaw()[i.value]&&l.getContextRaw()[i.value]["@reverse"]?this.operationFactory.createPath(c,d,e,u):this.operationFactory.createPath(e,d,c,u)}}return g1.Util=n,g1}var pq;function _le(){if(pq)return us;pq=1;var a=us&&us.__awaiter||function(s,c,u,l){function f(d){return d instanceof u?d:new u(function(h){h(d)})}return new(u||(u=Promise))(function(d,h){function p(y){try{g(l.next(y))}catch(m){h(m)}}function _(y){try{g(l.throw(y))}catch(m){h(m)}}function g(y){y.done?d(y.value):f(y.value).then(p,_)}g((l=l.apply(s,c||[])).next())})};Object.defineProperty(us,"__esModule",{value:!0}),us.Converter=void 0;const t=ele,o=yM(),n=k5(),r=Xy(),e=hq();class i{constructor(c){c=c||{},c.variableDelimiter=c.variableDelimiter||"_",c.expressionVariableCounter=c.expressionVariableCounter||0,this.util=new e.Util(c),this.initializeNodeHandlers(c)}static registerNodeHandlers(c,u){c.registerNodeHandler(new o.NodeHandlerDocument(c,u)),c.registerNodeHandler(new o.NodeHandlerDefinitionOperation(c,u)),c.registerNodeHandler(new o.NodeHandlerDefinitionFragment(c,u)),c.registerNodeHandler(new o.NodeHandlerSelectionFragmentSpread(c,u)),c.registerNodeHandler(new o.NodeHandlerSelectionInlineFragment(c,u)),c.registerNodeHandler(new o.NodeHandlerSelectionField(c,u))}static registerNodeValueHandlers(c,u){c.registerNodeValueHandler(new o.NodeValueHandlerVariable(c,u)),c.registerNodeValueHandler(new o.NodeValueHandlerInt(c,u)),c.registerNodeValueHandler(new o.NodeValueHandlerFloat(c,u)),c.registerNodeValueHandler(new o.NodeValueHandlerString(c,u)),c.registerNodeValueHandler(new o.NodeValueHandlerBoolean(c,u)),c.registerNodeValueHandler(new o.NodeValueHandlerNull(c,u)),c.registerNodeValueHandler(new o.NodeValueHandlerEnum(c,u)),c.registerNodeValueHandler(new o.NodeValueHandlerList(c,u)),c.registerNodeValueHandler(new o.NodeValueHandlerObject(c,u))}static registerDirectiveNodeHandlers(c,u){c.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerInclude(c,u)),c.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerOptional(c,u)),c.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerPlural(c,u)),c.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerSingle(c,u)),c.registerDirectiveNodeHandler(new n.DirectiveNodeHandlerSkip(c,u))}graphqlToSparqlAlgebra(c,u,l){return a(this,void 0,void 0,function*(){return this.graphqlToSparqlAlgebraRawContext(c,yield this.util.contextParser.parse(u),l)})}graphqlToSparqlAlgebraRawContext(c,u,l){l=l||{};const f=typeof c=="string"?(0,t.parse)(c):c,d=this.indexFragments(f),h={context:u,fragmentDefinitions:d,graph:this.util.dataFactory.defaultGraph(),path:[],singularizeState:r.SingularizeState.PLURAL,singularizeVariables:l.singularizeVariables||{},subject:null,terminalVariables:[],variablesDict:l.variablesDict||{},variablesMetaDict:{}};return this.util.handleNode(f,h)}indexFragments(c){const u={},l=[];for(const f of c.definitions)f.kind==="FragmentDefinition"?u[f.name.value]=f:l.push(f);return c.definitions=l,u}initializeNodeHandlers(c){i.registerNodeHandlers(this.util,c),i.registerNodeValueHandlers(this.util,c),i.registerDirectiveNodeHandlers(this.util,c)}}return us.Converter=i,us}var wR={},yq;function mle(){return yq||(yq=1,Object.defineProperty(wR,"__esModule",{value:!0})),wR}var bq;function gle(){return bq||(bq=1,function(a){var t=is&&is.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=is&&is.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(yM(),a),o(_le(),a),o(Xy(),a),o(mle(),a),o(hq(),a)}(is)),is}var _q;function vle(){if(_q)return Qy;_q=1,Object.defineProperty(Qy,"__esModule",{value:!0}),Qy.ActorQueryParseGraphql=void 0;const a=M5(),t=tt(),o=De(),n=gle();let r=class extends a.ActorQueryParse{constructor(i){super(i),this.graphqlToSparql=new n.Converter({requireContext:!0})}async test(i){var s;return((s=i.queryFormat)==null?void 0:s.language)!=="graphql"?(0,o.failTest)("This actor can only parse GraphQL queries"):(0,o.passTestVoid)()}async run(i){const s=i.context.get(t.KeysInitQuery.jsonLdContext)||{},c={singularizeVariables:i.context.get(t.KeysInitQuery.graphqlSingularizeVariables)};return{operation:await this.graphqlToSparql.graphqlToSparqlAlgebra(i.query,s,c)}}};return Qy.ActorQueryParseGraphql=r,Qy}var mq;function Tle(){return mq||(mq=1,function(a){var t=ns&&ns.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ns&&ns.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(vle(),a)}(ns)),ns}var hs={},N1={},ps={},D1={},ys={},P1={},gq;function vq(){if(gq)return P1;gq=1,Object.defineProperty(P1,"__esModule",{value:!0}),P1.ActorAbstractMediaTyped=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}async run(n){if("handle"in n){const r=n;return{handle:await this.runHandle(r.handle,r.handleMediaType,n.context)}}if("mediaTypes"in n)return{mediaTypes:await this.getMediaTypes(n.context)};if("mediaTypeFormats"in n)return{mediaTypeFormats:await this.getMediaTypeFormats(n.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(n){if("handle"in n){const r=n;return(await this.testHandle(r.handle,r.handleMediaType,n.context)).map(e=>({handle:e}))}return"mediaTypes"in n?(await this.testMediaType(n.context)).map(r=>({mediaTypes:r})):"mediaTypeFormats"in n?(await this.testMediaTypeFormats(n.context)).map(r=>({mediaTypeFormats:r})):(0,a.failTest)("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}};return P1.ActorAbstractMediaTyped=t,P1}var L1={},Tq;function wle(){if(Tq)return L1;Tq=1,Object.defineProperty(L1,"__esModule",{value:!0}),L1.ActorAbstractMediaTypedFixed=void 0;const a=De(),t=vq();let o=class extends t.ActorAbstractMediaTyped{constructor(r){super(r);const e=this.priorityScale||this.priorityScale===0?this.priorityScale:1;if(this.mediaTypePriorities)for(const[i,[s,c]]of Object.entries(this.mediaTypePriorities).entries())this.mediaTypePriorities[s]=e*c;this.mediaTypePriorities=Object.freeze(this.mediaTypePriorities),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(r,e,i){return!e||!(e in this.mediaTypePriorities)?(0,a.failTest)(`Unrecognized media type: ${e}`):await this.testHandleChecked(r,i)}async testMediaType(r){return(0,a.passTestVoid)()}async getMediaTypes(r){return this.mediaTypePriorities}async testMediaTypeFormats(r){return(0,a.passTestVoid)()}async getMediaTypeFormats(r){return this.mediaTypeFormats}};return L1.ActorAbstractMediaTypedFixed=o,L1}var wq;function Ih(){return wq||(wq=1,function(a){var t=ys&&ys.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ys&&ys.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(vq(),a),o(wle(),a)}(ys)),ys}var Sq;function Sle(){if(Sq)return D1;Sq=1,Object.defineProperty(D1,"__esModule",{value:!0}),D1.ActorQueryResultSerialize=void 0;const a=Ih();let t=class extends a.ActorAbstractMediaTyped{constructor(n){super(n)}};return D1.ActorQueryResultSerialize=t,D1}var j1={},Oq;function Ole(){if(Oq)return j1;Oq=1,Object.defineProperty(j1,"__esModule",{value:!0}),j1.ActorQueryResultSerializeFixedMediaTypes=void 0;const a=Ih(),t=De();let o=class extends a.ActorAbstractMediaTypedFixed{constructor(r){super(r)}async testHandleChecked(r,e){return(0,t.passTestVoid)()}};return j1.ActorQueryResultSerializeFixedMediaTypes=o,j1}var Aq;function vi(){return Aq||(Aq=1,function(a){var t=ps&&ps.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ps&&ps.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Sle(),a),o(Ole(),a)}(ps)),ps}var SR={exports:{}},OR={exports:{}},AR={},Eq;function Pi(){return Eq||(Eq=1,function(a){Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var t={},o={};o.byteLength=l,o.toByteArray=d,o.fromByteArray=_;for(var n=[],r=[],e=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=i.length;s<c;++s)n[s]=i[s],r[i.charCodeAt(s)]=s;r[45]=62,r[95]=63;function u(m){var b=m.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=m.indexOf("=");T===-1&&(T=b);var w=T===b?0:4-T%4;return[T,w]}function l(m){var b=u(m),T=b[0],w=b[1];return(T+w)*3/4-w}function f(m,b,T){return(b+T)*3/4-T}function d(m){var b,T=u(m),w=T[0],O=T[1],F=new e(f(m,w,O)),Q=0,j=O>0?w-4:w,x;for(x=0;x<j;x+=4)b=r[m.charCodeAt(x)]<<18|r[m.charCodeAt(x+1)]<<12|r[m.charCodeAt(x+2)]<<6|r[m.charCodeAt(x+3)],F[Q++]=b>>16&255,F[Q++]=b>>8&255,F[Q++]=b&255;return O===2&&(b=r[m.charCodeAt(x)]<<2|r[m.charCodeAt(x+1)]>>4,F[Q++]=b&255),O===1&&(b=r[m.charCodeAt(x)]<<10|r[m.charCodeAt(x+1)]<<4|r[m.charCodeAt(x+2)]>>2,F[Q++]=b>>8&255,F[Q++]=b&255),F}function h(m){return n[m>>18&63]+n[m>>12&63]+n[m>>6&63]+n[m&63]}function p(m,b,T){for(var w,O=[],F=b;F<T;F+=3)w=(m[F]<<16&16711680)+(m[F+1]<<8&65280)+(m[F+2]&255),O.push(h(w));return O.join("")}function _(m){for(var b,T=m.length,w=T%3,O=[],F=16383,Q=0,j=T-w;Q<j;Q+=F)O.push(p(m,Q,Q+F>j?j:Q+F));return w===1?(b=m[T-1],O.push(n[b>>2]+n[b<<4&63]+"==")):w===2&&(b=(m[T-2]<<8)+m[T-1],O.push(n[b>>10]+n[b>>4&63]+n[b<<2&63]+"=")),O.join("")}var g={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g.read=function(m,b,T,w,O){var F,Q,j=O*8-w-1,x=(1<<j)-1,I=x>>1,D=-7,C=T?O-1:0,X=T?-1:1,z=m[b+C];for(C+=X,F=z&(1<<-D)-1,z>>=-D,D+=j;D>0;F=F*256+m[b+C],C+=X,D-=8);for(Q=F&(1<<-D)-1,F>>=-D,D+=w;D>0;Q=Q*256+m[b+C],C+=X,D-=8);if(F===0)F=1-I;else{if(F===x)return Q?NaN:(z?-1:1)*(1/0);Q=Q+Math.pow(2,w),F=F-I}return(z?-1:1)*Q*Math.pow(2,F-w)},g.write=function(m,b,T,w,O,F){var Q,j,x,I=F*8-O-1,D=(1<<I)-1,C=D>>1,X=O===23?Math.pow(2,-24)-Math.pow(2,-77):0,z=w?0:F-1,J=w?1:-1,ie=b<0||b===0&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(j=isNaN(b)?1:0,Q=D):(Q=Math.floor(Math.log(b)/Math.LN2),b*(x=Math.pow(2,-Q))<1&&(Q--,x*=2),Q+C>=1?b+=X/x:b+=X*Math.pow(2,1-C),b*x>=2&&(Q++,x/=2),Q+C>=D?(j=0,Q=D):Q+C>=1?(j=(b*x-1)*Math.pow(2,O),Q=Q+C):(j=b*Math.pow(2,C-1)*Math.pow(2,O),Q=0));O>=8;m[T+z]=j&255,z+=J,j/=256,O-=8);for(Q=Q<<O|j,I+=O;I>0;m[T+z]=Q&255,z+=J,Q/=256,I-=8);m[T+z-J]|=ie*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(m){const b=o,T=g,w=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;m.Buffer=D,m.SlowBuffer=_e,m.INSPECT_MAX_BYTES=50;const O=2147483647;m.kMaxLength=O;const{Uint8Array:F,ArrayBuffer:Q,SharedArrayBuffer:j}=globalThis;D.TYPED_ARRAY_SUPPORT=x(),!D.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function x(){try{const H=new F(1),V={foo:function(){return 42}};return Object.setPrototypeOf(V,F.prototype),Object.setPrototypeOf(H,V),H.foo()===42}catch{return!1}}Object.defineProperty(D.prototype,"parent",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.buffer}}),Object.defineProperty(D.prototype,"offset",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.byteOffset}});function I(H){if(H>O)throw new RangeError('The value "'+H+'" is invalid for option "size"');const V=new F(H);return Object.setPrototypeOf(V,D.prototype),V}function D(H,V,G){if(typeof H=="number"){if(typeof V=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return J(H)}return C(H,V,G)}D.poolSize=8192;function C(H,V,G){if(typeof H=="string")return ie(H,V);if(Q.isView(H))return ye(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(Pe(H,Q)||H&&Pe(H.buffer,Q)||typeof j<"u"&&(Pe(H,j)||H&&Pe(H.buffer,j)))return K(H,V,G);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const oe=H.valueOf&&H.valueOf();if(oe!=null&&oe!==H)return D.from(oe,V,G);const Fe=Te(H);if(Fe)return Fe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return D.from(H[Symbol.toPrimitive]("string"),V,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}D.from=function(H,V,G){return C(H,V,G)},Object.setPrototypeOf(D.prototype,F.prototype),Object.setPrototypeOf(D,F);function X(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function z(H,V,G){return X(H),H<=0?I(H):V!==void 0?typeof G=="string"?I(H).fill(V,G):I(H).fill(V):I(H)}D.alloc=function(H,V,G){return z(H,V,G)};function J(H){return X(H),I(H<0?0:Ne(H)|0)}D.allocUnsafe=function(H){return J(H)},D.allocUnsafeSlow=function(H){return J(H)};function ie(H,V){if((typeof V!="string"||V==="")&&(V="utf8"),!D.isEncoding(V))throw new TypeError("Unknown encoding: "+V);const G=$(H,V)|0;let oe=I(G);const Fe=oe.write(H,V);return Fe!==G&&(oe=oe.slice(0,Fe)),oe}function se(H){const V=H.length<0?0:Ne(H.length)|0,G=I(V);for(let oe=0;oe<V;oe+=1)G[oe]=H[oe]&255;return G}function ye(H){if(Pe(H,F)){const V=new F(H);return K(V.buffer,V.byteOffset,V.byteLength)}return se(H)}function K(H,V,G){if(V<0||H.byteLength<V)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<V+(G||0))throw new RangeError('"length" is outside of buffer bounds');let oe;return V===void 0&&G===void 0?oe=new F(H):G===void 0?oe=new F(H,V):oe=new F(H,V,G),Object.setPrototypeOf(oe,D.prototype),oe}function Te(H){if(D.isBuffer(H)){const V=Ne(H.length)|0,G=I(V);return G.length===0||H.copy(G,0,0,V),G}if(H.length!==void 0)return typeof H.length!="number"||ze(H.length)?I(0):se(H);if(H.type==="Buffer"&&Array.isArray(H.data))return se(H.data)}function Ne(H){if(H>=O)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+O.toString(16)+" bytes");return H|0}function _e(H){return+H!=H&&(H=0),D.alloc(+H)}D.isBuffer=function(V){return V!=null&&V._isBuffer===!0&&V!==D.prototype},D.compare=function(V,G){if(Pe(V,F)&&(V=D.from(V,V.offset,V.byteLength)),Pe(G,F)&&(G=D.from(G,G.offset,G.byteLength)),!D.isBuffer(V)||!D.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(V===G)return 0;let oe=V.length,Fe=G.length;for(let Ee=0,Qe=Math.min(oe,Fe);Ee<Qe;++Ee)if(V[Ee]!==G[Ee]){oe=V[Ee],Fe=G[Ee];break}return oe<Fe?-1:Fe<oe?1:0},D.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},D.concat=function(V,G){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return D.alloc(0);let oe;if(G===void 0)for(G=0,oe=0;oe<V.length;++oe)G+=V[oe].length;const Fe=D.allocUnsafe(G);let Ee=0;for(oe=0;oe<V.length;++oe){let Qe=V[oe];if(Pe(Qe,F))Ee+Qe.length>Fe.length?(D.isBuffer(Qe)||(Qe=D.from(Qe)),Qe.copy(Fe,Ee)):F.prototype.set.call(Fe,Qe,Ee);else if(D.isBuffer(Qe))Qe.copy(Fe,Ee);else throw new TypeError('"list" argument must be an Array of Buffers');Ee+=Qe.length}return Fe};function $(H,V){if(D.isBuffer(H))return H.length;if(Q.isView(H)||Pe(H,Q))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);const G=H.length,oe=arguments.length>2&&arguments[2]===!0;if(!oe&&G===0)return 0;let Fe=!1;for(;;)switch(V){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return ne(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G*2;case"hex":return G>>>1;case"base64":return Re(H).length;default:if(Fe)return oe?-1:ne(H).length;V=(""+V).toLowerCase(),Fe=!0}}D.byteLength=$;function He(H,V,G){let oe=!1;if((V===void 0||V<0)&&(V=0),V>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0,V>>>=0,G<=V))return"";for(H||(H="utf8");;)switch(H){case"hex":return le(this,V,G);case"utf8":case"utf-8":return W(this,V,G);case"ascii":return ue(this,V,G);case"latin1":case"binary":return te(this,V,G);case"base64":return q(this,V,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Oe(this,V,G);default:if(oe)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),oe=!0}}D.prototype._isBuffer=!0;function qe(H,V,G){const oe=H[V];H[V]=H[G],H[G]=oe}D.prototype.swap16=function(){const V=this.length;if(V%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let G=0;G<V;G+=2)qe(this,G,G+1);return this},D.prototype.swap32=function(){const V=this.length;if(V%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let G=0;G<V;G+=4)qe(this,G,G+3),qe(this,G+1,G+2);return this},D.prototype.swap64=function(){const V=this.length;if(V%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let G=0;G<V;G+=8)qe(this,G,G+7),qe(this,G+1,G+6),qe(this,G+2,G+5),qe(this,G+3,G+4);return this},D.prototype.toString=function(){const V=this.length;return V===0?"":arguments.length===0?W(this,0,V):He.apply(this,arguments)},D.prototype.toLocaleString=D.prototype.toString,D.prototype.equals=function(V){if(!D.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V?!0:D.compare(this,V)===0},D.prototype.inspect=function(){let V="";const G=m.INSPECT_MAX_BYTES;return V=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(V+=" ... "),"<Buffer "+V+">"},w&&(D.prototype[w]=D.prototype.inspect),D.prototype.compare=function(V,G,oe,Fe,Ee){if(Pe(V,F)&&(V=D.from(V,V.offset,V.byteLength)),!D.isBuffer(V))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof V);if(G===void 0&&(G=0),oe===void 0&&(oe=V?V.length:0),Fe===void 0&&(Fe=0),Ee===void 0&&(Ee=this.length),G<0||oe>V.length||Fe<0||Ee>this.length)throw new RangeError("out of range index");if(Fe>=Ee&&G>=oe)return 0;if(Fe>=Ee)return-1;if(G>=oe)return 1;if(G>>>=0,oe>>>=0,Fe>>>=0,Ee>>>=0,this===V)return 0;let Qe=Ee-Fe,Je=oe-G;const rt=Math.min(Qe,Je),it=this.slice(Fe,Ee),ht=V.slice(G,oe);for(let st=0;st<rt;++st)if(it[st]!==ht[st]){Qe=it[st],Je=ht[st];break}return Qe<Je?-1:Je<Qe?1:0};function Ce(H,V,G,oe,Fe){if(H.length===0)return-1;if(typeof G=="string"?(oe=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),G=+G,ze(G)&&(G=Fe?0:H.length-1),G<0&&(G=H.length+G),G>=H.length){if(Fe)return-1;G=H.length-1}else if(G<0)if(Fe)G=0;else return-1;if(typeof V=="string"&&(V=D.from(V,oe)),D.isBuffer(V))return V.length===0?-1:xe(H,V,G,oe,Fe);if(typeof V=="number")return V=V&255,typeof F.prototype.indexOf=="function"?Fe?F.prototype.indexOf.call(H,V,G):F.prototype.lastIndexOf.call(H,V,G):xe(H,[V],G,oe,Fe);throw new TypeError("val must be string, number or Buffer")}function xe(H,V,G,oe,Fe){let Ee=1,Qe=H.length,Je=V.length;if(oe!==void 0&&(oe=String(oe).toLowerCase(),oe==="ucs2"||oe==="ucs-2"||oe==="utf16le"||oe==="utf-16le")){if(H.length<2||V.length<2)return-1;Ee=2,Qe/=2,Je/=2,G/=2}function rt(ht,st){return Ee===1?ht[st]:ht.readUInt16BE(st*Ee)}let it;if(Fe){let ht=-1;for(it=G;it<Qe;it++)if(rt(H,it)===rt(V,ht===-1?0:it-ht)){if(ht===-1&&(ht=it),it-ht+1===Je)return ht*Ee}else ht!==-1&&(it-=it-ht),ht=-1}else for(G+Je>Qe&&(G=Qe-Je),it=G;it>=0;it--){let ht=!0;for(let st=0;st<Je;st++)if(rt(H,it+st)!==rt(V,st)){ht=!1;break}if(ht)return it}return-1}D.prototype.includes=function(V,G,oe){return this.indexOf(V,G,oe)!==-1},D.prototype.indexOf=function(V,G,oe){return Ce(this,V,G,oe,!0)},D.prototype.lastIndexOf=function(V,G,oe){return Ce(this,V,G,oe,!1)};function we(H,V,G,oe){G=Number(G)||0;const Fe=H.length-G;oe?(oe=Number(oe),oe>Fe&&(oe=Fe)):oe=Fe;const Ee=V.length;oe>Ee/2&&(oe=Ee/2);let Qe;for(Qe=0;Qe<oe;++Qe){const Je=parseInt(V.substr(Qe*2,2),16);if(ze(Je))return Qe;H[G+Qe]=Je}return Qe}function ee(H,V,G,oe){return ce(ne(V,H.length-G),H,G,oe)}function M(H,V,G,oe){return ce(Ie(V),H,G,oe)}function B(H,V,G,oe){return ce(Re(V),H,G,oe)}function R(H,V,G,oe){return ce(ve(V,H.length-G),H,G,oe)}D.prototype.write=function(V,G,oe,Fe){if(G===void 0)Fe="utf8",oe=this.length,G=0;else if(oe===void 0&&typeof G=="string")Fe=G,oe=this.length,G=0;else if(isFinite(G))G=G>>>0,isFinite(oe)?(oe=oe>>>0,Fe===void 0&&(Fe="utf8")):(Fe=oe,oe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ee=this.length-G;if((oe===void 0||oe>Ee)&&(oe=Ee),V.length>0&&(oe<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");Fe||(Fe="utf8");let Qe=!1;for(;;)switch(Fe){case"hex":return we(this,V,G,oe);case"utf8":case"utf-8":return ee(this,V,G,oe);case"ascii":case"latin1":case"binary":return M(this,V,G,oe);case"base64":return B(this,V,G,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,V,G,oe);default:if(Qe)throw new TypeError("Unknown encoding: "+Fe);Fe=(""+Fe).toLowerCase(),Qe=!0}},D.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function q(H,V,G){return V===0&&G===H.length?b.fromByteArray(H):b.fromByteArray(H.slice(V,G))}function W(H,V,G){G=Math.min(H.length,G);const oe=[];let Fe=V;for(;Fe<G;){const Ee=H[Fe];let Qe=null,Je=Ee>239?4:Ee>223?3:Ee>191?2:1;if(Fe+Je<=G){let rt,it,ht,st;switch(Je){case 1:Ee<128&&(Qe=Ee);break;case 2:rt=H[Fe+1],(rt&192)===128&&(st=(Ee&31)<<6|rt&63,st>127&&(Qe=st));break;case 3:rt=H[Fe+1],it=H[Fe+2],(rt&192)===128&&(it&192)===128&&(st=(Ee&15)<<12|(rt&63)<<6|it&63,st>2047&&(st<55296||st>57343)&&(Qe=st));break;case 4:rt=H[Fe+1],it=H[Fe+2],ht=H[Fe+3],(rt&192)===128&&(it&192)===128&&(ht&192)===128&&(st=(Ee&15)<<18|(rt&63)<<12|(it&63)<<6|ht&63,st>65535&&st<1114112&&(Qe=st))}}Qe===null?(Qe=65533,Je=1):Qe>65535&&(Qe-=65536,oe.push(Qe>>>10&1023|55296),Qe=56320|Qe&1023),oe.push(Qe),Fe+=Je}return Y(oe)}const re=4096;function Y(H){const V=H.length;if(V<=re)return String.fromCharCode.apply(String,H);let G="",oe=0;for(;oe<V;)G+=String.fromCharCode.apply(String,H.slice(oe,oe+=re));return G}function ue(H,V,G){let oe="";G=Math.min(H.length,G);for(let Fe=V;Fe<G;++Fe)oe+=String.fromCharCode(H[Fe]&127);return oe}function te(H,V,G){let oe="";G=Math.min(H.length,G);for(let Fe=V;Fe<G;++Fe)oe+=String.fromCharCode(H[Fe]);return oe}function le(H,V,G){const oe=H.length;(!V||V<0)&&(V=0),(!G||G<0||G>oe)&&(G=oe);let Fe="";for(let Ee=V;Ee<G;++Ee)Fe+=Ue[H[Ee]];return Fe}function Oe(H,V,G){const oe=H.slice(V,G);let Fe="";for(let Ee=0;Ee<oe.length-1;Ee+=2)Fe+=String.fromCharCode(oe[Ee]+oe[Ee+1]*256);return Fe}D.prototype.slice=function(V,G){const oe=this.length;V=~~V,G=G===void 0?oe:~~G,V<0?(V+=oe,V<0&&(V=0)):V>oe&&(V=oe),G<0?(G+=oe,G<0&&(G=0)):G>oe&&(G=oe),G<V&&(G=V);const Fe=this.subarray(V,G);return Object.setPrototypeOf(Fe,D.prototype),Fe};function Se(H,V,G){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+V>G)throw new RangeError("Trying to access beyond buffer length")}D.prototype.readUintLE=D.prototype.readUIntLE=function(V,G,oe){V=V>>>0,G=G>>>0,oe||Se(V,G,this.length);let Fe=this[V],Ee=1,Qe=0;for(;++Qe<G&&(Ee*=256);)Fe+=this[V+Qe]*Ee;return Fe},D.prototype.readUintBE=D.prototype.readUIntBE=function(V,G,oe){V=V>>>0,G=G>>>0,oe||Se(V,G,this.length);let Fe=this[V+--G],Ee=1;for(;G>0&&(Ee*=256);)Fe+=this[V+--G]*Ee;return Fe},D.prototype.readUint8=D.prototype.readUInt8=function(V,G){return V=V>>>0,G||Se(V,1,this.length),this[V]},D.prototype.readUint16LE=D.prototype.readUInt16LE=function(V,G){return V=V>>>0,G||Se(V,2,this.length),this[V]|this[V+1]<<8},D.prototype.readUint16BE=D.prototype.readUInt16BE=function(V,G){return V=V>>>0,G||Se(V,2,this.length),this[V]<<8|this[V+1]},D.prototype.readUint32LE=D.prototype.readUInt32LE=function(V,G){return V=V>>>0,G||Se(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+this[V+3]*16777216},D.prototype.readUint32BE=D.prototype.readUInt32BE=function(V,G){return V=V>>>0,G||Se(V,4,this.length),this[V]*16777216+(this[V+1]<<16|this[V+2]<<8|this[V+3])},D.prototype.readBigUInt64LE=Ye(function(V){V=V>>>0,Z(V,"offset");const G=this[V],oe=this[V+7];(G===void 0||oe===void 0)&&me(V,this.length-8);const Fe=G+this[++V]*2**8+this[++V]*2**16+this[++V]*2**24,Ee=this[++V]+this[++V]*2**8+this[++V]*2**16+oe*2**24;return BigInt(Fe)+(BigInt(Ee)<<BigInt(32))}),D.prototype.readBigUInt64BE=Ye(function(V){V=V>>>0,Z(V,"offset");const G=this[V],oe=this[V+7];(G===void 0||oe===void 0)&&me(V,this.length-8);const Fe=G*2**24+this[++V]*2**16+this[++V]*2**8+this[++V],Ee=this[++V]*2**24+this[++V]*2**16+this[++V]*2**8+oe;return(BigInt(Fe)<<BigInt(32))+BigInt(Ee)}),D.prototype.readIntLE=function(V,G,oe){V=V>>>0,G=G>>>0,oe||Se(V,G,this.length);let Fe=this[V],Ee=1,Qe=0;for(;++Qe<G&&(Ee*=256);)Fe+=this[V+Qe]*Ee;return Ee*=128,Fe>=Ee&&(Fe-=Math.pow(2,8*G)),Fe},D.prototype.readIntBE=function(V,G,oe){V=V>>>0,G=G>>>0,oe||Se(V,G,this.length);let Fe=G,Ee=1,Qe=this[V+--Fe];for(;Fe>0&&(Ee*=256);)Qe+=this[V+--Fe]*Ee;return Ee*=128,Qe>=Ee&&(Qe-=Math.pow(2,8*G)),Qe},D.prototype.readInt8=function(V,G){return V=V>>>0,G||Se(V,1,this.length),this[V]&128?(255-this[V]+1)*-1:this[V]},D.prototype.readInt16LE=function(V,G){V=V>>>0,G||Se(V,2,this.length);const oe=this[V]|this[V+1]<<8;return oe&32768?oe|4294901760:oe},D.prototype.readInt16BE=function(V,G){V=V>>>0,G||Se(V,2,this.length);const oe=this[V+1]|this[V]<<8;return oe&32768?oe|4294901760:oe},D.prototype.readInt32LE=function(V,G){return V=V>>>0,G||Se(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},D.prototype.readInt32BE=function(V,G){return V=V>>>0,G||Se(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},D.prototype.readBigInt64LE=Ye(function(V){V=V>>>0,Z(V,"offset");const G=this[V],oe=this[V+7];(G===void 0||oe===void 0)&&me(V,this.length-8);const Fe=this[V+4]+this[V+5]*2**8+this[V+6]*2**16+(oe<<24);return(BigInt(Fe)<<BigInt(32))+BigInt(G+this[++V]*2**8+this[++V]*2**16+this[++V]*2**24)}),D.prototype.readBigInt64BE=Ye(function(V){V=V>>>0,Z(V,"offset");const G=this[V],oe=this[V+7];(G===void 0||oe===void 0)&&me(V,this.length-8);const Fe=(G<<24)+this[++V]*2**16+this[++V]*2**8+this[++V];return(BigInt(Fe)<<BigInt(32))+BigInt(this[++V]*2**24+this[++V]*2**16+this[++V]*2**8+oe)}),D.prototype.readFloatLE=function(V,G){return V=V>>>0,G||Se(V,4,this.length),T.read(this,V,!0,23,4)},D.prototype.readFloatBE=function(V,G){return V=V>>>0,G||Se(V,4,this.length),T.read(this,V,!1,23,4)},D.prototype.readDoubleLE=function(V,G){return V=V>>>0,G||Se(V,8,this.length),T.read(this,V,!0,52,8)},D.prototype.readDoubleBE=function(V,G){return V=V>>>0,G||Se(V,8,this.length),T.read(this,V,!1,52,8)};function Ve(H,V,G,oe,Fe,Ee){if(!D.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>Fe||V<Ee)throw new RangeError('"value" argument is out of bounds');if(G+oe>H.length)throw new RangeError("Index out of range")}D.prototype.writeUintLE=D.prototype.writeUIntLE=function(V,G,oe,Fe){if(V=+V,G=G>>>0,oe=oe>>>0,!Fe){const Je=Math.pow(2,8*oe)-1;Ve(this,V,G,oe,Je,0)}let Ee=1,Qe=0;for(this[G]=V&255;++Qe<oe&&(Ee*=256);)this[G+Qe]=V/Ee&255;return G+oe},D.prototype.writeUintBE=D.prototype.writeUIntBE=function(V,G,oe,Fe){if(V=+V,G=G>>>0,oe=oe>>>0,!Fe){const Je=Math.pow(2,8*oe)-1;Ve(this,V,G,oe,Je,0)}let Ee=oe-1,Qe=1;for(this[G+Ee]=V&255;--Ee>=0&&(Qe*=256);)this[G+Ee]=V/Qe&255;return G+oe},D.prototype.writeUint8=D.prototype.writeUInt8=function(V,G,oe){return V=+V,G=G>>>0,oe||Ve(this,V,G,1,255,0),this[G]=V&255,G+1},D.prototype.writeUint16LE=D.prototype.writeUInt16LE=function(V,G,oe){return V=+V,G=G>>>0,oe||Ve(this,V,G,2,65535,0),this[G]=V&255,this[G+1]=V>>>8,G+2},D.prototype.writeUint16BE=D.prototype.writeUInt16BE=function(V,G,oe){return V=+V,G=G>>>0,oe||Ve(this,V,G,2,65535,0),this[G]=V>>>8,this[G+1]=V&255,G+2},D.prototype.writeUint32LE=D.prototype.writeUInt32LE=function(V,G,oe){return V=+V,G=G>>>0,oe||Ve(this,V,G,4,4294967295,0),this[G+3]=V>>>24,this[G+2]=V>>>16,this[G+1]=V>>>8,this[G]=V&255,G+4},D.prototype.writeUint32BE=D.prototype.writeUInt32BE=function(V,G,oe){return V=+V,G=G>>>0,oe||Ve(this,V,G,4,4294967295,0),this[G]=V>>>24,this[G+1]=V>>>16,this[G+2]=V>>>8,this[G+3]=V&255,G+4};function ke(H,V,G,oe,Fe){U(V,oe,Fe,H,G,7);let Ee=Number(V&BigInt(4294967295));H[G++]=Ee,Ee=Ee>>8,H[G++]=Ee,Ee=Ee>>8,H[G++]=Ee,Ee=Ee>>8,H[G++]=Ee;let Qe=Number(V>>BigInt(32)&BigInt(4294967295));return H[G++]=Qe,Qe=Qe>>8,H[G++]=Qe,Qe=Qe>>8,H[G++]=Qe,Qe=Qe>>8,H[G++]=Qe,G}function Ae(H,V,G,oe,Fe){U(V,oe,Fe,H,G,7);let Ee=Number(V&BigInt(4294967295));H[G+7]=Ee,Ee=Ee>>8,H[G+6]=Ee,Ee=Ee>>8,H[G+5]=Ee,Ee=Ee>>8,H[G+4]=Ee;let Qe=Number(V>>BigInt(32)&BigInt(4294967295));return H[G+3]=Qe,Qe=Qe>>8,H[G+2]=Qe,Qe=Qe>>8,H[G+1]=Qe,Qe=Qe>>8,H[G]=Qe,G+8}D.prototype.writeBigUInt64LE=Ye(function(V,G=0){return ke(this,V,G,BigInt(0),BigInt("0xffffffffffffffff"))}),D.prototype.writeBigUInt64BE=Ye(function(V,G=0){return Ae(this,V,G,BigInt(0),BigInt("0xffffffffffffffff"))}),D.prototype.writeIntLE=function(V,G,oe,Fe){if(V=+V,G=G>>>0,!Fe){const rt=Math.pow(2,8*oe-1);Ve(this,V,G,oe,rt-1,-rt)}let Ee=0,Qe=1,Je=0;for(this[G]=V&255;++Ee<oe&&(Qe*=256);)V<0&&Je===0&&this[G+Ee-1]!==0&&(Je=1),this[G+Ee]=(V/Qe>>0)-Je&255;return G+oe},D.prototype.writeIntBE=function(V,G,oe,Fe){if(V=+V,G=G>>>0,!Fe){const rt=Math.pow(2,8*oe-1);Ve(this,V,G,oe,rt-1,-rt)}let Ee=oe-1,Qe=1,Je=0;for(this[G+Ee]=V&255;--Ee>=0&&(Qe*=256);)V<0&&Je===0&&this[G+Ee+1]!==0&&(Je=1),this[G+Ee]=(V/Qe>>0)-Je&255;return G+oe},D.prototype.writeInt8=function(V,G,oe){return V=+V,G=G>>>0,oe||Ve(this,V,G,1,127,-128),V<0&&(V=255+V+1),this[G]=V&255,G+1},D.prototype.writeInt16LE=function(V,G,oe){return V=+V,G=G>>>0,oe||Ve(this,V,G,2,32767,-32768),this[G]=V&255,this[G+1]=V>>>8,G+2},D.prototype.writeInt16BE=function(V,G,oe){return V=+V,G=G>>>0,oe||Ve(this,V,G,2,32767,-32768),this[G]=V>>>8,this[G+1]=V&255,G+2},D.prototype.writeInt32LE=function(V,G,oe){return V=+V,G=G>>>0,oe||Ve(this,V,G,4,2147483647,-2147483648),this[G]=V&255,this[G+1]=V>>>8,this[G+2]=V>>>16,this[G+3]=V>>>24,G+4},D.prototype.writeInt32BE=function(V,G,oe){return V=+V,G=G>>>0,oe||Ve(this,V,G,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),this[G]=V>>>24,this[G+1]=V>>>16,this[G+2]=V>>>8,this[G+3]=V&255,G+4},D.prototype.writeBigInt64LE=Ye(function(V,G=0){return ke(this,V,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),D.prototype.writeBigInt64BE=Ye(function(V,G=0){return Ae(this,V,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function A(H,V,G,oe,Fe,Ee){if(G+oe>H.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function E(H,V,G,oe,Fe){return V=+V,G=G>>>0,Fe||A(H,V,G,4),T.write(H,V,G,oe,23,4),G+4}D.prototype.writeFloatLE=function(V,G,oe){return E(this,V,G,!0,oe)},D.prototype.writeFloatBE=function(V,G,oe){return E(this,V,G,!1,oe)};function P(H,V,G,oe,Fe){return V=+V,G=G>>>0,Fe||A(H,V,G,8),T.write(H,V,G,oe,52,8),G+8}D.prototype.writeDoubleLE=function(V,G,oe){return P(this,V,G,!0,oe)},D.prototype.writeDoubleBE=function(V,G,oe){return P(this,V,G,!1,oe)},D.prototype.copy=function(V,G,oe,Fe){if(!D.isBuffer(V))throw new TypeError("argument should be a Buffer");if(oe||(oe=0),!Fe&&Fe!==0&&(Fe=this.length),G>=V.length&&(G=V.length),G||(G=0),Fe>0&&Fe<oe&&(Fe=oe),Fe===oe||V.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(oe<0||oe>=this.length)throw new RangeError("Index out of range");if(Fe<0)throw new RangeError("sourceEnd out of bounds");Fe>this.length&&(Fe=this.length),V.length-G<Fe-oe&&(Fe=V.length-G+oe);const Ee=Fe-oe;return this===V&&typeof F.prototype.copyWithin=="function"?this.copyWithin(G,oe,Fe):F.prototype.set.call(V,this.subarray(oe,Fe),G),Ee},D.prototype.fill=function(V,G,oe,Fe){if(typeof V=="string"){if(typeof G=="string"?(Fe=G,G=0,oe=this.length):typeof oe=="string"&&(Fe=oe,oe=this.length),Fe!==void 0&&typeof Fe!="string")throw new TypeError("encoding must be a string");if(typeof Fe=="string"&&!D.isEncoding(Fe))throw new TypeError("Unknown encoding: "+Fe);if(V.length===1){const Qe=V.charCodeAt(0);(Fe==="utf8"&&Qe<128||Fe==="latin1")&&(V=Qe)}}else typeof V=="number"?V=V&255:typeof V=="boolean"&&(V=Number(V));if(G<0||this.length<G||this.length<oe)throw new RangeError("Out of range index");if(oe<=G)return this;G=G>>>0,oe=oe===void 0?this.length:oe>>>0,V||(V=0);let Ee;if(typeof V=="number")for(Ee=G;Ee<oe;++Ee)this[Ee]=V;else{const Qe=D.isBuffer(V)?V:D.from(V,Fe),Je=Qe.length;if(Je===0)throw new TypeError('The value "'+V+'" is invalid for argument "value"');for(Ee=0;Ee<oe-G;++Ee)this[Ee+G]=Qe[Ee%Je]}return this};const k={};function N(H,V,G){k[H]=class extends G{constructor(){super(),Object.defineProperty(this,"message",{value:V.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${H}]`,this.stack,delete this.name}get code(){return H}set code(Fe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Fe,writable:!0})}toString(){return`${this.name} [${H}]: ${this.message}`}}}N("ERR_BUFFER_OUT_OF_BOUNDS",function(H){return H?`${H} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),N("ERR_INVALID_ARG_TYPE",function(H,V){return`The "${H}" argument must be of type number. Received type ${typeof V}`},TypeError),N("ERR_OUT_OF_RANGE",function(H,V,G){let oe=`The value of "${H}" is out of range.`,Fe=G;return Number.isInteger(G)&&Math.abs(G)>2**32?Fe=S(String(G)):typeof G=="bigint"&&(Fe=String(G),(G>BigInt(2)**BigInt(32)||G<-(BigInt(2)**BigInt(32)))&&(Fe=S(Fe)),Fe+="n"),oe+=` It must be ${V}. Received ${Fe}`,oe},RangeError);function S(H){let V="",G=H.length;const oe=H[0]==="-"?1:0;for(;G>=oe+4;G-=3)V=`_${H.slice(G-3,G)}${V}`;return`${H.slice(0,G)}${V}`}function L(H,V,G){Z(V,"offset"),(H[V]===void 0||H[V+G]===void 0)&&me(V,H.length-(G+1))}function U(H,V,G,oe,Fe,Ee){if(H>G||H<V){const Qe=typeof V=="bigint"?"n":"";let Je;throw V===0||V===BigInt(0)?Je=`>= 0${Qe} and < 2${Qe} ** ${(Ee+1)*8}${Qe}`:Je=`>= -(2${Qe} ** ${(Ee+1)*8-1}${Qe}) and < 2 ** ${(Ee+1)*8-1}${Qe}`,new k.ERR_OUT_OF_RANGE("value",Je,H)}L(oe,Fe,Ee)}function Z(H,V){if(typeof H!="number")throw new k.ERR_INVALID_ARG_TYPE(V,"number",H)}function me(H,V,G){throw Math.floor(H)!==H?(Z(H,G),new k.ERR_OUT_OF_RANGE("offset","an integer",H)):V<0?new k.ERR_BUFFER_OUT_OF_BOUNDS:new k.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${V}`,H)}const pe=/[^+/0-9A-Za-z-_]/g;function Xe(H){if(H=H.split("=")[0],H=H.trim().replace(pe,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function ne(H,V){V=V||1/0;let G;const oe=H.length;let Fe=null;const Ee=[];for(let Qe=0;Qe<oe;++Qe){if(G=H.charCodeAt(Qe),G>55295&&G<57344){if(!Fe){if(G>56319){(V-=3)>-1&&Ee.push(239,191,189);continue}else if(Qe+1===oe){(V-=3)>-1&&Ee.push(239,191,189);continue}Fe=G;continue}if(G<56320){(V-=3)>-1&&Ee.push(239,191,189),Fe=G;continue}G=(Fe-55296<<10|G-56320)+65536}else Fe&&(V-=3)>-1&&Ee.push(239,191,189);if(Fe=null,G<128){if((V-=1)<0)break;Ee.push(G)}else if(G<2048){if((V-=2)<0)break;Ee.push(G>>6|192,G&63|128)}else if(G<65536){if((V-=3)<0)break;Ee.push(G>>12|224,G>>6&63|128,G&63|128)}else if(G<1114112){if((V-=4)<0)break;Ee.push(G>>18|240,G>>12&63|128,G>>6&63|128,G&63|128)}else throw new Error("Invalid code point")}return Ee}function Ie(H){const V=[];for(let G=0;G<H.length;++G)V.push(H.charCodeAt(G)&255);return V}function ve(H,V){let G,oe,Fe;const Ee=[];for(let Qe=0;Qe<H.length&&!((V-=2)<0);++Qe)G=H.charCodeAt(Qe),oe=G>>8,Fe=G%256,Ee.push(Fe),Ee.push(oe);return Ee}function Re(H){return b.toByteArray(Xe(H))}function ce(H,V,G,oe){let Fe;for(Fe=0;Fe<oe&&!(Fe+G>=V.length||Fe>=H.length);++Fe)V[Fe+G]=H[Fe];return Fe}function Pe(H,V){return H instanceof V||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===V.name}function ze(H){return H!==H}const Ue=function(){const H="0123456789abcdef",V=new Array(256);for(let G=0;G<16;++G){const oe=G*16;for(let Fe=0;Fe<16;++Fe)V[oe+Fe]=H[G]+H[Fe]}return V}();function Ye(H){return typeof BigInt>"u"?fe:H}function fe(){throw new Error("BigInt not supported")}})(t);const y=t.Buffer;a.Blob=t.Blob,a.BlobOptions=t.BlobOptions,a.Buffer=t.Buffer,a.File=t.File,a.FileOptions=t.FileOptions,a.INSPECT_MAX_BYTES=t.INSPECT_MAX_BYTES,a.SlowBuffer=t.SlowBuffer,a.TranscodeEncoding=t.TranscodeEncoding,a.atob=t.atob,a.btoa=t.btoa,a.constants=t.constants,a.default=y,a.isAscii=t.isAscii,a.isUtf8=t.isUtf8,a.kMaxLength=t.kMaxLength,a.kStringMaxLength=t.kStringMaxLength,a.resolveObjectURL=t.resolveObjectURL,a.transcode=t.transcode}(AR)),AR}var ER,xq;function lr(){if(xq)return ER;xq=1;class a extends Error{constructor(o){if(!Array.isArray(o))throw new TypeError(`Expected input to be an Array, got ${typeof o}`);let n="";for(let r=0;r<o.length;r++)n+=`    ${o[r].stack}
`;super(n),this.name="AggregateError",this.errors=o}}return ER={AggregateError:a,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,o){return t.includes(o)},ArrayPrototypeIndexOf(t,o){return t.indexOf(o)},ArrayPrototypeJoin(t,o){return t.join(o)},ArrayPrototypeMap(t,o){return t.map(o)},ArrayPrototypePop(t,o){return t.pop(o)},ArrayPrototypePush(t,o){return t.push(o)},ArrayPrototypeSlice(t,o,n){return t.slice(o,n)},Error,FunctionPrototypeCall(t,o,...n){return t.call(o,...n)},FunctionPrototypeSymbolHasInstance(t,o){return Function.prototype[Symbol.hasInstance].call(t,o)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,o){return Object.defineProperties(t,o)},ObjectDefineProperty(t,o,n){return Object.defineProperty(t,o,n)},ObjectGetOwnPropertyDescriptor(t,o){return Object.getOwnPropertyDescriptor(t,o)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,o){return Object.setPrototypeOf(t,o)},Promise,PromisePrototypeCatch(t,o){return t.catch(o)},PromisePrototypeThen(t,o,n){return t.then(o,n)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,o){return t.test(o)},SafeSet:Set,String,StringPrototypeSlice(t,o,n){return t.slice(o,n)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,o,n){return t.set(o,n)},Boolean,Uint8Array},ER}var xR={exports:{}},IR,Iq;function Rq(){return Iq||(Iq=1,IR={format(a,...t){return a.replace(/%([sdifj])/g,function(...[o,n]){const r=t.shift();return n==="f"?r.toFixed(6):n==="j"?JSON.stringify(r):n==="s"&&typeof r=="object"?`${r.constructor!==Object?r.constructor.name:""} {}`.trim():r.toString()})},inspect(a){switch(typeof a){case"string":if(a.includes("'"))if(a.includes('"')){if(!a.includes("`")&&!a.includes("${"))return`\`${a}\``}else return`"${a}"`;return`'${a}'`;case"number":return isNaN(a)?"NaN":Object.is(a,-0)?String(a):a;case"bigint":return`${String(a)}n`;case"boolean":case"undefined":return String(a);case"object":return"{}"}}}),IR}var RR,Fq;function on(){if(Fq)return RR;Fq=1;const{format:a,inspect:t}=Rq(),{AggregateError:o}=lr(),n=globalThis.AggregateError||o,r=Symbol("kIsNodeError"),e=["string","function","number","object","Function","Object","boolean","bigint","symbol"],i=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",c={};function u(g,y){if(!g)throw new c.ERR_INTERNAL_ASSERTION(y)}function l(g){let y="",m=g.length;const b=g[0]==="-"?1:0;for(;m>=b+4;m-=3)y=`_${g.slice(m-3,m)}${y}`;return`${g.slice(0,m)}${y}`}function f(g,y,m){if(typeof y=="function")return u(y.length<=m.length,`Code: ${g}; The provided arguments length (${m.length}) does not match the required ones (${y.length}).`),y(...m);const b=(y.match(/%[dfijoOs]/g)||[]).length;return u(b===m.length,`Code: ${g}; The provided arguments length (${m.length}) does not match the required ones (${b}).`),m.length===0?y:a(y,...m)}function d(g,y,m){m||(m=Error);class b extends m{constructor(...w){super(f(g,y,w))}toString(){return`${this.name} [${g}]: ${this.message}`}}Object.defineProperties(b.prototype,{name:{value:m.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${g}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),b.prototype.code=g,b.prototype[r]=!0,c[g]=b}function h(g){const y=s+g.name;return Object.defineProperty(g,"name",{value:y}),g}function p(g,y){if(g&&y&&g!==y){if(Array.isArray(y.errors))return y.errors.push(g),y;const m=new n([y,g],y.message);return m.code=y.code,m}return g||y}class _ extends Error{constructor(y="The operation was aborted",m=void 0){if(m!==void 0&&typeof m!="object")throw new c.ERR_INVALID_ARG_TYPE("options","Object",m);super(y,m),this.code="ABORT_ERR",this.name="AbortError"}}return d("ERR_ASSERTION","%s",Error),d("ERR_INVALID_ARG_TYPE",(g,y,m)=>{u(typeof g=="string","'name' must be a string"),Array.isArray(y)||(y=[y]);let b="The ";g.endsWith(" argument")?b+=`${g} `:b+=`"${g}" ${g.includes(".")?"property":"argument"} `,b+="must be ";const T=[],w=[],O=[];for(const Q of y)u(typeof Q=="string","All expected entries have to be of type string"),e.includes(Q)?T.push(Q.toLowerCase()):i.test(Q)?w.push(Q):(u(Q!=="object",'The value "object" should be written as "Object"'),O.push(Q));if(w.length>0){const Q=T.indexOf("object");Q!==-1&&(T.splice(T,Q,1),w.push("Object"))}if(T.length>0){switch(T.length){case 1:b+=`of type ${T[0]}`;break;case 2:b+=`one of type ${T[0]} or ${T[1]}`;break;default:{const Q=T.pop();b+=`one of type ${T.join(", ")}, or ${Q}`}}(w.length>0||O.length>0)&&(b+=" or ")}if(w.length>0){switch(w.length){case 1:b+=`an instance of ${w[0]}`;break;case 2:b+=`an instance of ${w[0]} or ${w[1]}`;break;default:{const Q=w.pop();b+=`an instance of ${w.join(", ")}, or ${Q}`}}O.length>0&&(b+=" or ")}switch(O.length){case 0:break;case 1:O[0].toLowerCase()!==O[0]&&(b+="an "),b+=`${O[0]}`;break;case 2:b+=`one of ${O[0]} or ${O[1]}`;break;default:{const Q=O.pop();b+=`one of ${O.join(", ")}, or ${Q}`}}if(m==null)b+=`. Received ${m}`;else if(typeof m=="function"&&m.name)b+=`. Received function ${m.name}`;else if(typeof m=="object"){var F;if((F=m.constructor)!==null&&F!==void 0&&F.name)b+=`. Received an instance of ${m.constructor.name}`;else{const Q=t(m,{depth:-1});b+=`. Received ${Q}`}}else{let Q=t(m,{colors:!1});Q.length>25&&(Q=`${Q.slice(0,25)}...`),b+=`. Received type ${typeof m} (${Q})`}return b},TypeError),d("ERR_INVALID_ARG_VALUE",(g,y,m="is invalid")=>{let b=t(y);return b.length>128&&(b=b.slice(0,128)+"..."),`The ${g.includes(".")?"property":"argument"} '${g}' ${m}. Received ${b}`},TypeError),d("ERR_INVALID_RETURN_VALUE",(g,y,m)=>{var b;const T=m!=null&&(b=m.constructor)!==null&&b!==void 0&&b.name?`instance of ${m.constructor.name}`:`type ${typeof m}`;return`Expected ${g} to be returned from the "${y}" function but got ${T}.`},TypeError),d("ERR_MISSING_ARGS",(...g)=>{u(g.length>0,"At least one arg needs to be specified");let y;const m=g.length;switch(g=(Array.isArray(g)?g:[g]).map(b=>`"${b}"`).join(" or "),m){case 1:y+=`The ${g[0]} argument`;break;case 2:y+=`The ${g[0]} and ${g[1]} arguments`;break;default:{const b=g.pop();y+=`The ${g.join(", ")}, and ${b} arguments`}break}return`${y} must be specified`},TypeError),d("ERR_OUT_OF_RANGE",(g,y,m)=>{u(y,'Missing "range" argument');let b;if(Number.isInteger(m)&&Math.abs(m)>2**32)b=l(String(m));else if(typeof m=="bigint"){b=String(m);const T=BigInt(2)**BigInt(32);(m>T||m<-T)&&(b=l(b)),b+="n"}else b=t(m);return`The value of "${g}" is out of range. It must be ${y}. Received ${b}`},RangeError),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),d("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),d("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),d("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),d("ERR_STREAM_WRITE_AFTER_END","write after end",Error),d("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),RR={AbortError:_,aggregateTwoErrors:h(p),hideStackFrames:h,codes:c},RR}var M1={exports:{}},Nq;function q1(){if(Nq)return M1.exports;Nq=1;const{AbortController:a,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return M1.exports=a,M1.exports.AbortSignal=t,M1.exports.default=a,M1.exports}var Dq;function dn(){return Dq||(Dq=1,function(a){const t=Pi(),{format:o,inspect:n}=Rq(),{codes:{ERR_INVALID_ARG_TYPE:r}}=on(),{kResistStopPropagation:e,AggregateError:i,SymbolDispose:s}=lr(),c=globalThis.AbortSignal||q1().AbortSignal,u=globalThis.AbortController||q1().AbortController,l=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||t.Blob,d=typeof f<"u"?function(g){return g instanceof f}:function(g){return!1},h=(_,g)=>{if(_!==void 0&&(_===null||typeof _!="object"||!("aborted"in _)))throw new r(g,"AbortSignal",_)},p=(_,g)=>{if(typeof _!="function")throw new r(g,"Function",_)};a.exports={AggregateError:i,kEmptyObject:Object.freeze({}),once(_){let g=!1;return function(...y){g||(g=!0,_.apply(this,y))}},createDeferredPromise:function(){let _,g;return{promise:new Promise((m,b)=>{_=m,g=b}),resolve:_,reject:g}},promisify(_){return new Promise((g,y)=>{_((m,...b)=>m?y(m):g(...b))})},debuglog(){return function(){}},format:o,inspect:n,types:{isAsyncFunction(_){return _ instanceof l},isArrayBufferView(_){return ArrayBuffer.isView(_)}},isBlob:d,deprecate(_,g){return _},addAbortListener:by().addAbortListener||function(g,y){if(g===void 0)throw new r("signal","AbortSignal",g);h(g,"signal"),p(y,"listener");let m;return g.aborted?queueMicrotask(()=>y()):(g.addEventListener("abort",y,{__proto__:null,once:!0,[e]:!0}),m=()=>{g.removeEventListener("abort",y)}),{__proto__:null,[s](){var b;(b=m)===null||b===void 0||b()}}},AbortSignalAny:c.any||function(g){if(g.length===1)return g[0];const y=new u,m=()=>y.abort();return g.forEach(b=>{h(b,"signals"),b.addEventListener("abort",m,{once:!0})}),y.signal.addEventListener("abort",()=>{g.forEach(b=>b.removeEventListener("abort",m))},{once:!0}),y.signal}},a.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(xR)),xR.exports}var fA={},FR,Pq;function C1(){if(Pq)return FR;Pq=1;const{ArrayIsArray:a,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:o,ArrayPrototypeMap:n,NumberIsInteger:r,NumberIsNaN:e,NumberMAX_SAFE_INTEGER:i,NumberMIN_SAFE_INTEGER:s,NumberParseInt:c,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:l,String:f,StringPrototypeToUpperCase:d,StringPrototypeTrim:h}=lr(),{hideStackFrames:p,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:g,ERR_INVALID_ARG_VALUE:y,ERR_OUT_OF_RANGE:m,ERR_UNKNOWN_SIGNAL:b}}=on(),{normalizeEncoding:T}=dn(),{isAsyncFunction:w,isArrayBufferView:O}=dn().types,F={};function Q(te){return te===(te|0)}function j(te){return te===te>>>0}const x=/^[0-7]+$/,I="must be a 32-bit unsigned integer or an octal string";function D(te,le,Oe){if(typeof te>"u"&&(te=Oe),typeof te=="string"){if(l(x,te)===null)throw new y(le,te,I);te=c(te,8)}return z(te,le),te}const C=p((te,le,Oe=s,Se=i)=>{if(typeof te!="number")throw new g(le,"number",te);if(!r(te))throw new m(le,"an integer",te);if(te<Oe||te>Se)throw new m(le,`>= ${Oe} && <= ${Se}`,te)}),X=p((te,le,Oe=-2147483648,Se=2147483647)=>{if(typeof te!="number")throw new g(le,"number",te);if(!r(te))throw new m(le,"an integer",te);if(te<Oe||te>Se)throw new m(le,`>= ${Oe} && <= ${Se}`,te)}),z=p((te,le,Oe=!1)=>{if(typeof te!="number")throw new g(le,"number",te);if(!r(te))throw new m(le,"an integer",te);const Se=Oe?1:0,Ve=4294967295;if(te<Se||te>Ve)throw new m(le,`>= ${Se} && <= ${Ve}`,te)});function J(te,le){if(typeof te!="string")throw new g(le,"string",te)}function ie(te,le,Oe=void 0,Se){if(typeof te!="number")throw new g(le,"number",te);if(Oe!=null&&te<Oe||Se!=null&&te>Se||(Oe!=null||Se!=null)&&e(te))throw new m(le,`${Oe!=null?`>= ${Oe}`:""}${Oe!=null&&Se!=null?" && ":""}${Se!=null?`<= ${Se}`:""}`,te)}const se=p((te,le,Oe)=>{if(!t(Oe,te)){const Ve="must be one of: "+o(n(Oe,ke=>typeof ke=="string"?`'${ke}'`:f(ke)),", ");throw new y(le,te,Ve)}});function ye(te,le){if(typeof te!="boolean")throw new g(le,"boolean",te)}function K(te,le,Oe){return te==null||!u(te,le)?Oe:te[le]}const Te=p((te,le,Oe=null)=>{const Se=K(Oe,"allowArray",!1),Ve=K(Oe,"allowFunction",!1);if(!K(Oe,"nullable",!1)&&te===null||!Se&&a(te)||typeof te!="object"&&(!Ve||typeof te!="function"))throw new g(le,"Object",te)}),Ne=p((te,le)=>{if(te!=null&&typeof te!="object"&&typeof te!="function")throw new g(le,"a dictionary",te)}),_e=p((te,le,Oe=0)=>{if(!a(te))throw new g(le,"Array",te);if(te.length<Oe){const Se=`must be longer than ${Oe}`;throw new y(le,te,Se)}});function $(te,le){_e(te,le);for(let Oe=0;Oe<te.length;Oe++)J(te[Oe],`${le}[${Oe}]`)}function He(te,le){_e(te,le);for(let Oe=0;Oe<te.length;Oe++)ye(te[Oe],`${le}[${Oe}]`)}function qe(te,le){_e(te,le);for(let Oe=0;Oe<te.length;Oe++){const Se=te[Oe],Ve=`${le}[${Oe}]`;if(Se==null)throw new g(Ve,"AbortSignal",Se);M(Se,Ve)}}function Ce(te,le="signal"){if(J(te,le),F[te]===void 0)throw F[d(te)]!==void 0?new b(te+" (signals must use all capital letters)"):new b(te)}const xe=p((te,le="buffer")=>{if(!O(te))throw new g(le,["Buffer","TypedArray","DataView"],te)});function we(te,le){const Oe=T(le),Se=te.length;if(Oe==="hex"&&Se%2!==0)throw new y("encoding",le,`is invalid for data of length ${Se}`)}function ee(te,le="Port",Oe=!0){if(typeof te!="number"&&typeof te!="string"||typeof te=="string"&&h(te).length===0||+te!==+te>>>0||te>65535||te===0&&!Oe)throw new _(le,te,Oe);return te|0}const M=p((te,le)=>{if(te!==void 0&&(te===null||typeof te!="object"||!("aborted"in te)))throw new g(le,"AbortSignal",te)}),B=p((te,le)=>{if(typeof te!="function")throw new g(le,"Function",te)}),R=p((te,le)=>{if(typeof te!="function"||w(te))throw new g(le,"Function",te)}),q=p((te,le)=>{if(te!==void 0)throw new g(le,"undefined",te)});function W(te,le,Oe){if(!t(Oe,te))throw new g(le,`('${o(Oe,"|")}')`,te)}const re=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Y(te,le){if(typeof te>"u"||!l(re,te))throw new y(le,te,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ue(te){if(typeof te=="string")return Y(te,"hints"),te;if(a(te)){const le=te.length;let Oe="";if(le===0)return Oe;for(let Se=0;Se<le;Se++){const Ve=te[Se];Y(Ve,"hints"),Oe+=Ve,Se!==le-1&&(Oe+=", ")}return Oe}throw new y("hints",te,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return FR={isInt32:Q,isUint32:j,parseFileMode:D,validateArray:_e,validateStringArray:$,validateBooleanArray:He,validateAbortSignalArray:qe,validateBoolean:ye,validateBuffer:xe,validateDictionary:Ne,validateEncoding:we,validateFunction:B,validateInt32:X,validateInteger:C,validateNumber:ie,validateObject:Te,validateOneOf:se,validatePlainFunction:R,validatePort:ee,validateSignalName:Ce,validateString:J,validateUint32:z,validateUndefined:q,validateUnion:W,validateAbortSignal:M,validateLinkHeaderValue:ue},FR}var hA={exports:{}},NR,Lq;function Li(){if(Lq)return NR;Lq=1;const{SymbolAsyncIterator:a,SymbolIterator:t,SymbolFor:o}=lr(),n=o("nodejs.stream.destroyed"),r=o("nodejs.stream.errored"),e=o("nodejs.stream.readable"),i=o("nodejs.stream.writable"),s=o("nodejs.stream.disturbed"),c=o("nodejs.webstream.isClosedPromise"),u=o("nodejs.webstream.controllerErrorFunction");function l(K,Te=!1){var Ne;return!!(K&&typeof K.pipe=="function"&&typeof K.on=="function"&&(!Te||typeof K.pause=="function"&&typeof K.resume=="function")&&(!K._writableState||((Ne=K._readableState)===null||Ne===void 0?void 0:Ne.readable)!==!1)&&(!K._writableState||K._readableState))}function f(K){var Te;return!!(K&&typeof K.write=="function"&&typeof K.on=="function"&&(!K._readableState||((Te=K._writableState)===null||Te===void 0?void 0:Te.writable)!==!1))}function d(K){return!!(K&&typeof K.pipe=="function"&&K._readableState&&typeof K.on=="function"&&typeof K.write=="function")}function h(K){return K&&(K._readableState||K._writableState||typeof K.write=="function"&&typeof K.on=="function"||typeof K.pipe=="function"&&typeof K.on=="function")}function p(K){return!!(K&&!h(K)&&typeof K.pipeThrough=="function"&&typeof K.getReader=="function"&&typeof K.cancel=="function")}function _(K){return!!(K&&!h(K)&&typeof K.getWriter=="function"&&typeof K.abort=="function")}function g(K){return!!(K&&!h(K)&&typeof K.readable=="object"&&typeof K.writable=="object")}function y(K){return p(K)||_(K)||g(K)}function m(K,Te){return K==null?!1:Te===!0?typeof K[a]=="function":Te===!1?typeof K[t]=="function":typeof K[a]=="function"||typeof K[t]=="function"}function b(K){if(!h(K))return null;const Te=K._writableState,Ne=K._readableState,_e=Te||Ne;return!!(K.destroyed||K[n]||_e!=null&&_e.destroyed)}function T(K){if(!f(K))return null;if(K.writableEnded===!0)return!0;const Te=K._writableState;return Te!=null&&Te.errored?!1:typeof(Te==null?void 0:Te.ended)!="boolean"?null:Te.ended}function w(K,Te){if(!f(K))return null;if(K.writableFinished===!0)return!0;const Ne=K._writableState;return Ne!=null&&Ne.errored?!1:typeof(Ne==null?void 0:Ne.finished)!="boolean"?null:!!(Ne.finished||Te===!1&&Ne.ended===!0&&Ne.length===0)}function O(K){if(!l(K))return null;if(K.readableEnded===!0)return!0;const Te=K._readableState;return!Te||Te.errored?!1:typeof(Te==null?void 0:Te.ended)!="boolean"?null:Te.ended}function F(K,Te){if(!l(K))return null;const Ne=K._readableState;return Ne!=null&&Ne.errored?!1:typeof(Ne==null?void 0:Ne.endEmitted)!="boolean"?null:!!(Ne.endEmitted||Te===!1&&Ne.ended===!0&&Ne.length===0)}function Q(K){return K&&K[e]!=null?K[e]:typeof(K==null?void 0:K.readable)!="boolean"?null:b(K)?!1:l(K)&&K.readable&&!F(K)}function j(K){return K&&K[i]!=null?K[i]:typeof(K==null?void 0:K.writable)!="boolean"?null:b(K)?!1:f(K)&&K.writable&&!T(K)}function x(K,Te){return h(K)?b(K)?!0:!((Te==null?void 0:Te.readable)!==!1&&Q(K)||(Te==null?void 0:Te.writable)!==!1&&j(K)):null}function I(K){var Te,Ne;return h(K)?K.writableErrored?K.writableErrored:(Te=(Ne=K._writableState)===null||Ne===void 0?void 0:Ne.errored)!==null&&Te!==void 0?Te:null:null}function D(K){var Te,Ne;return h(K)?K.readableErrored?K.readableErrored:(Te=(Ne=K._readableState)===null||Ne===void 0?void 0:Ne.errored)!==null&&Te!==void 0?Te:null:null}function C(K){if(!h(K))return null;if(typeof K.closed=="boolean")return K.closed;const Te=K._writableState,Ne=K._readableState;return typeof(Te==null?void 0:Te.closed)=="boolean"||typeof(Ne==null?void 0:Ne.closed)=="boolean"?(Te==null?void 0:Te.closed)||(Ne==null?void 0:Ne.closed):typeof K._closed=="boolean"&&X(K)?K._closed:null}function X(K){return typeof K._closed=="boolean"&&typeof K._defaultKeepAlive=="boolean"&&typeof K._removedConnection=="boolean"&&typeof K._removedContLen=="boolean"}function z(K){return typeof K._sent100=="boolean"&&X(K)}function J(K){var Te;return typeof K._consuming=="boolean"&&typeof K._dumped=="boolean"&&((Te=K.req)===null||Te===void 0?void 0:Te.upgradeOrConnect)===void 0}function ie(K){if(!h(K))return null;const Te=K._writableState,Ne=K._readableState,_e=Te||Ne;return!_e&&z(K)||!!(_e&&_e.autoDestroy&&_e.emitClose&&_e.closed===!1)}function se(K){var Te;return!!(K&&((Te=K[s])!==null&&Te!==void 0?Te:K.readableDidRead||K.readableAborted))}function ye(K){var Te,Ne,_e,$,He,qe,Ce,xe,we,ee;return!!(K&&((Te=(Ne=(_e=($=(He=(qe=K[r])!==null&&qe!==void 0?qe:K.readableErrored)!==null&&He!==void 0?He:K.writableErrored)!==null&&$!==void 0?$:(Ce=K._readableState)===null||Ce===void 0?void 0:Ce.errorEmitted)!==null&&_e!==void 0?_e:(xe=K._writableState)===null||xe===void 0?void 0:xe.errorEmitted)!==null&&Ne!==void 0?Ne:(we=K._readableState)===null||we===void 0?void 0:we.errored)!==null&&Te!==void 0?Te:!((ee=K._writableState)===null||ee===void 0)&&ee.errored))}return NR={isDestroyed:b,kIsDestroyed:n,isDisturbed:se,kIsDisturbed:s,isErrored:ye,kIsErrored:r,isReadable:Q,kIsReadable:e,kIsClosedPromise:c,kControllerErrorFunction:u,kIsWritable:i,isClosed:C,isDuplexNodeStream:d,isFinished:x,isIterable:m,isReadableNodeStream:l,isReadableStream:p,isReadableEnded:O,isReadableFinished:F,isReadableErrored:D,isNodeStream:h,isWebStream:y,isWritable:j,isWritableNodeStream:f,isWritableStream:_,isWritableEnded:T,isWritableFinished:w,isWritableErrored:I,isServerRequest:J,isServerResponse:z,willEmitClose:ie,isTransformStream:g},NR}var jq;function ha(){if(jq)return hA.exports;jq=1;const a=da(),{AbortError:t,codes:o}=on(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:r}=o,{kEmptyObject:e,once:i}=dn(),{validateAbortSignal:s,validateFunction:c,validateObject:u,validateBoolean:l}=C1(),{Promise:f,PromisePrototypeThen:d,SymbolDispose:h}=lr(),{isClosed:p,isReadable:_,isReadableNodeStream:g,isReadableStream:y,isReadableFinished:m,isReadableErrored:b,isWritable:T,isWritableNodeStream:w,isWritableStream:O,isWritableFinished:F,isWritableErrored:Q,isNodeStream:j,willEmitClose:x,kIsClosedPromise:I}=Li();let D;function C(se){return se.setHeader&&typeof se.abort=="function"}const X=()=>{};function z(se,ye,K){var Te,Ne;if(arguments.length===2?(K=ye,ye=e):ye==null?ye=e:u(ye,"options"),c(K,"callback"),s(ye.signal,"options.signal"),K=i(K),y(se)||O(se))return J(se,ye,K);if(!j(se))throw new n("stream",["ReadableStream","WritableStream","Stream"],se);const _e=(Te=ye.readable)!==null&&Te!==void 0?Te:g(se),$=(Ne=ye.writable)!==null&&Ne!==void 0?Ne:w(se),He=se._writableState,qe=se._readableState,Ce=()=>{se.writable||ee()};let xe=x(se)&&g(se)===_e&&w(se)===$,we=F(se,!1);const ee=()=>{we=!0,se.destroyed&&(xe=!1),!(xe&&(!se.readable||_e))&&(!_e||M)&&K.call(se)};let M=m(se,!1);const B=()=>{M=!0,se.destroyed&&(xe=!1),!(xe&&(!se.writable||$))&&(!$||we)&&K.call(se)},R=te=>{K.call(se,te)};let q=p(se);const W=()=>{q=!0;const te=Q(se)||b(se);if(te&&typeof te!="boolean")return K.call(se,te);if(_e&&!M&&g(se,!0)&&!m(se,!1))return K.call(se,new r);if($&&!we&&!F(se,!1))return K.call(se,new r);K.call(se)},re=()=>{q=!0;const te=Q(se)||b(se);if(te&&typeof te!="boolean")return K.call(se,te);K.call(se)},Y=()=>{se.req.on("finish",ee)};C(se)?(se.on("complete",ee),xe||se.on("abort",W),se.req?Y():se.on("request",Y)):$&&!He&&(se.on("end",Ce),se.on("close",Ce)),!xe&&typeof se.aborted=="boolean"&&se.on("aborted",W),se.on("end",B),se.on("finish",ee),ye.error!==!1&&se.on("error",R),se.on("close",W),q?a.nextTick(W):He!=null&&He.errorEmitted||qe!=null&&qe.errorEmitted?xe||a.nextTick(re):(!_e&&(!xe||_(se))&&(we||T(se)===!1)||!$&&(!xe||T(se))&&(M||_(se)===!1)||qe&&se.req&&se.aborted)&&a.nextTick(re);const ue=()=>{K=X,se.removeListener("aborted",W),se.removeListener("complete",ee),se.removeListener("abort",W),se.removeListener("request",Y),se.req&&se.req.removeListener("finish",ee),se.removeListener("end",Ce),se.removeListener("close",Ce),se.removeListener("finish",ee),se.removeListener("end",B),se.removeListener("error",R),se.removeListener("close",W)};if(ye.signal&&!q){const te=()=>{const le=K;ue(),le.call(se,new t(void 0,{cause:ye.signal.reason}))};if(ye.signal.aborted)a.nextTick(te);else{D=D||dn().addAbortListener;const le=D(ye.signal,te),Oe=K;K=i((...Se)=>{le[h](),Oe.apply(se,Se)})}}return ue}function J(se,ye,K){let Te=!1,Ne=X;if(ye.signal)if(Ne=()=>{Te=!0,K.call(se,new t(void 0,{cause:ye.signal.reason}))},ye.signal.aborted)a.nextTick(Ne);else{D=D||dn().addAbortListener;const $=D(ye.signal,Ne),He=K;K=i((...qe)=>{$[h](),He.apply(se,qe)})}const _e=(...$)=>{Te||a.nextTick(()=>K.apply(se,$))};return d(se[I].promise,_e,_e),X}function ie(se,ye){var K;let Te=!1;return ye===null&&(ye=e),(K=ye)!==null&&K!==void 0&&K.cleanup&&(l(ye.cleanup,"cleanup"),Te=ye.cleanup),new f((Ne,_e)=>{const $=z(se,ye,He=>{Te&&$(),He?_e(He):Ne()})})}return hA.exports=z,hA.exports.finished=ie,hA.exports}var DR,Mq;function Rh(){if(Mq)return DR;Mq=1;const a=da(),{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:n}=on(),{Symbol:r}=lr(),{kIsDestroyed:e,isDestroyed:i,isFinished:s,isServerRequest:c}=Li(),u=r("kDestroy"),l=r("kConstruct");function f(x,I,D){x&&(x.stack,I&&!I.errored&&(I.errored=x),D&&!D.errored&&(D.errored=x))}function d(x,I){const D=this._readableState,C=this._writableState,X=C||D;return C!=null&&C.destroyed||D!=null&&D.destroyed?(typeof I=="function"&&I(),this):(f(x,C,D),C&&(C.destroyed=!0),D&&(D.destroyed=!0),X.constructed?h(this,x,I):this.once(u,function(z){h(this,t(z,x),I)}),this)}function h(x,I,D){let C=!1;function X(z){if(C)return;C=!0;const J=x._readableState,ie=x._writableState;f(z,ie,J),ie&&(ie.closed=!0),J&&(J.closed=!0),typeof D=="function"&&D(z),z?a.nextTick(p,x,z):a.nextTick(_,x)}try{x._destroy(I||null,X)}catch(z){X(z)}}function p(x,I){g(x,I),_(x)}function _(x){const I=x._readableState,D=x._writableState;D&&(D.closeEmitted=!0),I&&(I.closeEmitted=!0),(D!=null&&D.emitClose||I!=null&&I.emitClose)&&x.emit("close")}function g(x,I){const D=x._readableState,C=x._writableState;C!=null&&C.errorEmitted||D!=null&&D.errorEmitted||(C&&(C.errorEmitted=!0),D&&(D.errorEmitted=!0),x.emit("error",I))}function y(){const x=this._readableState,I=this._writableState;x&&(x.constructed=!0,x.closed=!1,x.closeEmitted=!1,x.destroyed=!1,x.errored=null,x.errorEmitted=!1,x.reading=!1,x.ended=x.readable===!1,x.endEmitted=x.readable===!1),I&&(I.constructed=!0,I.destroyed=!1,I.closed=!1,I.closeEmitted=!1,I.errored=null,I.errorEmitted=!1,I.finalCalled=!1,I.prefinished=!1,I.ended=I.writable===!1,I.ending=I.writable===!1,I.finished=I.writable===!1)}function m(x,I,D){const C=x._readableState,X=x._writableState;if(X!=null&&X.destroyed||C!=null&&C.destroyed)return this;C!=null&&C.autoDestroy||X!=null&&X.autoDestroy?x.destroy(I):I&&(I.stack,X&&!X.errored&&(X.errored=I),C&&!C.errored&&(C.errored=I),D?a.nextTick(g,x,I):g(x,I))}function b(x,I){if(typeof x._construct!="function")return;const D=x._readableState,C=x._writableState;D&&(D.constructed=!1),C&&(C.constructed=!1),x.once(l,I),!(x.listenerCount(l)>1)&&a.nextTick(T,x)}function T(x){let I=!1;function D(C){if(I){m(x,C??new o);return}I=!0;const X=x._readableState,z=x._writableState,J=z||X;X&&(X.constructed=!0),z&&(z.constructed=!0),J.destroyed?x.emit(u,C):C?m(x,C,!0):a.nextTick(w,x)}try{x._construct(C=>{a.nextTick(D,C)})}catch(C){a.nextTick(D,C)}}function w(x){x.emit(l)}function O(x){return(x==null?void 0:x.setHeader)&&typeof x.abort=="function"}function F(x){x.emit("close")}function Q(x,I){x.emit("error",I),a.nextTick(F,x)}function j(x,I){!x||i(x)||(!I&&!s(x)&&(I=new n),c(x)?(x.socket=null,x.destroy(I)):O(x)?x.abort():O(x.req)?x.req.abort():typeof x.destroy=="function"?x.destroy(I):typeof x.close=="function"?x.close():I?a.nextTick(Q,x,I):a.nextTick(F,x),x.destroyed||(x[e]=!0))}return DR={construct:b,destroyer:j,destroy:d,undestroy:y,errorOrDestroy:m},DR}var PR,qq;function LR(){if(qq)return PR;qq=1;const{ArrayIsArray:a,ObjectSetPrototypeOf:t}=lr(),{EventEmitter:o}=by();function n(e){o.call(this,e)}t(n.prototype,o.prototype),t(n,o),n.prototype.pipe=function(e,i){const s=this;function c(_){e.writable&&e.write(_)===!1&&s.pause&&s.pause()}s.on("data",c);function u(){s.readable&&s.resume&&s.resume()}e.on("drain",u),!e._isStdio&&(!i||i.end!==!1)&&(s.on("end",f),s.on("close",d));let l=!1;function f(){l||(l=!0,e.end())}function d(){l||(l=!0,typeof e.destroy=="function"&&e.destroy())}function h(_){p(),o.listenerCount(this,"error")===0&&this.emit("error",_)}r(s,"error",h),r(e,"error",h);function p(){s.removeListener("data",c),e.removeListener("drain",u),s.removeListener("end",f),s.removeListener("close",d),s.removeListener("error",h),e.removeListener("error",h),s.removeListener("end",p),s.removeListener("close",p),e.removeListener("close",p)}return s.on("end",p),s.on("close",p),e.on("close",p),e.emit("pipe",s),e};function r(e,i,s){if(typeof e.prependListener=="function")return e.prependListener(i,s);!e._events||!e._events[i]?e.on(i,s):a(e._events[i])?e._events[i].unshift(s):e._events[i]=[s,e._events[i]]}return PR={Stream:n,prependListener:r},PR}var jR={exports:{}},Cq;function pA(){return Cq||(Cq=1,function(a){const{SymbolDispose:t}=lr(),{AbortError:o,codes:n}=on(),{isNodeStream:r,isWebStream:e,kControllerErrorFunction:i}=Li(),s=ha(),{ERR_INVALID_ARG_TYPE:c}=n;let u;const l=(f,d)=>{if(typeof f!="object"||!("aborted"in f))throw new c(d,"AbortSignal",f)};a.exports.addAbortSignal=function(d,h){if(l(d,"signal"),!r(h)&&!e(h))throw new c("stream",["ReadableStream","WritableStream","Stream"],h);return a.exports.addAbortSignalNoValidate(d,h)},a.exports.addAbortSignalNoValidate=function(f,d){if(typeof f!="object"||!("aborted"in f))return d;const h=r(d)?()=>{d.destroy(new o(void 0,{cause:f.reason}))}:()=>{d[i](new o(void 0,{cause:f.reason}))};if(f.aborted)h();else{u=u||dn().addAbortListener;const p=u(f,h);s(d,p[t])}return d}}(jR)),jR.exports}var MR,Bq;function Ale(){if(Bq)return MR;Bq=1;const{StringPrototypeSlice:a,SymbolIterator:t,TypedArrayPrototypeSet:o,Uint8Array:n}=lr(),{Buffer:r}=Pi(),{inspect:e}=dn();return MR=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const c={data:s,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}unshift(s){const c={data:s,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let c=this.head,u=""+c.data;for(;(c=c.next)!==null;)u+=s+c.data;return u}concat(s){if(this.length===0)return r.alloc(0);const c=r.allocUnsafe(s>>>0);let u=this.head,l=0;for(;u;)o(c,u.data,l),l+=u.data.length,u=u.next;return c}consume(s,c){const u=this.head.data;if(s<u.length){const l=u.slice(0,s);return this.head.data=u.slice(s),l}return s===u.length?this.shift():c?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[t](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let c="",u=this.head,l=0;do{const f=u.data;if(s>f.length)c+=f,s-=f.length;else{s===f.length?(c+=f,++l,u.next?this.head=u.next:this.head=this.tail=null):(c+=a(f,0,s),this.head=u,u.data=a(f,s));break}++l}while((u=u.next)!==null);return this.length-=l,c}_getBuffer(s){const c=r.allocUnsafe(s),u=s;let l=this.head,f=0;do{const d=l.data;if(s>d.length)o(c,d,u-s),s-=d.length;else{s===d.length?(o(c,d,u-s),++f,l.next?this.head=l.next:this.head=this.tail=null):(o(c,new n(d.buffer,d.byteOffset,s),u-s),this.head=l,l.data=d.slice(s));break}++f}while((l=l.next)!==null);return this.length-=f,c}[Symbol.for("nodejs.util.inspect.custom")](s,c){return e(this,{...c,depth:0,customInspect:!1})}},MR}var qR,$q;function yA(){if($q)return qR;$q=1;const{MathFloor:a,NumberIsInteger:t}=lr(),{validateInteger:o}=C1(),{ERR_INVALID_ARG_VALUE:n}=on().codes;let r=16*1024,e=16;function i(l,f,d){return l.highWaterMark!=null?l.highWaterMark:f?l[d]:null}function s(l){return l?e:r}function c(l,f){o(f,"value",0),l?e=f:r=f}function u(l,f,d,h){const p=i(f,h,d);if(p!=null){if(!t(p)||p<0){const _=h?`options.${d}`:"options.highWaterMark";throw new n(_,p)}return a(p)}return s(l.objectMode)}return qR={getHighWaterMark:u,getDefaultHighWaterMark:s,setDefaultHighWaterMark:c},qR}var CR={},bA={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Uq;function Ele(){return Uq||(Uq=1,function(a,t){var o=Pi(),n=o.Buffer;function r(i,s){for(var c in i)s[c]=i[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?a.exports=o:(r(o,t),t.Buffer=e);function e(i,s,c){return n(i,s,c)}e.prototype=Object.create(n.prototype),r(n,e),e.from=function(i,s,c){if(typeof i=="number")throw new TypeError("Argument must not be a number");return n(i,s,c)},e.alloc=function(i,s,c){if(typeof i!="number")throw new TypeError("Argument must be a number");var u=n(i);return s!==void 0?typeof c=="string"?u.fill(s,c):u.fill(s):u.fill(0),u},e.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return n(i)},e.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(i)}}(bA,bA.exports)),bA.exports}var Vq;function xle(){if(Vq)return CR;Vq=1;var a=Ele().Buffer,t=a.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(y){if(!y)return"utf8";for(var m;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(m)return;y=(""+y).toLowerCase(),m=!0}}function n(y){var m=o(y);if(typeof m!="string"&&(a.isEncoding===t||!t(y)))throw new Error("Unknown encoding: "+y);return m||y}CR.StringDecoder=r;function r(y){this.encoding=n(y);var m;switch(this.encoding){case"utf16le":this.text=f,this.end=d,m=4;break;case"utf8":this.fillLast=c,m=4;break;case"base64":this.text=h,this.end=p,m=3;break;default:this.write=_,this.end=g;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(m)}r.prototype.write=function(y){if(y.length===0)return"";var m,b;if(this.lastNeed){if(m=this.fillLast(y),m===void 0)return"";b=this.lastNeed,this.lastNeed=0}else b=0;return b<y.length?m?m+this.text(y,b):this.text(y,b):m||""},r.prototype.end=l,r.prototype.text=u,r.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function e(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function i(y,m,b){var T=m.length-1;if(T<b)return 0;var w=e(m[T]);return w>=0?(w>0&&(y.lastNeed=w-1),w):--T<b||w===-2?0:(w=e(m[T]),w>=0?(w>0&&(y.lastNeed=w-2),w):--T<b||w===-2?0:(w=e(m[T]),w>=0?(w>0&&(w===2?w=0:y.lastNeed=w-3),w):0))}function s(y,m,b){if((m[0]&192)!==128)return y.lastNeed=0,"";if(y.lastNeed>1&&m.length>1){if((m[1]&192)!==128)return y.lastNeed=1,"";if(y.lastNeed>2&&m.length>2&&(m[2]&192)!==128)return y.lastNeed=2,""}}function c(y){var m=this.lastTotal-this.lastNeed,b=s(this,y);if(b!==void 0)return b;if(this.lastNeed<=y.length)return y.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,m,0,y.length),this.lastNeed-=y.length}function u(y,m){var b=i(this,y,m);if(!this.lastNeed)return y.toString("utf8",m);this.lastTotal=b;var T=y.length-(b-this.lastNeed);return y.copy(this.lastChar,0,T),y.toString("utf8",m,T)}function l(y){var m=y&&y.length?this.write(y):"";return this.lastNeed?m+"":m}function f(y,m){if((y.length-m)%2===0){var b=y.toString("utf16le",m);if(b){var T=b.charCodeAt(b.length-1);if(T>=55296&&T<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],b.slice(0,-1)}return b}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",m,y.length-1)}function d(y){var m=y&&y.length?this.write(y):"";if(this.lastNeed){var b=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,b)}return m}function h(y,m){var b=(y.length-m)%3;return b===0?y.toString("base64",m):(this.lastNeed=3-b,this.lastTotal=3,b===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",m,y.length-b))}function p(y){var m=y&&y.length?this.write(y):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function _(y){return y.toString(this.encoding)}function g(y){return y&&y.length?this.write(y):""}return CR}var BR,Qq;function Hq(){if(Qq)return BR;Qq=1;const a=da(),{PromisePrototypeThen:t,SymbolAsyncIterator:o,SymbolIterator:n}=lr(),{Buffer:r}=Pi(),{ERR_INVALID_ARG_TYPE:e,ERR_STREAM_NULL_VALUES:i}=on().codes;function s(c,u,l){let f;if(typeof u=="string"||u instanceof r)return new c({objectMode:!0,...l,read(){this.push(u),this.push(null)}});let d;if(u&&u[o])d=!0,f=u[o]();else if(u&&u[n])d=!1,f=u[n]();else throw new e("iterable",["Iterable"],u);const h=new c({objectMode:!0,highWaterMark:1,...l});let p=!1;h._read=function(){p||(p=!0,g())},h._destroy=function(y,m){t(_(y),()=>a.nextTick(m,y),b=>a.nextTick(m,b||y))};async function _(y){const m=y!=null,b=typeof f.throw=="function";if(m&&b){const{value:T,done:w}=await f.throw(y);if(await T,w)return}if(typeof f.return=="function"){const{value:T}=await f.return();await T}}async function g(){for(;;){try{const{value:y,done:m}=d?await f.next():f.next();if(m)h.push(null);else{const b=y&&typeof y.then=="function"?await y:y;if(b===null)throw p=!1,new i;if(h.push(b))continue;p=!1}}catch(y){h.destroy(y)}break}}return h}return BR=s,BR}var $R,Gq;function _A(){if(Gq)return $R;Gq=1;const a=da(),{ArrayPrototypeIndexOf:t,NumberIsInteger:o,NumberIsNaN:n,NumberParseInt:r,ObjectDefineProperties:e,ObjectKeys:i,ObjectSetPrototypeOf:s,Promise:c,SafeSet:u,SymbolAsyncDispose:l,SymbolAsyncIterator:f,Symbol:d}=lr();$R=Se,Se.ReadableState=Oe;const{EventEmitter:h}=by(),{Stream:p,prependListener:_}=LR(),{Buffer:g}=Pi(),{addAbortSignal:y}=pA(),m=ha();let b=dn().debuglog("stream",fe=>{b=fe});const T=Ale(),w=Rh(),{getHighWaterMark:O,getDefaultHighWaterMark:F}=yA(),{aggregateTwoErrors:Q,codes:{ERR_INVALID_ARG_TYPE:j,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_OUT_OF_RANGE:I,ERR_STREAM_PUSH_AFTER_EOF:D,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:C},AbortError:X}=on(),{validateObject:z}=C1(),J=d("kPaused"),{StringDecoder:ie}=xle(),se=Hq();s(Se.prototype,p.prototype),s(Se,p);const ye=()=>{},{errorOrDestroy:K}=w,Te=1,Ne=2,_e=4,$=8,He=16,qe=32,Ce=64,xe=128,we=256,ee=512,M=1024,B=2048,R=4096,q=8192,W=16384,re=32768,Y=65536,ue=1<<17,te=1<<18;function le(fe){return{enumerable:!1,get(){return(this.state&fe)!==0},set(H){H?this.state|=fe:this.state&=~fe}}}e(Oe.prototype,{objectMode:le(Te),ended:le(Ne),endEmitted:le(_e),reading:le($),constructed:le(He),sync:le(qe),needReadable:le(Ce),emittedReadable:le(xe),readableListening:le(we),resumeScheduled:le(ee),errorEmitted:le(M),emitClose:le(B),autoDestroy:le(R),destroyed:le(q),closed:le(W),closeEmitted:le(re),multiAwaitDrain:le(Y),readingMore:le(ue),dataEmitted:le(te)});function Oe(fe,H,V){typeof V!="boolean"&&(V=H instanceof ji()),this.state=B|R|He|qe,fe&&fe.objectMode&&(this.state|=Te),V&&fe&&fe.readableObjectMode&&(this.state|=Te),this.highWaterMark=fe?O(this,fe,"readableHighWaterMark",V):F(!1),this.buffer=new T,this.length=0,this.pipes=[],this.flowing=null,this[J]=null,fe&&fe.emitClose===!1&&(this.state&=-2049),fe&&fe.autoDestroy===!1&&(this.state&=-4097),this.errored=null,this.defaultEncoding=fe&&fe.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,fe&&fe.encoding&&(this.decoder=new ie(fe.encoding),this.encoding=fe.encoding)}function Se(fe){if(!(this instanceof Se))return new Se(fe);const H=this instanceof ji();this._readableState=new Oe(fe,this,H),fe&&(typeof fe.read=="function"&&(this._read=fe.read),typeof fe.destroy=="function"&&(this._destroy=fe.destroy),typeof fe.construct=="function"&&(this._construct=fe.construct),fe.signal&&!H&&y(fe.signal,this)),p.call(this,fe),w.construct(this,()=>{this._readableState.needReadable&&S(this,this._readableState)})}Se.prototype.destroy=w.destroy,Se.prototype._undestroy=w.undestroy,Se.prototype._destroy=function(fe,H){H(fe)},Se.prototype[h.captureRejectionSymbol]=function(fe){this.destroy(fe)},Se.prototype[l]=function(){let fe;return this.destroyed||(fe=this.readableEnded?null:new X,this.destroy(fe)),new c((H,V)=>m(this,G=>G&&G!==fe?V(G):H(null)))},Se.prototype.push=function(fe,H){return Ve(this,fe,H,!1)},Se.prototype.unshift=function(fe,H){return Ve(this,fe,H,!0)};function Ve(fe,H,V,G){b("readableAddChunk",H);const oe=fe._readableState;let Fe;if((oe.state&Te)===0&&(typeof H=="string"?(V=V||oe.defaultEncoding,oe.encoding!==V&&(G&&oe.encoding?H=g.from(H,V).toString(oe.encoding):(H=g.from(H,V),V=""))):H instanceof g?V="":p._isUint8Array(H)?(H=p._uint8ArrayToBuffer(H),V=""):H!=null&&(Fe=new j("chunk",["string","Buffer","Uint8Array"],H))),Fe)K(fe,Fe);else if(H===null)oe.state&=-9,P(fe,oe);else if((oe.state&Te)!==0||H&&H.length>0)if(G)if((oe.state&_e)!==0)K(fe,new C);else{if(oe.destroyed||oe.errored)return!1;ke(fe,oe,H,!0)}else if(oe.ended)K(fe,new D);else{if(oe.destroyed||oe.errored)return!1;oe.state&=-9,oe.decoder&&!V?(H=oe.decoder.write(H),oe.objectMode||H.length!==0?ke(fe,oe,H,!1):S(fe,oe)):ke(fe,oe,H,!1)}else G||(oe.state&=-9,S(fe,oe));return!oe.ended&&(oe.length<oe.highWaterMark||oe.length===0)}function ke(fe,H,V,G){H.flowing&&H.length===0&&!H.sync&&fe.listenerCount("data")>0?((H.state&Y)!==0?H.awaitDrainWriters.clear():H.awaitDrainWriters=null,H.dataEmitted=!0,fe.emit("data",V)):(H.length+=H.objectMode?1:V.length,G?H.buffer.unshift(V):H.buffer.push(V),(H.state&Ce)!==0&&k(fe)),S(fe,H)}Se.prototype.isPaused=function(){const fe=this._readableState;return fe[J]===!0||fe.flowing===!1},Se.prototype.setEncoding=function(fe){const H=new ie(fe);this._readableState.decoder=H,this._readableState.encoding=this._readableState.decoder.encoding;const V=this._readableState.buffer;let G="";for(const oe of V)G+=H.write(oe);return V.clear(),G!==""&&V.push(G),this._readableState.length=G.length,this};const Ae=1073741824;function A(fe){if(fe>Ae)throw new I("size","<= 1GiB",fe);return fe--,fe|=fe>>>1,fe|=fe>>>2,fe|=fe>>>4,fe|=fe>>>8,fe|=fe>>>16,fe++,fe}function E(fe,H){return fe<=0||H.length===0&&H.ended?0:(H.state&Te)!==0?1:n(fe)?H.flowing&&H.length?H.buffer.first().length:H.length:fe<=H.length?fe:H.ended?H.length:0}Se.prototype.read=function(fe){b("read",fe),fe===void 0?fe=NaN:o(fe)||(fe=r(fe,10));const H=this._readableState,V=fe;if(fe>H.highWaterMark&&(H.highWaterMark=A(fe)),fe!==0&&(H.state&=-129),fe===0&&H.needReadable&&((H.highWaterMark!==0?H.length>=H.highWaterMark:H.length>0)||H.ended))return b("read: emitReadable",H.length,H.ended),H.length===0&&H.ended?ce(this):k(this),null;if(fe=E(fe,H),fe===0&&H.ended)return H.length===0&&ce(this),null;let G=(H.state&Ce)!==0;if(b("need readable",G),(H.length===0||H.length-fe<H.highWaterMark)&&(G=!0,b("length less than watermark",G)),H.ended||H.reading||H.destroyed||H.errored||!H.constructed)G=!1,b("reading, ended or constructing",G);else if(G){b("do read"),H.state|=$|qe,H.length===0&&(H.state|=Ce);try{this._read(H.highWaterMark)}catch(Fe){K(this,Fe)}H.state&=-33,H.reading||(fe=E(V,H))}let oe;return fe>0?oe=Re(fe,H):oe=null,oe===null?(H.needReadable=H.length<=H.highWaterMark,fe=0):(H.length-=fe,H.multiAwaitDrain?H.awaitDrainWriters.clear():H.awaitDrainWriters=null),H.length===0&&(H.ended||(H.needReadable=!0),V!==fe&&H.ended&&ce(this)),oe!==null&&!H.errorEmitted&&!H.closeEmitted&&(H.dataEmitted=!0,this.emit("data",oe)),oe};function P(fe,H){if(b("onEofChunk"),!H.ended){if(H.decoder){const V=H.decoder.end();V&&V.length&&(H.buffer.push(V),H.length+=H.objectMode?1:V.length)}H.ended=!0,H.sync?k(fe):(H.needReadable=!1,H.emittedReadable=!0,N(fe))}}function k(fe){const H=fe._readableState;b("emitReadable",H.needReadable,H.emittedReadable),H.needReadable=!1,H.emittedReadable||(b("emitReadable",H.flowing),H.emittedReadable=!0,a.nextTick(N,fe))}function N(fe){const H=fe._readableState;b("emitReadable_",H.destroyed,H.length,H.ended),!H.destroyed&&!H.errored&&(H.length||H.ended)&&(fe.emit("readable"),H.emittedReadable=!1),H.needReadable=!H.flowing&&!H.ended&&H.length<=H.highWaterMark,ne(fe)}function S(fe,H){!H.readingMore&&H.constructed&&(H.readingMore=!0,a.nextTick(L,fe,H))}function L(fe,H){for(;!H.reading&&!H.ended&&(H.length<H.highWaterMark||H.flowing&&H.length===0);){const V=H.length;if(b("maybeReadMore read 0"),fe.read(0),V===H.length)break}H.readingMore=!1}Se.prototype._read=function(fe){throw new x("_read()")},Se.prototype.pipe=function(fe,H){const V=this,G=this._readableState;G.pipes.length===1&&(G.multiAwaitDrain||(G.multiAwaitDrain=!0,G.awaitDrainWriters=new u(G.awaitDrainWriters?[G.awaitDrainWriters]:[]))),G.pipes.push(fe),b("pipe count=%d opts=%j",G.pipes.length,H);const Fe=(!H||H.end!==!1)&&fe!==a.stdout&&fe!==a.stderr?Qe:ge;G.endEmitted?a.nextTick(Fe):V.once("end",Fe),fe.on("unpipe",Ee);function Ee(je,Be){b("onunpipe"),je===V&&Be&&Be.hasUnpiped===!1&&(Be.hasUnpiped=!0,it())}function Qe(){b("onend"),fe.end()}let Je,rt=!1;function it(){b("cleanup"),fe.removeListener("close",Kr),fe.removeListener("finish",nt),Je&&fe.removeListener("drain",Je),fe.removeListener("error",ot),fe.removeListener("unpipe",Ee),V.removeListener("end",Qe),V.removeListener("end",ge),V.removeListener("data",st),rt=!0,Je&&G.awaitDrainWriters&&(!fe._writableState||fe._writableState.needDrain)&&Je()}function ht(){rt||(G.pipes.length===1&&G.pipes[0]===fe?(b("false write response, pause",0),G.awaitDrainWriters=fe,G.multiAwaitDrain=!1):G.pipes.length>1&&G.pipes.includes(fe)&&(b("false write response, pause",G.awaitDrainWriters.size),G.awaitDrainWriters.add(fe)),V.pause()),Je||(Je=U(V,fe),fe.on("drain",Je))}V.on("data",st);function st(je){b("ondata");const Be=fe.write(je);b("dest.write",Be),Be===!1&&ht()}function ot(je){if(b("onerror",je),ge(),fe.removeListener("error",ot),fe.listenerCount("error")===0){const Be=fe._writableState||fe._readableState;Be&&!Be.errorEmitted?K(fe,je):fe.emit("error",je)}}_(fe,"error",ot);function Kr(){fe.removeListener("finish",nt),ge()}fe.once("close",Kr);function nt(){b("onfinish"),fe.removeListener("close",Kr),ge()}fe.once("finish",nt);function ge(){b("unpipe"),V.unpipe(fe)}return fe.emit("pipe",V),fe.writableNeedDrain===!0?ht():G.flowing||(b("pipe resume"),V.resume()),fe};function U(fe,H){return function(){const G=fe._readableState;G.awaitDrainWriters===H?(b("pipeOnDrain",1),G.awaitDrainWriters=null):G.multiAwaitDrain&&(b("pipeOnDrain",G.awaitDrainWriters.size),G.awaitDrainWriters.delete(H)),(!G.awaitDrainWriters||G.awaitDrainWriters.size===0)&&fe.listenerCount("data")&&fe.resume()}}Se.prototype.unpipe=function(fe){const H=this._readableState,V={hasUnpiped:!1};if(H.pipes.length===0)return this;if(!fe){const oe=H.pipes;H.pipes=[],this.pause();for(let Fe=0;Fe<oe.length;Fe++)oe[Fe].emit("unpipe",this,{hasUnpiped:!1});return this}const G=t(H.pipes,fe);return G===-1?this:(H.pipes.splice(G,1),H.pipes.length===0&&this.pause(),fe.emit("unpipe",this,V),this)},Se.prototype.on=function(fe,H){const V=p.prototype.on.call(this,fe,H),G=this._readableState;return fe==="data"?(G.readableListening=this.listenerCount("readable")>0,G.flowing!==!1&&this.resume()):fe==="readable"&&!G.endEmitted&&!G.readableListening&&(G.readableListening=G.needReadable=!0,G.flowing=!1,G.emittedReadable=!1,b("on readable",G.length,G.reading),G.length?k(this):G.reading||a.nextTick(me,this)),V},Se.prototype.addListener=Se.prototype.on,Se.prototype.removeListener=function(fe,H){const V=p.prototype.removeListener.call(this,fe,H);return fe==="readable"&&a.nextTick(Z,this),V},Se.prototype.off=Se.prototype.removeListener,Se.prototype.removeAllListeners=function(fe){const H=p.prototype.removeAllListeners.apply(this,arguments);return(fe==="readable"||fe===void 0)&&a.nextTick(Z,this),H};function Z(fe){const H=fe._readableState;H.readableListening=fe.listenerCount("readable")>0,H.resumeScheduled&&H[J]===!1?H.flowing=!0:fe.listenerCount("data")>0?fe.resume():H.readableListening||(H.flowing=null)}function me(fe){b("readable nexttick read 0"),fe.read(0)}Se.prototype.resume=function(){const fe=this._readableState;return fe.flowing||(b("resume"),fe.flowing=!fe.readableListening,pe(this,fe)),fe[J]=!1,this};function pe(fe,H){H.resumeScheduled||(H.resumeScheduled=!0,a.nextTick(Xe,fe,H))}function Xe(fe,H){b("resume",H.reading),H.reading||fe.read(0),H.resumeScheduled=!1,fe.emit("resume"),ne(fe),H.flowing&&!H.reading&&fe.read(0)}Se.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[J]=!0,this};function ne(fe){const H=fe._readableState;for(b("flow",H.flowing);H.flowing&&fe.read()!==null;);}Se.prototype.wrap=function(fe){let H=!1;fe.on("data",G=>{!this.push(G)&&fe.pause&&(H=!0,fe.pause())}),fe.on("end",()=>{this.push(null)}),fe.on("error",G=>{K(this,G)}),fe.on("close",()=>{this.destroy()}),fe.on("destroy",()=>{this.destroy()}),this._read=()=>{H&&fe.resume&&(H=!1,fe.resume())};const V=i(fe);for(let G=1;G<V.length;G++){const oe=V[G];this[oe]===void 0&&typeof fe[oe]=="function"&&(this[oe]=fe[oe].bind(fe))}return this},Se.prototype[f]=function(){return Ie(this)},Se.prototype.iterator=function(fe){return fe!==void 0&&z(fe,"options"),Ie(this,fe)};function Ie(fe,H){typeof fe.read!="function"&&(fe=Se.wrap(fe,{objectMode:!0}));const V=ve(fe,H);return V.stream=fe,V}async function*ve(fe,H){let V=ye;function G(Ee){this===fe?(V(),V=ye):V=Ee}fe.on("readable",G);let oe;const Fe=m(fe,{writable:!1},Ee=>{oe=Ee?Q(oe,Ee):null,V(),V=ye});try{for(;;){const Ee=fe.destroyed?null:fe.read();if(Ee!==null)yield Ee;else{if(oe)throw oe;if(oe===null)return;await new c(G)}}}catch(Ee){throw oe=Q(oe,Ee),oe}finally{(oe||(H==null?void 0:H.destroyOnReturn)!==!1)&&(oe===void 0||fe._readableState.autoDestroy)?w.destroyer(fe,null):(fe.off("readable",G),Fe())}}e(Se.prototype,{readable:{__proto__:null,get(){const fe=this._readableState;return!!fe&&fe.readable!==!1&&!fe.destroyed&&!fe.errorEmitted&&!fe.endEmitted},set(fe){this._readableState&&(this._readableState.readable=!!fe)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(fe){this._readableState&&(this._readableState.flowing=fe)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(fe){this._readableState&&(this._readableState.destroyed=fe)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),e(Oe.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[J]!==!1},set(fe){this[J]=!!fe}}}),Se._fromList=Re;function Re(fe,H){if(H.length===0)return null;let V;return H.objectMode?V=H.buffer.shift():!fe||fe>=H.length?(H.decoder?V=H.buffer.join(""):H.buffer.length===1?V=H.buffer.first():V=H.buffer.concat(H.length),H.buffer.clear()):V=H.buffer.consume(fe,H.decoder),V}function ce(fe){const H=fe._readableState;b("endReadable",H.endEmitted),H.endEmitted||(H.ended=!0,a.nextTick(Pe,H,fe))}function Pe(fe,H){if(b("endReadableNT",fe.endEmitted,fe.length),!fe.errored&&!fe.closeEmitted&&!fe.endEmitted&&fe.length===0){if(fe.endEmitted=!0,H.emit("end"),H.writable&&H.allowHalfOpen===!1)a.nextTick(ze,H);else if(fe.autoDestroy){const V=H._writableState;(!V||V.autoDestroy&&(V.finished||V.writable===!1))&&H.destroy()}}}function ze(fe){fe.writable&&!fe.writableEnded&&!fe.destroyed&&fe.end()}Se.from=function(fe,H){return se(Se,fe,H)};let Ue;function Ye(){return Ue===void 0&&(Ue={}),Ue}return Se.fromWeb=function(fe,H){return Ye().newStreamReadableFromReadableStream(fe,H)},Se.toWeb=function(fe,H){return Ye().newReadableStreamFromStreamReadable(fe,H)},Se.wrap=function(fe,H){var V,G;return new Se({objectMode:(V=(G=fe.readableObjectMode)!==null&&G!==void 0?G:fe.objectMode)!==null&&V!==void 0?V:!0,...H,destroy(oe,Fe){w.destroyer(fe,oe),Fe(oe)}}).wrap(fe)},$R}var UR,zq;function VR(){if(zq)return UR;zq=1;const a=da(),{ArrayPrototypeSlice:t,Error:o,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:r,ObjectDefineProperties:e,ObjectSetPrototypeOf:i,StringPrototypeToLowerCase:s,Symbol:c,SymbolHasInstance:u}=lr();UR=z,z.WritableState=C;const{EventEmitter:l}=by(),f=LR().Stream,{Buffer:d}=Pi(),h=Rh(),{addAbortSignal:p}=pA(),{getHighWaterMark:_,getDefaultHighWaterMark:g}=yA(),{ERR_INVALID_ARG_TYPE:y,ERR_METHOD_NOT_IMPLEMENTED:m,ERR_MULTIPLE_CALLBACK:b,ERR_STREAM_CANNOT_PIPE:T,ERR_STREAM_DESTROYED:w,ERR_STREAM_ALREADY_FINISHED:O,ERR_STREAM_NULL_VALUES:F,ERR_STREAM_WRITE_AFTER_END:Q,ERR_UNKNOWN_ENCODING:j}=on().codes,{errorOrDestroy:x}=h;i(z.prototype,f.prototype),i(z,f);function I(){}const D=c("kOnFinished");function C(R,q,W){typeof W!="boolean"&&(W=q instanceof ji()),this.objectMode=!!(R&&R.objectMode),W&&(this.objectMode=this.objectMode||!!(R&&R.writableObjectMode)),this.highWaterMark=R?_(this,R,"writableHighWaterMark",W):g(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const re=!!(R&&R.decodeStrings===!1);this.decodeStrings=!re,this.defaultEncoding=R&&R.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=K.bind(void 0,q),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,X(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!R||R.emitClose!==!1,this.autoDestroy=!R||R.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[D]=[]}function X(R){R.buffered=[],R.bufferedIndex=0,R.allBuffers=!0,R.allNoop=!0}C.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},r(C.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function z(R){const q=this instanceof ji();if(!q&&!n(z,this))return new z(R);this._writableState=new C(R,this,q),R&&(typeof R.write=="function"&&(this._write=R.write),typeof R.writev=="function"&&(this._writev=R.writev),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.final=="function"&&(this._final=R.final),typeof R.construct=="function"&&(this._construct=R.construct),R.signal&&p(R.signal,this)),f.call(this,R),h.construct(this,()=>{const W=this._writableState;W.writing||$(this,W),xe(this,W)})}r(z,u,{__proto__:null,value:function(R){return n(this,R)?!0:this!==z?!1:R&&R._writableState instanceof C}}),z.prototype.pipe=function(){x(this,new T)};function J(R,q,W,re){const Y=R._writableState;if(typeof W=="function")re=W,W=Y.defaultEncoding;else{if(!W)W=Y.defaultEncoding;else if(W!=="buffer"&&!d.isEncoding(W))throw new j(W);typeof re!="function"&&(re=I)}if(q===null)throw new F;if(!Y.objectMode)if(typeof q=="string")Y.decodeStrings!==!1&&(q=d.from(q,W),W="buffer");else if(q instanceof d)W="buffer";else if(f._isUint8Array(q))q=f._uint8ArrayToBuffer(q),W="buffer";else throw new y("chunk",["string","Buffer","Uint8Array"],q);let ue;return Y.ending?ue=new Q:Y.destroyed&&(ue=new w("write")),ue?(a.nextTick(re,ue),x(R,ue,!0),ue):(Y.pendingcb++,ie(R,Y,q,W,re))}z.prototype.write=function(R,q,W){return J(this,R,q,W)===!0},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){const R=this._writableState;R.corked&&(R.corked--,R.writing||$(this,R))},z.prototype.setDefaultEncoding=function(q){if(typeof q=="string"&&(q=s(q)),!d.isEncoding(q))throw new j(q);return this._writableState.defaultEncoding=q,this};function ie(R,q,W,re,Y){const ue=q.objectMode?1:W.length;q.length+=ue;const te=q.length<q.highWaterMark;return te||(q.needDrain=!0),q.writing||q.corked||q.errored||!q.constructed?(q.buffered.push({chunk:W,encoding:re,callback:Y}),q.allBuffers&&re!=="buffer"&&(q.allBuffers=!1),q.allNoop&&Y!==I&&(q.allNoop=!1)):(q.writelen=ue,q.writecb=Y,q.writing=!0,q.sync=!0,R._write(W,re,q.onwrite),q.sync=!1),te&&!q.errored&&!q.destroyed}function se(R,q,W,re,Y,ue,te){q.writelen=re,q.writecb=te,q.writing=!0,q.sync=!0,q.destroyed?q.onwrite(new w("write")):W?R._writev(Y,q.onwrite):R._write(Y,ue,q.onwrite),q.sync=!1}function ye(R,q,W,re){--q.pendingcb,re(W),_e(q),x(R,W)}function K(R,q){const W=R._writableState,re=W.sync,Y=W.writecb;if(typeof Y!="function"){x(R,new b);return}W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0,q?(q.stack,W.errored||(W.errored=q),R._readableState&&!R._readableState.errored&&(R._readableState.errored=q),re?a.nextTick(ye,R,W,q,Y):ye(R,W,q,Y)):(W.buffered.length>W.bufferedIndex&&$(R,W),re?W.afterWriteTickInfo!==null&&W.afterWriteTickInfo.cb===Y?W.afterWriteTickInfo.count++:(W.afterWriteTickInfo={count:1,cb:Y,stream:R,state:W},a.nextTick(Te,W.afterWriteTickInfo)):Ne(R,W,1,Y))}function Te({stream:R,state:q,count:W,cb:re}){return q.afterWriteTickInfo=null,Ne(R,q,W,re)}function Ne(R,q,W,re){for(!q.ending&&!R.destroyed&&q.length===0&&q.needDrain&&(q.needDrain=!1,R.emit("drain"));W-- >0;)q.pendingcb--,re();q.destroyed&&_e(q),xe(R,q)}function _e(R){if(R.writing)return;for(let Y=R.bufferedIndex;Y<R.buffered.length;++Y){var q;const{chunk:ue,callback:te}=R.buffered[Y],le=R.objectMode?1:ue.length;R.length-=le,te((q=R.errored)!==null&&q!==void 0?q:new w("write"))}const W=R[D].splice(0);for(let Y=0;Y<W.length;Y++){var re;W[Y]((re=R.errored)!==null&&re!==void 0?re:new w("end"))}X(R)}function $(R,q){if(q.corked||q.bufferProcessing||q.destroyed||!q.constructed)return;const{buffered:W,bufferedIndex:re,objectMode:Y}=q,ue=W.length-re;if(!ue)return;let te=re;if(q.bufferProcessing=!0,ue>1&&R._writev){q.pendingcb-=ue-1;const le=q.allNoop?I:Se=>{for(let Ve=te;Ve<W.length;++Ve)W[Ve].callback(Se)},Oe=q.allNoop&&te===0?W:t(W,te);Oe.allBuffers=q.allBuffers,se(R,q,!0,q.length,Oe,"",le),X(q)}else{do{const{chunk:le,encoding:Oe,callback:Se}=W[te];W[te++]=null;const Ve=Y?1:le.length;se(R,q,!1,Ve,le,Oe,Se)}while(te<W.length&&!q.writing);te===W.length?X(q):te>256?(W.splice(0,te),q.bufferedIndex=0):q.bufferedIndex=te}q.bufferProcessing=!1}z.prototype._write=function(R,q,W){if(this._writev)this._writev([{chunk:R,encoding:q}],W);else throw new m("_write()")},z.prototype._writev=null,z.prototype.end=function(R,q,W){const re=this._writableState;typeof R=="function"?(W=R,R=null,q=null):typeof q=="function"&&(W=q,q=null);let Y;if(R!=null){const ue=J(this,R,q);ue instanceof o&&(Y=ue)}return re.corked&&(re.corked=1,this.uncork()),Y||(!re.errored&&!re.ending?(re.ending=!0,xe(this,re,!0),re.ended=!0):re.finished?Y=new O("end"):re.destroyed&&(Y=new w("end"))),typeof W=="function"&&(Y||re.finished?a.nextTick(W,Y):re[D].push(W)),this};function He(R){return R.ending&&!R.destroyed&&R.constructed&&R.length===0&&!R.errored&&R.buffered.length===0&&!R.finished&&!R.writing&&!R.errorEmitted&&!R.closeEmitted}function qe(R,q){let W=!1;function re(Y){if(W){x(R,Y??b());return}if(W=!0,q.pendingcb--,Y){const ue=q[D].splice(0);for(let te=0;te<ue.length;te++)ue[te](Y);x(R,Y,q.sync)}else He(q)&&(q.prefinished=!0,R.emit("prefinish"),q.pendingcb++,a.nextTick(we,R,q))}q.sync=!0,q.pendingcb++;try{R._final(re)}catch(Y){re(Y)}q.sync=!1}function Ce(R,q){!q.prefinished&&!q.finalCalled&&(typeof R._final=="function"&&!q.destroyed?(q.finalCalled=!0,qe(R,q)):(q.prefinished=!0,R.emit("prefinish")))}function xe(R,q,W){He(q)&&(Ce(R,q),q.pendingcb===0&&(W?(q.pendingcb++,a.nextTick((re,Y)=>{He(Y)?we(re,Y):Y.pendingcb--},R,q)):He(q)&&(q.pendingcb++,we(R,q))))}function we(R,q){q.pendingcb--,q.finished=!0;const W=q[D].splice(0);for(let re=0;re<W.length;re++)W[re]();if(R.emit("finish"),q.autoDestroy){const re=R._readableState;(!re||re.autoDestroy&&(re.endEmitted||re.readable===!1))&&R.destroy()}}e(z.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(R){this._writableState&&(this._writableState.destroyed=R)}},writable:{__proto__:null,get(){const R=this._writableState;return!!R&&R.writable!==!1&&!R.destroyed&&!R.errored&&!R.ending&&!R.ended},set(R){this._writableState&&(this._writableState.writable=!!R)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const R=this._writableState;return R?!R.destroyed&&!R.ending&&R.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const ee=h.destroy;z.prototype.destroy=function(R,q){const W=this._writableState;return!W.destroyed&&(W.bufferedIndex<W.buffered.length||W[D].length)&&a.nextTick(_e,W),ee.call(this,R,q),this},z.prototype._undestroy=h.undestroy,z.prototype._destroy=function(R,q){q(R)},z.prototype[l.captureRejectionSymbol]=function(R){this.destroy(R)};let M;function B(){return M===void 0&&(M={}),M}return z.fromWeb=function(R,q){return B().newStreamWritableFromWritableStream(R,q)},z.toWeb=function(R){return B().newWritableStreamFromStreamWritable(R)},UR}var QR,kq;function Ile(){if(kq)return QR;kq=1;const a=da(),t=Pi(),{isReadable:o,isWritable:n,isIterable:r,isNodeStream:e,isReadableNodeStream:i,isWritableNodeStream:s,isDuplexNodeStream:c,isReadableStream:u,isWritableStream:l}=Li(),f=ha(),{AbortError:d,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:p}}=on(),{destroyer:_}=Rh(),g=ji(),y=_A(),m=VR(),{createDeferredPromise:b}=dn(),T=Hq(),w=globalThis.Blob||t.Blob,O=typeof w<"u"?function(C){return C instanceof w}:function(C){return!1},F=globalThis.AbortController||q1().AbortController,{FunctionPrototypeCall:Q}=lr();class j extends g{constructor(C){super(C),(C==null?void 0:C.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(C==null?void 0:C.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}QR=function D(C,X){if(c(C))return C;if(i(C))return I({readable:C});if(s(C))return I({writable:C});if(e(C))return I({writable:!1,readable:!1});if(u(C))return I({readable:y.fromWeb(C)});if(l(C))return I({writable:m.fromWeb(C)});if(typeof C=="function"){const{value:J,write:ie,final:se,destroy:ye}=x(C);if(r(J))return T(j,J,{objectMode:!0,write:ie,final:se,destroy:ye});const K=J==null?void 0:J.then;if(typeof K=="function"){let Te;const Ne=Q(K,J,_e=>{if(_e!=null)throw new p("nully","body",_e)},_e=>{_(Te,_e)});return Te=new j({objectMode:!0,readable:!1,write:ie,final(_e){se(async()=>{try{await Ne,a.nextTick(_e,null)}catch($){a.nextTick(_e,$)}})},destroy:ye})}throw new p("Iterable, AsyncIterable or AsyncFunction",X,J)}if(O(C))return D(C.arrayBuffer());if(r(C))return T(j,C,{objectMode:!0,writable:!1});if(u(C==null?void 0:C.readable)&&l(C==null?void 0:C.writable))return j.fromWeb(C);if(typeof(C==null?void 0:C.writable)=="object"||typeof(C==null?void 0:C.readable)=="object"){const J=C!=null&&C.readable?i(C==null?void 0:C.readable)?C==null?void 0:C.readable:D(C.readable):void 0,ie=C!=null&&C.writable?s(C==null?void 0:C.writable)?C==null?void 0:C.writable:D(C.writable):void 0;return I({readable:J,writable:ie})}const z=C==null?void 0:C.then;if(typeof z=="function"){let J;return Q(z,C,ie=>{ie!=null&&J.push(ie),J.push(null)},ie=>{_(J,ie)}),J=new j({objectMode:!0,writable:!1,read(){}})}throw new h(X,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],C)};function x(D){let{promise:C,resolve:X}=b();const z=new F,J=z.signal;return{value:D(async function*(){for(;;){const se=C;C=null;const{chunk:ye,done:K,cb:Te}=await se;if(a.nextTick(Te),K)return;if(J.aborted)throw new d(void 0,{cause:J.reason});({promise:C,resolve:X}=b()),yield ye}}(),{signal:J}),write(se,ye,K){const Te=X;X=null,Te({chunk:se,done:!1,cb:K})},final(se){const ye=X;X=null,ye({done:!0,cb:se})},destroy(se,ye){z.abort(),ye(se)}}}function I(D){const C=D.readable&&typeof D.readable.read!="function"?y.wrap(D.readable):D.readable,X=D.writable;let z=!!o(C),J=!!n(X),ie,se,ye,K,Te;function Ne(_e){const $=K;K=null,$?$(_e):_e&&Te.destroy(_e)}return Te=new j({readableObjectMode:!!(C!=null&&C.readableObjectMode),writableObjectMode:!!(X!=null&&X.writableObjectMode),readable:z,writable:J}),J&&(f(X,_e=>{J=!1,_e&&_(C,_e),Ne(_e)}),Te._write=function(_e,$,He){X.write(_e,$)?He():ie=He},Te._final=function(_e){X.end(),se=_e},X.on("drain",function(){if(ie){const _e=ie;ie=null,_e()}}),X.on("finish",function(){if(se){const _e=se;se=null,_e()}})),z&&(f(C,_e=>{z=!1,_e&&_(C,_e),Ne(_e)}),C.on("readable",function(){if(ye){const _e=ye;ye=null,_e()}}),C.on("end",function(){Te.push(null)}),Te._read=function(){for(;;){const _e=C.read();if(_e===null){ye=Te._read;return}if(!Te.push(_e))return}}),Te._destroy=function(_e,$){!_e&&K!==null&&(_e=new d),ye=null,ie=null,se=null,K===null?$(_e):(K=$,_(X,_e),_(C,_e))},Te}return QR}var HR,Xq;function ji(){if(Xq)return HR;Xq=1;const{ObjectDefineProperties:a,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:o,ObjectSetPrototypeOf:n}=lr();HR=i;const r=_A(),e=VR();n(i.prototype,r.prototype),n(i,r);{const l=o(e.prototype);for(let f=0;f<l.length;f++){const d=l[f];i.prototype[d]||(i.prototype[d]=e.prototype[d])}}function i(l){if(!(this instanceof i))return new i(l);r.call(this,l),e.call(this,l),l?(this.allowHalfOpen=l.allowHalfOpen!==!1,l.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),l.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}a(i.prototype,{writable:{__proto__:null,...t(e.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(e.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(e.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(e.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(e.prototype,"writableLength")},writableFinished:{__proto__:null,...t(e.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(e.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(e.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(e.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(l){this._readableState&&this._writableState&&(this._readableState.destroyed=l,this._writableState.destroyed=l)}}});let s;function c(){return s===void 0&&(s={}),s}i.fromWeb=function(l,f){return c().newStreamDuplexFromReadableWritablePair(l,f)},i.toWeb=function(l){return c().newReadableWritablePairFromDuplex(l)};let u;return i.from=function(l){return u||(u=Ile()),u(l,"body")},HR}var GR,Wq;function Jq(){if(Wq)return GR;Wq=1;const{ObjectSetPrototypeOf:a,Symbol:t}=lr();GR=i;const{ERR_METHOD_NOT_IMPLEMENTED:o}=on().codes,n=ji(),{getHighWaterMark:r}=yA();a(i.prototype,n.prototype),a(i,n);const e=t("kCallback");function i(u){if(!(this instanceof i))return new i(u);const l=u?r(this,u,"readableHighWaterMark",!0):null;l===0&&(u={...u,highWaterMark:null,readableHighWaterMark:l,writableHighWaterMark:u.writableHighWaterMark||0}),n.call(this,u),this._readableState.sync=!1,this[e]=null,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",c)}function s(u){typeof this._flush=="function"&&!this.destroyed?this._flush((l,f)=>{if(l){u?u(l):this.destroy(l);return}f!=null&&this.push(f),this.push(null),u&&u()}):(this.push(null),u&&u())}function c(){this._final!==s&&s.call(this)}return i.prototype._final=s,i.prototype._transform=function(u,l,f){throw new o("_transform()")},i.prototype._write=function(u,l,f){const d=this._readableState,h=this._writableState,p=d.length;this._transform(u,l,(_,g)=>{if(_){f(_);return}g!=null&&this.push(g),h.ended||p===d.length||d.length<d.highWaterMark?f():this[e]=f})},i.prototype._read=function(){if(this[e]){const u=this[e];this[e]=null,u()}},GR}var zR,Kq;function Yq(){if(Kq)return zR;Kq=1;const{ObjectSetPrototypeOf:a}=lr();zR=o;const t=Jq();a(o.prototype,t.prototype),a(o,t);function o(n){if(!(this instanceof o))return new o(n);t.call(this,n)}return o.prototype._transform=function(n,r,e){e(null,n)},zR}var kR,Zq;function XR(){if(Zq)return kR;Zq=1;const a=da(),{ArrayIsArray:t,Promise:o,SymbolAsyncIterator:n,SymbolDispose:r}=lr(),e=ha(),{once:i}=dn(),s=Rh(),c=ji(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:l,ERR_INVALID_RETURN_VALUE:f,ERR_MISSING_ARGS:d,ERR_STREAM_DESTROYED:h,ERR_STREAM_PREMATURE_CLOSE:p},AbortError:_}=on(),{validateFunction:g,validateAbortSignal:y}=C1(),{isIterable:m,isReadable:b,isReadableNodeStream:T,isNodeStream:w,isTransformStream:O,isWebStream:F,isReadableStream:Q,isReadableFinished:j}=Li(),x=globalThis.AbortController||q1().AbortController;let I,D,C;function X(_e,$,He){let qe=!1;_e.on("close",()=>{qe=!0});const Ce=e(_e,{readable:$,writable:He},xe=>{qe=!xe});return{destroy:xe=>{qe||(qe=!0,s.destroyer(_e,xe||new h("pipe")))},cleanup:Ce}}function z(_e){return g(_e[_e.length-1],"streams[stream.length - 1]"),_e.pop()}function J(_e){if(m(_e))return _e;if(T(_e))return ie(_e);throw new l("val",["Readable","Iterable","AsyncIterable"],_e)}async function*ie(_e){D||(D=_A()),yield*D.prototype[n].call(_e)}async function se(_e,$,He,{end:qe}){let Ce,xe=null;const we=B=>{if(B&&(Ce=B),xe){const R=xe;xe=null,R()}},ee=()=>new o((B,R)=>{Ce?R(Ce):xe=()=>{Ce?R(Ce):B()}});$.on("drain",we);const M=e($,{readable:!1},we);try{$.writableNeedDrain&&await ee();for await(const B of _e)$.write(B)||await ee();qe&&($.end(),await ee()),He()}catch(B){He(Ce!==B?u(Ce,B):B)}finally{M(),$.off("drain",we)}}async function ye(_e,$,He,{end:qe}){O($)&&($=$.writable);const Ce=$.getWriter();try{for await(const xe of _e)await Ce.ready,Ce.write(xe).catch(()=>{});await Ce.ready,qe&&await Ce.close(),He()}catch(xe){try{await Ce.abort(xe),He(xe)}catch(we){He(we)}}}function K(..._e){return Te(_e,i(z(_e)))}function Te(_e,$,He){if(_e.length===1&&t(_e[0])&&(_e=_e[0]),_e.length<2)throw new d("streams");const qe=new x,Ce=qe.signal,xe=He==null?void 0:He.signal,we=[];y(xe,"options.signal");function ee(){Y(new _)}C=C||dn().addAbortListener;let M;xe&&(M=C(xe,ee));let B,R;const q=[];let W=0;function re(Oe){Y(Oe,--W===0)}function Y(Oe,Se){var Ve;if(Oe&&(!B||B.code==="ERR_STREAM_PREMATURE_CLOSE")&&(B=Oe),!(!B&&!Se)){for(;q.length;)q.shift()(B);(Ve=M)===null||Ve===void 0||Ve[r](),qe.abort(),Se&&(B||we.forEach(ke=>ke()),a.nextTick($,B,R))}}let ue;for(let Oe=0;Oe<_e.length;Oe++){const Se=_e[Oe],Ve=Oe<_e.length-1,ke=Oe>0,Ae=Ve||(He==null?void 0:He.end)!==!1,A=Oe===_e.length-1;if(w(Se)){let E=function(P){P&&P.name!=="AbortError"&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"&&re(P)};if(Ae){const{destroy:P,cleanup:k}=X(Se,Ve,ke);q.push(P),b(Se)&&A&&we.push(k)}Se.on("error",E),b(Se)&&A&&we.push(()=>{Se.removeListener("error",E)})}if(Oe===0)if(typeof Se=="function"){if(ue=Se({signal:Ce}),!m(ue))throw new f("Iterable, AsyncIterable or Stream","source",ue)}else m(Se)||T(Se)||O(Se)?ue=Se:ue=c.from(Se);else if(typeof Se=="function"){if(O(ue)){var te;ue=J((te=ue)===null||te===void 0?void 0:te.readable)}else ue=J(ue);if(ue=Se(ue,{signal:Ce}),Ve){if(!m(ue,!0))throw new f("AsyncIterable",`transform[${Oe-1}]`,ue)}else{var le;I||(I=Yq());const E=new I({objectMode:!0}),P=(le=ue)===null||le===void 0?void 0:le.then;if(typeof P=="function")W++,P.call(ue,S=>{R=S,S!=null&&E.write(S),Ae&&E.end(),a.nextTick(re)},S=>{E.destroy(S),a.nextTick(re,S)});else if(m(ue,!0))W++,se(ue,E,re,{end:Ae});else if(Q(ue)||O(ue)){const S=ue.readable||ue;W++,se(S,E,re,{end:Ae})}else throw new f("AsyncIterable or Promise","destination",ue);ue=E;const{destroy:k,cleanup:N}=X(ue,!1,!0);q.push(k),A&&we.push(N)}}else if(w(Se)){if(T(ue)){W+=2;const E=Ne(ue,Se,re,{end:Ae});b(Se)&&A&&we.push(E)}else if(O(ue)||Q(ue)){const E=ue.readable||ue;W++,se(E,Se,re,{end:Ae})}else if(m(ue))W++,se(ue,Se,re,{end:Ae});else throw new l("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ue);ue=Se}else if(F(Se)){if(T(ue))W++,ye(J(ue),Se,re,{end:Ae});else if(Q(ue)||m(ue))W++,ye(ue,Se,re,{end:Ae});else if(O(ue))W++,ye(ue.readable,Se,re,{end:Ae});else throw new l("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ue);ue=Se}else ue=c.from(Se)}return(Ce!=null&&Ce.aborted||xe!=null&&xe.aborted)&&a.nextTick(ee),ue}function Ne(_e,$,He,{end:qe}){let Ce=!1;if($.on("close",()=>{Ce||He(new p)}),_e.pipe($,{end:!1}),qe){let xe=function(){Ce=!0,$.end()};j(_e)?a.nextTick(xe):_e.once("end",xe)}else He();return e(_e,{readable:!0,writable:!1},xe=>{const we=_e._readableState;xe&&xe.code==="ERR_STREAM_PREMATURE_CLOSE"&&we&&we.ended&&!we.errored&&!we.errorEmitted?_e.once("end",He).once("error",He):He(xe)}),e($,{readable:!1,writable:!0},He)}return kR={pipelineImpl:Te,pipeline:K},kR}var WR,eC;function tC(){if(eC)return WR;eC=1;const{pipeline:a}=XR(),t=ji(),{destroyer:o}=Rh(),{isNodeStream:n,isReadable:r,isWritable:e,isWebStream:i,isTransformStream:s,isWritableStream:c,isReadableStream:u}=Li(),{AbortError:l,codes:{ERR_INVALID_ARG_VALUE:f,ERR_MISSING_ARGS:d}}=on(),h=ha();return WR=function(..._){if(_.length===0)throw new d("streams");if(_.length===1)return t.from(_[0]);const g=[..._];if(typeof _[0]=="function"&&(_[0]=t.from(_[0])),typeof _[_.length-1]=="function"){const I=_.length-1;_[I]=t.from(_[I])}for(let I=0;I<_.length;++I)if(!(!n(_[I])&&!i(_[I]))){if(I<_.length-1&&!(r(_[I])||u(_[I])||s(_[I])))throw new f(`streams[${I}]`,g[I],"must be readable");if(I>0&&!(e(_[I])||c(_[I])||s(_[I])))throw new f(`streams[${I}]`,g[I],"must be writable")}let y,m,b,T,w;function O(I){const D=T;T=null,D?D(I):I?w.destroy(I):!x&&!j&&w.destroy()}const F=_[0],Q=a(_,O),j=!!(e(F)||c(F)||s(F)),x=!!(r(Q)||u(Q)||s(Q));if(w=new t({writableObjectMode:!!(F!=null&&F.writableObjectMode),readableObjectMode:!!(Q!=null&&Q.readableObjectMode),writable:j,readable:x}),j){if(n(F))w._write=function(D,C,X){F.write(D,C)?X():y=X},w._final=function(D){F.end(),m=D},F.on("drain",function(){if(y){const D=y;y=null,D()}});else if(i(F)){const C=(s(F)?F.writable:F).getWriter();w._write=async function(X,z,J){try{await C.ready,C.write(X).catch(()=>{}),J()}catch(ie){J(ie)}},w._final=async function(X){try{await C.ready,C.close().catch(()=>{}),m=X}catch(z){X(z)}}}const I=s(Q)?Q.readable:Q;h(I,()=>{if(m){const D=m;m=null,D()}})}if(x){if(n(Q))Q.on("readable",function(){if(b){const I=b;b=null,I()}}),Q.on("end",function(){w.push(null)}),w._read=function(){for(;;){const I=Q.read();if(I===null){b=w._read;return}if(!w.push(I))return}};else if(i(Q)){const D=(s(Q)?Q.readable:Q).getReader();w._read=async function(){for(;;)try{const{value:C,done:X}=await D.read();if(!w.push(C))return;if(X){w.push(null);return}}catch{return}}}}return w._destroy=function(I,D){!I&&T!==null&&(I=new l),b=null,y=null,m=null,T===null?D(I):(T=D,n(Q)&&o(Q,I))},w},WR}var rC;function Rle(){if(rC)return fA;rC=1;const a=globalThis.AbortController||q1().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:r},AbortError:e}=on(),{validateAbortSignal:i,validateInteger:s,validateObject:c}=C1(),u=lr().Symbol("kWeak"),l=lr().Symbol("kResistStopPropagation"),{finished:f}=ha(),d=tC(),{addAbortSignalNoValidate:h}=pA(),{isWritable:p,isNodeStream:_}=Li(),{deprecate:g}=dn(),{ArrayPrototypePush:y,Boolean:m,MathFloor:b,Number:T,NumberIsNaN:w,Promise:O,PromiseReject:F,PromiseResolve:Q,PromisePrototypeThen:j,Symbol:x}=lr(),I=x("kEmpty"),D=x("kEof");function C(xe,we){if(we!=null&&c(we,"options"),(we==null?void 0:we.signal)!=null&&i(we.signal,"options.signal"),_(xe)&&!p(xe))throw new t("stream",xe,"must be writable");const ee=d(this,xe);return we!=null&&we.signal&&h(we.signal,ee),ee}function X(xe,we){if(typeof xe!="function")throw new o("fn",["Function","AsyncFunction"],xe);we!=null&&c(we,"options"),(we==null?void 0:we.signal)!=null&&i(we.signal,"options.signal");let ee=1;(we==null?void 0:we.concurrency)!=null&&(ee=b(we.concurrency));let M=ee-1;return(we==null?void 0:we.highWaterMark)!=null&&(M=b(we.highWaterMark)),s(ee,"options.concurrency",1),s(M,"options.highWaterMark",0),M+=ee,(async function*(){const R=dn().AbortSignalAny([we==null?void 0:we.signal].filter(m)),q=this,W=[],re={signal:R};let Y,ue,te=!1,le=0;function Oe(){te=!0,Se()}function Se(){le-=1,Ve()}function Ve(){ue&&!te&&le<ee&&W.length<M&&(ue(),ue=null)}async function ke(){try{for await(let Ae of q){if(te)return;if(R.aborted)throw new e;try{if(Ae=xe(Ae,re),Ae===I)continue;Ae=Q(Ae)}catch(A){Ae=F(A)}le+=1,j(Ae,Se,Oe),W.push(Ae),Y&&(Y(),Y=null),!te&&(W.length>=M||le>=ee)&&await new O(A=>{ue=A})}W.push(D)}catch(Ae){const A=F(Ae);j(A,Se,Oe),W.push(A)}finally{te=!0,Y&&(Y(),Y=null)}}ke();try{for(;;){for(;W.length>0;){const Ae=await W[0];if(Ae===D)return;if(R.aborted)throw new e;Ae!==I&&(yield Ae),W.shift(),Ve()}await new O(Ae=>{Y=Ae})}}finally{te=!0,ue&&(ue(),ue=null)}}).call(this)}function z(xe=void 0){return xe!=null&&c(xe,"options"),(xe==null?void 0:xe.signal)!=null&&i(xe.signal,"options.signal"),(async function*(){let ee=0;for await(const B of this){var M;if(xe!=null&&(M=xe.signal)!==null&&M!==void 0&&M.aborted)throw new e({cause:xe.signal.reason});yield[ee++,B]}}).call(this)}async function J(xe,we=void 0){for await(const ee of K.call(this,xe,we))return!0;return!1}async function ie(xe,we=void 0){if(typeof xe!="function")throw new o("fn",["Function","AsyncFunction"],xe);return!await J.call(this,async(...ee)=>!await xe(...ee),we)}async function se(xe,we){for await(const ee of K.call(this,xe,we))return ee}async function ye(xe,we){if(typeof xe!="function")throw new o("fn",["Function","AsyncFunction"],xe);async function ee(M,B){return await xe(M,B),I}for await(const M of X.call(this,ee,we));}function K(xe,we){if(typeof xe!="function")throw new o("fn",["Function","AsyncFunction"],xe);async function ee(M,B){return await xe(M,B)?M:I}return X.call(this,ee,we)}class Te extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function Ne(xe,we,ee){var M;if(typeof xe!="function")throw new o("reducer",["Function","AsyncFunction"],xe);ee!=null&&c(ee,"options"),(ee==null?void 0:ee.signal)!=null&&i(ee.signal,"options.signal");let B=arguments.length>1;if(ee!=null&&(M=ee.signal)!==null&&M!==void 0&&M.aborted){const Y=new e(void 0,{cause:ee.signal.reason});throw this.once("error",()=>{}),await f(this.destroy(Y)),Y}const R=new a,q=R.signal;if(ee!=null&&ee.signal){const Y={once:!0,[u]:this,[l]:!0};ee.signal.addEventListener("abort",()=>R.abort(),Y)}let W=!1;try{for await(const Y of this){var re;if(W=!0,ee!=null&&(re=ee.signal)!==null&&re!==void 0&&re.aborted)throw new e;B?we=await xe(we,Y,{signal:q}):(we=Y,B=!0)}if(!W&&!B)throw new Te}finally{R.abort()}return we}async function _e(xe){xe!=null&&c(xe,"options"),(xe==null?void 0:xe.signal)!=null&&i(xe.signal,"options.signal");const we=[];for await(const M of this){var ee;if(xe!=null&&(ee=xe.signal)!==null&&ee!==void 0&&ee.aborted)throw new e(void 0,{cause:xe.signal.reason});y(we,M)}return we}function $(xe,we){const ee=X.call(this,xe,we);return(async function*(){for await(const B of ee)yield*B}).call(this)}function He(xe){if(xe=T(xe),w(xe))return 0;if(xe<0)throw new r("number",">= 0",xe);return xe}function qe(xe,we=void 0){return we!=null&&c(we,"options"),(we==null?void 0:we.signal)!=null&&i(we.signal,"options.signal"),xe=He(xe),(async function*(){var M;if(we!=null&&(M=we.signal)!==null&&M!==void 0&&M.aborted)throw new e;for await(const R of this){var B;if(we!=null&&(B=we.signal)!==null&&B!==void 0&&B.aborted)throw new e;xe--<=0&&(yield R)}}).call(this)}function Ce(xe,we=void 0){return we!=null&&c(we,"options"),(we==null?void 0:we.signal)!=null&&i(we.signal,"options.signal"),xe=He(xe),(async function*(){var M;if(we!=null&&(M=we.signal)!==null&&M!==void 0&&M.aborted)throw new e;for await(const R of this){var B;if(we!=null&&(B=we.signal)!==null&&B!==void 0&&B.aborted)throw new e;if(xe-- >0&&(yield R),xe<=0)return}}).call(this)}return fA.streamReturningOperators={asIndexedPairs:g(z,"readable.asIndexedPairs will be removed in a future version."),drop:qe,filter:K,flatMap:$,map:X,take:Ce,compose:C},fA.promiseReturningOperators={every:ie,forEach:ye,reduce:Ne,toArray:_e,some:J,find:se},fA}var JR,nC;function iC(){if(nC)return JR;nC=1;const{ArrayPrototypePop:a,Promise:t}=lr(),{isIterable:o,isNodeStream:n,isWebStream:r}=Li(),{pipelineImpl:e}=XR(),{finished:i}=ha();oC();function s(...c){return new t((u,l)=>{let f,d;const h=c[c.length-1];if(h&&typeof h=="object"&&!n(h)&&!o(h)&&!r(h)){const p=a(c);f=p.signal,d=p.end}e(c,(p,_)=>{p?l(p):u(_)},{signal:f,end:d})})}return JR={finished:i,pipeline:s},JR}var aC;function oC(){if(aC)return OR.exports;aC=1;const{Buffer:a}=Pi(),{ObjectDefineProperty:t,ObjectKeys:o,ReflectApply:n}=lr(),{promisify:{custom:r}}=dn(),{streamReturningOperators:e,promiseReturningOperators:i}=Rle(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=on(),c=tC(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:l}=yA(),{pipeline:f}=XR(),{destroyer:d}=Rh(),h=ha(),p=iC(),_=Li(),g=OR.exports=LR().Stream;g.isDestroyed=_.isDestroyed,g.isDisturbed=_.isDisturbed,g.isErrored=_.isErrored,g.isReadable=_.isReadable,g.isWritable=_.isWritable,g.Readable=_A();for(const m of o(e)){let T=function(...w){if(new.target)throw s();return g.Readable.from(n(b,this,w))};const b=e[m];t(T,"name",{__proto__:null,value:b.name}),t(T,"length",{__proto__:null,value:b.length}),t(g.Readable.prototype,m,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}for(const m of o(i)){let T=function(...w){if(new.target)throw s();return n(b,this,w)};const b=i[m];t(T,"name",{__proto__:null,value:b.name}),t(T,"length",{__proto__:null,value:b.length}),t(g.Readable.prototype,m,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}g.Writable=VR(),g.Duplex=ji(),g.Transform=Jq(),g.PassThrough=Yq(),g.pipeline=f;const{addAbortSignal:y}=pA();return g.addAbortSignal=y,g.finished=h,g.destroy=d,g.compose=c,g.setDefaultHighWaterMark=u,g.getDefaultHighWaterMark=l,t(g,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return p}}),t(f,r,{__proto__:null,enumerable:!0,get(){return p.pipeline}}),t(h,r,{__proto__:null,enumerable:!0,get(){return p.finished}}),g.Stream=g,g._isUint8Array=function(b){return b instanceof Uint8Array},g._uint8ArrayToBuffer=function(b){return a.from(b.buffer,b.byteOffset,b.byteLength)},OR.exports}var sC;function qt(){return sC||(sC=1,function(a){const t=oC(),o=iC(),n=t.Readable.destroy;a.exports=t.Readable,a.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,a.exports._isUint8Array=t._isUint8Array,a.exports.isDisturbed=t.isDisturbed,a.exports.isErrored=t.isErrored,a.exports.isReadable=t.isReadable,a.exports.Readable=t.Readable,a.exports.Writable=t.Writable,a.exports.Duplex=t.Duplex,a.exports.Transform=t.Transform,a.exports.PassThrough=t.PassThrough,a.exports.addAbortSignal=t.addAbortSignal,a.exports.finished=t.finished,a.exports.destroy=t.destroy,a.exports.destroy=n,a.exports.pipeline=t.pipeline,a.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return o}}),a.exports.Stream=t.Stream,a.exports.default=a.exports}(SR)),SR.exports}var uC;function Fle(){if(uC)return N1;uC=1,Object.defineProperty(N1,"__esModule",{value:!0}),N1.ActorQueryResultSerializeJson=void 0;const a=vi(),t=De(),o=Tt(),n=$t(),r=qt();let e=class extends a.ActorQueryResultSerializeFixedMediaTypes{constructor(s){super(s)}async testHandleChecked(s,c){return["bindings","quads","boolean"].includes(s.type)?(0,t.passTestVoid)():(0,t.failTest)("This actor can only handle bindings or quad streams.")}async runHandle(s,c,u){const l=new r.Readable;if(l._read=()=>{},s.type==="bindings"||s.type==="quads"){let f=s.type==="bindings"?(0,o.wrap)(s.bindingsStream).map(h=>JSON.stringify(Object.fromEntries([...h].map(([p,_])=>[p.value,n.termToString(_)])))):(0,o.wrap)(s.quadStream).map(h=>JSON.stringify(n.quadToStringQuad(h))),d=!0;f=f.map(h=>{const p=`${d?"":","}
${h}`;return d=!1,p}).prepend(["["]).append([`
]
`]),l.wrap(f)}else try{l.push(`${JSON.stringify(await s.execute())}
`),l.push(null)}catch(f){setTimeout(()=>l.emit("error",f))}return{data:l}}};return N1.ActorQueryResultSerializeJson=e,N1}var cC;function Nle(){return cC||(cC=1,function(a){var t=hs&&hs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=hs&&hs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Fle(),a)}(hs)),hs}var bs={},B1={},lC;function Dle(){if(lC)return B1;lC=1,Object.defineProperty(B1,"__esModule",{value:!0}),B1.ActorQueryResultSerializeSimple=void 0;const a=vi(),t=De(),o=Tt(),n=$t(),r=qt();let e=class dp extends a.ActorQueryResultSerializeFixedMediaTypes{constructor(s){super(s)}async testHandleChecked(s,c){return["bindings","quads","boolean","void"].includes(s.type)?(0,t.passTestVoid)():(0,t.failTest)("This actor can only handle bindings streams, quad streams, booleans, or updates.")}static termToString(s){return s.termType==="Quad"?(0,n.termToString)(s):s.value}async runHandle(s,c,u){const l=new r.Readable;return s.type==="bindings"?l.wrap(s.bindingsStream.map(f=>`${[...f].map(([d,h])=>`?${d.value}: ${dp.termToString(h)}`).join(`
`)}

`)):s.type==="quads"?l.wrap(s.quadStream.map(f=>`subject: ${dp.termToString(f.subject)}
predicate: ${dp.termToString(f.predicate)}
object: ${dp.termToString(f.object)}
graph: ${dp.termToString(f.graph)}

`)):l.wrap((0,o.wrap)(s.type==="boolean"?s.execute().then(f=>[`${f}
`]):s.execute().then(()=>[`ok
`]))),{data:l}}};return B1.ActorQueryResultSerializeSimple=e,B1}var dC;function Ple(){return dC||(dC=1,function(a){var t=bs&&bs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=bs&&bs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Dle(),a)}(bs)),bs}var _s={},$1={},fC;function Lle(){if(fC)return $1;fC=1,Object.defineProperty($1,"__esModule",{value:!0}),$1.ActorQueryResultSerializeSparqlCsv=void 0;const a=vi(),t=De(),o=qt();let n=class hO extends a.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToCsvBindings(e){if(!e)return"";let i=e.value;if(e.termType==="Literal")i=`${i}`;else if(e.termType==="BlankNode")i=`_:${i}`;else if(e.termType==="Quad"){let s=hO.bindingToCsvBindings(e.object);e.object.termType==="Literal"&&(s=`"${s.replaceAll('"','""')}"`),i=`<< ${hO.bindingToCsvBindings(e.subject)} ${hO.bindingToCsvBindings(e.predicate)} ${s} >>`}else i=`<${i}>`;return/[",\n\r]/u.test(i)&&(i=`"${i.replaceAll('"','""')}"`),i}async testHandleChecked(e,i){return e.type!=="bindings"?(0,t.failTest)("This actor can only handle bindings streams."):(0,t.passTestVoid)()}async runHandle(e,i,s){const c=e,u=new o.Readable,l=await c.metadata();return u.push(`${l.variables.map(f=>f.variable.value).join(",")}\r
`),u.wrap(c.bindingsStream.map(f=>`${l.variables.map(d=>hO.bindingToCsvBindings(f.get(d.variable))).join(",")}\r
`)),{data:u}}};return $1.ActorQueryResultSerializeSparqlCsv=n,$1}var hC;function jle(){return hC||(hC=1,function(a){var t=_s&&_s.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=_s&&_s.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Lle(),a)}(_s)),_s}var ms={},U1={},KR={},qr={},gs={},V1={},pC;function yC(){if(pC)return V1;pC=1,Object.defineProperty(V1,"__esModule",{value:!0}),V1.BlankNode=void 0;class a{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}}return V1.BlankNode=a,V1}var Q1={},H1={},bC;function _C(){if(bC)return H1;bC=1,Object.defineProperty(H1,"__esModule",{value:!0}),H1.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}return H1.DefaultGraph=a,a.INSTANCE=new a,H1}var G1={},z1={},mC;function YR(){if(mC)return z1;mC=1,Object.defineProperty(z1,"__esModule",{value:!0}),z1.NamedNode=void 0;class a{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}}return z1.NamedNode=a,z1}var gC;function vC(){if(gC)return G1;gC=1,Object.defineProperty(G1,"__esModule",{value:!0}),G1.Literal=void 0;const a=YR();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return G1.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),G1}var k1={},TC;function wC(){if(TC)return k1;TC=1,Object.defineProperty(k1,"__esModule",{value:!0}),k1.Quad=void 0;class a{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}}return k1.Quad=a,k1}var X1={},SC;function OC(){if(SC)return X1;SC=1,Object.defineProperty(X1,"__esModule",{value:!0}),X1.Variable=void 0;class a{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}}return X1.Variable=a,X1}var AC;function Mle(){if(AC)return Q1;AC=1,Object.defineProperty(Q1,"__esModule",{value:!0}),Q1.DataFactory=void 0;const a=yC(),t=_C(),o=vC(),n=YR(),r=wC(),e=OC();let i=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return Q1.DataFactory=s,Q1}var EC;function qle(){return EC||(EC=1,function(a){var t=gs&&gs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=gs&&gs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(yC(),a),o(Mle(),a),o(_C(),a),o(vC(),a),o(YR(),a),o(wC(),a),o(OC(),a)}(gs)),gs}var xC;function Cle(){if(xC)return qr;xC=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.stringQuadToQuad=qr.quadToStringQuad=qr.stringToTerm=qr.getLiteralLanguage=qr.getLiteralType=qr.getLiteralValue=qr.termToString=void 0;const a=qle(),t=new a.DataFactory;function o(p){if(p)switch(p.termType){case"NamedNode":return`<${u(p.value)}>`;case"BlankNode":return`_:${p.value}`;case"Literal":{const _=p;return`"${l(_.value)}"${_.datatype&&_.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&_.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?`^^<${_.datatype.value}>`:""}${_.language?`@${_.language}`:""}`}case"Quad":return`<<${o(p.subject)} ${o(p.predicate)} ${o(p.object)}${p.graph.termType==="DefaultGraph"?"":` ${o(p.graph)}`}>>`;case"Variable":return`?${p.value}`;case"DefaultGraph":return p.value}}qr.termToString=o;function n(p){const _=/^"([^]*)"((\^\^.*)|(@.*))?$/u.exec(p);if(!_)throw new Error(`${p} is not a literal`);return _[1].replace(/\\"/ug,'"')}qr.getLiteralValue=n;function r(p){const _=/^"[^]*"(?:\^\^<([^"]+)>|(@)[^@"]+)?$/u.exec(p);if(!_)throw new Error(`${p} is not a literal`);return _[1]||(_[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}qr.getLiteralType=r;function e(p){const _=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/u.exec(p);if(!_)throw new Error(`${p} is not a literal`);return _[1]?_[1].toLowerCase():""}qr.getLiteralLanguage=e;function i(p,_){if(_=_||t,!p||p.length===0)return _.defaultGraph();switch(p[0]){case"_":return _.blankNode(p.slice(2));case"?":if(!_.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return _.variable(p.slice(1));case'"':{const g=e(p),y=_.namedNode(r(p));return _.literal(n(p),g||y)}case"<":default:if(p.startsWith("<<")&&p.endsWith(">>")){const g=p.slice(2,-2),y=[];let m=0,b=0;for(let T=0;T<g.length;T++){const w=g[T];if(w==="<"&&m++,w===">"){if(m===0)throw new Error(`Found closing tag without opening tag in ${p}`);m--}w===" "&&m===0&&(y.push(g.slice(b,T)),b=T+1)}if(m!==0)throw new Error(`Found opening tag without closing tag in ${p}`);if(y.push(g.slice(b,g.length)),y.length!==3&&y.length!==4)throw new Error(`Nested quad syntax error ${p}`);return _.quad(i(y[0]),i(y[1]),i(y[2]),y[3]?i(y[3]):void 0)}if(!p.startsWith("<")||!p.endsWith(">"))throw new Error(`Detected invalid iri for named node (must be wrapped in <>): ${p}`);return _.namedNode(p.slice(1,-1))}}qr.stringToTerm=i;function s(p){return{subject:o(p.subject),predicate:o(p.predicate),object:o(p.object),graph:o(p.graph)}}qr.quadToStringQuad=s;function c(p,_){return _=_||t,_.quad(i(p.subject,_),i(p.predicate,_),i(p.object,_),i(p.graph,_))}qr.stringQuadToQuad=c;function u(p){return p.replace(f,h)}function l(p){return f.test(p)&&(p=p.replace(f,h)),p}const f=/["\\\t\n\r\b\f\u0000-\u0019]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=new Map([["\\","\\\\"],['"','\\"'],["	","\\t"],[`
`,"\\n"],["\r","\\r"],["\b","\\b"],["\f","\\f"]]);function h(p){const _=d.get(p);if(!_){if(p.length===1){const y=p.charCodeAt(0).toString(16);return`${"\\u0000".slice(0,-y.length)}${y}`}const g=((p.charCodeAt(0)-55296)*1024+p.charCodeAt(1)+9216).toString(16);return`${"\\U00000000".slice(0,-g.length)}${g}`}return _}return qr}var IC;function W1(){return IC||(IC=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.termToString=a.stringToTerm=a.stringQuadToQuad=a.quadToStringQuad=a.getLiteralValue=a.getLiteralType=a.getLiteralLanguage=void 0;const t=Cle();Object.defineProperty(a,"getLiteralLanguage",{enumerable:!0,get:function(){return t.getLiteralLanguage}}),Object.defineProperty(a,"getLiteralType",{enumerable:!0,get:function(){return t.getLiteralType}}),Object.defineProperty(a,"getLiteralValue",{enumerable:!0,get:function(){return t.getLiteralValue}}),Object.defineProperty(a,"quadToStringQuad",{enumerable:!0,get:function(){return t.quadToStringQuad}}),Object.defineProperty(a,"stringQuadToQuad",{enumerable:!0,get:function(){return t.stringQuadToQuad}}),Object.defineProperty(a,"stringToTerm",{enumerable:!0,get:function(){return t.stringToTerm}}),Object.defineProperty(a,"termToString",{enumerable:!0,get:function(){return t.termToString}})}(KR)),KR}var RC;function Ble(){if(RC)return U1;RC=1,Object.defineProperty(U1,"__esModule",{value:!0}),U1.ActorQueryResultSerializeSparqlTsv=void 0;const a=vi(),t=De(),o=W1(),n=qt();let r=class uae extends a.ActorQueryResultSerializeFixedMediaTypes{constructor(i){super(i)}static bindingToTsvBindings(i){return i?(0,o.termToString)(i).replaceAll("	","\\t").replaceAll(`
`,"\\n").replaceAll("\r","\\r"):""}async testHandleChecked(i,s){return i.type!=="bindings"?(0,t.failTest)("This actor can only handle bindings streams."):(0,t.passTestVoid)()}async runHandle(i,s,c){const u=i,l=new n.Readable,f=await u.metadata();return l.push(`${f.variables.map(d=>d.variable.value).join("	")}
`),l.wrap(u.bindingsStream.map(d=>`${f.variables.map(h=>uae.bindingToTsvBindings(d.get(h.variable))).join("	")}
`)),{data:l}}};return U1.ActorQueryResultSerializeSparqlTsv=r,U1}var FC;function $le(){return FC||(FC=1,function(a){var t=ms&&ms.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ms&&ms.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Ble(),a)}(ms)),ms}var vs={},J1={},K1={},NC;function Ule(){if(NC)return K1;NC=1,Object.defineProperty(K1,"__esModule",{value:!0}),K1.XmlSerializer=void 0;let a=class{constructor(){this.stack=[]}open(o,n){const r=`${this.identation()+this.formatTag(o,n,"open")}
`;return this.stack.push(o),r}close(){const o=this.stack.pop();if(o===void 0)throw new Error("There is no tag left to close");return`${this.identation()+this.formatTag(o,{},"close")}
`}serializeNode(o){if(o.children===void 0)return`${this.identation()+this.formatTag(o.name,o.attributes,"self-closing")}
`;if(typeof o.children=="string")return`${this.identation()+this.formatTag(o.name,o.attributes,"open")+this.escape(o.children)+this.formatTag(o.name,{},"close")}
`;const n=[];n.push(`${this.identation()+this.formatTag(o.name,o.attributes,"open")}
`),this.stack.push(o.name);for(const r of o.children)n.push(this.serializeNode(r));return this.stack.pop(),n.push(`${this.identation()+this.formatTag(o.name,{},"close")}
`),n.join("")}identation(){return this.stack.map(o=>"  ").join("")}formatTag(o,n,r){return`<${r==="close"?"/":""}${o}${Object.entries(n??{}).map(e=>` ${e[0]}="${this.escape(e[1])}"`)}${r==="self-closing"?"/":""}>`}escape(o){return o.replaceAll(/["&'<>]/gu,n=>{switch(n){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})}};return K1.XmlSerializer=a,a.header=`<?xml version="1.0" encoding="UTF-8"?>
`,K1}var DC;function Vle(){if(DC)return J1;DC=1,Object.defineProperty(J1,"__esModule",{value:!0}),J1.ActorQueryResultSerializeSparqlXml=void 0;const a=vi(),t=De(),o=Tt(),n=qt(),r=Ule();let e=class cae extends a.ActorQueryResultSerializeFixedMediaTypes{constructor(s){super(s)}static bindingToXmlBindings(s,c){return{name:"binding",attributes:{name:c.value},children:[this.valueToXmlValue(s)]}}static valueToXmlValue(s){let c;switch(s.termType){case"Literal":return s.language?c={"xml:lang":s.language}:s.datatype&&s.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"?c={datatype:s.datatype.value}:c={},{name:"literal",attributes:c,children:s.value};case"BlankNode":return{name:"bnode",children:s.value};case"Quad":return{name:"triple",children:[{name:"subject",children:[this.valueToXmlValue(s.subject)]},{name:"predicate",children:[this.valueToXmlValue(s.predicate)]},{name:"object",children:[this.valueToXmlValue(s.object)]}]};default:return{name:"uri",children:s.value}}}async testHandleChecked(s,c){return["bindings","boolean"].includes(s.type)?(0,t.passTestVoid)():(0,t.failTest)("This actor can only handle bindings streams or booleans.")}async runHandle(s,c,u){const l=new n.Readable;l._read=()=>{};const f=new r.XmlSerializer,d=await s.metadata();if(l.push(r.XmlSerializer.header),l.push(f.open("sparql",{xmlns:"http://www.w3.org/2005/sparql-results#"})),l.push(f.serializeNode({name:"head",children:d.variables.map(h=>({name:"variable",attributes:{name:h.variable.value}}))})),s.type==="bindings"){function*h(){yield f.close(),yield f.close()}l.push(f.open("results"));const p=(0,o.wrap)(s.bindingsStream).map(_=>f.serializeNode({name:"result",children:[..._].map(([g,y])=>cae.bindingToXmlBindings(y,g))})).append((0,o.wrap)(h()));l.wrap(p)}else try{const h=await s.execute();l.push(f.serializeNode({name:"boolean",children:h.toString()})),l.push(f.close()),setTimeout(()=>l.push(null))}catch(h){setTimeout(()=>l.emit("error",h))}return{data:l}}};return J1.ActorQueryResultSerializeSparqlXml=e,J1}var PC;function Qle(){return PC||(PC=1,function(a){var t=vs&&vs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=vs&&vs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Vle(),a)}(vs)),vs}var Ts={},Y1={},LC;function Hle(){if(LC)return Y1;LC=1,Object.defineProperty(Y1,"__esModule",{value:!0}),Y1.ActorQueryResultSerializeTable=void 0;const a=vi(),t=tt(),o=De(),n=$t(),r=Mr(),e=qt();let i=class QD extends a.ActorQueryResultSerializeFixedMediaTypes{constructor(c){super(c),this.padding=QD.repeat(" ",this.columnWidth)}static repeat(c,u){return c.repeat(u)}async testHandleChecked(c,u){return["bindings","quads"].includes(c.type)?(0,o.passTestVoid)():(0,o.failTest)("This actor can only handle bindings or quad streams.")}termToString(c){return c.termType==="Quad"?(0,n.termToString)(c):c.value}pad(c){return c.length<=this.columnWidth?c+this.padding.slice(c.length):`${c.slice(0,this.columnWidth-1)}`}pushHeader(c,u){const l=u.map(f=>this.pad(f.value)).join(" ");c.push(`${l}
${QD.repeat("-",l.length)}
`)}createRow(c,u){return`${c.map(l=>u.has(l)?this.termToString(u.get(l)):"").map(l=>this.pad(l)).join(" ")}
`}async runHandle(c,u,l){const f=new e.Readable;let d;if(c.type==="bindings"){d=c.bindingsStream.map(p=>this.createRow(h,p));const h=(await c.metadata()).variables.map(p=>p.variable);this.pushHeader(f,h)}else{d=c.quadStream.map(p=>`${(0,r.getTerms)(p).map(_=>this.pad(this.termToString(_))).join(" ")}
`);const h=c.context.getSafe(t.KeysInitQuery.dataFactory);this.pushHeader(f,r.QUAD_TERM_NAMES.map(p=>h.variable(p)))}return f.wrap(d),{data:f}}};return Y1.ActorQueryResultSerializeTable=i,Y1}var jC;function Gle(){return jC||(jC=1,function(a){var t=Ts&&Ts.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ts&&Ts.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Hle(),a)}(Ts)),Ts}var ws={},Z1={},Ss={},eb={},Os={},As={},tb={},MC;function qC(){if(MC)return tb;MC=1,Object.defineProperty(tb,"__esModule",{value:!0}),tb.BlankNode=void 0;class a{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}}return tb.BlankNode=a,tb}var rb={},nb={},CC;function BC(){if(CC)return nb;CC=1,Object.defineProperty(nb,"__esModule",{value:!0}),nb.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}return nb.DefaultGraph=a,a.INSTANCE=new a,nb}var ib={},ab={},$C;function ZR(){if($C)return ab;$C=1,Object.defineProperty(ab,"__esModule",{value:!0}),ab.NamedNode=void 0;class a{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}}return ab.NamedNode=a,ab}var UC;function VC(){if(UC)return ib;UC=1,Object.defineProperty(ib,"__esModule",{value:!0}),ib.Literal=void 0;const a=ZR();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return ib.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),ib}var ob={},QC;function HC(){if(QC)return ob;QC=1,Object.defineProperty(ob,"__esModule",{value:!0}),ob.Quad=void 0;class a{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}}return ob.Quad=a,ob}var sb={},GC;function zC(){if(GC)return sb;GC=1,Object.defineProperty(sb,"__esModule",{value:!0}),sb.Variable=void 0;class a{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}}return sb.Variable=a,sb}var kC;function zle(){if(kC)return rb;kC=1,Object.defineProperty(rb,"__esModule",{value:!0}),rb.DataFactory=void 0;const a=qC(),t=BC(),o=VC(),n=ZR(),r=HC(),e=zC();let i=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return rb.DataFactory=s,rb}var XC;function kle(){return XC||(XC=1,function(a){var t=As&&As.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=As&&As.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(qC(),a),o(zle(),a),o(BC(),a),o(VC(),a),o(ZR(),a),o(HC(),a),o(zC(),a)}(As)),As}var Es={},ub={},cb={},WC;function Fh(){if(WC)return cb;WC=1,Object.defineProperty(cb,"__esModule",{value:!0}),cb.Translator=void 0;let a=class{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(o){throw new Error(`Invalid RDF ${o.datatype.value} value: '${o.value}'`)}registerHandler(o,n,r){for(const e of n)this.supportedRdfDatatypes.push(e),this.fromRdfHandlers[e.value]=o;for(const e of r){let i=this.toRdfHandlers[e];i||(this.toRdfHandlers[e]=i=[]),i.push(o)}}fromRdf(o,n){const r=this.fromRdfHandlers[o.datatype.value];return r?r.fromRdf(o,n):o.value}toRdf(o,n){const r=this.toRdfHandlers[typeof o];if(r)for(const e of r){const i=e.toRdf(o,n);if(i)return i}throw new Error(`Invalid JavaScript value: '${o}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}};return cb.Translator=a,cb}var JC;function Xle(){if(JC)return ub;JC=1,Object.defineProperty(ub,"__esModule",{value:!0}),ub.TypeHandlerBoolean=void 0;const a=Fh();let t=class lae{fromRdf(n,r){switch(n.value){case"true":return!0;case"false":return!1;case"1":return!0;case"0":return!1}return r&&a.Translator.incorrectRdfDataType(n),!1}toRdf(n,{datatype:r,dataFactory:e}){return e.literal(n?"true":"false",r||e.namedNode(lae.TYPE))}};return t.TYPE="http://www.w3.org/2001/XMLSchema#boolean",ub.TypeHandlerBoolean=t,ub}var lb={},KC;function Wle(){if(KC)return lb;KC=1,Object.defineProperty(lb,"__esModule",{value:!0}),lb.TypeHandlerDate=void 0;const a=Fh();let t=class HD{fromRdf(n,r){switch(r&&!n.value.match(HD.VALIDATORS[n.datatype.value.substr(33,n.datatype.value.length)])&&a.Translator.incorrectRdfDataType(n),n.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(n.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const e=n.value.split("-");return new Date(0,parseInt(e[0],10)-1,parseInt(e[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(n.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(n.value+"-01");default:return new Date(n.value)}}toRdf(n,{datatype:r,dataFactory:e}){if(r=r||e.namedNode(HD.TYPES[0]),!(n instanceof Date))return null;const i=n;let s;switch(r.value){case"http://www.w3.org/2001/XMLSchema#gDay":s=String(i.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":s=i.getUTCMonth()+1+"-"+i.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":s=String(i.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":s=i.getUTCFullYear()+"-"+(i.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":s=i.toISOString().replace(/T.*$/,"");break;default:s=i.toISOString()}return e.literal(s,r)}};return t.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],t.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/},lb.TypeHandlerDate=t,lb}var db={},YC;function Jle(){if(YC)return db;YC=1,Object.defineProperty(db,"__esModule",{value:!0}),db.TypeHandlerNumberDouble=void 0;const a=Fh();let t=class dae{fromRdf(n,r){const e=parseFloat(n.value);return r&&isNaN(e)&&a.Translator.incorrectRdfDataType(n),e}toRdf(n,{datatype:r,dataFactory:e}){return r=r||e.namedNode(dae.TYPES[0]),isNaN(n)?e.literal("NaN",r):isFinite(n)?n%1===0?null:e.literal(n.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),r):e.literal(n>0?"INF":"-INF",r)}};return t.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"],db.TypeHandlerNumberDouble=t,db}var fb={},ZC;function Kle(){if(ZC)return fb;ZC=1,Object.defineProperty(fb,"__esModule",{value:!0}),fb.TypeHandlerNumberInteger=void 0;const a=Fh();let t=class pO{fromRdf(n,r){const e=parseInt(n.value,10);return r&&(isNaN(e)||n.value.indexOf(".")>=0)&&a.Translator.incorrectRdfDataType(n),e}toRdf(n,{datatype:r,dataFactory:e}){return e.literal(String(n),r||(n<=pO.MAX_INT&&n>=pO.MIN_INT?e.namedNode(pO.TYPES[0]):e.namedNode(pO.TYPES[1])))}};return t.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],t.MAX_INT=2147483647,t.MIN_INT=-2147483648,fb.TypeHandlerNumberInteger=t,fb}var hb={},e9;function Yle(){if(e9)return hb;e9=1,Object.defineProperty(hb,"__esModule",{value:!0}),hb.TypeHandlerString=void 0;let a=class{fromRdf(o){return o.value}toRdf(o,{datatype:n,dataFactory:r}){return r.literal(o,n)}};return a.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"],hb.TypeHandlerString=a,hb}var t9;function r9(){return t9||(t9=1,function(a){var t=Es&&Es.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Es&&Es.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Xle(),a),o(Wle(),a),o(Jle(),a),o(Kle(),a),o(Yle(),a)}(Es)),Es}var eF={},n9;function Zle(){return n9||(n9=1,Object.defineProperty(eF,"__esModule",{value:!0})),eF}var i9;function ede(){return i9||(i9=1,function(a){var t=Os&&Os.__createBinding||(Object.create?function(h,p,_,g){g===void 0&&(g=_);var y=Object.getOwnPropertyDescriptor(p,_);(!y||("get"in y?!p.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return p[_]}}),Object.defineProperty(h,g,y)}:function(h,p,_,g){g===void 0&&(g=_),h[g]=p[_]}),o=Os&&Os.__exportStar||function(h,p){for(var _ in h)_!=="default"&&!Object.prototype.hasOwnProperty.call(p,_)&&t(p,h,_)};Object.defineProperty(a,"__esModule",{value:!0}),a.getSupportedJavaScriptPrimitives=a.getSupportedRdfDatatypes=a.getTermRaw=a.toRdf=a.fromRdf=void 0;const n=kle(),r=r9(),e=Fh();o(r9(),a),o(Zle(),a),o(Fh(),a);const i=new n.DataFactory,s=new e.Translator;s.registerHandler(new r.TypeHandlerString,r.TypeHandlerString.TYPES.map(h=>i.namedNode(h)),["string"]),s.registerHandler(new r.TypeHandlerBoolean,[r.TypeHandlerBoolean.TYPE].map(h=>i.namedNode(h)),["boolean"]),s.registerHandler(new r.TypeHandlerNumberDouble,r.TypeHandlerNumberDouble.TYPES.map(h=>i.namedNode(h)),["number"]),s.registerHandler(new r.TypeHandlerNumberInteger,r.TypeHandlerNumberInteger.TYPES.map(h=>i.namedNode(h)),["number"]),s.registerHandler(new r.TypeHandlerDate,r.TypeHandlerDate.TYPES.map(h=>i.namedNode(h)),["object"]);function c(h,p){return s.fromRdf(h,p)}a.fromRdf=c;function u(h,p){return p&&"namedNode"in p&&(p={dataFactory:p}),p=p||{},p&&!p.dataFactory&&(p.dataFactory=i),s.toRdf(h,p)}a.toRdf=u;function l(h,p){return h.termType==="Literal"?c(h,p):h.value}a.getTermRaw=l;function f(){return s.getSupportedRdfDatatypes()}a.getSupportedRdfDatatypes=f;function d(){return s.getSupportedJavaScriptPrimitives()}a.getSupportedJavaScriptPrimitives=d}(Os)),Os}var xs={},pb={},Is={},yb={},a9;function o9(){if(a9)return yb;a9=1,Object.defineProperty(yb,"__esModule",{value:!0}),yb.BlankNode=void 0;class a{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}}return yb.BlankNode=a,yb}var bb={},_b={},s9;function u9(){if(s9)return _b;s9=1,Object.defineProperty(_b,"__esModule",{value:!0}),_b.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}return _b.DefaultGraph=a,a.INSTANCE=new a,_b}var mb={},gb={},c9;function tF(){if(c9)return gb;c9=1,Object.defineProperty(gb,"__esModule",{value:!0}),gb.NamedNode=void 0;class a{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}}return gb.NamedNode=a,gb}var l9;function d9(){if(l9)return mb;l9=1,Object.defineProperty(mb,"__esModule",{value:!0}),mb.Literal=void 0;const a=tF();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return mb.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),mb}var vb={},f9;function h9(){if(f9)return vb;f9=1,Object.defineProperty(vb,"__esModule",{value:!0}),vb.Quad=void 0;class a{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}}return vb.Quad=a,vb}var Tb={},p9;function y9(){if(p9)return Tb;p9=1,Object.defineProperty(Tb,"__esModule",{value:!0}),Tb.Variable=void 0;class a{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}}return Tb.Variable=a,Tb}var b9;function tde(){if(b9)return bb;b9=1,Object.defineProperty(bb,"__esModule",{value:!0}),bb.DataFactory=void 0;const a=o9(),t=u9(),o=d9(),n=tF(),r=h9(),e=y9();let i=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return bb.DataFactory=s,bb}var _9;function rde(){return _9||(_9=1,function(a){var t=Is&&Is.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Is&&Is.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(o9(),a),o(tde(),a),o(u9(),a),o(d9(),a),o(tF(),a),o(h9(),a),o(y9(),a)}(Is)),Is}var rF,m9;function g9(){if(m9)return rF;m9=1;var{Buffer:a}=Pi(),t={},o=t.LEFT_BRACE=1,n=t.RIGHT_BRACE=2,r=t.LEFT_BRACKET=3,e=t.RIGHT_BRACKET=4,i=t.COLON=5,s=t.COMMA=6,c=t.TRUE=7,u=t.FALSE=8,l=t.NULL=9,f=t.STRING=10,d=t.NUMBER=11,h=t.START=17,p=t.STOP=18,_=t.TRUE1=33,g=t.TRUE2=34,y=t.TRUE3=35,m=t.FALSE1=49,b=t.FALSE2=50,T=t.FALSE3=51,w=t.FALSE4=52,O=t.NULL1=65,F=t.NULL2=66,Q=t.NULL3=67,j=t.NUMBER1=81,x=t.NUMBER3=83,I=t.STRING1=97,D=t.STRING2=98,C=t.STRING3=99,X=t.STRING4=100,z=t.STRING5=101,J=t.STRING6=102,ie=t.VALUE=113,se=t.KEY=114,ye=t.OBJECT=129,K=t.ARRAY=130,Te=92,Ne=47,_e=8,$=12,He=10,qe=13,Ce=9,xe=64*1024;function we(B){return a.alloc?a.alloc(B):new a(B)}function ee(){this.tState=h,this.value=void 0,this.string=void 0,this.stringBuffer=we(xe),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=ie,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:we(2),3:we(3),4:we(4)},this.offset=-1}ee.toknam=function(B){for(var R=Object.keys(t),q=0,W=R.length;q<W;q++){var re=R[q];if(t[re]===B)return re}return B&&"0x"+B.toString(16)};var M=ee.prototype;return M.onError=function(B){throw B},M.charError=function(B,R){this.tState=p,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(B[R]))+" at position "+R+" in state "+ee.toknam(this.tState)))},M.appendStringChar=function(B){this.stringBufferOffset>=xe&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=B},M.appendStringBuf=function(B,R,q){var W=B.length;typeof R=="number"&&(typeof q=="number"?q<0?W=B.length-R+q:W=q-R:W=B.length-R),W<0&&(W=0),this.stringBufferOffset+W>xe&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),B.copy(this.stringBuffer,this.stringBufferOffset,R,q),this.stringBufferOffset+=W},M.write=function(B){typeof B=="string"&&(B=new a(B));for(var R,q=0,W=B.length;q<W;q++)if(this.tState===h){if(R=B[q],this.offset++,R===123)this.onToken(o,"{");else if(R===125)this.onToken(n,"}");else if(R===91)this.onToken(r,"[");else if(R===93)this.onToken(e,"]");else if(R===58)this.onToken(i,":");else if(R===44)this.onToken(s,",");else if(R===116)this.tState=_;else if(R===102)this.tState=m;else if(R===110)this.tState=O;else if(R===34)this.string="",this.stringBufferOffset=0,this.tState=I;else if(R===45)this.string="-",this.tState=j;else if(R>=48&&R<64)this.string=String.fromCharCode(R),this.tState=x;else if(!(R===32||R===9||R===10||R===13))return this.charError(B,q)}else if(this.tState===I)if(R=B[q],this.bytes_remaining>0){for(var re=0;re<this.bytes_remaining;re++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+re]=B[re];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,q=q+re-1}else if(this.bytes_remaining===0&&R>=128){if(R<=193||R>244)return this.onError(new Error("Invalid UTF-8 character at position "+q+" in state "+ee.toknam(this.tState)));if(R>=194&&R<=223&&(this.bytes_in_sequence=2),R>=224&&R<=239&&(this.bytes_in_sequence=3),R>=240&&R<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+q>B.length){for(var Y=0;Y<=B.length-1-q;Y++)this.temp_buffs[this.bytes_in_sequence][Y]=B[q+Y];this.bytes_remaining=q+this.bytes_in_sequence-B.length,q=B.length-1}else this.appendStringBuf(B,q,q+this.bytes_in_sequence),q=q+this.bytes_in_sequence-1}else if(R===34)this.tState=h,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(f,this.string),this.offset+=a.byteLength(this.string,"utf8")+1,this.string=void 0;else if(R===92)this.tState=D;else if(R>=32)this.appendStringChar(R);else return this.charError(B,q);else if(this.tState===D)if(R=B[q],R===34)this.appendStringChar(R),this.tState=I;else if(R===92)this.appendStringChar(Te),this.tState=I;else if(R===47)this.appendStringChar(Ne),this.tState=I;else if(R===98)this.appendStringChar(_e),this.tState=I;else if(R===102)this.appendStringChar($),this.tState=I;else if(R===110)this.appendStringChar(He),this.tState=I;else if(R===114)this.appendStringChar(qe),this.tState=I;else if(R===116)this.appendStringChar(Ce),this.tState=I;else if(R===117)this.unicode="",this.tState=C;else return this.charError(B,q);else if(this.tState===C||this.tState===X||this.tState===z||this.tState===J)if(R=B[q],R>=48&&R<64||R>64&&R<=70||R>96&&R<=102){if(this.unicode+=String.fromCharCode(R),this.tState++===J){var ue=parseInt(this.unicode,16);this.unicode=void 0,this.highSurrogate!==void 0&&ue>=56320&&ue<57344?(this.appendStringBuf(new a(String.fromCharCode(this.highSurrogate,ue))),this.highSurrogate=void 0):this.highSurrogate===void 0&&ue>=55296&&ue<56320?this.highSurrogate=ue:(this.highSurrogate!==void 0&&(this.appendStringBuf(new a(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new a(String.fromCharCode(ue)))),this.tState=I}}else return this.charError(B,q);else if(this.tState===j||this.tState===x)switch(R=B[q],R){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(R),this.tState=x;break;default:this.tState=h;var te=this.numberReviver(this.string,B,q);if(te)return te;this.offset+=this.string.length-1,this.string=void 0,q--;break}else if(this.tState===_)if(B[q]===114)this.tState=g;else return this.charError(B,q);else if(this.tState===g)if(B[q]===117)this.tState=y;else return this.charError(B,q);else if(this.tState===y)if(B[q]===101)this.tState=h,this.onToken(c,!0),this.offset+=3;else return this.charError(B,q);else if(this.tState===m)if(B[q]===97)this.tState=b;else return this.charError(B,q);else if(this.tState===b)if(B[q]===108)this.tState=T;else return this.charError(B,q);else if(this.tState===T)if(B[q]===115)this.tState=w;else return this.charError(B,q);else if(this.tState===w)if(B[q]===101)this.tState=h,this.onToken(u,!1),this.offset+=4;else return this.charError(B,q);else if(this.tState===O)if(B[q]===117)this.tState=F;else return this.charError(B,q);else if(this.tState===F)if(B[q]===108)this.tState=Q;else return this.charError(B,q);else if(this.tState===Q)if(B[q]===108)this.tState=h,this.onToken(l,null),this.offset+=3;else return this.charError(B,q)},M.onToken=function(B,R){},M.parseError=function(B,R){this.tState=p,this.onError(new Error("Unexpected "+ee.toknam(B)+(R?"("+JSON.stringify(R)+")":"")+" in state "+ee.toknam(this.state)))},M.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},M.pop=function(){var B=this.value,R=this.stack.pop();this.value=R.value,this.key=R.key,this.mode=R.mode,this.emit(B),this.mode||(this.state=ie)},M.emit=function(B){this.mode&&(this.state=s),this.onValue(B)},M.onValue=function(B){},M.onToken=function(B,R){if(this.state===ie)if(B===f||B===d||B===c||B===u||B===l)this.value&&(this.value[this.key]=R),this.emit(R);else if(B===o)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=se,this.mode=ye;else if(B===r)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=K,this.state=ie;else if(B===n)if(this.mode===ye)this.pop();else return this.parseError(B,R);else if(B===e)if(this.mode===K)this.pop();else return this.parseError(B,R);else return this.parseError(B,R);else if(this.state===se)if(B===f)this.key=R,this.state=i;else if(B===n)this.pop();else return this.parseError(B,R);else if(this.state===i)if(B===i)this.state=ie;else return this.parseError(B,R);else if(this.state===s)if(B===s)this.mode===K?(this.key++,this.state=ie):this.mode===ye&&(this.state=se);else if(B===e&&this.mode===K||B===n&&this.mode===ye)this.pop();else return this.parseError(B,R);else return this.parseError(B,R)},M.numberReviver=function(B,R,q){var W=Number(B);if(isNaN(W))return this.charError(R,q);B.match(/[0-9]+/)==B&&W.toString()!=B?this.onToken(f,B):this.onToken(d,W)},ee.C=t,rF=ee,rF}var v9;function nde(){if(v9)return pb;v9=1,Object.defineProperty(pb,"__esModule",{value:!0}),pb.SparqlJsonParser=void 0;const a=rde(),t=qt(),o=g9();let n=class{constructor(e){var i;e=e||{},this.dataFactory=e.dataFactory||new a.DataFactory,this.prefixVariableQuestionMark=!!e.prefixVariableQuestionMark,this.suppressMissingStreamResultsError=(i=e.suppressMissingStreamResultsError)!==null&&i!==void 0?i:!0}parseJsonResults(e){return e.results.bindings.map(i=>this.parseJsonBindings(i))}parseJsonResultsStream(e){const i=f=>l.emit("error",f);e.on("error",i);const s=new o;s.onError=i;let c=!1,u=!1;s.onValue=f=>{if(s.key==="vars"&&s.stack.length===2&&s.stack[1].key==="head")l.emit("variables",f.map(d=>this.dataFactory.variable(d))),c=!0;else if(s.key==="results"&&s.stack.length===1)u=!0;else if(typeof s.key=="number"&&s.stack.length===3&&s.stack[1].key==="results"&&s.stack[2].key==="bindings")try{l.push(this.parseJsonBindings(f))}catch(d){l.emit("error",d)}else s.key==="metadata"&&s.stack.length===1&&l.emit("metadata",f)};const l=e.on("end",f=>{!u&&!this.suppressMissingStreamResultsError?l.emit("error",new Error("No valid SPARQL query results were found.")):c||l.emit("variables",[])}).pipe(new t.Transform({objectMode:!0,transform(f,d,h){s.write(f),h()}}));return l}parseJsonBindings(e){const i={};for(const s in e){const c=e[s];i[this.prefixVariableQuestionMark?"?"+s:s]=this.parseJsonValue(c)}return i}parseJsonValue(e){let i;switch(e.type){case"bnode":i=this.dataFactory.blankNode(e.value);break;case"literal":e["xml:lang"]?i=this.dataFactory.literal(e.value,e["xml:lang"]):e.datatype?i=this.dataFactory.literal(e.value,this.dataFactory.namedNode(e.datatype)):i=this.dataFactory.literal(e.value);break;case"typed-literal":i=this.dataFactory.literal(e.value,this.dataFactory.namedNode(e.datatype));break;case"triple":const s=e.value;if(!s||!s.subject||!s.predicate||!s.object)throw new Error("Invalid quoted triple: "+JSON.stringify(e));i=this.dataFactory.quad(this.parseJsonValue(s.subject),this.parseJsonValue(s.predicate),this.parseJsonValue(s.object));break;default:i=this.dataFactory.namedNode(e.value);break}return i}parseJsonBoolean(e){if("boolean"in e)return e.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(e){return new Promise((i,s)=>{const c=new o;c.onError=s,c.onValue=u=>{c.key==="boolean"&&typeof u=="boolean"&&c.stack.length===1&&i(u)},e.on("error",s).on("data",u=>c.write(u)).on("end",()=>s(new Error("No valid ASK response was found.")))})}};return pb.SparqlJsonParser=n,pb}var T9;function w9(){return T9||(T9=1,function(a){var t=xs&&xs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=xs&&xs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(nde(),a)}(xs)),xs}var S9;function ide(){if(S9)return eb;S9=1,Object.defineProperty(eb,"__esModule",{value:!0}),eb.Converter=void 0;const a=ede(),t=w9();let o=class Zi{constructor(r){r=r||{delimiter:"_"},r.prefixVariableQuestionMark=!1,this.delimiter=r.delimiter||"_",this.parser=new t.SparqlJsonParser(r),this.materializeRdfJsTerms=r.materializeRdfJsTerms}static addValueToTree(r,e,i,s,c,u){const l=e[0],f=s?s+u+l:l,d=c.singularizeVariables[f];if(e.length===1)d?r[l]||(r[l]=i):(r[l]||(r[l]=[]),r[l].push(i));else{let h;d?(r[l]||(r[l]={}),h=r[l]):(r[l]||(r[l]=[{}]),h=r[l][0]),Zi.addValueToTree(h,e.slice(1),i,f,c,u)}}static mergeTrees(r,e){if(typeof r!=typeof e)throw new Error(`Two incompatible tree nodes were found: ${typeof r} and ${typeof e}`);if(Array.isArray(r)!==Array.isArray(e))throw new Error(`Two incompatible tree nodes were found: Array?${Array.isArray(r)} and Array?${Array.isArray(e)}`);if(typeof r=="object"&&typeof e=="object"){if(r.termType&&e.termType)return r.equals(e)?{valid:!0,result:r}:{valid:!1,result:r};if(Array.isArray(r)&&Array.isArray(e)){if(r.length>0){const i=[];let s=!1;for(const c of r){const u=Zi.mergeTrees(c,e[0]);u.valid?(s=!0,i.push(u.result)):i.push(c)}if(s)return{valid:!0,result:i}}return{valid:!0,result:r.concat(e)}}else{const i={};for(const s in e)i[s]=e[s];for(const s in r)if(i[s]){const c=Zi.mergeTrees(r[s],i[s]);if(c.valid)i[s]=c.result;else return{valid:!1,result:r}}else i[s]=r[s];return{valid:!0,result:i}}}else throw new Error(`Unmergable tree types: ${typeof r} and ${typeof e}`)}static materializeTree(r){if(r.termType)return(0,a.getTermRaw)(r);if(Array.isArray(r))return r.map(Zi.materializeTree);{const e={};for(const i in r)e[i]=Zi.materializeTree(r[i]);return e}}sparqlJsonResultsToTree(r,e){return this.bindingsToTree(this.parser.parseJsonResults(r),e||{singularizeVariables:{}})}bindingsToTree(r,e){const i=e&&e.singularizeVariables[""];let s=i?{}:[];for(const c of r){const u=i?{}:[{}];for(const l in c){const f=l.split(this.delimiter),d=c[l];Zi.addValueToTree(i?u:u[0],f,d,"",e,this.delimiter)}s=Zi.mergeTrees(s,u).result}return this.materializeRdfJsTerms&&(s=Zi.materializeTree(s)),s}};return eb.Converter=o,eb}var O9;function ade(){return O9||(O9=1,function(a){var t=Ss&&Ss.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ss&&Ss.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(ide(),a)}(Ss)),Ss}var A9;function E9(){if(A9)return Z1;A9=1,Object.defineProperty(Z1,"__esModule",{value:!0}),Z1.ActorQueryResultSerializeTree=void 0;const a=vi(),t=tt(),o=De(),n=qt(),r=ade();let e=class fae extends a.ActorQueryResultSerializeFixedMediaTypes{constructor(s){super(s)}static async bindingsStreamToGraphQl(s,c,u){const l=o.ActionContext.ensureActionContext(c),f=new r.Converter(u),d={singularizeVariables:l.get(t.KeysInitQuery.graphqlSingularizeVariables)??{}};return f.bindingsToTree(await s.map(h=>Object.fromEntries([...h].map(([p,_])=>[p.value,_]))).toArray(),d)}async testHandleChecked(s){return s.type!=="bindings"?(0,o.failTest)("This actor can only handle bindings streams."):(0,o.passTestVoid)()}async runHandle(s,c){const u=new n.Readable;return u._read=()=>{u._read=()=>{},fae.bindingsStreamToGraphQl(s.bindingsStream,s.context,{materializeRdfJsTerms:!0}).then(l=>{u.push(JSON.stringify(l,null,"  ")),u.push(null)}).catch(l=>u.emit("error",l))},{data:u}}};return Z1.ActorQueryResultSerializeTree=e,Z1}var x9;function ode(){return x9||(x9=1,function(a){var t=ws&&ws.__createBinding||(Object.create?function(e,i,s,c){c===void 0&&(c=s);var u=Object.getOwnPropertyDescriptor(i,s);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(e,c,u)}:function(e,i,s,c){c===void 0&&(c=s),e[c]=i[s]}),o=ws&&ws.__exportStar||function(e,i){for(var s in e)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,e,s)};Object.defineProperty(a,"__esModule",{value:!0}),a.bindingsStreamToGraphQl=void 0;const n=E9(),{bindingsStreamToGraphQl:r}=n.ActorQueryResultSerializeTree;a.bindingsStreamToGraphQl=r,o(E9(),a)}(ws)),ws}var Rs={},wb={},I9;function sde(){if(I9)return wb;I9=1,Object.defineProperty(wb,"__esModule",{value:!0}),wb.MediatorCombineUnion=void 0;const a=De();let t=class extends a.Mediator{constructor(n){super(n),this.combiner=this.createCombiner()}async mediate(n){let r;try{r=this.publish(n)}catch{r=[]}if(this.filterFailures){const s=[];for(const c of r)(await c.reply).isPassed()&&s.push(c);r=s}const e=[];await Promise.all(r.map(async({reply:s},c)=>{const u=await s,l=u.getOrThrow();return e[c]=u.getSideData(),l}));const i=await Promise.all(r.map((s,c)=>s.actor.runObservable(n,e[c])));return this.combiner(i)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return n=>{const r={};return r[this.field]={},[{}].concat(n.map(e=>e[this.field])).forEach(e=>{r[this.field]={...e,...r[this.field]}}),r}}};return wb.MediatorCombineUnion=t,wb}var R9;function pa(){return R9||(R9=1,function(a){var t=Rs&&Rs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Rs&&Rs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(sde(),a)}(Rs)),Rs}var Fs={},Sb={},F9;function ude(){if(F9)return Sb;F9=1,Object.defineProperty(Sb,"__esModule",{value:!0}),Sb.MediatorNumber=void 0;const a=De();let t=class extends a.Mediator{constructor(n){super(n),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return n=>n.reduce((r,e,i)=>{const s=this.getOrDefault(e[this.field],Number.POSITIVE_INFINITY);return s!==null&&(Number.isNaN(r[0])||r[0]>s)?[s,i]:r},[Number.NaN,-1])[1];case"max":return n=>n.reduce((r,e,i)=>{const s=this.getOrDefault(e[this.field],Number.NEGATIVE_INFINITY);return s!==null&&(Number.isNaN(r[0])||r[0]<s)?[s,i]:r},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(n,r){return n===void 0?r:n}async mediateWith(n,r){let e=await Promise.all(r.map(({reply:l})=>l));const i=[];if(this.ignoreFailures){const l={};l[this.field]=null,e=e.map(f=>f.isFailed()?(i.push(f.getFailMessage()),(0,a.passTestWithSideData)(l,void 0)):f)}const s=[],c=e.map((l,f)=>{const d=l.getOrThrow();return s[f]=l.getSideData(),d}),u=this.indexPicker(c);return u<0?(0,a.failTest)(this.constructFailureMessage(n,i)):(0,a.passTestWithSideData)(r[u].actor,s[u])}};return Sb.MediatorNumber=t,Sb}var N9;function Ob(){return N9||(N9=1,function(a){var t=Fs&&Fs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Fs&&Fs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(ude(),a)}(Fs)),Fs}var Ns={},Ab={},Ds={},Eb={},Mi={},D9;function nF(){if(D9)return Mi;D9=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.ActorDereferenceBase=Mi.isHardError=Mi.emptyReadable=void 0;const a=tt(),t=De(),o=qt();function n(){const i=new o.Readable;return i.push(null),i}Mi.emptyReadable=n;function r(i){return!i.get(a.KeysInitQuery.lenient)}Mi.isHardError=r;let e=class extends t.Actor{constructor(s){super(s)}async dereferenceErrorHandler(s,c,u){if(r(s.context))throw c;return this.logWarn(s.context,c.message),{...u,data:n()}}};return Mi.ActorDereferenceBase=e,Mi}var P9;function cde(){if(P9)return Eb;P9=1,Object.defineProperty(Eb,"__esModule",{value:!0}),Eb.ActorDereference=void 0;const a=nF();let t=class extends a.ActorDereferenceBase{constructor(n){super(n)}async handleDereferenceErrors(n,r,e,i=0){return this.dereferenceErrorHandler(n,r,{url:n.url,exists:!1,headers:e,requestTime:i})}};return Eb.ActorDereference=t,Eb}var Ps={},L9;function lde(){if(L9)return Ps;L9=1,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.ActorDereferenceParse=Ps.getMediaTypeFromExtension=void 0;const a=De(),t=qt(),o=nF();function n(e,i){const s=e.lastIndexOf(".");return s>=0&&(i==null?void 0:i[e.slice(s+1)])||""}Ps.getMediaTypeFromExtension=n;let r=class extends o.ActorDereferenceBase{constructor(i){super(i)}async test(i){return(0,a.passTestVoid)()}handleDereferenceStreamErrors(i,s){return(0,o.isHardError)(i.context)||(s.on("error",c=>{this.logWarn(i.context,c.message,()=>({url:i.url})),s.push(null)}),s=s.pipe(new t.PassThrough({objectMode:!0}))),s}async run(i){var l,f;const{context:s}=i,c=await this.mediatorDereference.mediate({...i,mediaTypes:async()=>{var d,h;return(h=await((d=this.mediatorParseMediatypes)==null?void 0:d.mediate({context:s,mediaTypes:!0})))==null?void 0:h.mediaTypes}});let u;try{u=(await this.mediatorParse.mediate({context:s,handle:{context:s,...c,metadata:await this.getMetadata(c)},handleMediaType:c.mediaType||n(c.url,this.mediaMappings)||i.mediaType})).handle,u.data=this.handleDereferenceStreamErrors(i,u.data)}catch(d){await((f=(l=c.data).close)==null?void 0:f.call(l)),u=await this.dereferenceErrorHandler(i,d,{})}return{...c,...u}}};return Ps.ActorDereferenceParse=r,Ps}var j9;function iF(){return j9||(j9=1,function(a){var t=Ds&&Ds.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ds&&Ds.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(cde(),a),o(lde(),a),o(nF(),a)}(Ds)),Ds}var M9;function dde(){if(M9)return Ab;M9=1,Object.defineProperty(Ab,"__esModule",{value:!0}),Ab.ActorDereferenceFallback=void 0;const a=iF(),t=De();let o=class extends a.ActorDereference{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){return this.handleDereferenceErrors(r,new Error(`Could not dereference '${r.url}'`))}};return Ab.ActorDereferenceFallback=o,Ab}var q9;function fde(){return q9||(q9=1,function(a){var t=Ns&&Ns.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ns&&Ns.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(dde(),a)}(Ns)),Ns}var Ls={},xb={},js={},Ib={},C9;function hde(){if(C9)return Ib;C9=1,Object.defineProperty(Ib,"__esModule",{value:!0}),Ib.ActorRdfJoinEntriesSort=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}};return Ib.ActorRdfJoinEntriesSort=t,Ib}var B9;function pde(){return B9||(B9=1,function(a){var t=js&&js.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=js&&js.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(hde(),a)}(js)),js}var $9;function yde(){if($9)return xb;$9=1,Object.defineProperty(xb,"__esModule",{value:!0}),xb.ActorRdfJoinEntriesSortCardinality=void 0;const a=pde(),t=De();let o=class extends a.ActorRdfJoinEntriesSort{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){return{entries:[...r.entries].sort((i,s)=>i.metadata.cardinality.value-s.metadata.cardinality.value)}}};return xb.ActorRdfJoinEntriesSortCardinality=o,xb}var U9;function bde(){return U9||(U9=1,function(a){var t=Ls&&Ls.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ls&&Ls.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(yde(),a)}(Ls)),Ls}var Ms={},qs={},Cs={},Rb={},V9;function _de(){if(V9)return Rb;V9=1,Object.defineProperty(Rb,"__esModule",{value:!0}),Rb.ActorRdfJoinSelectivity=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}};return Rb.ActorRdfJoinSelectivity=t,Rb}var Q9;function mde(){return Q9||(Q9=1,function(a){var t=Cs&&Cs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Cs&&Cs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(_de(),a)}(Cs)),Cs}var H9;function gde(){if(H9)return qs;H9=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.JoinTypes=qs.ActorRdfJoinSelectivityVariableCounting=void 0;const a=mde(),t=De(),o=mt();let n=class eh extends a.ActorRdfJoinSelectivity{constructor(i){super(i)}async test(i){return(0,t.passTest)({accuracy:.5})}static getPatternCost(i){let s=1;return i.subject.termType==="Variable"&&(s+=4),(i.predicate.termType==="Variable"||i.type===o.Algebra.types.PATH)&&(s+=1),i.object.termType==="Variable"&&(s+=2),i.graph.termType==="Variable"&&(s+=1),s/9}static getJoinTypes(i,s){const c=[];return i.subject.termType==="Variable"?(i.subject.equals(s.subject)&&c.push(r.unboundSS),s.type==="pattern"&&i.subject.equals(s.predicate)&&c.push(r.unboundSP),i.subject.equals(s.object)&&c.push(r.unboundSO),i.subject.equals(s.graph)&&c.push(r.unboundSG)):(i.subject.equals(s.subject)&&c.push(r.boundSS),s.type==="pattern"&&i.subject.equals(s.predicate)&&c.push(r.boundSP),i.subject.equals(s.object)&&c.push(r.boundSO),i.subject.equals(s.graph)&&c.push(r.boundSG)),i.type==="pattern"&&(i.predicate.termType==="Variable"?(i.predicate.equals(s.subject)&&c.push(r.unboundPS),s.type==="pattern"&&i.predicate.equals(s.predicate)&&c.push(r.unboundPP),i.predicate.equals(s.object)&&c.push(r.unboundPO),i.predicate.equals(s.graph)&&c.push(r.unboundPG)):(i.predicate.equals(s.subject)&&c.push(r.boundPS),s.type==="pattern"&&i.predicate.equals(s.predicate)&&c.push(r.boundPP),i.predicate.equals(s.object)&&c.push(r.boundPO),i.predicate.equals(s.graph)&&c.push(r.boundPG))),i.object.termType==="Variable"?(i.object.equals(s.subject)&&c.push(r.unboundOS),s.type==="pattern"&&i.object.equals(s.predicate)&&c.push(r.unboundOP),i.object.equals(s.object)&&c.push(r.unboundOO),i.object.equals(s.graph)&&c.push(r.unboundOG)):(i.object.equals(s.subject)&&c.push(r.boundOS),s.type==="pattern"&&i.object.equals(s.predicate)&&c.push(r.boundOP),i.object.equals(s.object)&&c.push(r.boundOO),i.object.equals(s.graph)&&c.push(r.boundOG)),i.graph.termType==="Variable"?(i.graph.equals(s.subject)&&c.push(r.unboundGS),s.type==="pattern"&&i.graph.equals(s.predicate)&&c.push(r.unboundGP),i.graph.equals(s.object)&&c.push(r.unboundGO),i.graph.equals(s.graph)&&c.push(r.unboundGG)):(i.graph.equals(s.subject)&&c.push(r.boundGS),s.type==="pattern"&&i.graph.equals(s.predicate)&&c.push(r.boundGP),i.graph.equals(s.object)&&c.push(r.boundGO),i.graph.equals(s.graph)&&c.push(r.boundGG)),c}static getOperationsPairwiseJoinCost(i,s){let c=eh.MAX_PAIRWISE_COST;for(const u of eh.getJoinTypes(i,s))switch(u){case r.boundSS:c-=2*2;break;case r.boundSP:c-=3*2;break;case r.boundSO:c-=1*2;break;case r.boundSG:c-=3*2;break;case r.boundPS:c-=3*2;break;case r.boundPP:return 1;case r.boundPO:c-=3*2;break;case r.boundPG:c-=3*2;break;case r.boundOS:c-=1*2;break;case r.boundOP:c-=3*2;break;case r.boundOO:c-=1*2;break;case r.boundOG:c-=3*2;break;case r.boundGS:c-=3*2;break;case r.boundGP:c-=3*2;break;case r.boundGO:c-=3*2;break;case r.boundGG:c-=3*2;break;case r.unboundSS:c-=2;break;case r.unboundSP:c-=3;break;case r.unboundSO:c-=1;break;case r.unboundSG:c-=3;break;case r.unboundPS:c-=3;break;case r.unboundPP:c-=3;break;case r.unboundPO:c-=3;break;case r.unboundPG:c-=3;break;case r.unboundOS:c-=1;break;case r.unboundOP:c-=3;break;case r.unboundOO:c-=1;break;case r.unboundOG:c-=3;break;case r.unboundGS:c-=3;break;case r.unboundGP:c-=3;break;case r.unboundGO:c-=3;break;case r.unboundGG:c-=3;break}return c/eh.MAX_PAIRWISE_COST}static getOperationsJoinCost(i){const s=[];for(const l of i)o.Util.recurseOperation(l,{[o.Algebra.types.PATTERN](f){return s.push(f),!1},[o.Algebra.types.PATH](f){return s.push(f),!1}});let c=0,u=0;for(const l of s)for(const f of s)l!==f&&(c+=eh.getOperationsPairwiseJoinCost(l,f),u++);return u===0?1:c/u*s.reduce((l,f)=>l*eh.getPatternCost(f),1)}async run(i){return i.entries.length<=1?{selectivity:1}:{selectivity:eh.getOperationsJoinCost(i.entries.map(s=>s.operation))}}};qs.ActorRdfJoinSelectivityVariableCounting=n,n.MAX_PAIRWISE_COST=41*2;var r;return function(e){e[e.boundSS=0]="boundSS",e[e.boundSP=1]="boundSP",e[e.boundSO=2]="boundSO",e[e.boundSG=3]="boundSG",e[e.boundPS=4]="boundPS",e[e.boundPP=5]="boundPP",e[e.boundPO=6]="boundPO",e[e.boundPG=7]="boundPG",e[e.boundOS=8]="boundOS",e[e.boundOP=9]="boundOP",e[e.boundOO=10]="boundOO",e[e.boundOG=11]="boundOG",e[e.boundGS=12]="boundGS",e[e.boundGP=13]="boundGP",e[e.boundGO=14]="boundGO",e[e.boundGG=15]="boundGG",e[e.unboundSS=16]="unboundSS",e[e.unboundSP=17]="unboundSP",e[e.unboundSO=18]="unboundSO",e[e.unboundSG=19]="unboundSG",e[e.unboundPS=20]="unboundPS",e[e.unboundPP=21]="unboundPP",e[e.unboundPO=22]="unboundPO",e[e.unboundPG=23]="unboundPG",e[e.unboundOS=24]="unboundOS",e[e.unboundOP=25]="unboundOP",e[e.unboundOO=26]="unboundOO",e[e.unboundOG=27]="unboundOG",e[e.unboundGS=28]="unboundGS",e[e.unboundGP=29]="unboundGP",e[e.unboundGO=30]="unboundGO",e[e.unboundGG=31]="unboundGG"}(r||(qs.JoinTypes=r={})),qs}var G9;function vde(){return G9||(G9=1,function(a){var t=Ms&&Ms.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ms&&Ms.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(gde(),a)}(Ms)),Ms}var Bs={},Fb={},$s={},Nb={},z9;function Tde(){if(z9)return Nb;z9=1,Object.defineProperty(Nb,"__esModule",{value:!0}),Nb.ActorRdfMetadata=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}};return Nb.ActorRdfMetadata=t,Nb}var k9;function X9(){return k9||(k9=1,function(a){var t=$s&&$s.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=$s&&$s.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Tde(),a)}($s)),$s}var W9;function wde(){if(W9)return Fb;W9=1,Object.defineProperty(Fb,"__esModule",{value:!0}),Fb.ActorRdfMetadataPrimaryTopic=void 0;const a=X9(),t=De(),o=qt();let n=class extends a.ActorRdfMetadata{constructor(e){super(e)}async test(e){return e.triples?(0,t.failTest)("This actor only supports non-triple quad streams."):(0,t.passTestVoid)()}async run(e){const i=new o.Readable({objectMode:!0}),s=new o.Readable({objectMode:!0}),c=()=>{i._read=s._read=()=>{},e.quads.on("error",d=>{i.emit("error",d),s.emit("error",d)});const u={};let l;const f={};e.quads.on("data",d=>{d.predicate.value==="http://rdfs.org/ns/void#subset"&&d.object.value===e.url?l=d.subject.value:d.predicate.value==="http://xmlns.com/foaf/0.1/primaryTopic"&&(f[d.object.value]=d.subject.value);let h=u[d.graph.value];h||(h=u[d.graph.value]=[]),h.push(d)}),e.quads.on("end",()=>{const d=l?f[l]:void 0;for(const h in u)if(h===d){for(const p of u[h])s.push(p);if(this.metadataToData)for(const p of u[h])i.push(p)}else{for(const p of u[h])i.push(p);if(!d&&this.dataToMetadataOnInvalidMetadataGraph)for(const p of u[h])s.push(p)}i.push(null),s.push(null)})};return i._read=s._read=()=>{c()},{data:i,metadata:s}}};return Fb.ActorRdfMetadataPrimaryTopic=n,Fb}var J9;function Sde(){return J9||(J9=1,function(a){var t=Bs&&Bs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Bs&&Bs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(wde(),a)}(Bs)),Bs}var Us={},Db={},K9;function Ode(){if(K9)return Db;K9=1,Object.defineProperty(Db,"__esModule",{value:!0}),Db.ActorRdfMetadataAll=void 0;const a=X9(),t=De(),o=qt();let n=class extends a.ActorRdfMetadata{constructor(e){super(e)}async test(e){return(0,t.passTestVoid)()}async run(e){const i=new o.Readable({objectMode:!0}),s=new o.Readable({objectMode:!0});e.quads.on("error",u=>{i.emit("error",u),s.emit("error",u)}),e.quads.on("end",()=>{i.push(null),s.push(null)});const c=i._read=s._read=u=>{for(;u>0;){const l=e.quads.read();if(l===null)return e.quads.once("readable",()=>c(u));u--,i.push(l),s.push(l)}};return{data:i,metadata:s}}};return Db.ActorRdfMetadataAll=n,Db}var Y9;function Ade(){return Y9||(Y9=1,function(a){var t=Us&&Us.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Us&&Us.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Ode(),a)}(Us)),Us}var Vs={},Pb={},Qs={},Lb={},Z9;function Ede(){if(Z9)return Lb;Z9=1,Object.defineProperty(Lb,"__esModule",{value:!0}),Lb.ActorRdfMetadataAccumulate=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}};return Lb.ActorRdfMetadataAccumulate=t,Lb}var e7;function aF(){return e7||(e7=1,function(a){var t=Qs&&Qs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Qs&&Qs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Ede(),a)}(Qs)),Qs}var t7;function xde(){if(t7)return Pb;t7=1,Object.defineProperty(Pb,"__esModule",{value:!0}),Pb.ActorRdfMetadataAccumulateCardinality=void 0;const a=aF(),t=De();let o=class extends a.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){if(r.mode==="initialize")return{metadata:{cardinality:{type:"exact",value:0}}};const e={...r.accumulatedMetadata.cardinality};if(e.dataset){if(r.accumulatedMetadata.defaultGraph===e.dataset&&e.dataset!==r.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:r.appendingMetadata.cardinality}};if(r.appendingMetadata.cardinality.dataset){if(e.dataset!==r.appendingMetadata.cardinality.dataset&&r.appendingMetadata.subsetOf===e.dataset)return{metadata:{cardinality:r.appendingMetadata.cardinality}};if(e.dataset===r.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:e}};delete e.dataset}else return{metadata:{cardinality:e}}}return!r.appendingMetadata.cardinality||!Number.isFinite(r.appendingMetadata.cardinality.value)?(e.type="estimate",e.value=Number.POSITIVE_INFINITY):(r.appendingMetadata.cardinality.type==="estimate"&&(e.type="estimate"),e.value+=r.appendingMetadata.cardinality.value),{metadata:{cardinality:e}}}};return Pb.ActorRdfMetadataAccumulateCardinality=o,Pb}var r7;function Ide(){return r7||(r7=1,function(a){var t=Vs&&Vs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Vs&&Vs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(xde(),a)}(Vs)),Vs}var Hs={},jb={},n7;function Rde(){if(n7)return jb;n7=1,Object.defineProperty(jb,"__esModule",{value:!0}),jb.ActorRdfMetadataAccumulatePageSize=void 0;const a=aF(),t=De();let o=class extends a.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){return r.mode==="initialize"?{metadata:{}}:{metadata:{..."pageSize"in r.accumulatedMetadata||"pageSize"in r.appendingMetadata?{pageSize:(r.accumulatedMetadata.pageSize??0)+(r.appendingMetadata.pageSize??0)}:{}}}}};return jb.ActorRdfMetadataAccumulatePageSize=o,jb}var i7;function Fde(){return i7||(i7=1,function(a){var t=Hs&&Hs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Hs&&Hs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Rde(),a)}(Hs)),Hs}var Gs={},Mb={},a7;function Nde(){if(a7)return Mb;a7=1,Object.defineProperty(Mb,"__esModule",{value:!0}),Mb.ActorRdfMetadataAccumulateRequestTime=void 0;const a=aF(),t=De();let o=class extends a.ActorRdfMetadataAccumulate{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){return r.mode==="initialize"?{metadata:{}}:{metadata:{..."requestTime"in r.accumulatedMetadata||"requestTime"in r.appendingMetadata?{requestTime:(r.accumulatedMetadata.requestTime??0)+(r.appendingMetadata.requestTime??0)}:{}}}}};return Mb.ActorRdfMetadataAccumulateRequestTime=o,Mb}var o7;function Dde(){return o7||(o7=1,function(a){var t=Gs&&Gs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Gs&&Gs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Nde(),a)}(Gs)),Gs}var zs={},qb={},ks={},Cb={},s7;function Pde(){if(s7)return Cb;s7=1,Object.defineProperty(Cb,"__esModule",{value:!0}),Cb.ActorRdfMetadataExtract=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}};return Cb.ActorRdfMetadataExtract=t,Cb}var u7;function ya(){return u7||(u7=1,function(a){var t=ks&&ks.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ks&&ks.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Pde(),a)}(ks)),ks}var oF={exports:{}},c7;function Lde(){return c7||(c7=1,function(a){(function(t){var o=function(){function p(_){this.options=_}return p.prototype.toString=function(){return JSON&&JSON.stringify?JSON.stringify(this.options):this.options},p}(),n=function(){function p(F){return Object.prototype.toString.apply(F)==="[object Array]"}function _(F){return Object.prototype.toString.apply(F)==="[object String]"}function g(F){return Object.prototype.toString.apply(F)==="[object Number]"}function y(F){return Object.prototype.toString.apply(F)==="[object Boolean]"}function m(F,Q){var j="",x=!0,I;for(I=0;I<F.length;I+=1)x?x=!1:j+=Q,j+=F[I];return j}function b(F,Q){for(var j=[],x=0;x<F.length;x+=1)j.push(Q(F[x]));return j}function T(F,Q){for(var j=[],x=0;x<F.length;x+=1)Q(F[x])&&j.push(F[x]);return j}function w(F){if(typeof F!="object"||F===null)return F;Object.freeze(F);var Q,j;for(j in F)F.hasOwnProperty(j)&&(Q=F[j],typeof Q=="object"&&O(Q));return F}function O(F){return typeof Object.freeze=="function"?w(F):F}return{isArray:p,isString:_,isNumber:g,isBoolean:y,join:m,map:b,filter:T,deepFreeze:O}}(),r=function(){function p(y){return y>="a"&&y<="z"||y>="A"&&y<="Z"}function _(y){return y>="0"&&y<="9"}function g(y){return _(y)||y>="a"&&y<="f"||y>="A"&&y<="F"}return{isAlpha:p,isDigit:_,isHexDigit:g}}(),e=function(){var p={encode:function(T){return unescape(encodeURIComponent(T))},numBytes:function(T){return T<=127?1:194<=T&&T<=223?2:224<=T&&T<=239?3:240<=T&&T<=244?4:0},isValidFollowingCharCode:function(T){return 128<=T&&T<=191}};function _(T){var w="",O=p.encode(T),F,Q;for(Q=0;Q<O.length;Q+=1)F=O.charCodeAt(Q),w+="%"+(F<16?"0":"")+F.toString(16).toUpperCase();return w}function g(T,w){return T.charAt(w)==="%"&&r.isHexDigit(T.charAt(w+1))&&r.isHexDigit(T.charAt(w+2))}function y(T,w){return parseInt(T.substr(w,2),16)}function m(T){if(!g(T,0))return!1;var w=y(T,1),O=p.numBytes(w);if(O===0)return!1;for(var F=1;F<O;F+=1)if(!g(T,3*F)||!p.isValidFollowingCharCode(y(T,3*F+1)))return!1;return!0}function b(T,w){var O=T.charAt(w);if(!g(T,w))return O;var F=y(T,w+1),Q=p.numBytes(F);if(Q===0)return O;for(var j=1;j<Q;j+=1)if(!g(T,w+3*j)||!p.isValidFollowingCharCode(y(T,w+3*j+1)))return O;return T.substr(w,3*Q)}return{encodeCharacter:_,isPctEncoded:m,pctCharAt:b}}(),i=function(){function p(y){return r.isAlpha(y)||r.isDigit(y)||y==="_"||e.isPctEncoded(y)}function _(y){return r.isAlpha(y)||r.isDigit(y)||y==="-"||y==="."||y==="_"||y==="~"}function g(y){return y===":"||y==="/"||y==="?"||y==="#"||y==="["||y==="]"||y==="@"||y==="!"||y==="$"||y==="&"||y==="("||y===")"||y==="*"||y==="+"||y===","||y===";"||y==="="||y==="'"}return{isVarchar:p,isUnreserved:_,isReserved:g}}(),s=function(){function p(m,b){var T="",w,O="";for((typeof m=="number"||typeof m=="boolean")&&(m=m.toString()),w=0;w<m.length;w+=O.length)O=m.charAt(w),T+=i.isUnreserved(O)||b&&i.isReserved(O)?O:e.encodeCharacter(O);return T}function _(m){return p(m,!0)}function g(m,b){var T=e.pctCharAt(m,b);return T.length>1||i.isReserved(T)||i.isUnreserved(T)?T:e.encodeCharacter(T)}function y(m){var b="",T,w="";for(T=0;T<m.length;T+=w.length)w=e.pctCharAt(m,T),w.length>1?b+=w:b+=i.isReserved(w)||i.isUnreserved(w)?w:e.encodeCharacter(w);return b}return{encode:p,encodePassReserved:_,encodeLiteral:y,encodeLiteralCharacter:g}}(),c=function(){var p={};function _(g){p[g]={symbol:g,separator:g==="?"?"&":g===""||g==="+"||g==="#"?",":g,named:g===";"||g==="&"||g==="?",ifEmpty:g==="&"||g==="?"?"=":"",first:g==="+"?"":g,encode:g==="+"||g==="#"?s.encodePassReserved:s.encode,toString:function(){return this.symbol}}}return _(""),_("+"),_("#"),_("."),_("/"),_(";"),_("?"),_("&"),{valueOf:function(g){return p[g]?p[g]:"=,!@|".indexOf(g)>=0?null:p[""]}}}();function u(p){var _;if(p==null)return!1;if(n.isArray(p))return p.length>0;if(typeof p=="string"||typeof p=="number"||typeof p=="boolean")return!0;for(_ in p)if(p.hasOwnProperty(_)&&u(p[_]))return!0;return!1}var l=function(){function p(_){this.literal=s.encodeLiteral(_)}return p.prototype.expand=function(){return this.literal},p.prototype.toString=p.prototype.expand,p}(),f=function(){function p(g){var y,m=[],b=null,T=null,w=null,O,F="";function Q(){var x=g.substring(T,O);if(x.length===0)throw new o({expressionText:g,message:"a varname must be specified",position:O});b={varname:x,exploded:!1,maxLength:null},T=null}function j(){if(w===O)throw new o({expressionText:g,message:"after a ':' you have to specify the length",position:O});b.maxLength=parseInt(g.substring(w,O),10),w=null}for(y=function(x){var I=c.valueOf(x);if(I===null)throw new o({expressionText:g,message:"illegal use of reserved operator",position:O,operator:x});return I}(g.charAt(0)),O=y.symbol.length,T=O;O<g.length;O+=F.length){if(F=e.pctCharAt(g,O),T!==null){if(F==="."){if(T===O)throw new o({expressionText:g,message:"a varname MUST NOT start with a dot",position:O});continue}if(i.isVarchar(F))continue;Q()}if(w!==null){if(O===w&&F==="0")throw new o({expressionText:g,message:"A :prefix must not start with digit 0",position:O});if(r.isDigit(F)){if(O-w>=4)throw new o({expressionText:g,message:"A :prefix must have max 4 digits",position:O});continue}j()}if(F===":"){if(b.maxLength!==null)throw new o({expressionText:g,message:"only one :maxLength is allowed per varspec",position:O});if(b.exploded)throw new o({expressionText:g,message:"an exploeded varspec MUST NOT be varspeced",position:O});w=O+1;continue}if(F==="*"){if(b===null)throw new o({expressionText:g,message:"exploded without varspec",position:O});if(b.exploded)throw new o({expressionText:g,message:"exploded twice",position:O});if(b.maxLength)throw new o({expressionText:g,message:"an explode (*) MUST NOT follow to a prefix",position:O});b.exploded=!0;continue}if(F===","){m.push(b),b=null,T=O+1;continue}throw new o({expressionText:g,message:"illegal character",character:F,position:O})}return T!==null&&Q(),w!==null&&j(),m.push(b),new d(g,y,m)}function _(g){var y,m,b=[],T=null,w=0;for(y=0;y<g.length;y+=1){if(m=g.charAt(y),w!==null){if(m==="}")throw new o({templateText:g,message:"unopened brace closed",position:y});m==="{"&&(w<y&&b.push(new l(g.substring(w,y))),w=null,T=y);continue}if(T!==null){if(m==="{")throw new o({templateText:g,message:"brace already opened",position:y});if(m==="}"){if(T+1===y)throw new o({templateText:g,message:"empty braces",position:T});try{b.push(p(g.substring(T+1,y)))}catch(O){throw O.prototype===o.prototype?new o({templateText:g,message:O.options.message,position:T+O.options.position,details:O.options}):O}T=null,w=y+1}continue}throw new Error("reached unreachable code")}if(T!==null)throw new o({templateText:g,message:"unclosed brace",position:T});return w<g.length&&b.push(new l(g.substr(w))),new h(g,b)}return _}(),d=function(){function p(F){return JSON&&JSON.stringify?JSON.stringify(F):F}function _(F){if(!u(F))return!0;if(n.isString(F))return F==="";if(n.isNumber(F)||n.isBoolean(F))return!1;if(n.isArray(F))return F.length===0;for(var Q in F)if(F.hasOwnProperty(Q))return!1;return!0}function g(F){var Q=[],j;for(j in F)F.hasOwnProperty(j)&&Q.push({name:j,value:F[j]});return Q}function y(F,Q,j){this.templateText=F,this.operator=Q,this.varspecs=j}y.prototype.toString=function(){return this.templateText};function m(F,Q,j){var x="";if(j=j.toString(),Q.named){if(x+=s.encodeLiteral(F.varname),j==="")return x+=Q.ifEmpty,x;x+="="}return F.maxLength!==null&&(j=j.substr(0,F.maxLength)),x+=Q.encode(j),x}function b(F){return u(F.value)}function T(F,Q,j){var x=[],I="";if(Q.named){if(I+=s.encodeLiteral(F.varname),_(j))return I+=Q.ifEmpty,I;I+="="}return n.isArray(j)?(x=j,x=n.filter(x,u),x=n.map(x,Q.encode),I+=n.join(x,",")):(x=g(j),x=n.filter(x,b),x=n.map(x,function(D){return Q.encode(D.name)+","+Q.encode(D.value)}),I+=n.join(x,",")),I}function w(F,Q,j){var x=n.isArray(j),I=[];return x?(I=j,I=n.filter(I,u),I=n.map(I,function(D){var C=s.encodeLiteral(F.varname);return _(D)?C+=Q.ifEmpty:C+="="+Q.encode(D),C})):(I=g(j),I=n.filter(I,b),I=n.map(I,function(D){var C=s.encodeLiteral(D.name);return _(D.value)?C+=Q.ifEmpty:C+="="+Q.encode(D.value),C})),n.join(I,Q.separator)}function O(F,Q){var j=[],x="";return n.isArray(Q)?(j=Q,j=n.filter(j,u),j=n.map(j,F.encode),x+=n.join(j,F.separator)):(j=g(Q),j=n.filter(j,function(I){return u(I.value)}),j=n.map(j,function(I){return F.encode(I.name)+"="+F.encode(I.value)}),x+=n.join(j,F.separator)),x}return y.prototype.expand=function(F){var Q=[],j,x,I,D=this.operator;for(j=0;j<this.varspecs.length;j+=1)if(x=this.varspecs[j],I=F[x.varname],I!=null)if(x.exploded,n.isArray(I),typeof I=="string"||typeof I=="number"||typeof I=="boolean")Q.push(m(x,D,I));else{if(x.maxLength&&u(I))throw new Error("Prefix modifiers are not applicable to variables that have composite values. You tried to expand "+this+" with "+p(I));x.exploded?u(I)&&(D.named?Q.push(w(x,D,I)):Q.push(O(D,I))):(D.named||!_(I))&&Q.push(T(x,D,I))}return Q.length===0?"":D.first+n.join(Q,D.separator)},y}(),h=function(){function p(_,g){this.templateText=_,this.expressions=g,n.deepFreeze(this)}return p.prototype.toString=function(){return this.templateText},p.prototype.expand=function(_){var g,y="";for(g=0;g<this.expressions.length;g+=1)y+=this.expressions[g].expand(_);return y},p.parse=f,p.UriTemplateError=o,p}();t(h)})(function(t){a.exports=t})}(oF)),oF.exports}var l7;function jde(){if(l7)return qb;l7=1,Object.defineProperty(qb,"__esModule",{value:!0}),qb.ActorRdfMetadataExtractHydraControls=void 0;const a=ya(),t=De(),o=Lde();let n=class kE extends a.ActorRdfMetadataExtract{constructor(e){super(e),this.parsedUriTemplateCache={}}async test(e){return(0,t.passTestVoid)()}getLinks(e,i){return Object.fromEntries(kE.LINK_TYPES.map(s=>{const c=i[s]||i[`${s}Page`],u=c&&c[e];return[s,u&&u.length>0?[u[0]]:[]]}))}parseUriTemplateCached(e){const i=this.parsedUriTemplateCache[e];return i||(this.parsedUriTemplateCache[e]=(0,o.parse)(e))}getSearchForms(e){const i=e.search,s=[];if(i)for(const c in i)for(const u of i[c]){const l=(e.template||{})[u]||[];if(l.length!==1)throw new Error(`Expected 1 hydra:template for ${u}`);const f=l[0],d=this.parseUriTemplateCached(f),h=Object.fromEntries(((e.mapping||{})[u]||[]).map(_=>{const g=((e.variable||{})[_]||[])[0],y=((e.property||{})[_]||[])[0];if(!g)throw new Error(`Expected a hydra:variable for ${_}`);if(!y)throw new Error(`Expected a hydra:property for ${_}`);return[y,g]})),p=_=>d.expand(Object.fromEntries(Object.keys(_).map(g=>[h[g],_[g]])));s.push({dataset:c,template:f,mappings:h,getUri:p})}return{values:s}}getHydraProperties(e){return new Promise((i,s)=>{e.on("error",s);const c={};e.on("data",u=>{if(u.predicate.value.startsWith(kE.HYDRA)){const l=u.predicate.value.slice(kE.HYDRA.length),f=c[l]||(c[l]={});(f[u.subject.value]||(f[u.subject.value]=[])).push(u.object.value)}}),e.on("end",()=>i(c))})}async run(e){const i={},s=await this.getHydraProperties(e.metadata);return Object.assign(i,this.getLinks(e.url,s)),i.searchForms=this.getSearchForms(s),{metadata:i}}};return qb.ActorRdfMetadataExtractHydraControls=n,n.HYDRA="http://www.w3.org/ns/hydra/core#",n.LINK_TYPES=["first","next","previous","last"],qb}var d7;function Mde(){return d7||(d7=1,function(a){var t=zs&&zs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=zs&&zs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(jde(),a)}(zs)),zs}var Xs={},Bb={},f7;function qde(){if(f7)return Bb;f7=1,Object.defineProperty(Bb,"__esModule",{value:!0}),Bb.ActorRdfMetadataExtractHydraCount=void 0;const a=ya(),t=De();let o=class extends a.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}run(r){return new Promise((e,i)=>{r.metadata.on("error",i),r.metadata.on("data",s=>{this.predicates.includes(s.predicate.value)&&e({metadata:{cardinality:{type:"estimate",value:Number.parseInt(s.object.value,10),dataset:s.subject.value}}})}),r.metadata.on("end",()=>{e({metadata:{cardinality:{type:"estimate",value:0}}})})})}};return Bb.ActorRdfMetadataExtractHydraCount=o,Bb}var h7;function Cde(){return h7||(h7=1,function(a){var t=Xs&&Xs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Xs&&Xs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(qde(),a)}(Xs)),Xs}var Ws={},$b={},p7;function Bde(){if(p7)return $b;p7=1,Object.defineProperty($b,"__esModule",{value:!0}),$b.ActorRdfMetadataExtractHydraPagesize=void 0;const a=ya(),t=De();let o=class extends a.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){return new Promise((e,i)=>{r.metadata.on("error",i),r.metadata.on("data",s=>{this.predicates.includes(s.predicate.value)&&e({metadata:{pageSize:Number.parseInt(s.object.value,10)}})}),r.metadata.on("end",()=>{e({metadata:{}})})})}};return $b.ActorRdfMetadataExtractHydraPagesize=o,$b}var y7;function $de(){return y7||(y7=1,function(a){var t=Ws&&Ws.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ws&&Ws.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Bde(),a)}(Ws)),Ws}var Js={},Ub={},b7;function Ude(){if(b7)return Ub;b7=1,Object.defineProperty(Ub,"__esModule",{value:!0}),Ub.ActorRdfMetadataExtractRequestTime=void 0;const a=ya(),t=De();let o=class extends a.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){return{metadata:{requestTime:r.requestTime}}}};return Ub.ActorRdfMetadataExtractRequestTime=o,Ub}var _7;function Vde(){return _7||(_7=1,function(a){var t=Js&&Js.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Js&&Js.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Ude(),a)}(Js)),Js}var Ks={},Vb={},m7;function Qde(){if(m7)return Vb;m7=1,Object.defineProperty(Vb,"__esModule",{value:!0}),Vb.ActorRdfMetadataExtractAllowHttpMethods=void 0;const a=ya(),t=De();let o=class extends a.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){var i,s;const e={};return(i=r.headers)!=null&&i.get("allow")&&(e.allowHttpMethods=(s=r.headers.get("allow"))==null?void 0:s.split(/, */u)),{metadata:e}}};return Vb.ActorRdfMetadataExtractAllowHttpMethods=o,Vb}var g7;function Hde(){return g7||(g7=1,function(a){var t=Ks&&Ks.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ks&&Ks.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Qde(),a)}(Ks)),Ks}var Ys={},Qb={},v7;function Gde(){if(v7)return Qb;v7=1,Object.defineProperty(Qb,"__esModule",{value:!0}),Qb.ActorRdfMetadataExtractPutAccepted=void 0;const a=ya(),t=De();let o=class extends a.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){var i,s;const e={};return(i=r.headers)!=null&&i.get("accept-put")&&(e.putAccepted=(s=r.headers.get("accept-put"))==null?void 0:s.split(/, */u)),{metadata:e}}};return Qb.ActorRdfMetadataExtractPutAccepted=o,Qb}var T7;function zde(){return T7||(T7=1,function(a){var t=Ys&&Ys.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ys&&Ys.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Gde(),a)}(Ys)),Ys}var Zs={},Hb={},w7;function kde(){if(w7)return Hb;w7=1,Object.defineProperty(Hb,"__esModule",{value:!0}),Hb.ActorRdfMetadataExtractPatchSparqlUpdate=void 0;const a=ya(),t=De();let o=class extends a.ActorRdfMetadataExtract{constructor(r){super(r)}async test(r){return(0,t.passTestVoid)()}async run(r){var i,s,c,u;const e={};return(((s=(i=r.headers)==null?void 0:i.get("accept-patch"))==null?void 0:s.includes("application/sparql-update"))??((u=(c=r.headers)==null?void 0:c.get("ms-author-via"))==null?void 0:u.includes("SPARQL")))&&(e.patchSparqlUpdate=!0),{metadata:e}}};return Hb.ActorRdfMetadataExtractPatchSparqlUpdate=o,Hb}var S7;function Xde(){return S7||(S7=1,function(a){var t=Zs&&Zs.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Zs&&Zs.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(kde(),a)}(Zs)),Zs}var eu={},Gb={},O7;function Wde(){if(O7)return Gb;O7=1,Object.defineProperty(Gb,"__esModule",{value:!0}),Gb.ActorRdfMetadataExtractSparqlService=void 0;const a=ya(),t=De(),o=Sr();let n=class extends a.ActorRdfMetadataExtract{constructor(e){super(e)}async test(e){return(0,t.passTestVoid)()}async run(e){return new Promise((i,s)=>{e.metadata.on("error",s);const c=new Set([e.url]),u={},l=new Set,f=new Set,d=new Set;e.metadata.on("data",h=>{if(h.predicate.value==="http://rdfs.org/ns/void#subset"&&h.object.value===e.url)c.add(h.subject.value);else if(h.subject.value===u.defaultDataset||h.subject.termType==="BlankNode"||c.has(h.subject.value))switch(h.predicate.value){case"http://www.w3.org/ns/sparql-service-description#endpoint":u.sparqlService=h.object.termType==="Literal"?(0,o.resolve)(h.object.value,e.url):h.object.value,this.inferHttpsEndpoint&&e.url.startsWith("https")&&!h.object.value.startsWith("https")&&(u.sparqlService=u.sparqlService.replace(/^http:/u,"https:"));break;case"http://www.w3.org/ns/sparql-service-description#defaultDataset":u.defaultDataset=h.object.value;break;case"http://www.w3.org/ns/sparql-service-description#defaultGraph":u.defaultGraph=h.object.value;break;case"http://www.w3.org/ns/sparql-service-description#inputFormat":l.add(h.object.value);break;case"http://www.w3.org/ns/sparql-service-description#resultFormat":f.add(h.object.value);break;case"http://www.w3.org/ns/sparql-service-description#supportedLanguage":d.add(h.object.value);break;case"http://www.w3.org/ns/sparql-service-description#feature":h.object.value==="http://www.w3.org/ns/sparql-service-description#UnionDefaultGraph"?u.unionDefaultGraph=!0:h.object.value==="http://www.w3.org/ns/sparql-service-description#BasicFederatedQuery"&&(u.basicFederatedQuery=!0);break}}),e.metadata.on("end",()=>{i({metadata:{...u,...l.size>0?{inputFormats:[...l.values()]}:{},...f.size>0?{resultFormats:[...f.values()]}:{},...d.size>0?{supportedLanguages:[...d.values()]}:{}}})})})}};return Gb.ActorRdfMetadataExtractSparqlService=n,Gb}var A7;function Jde(){return A7||(A7=1,function(a){var t=eu&&eu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=eu&&eu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Wde(),a)}(eu)),eu}var tu={},zb={},ru={},kb={},E7;function Kde(){if(E7)return kb;E7=1,Object.defineProperty(kb,"__esModule",{value:!0}),kb.ActorRdfParse=void 0;const a=Ih();let t=class extends a.ActorAbstractMediaTyped{constructor(n){super(n)}};return kb.ActorRdfParse=t,kb}var Xb={},x7;function Yde(){if(x7)return Xb;x7=1,Object.defineProperty(Xb,"__esModule",{value:!0}),Xb.ActorRdfParseFixedMediaTypes=void 0;const a=Ih(),t=De();let o=class extends a.ActorAbstractMediaTypedFixed{constructor(r){super(r)}async testHandleChecked(r){return(0,t.passTestVoid)()}};return Xb.ActorRdfParseFixedMediaTypes=o,Xb}var I7;function Nh(){return I7||(I7=1,function(a){var t=ru&&ru.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ru&&ru.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Kde(),a),o(Yde(),a)}(ru)),ru}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var sF,R7;function Zde(){if(R7)return sF;R7=1;let a;return sF=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Ft):t=>(a||(a=Promise.resolve())).then(t).catch(o=>setTimeout(()=>{throw o},0)),sF}var efe=Zde(),tfe=Qt(efe);const Wb="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Jb="http://www.w3.org/2001/XMLSchema#",mA="http://www.w3.org/2000/10/swap/";var Cr={xsd:{decimal:`${Jb}decimal`,boolean:`${Jb}boolean`,double:`${Jb}double`,integer:`${Jb}integer`,string:`${Jb}string`},rdf:{type:`${Wb}type`,nil:`${Wb}nil`,first:`${Wb}first`,rest:`${Wb}rest`,langString:`${Wb}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${mA}reify#forSome`,forAll:`${mA}reify#forAll`},log:{implies:`${mA}log#implies`,isImpliedBy:`${mA}log#isImpliedBy`}};const{xsd:gA}=Cr,rfe=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,F7={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},nfe=/[\x00-\x20<>\\"\{\}\|\^\`]/,ife={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},afe=/$0^/;class uF{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._isImpliedBy=t.isImpliedBy,this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const o in this)!(o in ife)&&this[o]instanceof RegExp&&(this[o]=afe)}else this._n3Mode=t.n3!==!1;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,o){let n=this._input,r=n.length;for(;;){let s,c;for(;s=this._newline.exec(n);)this.comments&&(c=this._comment.exec(s[0]))&&e("comment",c[1],"",this._line,s[0].length),n=n.substr(s[0].length,n.length),r=n.length,this._line++;if(!s&&(s=this._whitespace.exec(n))&&(n=n.substr(s[0].length,n.length)),this._endOfFile.test(n))return o&&(this.comments&&(c=this._comment.exec(n))&&e("comment",c[1],"",this._line,n.length),n=null,e("eof","","",this._line,0)),this._input=n;const u=this._line,l=n[0];let f="",d="",h="",p=null,_=0,g=!1;switch(l){case"^":if(n.length<3)break;if(n[1]==="^"){if(this._previousMarker="^^",n=n.substr(2),n[0]!=="<"){g=!0;break}}else{this._n3Mode&&(_=1,f="^");break}case"<":if(p=this._unescapedIri.exec(n))f="IRI",d=p[1];else if(p=this._iri.exec(n)){if(d=this._unescape(p[1]),d===null||nfe.test(d))return i(this);f="IRI"}else n.length>1&&n[1]==="<"?(f="<<",_=2):this._n3Mode&&n.length>1&&n[1]==="="&&(_=2,this._isImpliedBy?(f="abbreviation",d="<"):(f="inverse",d=">"));break;case">":n.length>1&&n[1]===">"&&(f=">>",_=2);break;case"_":((p=this._blank.exec(n))||o&&(p=this._blank.exec(`${n} `)))&&(f="blank",h="_",d=p[1]);break;case'"':if(p=this._simpleQuotedString.exec(n))d=p[1];else if({value:d,matchLength:_}=this._parseLiteral(n),d===null)return i(this);(p!==null||_!==0)&&(f="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(p=this._simpleApostropheString.exec(n))d=p[1];else if({value:d,matchLength:_}=this._parseLiteral(n),d===null)return i(this);(p!==null||_!==0)&&(f="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(p=this._variable.exec(n))&&(f="var",d=p[0]);break;case"@":this._previousMarker==="literal"&&(p=this._langcode.exec(n))?(f="langcode",d=p[1]):(p=this._keyword.exec(n))&&(f=p[0]);break;case".":if(n.length===1?o:n[1]<"0"||n[1]>"9"){f=".",_=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(p=this._number.exec(n)||o&&(p=this._number.exec(`${n} `)))&&(f="literal",d=p[0],h=typeof p[1]=="string"?gA.double:typeof p[2]=="string"?gA.decimal:gA.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(p=this._sparqlKeyword.exec(n))?f=p[0].toUpperCase():g=!0;break;case"f":case"t":(p=this._boolean.exec(n))?(f="literal",d=p[0],h=gA.boolean):g=!0;break;case"a":(p=this._shortPredicates.exec(n))?(f="abbreviation",d="a"):g=!0;break;case"=":this._n3Mode&&n.length>1&&(f="abbreviation",n[1]!==">"?(_=1,d="="):(_=2,d=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(_=1,f=l);break;case"{":!this._lineMode&&n.length>=2&&(n[1]==="|"?(f="{|",_=2):(f=l,_=1));break;case"|":n.length>=2&&n[1]==="}"&&(f="|}",_=2);break;default:g=!0}if(g&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(p=this._prefix.exec(n))?(f="prefix",d=p[1]||""):((p=this._prefixed.exec(n))||o&&(p=this._prefixed.exec(`${n} `)))&&(f="prefixed",h=p[1]||"",d=this._unescape(p[2]))),this._previousMarker==="^^")switch(f){case"prefixed":f="type";break;case"IRI":f="typeIRI";break;default:f=""}if(!f)return o||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?i(this):this._input=n;const y=_||p[0].length,m=e(f,d,h,u,y);this.previousToken=m,this._previousMarker=f,n=n.substr(y,n.length)}function e(s,c,u,l,f){const d=n?r-n.length:r,h=d+f,p={type:s,value:c,prefix:u,line:l,start:d,end:h};return t(null,p),p}function i(s){t(s._syntaxError(/^\S*/.exec(n)[0]))}}_unescape(t){let o=!1;const n=t.replace(rfe,(r,e,i,s)=>{if(typeof e=="string")return String.fromCharCode(Number.parseInt(e,16));if(typeof i=="string"){let c=Number.parseInt(i,16);return c<=65535?String.fromCharCode(Number.parseInt(i,16)):String.fromCharCode(55296+((c-=65536)>>10),56320+(c&1023))}return s in F7?F7[s]:(o=!0,"")});return o?null:n}_parseLiteral(t){if(t.length>=3){const o=t.match(/^(?:"""|"|'''|'|)/)[0],n=o.length;let r=Math.max(this._literalClosingPos,n);for(;(r=t.indexOf(o,r))>0;){let e=0;for(;t[r-e-1]==="\\";)e++;if(e%2===0){const i=t.substring(n,r),s=i.split(/\r\n|\r|\n/).length-1,c=r+n;if(n===1&&s!==0||n===3&&this._lineMode)break;return this._line+=s,{value:this._unescape(i),matchLength:c}}r++}this._literalClosingPos=t.length-n+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const o=new Error(`Unexpected "${t}" on line ${this._line}.`);return o.context={token:void 0,line:this._line,previousToken:this.previousToken},o}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,o){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof o=="function")tfe(()=>this._tokenizeToEnd(o,!0));else{const n=[];let r;if(this._tokenizeToEnd((e,i)=>e?r=e:n.push(i),!0),r)throw r;return n}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",n=>{this._input!==null&&n.length!==0&&(this._pendingBuffer&&(n=fle.concat([this._pendingBuffer,n]),this._pendingBuffer=null),n[n.length-1]&128?this._pendingBuffer=n:(typeof this._input>"u"?this._input=this._readStartingBom(typeof n=="string"?n:n.toString()):this._input+=n,this._tokenizeToEnd(o,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(o,!0)}),t.on("error",o)}}const{rdf:ofe,xsd:nu}=Cr;let Dh,sfe=0;const Jn={namedNode:N7,blankNode:D7,variable:L7,literal:P7,defaultGraph:ufe,quad:fF,triple:fF,fromTerm:Kb,fromQuad:j7};class Tn{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof Tn?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let vA=class extends Tn{get termType(){return"NamedNode"}},Ph=class hae extends Tn{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let o=t.lastIndexOf('"')+1;return o<t.length&&t[o++]==="@"?t.substr(o).toLowerCase():""}get datatype(){return new vA(this.datatypeString)}get datatypeString(){const t=this.id,o=t.lastIndexOf('"')+1,n=o<t.length?t[o]:"";return n==="^"?t.substr(o+2):n!=="@"?nu.string:ofe.langString}equals(t){return t instanceof hae?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},cF=class extends Tn{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},lF=class extends Tn{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},dF=class extends Tn{constructor(){return super(""),Dh||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};Dh=new dF;function iu(a,t,o){if(t=t||Jn,!a)return t.defaultGraph();switch(a[0]){case"?":return t.variable(a.substr(1));case"_":return t.blankNode(a.substr(2));case'"':if(t===Jn)return new Ph(a);if(a[a.length-1]==='"')return t.literal(a.substr(1,a.length-2));const n=a.lastIndexOf('"',a.length-1);return t.literal(a.substr(1,n-1),a[n+1]==="@"?a.substr(n+2):t.namedNode(a.substr(n+3)));case"[":a=JSON.parse(a);break;default:if(!o||!Array.isArray(a))return t.namedNode(a)}return t.quad(iu(a[0],t,!0),iu(a[1],t,!0),iu(a[2],t,!0),a[3]&&iu(a[3],t,!0))}function ba(a,t){if(typeof a=="string")return a;if(a instanceof Tn&&a.termType!=="Quad")return a.id;if(!a)return Dh.id;switch(a.termType){case"NamedNode":return a.value;case"BlankNode":return`_:${a.value}`;case"Variable":return`?${a.value}`;case"DefaultGraph":return"";case"Literal":return`"${a.value}"${a.language?`@${a.language}`:a.datatype&&a.datatype.value!==nu.string?`^^${a.datatype.value}`:""}`;case"Quad":const o=[ba(a.subject,!0),ba(a.predicate,!0),ba(a.object,!0)];return a.graph&&a.graph.termType!=="DefaultGraph"&&o.push(ba(a.graph,!0)),t?o:JSON.stringify(o);default:throw new Error(`Unexpected termType: ${a.termType}`)}}let Lh=class extends Tn{constructor(t,o,n,r){super(""),this._subject=t,this._predicate=o,this._object=n,this._graph=r||Dh}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}};function N7(a){return new vA(a)}function D7(a){return new cF(a||`n3-${sfe++}`)}function P7(a,t){if(typeof t=="string")return new Ph(`"${a}"@${t.toLowerCase()}`);let o=t?t.value:"";return o===""&&(typeof a=="boolean"?o=nu.boolean:typeof a=="number"&&(Number.isFinite(a)?o=Number.isInteger(a)?nu.integer:nu.double:(o=nu.double,Number.isNaN(a)||(a=a>0?"INF":"-INF")))),o===""||o===nu.string?new Ph(`"${a}"`):new Ph(`"${a}"^^${o}`)}function L7(a){return new lF(a)}function ufe(){return Dh}function fF(a,t,o,n){return new Lh(a,t,o,n)}function Kb(a){if(a instanceof Tn)return a;switch(a.termType){case"NamedNode":return N7(a.value);case"BlankNode":return D7(a.value);case"Variable":return L7(a.value);case"DefaultGraph":return Dh;case"Literal":return P7(a.value,a.language||a.datatype);case"Quad":return j7(a);default:throw new Error(`Unexpected termType: ${a.termType}`)}}function j7(a){if(a instanceof Lh)return a;if(a.termType!=="Quad")throw new Error(`Unexpected termType: ${a.termType}`);return fF(Kb(a.subject),Kb(a.predicate),Kb(a.object),Kb(a.graph))}let M7=0;class TA{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&q7(this,t.factory);const o=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(o),r=/trig/.test(o),e=/triple/.test(o),i=/quad/.test(o),s=this._n3Mode=/n3/.test(o),c=e||i;(this._supportsNamedGraphs=!(n||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||r||e||s),this._isImpliedBy=t.isImpliedBy,this._supportsRDFStar=o===""||/star|\*$/.test(o),c&&(this._resolveRelativeIRI=u=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new uF({lineMode:c,n3:s,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){M7=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const o=t.indexOf("#");o>=0&&(t=t.substr(0,o)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,o,n,r,e){const i=this._n3Mode;this._contextStack.push({type:t,subject:n,predicate:r,object:e,graph:o,inverse:i?this._inversePredicate:!1,blankPrefix:i?this._prefixes._:"",quantified:i?this._quantified:null}),i&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,o){const n=this._contextStack.pop();if(!n||n.type!==t)return this._error(`Unexpected ${o.type}`,o);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,o){let n;switch(t.type){case"IRI":case"typeIRI":const r=this._resolveIRI(t.value);if(r===null)return this._error("Invalid IRI",t);n=this._factory.namedNode(r);break;case"type":case"prefixed":const e=this._prefixes[t.prefix];if(e===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);n=this._factory.namedNode(e+t.value);break;case"blank":n=this._factory.blankNode(this._prefixes[t.prefix]+t.value);break;case"var":n=this._factory.variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!o&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const o=t.type;switch(o){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${o}`,t):(this._subject=null,o==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const o=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:o?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let o=null,n=null,r=this._readListItem;const e=this._subject,i=this._contextStack,s=i[i.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this._subject=o=this._factory.blankNode()),r=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),i.length!==0&&i[i.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(r=this._readPredicate,this._subject===this.RDF_NIL)return r}else if(r=this._getContextEndReader(),this._object===this.RDF_NIL)return r;n=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,r=this._readListItemDataTypeOrLang):(o=this._factory.literal(t.value,this._factory.namedNode(t.prefix)),r=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((o=this._readEntity(t))===void 0)return}if(n===null&&(this._subject=n=this._factory.blankNode()),e===null?s.predicate===null?s.subject=n:s.object=n:this._emit(e,this.RDF_REST,n,this._graph),o!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,n,this.RDF_FIRST,o),this._subject=o,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,o,this._graph)}return r}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let o=this._factory.literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const n=this._readEntity(t);if(n===void 0)return;o=this._factory.literal(this._literalValue,n),t=null;break;case"langcode":o=this._factory.literal(this._literalValue,t.value),t=null;break}return{token:t,literal:o}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,o){const n=this._completeLiteral(t);if(n)return this._object=n.literal,o&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),n.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let o,n=this._graph;const r=this._subject,e=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,o=this._contextStack.length?this._readSubject:this._readInTopContext,e&&(this._inversePredicate=!1);break;case";":o=this._readPredicate;break;case",":o=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);const i=this._predicate,s=this._object;this._subject=this._factory.quad(r,i,s,this.DEFAULTGRAPH),o=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,o=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(n=this._readEntity(t))!==void 0){o=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(r!==null){const i=this._predicate,s=this._object;e?this._emit(s,i,r,n):this._emit(r,i,s,n)}return o}_readBlankNodePunctuation(t){let o;switch(t.type){case";":o=this._readPredicate;break;case",":o=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),o}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const o=this._readEntity(t);return this._prefixes[this._prefix]=o.value,this._prefixCallback(this._prefix,o),this._readDeclarationPunctuation}_readBaseIRI(t){const o=t.type==="IRI"&&this._resolveIRI(t.value);return o?(this._setBase(o),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let o;switch(t.type){case"IRI":case"prefixed":if((o=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,o,this.QUANTIFIERS_GRAPH)):this._quantified[o.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const o=this._contextStack,n=o.length&&o[o.length-1];if(n&&n.type==="item"){const r=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,r,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let o,n;const r=this._factory.blankNode();if((n=this._readEntity(t))!==void 0)return this._predicate===null?(o=this._subject,this._subject=r):(o=this._object,this._object=r),this._emit(o,n,r,this._graph),this._readPath}_readBackwardPath(t){const o=this._factory.blankNode();let n,r;if((n=this._readEntity(t))!==void 0)return this._predicate===null?(r=this._subject,this._subject=o):(r=this._object,this._object=o),this._emit(o,n,r,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const o=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=o,this._readPredicate):(this._object=o,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,o,n,r){this._callback(null,this._factory.quad(t,o,n,r||this.DEFAULTGRAPH))}_error(t,o){const n=new Error(`${t} on line ${o.line}.`);n.context={token:o,line:o.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=wA}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const o=t.length;let n="",r=-1,e=-1,i=0,s="/";for(;r<o;){switch(s){case":":if(e<0&&t[++r]==="/"&&t[++r]==="/")for(;(e=r+1)<o&&t[e]!=="/";)r=e;break;case"?":case"#":r=o;break;case"/":if(t[r+1]===".")switch(s=t[++r+1],s){case"/":n+=t.substring(i,r-1),i=r+1;break;case void 0:case"?":case"#":return n+t.substring(i,r)+t.substr(r+1);case".":if(s=t[++r+1],s===void 0||s==="/"||s==="?"||s==="#"){if(n+=t.substring(i,r-2),(i=n.lastIndexOf("/"))>=e&&(n=n.substr(0,i)),s!=="/")return`${n}/${t.substr(r+1)}`;i=r+1}}}s=t[++r]}return n+t.substring(i)}parse(t,o,n){let r,e,i;if(o&&(o.onQuad||o.onPrefix||o.onComment)?(r=o.onQuad,e=o.onPrefix,i=o.onComment):(r=o,e=n),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${M7++}_`,this._prefixCallback=e||wA,this._inversePredicate=!1,this._quantified=Object.create(null),!r){const c=[];let u;if(this._callback=(l,f)=>{l?u=l:f&&c.push(f)},this._lexer.tokenize(t).every(l=>this._readCallback=this._readCallback(l)),u)throw u;return c}let s=(c,u)=>{c!==null?(this._callback(c),this._callback=wA):this._readCallback&&(this._readCallback=this._readCallback(u))};i&&(this._lexer.comments=!0,s=(c,u)=>{c!==null?(this._callback(c),this._callback=wA):this._readCallback&&(u.type==="comment"?i(u.value):this._readCallback=this._readCallback(u))}),this._callback=r,this._lexer.tokenize(t,s)}}function wA(){}function q7(a,t){a._factory=t,a.DEFAULTGRAPH=t.defaultGraph(),a.RDF_FIRST=t.namedNode(Cr.rdf.first),a.RDF_REST=t.namedNode(Cr.rdf.rest),a.RDF_NIL=t.namedNode(Cr.rdf.nil),a.N3_FORALL=t.namedNode(Cr.r.forAll),a.N3_FORSOME=t.namedNode(Cr.r.forSome),a.ABBREVIATIONS={a:t.namedNode(Cr.rdf.type),"=":t.namedNode(Cr.owl.sameAs),">":t.namedNode(Cr.log.implies),"<":t.namedNode(Cr.log.isImpliedBy)},a.QUANTIFIERS_GRAPH=t.namedNode("urn:n3:quantifiers")}q7(TA.prototype,Jn);function cfe(a){return!!a&&a.termType==="NamedNode"}function lfe(a){return!!a&&a.termType==="BlankNode"}function dfe(a){return!!a&&a.termType==="Literal"}function ffe(a){return!!a&&a.termType==="Variable"}function Yb(a){return!!a&&a.termType==="DefaultGraph"}function hfe(a){return Yb(a.graph)}function pfe(a,t){return C7({"":a.value||a},t)("")}function C7(a,t){const o=Object.create(null);for(const r in a)n(r,a[r]);t=t||Jn;function n(r,e){if(typeof e=="string"){const i=Object.create(null);o[r]=s=>i[s]||(i[s]=t.namedNode(e+s))}else if(!(r in o))throw new Error(`Unknown prefix: ${r}`);return o[r]}return n}var B7=Object.freeze({__proto__:null,inDefaultGraph:hfe,isBlankNode:lfe,isDefaultGraph:Yb,isLiteral:dfe,isNamedNode:cfe,isVariable:ffe,prefix:pfe,prefixes:C7});const Zb=Jn.defaultGraph(),{rdf:yfe,xsd:jh}=Cr,$7=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,U7=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,bfe={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class e_ extends Tn{equals(t){return t===this}}class t_{constructor(t,o){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(o=t,t=null),o=o||{},this._lists=o.lists,t)this._outputStream=t,this._endStream=o.end===void 0?!0:!!o.end;else{let n="";this._outputStream={write(r,e,i){n+=r,i&&i()},end:r=>{r&&r(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(o.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=Zb,this._prefixIRIs=Object.create(null),o.prefixes&&this.addPrefixes(o.prefixes),o.baseIRI&&(this._baseMatcher=new RegExp(`^${Q7(o.baseIRI)}${o.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=o.baseIRI.length))}get _inDefaultGraph(){return Zb.equals(this._graph)}_write(t,o){this._outputStream.write(t,"utf8",o)}_writeQuad(t,o,n,r,e){try{r.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(Zb.equals(r)?"":`${this._encodeIriOrBlank(r)} {
`)),this._graph=r,this._subject=null),t.equals(this._subject)?o.equals(this._predicate)?this._write(`, ${this._encodeObject(n)}`,e):this._write(`;
    ${this._encodePredicate(this._predicate=o)} ${this._encodeObject(n)}`,e):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=o)} ${this._encodeObject(n)}`,e)}catch(i){e&&e(i)}}_writeQuadLine(t,o,n,r,e){delete this._prefixMatch,this._write(this.quadToString(t,o,n,r),e)}quadToString(t,o,n,r){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(o)} ${this._encodeObject(n)}${r&&r.value?` ${this._encodeIriOrBlank(r)} .
`:` .
`}`}quadsToString(t){let o="";for(const n of t)o+=this.quadToString(n.subject,n.predicate,n.object,n.graph);return o}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let o=t.value;this._baseMatcher&&this._baseMatcher.test(o)&&(o=o.substr(this._baseLength)),$7.test(o)&&(o=o.replace(U7,V7));const n=this._prefixRegex.exec(o);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:o:`<${o}>`}_encodeLiteral(t){let o=t.value;if($7.test(o)&&(o=o.replace(U7,V7)),t.language)return`"${o}"@${t.language}`;if(this._lineMode){if(t.datatype.value===jh.string)return`"${o}"`}else switch(t.datatype.value){case jh.string:return`"${o}"`;case jh.boolean:if(o==="true"||o==="false")return o;break;case jh.integer:if(/^[+-]?\d+$/.test(o))return o;break;case jh.decimal:if(/^[+-]?\d*\.\d+$/.test(o))return o;break;case jh.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(o))return o;break}return`"${o}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===yfe.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:o,object:n,graph:r}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(o)} ${this._encodeObject(n)}${Yb(r)?"":` ${this._encodeIriOrBlank(r)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,o,n,r,e){n===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,o):typeof r=="function"?this._writeQuad(t,o,n,Zb,r):this._writeQuad(t,o,n,r||Zb,e)}addQuads(t){for(let o=0;o<t.length;o++)this.addQuad(t[o])}addPrefix(t,o,n){const r={};r[t]=o,this.addPrefixes(r,n)}addPrefixes(t,o){if(!this._prefixIRIs)return o&&o();let n=!1;for(let r in t){let e=t[r];typeof e!="string"&&(e=e.value),n=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[e]=r+=":",this._write(`@prefix ${r} <${e}>.
`)}if(n){let r="",e="";for(const i in this._prefixIRIs)r+=r?`|${i}`:i,e+=(e?"|":"")+this._prefixIRIs[i];r=Q7(r),this._prefixRegex=new RegExp(`^(?:${e})[^/]*$|^(${r})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(n?`
`:"",o)}blank(t,o){let n=t,r,e;switch(t===void 0?n=[]:t.termType?n=[{predicate:t,object:o}]:"length"in t||(n=[t]),e=n.length){case 0:return new e_("[]");case 1:if(r=n[0],!(r.object instanceof e_))return new e_(`[ ${this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)} ]`);default:let i="[";for(let s=0;s<e;s++)r=n[s],r.predicate.equals(t)?i+=`, ${this._encodeObject(r.object)}`:(i+=`${(s?`;
  `:`
  `)+this._encodePredicate(r.predicate)} ${this._encodeObject(r.object)}`,t=r.predicate);return new e_(`${i}
]`)}}list(t){const o=t&&t.length||0,n=new Array(o);for(let r=0;r<o;r++)n[r]=this._encodeObject(t[r]);return new e_(`(${n.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let o=t&&((n,r)=>{o=null,t(n,r)});if(this._endStream)try{return this._outputStream.end(o)}catch{}o&&o()}}function V7(a){let t=bfe[a];return t===void 0&&(a.length===1?(t=a.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((a.charCodeAt(0)-55296)*1024+a.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function Q7(a){return a.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var SA=qt();const hF=Symbol("iter");function r_(a,t,o=4){if(o===0)return Object.assign(a,t);for(const n in t)a[n]=r_(a[n]||Object.create(null),t[n],o-1);return a}function H7(a,t,o=4){let n=!1;for(const r in a)if(r in t){const e=o===0?null:H7(a[r],t[r],o-1);if(e!==!1)n=n||Object.create(null),n[r]=e;else if(o===3)return!1}return n}function G7(a,t,o=4){let n=!1;for(const r in a)if(!(r in t))n=n||Object.create(null),n[r]=o===0?null:r_({},a[r],o-1);else if(o!==0){const e=G7(a[r],t[r],o-1);if(e!==!1)n=n||Object.create(null),n[r]=e;else if(o===3)return!1}return n}class pF{constructor(t={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=t.factory||Jn}_termFromId(t){if(t[0]==="."){const o=this._entities,n=t.split(".");return this._factory.quad(this._termFromId(o[n[1]]),this._termFromId(o[n[2]]),this._termFromId(o[n[3]]),n[4]&&this._termFromId(o[n[4]]))}return iu(t,this._factory)}_termToNumericId(t){if(t.termType==="Quad"){const o=this._termToNumericId(t.subject),n=this._termToNumericId(t.predicate),r=this._termToNumericId(t.object);let e;return o&&n&&r&&(Yb(t.graph)||(e=this._termToNumericId(t.graph)))&&this._ids[e?`.${o}.${n}.${r}.${e}`:`.${o}.${n}.${r}`]}return this._ids[ba(t)]}_termToNewNumericId(t){const o=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${Yb(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:ba(t);return this._ids[o]||(this._ids[this._entities[++this._id]=o]=this._id)}createBlankNode(t){let o,n;if(t)for(o=t=`_:${t}`,n=1;this._ids[o];)o=t+n++;else do o=`_:b${this._blankNodeIndex++}`;while(this._ids[o]);return this._ids[o]=++this._id,this._entities[this._id]=o,this._factory.blankNode(o.substr(2))}}class kr{constructor(t,o){this._size=0,this._graphs=Object.create(null),!o&&t&&!t[0]&&(o=t,t=null),o=o||{},this._factory=o.factory||Jn,this._entityIndex=o.entityIndex||new pF({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),t&&this.addQuads(t)}get size(){let t=this._size;if(t!==null)return t;t=0;const o=this._graphs;let n,r;for(const e in o)for(const i in n=o[e].subjects)for(const s in r=n[i])t+=Object.keys(r[s]).length;return this._size=t}_addToIndex(t,o,n,r){const e=t[o]||(t[o]={}),i=e[n]||(e[n]={}),s=r in i;return s||(i[r]=null),!s}_removeFromIndex(t,o,n,r){const e=t[o],i=e[n];delete i[r];for(const s in i)return;delete e[n];for(const s in e)return;delete t[o]}*_findInIndex(t,o,n,r,e,i,s,c){let u,l,f;const d=this._entities,h=this._termFromId(d[c]),p={subject:null,predicate:null,object:null};o&&((u=t,t={})[o]=u[o]);for(const _ in t)if(l=t[_]){p[e]=this._termFromId(d[_]),n&&((u=l,l={})[n]=u[n]);for(const g in l)if(f=l[g]){p[i]=this._termFromId(d[g]);const y=r?r in f?[r]:[]:Object.keys(f);for(let m=0;m<y.length;m++)p[s]=this._termFromId(d[y[m]]),yield this._factory.quad(p.subject,p.predicate,p.object,h)}}}_loop(t,o){for(const n in t)o(n)}_loopByKey0(t,o,n){let r,e;if(r=t[o])for(e in r)n(e)}_loopByKey1(t,o,n){let r,e;for(r in t)e=t[r],e[o]&&n(r)}_loopBy2Keys(t,o,n,r){let e,i,s;if((e=t[o])&&(i=e[n]))for(s in i)r(s)}_countInIndex(t,o,n,r){let e=0,i,s,c;o&&((i=t,t={})[o]=i[o]);for(const u in t)if(s=t[u]){n&&((i=s,s={})[n]=i[n]);for(const l in s)(c=s[l])&&(r?r in c&&e++:e+=Object.keys(c).length)}return e}_getGraphs(t){return t=t===""?1:t&&(this._termToNumericId(t)||-1),typeof t!="number"?this._graphs:{[t]:this._graphs[t]}}_uniqueEntities(t){const o=Object.create(null);return n=>{n in o||(o[n]=!0,t(this._termFromId(this._entities[n],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,o,n,r){o||(r=t.graph,n=t.object,o=t.predicate,t=t.subject),r=r?this._termToNewNumericId(r):1;let e=this._graphs[r];return e||(e=this._graphs[r]={subjects:{},predicates:{},objects:{}},Object.freeze(e)),t=this._termToNewNumericId(t),o=this._termToNewNumericId(o),n=this._termToNewNumericId(n),this._addToIndex(e.subjects,t,o,n)?(this._addToIndex(e.predicates,o,n,t),this._addToIndex(e.objects,n,t,o),this._size=null,!0):!1}addQuads(t){for(let o=0;o<t.length;o++)this.addQuad(t[o])}delete(t){return this.removeQuad(t),this}has(t,o,n,r){return t&&t.subject&&({subject:t,predicate:o,object:n,graph:r}=t),!this.readQuads(t,o,n,r).next().done}import(t){return t.on("data",o=>{this.addQuad(o)}),t}removeQuad(t,o,n,r){o||({subject:t,predicate:o,object:n,graph:r}=t),r=r?this._termToNumericId(r):1;const e=this._graphs;let i,s,c;if(!(t=t&&this._termToNumericId(t))||!(o=o&&this._termToNumericId(o))||!(n=n&&this._termToNumericId(n))||!(i=e[r])||!(s=i.subjects[t])||!(c=s[o])||!(n in c))return!1;this._removeFromIndex(i.subjects,t,o,n),this._removeFromIndex(i.predicates,o,n,t),this._removeFromIndex(i.objects,n,t,o),this._size!==null&&this._size--;for(t in i.subjects)return!0;return delete e[r],!0}removeQuads(t){for(let o=0;o<t.length;o++)this.removeQuad(t[o])}remove(t){return t.on("data",o=>{this.removeQuad(o)}),t}removeMatches(t,o,n,r){const e=new SA.Readable({objectMode:!0}),i=this.readQuads(t,o,n,r);return e._read=s=>{for(;--s>=0;){const{done:c,value:u}=i.next();if(c){e.push(null);return}e.push(u)}},this.remove(e)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,o,n,r){return[...this.readQuads(t,o,n,r)]}*readQuads(t,o,n,r){const e=this._getGraphs(r);let i,s,c,u;if(!(t&&!(s=this._termToNumericId(t))||o&&!(c=this._termToNumericId(o))||n&&!(u=this._termToNumericId(n))))for(const l in e)(i=e[l])&&(s?u?yield*this._findInIndex(i.objects,u,s,c,"object","subject","predicate",l):yield*this._findInIndex(i.subjects,s,c,null,"subject","predicate","object",l):c?yield*this._findInIndex(i.predicates,c,u,null,"predicate","object","subject",l):u?yield*this._findInIndex(i.objects,u,null,null,"object","subject","predicate",l):yield*this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",l))}match(t,o,n,r){return new _a(this,t,o,n,r,{entityIndex:this._entityIndex})}countQuads(t,o,n,r){const e=this._getGraphs(r);let i=0,s,c,u,l;if(t&&!(c=this._termToNumericId(t))||o&&!(u=this._termToNumericId(o))||n&&!(l=this._termToNumericId(n)))return 0;for(const f in e)(s=e[f])&&(t?n?i+=this._countInIndex(s.objects,l,c,u):i+=this._countInIndex(s.subjects,c,u,l):o?i+=this._countInIndex(s.predicates,u,l,c):i+=this._countInIndex(s.objects,l,c,u));return i}forEach(t,o,n,r,e){this.some(i=>(t(i,this),!1),o,n,r,e)}every(t,o,n,r,e){return!this.some(i=>!t(i,this),o,n,r,e)}some(t,o,n,r,e){for(const i of this.readQuads(o,n,r,e))if(t(i))return!0;return!1}getSubjects(t,o,n){const r=[];return this.forSubjects(e=>{r.push(e)},t,o,n),r}forSubjects(t,o,n,r){const e=this._getGraphs(r);let i,s,c;if(t=this._uniqueEntities(t),!(o&&!(s=this._termToNumericId(o))||n&&!(c=this._termToNumericId(n))))for(r in e)(i=e[r])&&(s?c?this._loopBy2Keys(i.predicates,s,c,t):this._loopByKey1(i.subjects,s,t):c?this._loopByKey0(i.objects,c,t):this._loop(i.subjects,t))}getPredicates(t,o,n){const r=[];return this.forPredicates(e=>{r.push(e)},t,o,n),r}forPredicates(t,o,n,r){const e=this._getGraphs(r);let i,s,c;if(t=this._uniqueEntities(t),!(o&&!(s=this._termToNumericId(o))||n&&!(c=this._termToNumericId(n))))for(r in e)(i=e[r])&&(s?c?this._loopBy2Keys(i.objects,c,s,t):this._loopByKey0(i.subjects,s,t):c?this._loopByKey1(i.predicates,c,t):this._loop(i.predicates,t))}getObjects(t,o,n){const r=[];return this.forObjects(e=>{r.push(e)},t,o,n),r}forObjects(t,o,n,r){const e=this._getGraphs(r);let i,s,c;if(t=this._uniqueEntities(t),!(o&&!(s=this._termToNumericId(o))||n&&!(c=this._termToNumericId(n))))for(r in e)(i=e[r])&&(s?c?this._loopBy2Keys(i.subjects,s,c,t):this._loopByKey1(i.objects,s,t):c?this._loopByKey0(i.predicates,c,t):this._loop(i.objects,t))}getGraphs(t,o,n){const r=[];return this.forGraphs(e=>{r.push(e)},t,o,n),r}forGraphs(t,o,n,r){for(const e in this._graphs)this.some(i=>(t(i.graph),!0),o,n,r,this._termFromId(this._entities[e]))}createBlankNode(t){return this._entityIndex.createBlankNode(t)}extractLists({remove:t=!1,ignoreErrors:o=!1}={}){const n={},r=o?()=>!0:(s,c)=>{throw new Error(`${s.value} ${c}`)},e=this.getQuads(null,Cr.rdf.rest,Cr.rdf.nil,null),i=t?[...e]:[];return e.forEach(s=>{const c=[];let u=!1,l,f;const d=s.graph;let h=s.subject;for(;h&&!u;){const p=this.getQuads(null,null,h,null),_=this.getQuads(h,null,null,null);let g,y=null,m=null,b=null;for(let T=0;T<_.length&&!u;T++)g=_[T],g.graph.equals(d)?l?u=r(h,"has non-list arcs out"):g.predicate.value===Cr.rdf.first?y?u=r(h,"has multiple rdf:first arcs"):i.push(y=g):g.predicate.value===Cr.rdf.rest?m?u=r(h,"has multiple rdf:rest arcs"):i.push(m=g):p.length?u=r(h,"can't be subject and object"):(l=g,f="subject"):u=r(h,"not confined to single graph");for(let T=0;T<p.length&&!u;++T)g=p[T],l?u=r(h,"can't have coreferences"):g.predicate.value===Cr.rdf.rest?b?u=r(h,"has incoming rdf:rest arcs"):b=g:(l=g,f="object");y?c.unshift(y.object):u=r(h,"has no list head"),h=b&&b.subject}u?t=!1:l&&(n[l[f].value]=c)}),t&&this.removeQuads(i),n}addAll(t){if(t instanceof _a&&(t=t.filtered),Array.isArray(t))this.addQuads(t);else if(t instanceof kr&&t._entityIndex===this._entityIndex)t._size!==0&&(this._graphs=r_(this._graphs,t._graphs),this._size=null);else for(const o of t)this.add(o);return this}contains(t){if(t instanceof _a&&(t=t.filtered),t===this)return!0;if(!(t instanceof kr)||this._entityIndex!==t._entityIndex)return t.every(u=>this.has(u));const o=this._graphs,n=t._graphs;let r,e,i,s,c;for(const u in n){if(!(r=o[u]))return!1;r=r.subjects;for(const l in e=n[u].subjects){if(!(i=r[l]))return!1;for(const f in s=e[l]){if(!(c=i[f]))return!1;for(const d in s[f])if(!(d in c))return!1}}}return!0}deleteMatches(t,o,n,r){for(const e of this.match(t,o,n,r))this.removeQuad(e);return this}difference(t){if(t&&t instanceof _a&&(t=t.filtered),t===this)return new kr({entityIndex:this._entityIndex});if(t instanceof kr&&t._entityIndex===this._entityIndex){const o=new kr({entityIndex:this._entityIndex}),n=G7(this._graphs,t._graphs);return n&&(o._graphs=n,o._size=null),o}return this.filter(o=>!t.has(o))}equals(t){return t instanceof _a&&(t=t.filtered),t===this||this.size===t.size&&this.contains(t)}filter(t){const o=new kr({entityIndex:this._entityIndex});for(const n of this)t(n,this)&&o.add(n);return o}intersection(t){if(t instanceof _a&&(t=t.filtered),t===this){const o=new kr({entityIndex:this._entityIndex});return o._graphs=r_(Object.create(null),this._graphs),o._size=this._size,o}else if(t instanceof kr&&this._entityIndex===t._entityIndex){const o=new kr({entityIndex:this._entityIndex}),n=H7(t._graphs,this._graphs);return n&&(o._graphs=n,o._size=null),o}return this.filter(o=>t.has(o))}map(t){const o=new kr({entityIndex:this._entityIndex});for(const n of this)o.add(t(n,this));return o}reduce(t,o){const n=this.readQuads();let r=o===void 0?n.next().value:o;for(const e of n)r=t(r,e,this);return r}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new t_().quadsToString(this)}union(t){const o=new kr({entityIndex:this._entityIndex});return o._graphs=r_(Object.create(null),this._graphs),o._size=this._size,o.addAll(t),o}*[Symbol.iterator](){yield*this.readQuads()}}function Ti(a,t,o=0){const n=t[o];if(n&&!(n in a))return!1;let r=!1;for(const e in n?{[n]:a[n]}:a){const i=o===2?null:Ti(a[e],t,o+1);i!==!1&&(r=r||Object.create(null),r[e]=i)}return r}class _a extends SA.Readable{constructor(t,o,n,r,e,i){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:o,predicate:n,object:r,graph:e,options:i})}get filtered(){if(!this._filtered){const{n3Store:t,graph:o,object:n,predicate:r,subject:e}=this,i=this._filtered=new kr({factory:t._factory,entityIndex:this.options.entityIndex});let s,c,u;if(e&&!(s=i._termToNumericId(e))||r&&!(c=i._termToNumericId(r))||n&&!(u=i._termToNumericId(n)))return i;const l=t._getGraphs(o);for(const f in l){let d,h,p,_;(_=l[f])&&(!s&&c?(h=Ti(_.predicates,[c,u,s]))&&(d=Ti(_.subjects,[s,c,u]),p=Ti(_.objects,[u,s,c])):u?(p=Ti(_.objects,[u,s,c]))&&(d=Ti(_.subjects,[s,c,u]),h=Ti(_.predicates,[c,u,s])):(d=Ti(_.subjects,[s,c,u]))&&(h=Ti(_.predicates,[c,u,s]),p=Ti(_.objects,[u,s,c])),d&&(i._graphs[f]={subjects:d,predicates:h,objects:p}))}i._size=null}return this._filtered}get size(){return this.filtered.size}_read(t){t>0&&!this[hF]&&(this[hF]=this[Symbol.iterator]());const o=this[hF];for(;--t>=0;){const{done:n,value:r}=o.next();if(n){this.push(null);return}this.push(r)}}addAll(t){return this.filtered.addAll(t)}contains(t){return this.filtered.contains(t)}deleteMatches(t,o,n,r){return this.filtered.deleteMatches(t,o,n,r)}difference(t){return this.filtered.difference(t)}equals(t){return this.filtered.equals(t)}every(t,o,n,r,e){return this.filtered.every(t,o,n,r,e)}filter(t){return this.filtered.filter(t)}forEach(t,o,n,r,e){return this.filtered.forEach(t,o,n,r,e)}import(t){return this.filtered.import(t)}intersection(t){return this.filtered.intersection(t)}map(t){return this.filtered.map(t)}some(t,o,n,r,e){return this.filtered.some(t,o,n,r,e)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(t){return this._filtered?this._filtered.union(t):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(t)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(t,o){return this.filtered.reduce(t,o)}toString(){return new t_().quadsToString(this)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,o,n,r){return new _a(this.filtered,t,o,n,r,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}class z7{dataset(t){return new kr(t)}}function k7(a){const t=[];for(const{subject:o,object:n}of a.match(null,Jn.namedNode("http://www.w3.org/2000/10/swap/log#implies"),null,Jn.defaultGraph())){const r=[...a.match(null,null,null,o)],e=[...a.match(null,null,null,n)];t.push({premise:r,conclusion:e})}return t}class X7{constructor(t){this._store=t}_add(t,o,n,r,e){this._store._addToIndex(r.subjects,t,o,n)&&(this._store._addToIndex(r.predicates,o,n,t),this._store._addToIndex(r.objects,n,t,o),e())}_evaluatePremise(t,o,n,r=0){let e,i,s,c,u;const[l,f,d]=t.premise[r].value,h=o[t.premise[r].content],p=!(s=l.value);for(s in p?h:{[s]:h[s]})if(c=h[s]){p&&(l.value=Number(s)),e=!(s=f.value);for(s in e?c:{[s]:c[s]})if(u=c[s]){e&&(f.value=Number(s)),i=!(s=d.value);for(s in i?u:{[s]:u[s]})i&&(d.value=Number(s)),r===t.premise.length-1?t.conclusion.forEach(_=>{this._add(_.subject.value,_.predicate.value,_.object.value,o,()=>{n(_)})}):this._evaluatePremise(t,o,n,r+1);i&&(d.value=null)}e&&(f.value=null)}p&&(l.value=null)}_evaluateRules(t,o,n){for(let r=0;r<t.length;r++)this._evaluatePremise(t[r],o,n)}_reasonGraphNaive(t,o){const n=[];function r(s){s.next&&s.next.forEach(c=>{n.push([s.subject.value,s.predicate.value,s.object.value,c])})}const e=s=>{s.forEach(c=>{this._add(c.subject.value,c.predicate.value,c.object.value,o,()=>{r(c)})})};this._evaluateRules(t,o,r);let i;for(;(i=n.pop())!==void 0;){const[s,c,u,l]=i,f=l.basePremise.subject.value;f||(l.basePremise.subject.value=s);const d=l.basePremise.predicate.value;d||(l.basePremise.predicate.value=c);const h=l.basePremise.object.value;h||(l.basePremise.object.value=u),l.premise.length===0?e(l.conclusion):this._evaluatePremise(l,o,r),f||(l.basePremise.subject.value=null),d||(l.basePremise.predicate.value=null),h||(l.basePremise.object.value=null)}}_createRule({premise:t,conclusion:o}){const n={},r=i=>i.termType==="Variable"?n[i.value]=n[i.value]||{}:{value:this._store._termToNewNumericId(i)},e=i=>({subject:r(i.subject),predicate:r(i.predicate),object:r(i.object)});return{premise:t.map(i=>e(i)),conclusion:o.map(i=>e(i)),variables:Object.values(n)}}reason(t){Array.isArray(t)||(t=k7(t)),t=t.map(n=>this._createRule(n));for(const n of t)for(const r of t)for(let e=0;e<r.premise.length;e++){const i=r.premise[e];for(const s of n.conclusion){if(yF(i.subject,s.subject)&&yF(i.predicate,s.predicate)&&yF(i.object,s.object)){const c=new Set,u=[];i.subject.value=i.subject.value||1,i.object.value=i.object.value||1,i.predicate.value=i.predicate.value||1;for(let l=0;l<r.premise.length;l++)l!==e&&u.push(W7(r.premise[l],c));(s.next=s.next||[]).push({premise:u,conclusion:r.conclusion,basePremise:i})}r.variables.forEach(c=>{c.value=null})}}for(const n of t){const r=new Set;n.premise=n.premise.map(e=>W7(e,r))}const o=this._store._getGraphs();for(const n in o)this._reasonGraphNaive(t,o[n]);this._store._size=null}}function W7({subject:a,predicate:t,object:o},n){const r=a.value||n.has(a)||(n.add(a),!1),e=t.value||n.has(t)||(n.add(t),!1),i=o.value||n.has(o)||(n.add(o),!1);return!r&&e?{content:"predicates",value:[t,o,a]}:i?{content:"objects",value:[o,a,t]}:{content:"subjects",value:[a,t,o]}}function yF(a,t){return a.value===null&&(a.value=t.value),a.value===t.value}class J7 extends SA.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const o=new TA(t);let n,r;const e={onQuad:(i,s)=>{i&&this.emit("error",i)||s&&this.push(s)},onPrefix:(i,s)=>{this.emit("prefix",i,s)}};t&&t.comments&&(e.onComment=i=>{this.emit("comment",i)}),o.parse({on:(i,s)=>{switch(i){case"data":n=s;break;case"end":r=s;break}}},e),this._transform=(i,s,c)=>{n(i),c()},this._flush=i=>{r(),i()}}import(t){return t.on("data",o=>{this.write(o)}),t.on("end",()=>{this.end()}),t.on("error",o=>{this.emit("error",o)}),this}}class K7 extends SA.Transform{constructor(t){super({encoding:"utf8",writableObjectMode:!0});const o=this._writer=new t_({write:(n,r,e)=>{this.push(n),e&&e()},end:n=>{this.push(null),n&&n()}},t);this._transform=(n,r,e)=>{o.addQuad(n,e)},this._flush=n=>{o.end(n)}}import(t){return t.on("data",o=>{this.write(o)}),t.on("end",()=>{this.end()}),t.on("error",o=>{this.emit("error",o)}),t.on("prefix",(o,n)=>{this._writer.addPrefix(o,n)}),this}}var _fe={Lexer:uF,Parser:TA,Writer:t_,Store:kr,StoreFactory:z7,EntityIndex:pF,StreamParser:J7,StreamWriter:K7,Util:B7,Reasoner:X7,DataFactory:Jn,Term:Tn,NamedNode:vA,Literal:Ph,BlankNode:cF,Variable:lF,DefaultGraph:dF,Quad:Lh,Triple:Lh,termFromId:iu,termToId:ba},mfe=Object.freeze({__proto__:null,BlankNode:cF,DataFactory:Jn,DefaultGraph:dF,EntityIndex:pF,Lexer:uF,Literal:Ph,NamedNode:vA,Parser:TA,Quad:Lh,Reasoner:X7,Store:kr,StoreFactory:z7,StreamParser:J7,StreamWriter:K7,Term:Tn,Triple:Lh,Util:B7,Variable:lF,Writer:t_,default:_fe,getRulesFromDataset:k7,termFromId:iu,termToId:ba}),ma=sr(mfe),Y7;function gfe(){if(Y7)return zb;Y7=1,Object.defineProperty(zb,"__esModule",{value:!0}),zb.ActorRdfParseN3=void 0;const a=Nh(),t=tt(),o=ma;let n=class extends a.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,i,s){var l;const c=e.context.getSafe(t.KeysInitQuery.dataFactory);e.data.on("error",f=>u.emit("error",f));const u=e.data.pipe(new o.StreamParser({factory:c,baseIRI:(l=e.metadata)==null?void 0:l.baseIRI,format:i.endsWith("n3")?i:`${i}*`}));return{data:u,metadata:{triples:i==="text/turtle"||i==="application/n-triples"||i==="text/n3"}}}};return zb.ActorRdfParseN3=n,zb}var Z7;function vfe(){return Z7||(Z7=1,function(a){var t=tu&&tu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=tu&&tu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(gfe(),a)}(tu)),tu}var au={},n_={},ou={},su={},uu={},bF={},eB;function Tfe(){return eB||(eB=1,function(a){/**
 * Character classes and associated utilities for the 5th edition of XML 1.0.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(a,"__esModule",{value:!0}),a.CHAR=`	
\r ---`,a.S=` 	\r
`,a.NAME_START_CHAR=":A-Z_a-z-----------",a.NAME_CHAR="-"+a.NAME_START_CHAR+".0-9--",a.CHAR_RE=new RegExp("^["+a.CHAR+"]$","u"),a.S_RE=new RegExp("^["+a.S+"]+$","u"),a.NAME_START_CHAR_RE=new RegExp("^["+a.NAME_START_CHAR+"]$","u"),a.NAME_CHAR_RE=new RegExp("^["+a.NAME_CHAR+"]$","u"),a.NAME_RE=new RegExp("^["+a.NAME_START_CHAR+"]["+a.NAME_CHAR+"]*$","u"),a.NMTOKEN_RE=new RegExp("^["+a.NAME_CHAR+"]+$","u");var t=9,o=10,n=13,r=32;a.S_LIST=[r,o,n,t];function e(u){return u>=r&&u<=55295||u===o||u===n||u===t||u>=57344&&u<=65533||u>=65536&&u<=1114111}a.isChar=e;function i(u){return u===r||u===o||u===n||u===t}a.isS=i;function s(u){return u>=65&&u<=90||u>=97&&u<=122||u===58||u===95||u===8204||u===8205||u>=192&&u<=214||u>=216&&u<=246||u>=248&&u<=767||u>=880&&u<=893||u>=895&&u<=8191||u>=8304&&u<=8591||u>=11264&&u<=12271||u>=12289&&u<=55295||u>=63744&&u<=64975||u>=65008&&u<=65533||u>=65536&&u<=983039}a.isNameStartChar=s;function c(u){return s(u)||u>=48&&u<=57||u===45||u===46||u===183||u>=768&&u<=879||u>=8255&&u<=8256}a.isNameChar=c}(bF)),bF}var _F={},tB;function wfe(){return tB||(tB=1,function(a){/**
 * Character classes and associated utilities for the 2nd edition of XML 1.1.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(a,"__esModule",{value:!0}),a.CHAR="---",a.RESTRICTED_CHAR="-\b\v\f---",a.S=` 	\r
`,a.NAME_START_CHAR=":A-Z_a-z-----------",a.NAME_CHAR="-"+a.NAME_START_CHAR+".0-9--",a.CHAR_RE=new RegExp("^["+a.CHAR+"]$","u"),a.RESTRICTED_CHAR_RE=new RegExp("^["+a.RESTRICTED_CHAR+"]$","u"),a.S_RE=new RegExp("^["+a.S+"]+$","u"),a.NAME_START_CHAR_RE=new RegExp("^["+a.NAME_START_CHAR+"]$","u"),a.NAME_CHAR_RE=new RegExp("^["+a.NAME_CHAR+"]$","u"),a.NAME_RE=new RegExp("^["+a.NAME_START_CHAR+"]["+a.NAME_CHAR+"]*$","u"),a.NMTOKEN_RE=new RegExp("^["+a.NAME_CHAR+"]+$","u");var t=9,o=10,n=13,r=32;a.S_LIST=[r,o,n,t];function e(f){return f>=1&&f<=55295||f>=57344&&f<=65533||f>=65536&&f<=1114111}a.isChar=e;function i(f){return f>=1&&f<=8||f===11||f===12||f>=14&&f<=31||f>=127&&f<=132||f>=134&&f<=159}a.isRestrictedChar=i;function s(f){return f===9||f===10||f===13||f>31&&f<127||f===133||f>159&&f<=55295||f>=57344&&f<=65533||f>=65536&&f<=1114111}a.isCharAndNotRestricted=s;function c(f){return f===r||f===o||f===n||f===t}a.isS=c;function u(f){return f>=65&&f<=90||f>=97&&f<=122||f===58||f===95||f===8204||f===8205||f>=192&&f<=214||f>=216&&f<=246||f>=248&&f<=767||f>=880&&f<=893||f>=895&&f<=8191||f>=8304&&f<=8591||f>=11264&&f<=12271||f>=12289&&f<=55295||f>=63744&&f<=64975||f>=65008&&f<=65533||f>=65536&&f<=983039}a.isNameStartChar=u;function l(f){return u(f)||f>=48&&f<=57||f===45||f===46||f===183||f>=768&&f<=879||f>=8255&&f<=8256}a.isNameChar=l}(_F)),_F}var mF={},rB;function Sfe(){return rB||(rB=1,function(a){/**
 * Character class utilities for XML NS 1.0 edition 3.
 *
 * @author Louis-Dominique Dubeau
 * @license MIT
 * @copyright Louis-Dominique Dubeau
 */Object.defineProperty(a,"__esModule",{value:!0}),a.NC_NAME_START_CHAR="A-Z_a-z------------",a.NC_NAME_CHAR="-"+a.NC_NAME_START_CHAR+".0-9--",a.NC_NAME_START_CHAR_RE=new RegExp("^["+a.NC_NAME_START_CHAR+"]$","u"),a.NC_NAME_CHAR_RE=new RegExp("^["+a.NC_NAME_CHAR+"]$","u"),a.NC_NAME_RE=new RegExp("^["+a.NC_NAME_START_CHAR+"]["+a.NC_NAME_CHAR+"]*$","u");function t(n){return n>=65&&n<=90||n===95||n>=97&&n<=122||n>=192&&n<=214||n>=216&&n<=246||n>=248&&n<=767||n>=880&&n<=893||n>=895&&n<=8191||n>=8204&&n<=8205||n>=8304&&n<=8591||n>=11264&&n<=12271||n>=12289&&n<=55295||n>=63744&&n<=64975||n>=65008&&n<=65533||n>=65536&&n<=983039}a.isNCNameStartChar=t;function o(n){return t(n)||n===45||n===46||n>=48&&n<=57||n===183||n>=768&&n<=879||n>=8255&&n<=8256}a.isNCNameChar=o}(mF)),mF}var nB;function iB(){if(nB)return uu;nB=1,Object.defineProperty(uu,"__esModule",{value:!0}),uu.SaxesParser=uu.EVENTS=void 0;const a=Tfe(),t=wfe(),o=Sfe();var n=a.isS,r=a.isChar,e=a.isNameStartChar,i=a.isNameChar,s=a.S_LIST,c=a.NAME_RE,u=t.isChar,l=o.isNCNameStartChar,f=o.isNCNameChar,d=o.NC_NAME_RE;const h="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",_={__proto__:null,xml:h,xmlns:p},g={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},y=-1,m=-2,b=0,T=1,w=2,O=3,F=4,Q=5,j=6,x=7,I=8,D=9,C=10,X=11,z=12,J=13,ie=14,se=15,ye=16,K=17,Te=18,Ne=19,_e=20,$=21,He=22,qe=23,Ce=24,xe=25,we=26,ee=27,M=28,B=29,R=30,q=31,W=32,re=33,Y=34,ue=35,te=36,le=37,Oe=38,Se=39,Ve=40,ke=41,Ae=42,A=43,E=44,P=9,k=10,N=13,S=32,L=33,U=34,Z=38,me=39,pe=45,Xe=47,ne=59,Ie=60,ve=61,Re=62,ce=63,Pe=91,ze=93,Ue=133,Ye=8232,fe=nt=>nt===U||nt===me,H=[U,me],V=[...H,Pe,Re],G=[...H,Ie,ze],oe=[ve,ce,...s],Fe=[...s,Re,Z,Ie];function Ee(nt,ge,je){switch(ge){case"xml":je!==h&&nt.fail(`xml prefix must be bound to ${h}.`);break;case"xmlns":je!==p&&nt.fail(`xmlns prefix must be bound to ${p}.`);break}switch(je){case p:nt.fail(ge===""?`the default namespace may not be set to ${je}.`:`may not assign a prefix (even "xmlns") to the URI ${p}.`);break;case h:switch(ge){case"xml":break;case"":nt.fail(`the default namespace may not be set to ${je}.`);break;default:nt.fail("may not assign the xml namespace to another prefix.")}break}}function Qe(nt,ge){for(const je of Object.keys(ge))Ee(nt,je,ge[je])}const Je=nt=>d.test(nt),rt=nt=>c.test(nt),it=0,ht=1,st=2;uu.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const ot={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class Kr{get closed(){return this._closed}constructor(ge){this.opt=ge??{},this.fragmentOpt=!!this.opt.fragment;const je=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,je){this.nameStartCheck=l,this.nameCheck=f,this.isName=Je,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},_);const Be=this.opt.additionalNamespaces;Be!=null&&(Qe(this,Be),Object.assign(this.ns,Be))}else this.nameStartCheck=e,this.nameCheck=i,this.isName=rt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var ge;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=it,this.attribList=[];const{fragmentOpt:je}=this;this.state=je?J:b,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=je,this.xmlDeclPossible=!je,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:Be}=this.opt;if(Be===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");Be="1.0"}this.setXMLVersion(Be),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(g),(ge=this.readyHandler)===null||ge===void 0||ge.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(ge,je){this[ot[ge]]=je}off(ge){this[ot[ge]]=void 0}makeError(ge){var je;let Be=(je=this.fileName)!==null&&je!==void 0?je:"";return this.trackPosition&&(Be.length>0&&(Be+=":"),Be+=`${this.line}:${this.column}`),Be.length>0&&(Be+=": "),new Error(Be+ge)}fail(ge){const je=this.makeError(ge),Be=this.errorHandler;if(Be===void 0)throw je;return Be(je),this}write(ge){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let je=!1;ge===null?(je=!0,ge=""):typeof ge=="object"&&(ge=ge.toString()),this.carriedFromPrevious!==void 0&&(ge=`${this.carriedFromPrevious}${ge}`,this.carriedFromPrevious=void 0);let Be=ge.length;const ct=ge.charCodeAt(Be-1);!je&&(ct===N||ct>=55296&&ct<=56319)&&(this.carriedFromPrevious=ge[Be-1],Be--,ge=ge.slice(0,Be));const{stateTable:lt}=this;for(this.chunk=ge,this.i=0;this.i<Be;)lt[this.state].call(this);return this.chunkPosition+=Be,je?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:ge,i:je}=this;if(this.prevI=je,this.i=je+1,je>=ge.length)return y;const Be=ge.charCodeAt(je);if(this.column++,Be<55296){if(Be>=S||Be===P)return Be;switch(Be){case k:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;case N:return ge.charCodeAt(je+1)===k&&(this.i=je+2),this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),Be}}if(Be>56319)return Be>=57344&&Be<=65533||this.fail("disallowed character."),Be;const ct=65536+(Be-55296)*1024+(ge.charCodeAt(je+1)-56320);return this.i=je+2,ct>1114111&&this.fail("disallowed character."),ct}getCode11(){const{chunk:ge,i:je}=this;if(this.prevI=je,this.i=je+1,je>=ge.length)return y;const Be=ge.charCodeAt(je);if(this.column++,Be<55296){if(Be>31&&Be<127||Be>159&&Be!==Ye||Be===P)return Be;switch(Be){case k:return this.line++,this.column=0,this.positionAtNewLine=this.position,k;case N:{const lt=ge.charCodeAt(je+1);(lt===k||lt===Ue)&&(this.i=je+2)}case Ue:case Ye:return this.line++,this.column=0,this.positionAtNewLine=this.position,m;default:return this.fail("disallowed character."),Be}}if(Be>56319)return Be>=57344&&Be<=65533||this.fail("disallowed character."),Be;const ct=65536+(Be-55296)*1024+(ge.charCodeAt(je+1)-56320);return this.i=je+2,ct>1114111&&this.fail("disallowed character."),ct}getCodeNorm(){const ge=this.getCode();return ge===m?k:ge}unget(){this.i=this.prevI,this.column--}captureTo(ge){let{i:je}=this;const{chunk:Be}=this;for(;;){const ct=this.getCode(),lt=ct===m,Et=lt?k:ct;if(Et===y||ge.includes(Et))return this.text+=Be.slice(je,this.prevI),Et;lt&&(this.text+=`${Be.slice(je,this.prevI)}
`,je=this.i)}}captureToChar(ge){let{i:je}=this;const{chunk:Be}=this;for(;;){let ct=this.getCode();switch(ct){case m:this.text+=`${Be.slice(je,this.prevI)}
`,je=this.i,ct=k;break;case y:return this.text+=Be.slice(je),!1}if(ct===ge)return this.text+=Be.slice(je,this.prevI),!0}}captureNameChars(){const{chunk:ge,i:je}=this;for(;;){const Be=this.getCode();if(Be===y)return this.name+=ge.slice(je),y;if(!i(Be))return this.name+=ge.slice(je,this.prevI),Be===m?k:Be}}skipSpaces(){for(;;){const ge=this.getCodeNorm();if(ge===y||!n(ge))return ge}}setXMLVersion(ge){this.currentXMLVersion=ge,ge==="1.0"?(this.isChar=r,this.getCode=this.getCode10):(this.isChar=u,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=T}sBeginWhitespace(){const ge=this.i,je=this.skipSpaces();switch(this.prevI!==ge&&(this.xmlDeclPossible=!1),je){case Ie:if(this.state=se,this.text.length!==0)throw new Error("no-empty text at start");break;case y:break;default:this.unget(),this.state=J,this.xmlDeclPossible=!1}}sDoctype(){var ge;const je=this.captureTo(V);switch(je){case Re:{(ge=this.doctypeHandler)===null||ge===void 0||ge.call(this,this.text),this.text="",this.state=J,this.doctype=!0;break}case y:break;default:this.text+=String.fromCodePoint(je),je===Pe?this.state=F:fe(je)&&(this.state=O,this.q=je)}}sDoctypeQuote(){const ge=this.q;this.captureToChar(ge)&&(this.text+=String.fromCodePoint(ge),this.q=null,this.state=w)}sDTD(){const ge=this.captureTo(G);ge!==y&&(this.text+=String.fromCodePoint(ge),ge===ze?this.state=w:ge===Ie?this.state=j:fe(ge)&&(this.state=Q,this.q=ge))}sDTDQuoted(){const ge=this.q;this.captureToChar(ge)&&(this.text+=String.fromCodePoint(ge),this.state=F,this.q=null)}sDTDOpenWaka(){const ge=this.getCodeNorm();switch(this.text+=String.fromCodePoint(ge),ge){case L:this.state=x,this.openWakaBang="";break;case ce:this.state=X;break;default:this.state=F}}sDTDOpenWakaBang(){const ge=String.fromCodePoint(this.getCodeNorm()),je=this.openWakaBang+=ge;this.text+=ge,je!=="-"&&(this.state=je==="--"?I:F,this.openWakaBang="")}sDTDComment(){this.captureToChar(pe)&&(this.text+="-",this.state=D)}sDTDCommentEnding(){const ge=this.getCodeNorm();this.text+=String.fromCodePoint(ge),this.state=ge===pe?C:I}sDTDCommentEnded(){const ge=this.getCodeNorm();this.text+=String.fromCodePoint(ge),ge===Re?this.state=F:(this.fail("malformed comment."),this.state=I)}sDTDPI(){this.captureToChar(ce)&&(this.text+="?",this.state=z)}sDTDPIEnding(){const ge=this.getCodeNorm();this.text+=String.fromCodePoint(ge),ge===Re&&(this.state=F)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:ge}=this;const{chunk:je}=this;e:for(;;)switch(this.getCode()){case m:this.entity+=`${je.slice(ge,this.prevI)}
`,ge=this.i;break;case ne:{const{entityReturnState:Be}=this,ct=this.entity+je.slice(ge,this.prevI);this.state=Be;let lt;ct===""?(this.fail("empty entity name."),lt="&;"):(lt=this.parseEntity(ct),this.entity=""),(Be!==J||this.textHandler!==void 0)&&(this.text+=lt);break e}case y:this.entity+=je.slice(ge);break e}}sOpenWaka(){const ge=this.getCode();if(e(ge))this.state=Y,this.unget(),this.xmlDeclPossible=!1;else switch(ge){case Xe:this.state=A,this.xmlDeclPossible=!1;break;case L:this.state=ye,this.openWakaBang="",this.xmlDeclPossible=!1;break;case ce:this.state=qe;break;default:this.fail("disallowed character in tag name"),this.state=J,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=_e,this.openWakaBang="";break;case"--":this.state=K,this.openWakaBang="";break;case"DOCTYPE":this.state=w,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(pe)&&(this.state=Te)}sCommentEnding(){var ge;const je=this.getCodeNorm();je===pe?(this.state=Ne,(ge=this.commentHandler)===null||ge===void 0||ge.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(je)}`,this.state=K)}sCommentEnded(){const ge=this.getCodeNorm();ge!==Re?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(ge)}`,this.state=K):this.state=J}sCData(){this.captureToChar(ze)&&(this.state=$)}sCDataEnding(){const ge=this.getCodeNorm();ge===ze?this.state=He:(this.text+=`]${String.fromCodePoint(ge)}`,this.state=_e)}sCDataEnding2(){var ge;const je=this.getCodeNorm();switch(je){case Re:{(ge=this.cdataHandler)===null||ge===void 0||ge.call(this,this.text),this.text="",this.state=J;break}case ze:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(je)}`,this.state=_e}}sPIFirstChar(){const ge=this.getCodeNorm();this.nameStartCheck(ge)?(this.piTarget+=String.fromCodePoint(ge),this.state=Ce):ge===ce||n(ge)?(this.fail("processing instruction without a target."),this.state=ge===ce?we:xe):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(ge),this.state=Ce)}sPIRest(){const{chunk:ge,i:je}=this;for(;;){const Be=this.getCodeNorm();if(Be===y){this.piTarget+=ge.slice(je);return}if(!this.nameCheck(Be)){this.piTarget+=ge.slice(je,this.prevI);const ct=Be===ce;ct||n(Be)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=ct?re:ee):this.state=ct?we:xe:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(Be));break}}}sPIBody(){if(this.text.length===0){const ge=this.getCodeNorm();ge===ce?this.state=we:n(ge)||(this.text=String.fromCodePoint(ge))}else this.captureToChar(ce)&&(this.state=we)}sPIEnding(){var ge;const je=this.getCodeNorm();if(je===Re){const{piTarget:Be}=this;Be.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(ge=this.piHandler)===null||ge===void 0||ge.call(this,{target:Be,body:this.text}),this.piTarget=this.text="",this.state=J}else je===ce?this.text+="?":(this.text+=`?${String.fromCodePoint(je)}`,this.state=xe);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const ge=this.skipSpaces();if(ge===ce){this.state=re;return}ge!==y&&(this.state=M,this.name=String.fromCodePoint(ge))}sXMLDeclName(){const ge=this.captureTo(oe);if(ge===ce){this.state=re,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(n(ge)||ge===ve){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=ge===ve?R:B}}sXMLDeclEq(){const ge=this.getCodeNorm();if(ge===ce){this.state=re,this.fail("XML declaration is incomplete.");return}n(ge)||(ge!==ve&&this.fail("value required."),this.state=R)}sXMLDeclValueStart(){const ge=this.getCodeNorm();if(ge===ce){this.state=re,this.fail("XML declaration is incomplete.");return}n(ge)||(fe(ge)?this.q=ge:(this.fail("value must be quoted."),this.q=S),this.state=q)}sXMLDeclValue(){const ge=this.captureTo([this.q,ce]);if(ge===ce){this.state=re,this.text="",this.fail("XML declaration is incomplete.");return}if(ge===y)return;const je=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const Be=je;this.xmlDecl.version=Be,/^1\.[0-9]+$/.test(Be)?this.opt.forceXMLVersion||this.setXMLVersion(Be):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(je)||this.fail("encoding value must match 	/^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=je;break;case"standalone":je!=="yes"&&je!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=je;break}this.name="",this.state=W}sXMLDeclSeparator(){const ge=this.getCodeNorm();if(ge===ce){this.state=re;return}n(ge)||(this.fail("whitespace required."),this.unget()),this.state=ee}sXMLDeclEnding(){var ge;this.getCodeNorm()===Re?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(ge=this.xmldeclHandler)===null||ge===void 0||ge.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=J):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var ge;const je=this.captureNameChars();if(je===y)return;const Be=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=Be.ns=Object.create(null)),(ge=this.openTagStartHandler)===null||ge===void 0||ge.call(this,Be),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),je){case Re:this.openTag();break;case Xe:this.state=ue;break;default:n(je)||this.fail("disallowed character in tag name."),this.state=te}}sOpenTagSlash(){this.getCode()===Re?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=te)}sAttrib(){const ge=this.skipSpaces();ge!==y&&(e(ge)?(this.unget(),this.state=le):ge===Re?this.openTag():ge===Xe?this.state=ue:this.fail("disallowed character in attribute name."))}sAttribName(){const ge=this.captureNameChars();ge===ve?this.state=Se:n(ge)?this.state=Oe:ge===Re?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):ge!==y&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const ge=this.skipSpaces();switch(ge){case y:return;case ve:this.state=Se;break;default:this.fail("attribute without value."),this.text="",this.name="",ge===Re?this.openTag():e(ge)?(this.unget(),this.state=le):(this.fail("disallowed character in attribute name."),this.state=te)}}sAttribValue(){const ge=this.getCodeNorm();fe(ge)?(this.q=ge,this.state=Ve):n(ge)||(this.fail("unquoted attribute value."),this.state=Ae,this.unget())}sAttribValueQuoted(){const{q:ge,chunk:je}=this;let{i:Be}=this;for(;;)switch(this.getCode()){case ge:this.pushAttrib(this.name,this.text+je.slice(Be,this.prevI)),this.name=this.text="",this.q=null,this.state=ke;return;case Z:this.text+=je.slice(Be,this.prevI),this.state=ie,this.entityReturnState=Ve;return;case k:case m:case P:this.text+=`${je.slice(Be,this.prevI)} `,Be=this.i;break;case Ie:this.text+=je.slice(Be,this.prevI),this.fail("disallowed character.");return;case y:this.text+=je.slice(Be);return}}sAttribValueClosed(){const ge=this.getCodeNorm();n(ge)?this.state=te:ge===Re?this.openTag():ge===Xe?this.state=ue:e(ge)?(this.fail("no whitespace between attributes."),this.unget(),this.state=le):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const ge=this.captureTo(Fe);switch(ge){case Z:this.state=ie,this.entityReturnState=Ae;break;case Ie:this.fail("disallowed character.");break;case y:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",ge===Re?this.openTag():this.state=te}}sCloseTag(){const ge=this.captureNameChars();ge===Re?this.closeTag():n(ge)?this.state=E:ge!==y&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Re:this.closeTag();break;case y:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:ge,forbiddenState:je}=this;const{chunk:Be,textHandler:ct}=this;e:for(;;)switch(this.getCode()){case Ie:{if(this.state=se,ct!==void 0){const{text:lt}=this,Et=Be.slice(ge,this.prevI);lt.length!==0?(ct(lt+Et),this.text=""):Et.length!==0&&ct(Et)}je=it;break e}case Z:this.state=ie,this.entityReturnState=J,ct!==void 0&&(this.text+=Be.slice(ge,this.prevI)),je=it;break e;case ze:switch(je){case it:je=ht;break;case ht:je=st;break;case st:break;default:throw new Error("impossible state")}break;case Re:je===st&&this.fail('the string "]]>" is disallowed in char data.'),je=it;break;case m:ct!==void 0&&(this.text+=`${Be.slice(ge,this.prevI)}
`),ge=this.i,je=it;break;case y:ct!==void 0&&(this.text+=Be.slice(ge));break e;default:je=it}this.forbiddenState=je}handleTextOutsideRoot(){let{i:ge}=this;const{chunk:je,textHandler:Be}=this;let ct=!1;e:for(;;){const lt=this.getCode();switch(lt){case Ie:{if(this.state=se,Be!==void 0){const{text:Et}=this,dr=je.slice(ge,this.prevI);Et.length!==0?(Be(Et+dr),this.text=""):dr.length!==0&&Be(dr)}break e}case Z:this.state=ie,this.entityReturnState=J,Be!==void 0&&(this.text+=je.slice(ge,this.prevI)),ct=!0;break e;case m:Be!==void 0&&(this.text+=`${je.slice(ge,this.prevI)}
`),ge=this.i;break;case y:Be!==void 0&&(this.text+=je.slice(ge));break e;default:n(lt)||(ct=!0)}}ct&&(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(ge,je){var Be;const{prefix:ct,local:lt}=this.qname(ge),Et={name:ge,prefix:ct,local:lt,value:je};if(this.attribList.push(Et),(Be=this.attributeHandler)===null||Be===void 0||Be.call(this,Et),ct==="xmlns"){const dr=je.trim();this.currentXMLVersion==="1.0"&&dr===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[lt]=dr,Ee(this,lt,dr)}else if(ge==="xmlns"){const dr=je.trim();this.topNS[""]=dr,Ee(this,"",dr)}}pushAttribPlain(ge,je){var Be;const ct={name:ge,value:je};this.attribList.push(ct),(Be=this.attributeHandler)===null||Be===void 0||Be.call(this,ct)}end(){var ge,je;this.sawRoot||this.fail("document must contain a root element.");const{tags:Be}=this;for(;Be.length>0;){const lt=Be.pop();this.fail(`unclosed tag: ${lt.name}`)}this.state!==b&&this.state!==J&&this.fail("unexpected end.");const{text:ct}=this;return ct.length!==0&&((ge=this.textHandler)===null||ge===void 0||ge.call(this,ct),this.text=""),this._closed=!0,(je=this.endHandler)===null||je===void 0||je.call(this),this._init(),this}resolve(ge){var je,Be;let ct=this.topNS[ge];if(ct!==void 0)return ct;const{tags:lt}=this;for(let Et=lt.length-1;Et>=0;Et--)if(ct=lt[Et].ns[ge],ct!==void 0)return ct;return ct=this.ns[ge],ct!==void 0?ct:(Be=(je=this.opt).resolvePrefix)===null||Be===void 0?void 0:Be.call(je,ge)}qname(ge){const je=ge.indexOf(":");if(je===-1)return{prefix:"",local:ge};const Be=ge.slice(je+1),ct=ge.slice(0,je);return(ct===""||Be===""||Be.includes(":"))&&this.fail(`malformed name: ${ge}.`),{prefix:ct,local:Be}}processAttribsNS(){var ge;const{attribList:je}=this,Be=this.tag;{const{prefix:Et,local:dr}=this.qname(Be.name);Be.prefix=Et,Be.local=dr;const Xt=Be.uri=(ge=this.resolve(Et))!==null&&ge!==void 0?ge:"";Et!==""&&(Et==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),Xt===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Et)}.`),Be.uri=Et))}if(je.length===0)return;const{attributes:ct}=Be,lt=new Set;for(const Et of je){const{name:dr,prefix:Xt,local:zi}=Et;let Sn,er;Xt===""?(Sn=dr==="xmlns"?p:"",er=dr):(Sn=this.resolve(Xt),Sn===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Xt)}.`),Sn=Xt),er=`{${Sn}}${zi}`),lt.has(er)&&this.fail(`duplicate attribute: ${er}.`),lt.add(er),Et.uri=Sn,ct[dr]=Et}this.attribList=[]}processAttribsPlain(){const{attribList:ge}=this,je=this.tag.attributes;for(const{name:Be,value:ct}of ge)je[Be]!==void 0&&this.fail(`duplicate attribute: ${Be}.`),je[Be]=ct;this.attribList=[]}openTag(){var ge;this.processAttribs();const{tags:je}=this,Be=this.tag;Be.isSelfClosing=!1,(ge=this.openTagHandler)===null||ge===void 0||ge.call(this,Be),je.push(Be),this.state=J,this.name=""}openSelfClosingTag(){var ge,je,Be;this.processAttribs();const{tags:ct}=this,lt=this.tag;lt.isSelfClosing=!0,(ge=this.openTagHandler)===null||ge===void 0||ge.call(this,lt),(je=this.closeTagHandler)===null||je===void 0||je.call(this,lt),(this.tag=(Be=ct[ct.length-1])!==null&&Be!==void 0?Be:null)===null&&(this.closedRoot=!0),this.state=J,this.name=""}closeTag(){const{tags:ge,name:je}=this;if(this.state=J,this.name="",je===""){this.fail("weird empty close tag."),this.text+="</>";return}const Be=this.closeTagHandler;let ct=ge.length;for(;ct-- >0;){const lt=this.tag=ge.pop();if(this.topNS=lt.ns,Be==null||Be(lt),lt.name===je)break;this.fail("unexpected close tag.")}ct===0?this.closedRoot=!0:ct<0&&(this.fail(`unmatched closing tag: ${je}.`),this.text+=`</${je}>`)}parseEntity(ge){if(ge[0]!=="#"){const Be=this.ENTITIES[ge];return Be!==void 0?Be:(this.fail(this.isName(ge)?"undefined entity.":"disallowed character in entity name."),`&${ge};`)}let je=NaN;return ge[1]==="x"&&/^#x[0-9a-f]+$/i.test(ge)?je=parseInt(ge.slice(2),16):/^#[0-9]+$/.test(ge)&&(je=parseInt(ge.slice(1),10)),this.isChar(je)?String.fromCodePoint(je):(this.fail("malformed character entity."),`&${ge};`)}}return uu.SaxesParser=Kr,uu}var i_={},aB;function Ofe(){if(aB)return i_;aB=1,Object.defineProperty(i_,"__esModule",{value:!0}),i_.ParseError=void 0;let a=class extends Error{constructor(o,n){const r=o.saxParser;super(o.trackPosition?`Line ${r.line} column ${r.column+1}: ${n}`:n)}};return i_.ParseError=a,i_}var cu={},a_={},oB;function sB(){if(oB)return a_;oB=1,Object.defineProperty(a_,"__esModule",{value:!0}),a_.BlankNode=void 0;class a{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}}return a_.BlankNode=a,a_}var o_={},s_={},uB;function cB(){if(uB)return s_;uB=1,Object.defineProperty(s_,"__esModule",{value:!0}),s_.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}return s_.DefaultGraph=a,a.INSTANCE=new a,s_}var u_={},c_={},lB;function gF(){if(lB)return c_;lB=1,Object.defineProperty(c_,"__esModule",{value:!0}),c_.NamedNode=void 0;class a{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}}return c_.NamedNode=a,c_}var dB;function fB(){if(dB)return u_;dB=1,Object.defineProperty(u_,"__esModule",{value:!0}),u_.Literal=void 0;const a=gF();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return u_.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),u_}var l_={},hB;function pB(){if(hB)return l_;hB=1,Object.defineProperty(l_,"__esModule",{value:!0}),l_.Quad=void 0;class a{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}}return l_.Quad=a,l_}var d_={},yB;function bB(){if(yB)return d_;yB=1,Object.defineProperty(d_,"__esModule",{value:!0}),d_.Variable=void 0;class a{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}}return d_.Variable=a,d_}var _B;function Afe(){if(_B)return o_;_B=1,Object.defineProperty(o_,"__esModule",{value:!0}),o_.DataFactory=void 0;const a=sB(),t=cB(),o=fB(),n=gF(),r=pB(),e=bB();let i=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return o_.DataFactory=s,o_}var mB;function Efe(){return mB||(mB=1,function(a){var t=cu&&cu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=cu&&cu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(sB(),a),o(Afe(),a),o(cB(),a),o(fB(),a),o(gF(),a),o(pB(),a),o(bB(),a)}(cu)),cu}var lu={},vF={},gB;function xfe(){return gB||(gB=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.validateIri=a.IriValidationStrategy=void 0;function t(){const s="[!$&'()*+,;=]",c="%[a-fA-F0-9]{2}",u="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",l=`${u}\\.${u}\\.${u}\\.${u}`,f="[a-fA-F0-9]{1,4}",d=`(${f}:${f}|${l})`,h=`((${f}:){6}${d}|::(${f}:){5}${d}|(${f})?::(${f}:){4}${d}|((${f}:){0,1}${f})?::(${f}:){3}${d}|((${f}:){0,2}${f})?::(${f}:){2}${d}|((${f}:){0,3}${f})?::${f}:${d}|((${f}:){0,4}${f})?::${d}|((${f}:){0,5}${f})?::${f}|((${f}:){0,6}${f})?::)`,p=`v[a-fA-F0-9]+\\.(${s}|${s}|":)+`,_=`\\[(${h}|${p})\\]`,g="[0-9]*",y="[a-zA-Z][a-zA-Z0-9+\\-.]*",b="[---]",O="[a-zA-Z0-9\\-._~-----------------]",F=`(${O}|${c}|${s}|[:@])*`,Q=`(${F}|[\\/?])*`,j=`(${F}|${b}|[\\/?])*`,x=`(${F})+`,I=`(${F})*`,D="",C=`${x}(\\/${I})*`,X=`\\/(${x}(\\/${I})*)?`,z=`(\\/${I})*`,J=`(${O}|${c}|${s})*`,ie=`(${_}|${l}|${J})`,K=`(\\/\\/${`(${`(${O}|${c}|${s}|:)*`}@)?${ie}(:${g})?`}${z}|${X}|${C}|${D})`,Te=`^${y}:${K}(\\?${j})?(#${Q})?$`;return new RegExp(Te,"u")}const o=t(),n=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var r;(function(i){i.Strict="strict",i.Pragmatic="pragmatic",i.None="none"})(r=a.IriValidationStrategy||(a.IriValidationStrategy={}));function e(i,s=r.Strict){switch(s){case r.Strict:return o.test(i)?void 0:new Error(`Invalid IRI according to RFC 3987: '${i}'`);case r.Pragmatic:return n.test(i)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${i}'`);case r.None:return;default:return new Error(`Not supported validation strategy "${s}"`)}}a.validateIri=e}(vF)),vF}var vB;function Ife(){return vB||(vB=1,function(a){var t=lu&&lu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=lu&&lu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(xfe(),a)}(lu)),lu}var TB;function Rfe(){if(TB)return su;TB=1,Object.defineProperty(su,"__esModule",{value:!0}),su.ParseType=su.RdfXmlParser=void 0;const a=Sr(),t=iB(),o=qt(),n=Ofe(),r=Efe(),e=Ife();let i=class fr extends o.Transform{constructor(u){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},u&&(Object.assign(this,u),this.options=u),this.dataFactory||(this.dataFactory=new r.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?e.IriValidationStrategy.Pragmatic:e.IriValidationStrategy.None),this.saxParser=new t.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(u){const l=new o.PassThrough({readableObjectMode:!0});u.on("error",d=>f.emit("error",d)),u.on("data",d=>l.push(d)),u.on("end",()=>l.push(null));const f=l.pipe(new fr(this.options));return f}_transform(u,l,f){try{this.saxParser.write(u)}catch(d){return f(d)}f()}newParseError(u){return new n.ParseError(this,u)}valueToUri(u,l){return this.uriToNamedNode((0,a.resolve)(u,l.baseIRI))}uriToNamedNode(u){const l=(0,e.validateIri)(u,this.iriValidationStrategy);if(l instanceof Error)throw this.newParseError(l.message);return this.dataFactory.namedNode(u)}validateNcname(u){if(!fr.NCNAME_MATCHER.test(u))throw this.newParseError(`Not a valid NCName: ${u}`)}attachSaxListeners(){this.saxParser.on("error",u=>this.emit("error",u)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(u){const l=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let f=s.RESOURCE;if(l&&(l.hadChildren=!0,f=l.childrenParseType),l&&l.childrenStringTags){const h=u.name;let p="";for(const m in u.attributes)p+=` ${m}="${u.attributes[m].value}"`;const g=`<${`${h}${p}`}>`;l.childrenStringTags.push(g);const y={childrenStringTags:l.childrenStringTags};y.childrenStringEmitClosingTag=`</${h}>`,this.activeTagStack.push(y);return}const d={};l?(d.language=l.language,d.baseIRI=l.baseIRI):d.baseIRI=this.baseIRI,this.activeTagStack.push(d),f===s.RESOURCE?this.onTagResource(u,d,l,!l):this.onTagProperty(u,d,l)}onTagResource(u,l,f,d){l.childrenParseType=s.PROPERTY;let h=!0;if(u.uri===fr.RDF){if(!d&&fr.FORBIDDEN_NODE_ELEMENTS.indexOf(u.local)>=0)throw this.newParseError(`Illegal node element name: ${u.local}`);switch(u.local){case"RDF":l.childrenParseType=s.RESOURCE;case"Description":h=!1}}const p=[],_=[];let g=null,y=!1,m=!1,b=null;for(const T in u.attributes){const w=u.attributes[T];if(f&&w.uri===fr.RDF)switch(w.local){case"about":if(g)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${w.value} and ${g} where found.`);g=w.value;continue;case"ID":if(g)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${w.value} and ${g} where found.`);this.validateNcname(w.value),g="#"+w.value,y=!0;continue;case"nodeID":if(g)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${w.value} and ${g} where found.`);this.validateNcname(w.value),g=w.value,m=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":b=w.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(w.uri===fr.XML){if(w.local==="lang"){l.language=w.value===""?null:w.value.toLowerCase();continue}else if(w.local==="base"){l.baseIRI=(0,a.resolve)(w.value,l.baseIRI);continue}}w.prefix!=="xml"&&w.prefix!=="xmlns"&&(w.prefix!==""||w.local!=="xmlns")&&w.uri&&(p.push(this.uriToNamedNode(w.uri+w.local)),_.push(w.value))}if(g!==null&&(l.subject=m?this.dataFactory.blankNode(g):this.valueToUri(g,l),y&&this.claimNodeId(l.subject)),l.subject||(l.subject=this.dataFactory.blankNode()),h){const T=this.uriToNamedNode(u.uri+u.local);this.emitTriple(l.subject,this.dataFactory.namedNode(fr.RDF+"type"),T,f?f.reifiedStatementId:null)}if(f){if(f.predicate)if(f.childrenCollectionSubject){const T=this.dataFactory.blankNode();this.emitTriple(f.childrenCollectionSubject,f.childrenCollectionPredicate,T,f.reifiedStatementId),this.emitTriple(T,this.dataFactory.namedNode(fr.RDF+"first"),l.subject,l.reifiedStatementId),f.childrenCollectionSubject=T,f.childrenCollectionPredicate=this.dataFactory.namedNode(fr.RDF+"rest")}else{this.emitTriple(f.subject,f.predicate,l.subject,f.reifiedStatementId);for(let T=0;T<f.predicateSubPredicates.length;T++)this.emitTriple(l.subject,f.predicateSubPredicates[T],f.predicateSubObjects[T],null);f.predicateSubPredicates=[],f.predicateSubObjects=[],f.predicateEmitted=!0}for(let T=0;T<p.length;T++){const w=this.dataFactory.literal(_[T],l.datatype||l.language);this.emitTriple(l.subject,p[T],w,f.reifiedStatementId)}b&&this.emitTriple(l.subject,this.dataFactory.namedNode(fr.RDF+"type"),this.uriToNamedNode(b),null)}}onTagProperty(u,l,f){if(l.childrenParseType=s.RESOURCE,l.subject=f.subject,u.uri===fr.RDF&&u.local==="li"?(f.listItemCounter||(f.listItemCounter=1),l.predicate=this.uriToNamedNode(u.uri+"_"+f.listItemCounter++)):l.predicate=this.uriToNamedNode(u.uri+u.local),u.uri===fr.RDF&&fr.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(u.local)>=0)throw this.newParseError(`Illegal property element name: ${u.local}`);l.predicateSubPredicates=[],l.predicateSubObjects=[];let d=!1,h=!1,p=null,_=!0;const g=[],y=[];for(const m in u.attributes){const b=u.attributes[m];if(b.uri===fr.RDF)switch(b.local){case"resource":if(p)throw this.newParseError(`Found both rdf:resource (${b.value}) and rdf:nodeID (${p}).`);if(d)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${b.value})`);l.hadChildren=!0,p=b.value,_=!1;continue;case"datatype":if(h)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${b.value}).`);if(d)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${b.value})`);l.datatype=this.valueToUri(b.value,l);continue;case"nodeID":if(h)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${b.value}).`);if(l.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${b.value}).`);if(d)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${b.value})`);this.validateNcname(b.value),l.hadChildren=!0,p=b.value,_=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(h)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(l.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${l.datatype.value})`);if(p)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${p})`);if(b.value==="Resource"){d=!0,l.childrenParseType=s.PROPERTY;const T=this.dataFactory.blankNode();this.emitTriple(l.subject,l.predicate,T,l.reifiedStatementId),l.subject=T,l.predicate=null}else b.value==="Collection"?(d=!0,l.hadChildren=!0,l.childrenCollectionSubject=l.subject,l.childrenCollectionPredicate=l.predicate,_=!1):b.value==="Literal"&&(d=!0,l.childrenTagsToString=!0,l.childrenStringTags=[]);continue;case"ID":this.validateNcname(b.value),l.reifiedStatementId=this.valueToUri("#"+b.value,l),this.claimNodeId(l.reifiedStatementId);continue}else if(b.uri===fr.XML&&b.local==="lang"){l.language=b.value===""?null:b.value.toLowerCase();continue}if(b.prefix!=="xml"&&b.prefix!=="xmlns"&&(b.prefix!==""||b.local!=="xmlns")&&b.uri){if(d||l.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${b.value}`);l.hadChildren=!0,h=!0,g.push(this.uriToNamedNode(b.uri+b.local)),y.push(this.dataFactory.literal(b.value,l.datatype||l.language))}}if(p!==null){const m=l.subject;l.subject=_?this.dataFactory.blankNode(p):this.valueToUri(p,l),this.emitTriple(m,l.predicate,l.subject,l.reifiedStatementId);for(let b=0;b<g.length;b++)this.emitTriple(l.subject,g[b],y[b],null);l.predicateEmitted=!0}else _&&(l.predicateSubPredicates=g,l.predicateSubObjects=y,l.predicateEmitted=!1)}emitTriple(u,l,f,d){this.push(this.dataFactory.quad(u,l,f,this.defaultGraph)),d&&(this.push(this.dataFactory.quad(d,this.dataFactory.namedNode(fr.RDF+"type"),this.dataFactory.namedNode(fr.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(d,this.dataFactory.namedNode(fr.RDF+"subject"),u,this.defaultGraph)),this.push(this.dataFactory.quad(d,this.dataFactory.namedNode(fr.RDF+"predicate"),l,this.defaultGraph)),this.push(this.dataFactory.quad(d,this.dataFactory.namedNode(fr.RDF+"object"),f,this.defaultGraph)))}claimNodeId(u){if(!this.allowDuplicateRdfIds){if(this.nodeIds[u.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${u.value}'.`);this.nodeIds[u.value]=!0}}onText(u){const l=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;l&&(l.childrenStringTags?l.childrenStringTags.push(u):l.predicate&&(l.text=u))}onCloseTag(){const u=this.activeTagStack.pop();if(u.childrenStringEmitClosingTag&&u.childrenStringTags.push(u.childrenStringEmitClosingTag),u.childrenTagsToString&&(u.datatype=this.dataFactory.namedNode(fr.RDF+"XMLLiteral"),u.text=u.childrenStringTags.join(""),u.hadChildren=!1),u.childrenCollectionSubject)this.emitTriple(u.childrenCollectionSubject,u.childrenCollectionPredicate,this.dataFactory.namedNode(fr.RDF+"nil"),u.reifiedStatementId);else if(u.predicate){if(!u.hadChildren&&u.childrenParseType!==s.PROPERTY)this.emitTriple(u.subject,u.predicate,this.dataFactory.literal(u.text||"",u.datatype||u.language),u.reifiedStatementId);else if(!u.predicateEmitted){const l=this.dataFactory.blankNode();this.emitTriple(u.subject,u.predicate,l,u.reifiedStatementId);for(let f=0;f<u.predicateSubPredicates.length;f++)this.emitTriple(l,u.predicateSubPredicates[f],u.predicateSubObjects[f],null)}}}onDoctype(u){u.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(l,f,d)=>(this.saxParser.ENTITIES[f]=d,""))}};su.RdfXmlParser=i,i.MIME_TYPE="application/rdf+xml",i.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i.XML="http://www.w3.org/XML/1998/namespace",i.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],i.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],i.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u;var s;return function(c){c[c.RESOURCE=0]="RESOURCE",c[c.PROPERTY=1]="PROPERTY"}(s||(su.ParseType=s={})),su}var wB;function Ffe(){return wB||(wB=1,function(a){var t=ou&&ou.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ou&&ou.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Rfe(),a)}(ou)),ou}var SB;function Nfe(){if(SB)return n_;SB=1,Object.defineProperty(n_,"__esModule",{value:!0}),n_.ActorRdfParseRdfXml=void 0;const a=Nh(),t=tt(),o=Ffe();let n=class extends a.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e){var c;const i=e.context.getSafe(t.KeysInitQuery.dataFactory);e.data.on("error",u=>s.emit("error",u));const s=e.data.pipe(new o.RdfXmlParser({dataFactory:i,baseIRI:(c=e.metadata)==null?void 0:c.baseIRI}));return{data:s,metadata:{triples:!0}}}};return n_.ActorRdfParseRdfXml=n,n_}var OB;function Dfe(){return OB||(OB=1,function(a){var t=au&&au.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=au&&au.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Nfe(),a)}(au)),au}var du={},f_={},fu={},TF={},AB;function Pfe(){return AB||(AB=1,Object.defineProperty(TF,"__esModule",{value:!0})),TF}var wF={},EB;function Lfe(){return EB||(EB=1,Object.defineProperty(wF,"__esModule",{value:!0})),wF}var SF={},xB;function jfe(){return xB||(xB=1,Object.defineProperty(SF,"__esModule",{value:!0})),SF}var h_={},Kn={},Yn={},OF={},Zn={},OA={},IB;function Mfe(){return IB||(IB=1,Object.defineProperty(OA,"__esModule",{value:!0}),OA.default=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(function(a){return a.charCodeAt(0)}))),OA}var AA={},RB;function qfe(){return RB||(RB=1,Object.defineProperty(AA,"__esModule",{value:!0}),AA.default=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(function(a){return a.charCodeAt(0)}))),AA}var AF={},FB;function NB(){return FB||(FB=1,function(a){var t;Object.defineProperty(a,"__esModule",{value:!0}),a.replaceCodePoint=a.fromCodePoint=void 0;var o=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);a.fromCodePoint=(t=String.fromCodePoint)!==null&&t!==void 0?t:function(e){var i="";return e>65535&&(e-=65536,i+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),i+=String.fromCharCode(e),i};function n(e){var i;return e>=55296&&e<=57343||e>1114111?65533:(i=o.get(e))!==null&&i!==void 0?i:e}a.replaceCodePoint=n;function r(e){return(0,a.fromCodePoint)(n(e))}a.default=r}(AF)),AF}var DB;function Mh(){return DB||(DB=1,function(a){var t=Zn&&Zn.__createBinding||(Object.create?function(I,D,C,X){X===void 0&&(X=C);var z=Object.getOwnPropertyDescriptor(D,C);(!z||("get"in z?!D.__esModule:z.writable||z.configurable))&&(z={enumerable:!0,get:function(){return D[C]}}),Object.defineProperty(I,X,z)}:function(I,D,C,X){X===void 0&&(X=C),I[X]=D[C]}),o=Zn&&Zn.__setModuleDefault||(Object.create?function(I,D){Object.defineProperty(I,"default",{enumerable:!0,value:D})}:function(I,D){I.default=D}),n=Zn&&Zn.__importStar||function(I){if(I&&I.__esModule)return I;var D={};if(I!=null)for(var C in I)C!=="default"&&Object.prototype.hasOwnProperty.call(I,C)&&t(D,I,C);return o(D,I),D},r=Zn&&Zn.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(a,"__esModule",{value:!0}),a.decodeXML=a.decodeHTMLStrict=a.decodeHTMLAttribute=a.decodeHTML=a.determineBranch=a.EntityDecoder=a.DecodingMode=a.BinTrieFlags=a.fromCodePoint=a.replaceCodePoint=a.decodeCodePoint=a.xmlDecodeTree=a.htmlDecodeTree=void 0;var e=r(Mfe());a.htmlDecodeTree=e.default;var i=r(qfe());a.xmlDecodeTree=i.default;var s=n(NB());a.decodeCodePoint=s.default;var c=NB();Object.defineProperty(a,"replaceCodePoint",{enumerable:!0,get:function(){return c.replaceCodePoint}}),Object.defineProperty(a,"fromCodePoint",{enumerable:!0,get:function(){return c.fromCodePoint}});var u;(function(I){I[I.NUM=35]="NUM",I[I.SEMI=59]="SEMI",I[I.EQUALS=61]="EQUALS",I[I.ZERO=48]="ZERO",I[I.NINE=57]="NINE",I[I.LOWER_A=97]="LOWER_A",I[I.LOWER_F=102]="LOWER_F",I[I.LOWER_X=120]="LOWER_X",I[I.LOWER_Z=122]="LOWER_Z",I[I.UPPER_A=65]="UPPER_A",I[I.UPPER_F=70]="UPPER_F",I[I.UPPER_Z=90]="UPPER_Z"})(u||(u={}));var l=32,f;(function(I){I[I.VALUE_LENGTH=49152]="VALUE_LENGTH",I[I.BRANCH_LENGTH=16256]="BRANCH_LENGTH",I[I.JUMP_TABLE=127]="JUMP_TABLE"})(f=a.BinTrieFlags||(a.BinTrieFlags={}));function d(I){return I>=u.ZERO&&I<=u.NINE}function h(I){return I>=u.UPPER_A&&I<=u.UPPER_F||I>=u.LOWER_A&&I<=u.LOWER_F}function p(I){return I>=u.UPPER_A&&I<=u.UPPER_Z||I>=u.LOWER_A&&I<=u.LOWER_Z||d(I)}function _(I){return I===u.EQUALS||p(I)}var g;(function(I){I[I.EntityStart=0]="EntityStart",I[I.NumericStart=1]="NumericStart",I[I.NumericDecimal=2]="NumericDecimal",I[I.NumericHex=3]="NumericHex",I[I.NamedEntity=4]="NamedEntity"})(g||(g={}));var y;(function(I){I[I.Legacy=0]="Legacy",I[I.Strict=1]="Strict",I[I.Attribute=2]="Attribute"})(y=a.DecodingMode||(a.DecodingMode={}));var m=function(){function I(D,C,X){this.decodeTree=D,this.emitCodePoint=C,this.errors=X,this.state=g.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=y.Strict}return I.prototype.startEntity=function(D){this.decodeMode=D,this.state=g.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1},I.prototype.write=function(D,C){switch(this.state){case g.EntityStart:return D.charCodeAt(C)===u.NUM?(this.state=g.NumericStart,this.consumed+=1,this.stateNumericStart(D,C+1)):(this.state=g.NamedEntity,this.stateNamedEntity(D,C));case g.NumericStart:return this.stateNumericStart(D,C);case g.NumericDecimal:return this.stateNumericDecimal(D,C);case g.NumericHex:return this.stateNumericHex(D,C);case g.NamedEntity:return this.stateNamedEntity(D,C)}},I.prototype.stateNumericStart=function(D,C){return C>=D.length?-1:(D.charCodeAt(C)|l)===u.LOWER_X?(this.state=g.NumericHex,this.consumed+=1,this.stateNumericHex(D,C+1)):(this.state=g.NumericDecimal,this.stateNumericDecimal(D,C))},I.prototype.addToNumericResult=function(D,C,X,z){if(C!==X){var J=X-C;this.result=this.result*Math.pow(z,J)+parseInt(D.substr(C,J),z),this.consumed+=J}},I.prototype.stateNumericHex=function(D,C){for(var X=C;C<D.length;){var z=D.charCodeAt(C);if(d(z)||h(z))C+=1;else return this.addToNumericResult(D,X,C,16),this.emitNumericEntity(z,3)}return this.addToNumericResult(D,X,C,16),-1},I.prototype.stateNumericDecimal=function(D,C){for(var X=C;C<D.length;){var z=D.charCodeAt(C);if(d(z))C+=1;else return this.addToNumericResult(D,X,C,10),this.emitNumericEntity(z,2)}return this.addToNumericResult(D,X,C,10),-1},I.prototype.emitNumericEntity=function(D,C){var X;if(this.consumed<=C)return(X=this.errors)===null||X===void 0||X.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(D===u.SEMI)this.consumed+=1;else if(this.decodeMode===y.Strict)return 0;return this.emitCodePoint((0,s.replaceCodePoint)(this.result),this.consumed),this.errors&&(D!==u.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},I.prototype.stateNamedEntity=function(D,C){for(var X=this.decodeTree,z=X[this.treeIndex],J=(z&f.VALUE_LENGTH)>>14;C<D.length;C++,this.excess++){var ie=D.charCodeAt(C);if(this.treeIndex=T(X,z,this.treeIndex+Math.max(1,J),ie),this.treeIndex<0)return this.result===0||this.decodeMode===y.Attribute&&(J===0||_(ie))?0:this.emitNotTerminatedNamedEntity();if(z=X[this.treeIndex],J=(z&f.VALUE_LENGTH)>>14,J!==0){if(ie===u.SEMI)return this.emitNamedEntityData(this.treeIndex,J,this.consumed+this.excess);this.decodeMode!==y.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1},I.prototype.emitNotTerminatedNamedEntity=function(){var D,C=this,X=C.result,z=C.decodeTree,J=(z[X]&f.VALUE_LENGTH)>>14;return this.emitNamedEntityData(X,J,this.consumed),(D=this.errors)===null||D===void 0||D.missingSemicolonAfterCharacterReference(),this.consumed},I.prototype.emitNamedEntityData=function(D,C,X){var z=this.decodeTree;return this.emitCodePoint(C===1?z[D]&~f.VALUE_LENGTH:z[D+1],X),C===3&&this.emitCodePoint(z[D+2],X),X},I.prototype.end=function(){var D;switch(this.state){case g.NamedEntity:return this.result!==0&&(this.decodeMode!==y.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case g.NumericDecimal:return this.emitNumericEntity(0,2);case g.NumericHex:return this.emitNumericEntity(0,3);case g.NumericStart:return(D=this.errors)===null||D===void 0||D.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case g.EntityStart:return 0}},I}();a.EntityDecoder=m;function b(I){var D="",C=new m(I,function(X){return D+=(0,s.fromCodePoint)(X)});return function(z,J){for(var ie=0,se=0;(se=z.indexOf("&",se))>=0;){D+=z.slice(ie,se),C.startEntity(J);var ye=C.write(z,se+1);if(ye<0){ie=se+C.end();break}ie=se+ye,se=ye===0?ie+1:ie}var K=D+z.slice(ie);return D="",K}}function T(I,D,C,X){var z=(D&f.BRANCH_LENGTH)>>7,J=D&f.JUMP_TABLE;if(z===0)return J!==0&&X===J?C:-1;if(J){var ie=X-J;return ie<0||ie>=z?-1:I[C+ie]-1}for(var se=C,ye=se+z-1;se<=ye;){var K=se+ye>>>1,Te=I[K];if(Te<X)se=K+1;else if(Te>X)ye=K-1;else return I[K+z]}return-1}a.determineBranch=T;var w=b(e.default),O=b(i.default);function F(I,D){return D===void 0&&(D=y.Legacy),w(I,D)}a.decodeHTML=F;function Q(I){return w(I,y.Attribute)}a.decodeHTMLAttribute=Q;function j(I){return w(I,y.Strict)}a.decodeHTMLStrict=j;function x(I){return O(I,y.Strict)}a.decodeXML=x}(Zn)),Zn}var PB;function LB(){return PB||(PB=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.QuoteType=void 0;var t=Mh(),o;(function(d){d[d.Tab=9]="Tab",d[d.NewLine=10]="NewLine",d[d.FormFeed=12]="FormFeed",d[d.CarriageReturn=13]="CarriageReturn",d[d.Space=32]="Space",d[d.ExclamationMark=33]="ExclamationMark",d[d.Number=35]="Number",d[d.Amp=38]="Amp",d[d.SingleQuote=39]="SingleQuote",d[d.DoubleQuote=34]="DoubleQuote",d[d.Dash=45]="Dash",d[d.Slash=47]="Slash",d[d.Zero=48]="Zero",d[d.Nine=57]="Nine",d[d.Semi=59]="Semi",d[d.Lt=60]="Lt",d[d.Eq=61]="Eq",d[d.Gt=62]="Gt",d[d.Questionmark=63]="Questionmark",d[d.UpperA=65]="UpperA",d[d.LowerA=97]="LowerA",d[d.UpperF=70]="UpperF",d[d.LowerF=102]="LowerF",d[d.UpperZ=90]="UpperZ",d[d.LowerZ=122]="LowerZ",d[d.LowerX=120]="LowerX",d[d.OpeningSquareBracket=91]="OpeningSquareBracket"})(o||(o={}));var n;(function(d){d[d.Text=1]="Text",d[d.BeforeTagName=2]="BeforeTagName",d[d.InTagName=3]="InTagName",d[d.InSelfClosingTag=4]="InSelfClosingTag",d[d.BeforeClosingTagName=5]="BeforeClosingTagName",d[d.InClosingTagName=6]="InClosingTagName",d[d.AfterClosingTagName=7]="AfterClosingTagName",d[d.BeforeAttributeName=8]="BeforeAttributeName",d[d.InAttributeName=9]="InAttributeName",d[d.AfterAttributeName=10]="AfterAttributeName",d[d.BeforeAttributeValue=11]="BeforeAttributeValue",d[d.InAttributeValueDq=12]="InAttributeValueDq",d[d.InAttributeValueSq=13]="InAttributeValueSq",d[d.InAttributeValueNq=14]="InAttributeValueNq",d[d.BeforeDeclaration=15]="BeforeDeclaration",d[d.InDeclaration=16]="InDeclaration",d[d.InProcessingInstruction=17]="InProcessingInstruction",d[d.BeforeComment=18]="BeforeComment",d[d.CDATASequence=19]="CDATASequence",d[d.InSpecialComment=20]="InSpecialComment",d[d.InCommentLike=21]="InCommentLike",d[d.BeforeSpecialS=22]="BeforeSpecialS",d[d.SpecialStartSequence=23]="SpecialStartSequence",d[d.InSpecialTag=24]="InSpecialTag",d[d.BeforeEntity=25]="BeforeEntity",d[d.BeforeNumericEntity=26]="BeforeNumericEntity",d[d.InNamedEntity=27]="InNamedEntity",d[d.InNumericEntity=28]="InNumericEntity",d[d.InHexEntity=29]="InHexEntity"})(n||(n={}));function r(d){return d===o.Space||d===o.NewLine||d===o.Tab||d===o.FormFeed||d===o.CarriageReturn}function e(d){return d===o.Slash||d===o.Gt||r(d)}function i(d){return d>=o.Zero&&d<=o.Nine}function s(d){return d>=o.LowerA&&d<=o.LowerZ||d>=o.UpperA&&d<=o.UpperZ}function c(d){return d>=o.UpperA&&d<=o.UpperF||d>=o.LowerA&&d<=o.LowerF}var u;(function(d){d[d.NoValue=0]="NoValue",d[d.Unquoted=1]="Unquoted",d[d.Single=2]="Single",d[d.Double=3]="Double"})(u=a.QuoteType||(a.QuoteType={}));var l={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},f=function(){function d(h,p){var _=h.xmlMode,g=_===void 0?!1:_,y=h.decodeEntities,m=y===void 0?!0:y;this.cbs=p,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=g,this.decodeEntities=m,this.entityTrie=g?t.xmlDecodeTree:t.htmlDecodeTree}return d.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},d.prototype.write=function(h){this.offset+=this.buffer.length,this.buffer=h,this.parse()},d.prototype.end=function(){this.running&&this.finish()},d.prototype.pause=function(){this.running=!1},d.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},d.prototype.getIndex=function(){return this.index},d.prototype.getSectionStart=function(){return this.sectionStart},d.prototype.stateText=function(h){h===o.Lt||!this.decodeEntities&&this.fastForwardTo(o.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&h===o.Amp&&(this.state=n.BeforeEntity)},d.prototype.stateSpecialStartSequence=function(h){var p=this.sequenceIndex===this.currentSequence.length,_=p?e(h):(h|32)===this.currentSequence[this.sequenceIndex];if(!_)this.isSpecial=!1;else if(!p){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(h)},d.prototype.stateInSpecialTag=function(h){if(this.sequenceIndex===this.currentSequence.length){if(h===o.Gt||r(h)){var p=this.index-this.currentSequence.length;if(this.sectionStart<p){var _=this.index;this.index=p,this.cbs.ontext(this.sectionStart,p),this.index=_}this.isSpecial=!1,this.sectionStart=p+2,this.stateInClosingTagName(h);return}this.sequenceIndex=0}(h|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===l.TitleEnd?this.decodeEntities&&h===o.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(o.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(h===o.Lt)},d.prototype.stateCDATASequence=function(h){h===l.Cdata[this.sequenceIndex]?++this.sequenceIndex===l.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=l.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(h))},d.prototype.fastForwardTo=function(h){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===h)return!0;return this.index=this.buffer.length+this.offset-1,!1},d.prototype.stateInCommentLike=function(h){h===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):h!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},d.prototype.isTagStartChar=function(h){return this.xmlMode?!e(h):s(h)},d.prototype.startSpecial=function(h,p){this.isSpecial=!0,this.currentSequence=h,this.sequenceIndex=p,this.state=n.SpecialStartSequence},d.prototype.stateBeforeTagName=function(h){if(h===o.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(h===o.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(h)){var p=h|32;this.sectionStart=this.index,!this.xmlMode&&p===l.TitleEnd[2]?this.startSpecial(l.TitleEnd,3):this.state=!this.xmlMode&&p===l.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else h===o.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(h))},d.prototype.stateInTagName=function(h){e(h)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h))},d.prototype.stateBeforeClosingTagName=function(h){r(h)||(h===o.Gt?this.state=n.Text:(this.state=this.isTagStartChar(h)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},d.prototype.stateInClosingTagName=function(h){(h===o.Gt||r(h))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(h))},d.prototype.stateAfterClosingTagName=function(h){(h===o.Gt||this.fastForwardTo(o.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeAttributeName=function(h){h===o.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):h===o.Slash?this.state=n.InSelfClosingTag:r(h)||(this.state=n.InAttributeName,this.sectionStart=this.index)},d.prototype.stateInSelfClosingTag=function(h){h===o.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):r(h)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h))},d.prototype.stateInAttributeName=function(h){(h===o.Eq||e(h))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(h))},d.prototype.stateAfterAttributeName=function(h){h===o.Eq?this.state=n.BeforeAttributeValue:h===o.Slash||h===o.Gt?(this.cbs.onattribend(u.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h)):r(h)||(this.cbs.onattribend(u.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},d.prototype.stateBeforeAttributeValue=function(h){h===o.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):h===o.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):r(h)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(h))},d.prototype.handleInAttributeValue=function(h,p){h===p||!this.decodeEntities&&this.fastForwardTo(p)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(p===o.DoubleQuote?u.Double:u.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&h===o.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},d.prototype.stateInAttributeValueDoubleQuotes=function(h){this.handleInAttributeValue(h,o.DoubleQuote)},d.prototype.stateInAttributeValueSingleQuotes=function(h){this.handleInAttributeValue(h,o.SingleQuote)},d.prototype.stateInAttributeValueNoQuotes=function(h){r(h)||h===o.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(u.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h)):this.decodeEntities&&h===o.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},d.prototype.stateBeforeDeclaration=function(h){h===o.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=h===o.Dash?n.BeforeComment:n.InDeclaration},d.prototype.stateInDeclaration=function(h){(h===o.Gt||this.fastForwardTo(o.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateInProcessingInstruction=function(h){(h===o.Gt||this.fastForwardTo(o.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeComment=function(h){h===o.Dash?(this.state=n.InCommentLike,this.currentSequence=l.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},d.prototype.stateInSpecialComment=function(h){(h===o.Gt||this.fastForwardTo(o.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeSpecialS=function(h){var p=h|32;p===l.ScriptEnd[3]?this.startSpecial(l.ScriptEnd,4):p===l.StyleEnd[3]?this.startSpecial(l.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(h))},d.prototype.stateBeforeEntity=function(h){this.entityExcess=1,this.entityResult=0,h===o.Number?this.state=n.BeforeNumericEntity:h===o.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(h))},d.prototype.stateInNamedEntity=function(h){if(this.entityExcess+=1,this.trieIndex=(0,t.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,h),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var p=this.trieCurrent&t.BinTrieFlags.VALUE_LENGTH;if(p){var _=(p>>14)-1;if(!this.allowLegacyEntity()&&h!==o.Semi)this.trieIndex+=_;else{var g=this.index-this.entityExcess+1;g>this.sectionStart&&this.emitPartial(this.sectionStart,g),this.entityResult=this.trieIndex,this.trieIndex+=_,this.entityExcess=0,this.sectionStart=this.index+1,_===0&&this.emitNamedEntity()}}},d.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var h=(this.entityTrie[this.entityResult]&t.BinTrieFlags.VALUE_LENGTH)>>14;switch(h){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~t.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},d.prototype.stateBeforeNumericEntity=function(h){(h|32)===o.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(h))},d.prototype.emitNumericEntity=function(h){var p=this.index-this.entityExcess-1,_=p+2+ +(this.state===n.InHexEntity);_!==this.index&&(p>this.sectionStart&&this.emitPartial(this.sectionStart,p),this.sectionStart=this.index+Number(h),this.emitCodePoint((0,t.replaceCodePoint)(this.entityResult))),this.state=this.baseState},d.prototype.stateInNumericEntity=function(h){h===o.Semi?this.emitNumericEntity(!0):i(h)?(this.entityResult=this.entityResult*10+(h-o.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},d.prototype.stateInHexEntity=function(h){h===o.Semi?this.emitNumericEntity(!0):i(h)?(this.entityResult=this.entityResult*16+(h-o.Zero),this.entityExcess++):c(h)?(this.entityResult=this.entityResult*16+((h|32)-o.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},d.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},d.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},d.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},d.prototype.parse=function(){for(;this.shouldContinue();){var h=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(h);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(h);break}case n.InSpecialTag:{this.stateInSpecialTag(h);break}case n.CDATASequence:{this.stateCDATASequence(h);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(h);break}case n.InAttributeName:{this.stateInAttributeName(h);break}case n.InCommentLike:{this.stateInCommentLike(h);break}case n.InSpecialComment:{this.stateInSpecialComment(h);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(h);break}case n.InTagName:{this.stateInTagName(h);break}case n.InClosingTagName:{this.stateInClosingTagName(h);break}case n.BeforeTagName:{this.stateBeforeTagName(h);break}case n.AfterAttributeName:{this.stateAfterAttributeName(h);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(h);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(h);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(h);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(h);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(h);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(h);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(h);break}case n.InDeclaration:{this.stateInDeclaration(h);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(h);break}case n.BeforeComment:{this.stateBeforeComment(h);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(h);break}case n.InNamedEntity:{this.stateInNamedEntity(h);break}case n.BeforeEntity:{this.stateBeforeEntity(h);break}case n.InHexEntity:{this.stateInHexEntity(h);break}case n.InNumericEntity:{this.stateInNumericEntity(h);break}default:this.stateBeforeNumericEntity(h)}this.index++}this.cleanup()},d.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},d.prototype.handleTrailingData=function(){var h=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,h,0):this.cbs.oncomment(this.sectionStart,h,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,h)},d.prototype.emitPartial=function(h,p){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(h,p):this.cbs.ontext(h,p)},d.prototype.emitCodePoint=function(h){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(h):this.cbs.ontextentity(h)},d}();a.default=f}(OF)),OF}var jB;function MB(){if(jB)return Yn;jB=1;var a=Yn&&Yn.__createBinding||(Object.create?function(g,y,m,b){b===void 0&&(b=m);var T=Object.getOwnPropertyDescriptor(y,m);(!T||("get"in T?!y.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return y[m]}}),Object.defineProperty(g,b,T)}:function(g,y,m,b){b===void 0&&(b=m),g[b]=y[m]}),t=Yn&&Yn.__setModuleDefault||(Object.create?function(g,y){Object.defineProperty(g,"default",{enumerable:!0,value:y})}:function(g,y){g.default=y}),o=Yn&&Yn.__importStar||function(g){if(g&&g.__esModule)return g;var y={};if(g!=null)for(var m in g)m!=="default"&&Object.prototype.hasOwnProperty.call(g,m)&&a(y,g,m);return t(y,g),y};Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.Parser=void 0;var n=o(LB()),r=Mh(),e=new Set(["input","option","optgroup","select","button","datalist","textarea"]),i=new Set(["p"]),s=new Set(["thead","tbody"]),c=new Set(["dd","dt"]),u=new Set(["rt","rp"]),l=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",i],["h1",i],["h2",i],["h3",i],["h4",i],["h5",i],["h6",i],["select",e],["input",e],["output",e],["button",e],["datalist",e],["textarea",e],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",c],["dt",c],["address",i],["article",i],["aside",i],["blockquote",i],["details",i],["div",i],["dl",i],["fieldset",i],["figcaption",i],["figure",i],["footer",i],["form",i],["header",i],["hr",i],["main",i],["nav",i],["ol",i],["pre",i],["section",i],["table",i],["ul",i],["rt",u],["rp",u],["tbody",s],["tfoot",s]]),f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),d=new Set(["math","svg"]),h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),p=/\s|\//,_=function(){function g(y,m){m===void 0&&(m={});var b,T,w,O,F;this.options=m,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=y??{},this.lowerCaseTagNames=(b=m.lowerCaseTags)!==null&&b!==void 0?b:!m.xmlMode,this.lowerCaseAttributeNames=(T=m.lowerCaseAttributeNames)!==null&&T!==void 0?T:!m.xmlMode,this.tokenizer=new((w=m.Tokenizer)!==null&&w!==void 0?w:n.default)(this.options,this),(F=(O=this.cbs).onparserinit)===null||F===void 0||F.call(O,this)}return g.prototype.ontext=function(y,m){var b,T,w=this.getSlice(y,m);this.endIndex=m-1,(T=(b=this.cbs).ontext)===null||T===void 0||T.call(b,w),this.startIndex=m},g.prototype.ontextentity=function(y){var m,b,T=this.tokenizer.getSectionStart();this.endIndex=T-1,(b=(m=this.cbs).ontext)===null||b===void 0||b.call(m,(0,r.fromCodePoint)(y)),this.startIndex=T},g.prototype.isVoidElement=function(y){return!this.options.xmlMode&&f.has(y)},g.prototype.onopentagname=function(y,m){this.endIndex=m;var b=this.getSlice(y,m);this.lowerCaseTagNames&&(b=b.toLowerCase()),this.emitOpenTag(b)},g.prototype.emitOpenTag=function(y){var m,b,T,w;this.openTagStart=this.startIndex,this.tagname=y;var O=!this.options.xmlMode&&l.get(y);if(O)for(;this.stack.length>0&&O.has(this.stack[this.stack.length-1]);){var F=this.stack.pop();(b=(m=this.cbs).onclosetag)===null||b===void 0||b.call(m,F,!0)}this.isVoidElement(y)||(this.stack.push(y),d.has(y)?this.foreignContext.push(!0):h.has(y)&&this.foreignContext.push(!1)),(w=(T=this.cbs).onopentagname)===null||w===void 0||w.call(T,y),this.cbs.onopentag&&(this.attribs={})},g.prototype.endOpenTag=function(y){var m,b;this.startIndex=this.openTagStart,this.attribs&&((b=(m=this.cbs).onopentag)===null||b===void 0||b.call(m,this.tagname,this.attribs,y),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},g.prototype.onopentagend=function(y){this.endIndex=y,this.endOpenTag(!1),this.startIndex=y+1},g.prototype.onclosetag=function(y,m){var b,T,w,O,F,Q;this.endIndex=m;var j=this.getSlice(y,m);if(this.lowerCaseTagNames&&(j=j.toLowerCase()),(d.has(j)||h.has(j))&&this.foreignContext.pop(),this.isVoidElement(j))!this.options.xmlMode&&j==="br"&&((T=(b=this.cbs).onopentagname)===null||T===void 0||T.call(b,"br"),(O=(w=this.cbs).onopentag)===null||O===void 0||O.call(w,"br",{},!0),(Q=(F=this.cbs).onclosetag)===null||Q===void 0||Q.call(F,"br",!1));else{var x=this.stack.lastIndexOf(j);if(x!==-1)if(this.cbs.onclosetag)for(var I=this.stack.length-x;I--;)this.cbs.onclosetag(this.stack.pop(),I!==0);else this.stack.length=x;else!this.options.xmlMode&&j==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=m+1},g.prototype.onselfclosingtag=function(y){this.endIndex=y,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=y+1):this.onopentagend(y)},g.prototype.closeCurrentTag=function(y){var m,b,T=this.tagname;this.endOpenTag(y),this.stack[this.stack.length-1]===T&&((b=(m=this.cbs).onclosetag)===null||b===void 0||b.call(m,T,!y),this.stack.pop())},g.prototype.onattribname=function(y,m){this.startIndex=y;var b=this.getSlice(y,m);this.attribname=this.lowerCaseAttributeNames?b.toLowerCase():b},g.prototype.onattribdata=function(y,m){this.attribvalue+=this.getSlice(y,m)},g.prototype.onattribentity=function(y){this.attribvalue+=(0,r.fromCodePoint)(y)},g.prototype.onattribend=function(y,m){var b,T;this.endIndex=m,(T=(b=this.cbs).onattribute)===null||T===void 0||T.call(b,this.attribname,this.attribvalue,y===n.QuoteType.Double?'"':y===n.QuoteType.Single?"'":y===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},g.prototype.getInstructionName=function(y){var m=y.search(p),b=m<0?y:y.substr(0,m);return this.lowerCaseTagNames&&(b=b.toLowerCase()),b},g.prototype.ondeclaration=function(y,m){this.endIndex=m;var b=this.getSlice(y,m);if(this.cbs.onprocessinginstruction){var T=this.getInstructionName(b);this.cbs.onprocessinginstruction("!".concat(T),"!".concat(b))}this.startIndex=m+1},g.prototype.onprocessinginstruction=function(y,m){this.endIndex=m;var b=this.getSlice(y,m);if(this.cbs.onprocessinginstruction){var T=this.getInstructionName(b);this.cbs.onprocessinginstruction("?".concat(T),"?".concat(b))}this.startIndex=m+1},g.prototype.oncomment=function(y,m,b){var T,w,O,F;this.endIndex=m,(w=(T=this.cbs).oncomment)===null||w===void 0||w.call(T,this.getSlice(y,m-b)),(F=(O=this.cbs).oncommentend)===null||F===void 0||F.call(O),this.startIndex=m+1},g.prototype.oncdata=function(y,m,b){var T,w,O,F,Q,j,x,I,D,C;this.endIndex=m;var X=this.getSlice(y,m-b);this.options.xmlMode||this.options.recognizeCDATA?((w=(T=this.cbs).oncdatastart)===null||w===void 0||w.call(T),(F=(O=this.cbs).ontext)===null||F===void 0||F.call(O,X),(j=(Q=this.cbs).oncdataend)===null||j===void 0||j.call(Q)):((I=(x=this.cbs).oncomment)===null||I===void 0||I.call(x,"[CDATA[".concat(X,"]]")),(C=(D=this.cbs).oncommentend)===null||C===void 0||C.call(D)),this.startIndex=m+1},g.prototype.onend=function(){var y,m;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var b=this.stack.length;b>0;this.cbs.onclosetag(this.stack[--b],!0));}(m=(y=this.cbs).onend)===null||m===void 0||m.call(y)},g.prototype.reset=function(){var y,m,b,T;(m=(y=this.cbs).onreset)===null||m===void 0||m.call(y),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(T=(b=this.cbs).onparserinit)===null||T===void 0||T.call(b,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},g.prototype.parseComplete=function(y){this.reset(),this.end(y)},g.prototype.getSlice=function(y,m){for(;y-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var b=this.buffers[0].slice(y-this.bufferOffset,m-this.bufferOffset);m-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),b+=this.buffers[0].slice(0,m-this.bufferOffset);return b},g.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},g.prototype.write=function(y){var m,b;if(this.ended){(b=(m=this.cbs).onerror)===null||b===void 0||b.call(m,new Error(".write() after done!"));return}this.buffers.push(y),this.tokenizer.running&&(this.tokenizer.write(y),this.writeIndex++)},g.prototype.end=function(y){var m,b;if(this.ended){(b=(m=this.cbs).onerror)===null||b===void 0||b.call(m,new Error(".end() after done!"));return}y&&this.write(y),this.ended=!0,this.tokenizer.end()},g.prototype.pause=function(){this.tokenizer.pause()},g.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},g.prototype.parseChunk=function(y){this.write(y)},g.prototype.done=function(y){this.end(y)},g}();return Yn.Parser=_,Yn}var hu={},EF={},qB;function pu(){return qB||(qB=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.Doctype=a.CDATA=a.Tag=a.Style=a.Script=a.Comment=a.Directive=a.Text=a.Root=a.isTag=a.ElementType=void 0;var t;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(t=a.ElementType||(a.ElementType={}));function o(n){return n.type===t.Tag||n.type===t.Script||n.type===t.Style}a.isTag=o,a.Root=t.Root,a.Text=t.Text,a.Directive=t.Directive,a.Comment=t.Comment,a.Script=t.Script,a.Style=t.Style,a.Tag=t.Tag,a.CDATA=t.CDATA,a.Doctype=t.Doctype}(EF)),EF}var Ot={},CB;function BB(){if(CB)return Ot;CB=1;var a=Ot&&Ot.__extends||function(){var w=function(O,F){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,j){Q.__proto__=j}||function(Q,j){for(var x in j)Object.prototype.hasOwnProperty.call(j,x)&&(Q[x]=j[x])},w(O,F)};return function(O,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");w(O,F);function Q(){this.constructor=O}O.prototype=F===null?Object.create(F):(Q.prototype=F.prototype,new Q)}}(),t=Ot&&Ot.__assign||function(){return t=Object.assign||function(w){for(var O,F=1,Q=arguments.length;F<Q;F++){O=arguments[F];for(var j in O)Object.prototype.hasOwnProperty.call(O,j)&&(w[j]=O[j])}return w},t.apply(this,arguments)};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.cloneNode=Ot.hasChildren=Ot.isDocument=Ot.isDirective=Ot.isComment=Ot.isText=Ot.isCDATA=Ot.isTag=Ot.Element=Ot.Document=Ot.CDATA=Ot.NodeWithChildren=Ot.ProcessingInstruction=Ot.Comment=Ot.Text=Ot.DataNode=Ot.Node=void 0;var o=pu(),n=function(){function w(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(w.prototype,"parentNode",{get:function(){return this.parent},set:function(O){this.parent=O},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"previousSibling",{get:function(){return this.prev},set:function(O){this.prev=O},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"nextSibling",{get:function(){return this.next},set:function(O){this.next=O},enumerable:!1,configurable:!0}),w.prototype.cloneNode=function(O){return O===void 0&&(O=!1),b(this,O)},w}();Ot.Node=n;var r=function(w){a(O,w);function O(F){var Q=w.call(this)||this;return Q.data=F,Q}return Object.defineProperty(O.prototype,"nodeValue",{get:function(){return this.data},set:function(F){this.data=F},enumerable:!1,configurable:!0}),O}(n);Ot.DataNode=r;var e=function(w){a(O,w);function O(){var F=w!==null&&w.apply(this,arguments)||this;return F.type=o.ElementType.Text,F}return Object.defineProperty(O.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),O}(r);Ot.Text=e;var i=function(w){a(O,w);function O(){var F=w!==null&&w.apply(this,arguments)||this;return F.type=o.ElementType.Comment,F}return Object.defineProperty(O.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),O}(r);Ot.Comment=i;var s=function(w){a(O,w);function O(F,Q){var j=w.call(this,Q)||this;return j.name=F,j.type=o.ElementType.Directive,j}return Object.defineProperty(O.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),O}(r);Ot.ProcessingInstruction=s;var c=function(w){a(O,w);function O(F){var Q=w.call(this)||this;return Q.children=F,Q}return Object.defineProperty(O.prototype,"firstChild",{get:function(){var F;return(F=this.children[0])!==null&&F!==void 0?F:null},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"childNodes",{get:function(){return this.children},set:function(F){this.children=F},enumerable:!1,configurable:!0}),O}(n);Ot.NodeWithChildren=c;var u=function(w){a(O,w);function O(){var F=w!==null&&w.apply(this,arguments)||this;return F.type=o.ElementType.CDATA,F}return Object.defineProperty(O.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),O}(c);Ot.CDATA=u;var l=function(w){a(O,w);function O(){var F=w!==null&&w.apply(this,arguments)||this;return F.type=o.ElementType.Root,F}return Object.defineProperty(O.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),O}(c);Ot.Document=l;var f=function(w){a(O,w);function O(F,Q,j,x){j===void 0&&(j=[]),x===void 0&&(x=F==="script"?o.ElementType.Script:F==="style"?o.ElementType.Style:o.ElementType.Tag);var I=w.call(this,j)||this;return I.name=F,I.attribs=Q,I.type=x,I}return Object.defineProperty(O.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"tagName",{get:function(){return this.name},set:function(F){this.name=F},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"attributes",{get:function(){var F=this;return Object.keys(this.attribs).map(function(Q){var j,x;return{name:Q,value:F.attribs[Q],namespace:(j=F["x-attribsNamespace"])===null||j===void 0?void 0:j[Q],prefix:(x=F["x-attribsPrefix"])===null||x===void 0?void 0:x[Q]}})},enumerable:!1,configurable:!0}),O}(c);Ot.Element=f;function d(w){return(0,o.isTag)(w)}Ot.isTag=d;function h(w){return w.type===o.ElementType.CDATA}Ot.isCDATA=h;function p(w){return w.type===o.ElementType.Text}Ot.isText=p;function _(w){return w.type===o.ElementType.Comment}Ot.isComment=_;function g(w){return w.type===o.ElementType.Directive}Ot.isDirective=g;function y(w){return w.type===o.ElementType.Root}Ot.isDocument=y;function m(w){return Object.prototype.hasOwnProperty.call(w,"children")}Ot.hasChildren=m;function b(w,O){O===void 0&&(O=!1);var F;if(p(w))F=new e(w.data);else if(_(w))F=new i(w.data);else if(d(w)){var Q=O?T(w.children):[],j=new f(w.name,t({},w.attribs),Q);Q.forEach(function(C){return C.parent=j}),w.namespace!=null&&(j.namespace=w.namespace),w["x-attribsNamespace"]&&(j["x-attribsNamespace"]=t({},w["x-attribsNamespace"])),w["x-attribsPrefix"]&&(j["x-attribsPrefix"]=t({},w["x-attribsPrefix"])),F=j}else if(h(w)){var Q=O?T(w.children):[],x=new u(Q);Q.forEach(function(X){return X.parent=x}),F=x}else if(y(w)){var Q=O?T(w.children):[],I=new l(Q);Q.forEach(function(X){return X.parent=I}),w["x-mode"]&&(I["x-mode"]=w["x-mode"]),F=I}else if(g(w)){var D=new s(w.name,w.data);w["x-name"]!=null&&(D["x-name"]=w["x-name"],D["x-publicId"]=w["x-publicId"],D["x-systemId"]=w["x-systemId"]),F=D}else throw new Error("Not implemented yet: ".concat(w.type));return F.startIndex=w.startIndex,F.endIndex=w.endIndex,w.sourceCodeLocation!=null&&(F.sourceCodeLocation=w.sourceCodeLocation),F}Ot.cloneNode=b;function T(w){for(var O=w.map(function(Q){return b(Q,!0)}),F=1;F<O.length;F++)O[F].prev=O[F-1],O[F-1].next=O[F];return O}return Ot}var $B;function jn(){return $B||($B=1,function(a){var t=hu&&hu.__createBinding||(Object.create?function(s,c,u,l){l===void 0&&(l=u);var f=Object.getOwnPropertyDescriptor(c,u);(!f||("get"in f?!c.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(s,l,f)}:function(s,c,u,l){l===void 0&&(l=u),s[l]=c[u]}),o=hu&&hu.__exportStar||function(s,c){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(c,u)&&t(c,s,u)};Object.defineProperty(a,"__esModule",{value:!0}),a.DomHandler=void 0;var n=pu(),r=BB();o(BB(),a);var e={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},i=function(){function s(c,u,l){this.dom=[],this.root=new r.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(l=u,u=e),typeof c=="object"&&(u=c,c=void 0),this.callback=c??null,this.options=u??e,this.elementCB=l??null}return s.prototype.onparserinit=function(c){this.parser=c},s.prototype.onreset=function(){this.dom=[],this.root=new r.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},s.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},s.prototype.onerror=function(c){this.handleCallback(c)},s.prototype.onclosetag=function(){this.lastNode=null;var c=this.tagStack.pop();this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(c)},s.prototype.onopentag=function(c,u){var l=this.options.xmlMode?n.ElementType.Tag:void 0,f=new r.Element(c,u,void 0,l);this.addNode(f),this.tagStack.push(f)},s.prototype.ontext=function(c){var u=this.lastNode;if(u&&u.type===n.ElementType.Text)u.data+=c,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var l=new r.Text(c);this.addNode(l),this.lastNode=l}},s.prototype.oncomment=function(c){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=c;return}var u=new r.Comment(c);this.addNode(u),this.lastNode=u},s.prototype.oncommentend=function(){this.lastNode=null},s.prototype.oncdatastart=function(){var c=new r.Text(""),u=new r.CDATA([c]);this.addNode(u),c.parent=u,this.lastNode=c},s.prototype.oncdataend=function(){this.lastNode=null},s.prototype.onprocessinginstruction=function(c,u){var l=new r.ProcessingInstruction(c,u);this.addNode(l)},s.prototype.handleCallback=function(c){if(typeof this.callback=="function")this.callback(c,this.dom);else if(c)throw c},s.prototype.addNode=function(c){var u=this.tagStack[this.tagStack.length-1],l=u.children[u.children.length-1];this.options.withStartIndices&&(c.startIndex=this.parser.startIndex),this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),u.children.push(c),l&&(c.prev=l,l.next=c),c.parent=u,this.lastNode=null},s}();a.DomHandler=i,a.default=i}(hu)),hu}var yu={},wi={},fn={},xF={},qi={},EA={},UB;function Cfe(){if(UB)return EA;UB=1,Object.defineProperty(EA,"__esModule",{value:!0});function a(t){for(var o=1;o<t.length;o++)t[o][0]+=t[o-1][0]+1;return t}return EA.default=new Map(a([[9,"&Tab;"],[0,"&NewLine;"],[22,"&excl;"],[0,"&quot;"],[0,"&num;"],[0,"&dollar;"],[0,"&percnt;"],[0,"&amp;"],[0,"&apos;"],[0,"&lpar;"],[0,"&rpar;"],[0,"&ast;"],[0,"&plus;"],[0,"&comma;"],[1,"&period;"],[0,"&sol;"],[10,"&colon;"],[0,"&semi;"],[0,{v:"&lt;",n:8402,o:"&nvlt;"}],[0,{v:"&equals;",n:8421,o:"&bne;"}],[0,{v:"&gt;",n:8402,o:"&nvgt;"}],[0,"&quest;"],[0,"&commat;"],[26,"&lbrack;"],[0,"&bsol;"],[0,"&rbrack;"],[0,"&Hat;"],[0,"&lowbar;"],[0,"&DiacriticalGrave;"],[5,{n:106,o:"&fjlig;"}],[20,"&lbrace;"],[0,"&verbar;"],[0,"&rbrace;"],[34,"&nbsp;"],[0,"&iexcl;"],[0,"&cent;"],[0,"&pound;"],[0,"&curren;"],[0,"&yen;"],[0,"&brvbar;"],[0,"&sect;"],[0,"&die;"],[0,"&copy;"],[0,"&ordf;"],[0,"&laquo;"],[0,"&not;"],[0,"&shy;"],[0,"&circledR;"],[0,"&macr;"],[0,"&deg;"],[0,"&PlusMinus;"],[0,"&sup2;"],[0,"&sup3;"],[0,"&acute;"],[0,"&micro;"],[0,"&para;"],[0,"&centerdot;"],[0,"&cedil;"],[0,"&sup1;"],[0,"&ordm;"],[0,"&raquo;"],[0,"&frac14;"],[0,"&frac12;"],[0,"&frac34;"],[0,"&iquest;"],[0,"&Agrave;"],[0,"&Aacute;"],[0,"&Acirc;"],[0,"&Atilde;"],[0,"&Auml;"],[0,"&angst;"],[0,"&AElig;"],[0,"&Ccedil;"],[0,"&Egrave;"],[0,"&Eacute;"],[0,"&Ecirc;"],[0,"&Euml;"],[0,"&Igrave;"],[0,"&Iacute;"],[0,"&Icirc;"],[0,"&Iuml;"],[0,"&ETH;"],[0,"&Ntilde;"],[0,"&Ograve;"],[0,"&Oacute;"],[0,"&Ocirc;"],[0,"&Otilde;"],[0,"&Ouml;"],[0,"&times;"],[0,"&Oslash;"],[0,"&Ugrave;"],[0,"&Uacute;"],[0,"&Ucirc;"],[0,"&Uuml;"],[0,"&Yacute;"],[0,"&THORN;"],[0,"&szlig;"],[0,"&agrave;"],[0,"&aacute;"],[0,"&acirc;"],[0,"&atilde;"],[0,"&auml;"],[0,"&aring;"],[0,"&aelig;"],[0,"&ccedil;"],[0,"&egrave;"],[0,"&eacute;"],[0,"&ecirc;"],[0,"&euml;"],[0,"&igrave;"],[0,"&iacute;"],[0,"&icirc;"],[0,"&iuml;"],[0,"&eth;"],[0,"&ntilde;"],[0,"&ograve;"],[0,"&oacute;"],[0,"&ocirc;"],[0,"&otilde;"],[0,"&ouml;"],[0,"&div;"],[0,"&oslash;"],[0,"&ugrave;"],[0,"&uacute;"],[0,"&ucirc;"],[0,"&uuml;"],[0,"&yacute;"],[0,"&thorn;"],[0,"&yuml;"],[0,"&Amacr;"],[0,"&amacr;"],[0,"&Abreve;"],[0,"&abreve;"],[0,"&Aogon;"],[0,"&aogon;"],[0,"&Cacute;"],[0,"&cacute;"],[0,"&Ccirc;"],[0,"&ccirc;"],[0,"&Cdot;"],[0,"&cdot;"],[0,"&Ccaron;"],[0,"&ccaron;"],[0,"&Dcaron;"],[0,"&dcaron;"],[0,"&Dstrok;"],[0,"&dstrok;"],[0,"&Emacr;"],[0,"&emacr;"],[2,"&Edot;"],[0,"&edot;"],[0,"&Eogon;"],[0,"&eogon;"],[0,"&Ecaron;"],[0,"&ecaron;"],[0,"&Gcirc;"],[0,"&gcirc;"],[0,"&Gbreve;"],[0,"&gbreve;"],[0,"&Gdot;"],[0,"&gdot;"],[0,"&Gcedil;"],[1,"&Hcirc;"],[0,"&hcirc;"],[0,"&Hstrok;"],[0,"&hstrok;"],[0,"&Itilde;"],[0,"&itilde;"],[0,"&Imacr;"],[0,"&imacr;"],[2,"&Iogon;"],[0,"&iogon;"],[0,"&Idot;"],[0,"&imath;"],[0,"&IJlig;"],[0,"&ijlig;"],[0,"&Jcirc;"],[0,"&jcirc;"],[0,"&Kcedil;"],[0,"&kcedil;"],[0,"&kgreen;"],[0,"&Lacute;"],[0,"&lacute;"],[0,"&Lcedil;"],[0,"&lcedil;"],[0,"&Lcaron;"],[0,"&lcaron;"],[0,"&Lmidot;"],[0,"&lmidot;"],[0,"&Lstrok;"],[0,"&lstrok;"],[0,"&Nacute;"],[0,"&nacute;"],[0,"&Ncedil;"],[0,"&ncedil;"],[0,"&Ncaron;"],[0,"&ncaron;"],[0,"&napos;"],[0,"&ENG;"],[0,"&eng;"],[0,"&Omacr;"],[0,"&omacr;"],[2,"&Odblac;"],[0,"&odblac;"],[0,"&OElig;"],[0,"&oelig;"],[0,"&Racute;"],[0,"&racute;"],[0,"&Rcedil;"],[0,"&rcedil;"],[0,"&Rcaron;"],[0,"&rcaron;"],[0,"&Sacute;"],[0,"&sacute;"],[0,"&Scirc;"],[0,"&scirc;"],[0,"&Scedil;"],[0,"&scedil;"],[0,"&Scaron;"],[0,"&scaron;"],[0,"&Tcedil;"],[0,"&tcedil;"],[0,"&Tcaron;"],[0,"&tcaron;"],[0,"&Tstrok;"],[0,"&tstrok;"],[0,"&Utilde;"],[0,"&utilde;"],[0,"&Umacr;"],[0,"&umacr;"],[0,"&Ubreve;"],[0,"&ubreve;"],[0,"&Uring;"],[0,"&uring;"],[0,"&Udblac;"],[0,"&udblac;"],[0,"&Uogon;"],[0,"&uogon;"],[0,"&Wcirc;"],[0,"&wcirc;"],[0,"&Ycirc;"],[0,"&ycirc;"],[0,"&Yuml;"],[0,"&Zacute;"],[0,"&zacute;"],[0,"&Zdot;"],[0,"&zdot;"],[0,"&Zcaron;"],[0,"&zcaron;"],[19,"&fnof;"],[34,"&imped;"],[63,"&gacute;"],[65,"&jmath;"],[142,"&circ;"],[0,"&caron;"],[16,"&breve;"],[0,"&DiacriticalDot;"],[0,"&ring;"],[0,"&ogon;"],[0,"&DiacriticalTilde;"],[0,"&dblac;"],[51,"&DownBreve;"],[127,"&Alpha;"],[0,"&Beta;"],[0,"&Gamma;"],[0,"&Delta;"],[0,"&Epsilon;"],[0,"&Zeta;"],[0,"&Eta;"],[0,"&Theta;"],[0,"&Iota;"],[0,"&Kappa;"],[0,"&Lambda;"],[0,"&Mu;"],[0,"&Nu;"],[0,"&Xi;"],[0,"&Omicron;"],[0,"&Pi;"],[0,"&Rho;"],[1,"&Sigma;"],[0,"&Tau;"],[0,"&Upsilon;"],[0,"&Phi;"],[0,"&Chi;"],[0,"&Psi;"],[0,"&ohm;"],[7,"&alpha;"],[0,"&beta;"],[0,"&gamma;"],[0,"&delta;"],[0,"&epsi;"],[0,"&zeta;"],[0,"&eta;"],[0,"&theta;"],[0,"&iota;"],[0,"&kappa;"],[0,"&lambda;"],[0,"&mu;"],[0,"&nu;"],[0,"&xi;"],[0,"&omicron;"],[0,"&pi;"],[0,"&rho;"],[0,"&sigmaf;"],[0,"&sigma;"],[0,"&tau;"],[0,"&upsi;"],[0,"&phi;"],[0,"&chi;"],[0,"&psi;"],[0,"&omega;"],[7,"&thetasym;"],[0,"&Upsi;"],[2,"&phiv;"],[0,"&piv;"],[5,"&Gammad;"],[0,"&digamma;"],[18,"&kappav;"],[0,"&rhov;"],[3,"&epsiv;"],[0,"&backepsilon;"],[10,"&IOcy;"],[0,"&DJcy;"],[0,"&GJcy;"],[0,"&Jukcy;"],[0,"&DScy;"],[0,"&Iukcy;"],[0,"&YIcy;"],[0,"&Jsercy;"],[0,"&LJcy;"],[0,"&NJcy;"],[0,"&TSHcy;"],[0,"&KJcy;"],[1,"&Ubrcy;"],[0,"&DZcy;"],[0,"&Acy;"],[0,"&Bcy;"],[0,"&Vcy;"],[0,"&Gcy;"],[0,"&Dcy;"],[0,"&IEcy;"],[0,"&ZHcy;"],[0,"&Zcy;"],[0,"&Icy;"],[0,"&Jcy;"],[0,"&Kcy;"],[0,"&Lcy;"],[0,"&Mcy;"],[0,"&Ncy;"],[0,"&Ocy;"],[0,"&Pcy;"],[0,"&Rcy;"],[0,"&Scy;"],[0,"&Tcy;"],[0,"&Ucy;"],[0,"&Fcy;"],[0,"&KHcy;"],[0,"&TScy;"],[0,"&CHcy;"],[0,"&SHcy;"],[0,"&SHCHcy;"],[0,"&HARDcy;"],[0,"&Ycy;"],[0,"&SOFTcy;"],[0,"&Ecy;"],[0,"&YUcy;"],[0,"&YAcy;"],[0,"&acy;"],[0,"&bcy;"],[0,"&vcy;"],[0,"&gcy;"],[0,"&dcy;"],[0,"&iecy;"],[0,"&zhcy;"],[0,"&zcy;"],[0,"&icy;"],[0,"&jcy;"],[0,"&kcy;"],[0,"&lcy;"],[0,"&mcy;"],[0,"&ncy;"],[0,"&ocy;"],[0,"&pcy;"],[0,"&rcy;"],[0,"&scy;"],[0,"&tcy;"],[0,"&ucy;"],[0,"&fcy;"],[0,"&khcy;"],[0,"&tscy;"],[0,"&chcy;"],[0,"&shcy;"],[0,"&shchcy;"],[0,"&hardcy;"],[0,"&ycy;"],[0,"&softcy;"],[0,"&ecy;"],[0,"&yucy;"],[0,"&yacy;"],[1,"&iocy;"],[0,"&djcy;"],[0,"&gjcy;"],[0,"&jukcy;"],[0,"&dscy;"],[0,"&iukcy;"],[0,"&yicy;"],[0,"&jsercy;"],[0,"&ljcy;"],[0,"&njcy;"],[0,"&tshcy;"],[0,"&kjcy;"],[1,"&ubrcy;"],[0,"&dzcy;"],[7074,"&ensp;"],[0,"&emsp;"],[0,"&emsp13;"],[0,"&emsp14;"],[1,"&numsp;"],[0,"&puncsp;"],[0,"&ThinSpace;"],[0,"&hairsp;"],[0,"&NegativeMediumSpace;"],[0,"&zwnj;"],[0,"&zwj;"],[0,"&lrm;"],[0,"&rlm;"],[0,"&dash;"],[2,"&ndash;"],[0,"&mdash;"],[0,"&horbar;"],[0,"&Verbar;"],[1,"&lsquo;"],[0,"&CloseCurlyQuote;"],[0,"&lsquor;"],[1,"&ldquo;"],[0,"&CloseCurlyDoubleQuote;"],[0,"&bdquo;"],[1,"&dagger;"],[0,"&Dagger;"],[0,"&bull;"],[2,"&nldr;"],[0,"&hellip;"],[9,"&permil;"],[0,"&pertenk;"],[0,"&prime;"],[0,"&Prime;"],[0,"&tprime;"],[0,"&backprime;"],[3,"&lsaquo;"],[0,"&rsaquo;"],[3,"&oline;"],[2,"&caret;"],[1,"&hybull;"],[0,"&frasl;"],[10,"&bsemi;"],[7,"&qprime;"],[7,{v:"&MediumSpace;",n:8202,o:"&ThickSpace;"}],[0,"&NoBreak;"],[0,"&af;"],[0,"&InvisibleTimes;"],[0,"&ic;"],[72,"&euro;"],[46,"&tdot;"],[0,"&DotDot;"],[37,"&complexes;"],[2,"&incare;"],[4,"&gscr;"],[0,"&hamilt;"],[0,"&Hfr;"],[0,"&Hopf;"],[0,"&planckh;"],[0,"&hbar;"],[0,"&imagline;"],[0,"&Ifr;"],[0,"&lagran;"],[0,"&ell;"],[1,"&naturals;"],[0,"&numero;"],[0,"&copysr;"],[0,"&weierp;"],[0,"&Popf;"],[0,"&Qopf;"],[0,"&realine;"],[0,"&real;"],[0,"&reals;"],[0,"&rx;"],[3,"&trade;"],[1,"&integers;"],[2,"&mho;"],[0,"&zeetrf;"],[0,"&iiota;"],[2,"&bernou;"],[0,"&Cayleys;"],[1,"&escr;"],[0,"&Escr;"],[0,"&Fouriertrf;"],[1,"&Mellintrf;"],[0,"&order;"],[0,"&alefsym;"],[0,"&beth;"],[0,"&gimel;"],[0,"&daleth;"],[12,"&CapitalDifferentialD;"],[0,"&dd;"],[0,"&ee;"],[0,"&ii;"],[10,"&frac13;"],[0,"&frac23;"],[0,"&frac15;"],[0,"&frac25;"],[0,"&frac35;"],[0,"&frac45;"],[0,"&frac16;"],[0,"&frac56;"],[0,"&frac18;"],[0,"&frac38;"],[0,"&frac58;"],[0,"&frac78;"],[49,"&larr;"],[0,"&ShortUpArrow;"],[0,"&rarr;"],[0,"&darr;"],[0,"&harr;"],[0,"&updownarrow;"],[0,"&nwarr;"],[0,"&nearr;"],[0,"&LowerRightArrow;"],[0,"&LowerLeftArrow;"],[0,"&nlarr;"],[0,"&nrarr;"],[1,{v:"&rarrw;",n:824,o:"&nrarrw;"}],[0,"&Larr;"],[0,"&Uarr;"],[0,"&Rarr;"],[0,"&Darr;"],[0,"&larrtl;"],[0,"&rarrtl;"],[0,"&LeftTeeArrow;"],[0,"&mapstoup;"],[0,"&map;"],[0,"&DownTeeArrow;"],[1,"&hookleftarrow;"],[0,"&hookrightarrow;"],[0,"&larrlp;"],[0,"&looparrowright;"],[0,"&harrw;"],[0,"&nharr;"],[1,"&lsh;"],[0,"&rsh;"],[0,"&ldsh;"],[0,"&rdsh;"],[1,"&crarr;"],[0,"&cularr;"],[0,"&curarr;"],[2,"&circlearrowleft;"],[0,"&circlearrowright;"],[0,"&leftharpoonup;"],[0,"&DownLeftVector;"],[0,"&RightUpVector;"],[0,"&LeftUpVector;"],[0,"&rharu;"],[0,"&DownRightVector;"],[0,"&dharr;"],[0,"&dharl;"],[0,"&RightArrowLeftArrow;"],[0,"&udarr;"],[0,"&LeftArrowRightArrow;"],[0,"&leftleftarrows;"],[0,"&upuparrows;"],[0,"&rightrightarrows;"],[0,"&ddarr;"],[0,"&leftrightharpoons;"],[0,"&Equilibrium;"],[0,"&nlArr;"],[0,"&nhArr;"],[0,"&nrArr;"],[0,"&DoubleLeftArrow;"],[0,"&DoubleUpArrow;"],[0,"&DoubleRightArrow;"],[0,"&dArr;"],[0,"&DoubleLeftRightArrow;"],[0,"&DoubleUpDownArrow;"],[0,"&nwArr;"],[0,"&neArr;"],[0,"&seArr;"],[0,"&swArr;"],[0,"&lAarr;"],[0,"&rAarr;"],[1,"&zigrarr;"],[6,"&larrb;"],[0,"&rarrb;"],[15,"&DownArrowUpArrow;"],[7,"&loarr;"],[0,"&roarr;"],[0,"&hoarr;"],[0,"&forall;"],[0,"&comp;"],[0,{v:"&part;",n:824,o:"&npart;"}],[0,"&exist;"],[0,"&nexist;"],[0,"&empty;"],[1,"&Del;"],[0,"&Element;"],[0,"&NotElement;"],[1,"&ni;"],[0,"&notni;"],[2,"&prod;"],[0,"&coprod;"],[0,"&sum;"],[0,"&minus;"],[0,"&MinusPlus;"],[0,"&dotplus;"],[1,"&Backslash;"],[0,"&lowast;"],[0,"&compfn;"],[1,"&radic;"],[2,"&prop;"],[0,"&infin;"],[0,"&angrt;"],[0,{v:"&ang;",n:8402,o:"&nang;"}],[0,"&angmsd;"],[0,"&angsph;"],[0,"&mid;"],[0,"&nmid;"],[0,"&DoubleVerticalBar;"],[0,"&NotDoubleVerticalBar;"],[0,"&and;"],[0,"&or;"],[0,{v:"&cap;",n:65024,o:"&caps;"}],[0,{v:"&cup;",n:65024,o:"&cups;"}],[0,"&int;"],[0,"&Int;"],[0,"&iiint;"],[0,"&conint;"],[0,"&Conint;"],[0,"&Cconint;"],[0,"&cwint;"],[0,"&ClockwiseContourIntegral;"],[0,"&awconint;"],[0,"&there4;"],[0,"&becaus;"],[0,"&ratio;"],[0,"&Colon;"],[0,"&dotminus;"],[1,"&mDDot;"],[0,"&homtht;"],[0,{v:"&sim;",n:8402,o:"&nvsim;"}],[0,{v:"&backsim;",n:817,o:"&race;"}],[0,{v:"&ac;",n:819,o:"&acE;"}],[0,"&acd;"],[0,"&VerticalTilde;"],[0,"&NotTilde;"],[0,{v:"&eqsim;",n:824,o:"&nesim;"}],[0,"&sime;"],[0,"&NotTildeEqual;"],[0,"&cong;"],[0,"&simne;"],[0,"&ncong;"],[0,"&ap;"],[0,"&nap;"],[0,"&ape;"],[0,{v:"&apid;",n:824,o:"&napid;"}],[0,"&backcong;"],[0,{v:"&asympeq;",n:8402,o:"&nvap;"}],[0,{v:"&bump;",n:824,o:"&nbump;"}],[0,{v:"&bumpe;",n:824,o:"&nbumpe;"}],[0,{v:"&doteq;",n:824,o:"&nedot;"}],[0,"&doteqdot;"],[0,"&efDot;"],[0,"&erDot;"],[0,"&Assign;"],[0,"&ecolon;"],[0,"&ecir;"],[0,"&circeq;"],[1,"&wedgeq;"],[0,"&veeeq;"],[1,"&triangleq;"],[2,"&equest;"],[0,"&ne;"],[0,{v:"&Congruent;",n:8421,o:"&bnequiv;"}],[0,"&nequiv;"],[1,{v:"&le;",n:8402,o:"&nvle;"}],[0,{v:"&ge;",n:8402,o:"&nvge;"}],[0,{v:"&lE;",n:824,o:"&nlE;"}],[0,{v:"&gE;",n:824,o:"&ngE;"}],[0,{v:"&lnE;",n:65024,o:"&lvertneqq;"}],[0,{v:"&gnE;",n:65024,o:"&gvertneqq;"}],[0,{v:"&ll;",n:new Map(a([[824,"&nLtv;"],[7577,"&nLt;"]]))}],[0,{v:"&gg;",n:new Map(a([[824,"&nGtv;"],[7577,"&nGt;"]]))}],[0,"&between;"],[0,"&NotCupCap;"],[0,"&nless;"],[0,"&ngt;"],[0,"&nle;"],[0,"&nge;"],[0,"&lesssim;"],[0,"&GreaterTilde;"],[0,"&nlsim;"],[0,"&ngsim;"],[0,"&LessGreater;"],[0,"&gl;"],[0,"&NotLessGreater;"],[0,"&NotGreaterLess;"],[0,"&pr;"],[0,"&sc;"],[0,"&prcue;"],[0,"&sccue;"],[0,"&PrecedesTilde;"],[0,{v:"&scsim;",n:824,o:"&NotSucceedsTilde;"}],[0,"&NotPrecedes;"],[0,"&NotSucceeds;"],[0,{v:"&sub;",n:8402,o:"&NotSubset;"}],[0,{v:"&sup;",n:8402,o:"&NotSuperset;"}],[0,"&nsub;"],[0,"&nsup;"],[0,"&sube;"],[0,"&supe;"],[0,"&NotSubsetEqual;"],[0,"&NotSupersetEqual;"],[0,{v:"&subne;",n:65024,o:"&varsubsetneq;"}],[0,{v:"&supne;",n:65024,o:"&varsupsetneq;"}],[1,"&cupdot;"],[0,"&UnionPlus;"],[0,{v:"&sqsub;",n:824,o:"&NotSquareSubset;"}],[0,{v:"&sqsup;",n:824,o:"&NotSquareSuperset;"}],[0,"&sqsube;"],[0,"&sqsupe;"],[0,{v:"&sqcap;",n:65024,o:"&sqcaps;"}],[0,{v:"&sqcup;",n:65024,o:"&sqcups;"}],[0,"&CirclePlus;"],[0,"&CircleMinus;"],[0,"&CircleTimes;"],[0,"&osol;"],[0,"&CircleDot;"],[0,"&circledcirc;"],[0,"&circledast;"],[1,"&circleddash;"],[0,"&boxplus;"],[0,"&boxminus;"],[0,"&boxtimes;"],[0,"&dotsquare;"],[0,"&RightTee;"],[0,"&dashv;"],[0,"&DownTee;"],[0,"&bot;"],[1,"&models;"],[0,"&DoubleRightTee;"],[0,"&Vdash;"],[0,"&Vvdash;"],[0,"&VDash;"],[0,"&nvdash;"],[0,"&nvDash;"],[0,"&nVdash;"],[0,"&nVDash;"],[0,"&prurel;"],[1,"&LeftTriangle;"],[0,"&RightTriangle;"],[0,{v:"&LeftTriangleEqual;",n:8402,o:"&nvltrie;"}],[0,{v:"&RightTriangleEqual;",n:8402,o:"&nvrtrie;"}],[0,"&origof;"],[0,"&imof;"],[0,"&multimap;"],[0,"&hercon;"],[0,"&intcal;"],[0,"&veebar;"],[1,"&barvee;"],[0,"&angrtvb;"],[0,"&lrtri;"],[0,"&bigwedge;"],[0,"&bigvee;"],[0,"&bigcap;"],[0,"&bigcup;"],[0,"&diam;"],[0,"&sdot;"],[0,"&sstarf;"],[0,"&divideontimes;"],[0,"&bowtie;"],[0,"&ltimes;"],[0,"&rtimes;"],[0,"&leftthreetimes;"],[0,"&rightthreetimes;"],[0,"&backsimeq;"],[0,"&curlyvee;"],[0,"&curlywedge;"],[0,"&Sub;"],[0,"&Sup;"],[0,"&Cap;"],[0,"&Cup;"],[0,"&fork;"],[0,"&epar;"],[0,"&lessdot;"],[0,"&gtdot;"],[0,{v:"&Ll;",n:824,o:"&nLl;"}],[0,{v:"&Gg;",n:824,o:"&nGg;"}],[0,{v:"&leg;",n:65024,o:"&lesg;"}],[0,{v:"&gel;",n:65024,o:"&gesl;"}],[2,"&cuepr;"],[0,"&cuesc;"],[0,"&NotPrecedesSlantEqual;"],[0,"&NotSucceedsSlantEqual;"],[0,"&NotSquareSubsetEqual;"],[0,"&NotSquareSupersetEqual;"],[2,"&lnsim;"],[0,"&gnsim;"],[0,"&precnsim;"],[0,"&scnsim;"],[0,"&nltri;"],[0,"&NotRightTriangle;"],[0,"&nltrie;"],[0,"&NotRightTriangleEqual;"],[0,"&vellip;"],[0,"&ctdot;"],[0,"&utdot;"],[0,"&dtdot;"],[0,"&disin;"],[0,"&isinsv;"],[0,"&isins;"],[0,{v:"&isindot;",n:824,o:"&notindot;"}],[0,"&notinvc;"],[0,"&notinvb;"],[1,{v:"&isinE;",n:824,o:"&notinE;"}],[0,"&nisd;"],[0,"&xnis;"],[0,"&nis;"],[0,"&notnivc;"],[0,"&notnivb;"],[6,"&barwed;"],[0,"&Barwed;"],[1,"&lceil;"],[0,"&rceil;"],[0,"&LeftFloor;"],[0,"&rfloor;"],[0,"&drcrop;"],[0,"&dlcrop;"],[0,"&urcrop;"],[0,"&ulcrop;"],[0,"&bnot;"],[1,"&profline;"],[0,"&profsurf;"],[1,"&telrec;"],[0,"&target;"],[5,"&ulcorn;"],[0,"&urcorn;"],[0,"&dlcorn;"],[0,"&drcorn;"],[2,"&frown;"],[0,"&smile;"],[9,"&cylcty;"],[0,"&profalar;"],[7,"&topbot;"],[6,"&ovbar;"],[1,"&solbar;"],[60,"&angzarr;"],[51,"&lmoustache;"],[0,"&rmoustache;"],[2,"&OverBracket;"],[0,"&bbrk;"],[0,"&bbrktbrk;"],[37,"&OverParenthesis;"],[0,"&UnderParenthesis;"],[0,"&OverBrace;"],[0,"&UnderBrace;"],[2,"&trpezium;"],[4,"&elinters;"],[59,"&blank;"],[164,"&circledS;"],[55,"&boxh;"],[1,"&boxv;"],[9,"&boxdr;"],[3,"&boxdl;"],[3,"&boxur;"],[3,"&boxul;"],[3,"&boxvr;"],[7,"&boxvl;"],[7,"&boxhd;"],[7,"&boxhu;"],[7,"&boxvh;"],[19,"&boxH;"],[0,"&boxV;"],[0,"&boxdR;"],[0,"&boxDr;"],[0,"&boxDR;"],[0,"&boxdL;"],[0,"&boxDl;"],[0,"&boxDL;"],[0,"&boxuR;"],[0,"&boxUr;"],[0,"&boxUR;"],[0,"&boxuL;"],[0,"&boxUl;"],[0,"&boxUL;"],[0,"&boxvR;"],[0,"&boxVr;"],[0,"&boxVR;"],[0,"&boxvL;"],[0,"&boxVl;"],[0,"&boxVL;"],[0,"&boxHd;"],[0,"&boxhD;"],[0,"&boxHD;"],[0,"&boxHu;"],[0,"&boxhU;"],[0,"&boxHU;"],[0,"&boxvH;"],[0,"&boxVh;"],[0,"&boxVH;"],[19,"&uhblk;"],[3,"&lhblk;"],[3,"&block;"],[8,"&blk14;"],[0,"&blk12;"],[0,"&blk34;"],[13,"&square;"],[8,"&blacksquare;"],[0,"&EmptyVerySmallSquare;"],[1,"&rect;"],[0,"&marker;"],[2,"&fltns;"],[1,"&bigtriangleup;"],[0,"&blacktriangle;"],[0,"&triangle;"],[2,"&blacktriangleright;"],[0,"&rtri;"],[3,"&bigtriangledown;"],[0,"&blacktriangledown;"],[0,"&dtri;"],[2,"&blacktriangleleft;"],[0,"&ltri;"],[6,"&loz;"],[0,"&cir;"],[32,"&tridot;"],[2,"&bigcirc;"],[8,"&ultri;"],[0,"&urtri;"],[0,"&lltri;"],[0,"&EmptySmallSquare;"],[0,"&FilledSmallSquare;"],[8,"&bigstar;"],[0,"&star;"],[7,"&phone;"],[49,"&female;"],[1,"&male;"],[29,"&spades;"],[2,"&clubs;"],[1,"&hearts;"],[0,"&diamondsuit;"],[3,"&sung;"],[2,"&flat;"],[0,"&natural;"],[0,"&sharp;"],[163,"&check;"],[3,"&cross;"],[8,"&malt;"],[21,"&sext;"],[33,"&VerticalSeparator;"],[25,"&lbbrk;"],[0,"&rbbrk;"],[84,"&bsolhsub;"],[0,"&suphsol;"],[28,"&LeftDoubleBracket;"],[0,"&RightDoubleBracket;"],[0,"&lang;"],[0,"&rang;"],[0,"&Lang;"],[0,"&Rang;"],[0,"&loang;"],[0,"&roang;"],[7,"&longleftarrow;"],[0,"&longrightarrow;"],[0,"&longleftrightarrow;"],[0,"&DoubleLongLeftArrow;"],[0,"&DoubleLongRightArrow;"],[0,"&DoubleLongLeftRightArrow;"],[1,"&longmapsto;"],[2,"&dzigrarr;"],[258,"&nvlArr;"],[0,"&nvrArr;"],[0,"&nvHarr;"],[0,"&Map;"],[6,"&lbarr;"],[0,"&bkarow;"],[0,"&lBarr;"],[0,"&dbkarow;"],[0,"&drbkarow;"],[0,"&DDotrahd;"],[0,"&UpArrowBar;"],[0,"&DownArrowBar;"],[2,"&Rarrtl;"],[2,"&latail;"],[0,"&ratail;"],[0,"&lAtail;"],[0,"&rAtail;"],[0,"&larrfs;"],[0,"&rarrfs;"],[0,"&larrbfs;"],[0,"&rarrbfs;"],[2,"&nwarhk;"],[0,"&nearhk;"],[0,"&hksearow;"],[0,"&hkswarow;"],[0,"&nwnear;"],[0,"&nesear;"],[0,"&seswar;"],[0,"&swnwar;"],[8,{v:"&rarrc;",n:824,o:"&nrarrc;"}],[1,"&cudarrr;"],[0,"&ldca;"],[0,"&rdca;"],[0,"&cudarrl;"],[0,"&larrpl;"],[2,"&curarrm;"],[0,"&cularrp;"],[7,"&rarrpl;"],[2,"&harrcir;"],[0,"&Uarrocir;"],[0,"&lurdshar;"],[0,"&ldrushar;"],[2,"&LeftRightVector;"],[0,"&RightUpDownVector;"],[0,"&DownLeftRightVector;"],[0,"&LeftUpDownVector;"],[0,"&LeftVectorBar;"],[0,"&RightVectorBar;"],[0,"&RightUpVectorBar;"],[0,"&RightDownVectorBar;"],[0,"&DownLeftVectorBar;"],[0,"&DownRightVectorBar;"],[0,"&LeftUpVectorBar;"],[0,"&LeftDownVectorBar;"],[0,"&LeftTeeVector;"],[0,"&RightTeeVector;"],[0,"&RightUpTeeVector;"],[0,"&RightDownTeeVector;"],[0,"&DownLeftTeeVector;"],[0,"&DownRightTeeVector;"],[0,"&LeftUpTeeVector;"],[0,"&LeftDownTeeVector;"],[0,"&lHar;"],[0,"&uHar;"],[0,"&rHar;"],[0,"&dHar;"],[0,"&luruhar;"],[0,"&ldrdhar;"],[0,"&ruluhar;"],[0,"&rdldhar;"],[0,"&lharul;"],[0,"&llhard;"],[0,"&rharul;"],[0,"&lrhard;"],[0,"&udhar;"],[0,"&duhar;"],[0,"&RoundImplies;"],[0,"&erarr;"],[0,"&simrarr;"],[0,"&larrsim;"],[0,"&rarrsim;"],[0,"&rarrap;"],[0,"&ltlarr;"],[1,"&gtrarr;"],[0,"&subrarr;"],[1,"&suplarr;"],[0,"&lfisht;"],[0,"&rfisht;"],[0,"&ufisht;"],[0,"&dfisht;"],[5,"&lopar;"],[0,"&ropar;"],[4,"&lbrke;"],[0,"&rbrke;"],[0,"&lbrkslu;"],[0,"&rbrksld;"],[0,"&lbrksld;"],[0,"&rbrkslu;"],[0,"&langd;"],[0,"&rangd;"],[0,"&lparlt;"],[0,"&rpargt;"],[0,"&gtlPar;"],[0,"&ltrPar;"],[3,"&vzigzag;"],[1,"&vangrt;"],[0,"&angrtvbd;"],[6,"&ange;"],[0,"&range;"],[0,"&dwangle;"],[0,"&uwangle;"],[0,"&angmsdaa;"],[0,"&angmsdab;"],[0,"&angmsdac;"],[0,"&angmsdad;"],[0,"&angmsdae;"],[0,"&angmsdaf;"],[0,"&angmsdag;"],[0,"&angmsdah;"],[0,"&bemptyv;"],[0,"&demptyv;"],[0,"&cemptyv;"],[0,"&raemptyv;"],[0,"&laemptyv;"],[0,"&ohbar;"],[0,"&omid;"],[0,"&opar;"],[1,"&operp;"],[1,"&olcross;"],[0,"&odsold;"],[1,"&olcir;"],[0,"&ofcir;"],[0,"&olt;"],[0,"&ogt;"],[0,"&cirscir;"],[0,"&cirE;"],[0,"&solb;"],[0,"&bsolb;"],[3,"&boxbox;"],[3,"&trisb;"],[0,"&rtriltri;"],[0,{v:"&LeftTriangleBar;",n:824,o:"&NotLeftTriangleBar;"}],[0,{v:"&RightTriangleBar;",n:824,o:"&NotRightTriangleBar;"}],[11,"&iinfin;"],[0,"&infintie;"],[0,"&nvinfin;"],[4,"&eparsl;"],[0,"&smeparsl;"],[0,"&eqvparsl;"],[5,"&blacklozenge;"],[8,"&RuleDelayed;"],[1,"&dsol;"],[9,"&bigodot;"],[0,"&bigoplus;"],[0,"&bigotimes;"],[1,"&biguplus;"],[1,"&bigsqcup;"],[5,"&iiiint;"],[0,"&fpartint;"],[2,"&cirfnint;"],[0,"&awint;"],[0,"&rppolint;"],[0,"&scpolint;"],[0,"&npolint;"],[0,"&pointint;"],[0,"&quatint;"],[0,"&intlarhk;"],[10,"&pluscir;"],[0,"&plusacir;"],[0,"&simplus;"],[0,"&plusdu;"],[0,"&plussim;"],[0,"&plustwo;"],[1,"&mcomma;"],[0,"&minusdu;"],[2,"&loplus;"],[0,"&roplus;"],[0,"&Cross;"],[0,"&timesd;"],[0,"&timesbar;"],[1,"&smashp;"],[0,"&lotimes;"],[0,"&rotimes;"],[0,"&otimesas;"],[0,"&Otimes;"],[0,"&odiv;"],[0,"&triplus;"],[0,"&triminus;"],[0,"&tritime;"],[0,"&intprod;"],[2,"&amalg;"],[0,"&capdot;"],[1,"&ncup;"],[0,"&ncap;"],[0,"&capand;"],[0,"&cupor;"],[0,"&cupcap;"],[0,"&capcup;"],[0,"&cupbrcap;"],[0,"&capbrcup;"],[0,"&cupcup;"],[0,"&capcap;"],[0,"&ccups;"],[0,"&ccaps;"],[2,"&ccupssm;"],[2,"&And;"],[0,"&Or;"],[0,"&andand;"],[0,"&oror;"],[0,"&orslope;"],[0,"&andslope;"],[1,"&andv;"],[0,"&orv;"],[0,"&andd;"],[0,"&ord;"],[1,"&wedbar;"],[6,"&sdote;"],[3,"&simdot;"],[2,{v:"&congdot;",n:824,o:"&ncongdot;"}],[0,"&easter;"],[0,"&apacir;"],[0,{v:"&apE;",n:824,o:"&napE;"}],[0,"&eplus;"],[0,"&pluse;"],[0,"&Esim;"],[0,"&Colone;"],[0,"&Equal;"],[1,"&ddotseq;"],[0,"&equivDD;"],[0,"&ltcir;"],[0,"&gtcir;"],[0,"&ltquest;"],[0,"&gtquest;"],[0,{v:"&leqslant;",n:824,o:"&nleqslant;"}],[0,{v:"&geqslant;",n:824,o:"&ngeqslant;"}],[0,"&lesdot;"],[0,"&gesdot;"],[0,"&lesdoto;"],[0,"&gesdoto;"],[0,"&lesdotor;"],[0,"&gesdotol;"],[0,"&lap;"],[0,"&gap;"],[0,"&lne;"],[0,"&gne;"],[0,"&lnap;"],[0,"&gnap;"],[0,"&lEg;"],[0,"&gEl;"],[0,"&lsime;"],[0,"&gsime;"],[0,"&lsimg;"],[0,"&gsiml;"],[0,"&lgE;"],[0,"&glE;"],[0,"&lesges;"],[0,"&gesles;"],[0,"&els;"],[0,"&egs;"],[0,"&elsdot;"],[0,"&egsdot;"],[0,"&el;"],[0,"&eg;"],[2,"&siml;"],[0,"&simg;"],[0,"&simlE;"],[0,"&simgE;"],[0,{v:"&LessLess;",n:824,o:"&NotNestedLessLess;"}],[0,{v:"&GreaterGreater;",n:824,o:"&NotNestedGreaterGreater;"}],[1,"&glj;"],[0,"&gla;"],[0,"&ltcc;"],[0,"&gtcc;"],[0,"&lescc;"],[0,"&gescc;"],[0,"&smt;"],[0,"&lat;"],[0,{v:"&smte;",n:65024,o:"&smtes;"}],[0,{v:"&late;",n:65024,o:"&lates;"}],[0,"&bumpE;"],[0,{v:"&PrecedesEqual;",n:824,o:"&NotPrecedesEqual;"}],[0,{v:"&sce;",n:824,o:"&NotSucceedsEqual;"}],[2,"&prE;"],[0,"&scE;"],[0,"&precneqq;"],[0,"&scnE;"],[0,"&prap;"],[0,"&scap;"],[0,"&precnapprox;"],[0,"&scnap;"],[0,"&Pr;"],[0,"&Sc;"],[0,"&subdot;"],[0,"&supdot;"],[0,"&subplus;"],[0,"&supplus;"],[0,"&submult;"],[0,"&supmult;"],[0,"&subedot;"],[0,"&supedot;"],[0,{v:"&subE;",n:824,o:"&nsubE;"}],[0,{v:"&supE;",n:824,o:"&nsupE;"}],[0,"&subsim;"],[0,"&supsim;"],[2,{v:"&subnE;",n:65024,o:"&varsubsetneqq;"}],[0,{v:"&supnE;",n:65024,o:"&varsupsetneqq;"}],[2,"&csub;"],[0,"&csup;"],[0,"&csube;"],[0,"&csupe;"],[0,"&subsup;"],[0,"&supsub;"],[0,"&subsub;"],[0,"&supsup;"],[0,"&suphsub;"],[0,"&supdsub;"],[0,"&forkv;"],[0,"&topfork;"],[0,"&mlcp;"],[8,"&Dashv;"],[1,"&Vdashl;"],[0,"&Barv;"],[0,"&vBar;"],[0,"&vBarv;"],[1,"&Vbar;"],[0,"&Not;"],[0,"&bNot;"],[0,"&rnmid;"],[0,"&cirmid;"],[0,"&midcir;"],[0,"&topcir;"],[0,"&nhpar;"],[0,"&parsim;"],[9,{v:"&parsl;",n:8421,o:"&nparsl;"}],[44343,{n:new Map(a([[56476,"&Ascr;"],[1,"&Cscr;"],[0,"&Dscr;"],[2,"&Gscr;"],[2,"&Jscr;"],[0,"&Kscr;"],[2,"&Nscr;"],[0,"&Oscr;"],[0,"&Pscr;"],[0,"&Qscr;"],[1,"&Sscr;"],[0,"&Tscr;"],[0,"&Uscr;"],[0,"&Vscr;"],[0,"&Wscr;"],[0,"&Xscr;"],[0,"&Yscr;"],[0,"&Zscr;"],[0,"&ascr;"],[0,"&bscr;"],[0,"&cscr;"],[0,"&dscr;"],[1,"&fscr;"],[1,"&hscr;"],[0,"&iscr;"],[0,"&jscr;"],[0,"&kscr;"],[0,"&lscr;"],[0,"&mscr;"],[0,"&nscr;"],[1,"&pscr;"],[0,"&qscr;"],[0,"&rscr;"],[0,"&sscr;"],[0,"&tscr;"],[0,"&uscr;"],[0,"&vscr;"],[0,"&wscr;"],[0,"&xscr;"],[0,"&yscr;"],[0,"&zscr;"],[52,"&Afr;"],[0,"&Bfr;"],[1,"&Dfr;"],[0,"&Efr;"],[0,"&Ffr;"],[0,"&Gfr;"],[2,"&Jfr;"],[0,"&Kfr;"],[0,"&Lfr;"],[0,"&Mfr;"],[0,"&Nfr;"],[0,"&Ofr;"],[0,"&Pfr;"],[0,"&Qfr;"],[1,"&Sfr;"],[0,"&Tfr;"],[0,"&Ufr;"],[0,"&Vfr;"],[0,"&Wfr;"],[0,"&Xfr;"],[0,"&Yfr;"],[1,"&afr;"],[0,"&bfr;"],[0,"&cfr;"],[0,"&dfr;"],[0,"&efr;"],[0,"&ffr;"],[0,"&gfr;"],[0,"&hfr;"],[0,"&ifr;"],[0,"&jfr;"],[0,"&kfr;"],[0,"&lfr;"],[0,"&mfr;"],[0,"&nfr;"],[0,"&ofr;"],[0,"&pfr;"],[0,"&qfr;"],[0,"&rfr;"],[0,"&sfr;"],[0,"&tfr;"],[0,"&ufr;"],[0,"&vfr;"],[0,"&wfr;"],[0,"&xfr;"],[0,"&yfr;"],[0,"&zfr;"],[0,"&Aopf;"],[0,"&Bopf;"],[1,"&Dopf;"],[0,"&Eopf;"],[0,"&Fopf;"],[0,"&Gopf;"],[1,"&Iopf;"],[0,"&Jopf;"],[0,"&Kopf;"],[0,"&Lopf;"],[0,"&Mopf;"],[1,"&Oopf;"],[3,"&Sopf;"],[0,"&Topf;"],[0,"&Uopf;"],[0,"&Vopf;"],[0,"&Wopf;"],[0,"&Xopf;"],[0,"&Yopf;"],[1,"&aopf;"],[0,"&bopf;"],[0,"&copf;"],[0,"&dopf;"],[0,"&eopf;"],[0,"&fopf;"],[0,"&gopf;"],[0,"&hopf;"],[0,"&iopf;"],[0,"&jopf;"],[0,"&kopf;"],[0,"&lopf;"],[0,"&mopf;"],[0,"&nopf;"],[0,"&oopf;"],[0,"&popf;"],[0,"&qopf;"],[0,"&ropf;"],[0,"&sopf;"],[0,"&topf;"],[0,"&uopf;"],[0,"&vopf;"],[0,"&wopf;"],[0,"&xopf;"],[0,"&yopf;"],[0,"&zopf;"]]))}],[8906,"&fflig;"],[0,"&filig;"],[0,"&fllig;"],[0,"&ffilig;"],[0,"&ffllig;"]])),EA}var IF={},VB;function RF(){return VB||(VB=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.escapeText=a.escapeAttribute=a.escapeUTF8=a.escape=a.encodeXML=a.getCodePoint=a.xmlReplacer=void 0,a.xmlReplacer=/["&'<>$\x80-\uFFFF]/g;var t=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]);a.getCodePoint=String.prototype.codePointAt!=null?function(r,e){return r.codePointAt(e)}:function(r,e){return(r.charCodeAt(e)&64512)===55296?(r.charCodeAt(e)-55296)*1024+r.charCodeAt(e+1)-56320+65536:r.charCodeAt(e)};function o(r){for(var e="",i=0,s;(s=a.xmlReplacer.exec(r))!==null;){var c=s.index,u=r.charCodeAt(c),l=t.get(u);l!==void 0?(e+=r.substring(i,c)+l,i=c+1):(e+="".concat(r.substring(i,c),"&#x").concat((0,a.getCodePoint)(r,c).toString(16),";"),i=a.xmlReplacer.lastIndex+=+((u&64512)===55296))}return e+r.substr(i)}a.encodeXML=o,a.escape=o;function n(r,e){return function(s){for(var c,u=0,l="";c=r.exec(s);)u!==c.index&&(l+=s.substring(u,c.index)),l+=e.get(c[0].charCodeAt(0)),u=c.index+1;return l+s.substring(u)}}a.escapeUTF8=n(/[&<>'"]/g,t),a.escapeAttribute=n(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),a.escapeText=n(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]]))}(IF)),IF}var QB;function HB(){if(QB)return qi;QB=1;var a=qi&&qi.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(qi,"__esModule",{value:!0}),qi.encodeNonAsciiHTML=qi.encodeHTML=void 0;var t=a(Cfe()),o=RF(),n=/[\t\n!-,./:-@[-`\f{-}$\x80-\uFFFF]/g;function r(s){return i(n,s)}qi.encodeHTML=r;function e(s){return i(o.xmlReplacer,s)}qi.encodeNonAsciiHTML=e;function i(s,c){for(var u="",l=0,f;(f=s.exec(c))!==null;){var d=f.index;u+=c.substring(l,d);var h=c.charCodeAt(d),p=t.default.get(h);if(typeof p=="object"){if(d+1<c.length){var _=c.charCodeAt(d+1),g=typeof p.n=="number"?p.n===_?p.o:void 0:p.n.get(_);if(g!==void 0){u+=g,l=s.lastIndex+=1;continue}}p=p.v}if(p!==void 0)u+=p,l=d+1;else{var y=(0,o.getCodePoint)(c,d);u+="&#x".concat(y.toString(16),";"),l=s.lastIndex+=+(y!==h)}}return u+c.substr(l)}return qi}var GB;function Bfe(){return GB||(GB=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.decodeXMLStrict=a.decodeHTML5Strict=a.decodeHTML4Strict=a.decodeHTML5=a.decodeHTML4=a.decodeHTMLAttribute=a.decodeHTMLStrict=a.decodeHTML=a.decodeXML=a.DecodingMode=a.EntityDecoder=a.encodeHTML5=a.encodeHTML4=a.encodeNonAsciiHTML=a.encodeHTML=a.escapeText=a.escapeAttribute=a.escapeUTF8=a.escape=a.encodeXML=a.encode=a.decodeStrict=a.decode=a.EncodingMode=a.EntityLevel=void 0;var t=Mh(),o=HB(),n=RF(),r;(function(d){d[d.XML=0]="XML",d[d.HTML=1]="HTML"})(r=a.EntityLevel||(a.EntityLevel={}));var e;(function(d){d[d.UTF8=0]="UTF8",d[d.ASCII=1]="ASCII",d[d.Extensive=2]="Extensive",d[d.Attribute=3]="Attribute",d[d.Text=4]="Text"})(e=a.EncodingMode||(a.EncodingMode={}));function i(d,h){h===void 0&&(h=r.XML);var p=typeof h=="number"?h:h.level;if(p===r.HTML){var _=typeof h=="object"?h.mode:void 0;return(0,t.decodeHTML)(d,_)}return(0,t.decodeXML)(d)}a.decode=i;function s(d,h){var p;h===void 0&&(h=r.XML);var _=typeof h=="number"?{level:h}:h;return(p=_.mode)!==null&&p!==void 0||(_.mode=t.DecodingMode.Strict),i(d,_)}a.decodeStrict=s;function c(d,h){h===void 0&&(h=r.XML);var p=typeof h=="number"?{level:h}:h;return p.mode===e.UTF8?(0,n.escapeUTF8)(d):p.mode===e.Attribute?(0,n.escapeAttribute)(d):p.mode===e.Text?(0,n.escapeText)(d):p.level===r.HTML?p.mode===e.ASCII?(0,o.encodeNonAsciiHTML)(d):(0,o.encodeHTML)(d):(0,n.encodeXML)(d)}a.encode=c;var u=RF();Object.defineProperty(a,"encodeXML",{enumerable:!0,get:function(){return u.encodeXML}}),Object.defineProperty(a,"escape",{enumerable:!0,get:function(){return u.escape}}),Object.defineProperty(a,"escapeUTF8",{enumerable:!0,get:function(){return u.escapeUTF8}}),Object.defineProperty(a,"escapeAttribute",{enumerable:!0,get:function(){return u.escapeAttribute}}),Object.defineProperty(a,"escapeText",{enumerable:!0,get:function(){return u.escapeText}});var l=HB();Object.defineProperty(a,"encodeHTML",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(a,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return l.encodeNonAsciiHTML}}),Object.defineProperty(a,"encodeHTML4",{enumerable:!0,get:function(){return l.encodeHTML}}),Object.defineProperty(a,"encodeHTML5",{enumerable:!0,get:function(){return l.encodeHTML}});var f=Mh();Object.defineProperty(a,"EntityDecoder",{enumerable:!0,get:function(){return f.EntityDecoder}}),Object.defineProperty(a,"DecodingMode",{enumerable:!0,get:function(){return f.DecodingMode}}),Object.defineProperty(a,"decodeXML",{enumerable:!0,get:function(){return f.decodeXML}}),Object.defineProperty(a,"decodeHTML",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(a,"decodeHTMLStrict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(a,"decodeHTMLAttribute",{enumerable:!0,get:function(){return f.decodeHTMLAttribute}}),Object.defineProperty(a,"decodeHTML4",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(a,"decodeHTML5",{enumerable:!0,get:function(){return f.decodeHTML}}),Object.defineProperty(a,"decodeHTML4Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(a,"decodeHTML5Strict",{enumerable:!0,get:function(){return f.decodeHTMLStrict}}),Object.defineProperty(a,"decodeXMLStrict",{enumerable:!0,get:function(){return f.decodeXML}})}(xF)),xF}var bu={},zB;function $fe(){return zB||(zB=1,Object.defineProperty(bu,"__esModule",{value:!0}),bu.attributeNames=bu.elementNames=void 0,bu.elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(function(a){return[a.toLowerCase(),a]})),bu.attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(function(a){return[a.toLowerCase(),a]}))),bu}var kB;function Ufe(){if(kB)return fn;kB=1;var a=fn&&fn.__assign||function(){return a=Object.assign||function(T){for(var w,O=1,F=arguments.length;O<F;O++){w=arguments[O];for(var Q in w)Object.prototype.hasOwnProperty.call(w,Q)&&(T[Q]=w[Q])}return T},a.apply(this,arguments)},t=fn&&fn.__createBinding||(Object.create?function(T,w,O,F){F===void 0&&(F=O);var Q=Object.getOwnPropertyDescriptor(w,O);(!Q||("get"in Q?!w.__esModule:Q.writable||Q.configurable))&&(Q={enumerable:!0,get:function(){return w[O]}}),Object.defineProperty(T,F,Q)}:function(T,w,O,F){F===void 0&&(F=O),T[F]=w[O]}),o=fn&&fn.__setModuleDefault||(Object.create?function(T,w){Object.defineProperty(T,"default",{enumerable:!0,value:w})}:function(T,w){T.default=w}),n=fn&&fn.__importStar||function(T){if(T&&T.__esModule)return T;var w={};if(T!=null)for(var O in T)O!=="default"&&Object.prototype.hasOwnProperty.call(T,O)&&t(w,T,O);return o(w,T),w};Object.defineProperty(fn,"__esModule",{value:!0}),fn.render=void 0;var r=n(pu()),e=Bfe(),i=$fe(),s=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function c(T){return T.replace(/"/g,"&quot;")}function u(T,w){var O;if(T){var F=((O=w.encodeEntities)!==null&&O!==void 0?O:w.decodeEntities)===!1?c:w.xmlMode||w.encodeEntities!=="utf8"?e.encodeXML:e.escapeAttribute;return Object.keys(T).map(function(Q){var j,x,I=(j=T[Q])!==null&&j!==void 0?j:"";return w.xmlMode==="foreign"&&(Q=(x=i.attributeNames.get(Q))!==null&&x!==void 0?x:Q),!w.emptyAttrs&&!w.xmlMode&&I===""?Q:"".concat(Q,'="').concat(F(I),'"')}).join(" ")}}var l=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function f(T,w){w===void 0&&(w={});for(var O=("length"in T)?T:[T],F="",Q=0;Q<O.length;Q++)F+=d(O[Q],w);return F}fn.render=f,fn.default=f;function d(T,w){switch(T.type){case r.Root:return f(T.children,w);case r.Doctype:case r.Directive:return g(T);case r.Comment:return b(T);case r.CDATA:return m(T);case r.Script:case r.Style:case r.Tag:return _(T,w);case r.Text:return y(T,w)}}var h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),p=new Set(["svg","math"]);function _(T,w){var O;w.xmlMode==="foreign"&&(T.name=(O=i.elementNames.get(T.name))!==null&&O!==void 0?O:T.name,T.parent&&h.has(T.parent.name)&&(w=a(a({},w),{xmlMode:!1}))),!w.xmlMode&&p.has(T.name)&&(w=a(a({},w),{xmlMode:"foreign"}));var F="<".concat(T.name),Q=u(T.attribs,w);return Q&&(F+=" ".concat(Q)),T.children.length===0&&(w.xmlMode?w.selfClosingTags!==!1:w.selfClosingTags&&l.has(T.name))?(w.xmlMode||(F+=" "),F+="/>"):(F+=">",T.children.length>0&&(F+=f(T.children,w)),(w.xmlMode||!l.has(T.name))&&(F+="</".concat(T.name,">"))),F}function g(T){return"<".concat(T.data,">")}function y(T,w){var O,F=T.data||"";return((O=w.encodeEntities)!==null&&O!==void 0?O:w.decodeEntities)!==!1&&!(!w.xmlMode&&T.parent&&s.has(T.parent.name))&&(F=w.xmlMode||w.encodeEntities!=="utf8"?(0,e.encodeXML)(F):(0,e.escapeText)(F)),F}function m(T){return"<![CDATA[".concat(T.children[0].data,"]]>")}function b(T){return"<!--".concat(T.data,"-->")}return fn}var XB;function WB(){if(XB)return wi;XB=1;var a=wi&&wi.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(wi,"__esModule",{value:!0}),wi.getOuterHTML=r,wi.getInnerHTML=e,wi.getText=i,wi.textContent=s,wi.innerText=c;var t=jn(),o=a(Ufe()),n=pu();function r(u,l){return(0,o.default)(u,l)}function e(u,l){return(0,t.hasChildren)(u)?u.children.map(function(f){return r(f,l)}).join(""):""}function i(u){return Array.isArray(u)?u.map(i).join(""):(0,t.isTag)(u)?u.name==="br"?`
`:i(u.children):(0,t.isCDATA)(u)?i(u.children):(0,t.isText)(u)?u.data:""}function s(u){return Array.isArray(u)?u.map(s).join(""):(0,t.hasChildren)(u)&&!(0,t.isComment)(u)?s(u.children):(0,t.isText)(u)?u.data:""}function c(u){return Array.isArray(u)?u.map(c).join(""):(0,t.hasChildren)(u)&&(u.type===n.ElementType.Tag||(0,t.isCDATA)(u))?c(u.children):(0,t.isText)(u)?u.data:""}return wi}var ei={},JB;function Vfe(){if(JB)return ei;JB=1,Object.defineProperty(ei,"__esModule",{value:!0}),ei.getChildren=t,ei.getParent=o,ei.getSiblings=n,ei.getAttributeValue=r,ei.hasAttrib=e,ei.getName=i,ei.nextElementSibling=s,ei.prevElementSibling=c;var a=jn();function t(u){return(0,a.hasChildren)(u)?u.children:[]}function o(u){return u.parent||null}function n(u){var l,f,d=o(u);if(d!=null)return t(d);for(var h=[u],p=u.prev,_=u.next;p!=null;)h.unshift(p),l=p,p=l.prev;for(;_!=null;)h.push(_),f=_,_=f.next;return h}function r(u,l){var f;return(f=u.attribs)===null||f===void 0?void 0:f[l]}function e(u,l){return u.attribs!=null&&Object.prototype.hasOwnProperty.call(u.attribs,l)&&u.attribs[l]!=null}function i(u){return u.name}function s(u){for(var l,f=u.next;f!==null&&!(0,a.isTag)(f);)l=f,f=l.next;return f}function c(u){for(var l,f=u.prev;f!==null&&!(0,a.isTag)(f);)l=f,f=l.prev;return f}return ei}var Ci={},KB;function Qfe(){if(KB)return Ci;KB=1,Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.removeElement=a,Ci.replaceElement=t,Ci.appendChild=o,Ci.append=n,Ci.prependChild=r,Ci.prepend=e;function a(i){if(i.prev&&(i.prev.next=i.next),i.next&&(i.next.prev=i.prev),i.parent){var s=i.parent.children,c=s.lastIndexOf(i);c>=0&&s.splice(c,1)}i.next=null,i.prev=null,i.parent=null}function t(i,s){var c=s.prev=i.prev;c&&(c.next=s);var u=s.next=i.next;u&&(u.prev=s);var l=s.parent=i.parent;if(l){var f=l.children;f[f.lastIndexOf(i)]=s,i.parent=null}}function o(i,s){if(a(s),s.next=null,s.parent=i,i.children.push(s)>1){var c=i.children[i.children.length-2];c.next=s,s.prev=c}else s.prev=null}function n(i,s){a(s);var c=i.parent,u=i.next;if(s.next=u,s.prev=i,i.next=s,s.parent=c,u){if(u.prev=s,c){var l=c.children;l.splice(l.lastIndexOf(u),0,s)}}else c&&c.children.push(s)}function r(i,s){if(a(s),s.parent=i,s.prev=null,i.children.unshift(s)!==1){var c=i.children[1];c.prev=s,s.next=c}else s.next=null}function e(i,s){a(s);var c=i.parent;if(c){var u=c.children;u.splice(u.indexOf(i),0,s)}i.prev&&(i.prev.next=s),s.parent=c,s.prev=i.prev,s.next=i,i.prev=s}return Ci}var Bi={},YB;function ZB(){if(YB)return Bi;YB=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.filter=t,Bi.find=o,Bi.findOneChild=n,Bi.findOne=r,Bi.existsOne=e,Bi.findAll=i;var a=jn();function t(s,c,u,l){return u===void 0&&(u=!0),l===void 0&&(l=1/0),o(s,Array.isArray(c)?c:[c],u,l)}function o(s,c,u,l){for(var f=[],d=[Array.isArray(c)?c:[c]],h=[0];;){if(h[0]>=d[0].length){if(h.length===1)return f;d.shift(),h.shift();continue}var p=d[0][h[0]++];if(s(p)&&(f.push(p),--l<=0))return f;u&&(0,a.hasChildren)(p)&&p.children.length>0&&(h.unshift(0),d.unshift(p.children))}}function n(s,c){return c.find(s)}function r(s,c,u){u===void 0&&(u=!0);for(var l=Array.isArray(c)?c:[c],f=0;f<l.length;f++){var d=l[f];if((0,a.isTag)(d)&&s(d))return d;if(u&&(0,a.hasChildren)(d)&&d.children.length>0){var h=r(s,d.children,!0);if(h)return h}}return null}function e(s,c){return(Array.isArray(c)?c:[c]).some(function(u){return(0,a.isTag)(u)&&s(u)||(0,a.hasChildren)(u)&&e(s,u.children)})}function i(s,c){for(var u=[],l=[Array.isArray(c)?c:[c]],f=[0];;){if(f[0]>=l[0].length){if(l.length===1)return u;l.shift(),f.shift();continue}var d=l[0][f[0]++];(0,a.isTag)(d)&&s(d)&&u.push(d),(0,a.hasChildren)(d)&&d.children.length>0&&(f.unshift(0),l.unshift(d.children))}}return Bi}var $i={},e$;function t$(){if(e$)return $i;e$=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.testElement=i,$i.getElements=s,$i.getElementById=c,$i.getElementsByTagName=u,$i.getElementsByClassName=l,$i.getElementsByTagType=f;var a=jn(),t=ZB(),o={tag_name:function(d){return typeof d=="function"?function(h){return(0,a.isTag)(h)&&d(h.name)}:d==="*"?a.isTag:function(h){return(0,a.isTag)(h)&&h.name===d}},tag_type:function(d){return typeof d=="function"?function(h){return d(h.type)}:function(h){return h.type===d}},tag_contains:function(d){return typeof d=="function"?function(h){return(0,a.isText)(h)&&d(h.data)}:function(h){return(0,a.isText)(h)&&h.data===d}}};function n(d,h){return typeof h=="function"?function(p){return(0,a.isTag)(p)&&h(p.attribs[d])}:function(p){return(0,a.isTag)(p)&&p.attribs[d]===h}}function r(d,h){return function(p){return d(p)||h(p)}}function e(d){var h=Object.keys(d).map(function(p){var _=d[p];return Object.prototype.hasOwnProperty.call(o,p)?o[p](_):n(p,_)});return h.length===0?null:h.reduce(r)}function i(d,h){var p=e(d);return p?p(h):!0}function s(d,h,p,_){_===void 0&&(_=1/0);var g=e(d);return g?(0,t.filter)(g,h,p,_):[]}function c(d,h,p){return p===void 0&&(p=!0),Array.isArray(h)||(h=[h]),(0,t.findOne)(n("id",d),h,p)}function u(d,h,p,_){return p===void 0&&(p=!0),_===void 0&&(_=1/0),(0,t.filter)(o.tag_name(d),h,p,_)}function l(d,h,p,_){return p===void 0&&(p=!0),_===void 0&&(_=1/0),(0,t.filter)(n("class",d),h,p,_)}function f(d,h,p,_){return p===void 0&&(p=!0),_===void 0&&(_=1/0),(0,t.filter)(o.tag_type(d),h,p,_)}return $i}var ga={},r$;function Hfe(){if(r$)return ga;r$=1,Object.defineProperty(ga,"__esModule",{value:!0}),ga.DocumentPosition=void 0,ga.removeSubsets=t,ga.compareDocumentPosition=n,ga.uniqueSort=r;var a=jn();function t(e){for(var i=e.length;--i>=0;){var s=e[i];if(i>0&&e.lastIndexOf(s,i-1)>=0){e.splice(i,1);continue}for(var c=s.parent;c;c=c.parent)if(e.includes(c)){e.splice(i,1);break}}return e}var o;(function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"})(o||(ga.DocumentPosition=o={}));function n(e,i){var s=[],c=[];if(e===i)return 0;for(var u=(0,a.hasChildren)(e)?e:e.parent;u;)s.unshift(u),u=u.parent;for(u=(0,a.hasChildren)(i)?i:i.parent;u;)c.unshift(u),u=u.parent;for(var l=Math.min(s.length,c.length),f=0;f<l&&s[f]===c[f];)f++;if(f===0)return o.DISCONNECTED;var d=s[f-1],h=d.children,p=s[f],_=c[f];return h.indexOf(p)>h.indexOf(_)?d===i?o.FOLLOWING|o.CONTAINED_BY:o.FOLLOWING:d===e?o.PRECEDING|o.CONTAINS:o.PRECEDING}function r(e){return e=e.filter(function(i,s,c){return!c.includes(i,s+1)}),e.sort(function(i,s){var c=n(i,s);return c&o.PRECEDING?-1:c&o.FOLLOWING?1:0}),e}return ga}var xA={},n$;function Gfe(){if(n$)return xA;n$=1,Object.defineProperty(xA,"__esModule",{value:!0}),xA.getFeed=o;var a=WB(),t=t$();function o(d){var h=c(f,d);return h?h.name==="feed"?n(h):r(h):null}function n(d){var h,p=d.children,_={type:"atom",items:(0,t.getElementsByTagName)("entry",p).map(function(m){var b,T=m.children,w={media:s(T)};l(w,"id","id",T),l(w,"title","title",T);var O=(b=c("link",T))===null||b===void 0?void 0:b.attribs.href;O&&(w.link=O);var F=u("summary",T)||u("content",T);F&&(w.description=F);var Q=u("updated",T);return Q&&(w.pubDate=new Date(Q)),w})};l(_,"id","id",p),l(_,"title","title",p);var g=(h=c("link",p))===null||h===void 0?void 0:h.attribs.href;g&&(_.link=g),l(_,"description","subtitle",p);var y=u("updated",p);return y&&(_.updated=new Date(y)),l(_,"author","email",p,!0),_}function r(d){var h,p,_=(p=(h=c("channel",d.children))===null||h===void 0?void 0:h.children)!==null&&p!==void 0?p:[],g={type:d.name.substr(0,3),id:"",items:(0,t.getElementsByTagName)("item",d.children).map(function(m){var b=m.children,T={media:s(b)};l(T,"id","guid",b),l(T,"title","title",b),l(T,"link","link",b),l(T,"description","description",b);var w=u("pubDate",b)||u("dc:date",b);return w&&(T.pubDate=new Date(w)),T})};l(g,"title","title",_),l(g,"link","link",_),l(g,"description","description",_);var y=u("lastBuildDate",_);return y&&(g.updated=new Date(y)),l(g,"author","managingEditor",_,!0),g}var e=["url","type","lang"],i=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function s(d){return(0,t.getElementsByTagName)("media:content",d).map(function(h){for(var p=h.attribs,_={medium:p.medium,isDefault:!!p.isDefault},g=0,y=e;g<y.length;g++){var m=y[g];p[m]&&(_[m]=p[m])}for(var b=0,T=i;b<T.length;b++){var m=T[b];p[m]&&(_[m]=parseInt(p[m],10))}return p.expression&&(_.expression=p.expression),_})}function c(d,h){return(0,t.getElementsByTagName)(d,h,!0,1)[0]}function u(d,h,p){return p===void 0&&(p=!1),(0,a.textContent)((0,t.getElementsByTagName)(d,h,p,1)).trim()}function l(d,h,p,_,g){g===void 0&&(g=!1);var y=u(p,_,g);y&&(d[h]=y)}function f(d){return d==="rss"||d==="feed"||d==="rdf:RDF"}return xA}var i$;function Ui(){return i$||(i$=1,function(a){var t=yu&&yu.__createBinding||(Object.create?function(r,e,i,s){s===void 0&&(s=i);var c=Object.getOwnPropertyDescriptor(e,i);(!c||("get"in c?!e.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(r,s,c)}:function(r,e,i,s){s===void 0&&(s=i),r[s]=e[i]}),o=yu&&yu.__exportStar||function(r,e){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&t(e,r,i)};Object.defineProperty(a,"__esModule",{value:!0}),a.hasChildren=a.isDocument=a.isComment=a.isText=a.isCDATA=a.isTag=void 0,o(WB(),a),o(Vfe(),a),o(Qfe(),a),o(ZB(),a),o(t$(),a),o(Hfe(),a),o(Gfe(),a);var n=jn();Object.defineProperty(a,"isTag",{enumerable:!0,get:function(){return n.isTag}}),Object.defineProperty(a,"isCDATA",{enumerable:!0,get:function(){return n.isCDATA}}),Object.defineProperty(a,"isText",{enumerable:!0,get:function(){return n.isText}}),Object.defineProperty(a,"isComment",{enumerable:!0,get:function(){return n.isComment}}),Object.defineProperty(a,"isDocument",{enumerable:!0,get:function(){return n.isDocument}}),Object.defineProperty(a,"hasChildren",{enumerable:!0,get:function(){return n.hasChildren}})}(yu)),yu}var a$;function zfe(){return a$||(a$=1,function(a){var t=Kn&&Kn.__createBinding||(Object.create?function(y,m,b,T){T===void 0&&(T=b);var w=Object.getOwnPropertyDescriptor(m,b);(!w||("get"in w?!m.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return m[b]}}),Object.defineProperty(y,T,w)}:function(y,m,b,T){T===void 0&&(T=b),y[T]=m[b]}),o=Kn&&Kn.__setModuleDefault||(Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m}),n=Kn&&Kn.__importStar||function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var b in y)b!=="default"&&Object.prototype.hasOwnProperty.call(y,b)&&t(m,y,b);return o(m,y),m},r=Kn&&Kn.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomUtils=a.parseFeed=a.getFeed=a.ElementType=a.Tokenizer=a.createDomStream=a.parseDOM=a.parseDocument=a.DefaultHandler=a.DomHandler=a.Parser=void 0;var e=MB(),i=MB();Object.defineProperty(a,"Parser",{enumerable:!0,get:function(){return i.Parser}});var s=jn(),c=jn();Object.defineProperty(a,"DomHandler",{enumerable:!0,get:function(){return c.DomHandler}}),Object.defineProperty(a,"DefaultHandler",{enumerable:!0,get:function(){return c.DomHandler}});function u(y,m){var b=new s.DomHandler(void 0,m);return new e.Parser(b,m).end(y),b.root}a.parseDocument=u;function l(y,m){return u(y,m).children}a.parseDOM=l;function f(y,m,b){var T=new s.DomHandler(y,m,b);return new e.Parser(T,m)}a.createDomStream=f;var d=LB();Object.defineProperty(a,"Tokenizer",{enumerable:!0,get:function(){return r(d).default}}),a.ElementType=n(pu());var h=Ui(),p=Ui();Object.defineProperty(a,"getFeed",{enumerable:!0,get:function(){return p.getFeed}});var _={xmlMode:!0};function g(y,m){return m===void 0&&(m=_),(0,h.getFeed)(l(y,m))}a.parseFeed=g,a.DomUtils=n(Ui())}(Kn)),Kn}var kfe={"@context":{alternate:"http://www.w3.org/1999/xhtml/vocab#alternate",appendix:"http://www.w3.org/1999/xhtml/vocab#appendix",cite:"http://www.w3.org/1999/xhtml/vocab#cite",bookmark:"http://www.w3.org/1999/xhtml/vocab#bookmark",contents:"http://www.w3.org/1999/xhtml/vocab#contents",chapter:"http://www.w3.org/1999/xhtml/vocab#chapter",copyright:"http://www.w3.org/1999/xhtml/vocab#copyright",first:"http://www.w3.org/1999/xhtml/vocab#first",glossary:"http://www.w3.org/1999/xhtml/vocab#glossary",help:"http://www.w3.org/1999/xhtml/vocab#help",icon:"http://www.w3.org/1999/xhtml/vocab#icon",index:"http://www.w3.org/1999/xhtml/vocab#index",last:"http://www.w3.org/1999/xhtml/vocab#last",license:"http://www.w3.org/1999/xhtml/vocab#license",meta:"http://www.w3.org/1999/xhtml/vocab#meta",next:"http://www.w3.org/1999/xhtml/vocab#next",prev:"http://www.w3.org/1999/xhtml/vocab#prev",previous:"http://www.w3.org/1999/xhtml/vocab#previous",section:"http://www.w3.org/1999/xhtml/vocab#section",start:"http://www.w3.org/1999/xhtml/vocab#start",stylesheet:"http://www.w3.org/1999/xhtml/vocab#stylesheet",subsection:"http://www.w3.org/1999/xhtml/vocab#subsection",top:"http://www.w3.org/1999/xhtml/vocab#top",up:"http://www.w3.org/1999/xhtml/vocab#up",p3pv1:"http://www.w3.org/1999/xhtml/vocab#p3pv1"}},Xfe={"@context":{as:"https://www.w3.org/ns/activitystreams#",cat:"http://www.w3.org/ns/dcat#",cc:"http://creativecommons.org/ns#",cnt:"http://www.w3.org/2008/content#",csvw:"http://www.w3.org/ns/csvw#",ctag:"http://commontag.org/ns#",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcat:"http://www.w3.org/ns/dcat#",dcterms:"http://purl.org/dc/terms/",dqv:"http://www.w3.org/ns/dqv#",duv:"https://www.w3.org/TR/vocab-duv#",earl:"http://www.w3.org/ns/earl#",foaf:"http://xmlns.com/foaf/0.1/",gldp:"http://www.w3.org/ns/people#",gr:"http://purl.org/goodrelations/v1#",grddl:"http://www.w3.org/2003/g/data-view#",ht:"http://www.w3.org/2006/http#",ical:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",ma:"http://www.w3.org/ns/ma-ont#",oa:"http://www.w3.org/ns/oa#",odrl:"http://www.w3.org/ns/odrl/2/",og:"http://ogp.me/ns#",org:"http://www.w3.org/ns/org#",owl:"http://www.w3.org/2002/07/owl#",prov:"http://www.w3.org/ns/prov#",ptr:"http://www.w3.org/2009/pointers#",qb:"http://purl.org/linked-data/cube#",rev:"http://purl.org/stuff/rev#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfa:"http://www.w3.org/ns/rdfa#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rif:"http://www.w3.org/2007/rif#",rr:"http://www.w3.org/ns/r2rml#",schema:"http://schema.org/",sd:"http://www.w3.org/ns/sparql-service-description#",sioc:"http://rdfs.org/sioc/ns#",skos:"http://www.w3.org/2004/02/skos/core#",skosxl:"http://www.w3.org/2008/05/skos-xl#",ssn:"http://www.w3.org/ns/ssn/",sosa:"http://www.w3.org/ns/sosa/",time:"http://www.w3.org/2006/time#",v:"http://rdf.data-vocabulary.org/#",vcard:"http://www.w3.org/2006/vcard/ns#",void:"http://rdfs.org/ns/void#",wdr:"http://www.w3.org/2007/05/powder#",wdrs:"http://www.w3.org/2007/05/powder-s#",xhv:"http://www.w3.org/1999/xhtml/vocab#",xml:"http://www.w3.org/XML/1998/namespace",xsd:"http://www.w3.org/2001/XMLSchema#",describedby:"http://www.w3.org/2007/05/powder-s#describedby",license:"http://www.w3.org/1999/xhtml/vocab#license",role:"http://www.w3.org/1999/xhtml/vocab#role"}},_u={},o$;function FF(){return o$||(o$=1,Object.defineProperty(_u,"__esModule",{value:!0}),_u.RDFA_CONTENTTYPES=_u.RDFA_FEATURES=void 0,_u.RDFA_FEATURES={"":{baseTag:!0,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},core:{baseTag:!1,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!1,datetimeAttribute:!1,timeTag:!1,htmlDatatype:!1,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!1},html:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0},xhtml:{baseTag:!0,xmlBase:!1,langAttribute:!0,onlyAllowUriRelRevIfProperty:!0,inheritSubjectInHeadBody:!0,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!0,copyRdfaPatterns:!0,xmlnsPrefixMappings:!0,xhtmlInitialContext:!0,roleAttribute:!0},xml:{baseTag:!1,xmlBase:!0,langAttribute:!0,onlyAllowUriRelRevIfProperty:!1,inheritSubjectInHeadBody:!1,datetimeAttribute:!0,timeTag:!0,htmlDatatype:!1,copyRdfaPatterns:!1,xmlnsPrefixMappings:!0,xhtmlInitialContext:!1,roleAttribute:!0}},_u.RDFA_CONTENTTYPES={"text/html":"html","application/xhtml+xml":"xhtml","application/xml":"xml","text/xml":"xml","image/svg+xml":"xml"}),_u}var p_={},mu={},y_={},s$;function u$(){if(s$)return y_;s$=1,Object.defineProperty(y_,"__esModule",{value:!0}),y_.BlankNode=void 0;class a{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}}return y_.BlankNode=a,y_}var b_={},__={},c$;function l$(){if(c$)return __;c$=1,Object.defineProperty(__,"__esModule",{value:!0}),__.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}return __.DefaultGraph=a,a.INSTANCE=new a,__}var m_={},g_={},d$;function NF(){if(d$)return g_;d$=1,Object.defineProperty(g_,"__esModule",{value:!0}),g_.NamedNode=void 0;class a{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}}return g_.NamedNode=a,g_}var f$;function h$(){if(f$)return m_;f$=1,Object.defineProperty(m_,"__esModule",{value:!0}),m_.Literal=void 0;const a=NF();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return m_.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),m_}var v_={},p$;function y$(){if(p$)return v_;p$=1,Object.defineProperty(v_,"__esModule",{value:!0}),v_.Quad=void 0;class a{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}}return v_.Quad=a,v_}var T_={},b$;function _$(){if(b$)return T_;b$=1,Object.defineProperty(T_,"__esModule",{value:!0}),T_.Variable=void 0;class a{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}}return T_.Variable=a,T_}var m$;function Wfe(){if(m$)return b_;m$=1,Object.defineProperty(b_,"__esModule",{value:!0}),b_.DataFactory=void 0;const a=u$(),t=l$(),o=h$(),n=NF(),r=y$(),e=_$();let i=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return b_.DataFactory=s,b_}var g$;function Jfe(){return g$||(g$=1,function(a){var t=mu&&mu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=mu&&mu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(u$(),a),o(Wfe(),a),o(l$(),a),o(h$(),a),o(NF(),a),o(y$(),a),o(_$(),a)}(mu)),mu}var v$;function T$(){if(v$)return p_;v$=1,Object.defineProperty(p_,"__esModule",{value:!0}),p_.Util=void 0;const a=Sr(),t=FF(),o=Jfe();class n{constructor(e,i){this.dataFactory=e||new o.DataFactory,this.baseIRI=this.dataFactory.namedNode(i||""),this.baseIRIDocument=this.baseIRI}static parsePrefixes(e,i,s){const c={};if(s)for(const u in e)u.startsWith("xmlns")&&(c[u.substr(6)]=e[u]);if(e.prefix||Object.keys(c).length>0){const u=Object.assign(Object.assign({},i),c);if(e.prefix){let l;for(;l=n.PREFIX_REGEX.exec(e.prefix);)u[l[1]]=l[2]}return u}else return i}static expandPrefixedTerm(e,i){const s=e.indexOf(":");let c,u;if(s>=0&&(c=e.substr(0,s),u=e.substr(s+1)),c==="")return"http://www.w3.org/1999/xhtml/vocab#"+u;if(c){const l=i.prefixesAll[c];if(l)return l+u}if(e){const l=i.prefixesAll[e.toLocaleLowerCase()];if(l)return l}return e}static isValidIri(e){return n.IRI_REGEX.test(e)}static contentTypeToProfile(e){return t.RDFA_CONTENTTYPES[e]||""}getBaseIRI(e){let i=e;const s=i.indexOf("#");return s>=0&&(i=i.substr(0,s)),this.dataFactory.namedNode((0,a.resolve)(i,this.baseIRI.value))}getResourceOrBaseIri(e,i){return e===!0?this.getBaseIriTerm(i):e}getBaseIriTerm(e){return e.localBaseIRI||this.baseIRI}createVocabIris(e,i,s,c){return e.split(/\s+/).filter(u=>u&&(s||u.indexOf(":")>=0)).map(u=>this.createIri(u,i,!0,!0,c)).filter(u=>u!=null)}createLiteral(e,i){if(i.interpretObjectAsTime&&!i.datatype){for(const s of n.TIME_REGEXES)if(e.match(s.regex)){i.datatype=this.dataFactory.namedNode(n.XSD+s.type);break}}return this.dataFactory.literal(e,i.datatype||i.language)}createBlankNode(){return this.blankNodeFactory?this.blankNodeFactory():this.dataFactory.blankNode()}createIri(e,i,s,c,u){if(e=e||"",!c)return s||(e=(0,a.resolve)(e,this.getBaseIriTerm(i).value)),n.isValidIri(e)?this.dataFactory.namedNode(e):null;if(e.length>0&&e[0]==="["&&e[e.length-1]==="]"&&(e=e.substr(1,e.length-2),e.indexOf(":")<0))return null;if(e.startsWith("_:"))return u?this.dataFactory.blankNode(e.substr(2)||"b_identity"):null;if(s&&i.vocab&&e.indexOf(":")<0)return this.dataFactory.namedNode(i.vocab+e);let l=n.expandPrefixedTerm(e,i);return s?e!==l&&(l=(0,a.resolve)(l,this.baseIRIDocument.value)):l=(0,a.resolve)(l,this.getBaseIriTerm(i).value),n.isValidIri(l)?this.dataFactory.namedNode(l):null}}return p_.Util=n,n.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n.XSD="http://www.w3.org/2001/XMLSchema#",n.RDFA="http://www.w3.org/ns/rdfa#",n.PREFIX_REGEX=/\s*([^:\s]*)*:\s*([^\s]*)*\s*/g,n.TIME_REGEXES=[{regex:/^-?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9])?S)?)?$/,type:"duration"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"dateTime"},{regex:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,type:"date"},{regex:/^[0-9][0-9]:[0-9][0-9]:[0-9][0-9]((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,type:"time"},{regex:/^[0-9]+-[0-9][0-9]$/,type:"gYearMonth"},{regex:/^[0-9]+$/,type:"gYear"}],n.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`]*$/,p_}var w$;function Kfe(){if(w$)return h_;w$=1,Object.defineProperty(h_,"__esModule",{value:!0}),h_.RdfaParser=void 0;const a=zfe(),t=qt(),o=kfe,n=Xfe,r=FF(),e=T$();let i=class pae extends t.Transform{constructor(c){super({readableObjectMode:!0}),this.activeTagStack=[],c=c||{},this.options=c,this.util=new e.Util(c.dataFactory,c.baseIRI),this.defaultGraph=c.defaultGraph||this.util.dataFactory.defaultGraph();const u=c.contentType?e.Util.contentTypeToProfile(c.contentType):c.profile||"";this.features=c.features||r.RDFA_FEATURES[u],this.htmlParseListener=c.htmlParseListener,this.rdfaPatterns=this.features.copyRdfaPatterns?{}:null,this.pendingRdfaPatternCopies=this.features.copyRdfaPatterns?{}:null,this.parser=this.initializeParser(u==="xml"),this.activeTagStack.push({incompleteTriples:[],inlist:!1,language:c.language,listMapping:{},listMappingLocal:{},name:"",prefixesAll:Object.assign(Object.assign({},n["@context"]),this.features.xhtmlInitialContext?o["@context"]:{}),prefixesCustom:{},skipElement:!1,vocab:c.vocab})}import(c){const u=new t.PassThrough({readableObjectMode:!0});c.on("error",f=>l.emit("error",f)),c.on("data",f=>u.push(f)),c.on("end",()=>u.push(null));const l=u.pipe(new pae(this.options));return l}_transform(c,u,l){this.parser.write(c.toString()),l()}_flush(c){this.parser.end(),c()}onTagOpen(c,u){let l=this.activeTagStack.length-1;for(;l>0&&this.activeTagStack[l].skipElement;)l--;let f=this.activeTagStack[l];l!==this.activeTagStack.length-1&&(f=Object.assign(Object.assign({},f),{language:this.activeTagStack[this.activeTagStack.length-1].language,prefixesAll:this.activeTagStack[this.activeTagStack.length-1].prefixesAll,prefixesCustom:this.activeTagStack[this.activeTagStack.length-1].prefixesCustom,vocab:this.activeTagStack[this.activeTagStack.length-1].vocab}));const d={collectChildTags:f.collectChildTags,incompleteTriples:[],inlist:"inlist"in u,listMapping:[],listMappingLocal:f.listMapping,localBaseIRI:f.localBaseIRI,name:c,prefixesAll:null,prefixesCustom:null,skipElement:!1};if(this.activeTagStack.push(d),d.collectChildTags){for(const w of Object.keys(f.prefixesCustom).sort()){const O=f.prefixesCustom[w],F=w===""?"xmlns":"xmlns:"+w;F in u||(u[F]=O)}const T=Object.keys(u).map(w=>`${w}="${u[w]}"`).join(" ");if(d.text=[`<${c}${T?" "+T:""}>`],this.features.skipHandlingXmlLiteralChildren)return}let h=!0,p=!0;if(this.features.onlyAllowUriRelRevIfProperty&&("property"in u&&"rel"in u&&(h=!1,u.rel.indexOf(":")<0&&delete u.rel),"property"in u&&"rev"in u&&(p=!1,u.rev.indexOf(":")<0&&delete u.rev)),this.features.copyRdfaPatterns){if(f.collectedPatternTag){const T={attributes:u,children:[],name:c,referenced:!1,rootPattern:!1,text:[]};f.collectedPatternTag.children.push(T),d.collectedPatternTag=T;return}if(u.typeof==="rdfa:Pattern"){d.collectedPatternTag={attributes:u,children:[],name:c,parentTag:f,referenced:!1,rootPattern:!0,text:[]};return}if(u.property==="rdfa:copy"){const T=u.resource||u.href||u.src;this.rdfaPatterns[T]?this.emitPatternCopy(f,this.rdfaPatterns[T],T):(this.pendingRdfaPatternCopies[T]||(this.pendingRdfaPatternCopies[T]=[]),this.pendingRdfaPatternCopies[T].push(f));return}}this.features.baseTag&&c==="base"&&u.href&&(this.util.baseIRI=this.util.getBaseIRI(u.href)),this.features.xmlBase&&u["xml:base"]&&(d.localBaseIRI=this.util.getBaseIRI(u["xml:base"])),this.features.timeTag&&c==="time"&&!u.datatype&&(d.interpretObjectAsTime=!0);let _,g,y;if("vocab"in u?u.vocab?(d.vocab=u.vocab,this.emitTriple(this.util.getBaseIriTerm(d),this.util.dataFactory.namedNode(e.Util.RDFA+"usesVocabulary"),this.util.dataFactory.namedNode(d.vocab))):d.vocab=this.activeTagStack[0].vocab:d.vocab=f.vocab,d.prefixesCustom=e.Util.parsePrefixes(u,f.prefixesCustom,this.features.xmlnsPrefixMappings),d.prefixesAll=Object.keys(d.prefixesCustom).length>0?Object.assign(Object.assign({},f.prefixesAll),d.prefixesCustom):f.prefixesAll,this.features.roleAttribute&&u.role){const T=u.id?this.util.createIri("#"+u.id,d,!1,!1,!1):this.util.createBlankNode(),w=d.vocab;d.vocab="http://www.w3.org/1999/xhtml/vocab#";for(const O of this.util.createVocabIris(u.role,d,!0,!1))this.emitTriple(T,this.util.dataFactory.namedNode("http://www.w3.org/1999/xhtml/vocab#role"),O);d.vocab=w}"xml:lang"in u||this.features.langAttribute&&"lang"in u?d.language=u["xml:lang"]||u.lang:d.language=f.language;const m=this.activeTagStack.length===2;if(!("rel"in u)&&!("rev"in u)?"property"in u&&!("content"in u)&&!("datatype"in u)?("about"in u?(_=this.util.createIri(u.about,d,!1,!0,!0),d.explicitNewSubject=!!_):m?_=!0:f.object&&(_=f.object),"typeof"in u&&("about"in u&&(y=this.util.createIri(u.about,d,!1,!0,!0)),!y&&m&&(y=!0),!y&&"resource"in u&&(y=this.util.createIri(u.resource,d,!1,!0,!0)),!y&&("href"in u||"src"in u)&&(y=this.util.createIri(u.href||u.src,d,!1,!1,!0)),!y&&this.isInheritSubjectInHeadBody(c)&&(y=_),y||(y=this.util.createBlankNode()),g=y)):(("about"in u||"resource"in u)&&(_=this.util.createIri(u.about||u.resource,d,!1,!0,!0),d.explicitNewSubject=!!_),!_&&("href"in u||"src"in u)&&(_=this.util.createIri(u.href||u.src,d,!1,!1,!0),d.explicitNewSubject=!!_),_||(m?_=!0:this.isInheritSubjectInHeadBody(c)?_=f.object:"typeof"in u?(_=this.util.createBlankNode(),d.explicitNewSubject=!0):f.object&&(_=f.object,"property"in u||(d.skipElement=!0))),"typeof"in u&&(y=_)):("about"in u?(_=this.util.createIri(u.about,d,!1,!0,!0),d.explicitNewSubject=!!_,"typeof"in u&&(y=_)):m?_=!0:f.object&&(_=f.object),"resource"in u&&(g=this.util.createIri(u.resource,d,!1,!0,!0)),g||("href"in u||"src"in u?g=this.util.createIri(u.href||u.src,d,!1,!1,!0):"typeof"in u&&!("about"in u)&&!this.isInheritSubjectInHeadBody(c)&&(g=this.util.createBlankNode())),"typeof"in u&&!("about"in u)&&(this.isInheritSubjectInHeadBody(c)?y=_:y=g)),y)for(const T of this.util.createVocabIris(u.typeof,d,!0,!0))this.emitTriple(this.util.getResourceOrBaseIri(y,d),this.util.dataFactory.namedNode(e.Util.RDF+"type"),T);if(_&&(d.listMapping={}),g){if("rel"in u&&"inlist"in u)for(const T of this.util.createVocabIris(u.rel,d,h,!1))this.addListMapping(d,_,T,g);if(!("rel"in u&&"inlist"in u)){if("rel"in u)for(const T of this.util.createVocabIris(u.rel,d,h,!1))this.emitTriple(this.util.getResourceOrBaseIri(_,d),T,this.util.getResourceOrBaseIri(g,d));if("rev"in u)for(const T of this.util.createVocabIris(u.rev,d,p,!1))this.emitTriple(this.util.getResourceOrBaseIri(g,d),T,this.util.getResourceOrBaseIri(_,d))}}if(!g){if("rel"in u)if("inlist"in u)for(const T of this.util.createVocabIris(u.rel,d,h,!1))this.addListMapping(d,_,T,null),d.incompleteTriples.push({predicate:T,reverse:!1,list:!0});else for(const T of this.util.createVocabIris(u.rel,d,h,!1))d.incompleteTriples.push({predicate:T,reverse:!1});if("rev"in u)for(const T of this.util.createVocabIris(u.rev,d,p,!1))d.incompleteTriples.push({predicate:T,reverse:!0});d.incompleteTriples.length>0&&(g=this.util.createBlankNode())}if("property"in u){d.predicates=this.util.createVocabIris(u.property,d,!0,!1);let T;if("datatype"in u?(d.datatype=this.util.createIri(u.datatype,d,!0,!0,!1),d.datatype&&(d.datatype.value===e.Util.RDF+"XMLLiteral"||this.features.htmlDatatype&&d.datatype.value===e.Util.RDF+"HTML")&&(d.collectChildTags=!0)):(!("rev"in u)&&!("rel"in u)&&!("content"in u)&&("resource"in u&&(T=this.util.createIri(u.resource,d,!1,!0,!0)),!T&&"href"in u&&(T=this.util.createIri(u.href,d,!1,!1,!0)),!T&&"src"in u&&(T=this.util.createIri(u.src,d,!1,!1,!0))),"typeof"in u&&!("about"in u)&&(T=y)),"content"in u){const w=this.util.createLiteral(u.content,d);if("inlist"in u)for(const O of d.predicates)this.addListMapping(d,_,O,w);else{const O=this.util.getResourceOrBaseIri(_,d);for(const F of d.predicates)this.emitTriple(O,F,w)}d.predicates=null}else if(this.features.datetimeAttribute&&"datetime"in u){d.interpretObjectAsTime=!0;const w=this.util.createLiteral(u.datetime,d);if("inlist"in u)for(const O of d.predicates)this.addListMapping(d,_,O,w);else{const O=this.util.getResourceOrBaseIri(_,d);for(const F of d.predicates)this.emitTriple(O,F,w)}d.predicates=null}else if(T){const w=this.util.getResourceOrBaseIri(T,d);if("inlist"in u)for(const O of d.predicates)this.addListMapping(d,_,O,w);else{const O=this.util.getResourceOrBaseIri(_,d);for(const F of d.predicates)this.emitTriple(O,F,w)}d.predicates=null}}let b=!1;if(!d.skipElement&&_&&f.incompleteTriples.length>0){b=!0;const T=this.util.getResourceOrBaseIri(f.subject,d),w=this.util.getResourceOrBaseIri(_,d);for(const O of f.incompleteTriples)if(O.reverse)this.emitTriple(w,O.predicate,T);else if(O.list){let F=null;for(let Q=this.activeTagStack.length-1;Q>=0;Q--)if(this.activeTagStack[Q].inlist){F=this.activeTagStack[Q];break}this.addListMapping(F,_,O.predicate,w)}else this.emitTriple(T,O.predicate,w)}!b&&f.incompleteTriples.length>0&&(d.incompleteTriples=d.incompleteTriples.concat(f.incompleteTriples)),d.subject=_||f.subject,d.object=g||_}onText(c){const u=this.activeTagStack[this.activeTagStack.length-1];if(this.features.copyRdfaPatterns&&u.collectedPatternTag){u.collectedPatternTag.text.push(c);return}u.text||(u.text=[]),u.text.push(c)}onTagClose(){const c=this.activeTagStack[this.activeTagStack.length-1],u=this.activeTagStack[this.activeTagStack.length-2];if(!(c.collectChildTags&&u.collectChildTags&&this.features.skipHandlingXmlLiteralChildren)){if(this.features.copyRdfaPatterns&&c.collectedPatternTag&&c.collectedPatternTag.rootPattern){const l=c.collectedPatternTag.attributes.resource;if(delete c.collectedPatternTag.attributes.resource,delete c.collectedPatternTag.attributes.typeof,this.rdfaPatterns[l]=c.collectedPatternTag,this.pendingRdfaPatternCopies[l]){for(const f of this.pendingRdfaPatternCopies[l])this.emitPatternCopy(f,c.collectedPatternTag,l);delete this.pendingRdfaPatternCopies[l]}this.activeTagStack.pop();return}if(c.predicates){const l=this.util.getResourceOrBaseIri(c.subject,c);let f=c.text||[];c.collectChildTags&&u.collectChildTags&&(f=f.slice(1));const d=this.util.createLiteral(f.join(""),c);if(c.inlist)for(const h of c.predicates)this.addListMapping(c,l,h,d);else for(const h of c.predicates)this.emitTriple(l,h,d);u.predicates||(c.text=null)}if(c.object&&Object.keys(c.listMapping).length>0){const l=this.util.getResourceOrBaseIri(c.object,c);for(const f in c.listMapping){const d=this.util.dataFactory.namedNode(f),h=c.listMapping[f];if(h.length>0){const p=h.map(()=>this.util.createBlankNode());for(let _=0;_<h.length;_++){const g=this.util.getResourceOrBaseIri(h[_],c);this.emitTriple(p[_],this.util.dataFactory.namedNode(e.Util.RDF+"first"),g),this.emitTriple(p[_],this.util.dataFactory.namedNode(e.Util.RDF+"rest"),_<h.length-1?p[_+1]:this.util.dataFactory.namedNode(e.Util.RDF+"nil"))}this.emitTriple(l,d,p[0])}else this.emitTriple(l,d,this.util.dataFactory.namedNode(e.Util.RDF+"nil"))}}}this.activeTagStack.pop(),c.collectChildTags&&c.text&&c.text.push(`</${c.name}>`),c.text&&u&&(u.text?u.text=u.text.concat(c.text):u.text=c.text)}onEnd(){if(this.features.copyRdfaPatterns){this.features.copyRdfaPatterns=!1;for(const c in this.rdfaPatterns){const u=this.rdfaPatterns[c];u.referenced||(u.attributes.typeof="rdfa:Pattern",u.attributes.resource=c,this.emitPatternCopy(u.parentTag,u,c),u.referenced=!1,delete u.attributes.typeof,delete u.attributes.resource)}for(const c in this.pendingRdfaPatternCopies)for(const u of this.pendingRdfaPatternCopies[c])this.activeTagStack.push(u),this.onTagOpen("link",{property:"rdfa:copy",href:c}),this.onTagClose(),this.activeTagStack.pop();this.features.copyRdfaPatterns=!0}}isInheritSubjectInHeadBody(c){return this.features.inheritSubjectInHeadBody&&(c==="head"||c==="body")}addListMapping(c,u,l,f){if(c.explicitNewSubject){const d=this.util.createBlankNode();this.emitTriple(this.util.getResourceOrBaseIri(u,c),l,d),this.emitTriple(d,this.util.dataFactory.namedNode(e.Util.RDF+"first"),this.util.getResourceOrBaseIri(f,c)),this.emitTriple(d,this.util.dataFactory.namedNode(e.Util.RDF+"rest"),this.util.dataFactory.namedNode(e.Util.RDF+"nil"))}else{let d=c.listMappingLocal[l.value];d||(c.listMappingLocal[l.value]=d=[]),f&&d.push(f)}}emitTriple(c,u,l){c.termType==="NamedNode"&&c.value.indexOf(":")<0||u.termType==="NamedNode"&&u.value.indexOf(":")<0||l.termType==="NamedNode"&&l.value.indexOf(":")<0||this.push(this.util.dataFactory.quad(c,u,l,this.defaultGraph))}emitPatternCopy(c,u,l){if(this.activeTagStack.push(c),u.referenced=!0,!u.constructedBlankNodes)u.constructedBlankNodes=[],this.util.blankNodeFactory=()=>{const f=this.util.dataFactory.blankNode();return u.constructedBlankNodes.push(f),f};else{let f=0;this.util.blankNodeFactory=()=>u.constructedBlankNodes[f++]}this.emitPatternCopyAbsolute(u,!0,l),this.util.blankNodeFactory=null,this.activeTagStack.pop()}emitPatternCopyAbsolute(c,u,l){if(!(!u&&c.attributes.property==="rdfa:copy"&&c.attributes.href===l)){this.onTagOpen(c.name,c.attributes);for(const f of c.text)this.onText(f);for(const f of c.children)this.emitPatternCopyAbsolute(f,!1,l);this.onTagClose()}}initializeParser(c){return new a.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(u){this.emit("error",u)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(u){this.emit("error",u)}},onopentag:(u,l)=>{try{this.onTagOpen(u,l),this.htmlParseListener&&this.htmlParseListener.onTagOpen(u,l)}catch(f){this.emit("error",f)}},ontext:u=>{try{this.onText(u),this.htmlParseListener&&this.htmlParseListener.onText(u)}catch(l){this.emit("error",l)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:c})}};return h_.RdfaParser=i,h_}var S$;function O$(){return S$||(S$=1,function(a){var t=fu&&fu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=fu&&fu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Pfe(),a),o(Lfe(),a),o(jfe(),a),o(Kfe(),a),o(FF(),a),o(T$(),a)}(fu)),fu}var A$;function Yfe(){if(A$)return f_;A$=1,Object.defineProperty(f_,"__esModule",{value:!0}),f_.ActorRdfParseXmlRdfa=void 0;const a=Nh(),t=tt(),o=O$();let n=class extends a.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,i,s){var f;const c=e.context.getSafe(t.KeysInitQuery.dataFactory),u=(e.headers&&e.headers.get("content-language"))??void 0;e.data.on("error",d=>l.emit("error",d));const l=e.data.pipe(new o.RdfaParser({dataFactory:c,baseIRI:(f=e.metadata)==null?void 0:f.baseIRI,profile:"xml",language:u}));return{data:l,metadata:{triples:!0}}}};return f_.ActorRdfParseXmlRdfa=n,f_}var E$;function Zfe(){return E$||(E$=1,function(a){var t=du&&du.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=du&&du.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Yfe(),a)}(du)),du}var gu={},w_={},qh={},S_={},x$;function I$(){if(x$)return S_;x$=1,Object.defineProperty(S_,"__esModule",{value:!0}),S_.promisifyEventEmitter=void 0;function a(t,o){return new Promise((n,r)=>{t.on("end",()=>n(o)),t.on("error",r)})}return S_.promisifyEventEmitter=a,S_}var R$;function Ch(){if(R$)return qh;R$=1;var a=qh&&qh.__awaiter||function(n,r,e,i){function s(c){return c instanceof e?c:new e(function(u){u(c)})}return new(e||(e=Promise))(function(c,u){function l(h){try{d(i.next(h))}catch(p){u(p)}}function f(h){try{d(i.throw(h))}catch(p){u(p)}}function d(h){h.done?c(h.value):s(h.value).then(l,f)}d((i=i.apply(n,r||[])).next())})};Object.defineProperty(qh,"__esModule",{value:!0}),qh.stringify=o;const t=I$();function o(n){return a(this,void 0,void 0,function*(){let r="";return n.on("data",e=>{r+=e}),yield(0,t.promisifyEventEmitter)(n),r})}return qh}var IA={},DF,F$;function ehe(){if(F$)return DF;F$=1;var a=function(){var t=function(Qe,Je,rt,it){for(rt=rt||{},it=Qe.length;it--;rt[Qe[it]]=Je);return rt},o=[7,12,13,14,15,16,20,25,115,130],n=[7,13,16,20,25,115,130],r=[7,13,16,115,130],e=[1,25],i=[1,29],s=[1,27],c=[1,28],u=[13,16,115,130],l=[13,16,28,38,40,42,44,46,48,53,56,61,67,85,87,92,93,95,96,102,110,111,115,119,120,126,128,129,130,131,132,133,134,135,136],f=[28,56],d=[1,42],h=[46,48,53,56],p=[1,54],_=[1,60],g=[1,56],y=[1,57],m=[1,58],b=[1,63],T=[1,64],w=[1,65],O=[1,66],F=[1,67],Q=[1,68],j=[1,75],x=[28,46,48,53,56],I=[28,42,46,48,53,56],D=[13,16,28,38,40,42,44,46,48,53,56,92,115,119,120,130,131,132,133,134,135,136],C=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,119,120,126,128,129,130,131,132,133,134,135,136],X=[13,16,38,40,44,92,115,119,120,130,131,132,133,134,135,136],z=[13,16,28,38,40,42,44,46,48,53,56,67,85,87,92,95,96,115,117,118,119,120,126,128,129,130,131,132,133,134,135,136],J=[13,16,28,56,115,130],ie=[13,16,38,58,87,96,109,115,126,130],se=[1,116],ye=[1,112],K=[1,108],Te=[1,114],Ne=[1,111],_e=[7,13,16,20,25,44,48,53,56,67,85,87,95,96,115,128,129,130],$=[48,53],He=[48,53,87,96,126],qe=[13,16,44,48,53,56,85,87,95,96,115,128,129,130],Ce=[1,126],xe=[13,16,40,44,48,53,56,85,87,95,96,115,128,129,130],we=[1,129],ee=[48,53,67,87,96,126],M=[13,16,40,44,48,53,56,67,85,87,95,96,115,128,129,130],B=[1,133],R=[13,16,40,44,48,53,56,67,85,87,95,96,102,115,128,129,130],q=[13,16,40,44,48,53,56,67,85,87,93,95,96,102,110,111,115,128,129,130],W=[1,151],re=[1,153],Y=[1,156],ue=[1,157],te=[1,158],le=[1,167],Oe=[1,175],Se=[13,16,44,48,53,56,67,85,87,95,96,115,128,129,130],Ve=[13,16,44,48,53,56,67,85,87,95,96,115,126,128,129,130],ke=[13,16,46,92,115,119,120,130,131,132,133,134,135,136],Ae={trace:function(){},yy:{},symbols_:{error:2,shaclDoc:3,shaclDoc_repetition0:4,shaclDoc_repetition1:5,ttlSection:6,EOF:7,directive:8,baseDecl:9,importsDecl:10,prefixDecl:11,KW_BASE:12,IRIREF:13,KW_IMPORTS:14,KW_PREFIX:15,PNAME_NS:16,nodeShapeIri:17,iri:18,nodeShape:19,KW_SHAPE:20,nodeShape_option0:21,nodeShape_option1:22,nodeShapeBody:23,shapeClass:24,KW_SHAPE_CLASS:25,shapeClass_option0:26,turtleAnnotation:27,";":28,turtleAnnotation2:29,predicate:30,turtleAnnotation2_option0:31,objectList:32,object:33,objectList_repetition0:34,iriOrLiteral:35,blankNodeSection:36,list:37,"(":38,list_repetition0:39,")":40,objectTail:41,",":42,LB:43,"[":44,RB:45,"]":46,LP:47,"%":48,RP:49,pcSection:50,iriHead:51,ttlStatement:52,".":53,ttlSection_repetition0:54,startNodeShape:55,"{":56,endNodeShape:57,"}":58,nodeShapeBody_repetition0:59,targetClass:60,"->":61,targetClass_repetition_plus0:62,constraint:63,constraint_group0:64,constraint_option0:65,orNotComponent:66,"|":67,nodeNot:68,nodeOrEmit:69,nodeOr:70,nodeOr_repetition_plus0:71,nodeValue:72,negation:73,nodeValue_group0:74,"=":75,iriOrLiteralOrArray:76,propertyShape:77,path:78,propertyShape_repetition0:79,propertyOrComponent:80,propertyNot:81,propertyOr:82,propertyOr_repetition_plus0:83,propertyAtom:84,NODEKIND:85,shapeRef:86,PARAM:87,propertyCount:88,propertyMinCount:89,"..":90,propertyMaxCount:91,INTEGER:92,"*":93,shapeRef_group0:94,"@":95,"!":96,pathAlternative:97,additionalAlternative:98,pathSequence:99,pathAlternative_repetition_plus0:100,additionalSequence:101,"/":102,pathEltOrInverse:103,pathSequence_repetition_plus0:104,pathElt:105,pathPrimary:106,pathMod:107,pathInverse:108,"^":109,"?":110,"+":111,iriOrLiteralOrArray_repetition0:112,literal:113,iri_group0:114,a:115,string:116,LANGTAG:117,"^^":118,DECIMAL:119,DOUBLE:120,literal_group0:121,string_group0:122,string_group1:123,shaclDoc_repetition1_group0:124,constraint_group0_repetition_plus0:125,TARGET:126,propertyShape_repetition0_group0:127,ATPNAME_LN:128,ATPNAME_NS:129,PNAME_LN:130,KW_TRUE:131,KW_FALSE:132,STRING_LITERAL1:133,STRING_LITERAL2:134,STRING_LITERAL_LONG1:135,STRING_LITERAL_LONG2:136,$accept:0,$end:1},terminals_:{2:"error",7:"EOF",12:"KW_BASE",13:"IRIREF",14:"KW_IMPORTS",15:"KW_PREFIX",16:"PNAME_NS",20:"KW_SHAPE",25:"KW_SHAPE_CLASS",28:";",38:"(",40:")",42:",",44:"[",46:"]",48:"%",53:".",56:"{",58:"}",61:"->",67:"|",75:"=",85:"NODEKIND",87:"PARAM",90:"..",92:"INTEGER",93:"*",95:"@",96:"!",102:"/",109:"^",110:"?",111:"+",115:"a",117:"LANGTAG",118:"^^",119:"DECIMAL",120:"DOUBLE",126:"TARGET",128:"ATPNAME_LN",129:"ATPNAME_NS",130:"PNAME_LN",131:"KW_TRUE",132:"KW_FALSE",133:"STRING_LITERAL1",134:"STRING_LITERAL2",135:"STRING_LITERAL_LONG1",136:"STRING_LITERAL_LONG2"},productions_:[0,[3,4],[8,1],[8,1],[8,1],[9,2],[10,2],[11,3],[17,1],[19,5],[24,4],[27,2],[29,2],[30,2],[32,2],[33,1],[33,1],[33,1],[37,3],[41,2],[43,1],[45,1],[36,3],[47,1],[49,1],[50,3],[51,1],[52,3],[6,1],[55,1],[57,1],[23,3],[60,2],[63,3],[66,2],[69,1],[70,1],[70,2],[68,1],[68,2],[72,3],[77,2],[80,2],[82,1],[82,2],[81,1],[81,2],[84,1],[84,1],[84,1],[84,3],[84,1],[88,5],[89,1],[91,1],[91,1],[86,1],[86,2],[73,1],[78,1],[98,2],[97,1],[97,2],[101,2],[99,1],[99,2],[105,1],[105,2],[103,1],[103,2],[108,1],[107,1],[107,1],[107,1],[106,1],[106,3],[76,1],[76,3],[35,1],[35,1],[18,1],[18,1],[18,1],[113,1],[113,2],[113,3],[113,1],[113,1],[113,1],[113,1],[116,1],[116,1],[4,0],[4,2],[124,1],[124,1],[5,0],[5,2],[21,0],[21,1],[22,0],[22,1],[26,0],[26,1],[31,0],[31,1],[34,0],[34,2],[39,0],[39,2],[54,0],[54,2],[59,0],[59,2],[62,1],[62,2],[125,1],[125,2],[64,1],[64,1],[65,0],[65,1],[71,1],[71,2],[74,1],[74,1],[127,1],[127,1],[79,0],[79,2],[83,1],[83,2],[94,1],[94,1],[100,1],[100,2],[104,1],[104,2],[112,0],[112,2],[114,1],[114,1],[121,1],[121,1],[122,1],[122,1],[123,1],[123,1]],performAction:function(Je,rt,it,ht,st,ot,Kr){var nt=ot.length-1;switch(st){case 1:this.$=H(Ee.factory.namedNode(Re("")),Ee.factory.namedNode(E),Ee.factory.namedNode(Xe+"Ontology"));break;case 5:Ee.base=Ee.factory.namedNode(ot[nt].slice(1,-1)),Ee.n3Parser._setBase(Ee.base.value);break;case 6:this.$=H(Ee.base,Ee.factory.namedNode(Xe+"imports"),Ee.factory.namedNode(ot[nt].slice(1,-1)));break;case 7:this.$=Ee.prefixes[ot[nt-1].substr(0,ot[nt-1].length-1)]=Re(ot[nt]);break;case 8:Ee.nodeShapeStack=!1,H(Ee.currentNodeShape=ot[nt],Ee.factory.namedNode(E),Ee.factory.namedNode(pe+"NodeShape"));break;case 10:this.$=H(Ee.currentNodeShape,Ee.factory.namedNode(E),Ee.factory.namedNode(ne+"Class"));break;case 11:this.$=oe();break;case 13:this.$=ot[nt].forEach(Be=>H(Ee.currentNodeShape,ot[nt-1],Be));break;case 14:this.$=[ot[nt-1],...ot[nt]];break;case 18:this.$=ve(ot[nt-1],!0);break;case 19:case 34:case 42:case 60:case 63:this.$=ot[nt];break;case 20:Ee.tempCurrentNodeShape=Ee.currentNodeShape,this.$=Ee.currentNodeShape=Ue();break;case 21:Ee.currentNodeShape=Ee.tempCurrentNodeShape;break;case 22:case 31:this.$=ot[nt-2];break;case 23:Ee.tempCurrentNodeShape=Ee.currentNodeShape,Ee.currentNodeShape=Ee.currentPropertyNode;break;case 24:Ee.currentNodeShape=Ee.tempCurrentNodeShape;break;case 26:Ee.currentNodeShape=ot[nt];break;case 29:Ee.nodeShapeStack?(Ee.nodeShapeStack.push(Ee.currentNodeShape),H(Ee.currentPropertyNode,Ee.factory.namedNode(pe+"node"),Ee.currentNodeShape=Ue())):Ee.nodeShapeStack=[],this.$=Ee.currentNodeShape;break;case 30:Ee.nodeShapeStack.length>0&&(Ee.currentNodeShape=Ee.nodeShapeStack.pop());break;case 32:this.$=ot[nt].forEach(Be=>{H(Ee.currentNodeShape,Ee.factory.namedNode(pe+"targetClass"),Be)});break;case 35:this.$=H(Ee.currentNodeShape,Ee.factory.namedNode(pe+ot[nt][0]),ot[nt][1]);break;case 36:break;case 37:const ge=ve([ot[nt-1],...ot[nt]].map(Be=>{const ct=Ue();return H(ct,Ee.factory.namedNode(pe+Be[0]),Be[1]),ct}));this.$=["or",ge];break;case 39:case 46:this.$=G("not",...ot[nt]);break;case 40:case 50:this.$=[ot[nt-2],ot[nt]];break;case 43:this.$=ot[nt]&&V(...ot[nt]);break;case 44:this.$=V("or",ve([ot[nt-1],...ot[nt]].map(Be=>{const ct=Ue();return H(ct,Ee.factory.namedNode(pe+Be[0]),Be[1]),ct})));break;case 47:this.$=[Ie[ot[nt].value]?"datatype":"class",ot[nt]];break;case 48:this.$=["nodeKind",Ee.factory.namedNode(pe+ot[nt])];break;case 49:this.$=["node",Ee.factory.namedNode(ot[nt])];break;case 51:this.$=void 0;break;case 53:this.$=ot[nt]>0&&V("minCount",Pe(ot[nt],L));break;case 54:this.$=V("maxCount",Pe(ot[nt],L));break;case 56:this.$=ce(ot[nt].slice(1));break;case 57:this.$=Re(ot[nt]);break;case 59:H(Ee.currentNodeShape,Ee.factory.namedNode(pe+"property"),Ee.currentPropertyNode=Ue()),V("path",ot[nt]);break;case 62:const je=Ue();H(je,Ee.factory.namedNode(pe+"alternativePath"),ve([ot[nt-1],...ot[nt]])),this.$=je;break;case 65:this.$=ve([ot[nt-1],...ot[nt]]);break;case 67:H(this.$=Ue(),Ee.factory.namedNode(pe+ot[nt]),ot[nt-1]);break;case 69:H(this.$=Ue(),Ee.factory.namedNode(pe+"inversePath"),ot[nt]);break;case 71:this.$="zeroOrOnePath";break;case 72:this.$="zeroOrMorePath";break;case 73:this.$="oneOrMorePath";break;case 75:this.$=ot[nt-1];break;case 77:this.$=ve(ot[nt-1]);break;case 80:this.$=Ee.factory.namedNode(Re(ot[nt]));break;case 81:this.$=Ee.factory.namedNode(ce(ot[nt]));break;case 82:this.$=oe(Ee.factory.namedNode(E));break;case 83:this.$=Pe(ot[nt]);break;case 84:this.$=ze(ot[nt-1],lowercase(ot[nt].substr(1)));break;case 85:this.$=Pe(ot[nt-2],ot[nt]);break;case 86:this.$=Pe(ot[nt],L);break;case 87:this.$=Pe(ot[nt],U);break;case 88:this.$=Pe(ot[nt].toLowerCase(),Z);break;case 89:this.$=Pe(ot[nt].toLowerCase(),me);break;case 90:this.$=fe(ot[nt],1);break;case 91:this.$=fe(ot[nt],3);break;case 92:case 96:case 106:case 108:case 110:case 112:case 128:case 138:this.$=[];break;case 93:case 97:case 107:case 109:case 111:case 113:case 115:case 117:case 123:case 129:case 131:case 135:case 137:case 139:ot[nt-1].push(ot[nt]);break;case 114:case 116:case 122:case 130:case 134:case 136:this.$=[ot[nt]];break}},table:[t(o,[2,92],{3:1,4:2}),{1:[3]},t(n,[2,96],{5:3,8:4,9:5,10:6,11:7,12:[1,8],14:[1,9],15:[1,10]}),t(r,[2,110],{6:11,124:12,54:13,19:14,24:15,20:[1,16],25:[1,17]}),t(o,[2,93]),t(o,[2,2]),t(o,[2,3]),t(o,[2,4]),{13:[1,18]},{13:[1,19]},{16:[1,20]},{7:[1,21]},t(n,[2,97]),{7:[2,28],13:e,16:i,18:24,51:23,52:22,114:26,115:s,130:c},t(n,[2,94]),t(n,[2,95]),{13:e,16:i,17:30,18:31,114:26,115:s,130:c},{13:e,16:i,17:32,18:31,114:26,115:s,130:c},t(o,[2,5]),t(o,[2,6]),{13:[1,33]},{1:[2,1]},t(r,[2,111]),{13:e,16:i,18:36,29:34,30:35,114:26,115:s,130:c},t(u,[2,26]),t(l,[2,80]),t(l,[2,81]),t(l,[2,82]),t(l,[2,140]),t(l,[2,141]),t(f,[2,98],{21:37,60:38,61:[1,39]}),t([28,56,61],[2,8]),{26:40,27:41,28:d,56:[2,102]},t(o,[2,7]),{53:[1,43]},t(h,[2,104],{31:44,27:45,28:d}),{13:e,16:i,18:51,32:46,33:47,35:48,36:49,37:50,38:p,43:53,44:_,92:g,113:52,114:26,115:s,116:55,119:y,120:m,121:59,122:61,123:62,130:c,131:b,132:T,133:w,134:O,135:F,136:Q},{22:69,27:70,28:d,56:[2,100]},t(f,[2,99]),{13:e,16:i,18:72,62:71,114:26,115:s,130:c},{23:73,55:74,56:j},{56:[2,103]},{13:e,16:i,18:36,29:76,30:35,114:26,115:s,130:c},t(r,[2,27]),t(h,[2,12]),t(h,[2,105]),t(x,[2,13]),t(I,[2,106],{34:77}),t(D,[2,15]),t(D,[2,16]),t(D,[2,17]),t(C,[2,78]),t(C,[2,79]),{13:e,16:i,18:36,29:78,30:35,114:26,115:s,130:c},t(X,[2,108],{39:79}),t(C,[2,83],{117:[1,80],118:[1,81]}),t(C,[2,86]),t(C,[2,87]),t(C,[2,88]),t(C,[2,89]),t(u,[2,20]),t(z,[2,90]),t(z,[2,91]),t(C,[2,142]),t(C,[2,143]),t(z,[2,144]),t(z,[2,145]),t(z,[2,146]),t(z,[2,147]),{23:82,55:74,56:j},{56:[2,101]},t(f,[2,32],{114:26,18:83,13:e,16:i,115:s,130:c}),t(J,[2,114]),t(n,[2,10]),t(ie,[2,112],{59:84}),t(ie,[2,29]),t(h,[2,11]),t(x,[2,14],{41:85,42:[1,86]}),{45:87,46:[1,88]},{13:e,16:i,18:51,33:90,35:48,36:49,37:50,38:p,40:[1,89],43:53,44:_,92:g,113:52,114:26,115:s,116:55,119:y,120:m,121:59,122:61,123:62,130:c,131:b,132:T,133:w,134:O,135:F,136:Q},t(C,[2,84]),{13:e,16:i,18:91,114:26,115:s,130:c},t(n,[2,9]),t(J,[2,115]),{13:e,16:i,18:115,38:se,57:92,58:[1,94],63:93,64:95,68:102,69:98,70:100,72:104,73:105,74:107,77:97,78:99,87:ye,96:K,97:101,99:103,103:106,105:109,106:113,108:110,109:Te,114:26,115:s,125:96,126:Ne,130:c},t(I,[2,107]),{13:e,16:i,18:51,33:117,35:48,36:49,37:50,38:p,43:53,44:_,92:g,113:52,114:26,115:s,116:55,119:y,120:m,121:59,122:61,123:62,130:c,131:b,132:T,133:w,134:O,135:F,136:Q},t(D,[2,22]),t(D,[2,21]),t(D,[2,18]),t(X,[2,109]),t(C,[2,85]),t(_e,[2,31]),t(ie,[2,113]),t(_e,[2,30]),{47:120,48:[1,121],50:119,53:[2,120],65:118},t($,[2,118],{70:100,68:102,72:104,73:105,74:107,69:122,87:ye,96:K,126:Ne}),t($,[2,119]),t(He,[2,116]),t(qe,[2,128],{79:123}),t(He,[2,35]),t(qe,[2,59]),t(He,[2,36],{71:124,66:125,67:Ce}),t(xe,[2,61],{100:127,98:128,67:we}),t(ee,[2,38]),{72:130,74:107,87:ye,126:Ne},t(M,[2,64],{104:131,101:132,102:B}),{75:[1,134]},t([13,16,56,85,87,95,115,126,128,129,130],[2,58]),t(R,[2,68]),{13:e,16:i,18:115,38:se,105:135,106:113,114:26,115:s,130:c},{75:[2,124]},{75:[2,125]},t(R,[2,66],{107:136,93:[1,138],110:[1,137],111:[1,139]}),t([13,16,38,115,130],[2,70]),t(q,[2,74]),{13:e,16:i,18:115,38:se,97:140,99:103,103:106,105:109,106:113,108:110,109:Te,114:26,115:s,130:c},t(I,[2,19]),{53:[1,141]},{53:[2,121]},{13:e,16:i,18:36,29:142,30:35,114:26,115:s,130:c},t(u,[2,23]),t(He,[2,117]),t($,[2,41],{114:26,55:74,127:143,88:144,82:145,81:147,84:148,73:149,18:150,86:152,23:154,94:155,13:e,16:i,44:[1,146],56:j,85:W,87:re,95:Y,96:K,115:s,128:ue,129:te,130:c}),t(He,[2,37],{66:159,67:Ce}),t(ee,[2,122]),{68:160,72:104,73:105,74:107,87:ye,96:K,126:Ne},t(xe,[2,62],{98:161,67:we}),t(M,[2,134]),{13:e,16:i,18:115,38:se,99:162,103:106,105:109,106:113,108:110,109:Te,114:26,115:s,130:c},t(ee,[2,39]),t(M,[2,65],{101:163,102:B}),t(R,[2,136]),{13:e,16:i,18:115,38:se,103:164,105:109,106:113,108:110,109:Te,114:26,115:s,130:c},{13:e,16:i,18:51,35:166,44:le,76:165,92:g,113:52,114:26,115:s,116:55,119:y,120:m,121:59,122:61,123:62,130:c,131:b,132:T,133:w,134:O,135:F,136:Q},t(R,[2,69]),t(R,[2,67]),t(R,[2,71]),t(R,[2,72]),t(R,[2,73]),{40:[1,168]},t(ie,[2,33]),{48:[1,170],49:169},t(qe,[2,129]),t(qe,[2,126]),t(qe,[2,127]),{89:171,92:[1,172]},t(qe,[2,43],{83:173,80:174,67:Oe}),t(Se,[2,45]),{13:e,16:i,18:150,23:154,55:74,56:j,84:176,85:W,86:152,87:re,94:155,95:Y,114:26,115:s,128:ue,129:te,130:c},t(Se,[2,47]),t(Se,[2,48]),t(Se,[2,49]),{75:[1,177]},t(Se,[2,51]),t(Se,[2,56]),{13:[1,178]},t(Se,[2,132]),t(Se,[2,133]),t(ee,[2,123]),t(ee,[2,34]),t(M,[2,135]),t(M,[2,60]),t(R,[2,137]),t(R,[2,63]),t(ee,[2,40]),t(Ve,[2,76]),t(ke,[2,138],{112:179}),t(q,[2,75]),{53:[2,25]},{53:[2,24]},{90:[1,180]},{90:[2,53]},t(qe,[2,44],{80:181,67:Oe}),t(Se,[2,130]),{13:e,16:i,18:150,23:154,55:74,56:j,73:149,81:182,84:148,85:W,86:152,87:re,94:155,95:Y,96:K,114:26,115:s,128:ue,129:te,130:c},t(Se,[2,46]),{13:e,16:i,18:51,35:166,44:le,76:183,92:g,113:52,114:26,115:s,116:55,119:y,120:m,121:59,122:61,123:62,130:c,131:b,132:T,133:w,134:O,135:F,136:Q},t(Se,[2,57]),{13:e,16:i,18:51,35:185,46:[1,184],92:g,113:52,114:26,115:s,116:55,119:y,120:m,121:59,122:61,123:62,130:c,131:b,132:T,133:w,134:O,135:F,136:Q},{91:186,92:[1,187],93:[1,188]},t(Se,[2,131]),t(Se,[2,42]),t(Se,[2,50]),t(Ve,[2,77]),t(ke,[2,139]),{46:[1,189]},{46:[2,54]},{46:[2,55]},t(qe,[2,52])],defaultActions:{21:[2,1],41:[2,103],70:[2,101],111:[2,124],112:[2,125],119:[2,121],169:[2,25],170:[2,24],172:[2,53],187:[2,54],188:[2,55]},parseError:function(Je,rt){if(rt.recoverable)this.trace(Je);else{var it=new Error(Je);throw it.hash=rt,it}},parse:function(Je){var rt=this,it=[0],ht=[null],st=[],ot=this.table,Kr="",nt=0,ge=0,je=2,Be=1,ct=st.slice.call(arguments,1),lt=Object.create(this.lexer),Et={yy:{}};for(var dr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,dr)&&(Et.yy[dr]=this.yy[dr]);lt.setInput(Je,Et.yy),Et.yy.lexer=lt,Et.yy.parser=this,typeof lt.yylloc>"u"&&(lt.yylloc={});var Xt=lt.yylloc;st.push(Xt);var zi=lt.options&&lt.options.ranges;typeof Et.yy.parseError=="function"?this.parseError=Et.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Sn=function(){var pn;return pn=lt.lex()||Be,typeof pn!="number"&&(pn=rt.symbols_[pn]||pn),pn},er,Bn,Br,li,$r={},Qf,Yr,tp,Hf;;){if(Bn=it[it.length-1],this.defaultActions[Bn]?Br=this.defaultActions[Bn]:((er===null||typeof er>"u")&&(er=Sn()),Br=ot[Bn]&&ot[Bn][er]),typeof Br>"u"||!Br.length||!Br[0]){var On="";Hf=[];for(Qf in ot[Bn])this.terminals_[Qf]&&Qf>je&&Hf.push("'"+this.terminals_[Qf]+"'");lt.showPosition?On="Parse error on line "+(nt+1)+`:
`+lt.showPosition()+`
Expecting `+Hf.join(", ")+", got '"+(this.terminals_[er]||er)+"'":On="Parse error on line "+(nt+1)+": Unexpected "+(er==Be?"end of input":"'"+(this.terminals_[er]||er)+"'"),this.parseError(On,{text:lt.match,token:this.terminals_[er]||er,line:lt.yylineno,loc:Xt,expected:Hf})}if(Br[0]instanceof Array&&Br.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Bn+", token: "+er);switch(Br[0]){case 1:it.push(er),ht.push(lt.yytext),st.push(lt.yylloc),it.push(Br[1]),er=null,ge=lt.yyleng,Kr=lt.yytext,nt=lt.yylineno,Xt=lt.yylloc;break;case 2:if(Yr=this.productions_[Br[1]][1],$r.$=ht[ht.length-Yr],$r._$={first_line:st[st.length-(Yr||1)].first_line,last_line:st[st.length-1].last_line,first_column:st[st.length-(Yr||1)].first_column,last_column:st[st.length-1].last_column},zi&&($r._$.range=[st[st.length-(Yr||1)].range[0],st[st.length-1].range[1]]),li=this.performAction.apply($r,[Kr,ge,nt,Et.yy,Br[1],ht,st].concat(ct)),typeof li<"u")return li;Yr&&(it=it.slice(0,-1*Yr*2),ht=ht.slice(0,-1*Yr),st=st.slice(0,-1*Yr)),it.push(this.productions_[Br[1]][0]),ht.push($r.$),st.push($r._$),tp=ot[it[it.length-2]][it[it.length-1]],it.push(tp);break;case 3:return!0}}return!0}};const A="http://www.w3.org/1999/02/22-rdf-syntax-ns#",E=A+"type",P=A+"first",k=A+"rest",N=A+"nil",S="http://www.w3.org/2001/XMLSchema#",L=S+"integer",U=S+"decimal",Z=S+"double",me=S+"boolean",pe="http://www.w3.org/ns/shacl#",Xe="http://www.w3.org/2002/07/owl#",ne="http://www.w3.org/2000/01/rdf-schema#",Ie={[L]:!0,[U]:!0,[S+"float"]:!0,[Z]:!0,[S+"string"]:!0,[me]:!0,[S+"dateTime"]:!0,[S+"nonPositiveInteger"]:!0,[S+"negativeInteger"]:!0,[S+"long"]:!0,[S+"int"]:!0,[S+"short"]:!0,[S+"byte"]:!0,[S+"nonNegativeInteger"]:!0,[S+"unsignedLong"]:!0,[S+"unsignedShort"]:!0,[S+"unsignedByte"]:!0,[S+"positiveInteger"]:!0,[A+"langString"]:!0};function ve(Qe,Je=!1){let rt=0,it=Qe.length;if(Je&&it===0)return Ee.factory.namedNode(N);const ht=head=Ue();return it===0&&H(head,Ee.factory.namedNode(k),Ee.factory.namedNode(N)),Qe.forEach(st=>{if(st===void 0)throw new Error("b");H(head,Ee.factory.namedNode(P),st),H(head,Ee.factory.namedNode(k),head=++rt<it?Ue():Ee.factory.namedNode(N))}),ht}function Re(Qe){return Ee.n3Parser._resolveIRI(Qe[0]==="<"?Qe.substring(1,Qe.length-1):Qe)}function ce(Qe){const Je=Qe.indexOf(":"),rt=Qe.substr(0,Je),it=Ee.prefixes[rt];if(!it)throw new Error("Unknown prefix: "+rt);return Re(it+Qe.substr(Je+1))}function Pe(Qe,Je){return Je&&Je.termType!=="NamedNode"&&(Je=Ee.factory.namedNode(Je)),Ee.factory.literal(Qe,Je)}function ze(Qe,Je){return Ee.factory.literal(Qe,Je)}function Ue(Qe){return Ee.factory.blankNode("g_"+Ye++)}var Ye=0;Ee._resetBlanks=function(){Ye=0};function fe(Qe,Je){return Ee.n3Parser._lexer._unescape(Qe.substring(Je,Qe.length-Je))}function H(Qe,Je,rt){if(!Qe.termType||!Je.termType||Je.value.includes(",")||!rt.termType)throw new Error(`boo ${Qe.value} ${Je.value} ${rt.value}`);Ee.onQuad(Ee.factory.quad(Qe,Je,rt))}function V(Qe,Je){H(Ee.currentPropertyNode,Ee.factory.namedNode(pe+Qe),Je)}function G(Qe,Je,rt){const it=Ue();return H(it,Ee.factory.namedNode(pe+Je),rt),[Qe,it]}function oe(Qe){if(!Ee.extended)throw new Error("Encountered extended SHACLC syntax; but extended parsing is disabled");return Qe}var Fe=function(){var Qe={EOF:1,parseError:function(rt,it){if(this.yy.parser)this.yy.parser.parseError(rt,it);else throw new Error(rt)},setInput:function(Je,rt){return this.yy=rt||this.yy||{},this._input=Je,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Je=this._input[0];this.yytext+=Je,this.yyleng++,this.offset++,this.match+=Je,this.matched+=Je;var rt=Je.match(/(?:\r\n?|\n).*/g);return rt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Je},unput:function(Je){var rt=Je.length,it=Je.split(/(?:\r\n?|\n)/g);this._input=Je+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-rt),this.offset-=rt;var ht=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),it.length-1&&(this.yylineno-=it.length-1);var st=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:it?(it.length===ht.length?this.yylloc.first_column:0)+ht[ht.length-it.length].length-it[0].length:this.yylloc.first_column-rt},this.options.ranges&&(this.yylloc.range=[st[0],st[0]+this.yyleng-rt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Je){this.unput(this.match.slice(Je))},pastInput:function(){var Je=this.matched.substr(0,this.matched.length-this.match.length);return(Je.length>20?"...":"")+Je.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Je=this.match;return Je.length<20&&(Je+=this._input.substr(0,20-Je.length)),(Je.substr(0,20)+(Je.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Je=this.pastInput(),rt=new Array(Je.length+1).join("-");return Je+this.upcomingInput()+`
`+rt+"^"},test_match:function(Je,rt){var it,ht,st;if(this.options.backtrack_lexer&&(st={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(st.yylloc.range=this.yylloc.range.slice(0))),ht=Je[0].match(/(?:\r\n?|\n).*/g),ht&&(this.yylineno+=ht.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ht?ht[ht.length-1].length-ht[ht.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Je[0].length},this.yytext+=Je[0],this.match+=Je[0],this.matches=Je,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Je[0].length),this.matched+=Je[0],it=this.performAction.call(this,this.yy,this,rt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),it)return it;if(this._backtrack){for(var ot in st)this[ot]=st[ot];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Je,rt,it,ht;this._more||(this.yytext="",this.match="");for(var st=this._currentRules(),ot=0;ot<st.length;ot++)if(it=this._input.match(this.rules[st[ot]]),it&&(!rt||it[0].length>rt[0].length)){if(rt=it,ht=ot,this.options.backtrack_lexer){if(Je=this.test_match(it,st[ot]),Je!==!1)return Je;if(this._backtrack){rt=!1;continue}else return!1}else if(!this.options.flex)break}return rt?(Je=this.test_match(rt,st[ht]),Je!==!1?Je:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var rt=this.next();return rt||this.lex()},begin:function(rt){this.conditionStack.push(rt)},popState:function(){var rt=this.conditionStack.length-1;return rt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(rt){return rt=this.conditionStack.length-1-Math.abs(rt||0),rt>=0?this.conditionStack[rt]:"INITIAL"},pushState:function(rt){this.begin(rt)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(rt,it,ht,st){switch(ht){case 0:break;case 1:return 12;case 2:return 14;case 3:return 15;case 4:return 25;case 5:return 20;case 6:return 131;case 7:return 132;case 8:return 85;case 9:return 126;case 10:return 87;case 11:return"PASS";case 12:return"COMMENT";case 13:return 13;case 14:return 16;case 15:return 130;case 16:return 129;case 17:return 128;case 18:return 117;case 19:return 92;case 20:return 119;case 21:return 120;case 22:return"EXPONENT";case 23:return 133;case 24:return 134;case 25:return 135;case 26:return 136;case 27:return 61;case 28:return 90;case 29:return 58;case 30:return 56;case 31:return 38;case 32:return 40;case 33:return 44;case 34:return 46;case 35:return 110;case 36:return 93;case 37:return 111;case 38:return 67;case 39:return 118;case 40:return 53;case 41:return 96;case 42:return 102;case 43:return 75;case 44:return 95;case 45:return 109;case 46:return 28;case 47:return 42;case 48:return 48;case 49:return 115;case 50:return 7;case 51:console.log(it.yytext);break}},rules:[/^(?:\s+|#[^\n\r]*)/i,/^(?:BASE)/i,/^(?:IMPORTS)/i,/^(?:PREFIX)/i,/^(?:shapeClass)/i,/^(?:shape)/i,/^(?:true)/i,/^(?:false)/i,/^(?:(BlankNode|IRI|Literal|BlankNodeOrIRI|BlankNodeOrLiteral|IRIOrLiteral\b))/i,/^(?:(targetNode|targetObjectsOf|targetSubjectsOf\b))/i,/^(?:(deactivated|severity|message|class|datatype|nodeKind|minExclusive|minInclusive|maxExclusive|maxInclusive|minLength|maxLength|pattern|flags|languageIn|uniqueLang|equals|disjoint|lessThan|lessThanOrEquals|qualifiedValueShape|qualifiedMinCount|qualifiedMaxCount|qualifiedValueShapesDisjoint|closed|ignoredProperties|hasValue|in))/i,/^(?:([ \t\r\n]+))/i,/^(?:(#[\r\n]*))/i,/^(?:(<([^=<>\"\{\}\|\^`\\\u0000-\u0020]|(\\u([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])|\\U([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f])))*>))/i,/^(?:((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@(([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:))/i,/^(?:(@((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.)*((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040]))?)?:)(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|:|[0-9]|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))((((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|\.|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(((([A-Z]|[a-z]|[\u00C0-\u00D6]|[\u00D8-\u00F6]|[\u00F8-\u02FF]|[\u0370-\u037D]|[\u037F-\u1FFF]|[\u200C-\u200D]|[\u2070-\u218F]|[\u2C00-\u2FEF]|[\u3001-\uD7FF]|[\uF900-\uFDCF]|[\uFDF0-\uFFFD])|_\b)|-|[0-9]|[\u00B7]|[\u0300-\u036F]|[\u203F-\u2040])|:|((%([0-9]|[A-F]|[a-f])([0-9]|[A-F]|[a-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(@[a-zA-Z]+(-[a-zA-Z0-9]+)*))/i,/^(?:([+-]?[0-9]+))/i,/^(?:([+-]?[0-9]*\.[0-9]+))/i,/^(?:([+-]?([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.?[0-9]+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"\']))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"\'])))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"\'])))*"""))/i,/^(?:->)/i,/^(?:\.\.)/i,/^(?:\})/i,/^(?:\{)/i,/^(?:\()/i,/^(?:\))/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\?)/i,/^(?:\*)/i,/^(?:\+)/i,/^(?:\|)/i,/^(?:\^\^)/i,/^(?:\.)/i,/^(?:!)/i,/^(?:\/)/i,/^(?:=)/i,/^(?:@)/i,/^(?:\^)/i,/^(?:;)/i,/^(?:,)/i,/^(?:%)/i,/^(?:a)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],inclusive:!0}}};return Qe}();Ae.lexer=Fe;function Ee(){this.yy={}}return Ee.prototype=Ae,Ae.Parser=Ee,new Ee}();return DF=a,DF}var N$;function the(){if(N$)return IA;N$=1;const a=ehe().Parser,t=ma;class o{constructor(){}parse(r,{extendedSyntax:e,baseIRI:i}={}){this._parser=new a,this._parser.Parser.factory=t.DataFactory,this._parser.Parser.base=t.DataFactory.namedNode(i||"urn:x-base:default"),this._parser.Parser.extended=e===!0,this._parser.Parser.prefixes={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"},this._parser.Parser.currentNodeShape=void 0,this._parser.Parser.currentPropertyNode=void 0,this._parser.Parser.nodeShapeStack=[],this._parser.Parser.tempCurrentNodeShape=void 0,this._parser.Parser.n3Parser=new t.Parser({baseIRI:i||"urn:x-base:default"});const s=[];return this._parser.Parser.onQuad=c=>{s.push(c)},this._parser.parse(r),s.prefixes=this._parser.Parser.prefixes,s}}return IA.Parser=o,IA.parse=function(r,e){return new o().parse(r,e)},IA}var O_={},D$;function rhe(){if(D$)return O_;D$=1,Object.defineProperty(O_,"__esModule",{value:!0}),O_.PrefixWrappingIterator=void 0;const a=Tt();let t=class extends a.WrappingIterator{constructor(n){super(n==null?void 0:n.then(r=>(this.prefixes=r.prefixes,r)))}read(){if(this.prefixes){for(const n of Object.entries(this.prefixes))this.emit("prefix",...n);delete this.prefixes}return super.read()}};return O_.PrefixWrappingIterator=t,O_}var P$;function nhe(){if(P$)return w_;P$=1,Object.defineProperty(w_,"__esModule",{value:!0}),w_.ActorRdfParseShaclc=void 0;const a=Nh(),t=Ch(),o=qt(),n=the(),r=rhe();let e=class extends a.ActorRdfParseFixedMediaTypes{constructor(s){super(s)}async runHandle(s,c,u){const l=new r.PrefixWrappingIterator((0,t.stringify)(s.data).then(d=>{var h;return(0,n.parse)(d,{extendedSyntax:c==="text/shaclc-ext",baseIRI:(h=s.metadata)==null?void 0:h.baseIRI})})),f=new o.Readable({objectMode:!0});return l.on("prefix",(...d)=>f.emit("prefix",...d)),{data:f.wrap(l),metadata:{triples:!0}}}};return w_.ActorRdfParseShaclc=e,w_}var L$;function ihe(){return L$||(L$=1,function(a){var t=gu&&gu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=gu&&gu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(nhe(),a)}(gu)),gu}var vu={},A_={},ti={},ri={},Bh={},PF={},E_={},j$;function M$(){return j$||(j$=1,Object.defineProperty(E_,"__esModule",{value:!0}),E_.htmlDecodeTree=void 0,E_.htmlDecodeTree=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(a=>a.charCodeAt(0)))),E_}var x_={},q$;function C$(){return q$||(q$=1,Object.defineProperty(x_,"__esModule",{value:!0}),x_.xmlDecodeTree=void 0,x_.xmlDecodeTree=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(a=>a.charCodeAt(0)))),x_}var LF={},B$;function $$(){return B$||(B$=1,function(a){var t;Object.defineProperty(a,"__esModule",{value:!0}),a.fromCodePoint=void 0,a.replaceCodePoint=n,a.decodeCodePoint=r;const o=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);a.fromCodePoint=(t=String.fromCodePoint)!==null&&t!==void 0?t:function(e){let i="";return e>65535&&(e-=65536,i+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),i+=String.fromCharCode(e),i};function n(e){var i;return e>=55296&&e<=57343||e>1114111?65533:(i=o.get(e))!==null&&i!==void 0?i:e}function r(e){return(0,a.fromCodePoint)(n(e))}}(LF)),LF}var U$;function V$(){return U$||(U$=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.fromCodePoint=a.replaceCodePoint=a.decodeCodePoint=a.xmlDecodeTree=a.htmlDecodeTree=a.EntityDecoder=a.DecodingMode=a.BinTrieFlags=void 0,a.determineBranch=_,a.decodeHTML=m,a.decodeHTMLAttribute=b,a.decodeHTMLStrict=T,a.decodeXML=w;const t=M$(),o=C$(),n=$$();var r;(function(j){j[j.NUM=35]="NUM",j[j.SEMI=59]="SEMI",j[j.EQUALS=61]="EQUALS",j[j.ZERO=48]="ZERO",j[j.NINE=57]="NINE",j[j.LOWER_A=97]="LOWER_A",j[j.LOWER_F=102]="LOWER_F",j[j.LOWER_X=120]="LOWER_X",j[j.LOWER_Z=122]="LOWER_Z",j[j.UPPER_A=65]="UPPER_A",j[j.UPPER_F=70]="UPPER_F",j[j.UPPER_Z=90]="UPPER_Z"})(r||(r={}));const e=32;var i;(function(j){j[j.VALUE_LENGTH=49152]="VALUE_LENGTH",j[j.BRANCH_LENGTH=16256]="BRANCH_LENGTH",j[j.JUMP_TABLE=127]="JUMP_TABLE"})(i||(a.BinTrieFlags=i={}));function s(j){return j>=r.ZERO&&j<=r.NINE}function c(j){return j>=r.UPPER_A&&j<=r.UPPER_F||j>=r.LOWER_A&&j<=r.LOWER_F}function u(j){return j>=r.UPPER_A&&j<=r.UPPER_Z||j>=r.LOWER_A&&j<=r.LOWER_Z||s(j)}function l(j){return j===r.EQUALS||u(j)}var f;(function(j){j[j.EntityStart=0]="EntityStart",j[j.NumericStart=1]="NumericStart",j[j.NumericDecimal=2]="NumericDecimal",j[j.NumericHex=3]="NumericHex",j[j.NamedEntity=4]="NamedEntity"})(f||(f={}));var d;(function(j){j[j.Legacy=0]="Legacy",j[j.Strict=1]="Strict",j[j.Attribute=2]="Attribute"})(d||(a.DecodingMode=d={}));class h{constructor(x,I,D){this.decodeTree=x,this.emitCodePoint=I,this.errors=D,this.state=f.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=d.Strict}startEntity(x){this.decodeMode=x,this.state=f.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(x,I){switch(this.state){case f.EntityStart:return x.charCodeAt(I)===r.NUM?(this.state=f.NumericStart,this.consumed+=1,this.stateNumericStart(x,I+1)):(this.state=f.NamedEntity,this.stateNamedEntity(x,I));case f.NumericStart:return this.stateNumericStart(x,I);case f.NumericDecimal:return this.stateNumericDecimal(x,I);case f.NumericHex:return this.stateNumericHex(x,I);case f.NamedEntity:return this.stateNamedEntity(x,I)}}stateNumericStart(x,I){return I>=x.length?-1:(x.charCodeAt(I)|e)===r.LOWER_X?(this.state=f.NumericHex,this.consumed+=1,this.stateNumericHex(x,I+1)):(this.state=f.NumericDecimal,this.stateNumericDecimal(x,I))}addToNumericResult(x,I,D,C){if(I!==D){const X=D-I;this.result=this.result*Math.pow(C,X)+Number.parseInt(x.substr(I,X),C),this.consumed+=X}}stateNumericHex(x,I){const D=I;for(;I<x.length;){const C=x.charCodeAt(I);if(s(C)||c(C))I+=1;else return this.addToNumericResult(x,D,I,16),this.emitNumericEntity(C,3)}return this.addToNumericResult(x,D,I,16),-1}stateNumericDecimal(x,I){const D=I;for(;I<x.length;){const C=x.charCodeAt(I);if(s(C))I+=1;else return this.addToNumericResult(x,D,I,10),this.emitNumericEntity(C,2)}return this.addToNumericResult(x,D,I,10),-1}emitNumericEntity(x,I){var D;if(this.consumed<=I)return(D=this.errors)===null||D===void 0||D.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(x===r.SEMI)this.consumed+=1;else if(this.decodeMode===d.Strict)return 0;return this.emitCodePoint((0,n.replaceCodePoint)(this.result),this.consumed),this.errors&&(x!==r.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(x,I){const{decodeTree:D}=this;let C=D[this.treeIndex],X=(C&i.VALUE_LENGTH)>>14;for(;I<x.length;I++,this.excess++){const z=x.charCodeAt(I);if(this.treeIndex=_(D,C,this.treeIndex+Math.max(1,X),z),this.treeIndex<0)return this.result===0||this.decodeMode===d.Attribute&&(X===0||l(z))?0:this.emitNotTerminatedNamedEntity();if(C=D[this.treeIndex],X=(C&i.VALUE_LENGTH)>>14,X!==0){if(z===r.SEMI)return this.emitNamedEntityData(this.treeIndex,X,this.consumed+this.excess);this.decodeMode!==d.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var x;const{result:I,decodeTree:D}=this,C=(D[I]&i.VALUE_LENGTH)>>14;return this.emitNamedEntityData(I,C,this.consumed),(x=this.errors)===null||x===void 0||x.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(x,I,D){const{decodeTree:C}=this;return this.emitCodePoint(I===1?C[x]&~i.VALUE_LENGTH:C[x+1],D),I===3&&this.emitCodePoint(C[x+2],D),D}end(){var x;switch(this.state){case f.NamedEntity:return this.result!==0&&(this.decodeMode!==d.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case f.NumericDecimal:return this.emitNumericEntity(0,2);case f.NumericHex:return this.emitNumericEntity(0,3);case f.NumericStart:return(x=this.errors)===null||x===void 0||x.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case f.EntityStart:return 0}}}a.EntityDecoder=h;function p(j){let x="";const I=new h(j,D=>x+=(0,n.fromCodePoint)(D));return function(C,X){let z=0,J=0;for(;(J=C.indexOf("&",J))>=0;){x+=C.slice(z,J),I.startEntity(X);const se=I.write(C,J+1);if(se<0){z=J+I.end();break}z=J+se,J=se===0?z+1:z}const ie=x+C.slice(z);return x="",ie}}function _(j,x,I,D){const C=(x&i.BRANCH_LENGTH)>>7,X=x&i.JUMP_TABLE;if(C===0)return X!==0&&D===X?I:-1;if(X){const ie=D-X;return ie<0||ie>=C?-1:j[I+ie]-1}let z=I,J=z+C-1;for(;z<=J;){const ie=z+J>>>1,se=j[ie];if(se<D)z=ie+1;else if(se>D)J=ie-1;else return j[ie+C]}return-1}const g=p(t.htmlDecodeTree),y=p(o.xmlDecodeTree);function m(j,x=d.Legacy){return g(j,x)}function b(j){return g(j,d.Attribute)}function T(j){return g(j,d.Strict)}function w(j){return y(j,d.Strict)}var O=M$();Object.defineProperty(a,"htmlDecodeTree",{enumerable:!0,get:function(){return O.htmlDecodeTree}});var F=C$();Object.defineProperty(a,"xmlDecodeTree",{enumerable:!0,get:function(){return F.xmlDecodeTree}});var Q=$$();Object.defineProperty(a,"decodeCodePoint",{enumerable:!0,get:function(){return Q.decodeCodePoint}}),Object.defineProperty(a,"replaceCodePoint",{enumerable:!0,get:function(){return Q.replaceCodePoint}}),Object.defineProperty(a,"fromCodePoint",{enumerable:!0,get:function(){return Q.fromCodePoint}})}(PF)),PF}var Q$;function H$(){if(Q$)return Bh;Q$=1,Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.QuoteType=void 0;const a=V$();var t;(function(u){u[u.Tab=9]="Tab",u[u.NewLine=10]="NewLine",u[u.FormFeed=12]="FormFeed",u[u.CarriageReturn=13]="CarriageReturn",u[u.Space=32]="Space",u[u.ExclamationMark=33]="ExclamationMark",u[u.Number=35]="Number",u[u.Amp=38]="Amp",u[u.SingleQuote=39]="SingleQuote",u[u.DoubleQuote=34]="DoubleQuote",u[u.Dash=45]="Dash",u[u.Slash=47]="Slash",u[u.Zero=48]="Zero",u[u.Nine=57]="Nine",u[u.Semi=59]="Semi",u[u.Lt=60]="Lt",u[u.Eq=61]="Eq",u[u.Gt=62]="Gt",u[u.Questionmark=63]="Questionmark",u[u.UpperA=65]="UpperA",u[u.LowerA=97]="LowerA",u[u.UpperF=70]="UpperF",u[u.LowerF=102]="LowerF",u[u.UpperZ=90]="UpperZ",u[u.LowerZ=122]="LowerZ",u[u.LowerX=120]="LowerX",u[u.OpeningSquareBracket=91]="OpeningSquareBracket"})(t||(t={}));var o;(function(u){u[u.Text=1]="Text",u[u.BeforeTagName=2]="BeforeTagName",u[u.InTagName=3]="InTagName",u[u.InSelfClosingTag=4]="InSelfClosingTag",u[u.BeforeClosingTagName=5]="BeforeClosingTagName",u[u.InClosingTagName=6]="InClosingTagName",u[u.AfterClosingTagName=7]="AfterClosingTagName",u[u.BeforeAttributeName=8]="BeforeAttributeName",u[u.InAttributeName=9]="InAttributeName",u[u.AfterAttributeName=10]="AfterAttributeName",u[u.BeforeAttributeValue=11]="BeforeAttributeValue",u[u.InAttributeValueDq=12]="InAttributeValueDq",u[u.InAttributeValueSq=13]="InAttributeValueSq",u[u.InAttributeValueNq=14]="InAttributeValueNq",u[u.BeforeDeclaration=15]="BeforeDeclaration",u[u.InDeclaration=16]="InDeclaration",u[u.InProcessingInstruction=17]="InProcessingInstruction",u[u.BeforeComment=18]="BeforeComment",u[u.CDATASequence=19]="CDATASequence",u[u.InSpecialComment=20]="InSpecialComment",u[u.InCommentLike=21]="InCommentLike",u[u.BeforeSpecialS=22]="BeforeSpecialS",u[u.BeforeSpecialT=23]="BeforeSpecialT",u[u.SpecialStartSequence=24]="SpecialStartSequence",u[u.InSpecialTag=25]="InSpecialTag",u[u.InEntity=26]="InEntity"})(o||(o={}));function n(u){return u===t.Space||u===t.NewLine||u===t.Tab||u===t.FormFeed||u===t.CarriageReturn}function r(u){return u===t.Slash||u===t.Gt||n(u)}function e(u){return u>=t.LowerA&&u<=t.LowerZ||u>=t.UpperA&&u<=t.UpperZ}var i;(function(u){u[u.NoValue=0]="NoValue",u[u.Unquoted=1]="Unquoted",u[u.Single=2]="Single",u[u.Double=3]="Double"})(i||(Bh.QuoteType=i={}));const s={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};class c{constructor({xmlMode:l=!1,decodeEntities:f=!0},d){this.cbs=d,this.state=o.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=o.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=l,this.decodeEntities=f,this.entityDecoder=new a.EntityDecoder(l?a.xmlDecodeTree:a.htmlDecodeTree,(h,p)=>this.emitCodePoint(h,p))}reset(){this.state=o.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=o.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(l){this.offset+=this.buffer.length,this.buffer=l,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(l){l===t.Lt||!this.decodeEntities&&this.fastForwardTo(t.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=o.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&l===t.Amp&&this.startEntity()}stateSpecialStartSequence(l){const f=this.sequenceIndex===this.currentSequence.length;if(!(f?r(l):(l|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!f){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=o.InTagName,this.stateInTagName(l)}stateInSpecialTag(l){if(this.sequenceIndex===this.currentSequence.length){if(l===t.Gt||n(l)){const f=this.index-this.currentSequence.length;if(this.sectionStart<f){const d=this.index;this.index=f,this.cbs.ontext(this.sectionStart,f),this.index=d}this.isSpecial=!1,this.sectionStart=f+2,this.stateInClosingTagName(l);return}this.sequenceIndex=0}(l|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===s.TitleEnd?this.decodeEntities&&l===t.Amp&&this.startEntity():this.fastForwardTo(t.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(l===t.Lt)}stateCDATASequence(l){l===s.Cdata[this.sequenceIndex]?++this.sequenceIndex===s.Cdata.length&&(this.state=o.InCommentLike,this.currentSequence=s.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=o.InDeclaration,this.stateInDeclaration(l))}fastForwardTo(l){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===l)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(l){l===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===s.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=o.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):l!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(l){return this.xmlMode?!r(l):e(l)}startSpecial(l,f){this.isSpecial=!0,this.currentSequence=l,this.sequenceIndex=f,this.state=o.SpecialStartSequence}stateBeforeTagName(l){if(l===t.ExclamationMark)this.state=o.BeforeDeclaration,this.sectionStart=this.index+1;else if(l===t.Questionmark)this.state=o.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(l)){const f=l|32;this.sectionStart=this.index,this.xmlMode?this.state=o.InTagName:f===s.ScriptEnd[2]?this.state=o.BeforeSpecialS:f===s.TitleEnd[2]||f===s.XmpEnd[2]?this.state=o.BeforeSpecialT:this.state=o.InTagName}else l===t.Slash?this.state=o.BeforeClosingTagName:(this.state=o.Text,this.stateText(l))}stateInTagName(l){r(l)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=o.BeforeAttributeName,this.stateBeforeAttributeName(l))}stateBeforeClosingTagName(l){n(l)||(l===t.Gt?this.state=o.Text:(this.state=this.isTagStartChar(l)?o.InClosingTagName:o.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(l){(l===t.Gt||n(l))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=o.AfterClosingTagName,this.stateAfterClosingTagName(l))}stateAfterClosingTagName(l){(l===t.Gt||this.fastForwardTo(t.Gt))&&(this.state=o.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(l){l===t.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=o.InSpecialTag,this.sequenceIndex=0):this.state=o.Text,this.sectionStart=this.index+1):l===t.Slash?this.state=o.InSelfClosingTag:n(l)||(this.state=o.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(l){l===t.Gt?(this.cbs.onselfclosingtag(this.index),this.state=o.Text,this.sectionStart=this.index+1,this.isSpecial=!1):n(l)||(this.state=o.BeforeAttributeName,this.stateBeforeAttributeName(l))}stateInAttributeName(l){(l===t.Eq||r(l))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=o.AfterAttributeName,this.stateAfterAttributeName(l))}stateAfterAttributeName(l){l===t.Eq?this.state=o.BeforeAttributeValue:l===t.Slash||l===t.Gt?(this.cbs.onattribend(i.NoValue,this.sectionStart),this.sectionStart=-1,this.state=o.BeforeAttributeName,this.stateBeforeAttributeName(l)):n(l)||(this.cbs.onattribend(i.NoValue,this.sectionStart),this.state=o.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(l){l===t.DoubleQuote?(this.state=o.InAttributeValueDq,this.sectionStart=this.index+1):l===t.SingleQuote?(this.state=o.InAttributeValueSq,this.sectionStart=this.index+1):n(l)||(this.sectionStart=this.index,this.state=o.InAttributeValueNq,this.stateInAttributeValueNoQuotes(l))}handleInAttributeValue(l,f){l===f||!this.decodeEntities&&this.fastForwardTo(f)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(f===t.DoubleQuote?i.Double:i.Single,this.index+1),this.state=o.BeforeAttributeName):this.decodeEntities&&l===t.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(l){this.handleInAttributeValue(l,t.DoubleQuote)}stateInAttributeValueSingleQuotes(l){this.handleInAttributeValue(l,t.SingleQuote)}stateInAttributeValueNoQuotes(l){n(l)||l===t.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(i.Unquoted,this.index),this.state=o.BeforeAttributeName,this.stateBeforeAttributeName(l)):this.decodeEntities&&l===t.Amp&&this.startEntity()}stateBeforeDeclaration(l){l===t.OpeningSquareBracket?(this.state=o.CDATASequence,this.sequenceIndex=0):this.state=l===t.Dash?o.BeforeComment:o.InDeclaration}stateInDeclaration(l){(l===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=o.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(l){(l===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=o.Text,this.sectionStart=this.index+1)}stateBeforeComment(l){l===t.Dash?(this.state=o.InCommentLike,this.currentSequence=s.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=o.InDeclaration}stateInSpecialComment(l){(l===t.Gt||this.fastForwardTo(t.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=o.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(l){const f=l|32;f===s.ScriptEnd[3]?this.startSpecial(s.ScriptEnd,4):f===s.StyleEnd[3]?this.startSpecial(s.StyleEnd,4):(this.state=o.InTagName,this.stateInTagName(l))}stateBeforeSpecialT(l){switch(l|32){case s.TitleEnd[3]:{this.startSpecial(s.TitleEnd,4);break}case s.TextareaEnd[3]:{this.startSpecial(s.TextareaEnd,4);break}case s.XmpEnd[3]:{this.startSpecial(s.XmpEnd,4);break}default:this.state=o.InTagName,this.stateInTagName(l)}}startEntity(){this.baseState=this.state,this.state=o.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?a.DecodingMode.Strict:this.baseState===o.Text||this.baseState===o.InSpecialTag?a.DecodingMode.Legacy:a.DecodingMode.Attribute)}stateInEntity(){const l=this.entityDecoder.write(this.buffer,this.index-this.offset);l>=0?(this.state=this.baseState,l===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===o.Text||this.state===o.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===o.InAttributeValueDq||this.state===o.InAttributeValueSq||this.state===o.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const l=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case o.Text:{this.stateText(l);break}case o.SpecialStartSequence:{this.stateSpecialStartSequence(l);break}case o.InSpecialTag:{this.stateInSpecialTag(l);break}case o.CDATASequence:{this.stateCDATASequence(l);break}case o.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(l);break}case o.InAttributeName:{this.stateInAttributeName(l);break}case o.InCommentLike:{this.stateInCommentLike(l);break}case o.InSpecialComment:{this.stateInSpecialComment(l);break}case o.BeforeAttributeName:{this.stateBeforeAttributeName(l);break}case o.InTagName:{this.stateInTagName(l);break}case o.InClosingTagName:{this.stateInClosingTagName(l);break}case o.BeforeTagName:{this.stateBeforeTagName(l);break}case o.AfterAttributeName:{this.stateAfterAttributeName(l);break}case o.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(l);break}case o.BeforeAttributeValue:{this.stateBeforeAttributeValue(l);break}case o.BeforeClosingTagName:{this.stateBeforeClosingTagName(l);break}case o.AfterClosingTagName:{this.stateAfterClosingTagName(l);break}case o.BeforeSpecialS:{this.stateBeforeSpecialS(l);break}case o.BeforeSpecialT:{this.stateBeforeSpecialT(l);break}case o.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(l);break}case o.InSelfClosingTag:{this.stateInSelfClosingTag(l);break}case o.InDeclaration:{this.stateInDeclaration(l);break}case o.BeforeDeclaration:{this.stateBeforeDeclaration(l);break}case o.BeforeComment:{this.stateBeforeComment(l);break}case o.InProcessingInstruction:{this.stateInProcessingInstruction(l);break}case o.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===o.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const l=this.buffer.length+this.offset;this.sectionStart>=l||(this.state===o.InCommentLike?this.currentSequence===s.CdataEnd?this.cbs.oncdata(this.sectionStart,l,0):this.cbs.oncomment(this.sectionStart,l,0):this.state===o.InTagName||this.state===o.BeforeAttributeName||this.state===o.BeforeAttributeValue||this.state===o.AfterAttributeName||this.state===o.InAttributeName||this.state===o.InAttributeValueSq||this.state===o.InAttributeValueDq||this.state===o.InAttributeValueNq||this.state===o.InClosingTagName||this.cbs.ontext(this.sectionStart,l))}emitCodePoint(l,f){this.baseState!==o.Text&&this.baseState!==o.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+f,this.index=this.sectionStart-1,this.cbs.onattribentity(l)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+f,this.index=this.sectionStart-1,this.cbs.ontextentity(l,this.sectionStart))}}return Bh.default=c,Bh}var G$;function z$(){if(G$)return ri;G$=1;var a=ri&&ri.__createBinding||(Object.create?function(g,y,m,b){b===void 0&&(b=m);var T=Object.getOwnPropertyDescriptor(y,m);(!T||("get"in T?!y.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return y[m]}}),Object.defineProperty(g,b,T)}:function(g,y,m,b){b===void 0&&(b=m),g[b]=y[m]}),t=ri&&ri.__setModuleDefault||(Object.create?function(g,y){Object.defineProperty(g,"default",{enumerable:!0,value:y})}:function(g,y){g.default=y}),o=ri&&ri.__importStar||function(){var g=function(y){return g=Object.getOwnPropertyNames||function(m){var b=[];for(var T in m)Object.prototype.hasOwnProperty.call(m,T)&&(b[b.length]=T);return b},g(y)};return function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var b=g(y),T=0;T<b.length;T++)b[T]!=="default"&&a(m,y,b[T]);return t(m,y),m}}();Object.defineProperty(ri,"__esModule",{value:!0}),ri.Parser=void 0;const n=o(H$()),r=V$(),e=new Set(["input","option","optgroup","select","button","datalist","textarea"]),i=new Set(["p"]),s=new Set(["thead","tbody"]),c=new Set(["dd","dt"]),u=new Set(["rt","rp"]),l=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",i],["h1",i],["h2",i],["h3",i],["h4",i],["h5",i],["h6",i],["select",e],["input",e],["output",e],["button",e],["datalist",e],["textarea",e],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",c],["dt",c],["address",i],["article",i],["aside",i],["blockquote",i],["details",i],["div",i],["dl",i],["fieldset",i],["figcaption",i],["figure",i],["footer",i],["form",i],["header",i],["hr",i],["main",i],["nav",i],["ol",i],["pre",i],["section",i],["table",i],["ul",i],["rt",u],["rp",u],["tbody",s],["tfoot",s]]),f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),d=new Set(["math","svg"]),h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),p=/\s|\//;class _{constructor(y,m={}){var b,T,w,O,F,Q;this.options=m,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=y??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(b=m.lowerCaseTags)!==null&&b!==void 0?b:this.htmlMode,this.lowerCaseAttributeNames=(T=m.lowerCaseAttributeNames)!==null&&T!==void 0?T:this.htmlMode,this.recognizeSelfClosing=(w=m.recognizeSelfClosing)!==null&&w!==void 0?w:!this.htmlMode,this.tokenizer=new((O=m.Tokenizer)!==null&&O!==void 0?O:n.default)(this.options,this),this.foreignContext=[!this.htmlMode],(Q=(F=this.cbs).onparserinit)===null||Q===void 0||Q.call(F,this)}ontext(y,m){var b,T;const w=this.getSlice(y,m);this.endIndex=m-1,(T=(b=this.cbs).ontext)===null||T===void 0||T.call(b,w),this.startIndex=m}ontextentity(y,m){var b,T;this.endIndex=m-1,(T=(b=this.cbs).ontext)===null||T===void 0||T.call(b,(0,r.fromCodePoint)(y)),this.startIndex=m}isVoidElement(y){return this.htmlMode&&f.has(y)}onopentagname(y,m){this.endIndex=m;let b=this.getSlice(y,m);this.lowerCaseTagNames&&(b=b.toLowerCase()),this.emitOpenTag(b)}emitOpenTag(y){var m,b,T,w;this.openTagStart=this.startIndex,this.tagname=y;const O=this.htmlMode&&l.get(y);if(O)for(;this.stack.length>0&&O.has(this.stack[0]);){const F=this.stack.shift();(b=(m=this.cbs).onclosetag)===null||b===void 0||b.call(m,F,!0)}this.isVoidElement(y)||(this.stack.unshift(y),this.htmlMode&&(d.has(y)?this.foreignContext.unshift(!0):h.has(y)&&this.foreignContext.unshift(!1))),(w=(T=this.cbs).onopentagname)===null||w===void 0||w.call(T,y),this.cbs.onopentag&&(this.attribs={})}endOpenTag(y){var m,b;this.startIndex=this.openTagStart,this.attribs&&((b=(m=this.cbs).onopentag)===null||b===void 0||b.call(m,this.tagname,this.attribs,y),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(y){this.endIndex=y,this.endOpenTag(!1),this.startIndex=y+1}onclosetag(y,m){var b,T,w,O,F,Q,j,x;this.endIndex=m;let I=this.getSlice(y,m);if(this.lowerCaseTagNames&&(I=I.toLowerCase()),this.htmlMode&&(d.has(I)||h.has(I))&&this.foreignContext.shift(),this.isVoidElement(I))this.htmlMode&&I==="br"&&((O=(w=this.cbs).onopentagname)===null||O===void 0||O.call(w,"br"),(Q=(F=this.cbs).onopentag)===null||Q===void 0||Q.call(F,"br",{},!0),(x=(j=this.cbs).onclosetag)===null||x===void 0||x.call(j,"br",!1));else{const D=this.stack.indexOf(I);if(D!==-1)for(let C=0;C<=D;C++){const X=this.stack.shift();(T=(b=this.cbs).onclosetag)===null||T===void 0||T.call(b,X,C!==D)}else this.htmlMode&&I==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=m+1}onselfclosingtag(y){this.endIndex=y,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=y+1):this.onopentagend(y)}closeCurrentTag(y){var m,b;const T=this.tagname;this.endOpenTag(y),this.stack[0]===T&&((b=(m=this.cbs).onclosetag)===null||b===void 0||b.call(m,T,!y),this.stack.shift())}onattribname(y,m){this.startIndex=y;const b=this.getSlice(y,m);this.attribname=this.lowerCaseAttributeNames?b.toLowerCase():b}onattribdata(y,m){this.attribvalue+=this.getSlice(y,m)}onattribentity(y){this.attribvalue+=(0,r.fromCodePoint)(y)}onattribend(y,m){var b,T;this.endIndex=m,(T=(b=this.cbs).onattribute)===null||T===void 0||T.call(b,this.attribname,this.attribvalue,y===n.QuoteType.Double?'"':y===n.QuoteType.Single?"'":y===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(y){const m=y.search(p);let b=m<0?y:y.substr(0,m);return this.lowerCaseTagNames&&(b=b.toLowerCase()),b}ondeclaration(y,m){this.endIndex=m;const b=this.getSlice(y,m);if(this.cbs.onprocessinginstruction){const T=this.getInstructionName(b);this.cbs.onprocessinginstruction(`!${T}`,`!${b}`)}this.startIndex=m+1}onprocessinginstruction(y,m){this.endIndex=m;const b=this.getSlice(y,m);if(this.cbs.onprocessinginstruction){const T=this.getInstructionName(b);this.cbs.onprocessinginstruction(`?${T}`,`?${b}`)}this.startIndex=m+1}oncomment(y,m,b){var T,w,O,F;this.endIndex=m,(w=(T=this.cbs).oncomment)===null||w===void 0||w.call(T,this.getSlice(y,m-b)),(F=(O=this.cbs).oncommentend)===null||F===void 0||F.call(O),this.startIndex=m+1}oncdata(y,m,b){var T,w,O,F,Q,j,x,I,D,C;this.endIndex=m;const X=this.getSlice(y,m-b);!this.htmlMode||this.options.recognizeCDATA?((w=(T=this.cbs).oncdatastart)===null||w===void 0||w.call(T),(F=(O=this.cbs).ontext)===null||F===void 0||F.call(O,X),(j=(Q=this.cbs).oncdataend)===null||j===void 0||j.call(Q)):((I=(x=this.cbs).oncomment)===null||I===void 0||I.call(x,`[CDATA[${X}]]`),(C=(D=this.cbs).oncommentend)===null||C===void 0||C.call(D)),this.startIndex=m+1}onend(){var y,m;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let b=0;b<this.stack.length;b++)this.cbs.onclosetag(this.stack[b],!0)}(m=(y=this.cbs).onend)===null||m===void 0||m.call(y)}reset(){var y,m,b,T;(m=(y=this.cbs).onreset)===null||m===void 0||m.call(y),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(T=(b=this.cbs).onparserinit)===null||T===void 0||T.call(b,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(y){this.reset(),this.end(y)}getSlice(y,m){for(;y-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let b=this.buffers[0].slice(y-this.bufferOffset,m-this.bufferOffset);for(;m-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),b+=this.buffers[0].slice(0,m-this.bufferOffset);return b}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(y){var m,b;if(this.ended){(b=(m=this.cbs).onerror)===null||b===void 0||b.call(m,new Error(".write() after done!"));return}this.buffers.push(y),this.tokenizer.running&&(this.tokenizer.write(y),this.writeIndex++)}end(y){var m,b;if(this.ended){(b=(m=this.cbs).onerror)===null||b===void 0||b.call(m,new Error(".end() after done!"));return}y&&this.write(y),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(y){this.write(y)}done(y){this.end(y)}}return ri.Parser=_,ri}var k$;function ahe(){return k$||(k$=1,function(a){var t=ti&&ti.__createBinding||(Object.create?function(m,b,T,w){w===void 0&&(w=T);var O=Object.getOwnPropertyDescriptor(b,T);(!O||("get"in O?!b.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return b[T]}}),Object.defineProperty(m,w,O)}:function(m,b,T,w){w===void 0&&(w=T),m[w]=b[T]}),o=ti&&ti.__setModuleDefault||(Object.create?function(m,b){Object.defineProperty(m,"default",{enumerable:!0,value:b})}:function(m,b){m.default=b}),n=ti&&ti.__importStar||function(){var m=function(b){return m=Object.getOwnPropertyNames||function(T){var w=[];for(var O in T)Object.prototype.hasOwnProperty.call(T,O)&&(w[w.length]=O);return w},m(b)};return function(b){if(b&&b.__esModule)return b;var T={};if(b!=null)for(var w=m(b),O=0;O<w.length;O++)w[O]!=="default"&&t(T,b,w[O]);return o(T,b),T}}(),r=ti&&ti.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomUtils=a.getFeed=a.ElementType=a.QuoteType=a.Tokenizer=a.DefaultHandler=a.DomHandler=a.Parser=void 0,a.parseDocument=u,a.parseDOM=l,a.createDocumentStream=f,a.createDomStream=d,a.parseFeed=y;const e=z$();var i=z$();Object.defineProperty(a,"Parser",{enumerable:!0,get:function(){return i.Parser}});const s=jn();var c=jn();Object.defineProperty(a,"DomHandler",{enumerable:!0,get:function(){return c.DomHandler}}),Object.defineProperty(a,"DefaultHandler",{enumerable:!0,get:function(){return c.DomHandler}});function u(m,b){const T=new s.DomHandler(void 0,b);return new e.Parser(T,b).end(m),T.root}function l(m,b){return u(m,b).children}function f(m,b,T){const w=new s.DomHandler(O=>m(O,w.root),b,T);return new e.Parser(w,b)}function d(m,b,T){const w=new s.DomHandler(m,b,T);return new e.Parser(w,b)}var h=H$();Object.defineProperty(a,"Tokenizer",{enumerable:!0,get:function(){return r(h).default}}),Object.defineProperty(a,"QuoteType",{enumerable:!0,get:function(){return h.QuoteType}}),a.ElementType=n(pu());const p=Ui();var _=Ui();Object.defineProperty(a,"getFeed",{enumerable:!0,get:function(){return _.getFeed}});const g={xmlMode:!0};function y(m,b=g){return(0,p.getFeed)(l(m,b))}a.DomUtils=n(Ui())}(ti)),ti}var X$;function ohe(){if(X$)return A_;X$=1,Object.defineProperty(A_,"__esModule",{value:!0}),A_.ActorRdfParseHtml=void 0;const a=Nh(),t=ahe(),o=qt();class n extends a.ActorRdfParseFixedMediaTypes{constructor(e){super(e)}async runHandle(e,i,s){var p;const c=new o.Readable({objectMode:!0});c._read=()=>{};let u=0,l=1;function f(_){c.emit("error",_)}function d(){--l===0&&c.push(null)}const h={baseIRI:((p=e.metadata)==null?void 0:p.baseIRI)??"",context:s,emit:_=>{u--,c.push(_)},end:d,error:f,headers:e.headers};try{const _=await Promise.all(this.busRdfParseHtml.publish(h));l+=_.length;const g=[];for(const b of _){const{htmlParseListener:T}=await b.actor.run(h,void 0);g.push(T)}const y=new t.Parser({onclosetag(){try{for(const b of g)b.onTagClose()}catch(b){f(b)}},onend(){try{for(const b of g)b.onEnd()}catch(b){f(b)}d()},onopentag(b,T){try{for(const w of g)w.onTagOpen(b,T)}catch(w){f(w)}},ontext(b){try{for(const T of g)T.onText(b)}catch(T){f(T)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:!1}),m=c._read=b=>{for(u=Math.max(b,u);u>0;){const T=e.data.read();if(T===null){e.data.once("readable",()=>m(0));return}y.write(T.toString())}};e.data.on("error",f).on("end",()=>y.end())}catch(_){setTimeout(()=>{c.emit("error",_)})}return{data:c}}}return A_.ActorRdfParseHtml=n,A_}var W$;function she(){return W$||(W$=1,function(a){var t=vu&&vu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=vu&&vu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(ohe(),a)}(vu)),vu}var Tu={},I_={},wu={},R_={},J$;function uhe(){if(J$)return R_;J$=1,Object.defineProperty(R_,"__esModule",{value:!0}),R_.ActorRdfParseHtml=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}};return R_.ActorRdfParseHtml=t,R_}var K$;function jF(){return K$||(K$=1,function(a){var t=wu&&wu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=wu&&wu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(uhe(),a)}(wu)),wu}var Su={},MF={},Y$;function che(){return Y$||(Y$=1,Object.defineProperty(MF,"__esModule",{value:!0})),MF}var F_={},Z$;function eU(){if(Z$)return F_;Z$=1,Object.defineProperty(F_,"__esModule",{value:!0}),F_.ItemPropertyHandlerContent=void 0;let a=class{canHandle(o,n){return"content"in n}getObject(o,n,r){return n.createLiteral(o.content,r)}};return F_.ItemPropertyHandlerContent=a,F_}var N_={},D_={},Ou={},P_={},tU;function rU(){if(tU)return P_;tU=1,Object.defineProperty(P_,"__esModule",{value:!0}),P_.BlankNode=void 0;class a{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}}return P_.BlankNode=a,P_}var L_={},j_={},nU;function iU(){if(nU)return j_;nU=1,Object.defineProperty(j_,"__esModule",{value:!0}),j_.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}return j_.DefaultGraph=a,a.INSTANCE=new a,j_}var M_={},q_={},aU;function qF(){if(aU)return q_;aU=1,Object.defineProperty(q_,"__esModule",{value:!0}),q_.NamedNode=void 0;class a{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}}return q_.NamedNode=a,q_}var oU;function sU(){if(oU)return M_;oU=1,Object.defineProperty(M_,"__esModule",{value:!0}),M_.Literal=void 0;const a=qF();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return M_.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),M_}var C_={},uU;function cU(){if(uU)return C_;uU=1,Object.defineProperty(C_,"__esModule",{value:!0}),C_.Quad=void 0;class a{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}}return C_.Quad=a,C_}var B_={},lU;function dU(){if(lU)return B_;lU=1,Object.defineProperty(B_,"__esModule",{value:!0}),B_.Variable=void 0;class a{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}}return B_.Variable=a,B_}var fU;function lhe(){if(fU)return L_;fU=1,Object.defineProperty(L_,"__esModule",{value:!0}),L_.DataFactory=void 0;const a=rU(),t=iU(),o=sU(),n=qF(),r=cU(),e=dU();let i=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return L_.DataFactory=s,L_}var hU;function dhe(){return hU||(hU=1,function(a){var t=Ou&&Ou.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ou&&Ou.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(rU(),a),o(lhe(),a),o(iU(),a),o(sU(),a),o(qF(),a),o(cU(),a),o(dU(),a)}(Ou)),Ou}var pU;function RA(){if(pU)return D_;pU=1,Object.defineProperty(D_,"__esModule",{value:!0}),D_.Util=void 0;const a=dhe(),t=Sr();class o{constructor(r,e){this.dataFactory=r||new a.DataFactory,this.baseIRI=e||""}static isValidIri(r){return o.IRI_REGEX.test(r)}createVocabIris(r,e,i){return r.split(/\s+/u).filter(s=>!!s).map(s=>{if(!o.isValidIri(s)){if(!i)return;s=`${e.vocab||`${this.baseIRI}#`}${s}`}return this.dataFactory.namedNode(s)}).filter(s=>!!s)}getVocabularyExpansionType(r,e,i){const s=r.split(/\s+/u);if(s.includes("subPropertyOf")||s.includes("equivalentProperty"))return[this.dataFactory.namedNode(`${o.RDF}type`)];if(e.vocab&&e.vocab in i&&i[e.vocab].properties){let c=[];for(const[u,l]of Object.entries(i[e.vocab].properties))s.includes(u)&&(c=[...Object.values(l).map(f=>this.dataFactory.namedNode(f))]);return c}return[]}createSubject(r){if(!o.isValidIri(r))try{r=(0,t.resolve)(r,this.baseIRI)}catch{return}return this.dataFactory.namedNode(r)}createLiteral(r,e){return this.dataFactory.literal(r,e.language)}deriveVocab(r,e){let i;for(const s in e)if(r.startsWith(s)){i=s,i.endsWith("/")||(i+="#");break}if(!i){const s=r.indexOf("#");s>0?i=r.slice(0,s+1):i=(0,t.resolve)(".",r)}return i}}return D_.Util=o,o.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o.XSD="http://www.w3.org/2001/XMLSchema#",o.RDFA="http://www.w3.org/ns/rdfa#",o.IRI_REGEX=/^([A-Za-z][\d+-.A-Za-z]*|_):[^ "<>[\\\]`{|}]*$/u,D_}var yU;function bU(){if(yU)return N_;yU=1,Object.defineProperty(N_,"__esModule",{value:!0}),N_.ItemPropertyHandlerNumber=void 0;const a=RA();let t=class{constructor(n,r){this.tagName=n,this.attributeName=r}canHandle(n,r){return this.tagName===n&&this.attributeName in r}getObject(n,r,e){const i=n[this.attributeName];let s;return!Number.isNaN(Number.parseInt(i,10))&&!i.includes(".")?s=`${a.Util.XSD}integer`:Number.isNaN(Number.parseFloat(i))||(s=`${a.Util.XSD}double`),r.dataFactory.literal(i,s&&r.dataFactory.namedNode(s))}};return N_.ItemPropertyHandlerNumber=t,N_}var $_={},_U;function mU(){if(_U)return $_;_U=1,Object.defineProperty($_,"__esModule",{value:!0}),$_.ItemPropertyHandlerTime=void 0;const a=RA();let t=class yae{canHandle(n,r){return n==="time"&&"datetime"in r}getObject(n,r,e){const i=n.datetime;let s;for(const c of yae.TIME_REGEXES)if(c.regex.test(i)){s=r.dataFactory.namedNode(a.Util.XSD+c.type);break}return r.dataFactory.literal(i,s)}};return $_.ItemPropertyHandlerTime=t,t.TIME_REGEXES=[{regex:/^-?P(\d+Y)?(\d+M)?(\d+D)?(T(\d+H)?(\d+M)?(\d+(\.\d)?S)?)?$/u,type:"duration"},{regex:/^\d+-\d\d-\d\dT\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"dateTime"},{regex:/^\d+-\d\d-\d\dZ?$/u,type:"date"},{regex:/^\d\d:\d\d:\d\d((Z?)|([+-]\d\d:\d\d))$/u,type:"time"},{regex:/^\d+-\d\d$/u,type:"gYearMonth"},{regex:/^\d+$/u,type:"gYear"}],$_}var U_={},gU;function vU(){if(gU)return U_;gU=1,Object.defineProperty(U_,"__esModule",{value:!0}),U_.ItemPropertyHandlerUrl=void 0;const a=Sr();let t=class{constructor(n,r){this.tagName=n,this.attributeName=r}canHandle(n,r){return this.tagName===n&&this.attributeName in r}getObject(n,r,e){return r.dataFactory.namedNode((0,a.resolve)(n[this.attributeName],r.baseIRI))}};return U_.ItemPropertyHandlerUrl=t,U_}var CF={},TU;function fhe(){return TU||(TU=1,Object.defineProperty(CF,"__esModule",{value:!0})),CF}var BF={},wU;function hhe(){return wU||(wU=1,Object.defineProperty(BF,"__esModule",{value:!0})),BF}var $F={},SU;function phe(){return SU||(SU=1,Object.defineProperty($F,"__esModule",{value:!0})),$F}var V_={},ni={},ii={},UF={},OU;function AU(){return OU||(OU=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.QuoteType=void 0;var t=Mh(),o;(function(d){d[d.Tab=9]="Tab",d[d.NewLine=10]="NewLine",d[d.FormFeed=12]="FormFeed",d[d.CarriageReturn=13]="CarriageReturn",d[d.Space=32]="Space",d[d.ExclamationMark=33]="ExclamationMark",d[d.Number=35]="Number",d[d.Amp=38]="Amp",d[d.SingleQuote=39]="SingleQuote",d[d.DoubleQuote=34]="DoubleQuote",d[d.Dash=45]="Dash",d[d.Slash=47]="Slash",d[d.Zero=48]="Zero",d[d.Nine=57]="Nine",d[d.Semi=59]="Semi",d[d.Lt=60]="Lt",d[d.Eq=61]="Eq",d[d.Gt=62]="Gt",d[d.Questionmark=63]="Questionmark",d[d.UpperA=65]="UpperA",d[d.LowerA=97]="LowerA",d[d.UpperF=70]="UpperF",d[d.LowerF=102]="LowerF",d[d.UpperZ=90]="UpperZ",d[d.LowerZ=122]="LowerZ",d[d.LowerX=120]="LowerX",d[d.OpeningSquareBracket=91]="OpeningSquareBracket"})(o||(o={}));var n;(function(d){d[d.Text=1]="Text",d[d.BeforeTagName=2]="BeforeTagName",d[d.InTagName=3]="InTagName",d[d.InSelfClosingTag=4]="InSelfClosingTag",d[d.BeforeClosingTagName=5]="BeforeClosingTagName",d[d.InClosingTagName=6]="InClosingTagName",d[d.AfterClosingTagName=7]="AfterClosingTagName",d[d.BeforeAttributeName=8]="BeforeAttributeName",d[d.InAttributeName=9]="InAttributeName",d[d.AfterAttributeName=10]="AfterAttributeName",d[d.BeforeAttributeValue=11]="BeforeAttributeValue",d[d.InAttributeValueDq=12]="InAttributeValueDq",d[d.InAttributeValueSq=13]="InAttributeValueSq",d[d.InAttributeValueNq=14]="InAttributeValueNq",d[d.BeforeDeclaration=15]="BeforeDeclaration",d[d.InDeclaration=16]="InDeclaration",d[d.InProcessingInstruction=17]="InProcessingInstruction",d[d.BeforeComment=18]="BeforeComment",d[d.CDATASequence=19]="CDATASequence",d[d.InSpecialComment=20]="InSpecialComment",d[d.InCommentLike=21]="InCommentLike",d[d.BeforeSpecialS=22]="BeforeSpecialS",d[d.SpecialStartSequence=23]="SpecialStartSequence",d[d.InSpecialTag=24]="InSpecialTag",d[d.BeforeEntity=25]="BeforeEntity",d[d.BeforeNumericEntity=26]="BeforeNumericEntity",d[d.InNamedEntity=27]="InNamedEntity",d[d.InNumericEntity=28]="InNumericEntity",d[d.InHexEntity=29]="InHexEntity"})(n||(n={}));function r(d){return d===o.Space||d===o.NewLine||d===o.Tab||d===o.FormFeed||d===o.CarriageReturn}function e(d){return d===o.Slash||d===o.Gt||r(d)}function i(d){return d>=o.Zero&&d<=o.Nine}function s(d){return d>=o.LowerA&&d<=o.LowerZ||d>=o.UpperA&&d<=o.UpperZ}function c(d){return d>=o.UpperA&&d<=o.UpperF||d>=o.LowerA&&d<=o.LowerF}var u;(function(d){d[d.NoValue=0]="NoValue",d[d.Unquoted=1]="Unquoted",d[d.Single=2]="Single",d[d.Double=3]="Double"})(u=a.QuoteType||(a.QuoteType={}));var l={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101])},f=function(){function d(h,p){var _=h.xmlMode,g=_===void 0?!1:_,y=h.decodeEntities,m=y===void 0?!0:y;this.cbs=p,this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.trieIndex=0,this.trieCurrent=0,this.entityResult=0,this.entityExcess=0,this.xmlMode=g,this.decodeEntities=m,this.entityTrie=g?t.xmlDecodeTree:t.htmlDecodeTree}return d.prototype.reset=function(){this.state=n.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=n.Text,this.currentSequence=void 0,this.running=!0,this.offset=0},d.prototype.write=function(h){this.offset+=this.buffer.length,this.buffer=h,this.parse()},d.prototype.end=function(){this.running&&this.finish()},d.prototype.pause=function(){this.running=!1},d.prototype.resume=function(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()},d.prototype.getIndex=function(){return this.index},d.prototype.getSectionStart=function(){return this.sectionStart},d.prototype.stateText=function(h){h===o.Lt||!this.decodeEntities&&this.fastForwardTo(o.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=n.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&h===o.Amp&&(this.state=n.BeforeEntity)},d.prototype.stateSpecialStartSequence=function(h){var p=this.sequenceIndex===this.currentSequence.length,_=p?e(h):(h|32)===this.currentSequence[this.sequenceIndex];if(!_)this.isSpecial=!1;else if(!p){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=n.InTagName,this.stateInTagName(h)},d.prototype.stateInSpecialTag=function(h){if(this.sequenceIndex===this.currentSequence.length){if(h===o.Gt||r(h)){var p=this.index-this.currentSequence.length;if(this.sectionStart<p){var _=this.index;this.index=p,this.cbs.ontext(this.sectionStart,p),this.index=_}this.isSpecial=!1,this.sectionStart=p+2,this.stateInClosingTagName(h);return}this.sequenceIndex=0}(h|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===l.TitleEnd?this.decodeEntities&&h===o.Amp&&(this.state=n.BeforeEntity):this.fastForwardTo(o.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(h===o.Lt)},d.prototype.stateCDATASequence=function(h){h===l.Cdata[this.sequenceIndex]?++this.sequenceIndex===l.Cdata.length&&(this.state=n.InCommentLike,this.currentSequence=l.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=n.InDeclaration,this.stateInDeclaration(h))},d.prototype.fastForwardTo=function(h){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===h)return!0;return this.index=this.buffer.length+this.offset-1,!1},d.prototype.stateInCommentLike=function(h){h===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=n.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):h!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)},d.prototype.isTagStartChar=function(h){return this.xmlMode?!e(h):s(h)},d.prototype.startSpecial=function(h,p){this.isSpecial=!0,this.currentSequence=h,this.sequenceIndex=p,this.state=n.SpecialStartSequence},d.prototype.stateBeforeTagName=function(h){if(h===o.ExclamationMark)this.state=n.BeforeDeclaration,this.sectionStart=this.index+1;else if(h===o.Questionmark)this.state=n.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(h)){var p=h|32;this.sectionStart=this.index,!this.xmlMode&&p===l.TitleEnd[2]?this.startSpecial(l.TitleEnd,3):this.state=!this.xmlMode&&p===l.ScriptEnd[2]?n.BeforeSpecialS:n.InTagName}else h===o.Slash?this.state=n.BeforeClosingTagName:(this.state=n.Text,this.stateText(h))},d.prototype.stateInTagName=function(h){e(h)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h))},d.prototype.stateBeforeClosingTagName=function(h){r(h)||(h===o.Gt?this.state=n.Text:(this.state=this.isTagStartChar(h)?n.InClosingTagName:n.InSpecialComment,this.sectionStart=this.index))},d.prototype.stateInClosingTagName=function(h){(h===o.Gt||r(h))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterClosingTagName,this.stateAfterClosingTagName(h))},d.prototype.stateAfterClosingTagName=function(h){(h===o.Gt||this.fastForwardTo(o.Gt))&&(this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeAttributeName=function(h){h===o.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=n.InSpecialTag,this.sequenceIndex=0):this.state=n.Text,this.baseState=this.state,this.sectionStart=this.index+1):h===o.Slash?this.state=n.InSelfClosingTag:r(h)||(this.state=n.InAttributeName,this.sectionStart=this.index)},d.prototype.stateInSelfClosingTag=function(h){h===o.Gt?(this.cbs.onselfclosingtag(this.index),this.state=n.Text,this.baseState=n.Text,this.sectionStart=this.index+1,this.isSpecial=!1):r(h)||(this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h))},d.prototype.stateInAttributeName=function(h){(h===o.Eq||e(h))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=-1,this.state=n.AfterAttributeName,this.stateAfterAttributeName(h))},d.prototype.stateAfterAttributeName=function(h){h===o.Eq?this.state=n.BeforeAttributeValue:h===o.Slash||h===o.Gt?(this.cbs.onattribend(u.NoValue,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h)):r(h)||(this.cbs.onattribend(u.NoValue,this.index),this.state=n.InAttributeName,this.sectionStart=this.index)},d.prototype.stateBeforeAttributeValue=function(h){h===o.DoubleQuote?(this.state=n.InAttributeValueDq,this.sectionStart=this.index+1):h===o.SingleQuote?(this.state=n.InAttributeValueSq,this.sectionStart=this.index+1):r(h)||(this.sectionStart=this.index,this.state=n.InAttributeValueNq,this.stateInAttributeValueNoQuotes(h))},d.prototype.handleInAttributeValue=function(h,p){h===p||!this.decodeEntities&&this.fastForwardTo(p)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(p===o.DoubleQuote?u.Double:u.Single,this.index),this.state=n.BeforeAttributeName):this.decodeEntities&&h===o.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},d.prototype.stateInAttributeValueDoubleQuotes=function(h){this.handleInAttributeValue(h,o.DoubleQuote)},d.prototype.stateInAttributeValueSingleQuotes=function(h){this.handleInAttributeValue(h,o.SingleQuote)},d.prototype.stateInAttributeValueNoQuotes=function(h){r(h)||h===o.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(u.Unquoted,this.index),this.state=n.BeforeAttributeName,this.stateBeforeAttributeName(h)):this.decodeEntities&&h===o.Amp&&(this.baseState=this.state,this.state=n.BeforeEntity)},d.prototype.stateBeforeDeclaration=function(h){h===o.OpeningSquareBracket?(this.state=n.CDATASequence,this.sequenceIndex=0):this.state=h===o.Dash?n.BeforeComment:n.InDeclaration},d.prototype.stateInDeclaration=function(h){(h===o.Gt||this.fastForwardTo(o.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateInProcessingInstruction=function(h){(h===o.Gt||this.fastForwardTo(o.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeComment=function(h){h===o.Dash?(this.state=n.InCommentLike,this.currentSequence=l.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=n.InDeclaration},d.prototype.stateInSpecialComment=function(h){(h===o.Gt||this.fastForwardTo(o.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=n.Text,this.sectionStart=this.index+1)},d.prototype.stateBeforeSpecialS=function(h){var p=h|32;p===l.ScriptEnd[3]?this.startSpecial(l.ScriptEnd,4):p===l.StyleEnd[3]?this.startSpecial(l.StyleEnd,4):(this.state=n.InTagName,this.stateInTagName(h))},d.prototype.stateBeforeEntity=function(h){this.entityExcess=1,this.entityResult=0,h===o.Number?this.state=n.BeforeNumericEntity:h===o.Amp||(this.trieIndex=0,this.trieCurrent=this.entityTrie[0],this.state=n.InNamedEntity,this.stateInNamedEntity(h))},d.prototype.stateInNamedEntity=function(h){if(this.entityExcess+=1,this.trieIndex=(0,t.determineBranch)(this.entityTrie,this.trieCurrent,this.trieIndex+1,h),this.trieIndex<0){this.emitNamedEntity(),this.index--;return}this.trieCurrent=this.entityTrie[this.trieIndex];var p=this.trieCurrent&t.BinTrieFlags.VALUE_LENGTH;if(p){var _=(p>>14)-1;if(!this.allowLegacyEntity()&&h!==o.Semi)this.trieIndex+=_;else{var g=this.index-this.entityExcess+1;g>this.sectionStart&&this.emitPartial(this.sectionStart,g),this.entityResult=this.trieIndex,this.trieIndex+=_,this.entityExcess=0,this.sectionStart=this.index+1,_===0&&this.emitNamedEntity()}}},d.prototype.emitNamedEntity=function(){if(this.state=this.baseState,this.entityResult!==0){var h=(this.entityTrie[this.entityResult]&t.BinTrieFlags.VALUE_LENGTH)>>14;switch(h){case 1:{this.emitCodePoint(this.entityTrie[this.entityResult]&~t.BinTrieFlags.VALUE_LENGTH);break}case 2:{this.emitCodePoint(this.entityTrie[this.entityResult+1]);break}case 3:this.emitCodePoint(this.entityTrie[this.entityResult+1]),this.emitCodePoint(this.entityTrie[this.entityResult+2])}}},d.prototype.stateBeforeNumericEntity=function(h){(h|32)===o.LowerX?(this.entityExcess++,this.state=n.InHexEntity):(this.state=n.InNumericEntity,this.stateInNumericEntity(h))},d.prototype.emitNumericEntity=function(h){var p=this.index-this.entityExcess-1,_=p+2+ +(this.state===n.InHexEntity);_!==this.index&&(p>this.sectionStart&&this.emitPartial(this.sectionStart,p),this.sectionStart=this.index+Number(h),this.emitCodePoint((0,t.replaceCodePoint)(this.entityResult))),this.state=this.baseState},d.prototype.stateInNumericEntity=function(h){h===o.Semi?this.emitNumericEntity(!0):i(h)?(this.entityResult=this.entityResult*10+(h-o.Zero),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},d.prototype.stateInHexEntity=function(h){h===o.Semi?this.emitNumericEntity(!0):i(h)?(this.entityResult=this.entityResult*16+(h-o.Zero),this.entityExcess++):c(h)?(this.entityResult=this.entityResult*16+((h|32)-o.LowerA+10),this.entityExcess++):(this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state=this.baseState,this.index--)},d.prototype.allowLegacyEntity=function(){return!this.xmlMode&&(this.baseState===n.Text||this.baseState===n.InSpecialTag)},d.prototype.cleanup=function(){this.running&&this.sectionStart!==this.index&&(this.state===n.Text||this.state===n.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===n.InAttributeValueDq||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))},d.prototype.shouldContinue=function(){return this.index<this.buffer.length+this.offset&&this.running},d.prototype.parse=function(){for(;this.shouldContinue();){var h=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case n.Text:{this.stateText(h);break}case n.SpecialStartSequence:{this.stateSpecialStartSequence(h);break}case n.InSpecialTag:{this.stateInSpecialTag(h);break}case n.CDATASequence:{this.stateCDATASequence(h);break}case n.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(h);break}case n.InAttributeName:{this.stateInAttributeName(h);break}case n.InCommentLike:{this.stateInCommentLike(h);break}case n.InSpecialComment:{this.stateInSpecialComment(h);break}case n.BeforeAttributeName:{this.stateBeforeAttributeName(h);break}case n.InTagName:{this.stateInTagName(h);break}case n.InClosingTagName:{this.stateInClosingTagName(h);break}case n.BeforeTagName:{this.stateBeforeTagName(h);break}case n.AfterAttributeName:{this.stateAfterAttributeName(h);break}case n.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(h);break}case n.BeforeAttributeValue:{this.stateBeforeAttributeValue(h);break}case n.BeforeClosingTagName:{this.stateBeforeClosingTagName(h);break}case n.AfterClosingTagName:{this.stateAfterClosingTagName(h);break}case n.BeforeSpecialS:{this.stateBeforeSpecialS(h);break}case n.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(h);break}case n.InSelfClosingTag:{this.stateInSelfClosingTag(h);break}case n.InDeclaration:{this.stateInDeclaration(h);break}case n.BeforeDeclaration:{this.stateBeforeDeclaration(h);break}case n.BeforeComment:{this.stateBeforeComment(h);break}case n.InProcessingInstruction:{this.stateInProcessingInstruction(h);break}case n.InNamedEntity:{this.stateInNamedEntity(h);break}case n.BeforeEntity:{this.stateBeforeEntity(h);break}case n.InHexEntity:{this.stateInHexEntity(h);break}case n.InNumericEntity:{this.stateInNumericEntity(h);break}default:this.stateBeforeNumericEntity(h)}this.index++}this.cleanup()},d.prototype.finish=function(){this.state===n.InNamedEntity&&this.emitNamedEntity(),this.sectionStart<this.index&&this.handleTrailingData(),this.cbs.onend()},d.prototype.handleTrailingData=function(){var h=this.buffer.length+this.offset;this.state===n.InCommentLike?this.currentSequence===l.CdataEnd?this.cbs.oncdata(this.sectionStart,h,0):this.cbs.oncomment(this.sectionStart,h,0):this.state===n.InNumericEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InHexEntity&&this.allowLegacyEntity()?this.emitNumericEntity(!1):this.state===n.InTagName||this.state===n.BeforeAttributeName||this.state===n.BeforeAttributeValue||this.state===n.AfterAttributeName||this.state===n.InAttributeName||this.state===n.InAttributeValueSq||this.state===n.InAttributeValueDq||this.state===n.InAttributeValueNq||this.state===n.InClosingTagName||this.cbs.ontext(this.sectionStart,h)},d.prototype.emitPartial=function(h,p){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribdata(h,p):this.cbs.ontext(h,p)},d.prototype.emitCodePoint=function(h){this.baseState!==n.Text&&this.baseState!==n.InSpecialTag?this.cbs.onattribentity(h):this.cbs.ontextentity(h)},d}();a.default=f}(UF)),UF}var EU;function xU(){if(EU)return ii;EU=1;var a=ii&&ii.__createBinding||(Object.create?function(g,y,m,b){b===void 0&&(b=m);var T=Object.getOwnPropertyDescriptor(y,m);(!T||("get"in T?!y.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return y[m]}}),Object.defineProperty(g,b,T)}:function(g,y,m,b){b===void 0&&(b=m),g[b]=y[m]}),t=ii&&ii.__setModuleDefault||(Object.create?function(g,y){Object.defineProperty(g,"default",{enumerable:!0,value:y})}:function(g,y){g.default=y}),o=ii&&ii.__importStar||function(g){if(g&&g.__esModule)return g;var y={};if(g!=null)for(var m in g)m!=="default"&&Object.prototype.hasOwnProperty.call(g,m)&&a(y,g,m);return t(y,g),y};Object.defineProperty(ii,"__esModule",{value:!0}),ii.Parser=void 0;var n=o(AU()),r=Mh(),e=new Set(["input","option","optgroup","select","button","datalist","textarea"]),i=new Set(["p"]),s=new Set(["thead","tbody"]),c=new Set(["dd","dt"]),u=new Set(["rt","rp"]),l=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",i],["h1",i],["h2",i],["h3",i],["h4",i],["h5",i],["h6",i],["select",e],["input",e],["output",e],["button",e],["datalist",e],["textarea",e],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",c],["dt",c],["address",i],["article",i],["aside",i],["blockquote",i],["details",i],["div",i],["dl",i],["fieldset",i],["figcaption",i],["figure",i],["footer",i],["form",i],["header",i],["hr",i],["main",i],["nav",i],["ol",i],["pre",i],["section",i],["table",i],["ul",i],["rt",u],["rp",u],["tbody",s],["tfoot",s]]),f=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),d=new Set(["math","svg"]),h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),p=/\s|\//,_=function(){function g(y,m){m===void 0&&(m={});var b,T,w,O,F;this.options=m,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=y??{},this.lowerCaseTagNames=(b=m.lowerCaseTags)!==null&&b!==void 0?b:!m.xmlMode,this.lowerCaseAttributeNames=(T=m.lowerCaseAttributeNames)!==null&&T!==void 0?T:!m.xmlMode,this.tokenizer=new((w=m.Tokenizer)!==null&&w!==void 0?w:n.default)(this.options,this),(F=(O=this.cbs).onparserinit)===null||F===void 0||F.call(O,this)}return g.prototype.ontext=function(y,m){var b,T,w=this.getSlice(y,m);this.endIndex=m-1,(T=(b=this.cbs).ontext)===null||T===void 0||T.call(b,w),this.startIndex=m},g.prototype.ontextentity=function(y){var m,b,T=this.tokenizer.getSectionStart();this.endIndex=T-1,(b=(m=this.cbs).ontext)===null||b===void 0||b.call(m,(0,r.fromCodePoint)(y)),this.startIndex=T},g.prototype.isVoidElement=function(y){return!this.options.xmlMode&&f.has(y)},g.prototype.onopentagname=function(y,m){this.endIndex=m;var b=this.getSlice(y,m);this.lowerCaseTagNames&&(b=b.toLowerCase()),this.emitOpenTag(b)},g.prototype.emitOpenTag=function(y){var m,b,T,w;this.openTagStart=this.startIndex,this.tagname=y;var O=!this.options.xmlMode&&l.get(y);if(O)for(;this.stack.length>0&&O.has(this.stack[this.stack.length-1]);){var F=this.stack.pop();(b=(m=this.cbs).onclosetag)===null||b===void 0||b.call(m,F,!0)}this.isVoidElement(y)||(this.stack.push(y),d.has(y)?this.foreignContext.push(!0):h.has(y)&&this.foreignContext.push(!1)),(w=(T=this.cbs).onopentagname)===null||w===void 0||w.call(T,y),this.cbs.onopentag&&(this.attribs={})},g.prototype.endOpenTag=function(y){var m,b;this.startIndex=this.openTagStart,this.attribs&&((b=(m=this.cbs).onopentag)===null||b===void 0||b.call(m,this.tagname,this.attribs,y),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""},g.prototype.onopentagend=function(y){this.endIndex=y,this.endOpenTag(!1),this.startIndex=y+1},g.prototype.onclosetag=function(y,m){var b,T,w,O,F,Q;this.endIndex=m;var j=this.getSlice(y,m);if(this.lowerCaseTagNames&&(j=j.toLowerCase()),(d.has(j)||h.has(j))&&this.foreignContext.pop(),this.isVoidElement(j))!this.options.xmlMode&&j==="br"&&((T=(b=this.cbs).onopentagname)===null||T===void 0||T.call(b,"br"),(O=(w=this.cbs).onopentag)===null||O===void 0||O.call(w,"br",{},!0),(Q=(F=this.cbs).onclosetag)===null||Q===void 0||Q.call(F,"br",!1));else{var x=this.stack.lastIndexOf(j);if(x!==-1)if(this.cbs.onclosetag)for(var I=this.stack.length-x;I--;)this.cbs.onclosetag(this.stack.pop(),I!==0);else this.stack.length=x;else!this.options.xmlMode&&j==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=m+1},g.prototype.onselfclosingtag=function(y){this.endIndex=y,this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?(this.closeCurrentTag(!1),this.startIndex=y+1):this.onopentagend(y)},g.prototype.closeCurrentTag=function(y){var m,b,T=this.tagname;this.endOpenTag(y),this.stack[this.stack.length-1]===T&&((b=(m=this.cbs).onclosetag)===null||b===void 0||b.call(m,T,!y),this.stack.pop())},g.prototype.onattribname=function(y,m){this.startIndex=y;var b=this.getSlice(y,m);this.attribname=this.lowerCaseAttributeNames?b.toLowerCase():b},g.prototype.onattribdata=function(y,m){this.attribvalue+=this.getSlice(y,m)},g.prototype.onattribentity=function(y){this.attribvalue+=(0,r.fromCodePoint)(y)},g.prototype.onattribend=function(y,m){var b,T;this.endIndex=m,(T=(b=this.cbs).onattribute)===null||T===void 0||T.call(b,this.attribname,this.attribvalue,y===n.QuoteType.Double?'"':y===n.QuoteType.Single?"'":y===n.QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""},g.prototype.getInstructionName=function(y){var m=y.search(p),b=m<0?y:y.substr(0,m);return this.lowerCaseTagNames&&(b=b.toLowerCase()),b},g.prototype.ondeclaration=function(y,m){this.endIndex=m;var b=this.getSlice(y,m);if(this.cbs.onprocessinginstruction){var T=this.getInstructionName(b);this.cbs.onprocessinginstruction("!".concat(T),"!".concat(b))}this.startIndex=m+1},g.prototype.onprocessinginstruction=function(y,m){this.endIndex=m;var b=this.getSlice(y,m);if(this.cbs.onprocessinginstruction){var T=this.getInstructionName(b);this.cbs.onprocessinginstruction("?".concat(T),"?".concat(b))}this.startIndex=m+1},g.prototype.oncomment=function(y,m,b){var T,w,O,F;this.endIndex=m,(w=(T=this.cbs).oncomment)===null||w===void 0||w.call(T,this.getSlice(y,m-b)),(F=(O=this.cbs).oncommentend)===null||F===void 0||F.call(O),this.startIndex=m+1},g.prototype.oncdata=function(y,m,b){var T,w,O,F,Q,j,x,I,D,C;this.endIndex=m;var X=this.getSlice(y,m-b);this.options.xmlMode||this.options.recognizeCDATA?((w=(T=this.cbs).oncdatastart)===null||w===void 0||w.call(T),(F=(O=this.cbs).ontext)===null||F===void 0||F.call(O,X),(j=(Q=this.cbs).oncdataend)===null||j===void 0||j.call(Q)):((I=(x=this.cbs).oncomment)===null||I===void 0||I.call(x,"[CDATA[".concat(X,"]]")),(C=(D=this.cbs).oncommentend)===null||C===void 0||C.call(D)),this.startIndex=m+1},g.prototype.onend=function(){var y,m;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(var b=this.stack.length;b>0;this.cbs.onclosetag(this.stack[--b],!0));}(m=(y=this.cbs).onend)===null||m===void 0||m.call(y)},g.prototype.reset=function(){var y,m,b,T;(m=(y=this.cbs).onreset)===null||m===void 0||m.call(y),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(T=(b=this.cbs).onparserinit)===null||T===void 0||T.call(b,this),this.buffers.length=0,this.bufferOffset=0,this.writeIndex=0,this.ended=!1},g.prototype.parseComplete=function(y){this.reset(),this.end(y)},g.prototype.getSlice=function(y,m){for(;y-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();for(var b=this.buffers[0].slice(y-this.bufferOffset,m-this.bufferOffset);m-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),b+=this.buffers[0].slice(0,m-this.bufferOffset);return b},g.prototype.shiftBuffer=function(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()},g.prototype.write=function(y){var m,b;if(this.ended){(b=(m=this.cbs).onerror)===null||b===void 0||b.call(m,new Error(".write() after done!"));return}this.buffers.push(y),this.tokenizer.running&&(this.tokenizer.write(y),this.writeIndex++)},g.prototype.end=function(y){var m,b;if(this.ended){(b=(m=this.cbs).onerror)===null||b===void 0||b.call(m,new Error(".end() after done!"));return}y&&this.write(y),this.ended=!0,this.tokenizer.end()},g.prototype.pause=function(){this.tokenizer.pause()},g.prototype.resume=function(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()},g.prototype.parseChunk=function(y){this.write(y)},g.prototype.done=function(y){this.end(y)},g}();return ii.Parser=_,ii}var IU;function yhe(){return IU||(IU=1,function(a){var t=ni&&ni.__createBinding||(Object.create?function(y,m,b,T){T===void 0&&(T=b);var w=Object.getOwnPropertyDescriptor(m,b);(!w||("get"in w?!m.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return m[b]}}),Object.defineProperty(y,T,w)}:function(y,m,b,T){T===void 0&&(T=b),y[T]=m[b]}),o=ni&&ni.__setModuleDefault||(Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m}),n=ni&&ni.__importStar||function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var b in y)b!=="default"&&Object.prototype.hasOwnProperty.call(y,b)&&t(m,y,b);return o(m,y),m},r=ni&&ni.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomUtils=a.parseFeed=a.getFeed=a.ElementType=a.Tokenizer=a.createDomStream=a.parseDOM=a.parseDocument=a.DefaultHandler=a.DomHandler=a.Parser=void 0;var e=xU(),i=xU();Object.defineProperty(a,"Parser",{enumerable:!0,get:function(){return i.Parser}});var s=jn(),c=jn();Object.defineProperty(a,"DomHandler",{enumerable:!0,get:function(){return c.DomHandler}}),Object.defineProperty(a,"DefaultHandler",{enumerable:!0,get:function(){return c.DomHandler}});function u(y,m){var b=new s.DomHandler(void 0,m);return new e.Parser(b,m).end(y),b.root}a.parseDocument=u;function l(y,m){return u(y,m).children}a.parseDOM=l;function f(y,m,b){var T=new s.DomHandler(y,m,b);return new e.Parser(T,m)}a.createDomStream=f;var d=AU();Object.defineProperty(a,"Tokenizer",{enumerable:!0,get:function(){return r(d).default}}),a.ElementType=n(pu());var h=Ui(),p=Ui();Object.defineProperty(a,"getFeed",{enumerable:!0,get:function(){return p.getFeed}});var _={xmlMode:!0};function g(y,m){return m===void 0&&(m=_),(0,h.getFeed)(l(y,m))}a.parseFeed=g,a.DomUtils=n(Ui())}(ni)),ni}var bhe={"http://schema.org/":{properties:{additionalType:{subPropertyOf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}}},"http://microformats.org/profile/hcard":{}},RU;function _he(){if(RU)return V_;RU=1,Object.defineProperty(V_,"__esModule",{value:!0}),V_.MicrodataRdfParser=void 0;const a=yhe(),t=qt(),o=eU(),n=bU(),r=mU(),e=vU(),i=RA(),s=bhe;let c=class GD extends t.Transform{constructor(l){super({readableObjectMode:!0}),this.itemScopeStack=[],this.textBufferStack=[],this.isEmittingReferences=!1,this.pendingItemRefsDomain={},this.pendingItemRefsRangeFinalized={},this.pendingItemRefsRangeCollecting={},l=l||{},this.options=l,this.util=new i.Util(l.dataFactory,l.baseIRI),this.defaultGraph=l.defaultGraph||this.util.dataFactory.defaultGraph(),this.htmlParseListener=l.htmlParseListener,this.vocabRegistry=l.vocabRegistry||s,this.parser=this.initializeParser(!!l.xmlMode)}import(l){const f=new t.PassThrough({readableObjectMode:!0});l.on("error",h=>d.emit("error",h)),l.on("data",h=>f.push(h)),l.on("end",()=>f.push(null));const d=f.pipe(new GD(this.options));return d}_transform(l,f,d){this.parser.write(l.toString()),d()}_flush(l){this.parser.end(),l()}getItemScope(l){let f=this.itemScopeStack.length-(l?2:1);for(;f>0&&!this.itemScopeStack[f];)f--;return this.itemScopeStack[f]}getDepth(){return this.itemScopeStack.length}onTagOpen(l,f){if(!this.isEmittingReferences){if("id"in f){const h=f.id;this.pendingItemRefsRangeCollecting[h]={events:[],counter:0,ids:[]}}for(const h of Object.values(this.pendingItemRefsRangeCollecting))h.counter++,h.events.push({type:"open",name:l,attributes:f})}this.textBufferStack.push(void 0);let d;if("itemscope"in f){let h;if(this.emittingReferencesItemScopeIdGenerator)h=this.emittingReferencesItemScopeIdGenerator();else{h="itemid"in f&&this.util.createSubject(f.itemid)||this.util.dataFactory.blankNode();for(const _ of Object.values(this.pendingItemRefsRangeCollecting))_.ids.push(h)}d={subject:h},this.isEmittingReferences&&(d.blockEmission=!0);const p=this.getItemScope();p&&p.vocab&&(d.vocab=p.vocab),this.itemScopeStack.push(d)}else d=this.getItemScope(),this.itemScopeStack.push(void 0);if(d){if("itemtype"in f)for(const h of this.util.createVocabIris(f.itemtype,d,!1))d.vocab||(d.vocab=this.util.deriveVocab(h.value,this.vocabRegistry)),d.blockEmission||this.emitTriple(d.subject,this.util.dataFactory.namedNode(`${i.Util.RDF}type`),h);if("lang"in f&&(d.language=f.lang),"xml:lang"in f&&(d.language=f["xml:lang"]),"itemscope"in f&&!this.isEmittingReferences&&"itemref"in f)for(const h of f.itemref.split(/\s+/u))h in this.pendingItemRefsDomain||(this.pendingItemRefsDomain[h]=[]),this.pendingItemRefsDomain[h].push(d),this.tryToEmitReferences(h,d)}"itemprop"in f&&this.handleItemProperties(f.itemprop,!1,d,l,f),"itemprop-reverse"in f&&this.handleItemProperties(f["itemprop-reverse"],!0,d,l,f)}onText(l){if(!this.isEmittingReferences)for(const f of Object.values(this.pendingItemRefsRangeCollecting))f.events.push({type:"text",data:l});for(const f of this.textBufferStack)f&&f.push(l)}onTagClose(){if(!this.isEmittingReferences)for(const[f,d]of Object.entries(this.pendingItemRefsRangeCollecting))d.counter--,d.events.push({type:"close"}),d.counter===0&&(this.pendingItemRefsRangeFinalized[f]=d,delete this.pendingItemRefsRangeCollecting[f],this.tryToEmitReferences(f));const l=this.getItemScope(!0);if(l){const f=this.getDepth();if(l.predicates&&f in l.predicates)for(const[d,h]of Object.entries(l.predicates[f])){const p=this.util.createLiteral(this.textBufferStack[f].join(""),l);this.emitPredicateTriples(l,h,p,d==="reverse"),delete l.predicates[f][d]}}this.itemScopeStack.pop(),this.textBufferStack.pop()}onEnd(){}initializeParser(l){return new a.Parser({onclosetag:()=>{try{this.onTagClose(),this.htmlParseListener&&this.htmlParseListener.onTagClose()}catch(f){this.emit("error",f)}},onend:()=>{try{this.onEnd(),this.htmlParseListener&&this.htmlParseListener.onEnd()}catch(f){this.emit("error",f)}},onopentag:(f,d)=>{try{this.onTagOpen(f,d),this.htmlParseListener&&this.htmlParseListener.onTagOpen(f,d)}catch(h){this.emit("error",h)}},ontext:f=>{try{this.onText(f),this.htmlParseListener&&this.htmlParseListener.onText(f)}catch(d){this.emit("error",d)}}},{decodeEntities:!0,recognizeSelfClosing:!0,xmlMode:l})}handleItemProperties(l,f,d,h,p){const _=this.getItemScope(!0);if(_){const g=this.getDepth(),y=this.util.createVocabIris(l,_,!0);_.predicates||(_.predicates={}),_.predicates[g]||(_.predicates[g]={});const m=f?"reverse":"forward";_.predicates[g][m]=y;for(const b of this.util.getVocabularyExpansionType(l,_,this.vocabRegistry))y.push(b);if(d&&"itemscope"in p)this.emitPredicateTriples(_,y,d.subject,f),delete _.predicates[g][m];else for(const b of GD.ITEM_PROPERTY_HANDLERS)if(b.canHandle(h,p)){const T=b.getObject(p,this.util,_);this.emitPredicateTriples(_,y,T,f),delete _.predicates[g][m]}_.predicates[g][m]&&(this.textBufferStack[g]=[])}}emitPredicateTriples(l,f,d,h){if(!l.blockEmission)for(const p of f)h?d.termType!=="Literal"&&this.emitTriple(d,p,l.subject):this.emitTriple(l.subject,p,d)}emitTriple(l,f,d){this.push(this.util.dataFactory.quad(l,f,d,this.defaultGraph))}tryToEmitReferences(l,f){const d=this.pendingItemRefsRangeFinalized[l];if(d){let h;if(f){h=[f];const p=this.pendingItemRefsDomain[l].indexOf(f);this.pendingItemRefsDomain[l].splice(p,1)}else h=this.pendingItemRefsDomain[l],delete this.pendingItemRefsDomain[l];if(h){const p=this.itemScopeStack,_=this.textBufferStack;this.isEmittingReferences=!0;for(const g of h){this.itemScopeStack=[g],this.textBufferStack=[void 0];const y=[...d.ids];this.emittingReferencesItemScopeIdGenerator=()=>y.shift();for(const m of d.events)switch(m.type){case"open":this.onTagOpen(m.name,m.attributes);break;case"text":this.onText(m.data);break;case"close":this.onTagClose();break}}this.emittingReferencesItemScopeIdGenerator=void 0,this.itemScopeStack=p,this.textBufferStack=_,this.isEmittingReferences=!1}}}};return V_.MicrodataRdfParser=c,c.ITEM_PROPERTY_HANDLERS=[new o.ItemPropertyHandlerContent,new e.ItemPropertyHandlerUrl("a","href"),new e.ItemPropertyHandlerUrl("area","href"),new e.ItemPropertyHandlerUrl("audio","src"),new e.ItemPropertyHandlerUrl("embed","src"),new e.ItemPropertyHandlerUrl("iframe","src"),new e.ItemPropertyHandlerUrl("img","src"),new e.ItemPropertyHandlerUrl("link","href"),new e.ItemPropertyHandlerUrl("object","data"),new e.ItemPropertyHandlerUrl("source","src"),new e.ItemPropertyHandlerUrl("track","src"),new e.ItemPropertyHandlerUrl("video","src"),new n.ItemPropertyHandlerNumber("data","value"),new n.ItemPropertyHandlerNumber("meter","value"),new r.ItemPropertyHandlerTime],V_}var FU;function mhe(){return FU||(FU=1,function(a){var t=Su&&Su.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Su&&Su.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(che(),a),o(eU(),a),o(bU(),a),o(mU(),a),o(vU(),a),o(fhe(),a),o(hhe(),a),o(phe(),a),o(_he(),a),o(RA(),a)}(Su)),Su}var NU;function ghe(){if(NU)return I_;NU=1,Object.defineProperty(I_,"__esModule",{value:!0}),I_.ActorRdfParseHtmlMicrodata=void 0;const a=jF(),t=tt(),o=De(),n=mhe();let r=class extends a.ActorRdfParseHtml{constructor(i){super(i)}async test(i){return(0,o.passTestVoid)()}async run(i){const s=i.context.getSafe(t.KeysInitQuery.dataFactory),c=i.headers?i.headers.get("content-type"):null,u=c==null?void 0:c.includes("xml"),l=new n.MicrodataRdfParser({dataFactory:s,baseIRI:i.baseIRI,xmlMode:u});l.on("error",i.error),l.on("data",i.emit);const f=l.onEnd;return l.onEnd=()=>{f.call(l),i.end()},{htmlParseListener:l}}};return I_.ActorRdfParseHtmlMicrodata=r,I_}var DU;function vhe(){return DU||(DU=1,function(a){var t=Tu&&Tu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Tu&&Tu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(ghe(),a)}(Tu)),Tu}var Au={},Q_={},PU;function The(){if(PU)return Q_;PU=1,Object.defineProperty(Q_,"__esModule",{value:!0}),Q_.ActorRdfParseHtmlRdfa=void 0;const a=jF(),t=tt(),o=De(),n=O$();let r=class extends a.ActorRdfParseHtml{constructor(i){super(i)}async test(i){return(0,o.passTestVoid)()}async run(i){const s=i.context.getSafe(t.KeysInitQuery.dataFactory),c=i.headers?i.headers.get("content-type"):null,u=(i.headers&&i.headers.get("content-language"))??void 0,l=c&&c.includes("xml")?"xhtml":"html",f=new n.RdfaParser({dataFactory:s,baseIRI:i.baseIRI,profile:l,language:u});f.on("error",i.error),f.on("data",i.emit);const d=f.onEnd;return f.onEnd=()=>{d.call(f),i.end()},{htmlParseListener:f}}};return Q_.ActorRdfParseHtmlRdfa=r,Q_}var LU;function whe(){return LU||(LU=1,function(a){var t=Au&&Au.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Au&&Au.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(The(),a)}(Au)),Au}var Eu={},H_={},xu={},G_={},jU;function She(){if(jU)return G_;jU=1,Object.defineProperty(G_,"__esModule",{value:!0}),G_.ActorRdfResolveHypermediaLinks=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}};return G_.ActorRdfResolveHypermediaLinks=t,G_}var MU;function Ohe(){return MU||(MU=1,function(a){var t=xu&&xu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=xu&&xu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(She(),a)}(xu)),xu}var qU;function Ahe(){if(qU)return H_;qU=1,Object.defineProperty(H_,"__esModule",{value:!0}),H_.ActorRdfResolveHypermediaLinksNext=void 0;const a=Ohe(),t=De();let o=class extends a.ActorRdfResolveHypermediaLinks{constructor(r){super(r)}async test(r){return!r.metadata.next||r.metadata.next.length===0?(0,t.failTest)(`Actor ${this.name} requires a 'next' metadata entry.`):(0,t.passTestVoid)()}async run(r){return{links:r.metadata.next.map(e=>({url:e}))}}};return H_.ActorRdfResolveHypermediaLinksNext=o,H_}var CU;function Ehe(){return CU||(CU=1,function(a){var t=Eu&&Eu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Eu&&Eu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Ahe(),a)}(Eu)),Eu}var Iu={},z_={},Ru={},k_={},BU;function xhe(){if(BU)return k_;BU=1,Object.defineProperty(k_,"__esModule",{value:!0}),k_.ActorRdfResolveHypermediaLinksQueue=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}};return k_.ActorRdfResolveHypermediaLinksQueue=t,k_}var VF={},$U;function Ihe(){return $U||($U=1,Object.defineProperty(VF,"__esModule",{value:!0})),VF}var X_={},UU;function Rhe(){if(UU)return X_;UU=1,Object.defineProperty(X_,"__esModule",{value:!0}),X_.LinkQueueWrapper=void 0;let a=class{constructor(o){this.linkQueue=o}push(o,n){return this.linkQueue.push(o,n)}getSize(){return this.linkQueue.getSize()}isEmpty(){return this.linkQueue.isEmpty()}pop(){return this.linkQueue.pop()}peek(){return this.linkQueue.peek()}};return X_.LinkQueueWrapper=a,X_}var VU;function Fhe(){return VU||(VU=1,function(a){var t=Ru&&Ru.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ru&&Ru.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(xhe(),a),o(Ihe(),a),o(Rhe(),a)}(Ru)),Ru}var W_={},QU;function HU(){if(QU)return W_;QU=1,Object.defineProperty(W_,"__esModule",{value:!0}),W_.LinkQueueFifo=void 0;let a=class{constructor(){this.links=[]}push(o){return this.links.push(o),!0}getSize(){return this.links.length}isEmpty(){return this.links.length===0}pop(){return this.links.shift()}peek(){return this.links[0]}};return W_.LinkQueueFifo=a,W_}var GU;function Nhe(){if(GU)return z_;GU=1,Object.defineProperty(z_,"__esModule",{value:!0}),z_.ActorRdfResolveHypermediaLinksQueueFifo=void 0;const a=Fhe(),t=De(),o=HU();let n=class extends a.ActorRdfResolveHypermediaLinksQueue{constructor(e){super(e)}async test(e){return(0,t.passTestVoid)()}async run(e){return{linkQueue:new o.LinkQueueFifo}}};return z_.ActorRdfResolveHypermediaLinksQueueFifo=n,z_}var zU;function Dhe(){return zU||(zU=1,function(a){var t=Iu&&Iu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Iu&&Iu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Nhe(),a),o(HU(),a)}(Iu)),Iu}var Fu={},J_={},Nu={},K_={},kU;function Phe(){if(kU)return K_;kU=1,Object.defineProperty(K_,"__esModule",{value:!0}),K_.ActorRdfSerialize=void 0;const a=Ih();let t=class extends a.ActorAbstractMediaTyped{constructor(n){super(n)}};return K_.ActorRdfSerialize=t,K_}var Y_={},XU;function Lhe(){if(XU)return Y_;XU=1,Object.defineProperty(Y_,"__esModule",{value:!0}),Y_.ActorRdfSerializeFixedMediaTypes=void 0;const a=Ih(),t=De();let o=class extends a.ActorAbstractMediaTypedFixed{constructor(r){super(r)}async testHandleChecked(){return(0,t.passTestVoid)()}};return Y_.ActorRdfSerializeFixedMediaTypes=o,Y_}var WU;function QF(){return WU||(WU=1,function(a){var t=Nu&&Nu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Nu&&Nu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Phe(),a),o(Lhe(),a)}(Nu)),Nu}var JU;function jhe(){if(JU)return J_;JU=1,Object.defineProperty(J_,"__esModule",{value:!0}),J_.ActorRdfSerializeN3=void 0;const a=QF(),t=ma;let o=class extends a.ActorRdfSerializeFixedMediaTypes{constructor(r){super(r)}async runHandle(r,e){const i=new t.StreamWriter({format:e});let s;return"pipe"in r.quadStream?(r.quadStream.on("error",c=>i.emit("error",c)),s=r.quadStream.pipe(i)):s=i.import(r.quadStream),{data:s,triples:e==="text/turtle"||e==="application/n-triples"||e==="text/n3"}}};return J_.ActorRdfSerializeN3=o,J_}var KU;function Mhe(){return KU||(KU=1,function(a){var t=Fu&&Fu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Fu&&Fu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(jhe(),a)}(Fu)),Fu}var Du={},Z_={},Pu={},em={},Lu={},tm={},HF={},YU;function FA(){return YU||(YU=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ERROR_CODES=a.ErrorCoded=void 0;class t extends Error{constructor(n,r){super(n),this.code=r}}a.ErrorCoded=t,function(o){o.COLLIDING_KEYWORDS="colliding keywords",o.CONFLICTING_INDEXES="conflicting indexes",o.CYCLIC_IRI_MAPPING="cyclic IRI mapping",o.INVALID_ID_VALUE="invalid @id value",o.INVALID_INDEX_VALUE="invalid @index value",o.INVALID_NEST_VALUE="invalid @nest value",o.INVALID_PREFIX_VALUE="invalid @prefix value",o.INVALID_PROPAGATE_VALUE="invalid @propagate value",o.INVALID_REVERSE_VALUE="invalid @reverse value",o.INVALID_IMPORT_VALUE="invalid @import value",o.INVALID_VERSION_VALUE="invalid @version value",o.INVALID_BASE_IRI="invalid base IRI",o.INVALID_CONTAINER_MAPPING="invalid container mapping",o.INVALID_CONTEXT_ENTRY="invalid context entry",o.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",o.INVALID_DEFAULT_LANGUAGE="invalid default language",o.INVALID_INCLUDED_VALUE="invalid @included value",o.INVALID_IRI_MAPPING="invalid IRI mapping",o.INVALID_JSON_LITERAL="invalid JSON literal",o.INVALID_KEYWORD_ALIAS="invalid keyword alias",o.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",o.INVALID_LANGUAGE_MAPPING="invalid language mapping",o.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",o.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",o.INVALID_LOCAL_CONTEXT="invalid local context",o.INVALID_REMOTE_CONTEXT="invalid remote context",o.INVALID_REVERSE_PROPERTY="invalid reverse property",o.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",o.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",o.INVALID_SCOPED_CONTEXT="invalid scoped context",o.INVALID_SCRIPT_ELEMENT="invalid script element",o.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",o.INVALID_TERM_DEFINITION="invalid term definition",o.INVALID_TYPE_MAPPING="invalid type mapping",o.INVALID_TYPE_VALUE="invalid type value",o.INVALID_TYPED_VALUE="invalid typed value",o.INVALID_VALUE_OBJECT="invalid value object",o.INVALID_VALUE_OBJECT_VALUE="invalid value object value",o.INVALID_VOCAB_MAPPING="invalid vocab mapping",o.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",o.KEYWORD_REDEFINITION="keyword redefinition",o.LOADING_DOCUMENT_FAILED="loading document failed",o.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",o.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",o.PROCESSING_MODE_CONFLICT="processing mode conflict",o.PROTECTED_TERM_REDEFINITION="protected term redefinition",o.CONTEXT_OVERFLOW="context overflow",o.INVALID_BASE_DIRECTION="invalid base direction",o.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",o.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",o.INVALID_EMBEDDED_NODE="invalid embedded node",o.INVALID_ANNOTATION="invalid annotation"}(a.ERROR_CODES||(a.ERROR_CODES={}))}(HF)),HF}var rm={},ZU;function eV(){if(ZU)return rm;ZU=1,Object.defineProperty(rm,"__esModule",{value:!0}),rm.FetchDocumentLoader=void 0;const a=FA(),t=R1(),o=Sr();class n{constructor(e){this.fetcher=e}async load(e){const i=await(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(i.ok&&i.headers){let s=i.headers.get("Content-Type");if(s){const c=s.indexOf(";");c>0&&(s=s.substr(0,c))}if(s==="application/ld+json")return await i.json();if(i.headers.has("Link")){let c;if(i.headers.forEach((u,l)=>{if(l==="link"){const f=(0,t.parse)(u);for(const d of f.get("type","application/ld+json"))if(d.rel==="alternate"){if(c)throw new Error("Multiple JSON-LD alternate links were found on "+e);c=(0,o.resolve)(d.uri,e)}}}),c)return this.load(c)}throw new a.ErrorCoded(`Unsupported JSON-LD media type ${s}`,a.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(i.statusText||`Status code: ${i.status}`)}}return rm.FetchDocumentLoader=n,rm}var GF={},nm={},tV;function zF(){if(tV)return nm;tV=1,Object.defineProperty(nm,"__esModule",{value:!0}),nm.Util=void 0;class a{static isCompactIri(o){return o.indexOf(":")>0&&!(o&&o[0]==="#")}static getPrefix(o,n){if(o&&o[0]==="#")return null;const r=o.indexOf(":");if(r>=0){if(o.length>r+1&&o.charAt(r+1)==="/"&&o.charAt(r+2)==="/")return null;const e=o.substr(0,r);if(e==="_")return null;if(n[e])return e}return null}static getContextValueId(o){if(o===null||typeof o=="string")return o;const n=o["@id"];return n||null}static isSimpleTermDefinitionPrefix(o,n){return!a.isPotentialKeyword(o)&&(n.allowPrefixNonGenDelims||typeof o=="string"&&(o[0]==="_"||a.isPrefixIriEndingWithGenDelim(o)))}static isPotentialKeyword(o){return typeof o=="string"&&a.KEYWORD_REGEX.test(o)}static isPrefixIriEndingWithGenDelim(o){return a.ENDS_WITH_GEN_DELIM.test(o)}static isPrefixValue(o){return o&&(typeof o=="string"||o&&typeof o=="object")}static isValidIri(o){return!!(o&&a.IRI_REGEX.test(o))}static isValidIriWeak(o){return!!o&&o[0]!==":"&&a.IRI_REGEX_WEAK.test(o)}static isValidKeyword(o){return a.VALID_KEYWORDS[o]}static isTermProtected(o,n){const r=o[n];return typeof r!="string"&&r&&r["@protected"]}static hasProtectedTerms(o){for(const n of Object.keys(o))if(a.isTermProtected(o,n))return!0;return!1}static isReservedInternalKeyword(o){return o.startsWith("@__")}static deepEqual(o,n){const r=Object.keys(o),e=Object.keys(n);return r.length!==e.length?!1:r.every(i=>{const s=o[i],c=n[i];return s===c||s!==null&&c!==null&&typeof s=="object"&&typeof c=="object"&&this.deepEqual(s,c)})}}return a.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,a.IRI_REGEX_WEAK=/(?::[^:])|\//,a.KEYWORD_REGEX=/^@[a-z]+$/i,a.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,a.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,a.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,a.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},a.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],a.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],a.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],a.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],a.CONTAINERS_1_0=["@list","@set","@index"],nm.Util=a,nm}var rV;function nV(){return rV||(rV=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.defaultExpandOptions=a.JsonLdContextNormalized=void 0;const t=Sr(),o=FA(),n=zF();class r{constructor(i){this.contextRaw=i}getContextRaw(){return this.contextRaw}expandTerm(i,s,c=a.defaultExpandOptions){const u=this.contextRaw[i];if(u===null||u&&u["@id"]===null)return null;let l=!0;if(u&&s){const g=n.Util.getContextValueId(u);if(g&&g!==i)if(typeof g!="string"||!n.Util.isValidIri(g)&&!n.Util.isValidKeyword(g))n.Util.isPotentialKeyword(g)||(l=!1);else return g}const f=n.Util.getPrefix(i,this.contextRaw),d=this.contextRaw["@vocab"],h=(!!d||d==="")&&d.indexOf(":")<0,p=this.contextRaw["@base"],_=n.Util.isPotentialKeyword(i);if(f){const g=this.contextRaw[f],y=n.Util.getContextValueId(g);if(y){if(typeof g=="string"||!c.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(y,c))return i}else if(y[0]!=="_"&&!_&&!g["@prefix"]&&!(i in this.contextRaw))return i;return y+i.substr(f.length+1)}}else if(s&&(d||d===""||c.allowVocabRelativeToBase&&p&&h)&&!_&&!n.Util.isCompactIri(i))if(h){if(c.allowVocabRelativeToBase)return(d||p?(0,t.resolve)(d,p):"")+i;throw new o.ErrorCoded(`Relative vocab expansion for term '${i}' with vocab '${d}' is not allowed.`,o.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return d+i;else if(!s&&p&&!_&&!n.Util.isCompactIri(i))return(0,t.resolve)(i,p);if(l)return i;throw new o.ErrorCoded(`Invalid IRI mapping found for context entry '${i}': '${JSON.stringify(u)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(i,s){if(s&&this.contextRaw["@vocab"]&&i.startsWith(this.contextRaw["@vocab"]))return i.substr(this.contextRaw["@vocab"].length);if(!s&&this.contextRaw["@base"]&&i.startsWith(this.contextRaw["@base"]))return i.substr(this.contextRaw["@base"].length);const c={prefix:"",suffix:i};for(const u in this.contextRaw){const l=this.contextRaw[u];if(l&&!n.Util.isPotentialKeyword(u)){const f=n.Util.getContextValueId(l);if(i.startsWith(f)){const d=i.substr(f.length);if(d)d.length<c.suffix.length&&(c.prefix=u,c.suffix=d);else if(s)return u}}}return c.prefix?c.prefix+":"+c.suffix:i}}a.JsonLdContextNormalized=r,a.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(GF)),GF}var iV;function qhe(){if(iV)return tm;iV=1,Object.defineProperty(tm,"__esModule",{value:!0}),tm.ContextParser=void 0;const a=Sr(),t=FA(),o=eV(),n=nV(),r=zF();class e{constructor(s){s=s||{},this.documentLoader=s.documentLoader||new o.FetchDocumentLoader,this.documentCache={},this.validateContext=!s.skipValidation,this.expandContentTypeToBase=!!s.expandContentTypeToBase,this.remoteContextsDepthLimit=s.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in s?!!s.redirectSchemaOrgHttps:!0}static validateLanguage(s,c,u){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(s)}'`,u);if(!r.Util.REGEX_LANGUAGE_TAG.test(s)){if(c)throw new t.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(s)}'`,u);return!1}return!0}static validateDirection(s,c){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);if(!r.Util.REGEX_DIRECTION_TAG.test(s)){if(c)throw new t.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(s){for(const c of Object.keys(s)){let u=s[c];if(u&&typeof u=="object"&&u["@reverse"]&&!u["@id"]){if(typeof u["@reverse"]!="string"||r.Util.isValidKeyword(u["@reverse"]))throw new t.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${u["@reverse"]}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);u=s[c]=Object.assign(Object.assign({},u),{"@id":u["@reverse"]}),u["@id"]=u["@reverse"],r.Util.isPotentialKeyword(u["@reverse"])?delete u["@reverse"]:u["@reverse"]=!0}}return s}expandPrefixedTerms(s,c,u){const l=s.getContextRaw();for(const f of u||Object.keys(l))if(r.Util.EXPAND_KEYS_BLACKLIST.indexOf(f)<0&&!r.Util.isReservedInternalKeyword(f)){const d=l[f];if(r.Util.isPotentialKeyword(f)&&r.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(f)>=0&&(f!=="@type"||typeof l[f]=="object"&&!(l[f]["@protected"]||l[f]["@container"]==="@set")))throw new t.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${f} to ${JSON.stringify(d)}`,t.ERROR_CODES.KEYWORD_REDEFINITION);if(r.Util.ALIAS_RANGE_BLACKLIST.indexOf(r.Util.getContextValueId(d))>=0)throw new t.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${f} to ${JSON.stringify(d)}`,t.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(d&&r.Util.isPotentialKeyword(r.Util.getContextValueId(d))&&d["@prefix"]===!0)throw new t.ErrorCoded(`Tried to use keyword aliases as prefix: '${f}': '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);for(;r.Util.isPrefixValue(l[f]);){const h=l[f];let p=!1;if(typeof h=="string")l[f]=s.expandTerm(h,!0),p=p||h!==l[f];else{const _=h["@id"],g=h["@type"],y=!("@prefix"in h)||r.Util.isValidIri(f);if("@id"in h)_!=null&&typeof _=="string"&&(l[f]=Object.assign(Object.assign({},l[f]),{"@id":s.expandTerm(_,!0)}),p=p||_!==l[f]["@id"]);else if(!r.Util.isPotentialKeyword(f)&&y){const m=s.expandTerm(f,!0);m!==f&&(l[f]=Object.assign(Object.assign({},l[f]),{"@id":m}),p=!0)}if(g&&typeof g=="string"&&g!=="@vocab"&&(!h["@container"]||!h["@container"]["@type"])&&y){let m=s.expandTerm(g,!0);c&&g===m&&(m=s.expandTerm(g,!1)),m!==g&&(p=!0,l[f]=Object.assign(Object.assign({},l[f]),{"@type":m}))}}if(!p)break}}}normalize(s,{processingMode:c,normalizeLanguageTags:u}){if(u||c===1)for(const l of Object.keys(s))if(l==="@language"&&typeof s[l]=="string")s[l]=s[l].toLowerCase();else{const f=s[l];if(f&&typeof f=="object"&&typeof f["@language"]=="string"){const d=f["@language"].toLowerCase();d!==f["@language"]&&(s[l]=Object.assign(Object.assign({},f),{"@language":d}))}}}containersToHash(s){for(const c of Object.keys(s)){const u=s[c];if(u&&typeof u=="object"){if(typeof u["@container"]=="string")s[c]=Object.assign(Object.assign({},u),{"@container":{[u["@container"]]:!0}});else if(Array.isArray(u["@container"])){const l={};for(const f of u["@container"])l[f]=!0;s[c]=Object.assign(Object.assign({},u),{"@container":l})}}}}applyScopedProtected(s,{processingMode:c},u){if(c&&c>=1.1&&s["@protected"]){for(const l of Object.keys(s))if(!r.Util.isReservedInternalKeyword(l)&&!r.Util.isPotentialKeyword(l)&&!r.Util.isTermProtected(s,l)){const f=s[l];f&&typeof f=="object"?"@protected"in s[l]||(s[l]=Object.assign(Object.assign({},s[l]),{"@protected":!0})):(s[l]={"@id":f,"@protected":!0},r.Util.isSimpleTermDefinitionPrefix(f,u)&&(s[l]=Object.assign(Object.assign({},s[l]),{"@prefix":!0})))}delete s["@protected"]}}validateKeywordRedefinitions(s,c,u,l){for(const f of l??Object.keys(c))if(r.Util.isTermProtected(s,f)&&(typeof c[f]=="string"?c[f]={"@id":c[f],"@protected":!0}:c[f]=Object.assign(Object.assign({},c[f]),{"@protected":!0}),!r.Util.deepEqual(s[f],c[f])))throw new t.ErrorCoded(`Attempted to override the protected keyword ${f} from ${JSON.stringify(r.Util.getContextValueId(s[f]))} to ${JSON.stringify(r.Util.getContextValueId(c[f]))}`,t.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(s,{processingMode:c}){for(const u of Object.keys(s)){if(r.Util.isReservedInternalKeyword(u))continue;if(u==="")throw new t.ErrorCoded(`The empty term is not allowed, got: '${u}': '${JSON.stringify(s[u])}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);const l=s[u],f=typeof l;if(r.Util.isPotentialKeyword(u)){switch(u.substr(1)){case"vocab":if(l!==null&&f!=="string")throw new t.ErrorCoded(`Found an invalid @vocab IRI: ${l}`,t.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(l!==null&&f!=="string")throw new t.ErrorCoded(`Found an invalid @base IRI: ${s[u]}`,t.ERROR_CODES.INVALID_BASE_IRI);break;case"language":l!==null&&e.validateLanguage(l,!0,t.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(l!==null&&f!=="number")throw new t.ErrorCoded(`Found an invalid @version number: ${l}`,t.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":l!==null&&e.validateDirection(l,!0);break;case"propagate":if(c===1)throw new t.ErrorCoded(`Found an illegal @propagate keyword: ${l}`,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(l!==null&&f!=="boolean")throw new t.ErrorCoded(`Found an invalid @propagate value: ${l}`,t.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(r.Util.isValidKeyword(u)&&r.Util.isValidKeyword(r.Util.getContextValueId(l)))throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${r.Util.getContextValueId(l)}'`,t.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(l!==null)switch(f){case"string":if(r.Util.getPrefix(l,s)===u)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);if(r.Util.isValidIriWeak(u)){if(l==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${l}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(l)&&l!==new n.JsonLdContextNormalized(s).expandTerm(u))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${l}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!r.Util.isCompactIri(u)&&!("@id"in l)&&(l["@type"]==="@id"?!s["@base"]:!s["@vocab"]))throw new t.ErrorCoded(`Missing @id in context entry: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);for(const d of Object.keys(l)){const h=l[d];if(h)switch(d){case"@id":if(r.Util.isValidKeyword(h)&&h!=="@type"&&h!=="@id"&&h!=="@graph"&&h!=="@nest")throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIriWeak(u)){if(h==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(h)&&h!==new n.JsonLdContextNormalized(s).expandTerm(u))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof h!="string")throw new t.ErrorCoded(`Detected non-string @id in context entry: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.getPrefix(h,s)===u)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(l["@container"]==="@type"&&h!=="@id"&&h!=="@vocab")throw new t.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${u}': '${h}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof h!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(h!=="@id"&&h!=="@vocab"&&(c===1||h!=="@json")&&(c===1||h!=="@none")&&(h[0]==="_"||!r.Util.isValidIri(h)))throw new t.ErrorCoded(`A context @type must be an absolute IRI, found: '${u}': '${h}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof h=="string"&&l["@id"]&&l["@id"]!==h)throw new t.ErrorCoded(`Found non-matching @id and @reverse term values in '${u}':'${h}' and '${l["@id"]}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in l)throw new t.ErrorCoded(`@nest is not allowed in the reverse property '${u}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(c===1&&(Object.keys(h).length>1||r.Util.CONTAINERS_1_0.indexOf(Object.keys(h)[0])<0))throw new t.ErrorCoded(`Invalid term @container for '${u}' ('${Object.keys(h)}') in 1.0, must be only one of ${r.Util.CONTAINERS_1_0.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const p of Object.keys(h)){if(p==="@list"&&l["@reverse"])throw new t.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${u}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(r.Util.CONTAINERS.indexOf(p)<0)throw new t.ErrorCoded(`Invalid term @container for '${u}' ('${p}'), must be one of ${r.Util.CONTAINERS.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":e.validateLanguage(h,!0,t.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":e.validateDirection(h,!0);break;case"@prefix":if(h!==null&&typeof h!="boolean")throw new t.ErrorCoded(`Found an invalid term @prefix boolean in: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in l)&&!r.Util.isValidIri(u))throw new t.ErrorCoded(`Invalid @prefix definition for '${u}' ('${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(c===1||!l["@container"]||!l["@container"]["@index"])throw new t.ErrorCoded(`Attempt to add illegal key to value object: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(r.Util.isPotentialKeyword(h)&&h!=="@nest")throw new t.ErrorCoded(`Found an invalid term @nest value in: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new t.ErrorCoded(`Found an invalid term value: '${u}': '${l}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(s,c,u){return typeof s=="string"||(u&&!("@base"in s)&&c.parentContext&&typeof c.parentContext=="object"&&"@base"in c.parentContext&&(s["@base"]=c.parentContext["@base"],c.parentContext["@__baseDocument"]&&(s["@__baseDocument"]=!0)),c.baseIRI&&!c.external&&("@base"in s?s["@base"]!==null&&typeof s["@base"]=="string"&&!r.Util.isValidIri(s["@base"])&&(s["@base"]=(0,a.resolve)(s["@base"],c.parentContext&&c.parentContext["@base"]||c.baseIRI)):(s["@base"]=c.baseIRI,s["@__baseDocument"]=!0))),s}normalizeContextIri(s,c){if(!r.Util.isValidIri(s))try{s=(0,a.resolve)(s,c)}catch{throw new Error(`Invalid context IRI: ${s}`)}return this.redirectSchemaOrgHttps&&s.startsWith("http://schema.org")&&(s="https://schema.org/"),s}async parseInnerContexts(s,c,u){for(const l of u??Object.keys(s)){const f=s[l];if(f&&typeof f=="object"&&"@context"in f&&f["@context"]!==null&&!c.ignoreScopedContexts){if(this.validateContext)try{const d=Object.assign(Object.assign({},s),{[l]:Object.assign({},s[l])});delete d[l]["@context"],await this.parse(f["@context"],Object.assign(Object.assign({},c),{external:!1,parentContext:d,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(d){throw new t.ErrorCoded(d.message,t.ERROR_CODES.INVALID_SCOPED_CONTEXT)}s[l]=Object.assign(Object.assign({},f),{"@context":(await this.parse(f["@context"],Object.assign(Object.assign({},c),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:s}))).getContextRaw()})}}return s}async parse(s,c={},u={}){const{baseIRI:l,parentContext:f,external:d,processingMode:h=e.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:p,ignoreProtection:_,minimalProcessing:g}=c,y=c.remoteContexts||{};if(Object.keys(y).length>=this.remoteContextsDepthLimit)throw new t.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(y),t.ERROR_CODES.CONTEXT_OVERFLOW);if(s==null){if(!_&&f&&r.Util.hasProtectedTerms(f))throw new t.ErrorCoded("Illegal context nullification when terms are protected",t.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new n.JsonLdContextNormalized(this.applyBaseEntry({},c,!1))}else if(typeof s=="string"){const m=this.normalizeContextIri(s,l),b=this.getOverriddenLoad(m,c);if(b)return new n.JsonLdContextNormalized(b);const T=await this.parse(await this.load(m),Object.assign(Object.assign({},c),{baseIRI:m,external:!0,remoteContexts:Object.assign(Object.assign({},y),{[m]:!0})}));return this.applyBaseEntry(T.getContextRaw(),c,!0),T}else if(Array.isArray(s)){const m=[],b=await Promise.all(s.map((w,O)=>{if(typeof w=="string"){const F=this.normalizeContextIri(w,l);m[O]=F;const Q=this.getOverriddenLoad(F,c);return Q||this.load(F)}else return w}));if(g)return new n.JsonLdContextNormalized(b);const T=await b.reduce((w,O,F)=>w.then(Q=>this.parse(O,Object.assign(Object.assign({},c),{baseIRI:m[F]||c.baseIRI,external:!!m[F]||c.external,parentContext:Q.getContextRaw(),remoteContexts:m[F]?Object.assign(Object.assign({},y),{[m[F]]:!0}):y}),{skipValidation:F<b.length-1})),Promise.resolve(new n.JsonLdContextNormalized(f||{})));return this.applyBaseEntry(T.getContextRaw(),c,!0),T}else if(typeof s=="object"){if("@context"in s)return await this.parse(s["@context"],c);if(s=Object.assign({},s),d&&delete s["@base"],this.applyBaseEntry(s,c,!0),this.containersToHash(s),g)return new n.JsonLdContextNormalized(s);let m={};if("@import"in s)if(h>=1.1){if(typeof s["@import"]!="string")throw new t.ErrorCoded("An @import value must be a string, but got "+typeof s["@import"],t.ERROR_CODES.INVALID_IMPORT_VALUE);m=await this.loadImportContext(this.normalizeContextIri(s["@import"],l)),delete s["@import"]}else throw new t.ErrorCoded("Context importing is not supported in JSON-LD 1.0",t.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(m,{processingMode:h},n.defaultExpandOptions);const b=Object.assign(m,s);this.idifyReverseTerms(b),this.normalize(b,{processingMode:h,normalizeLanguageTags:p}),this.applyScopedProtected(b,{processingMode:h},n.defaultExpandOptions);const T=Object.keys(b),w=[];if(typeof f=="object")for(const F in f)F in b?w.push(F):b[F]=f[F];await this.parseInnerContexts(b,c,T);const O=new n.JsonLdContextNormalized(b);return(b&&b["@version"]||e.DEFAULT_PROCESSING_MODE)>=1.1&&(s["@vocab"]&&typeof s["@vocab"]=="string"||s["@vocab"]==="")&&(f&&"@vocab"in f&&s["@vocab"].indexOf(":")<0?b["@vocab"]=f["@vocab"]+s["@vocab"]:(r.Util.isCompactIri(s["@vocab"])||s["@vocab"]in b)&&(b["@vocab"]=O.expandTerm(s["@vocab"],!0))),this.expandPrefixedTerms(O,this.expandContentTypeToBase,T),!_&&f&&h>=1.1&&this.validateKeywordRedefinitions(f,b,n.defaultExpandOptions,w),this.validateContext&&!u.skipValidation&&this.validate(b,{processingMode:h}),O}else throw new t.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${s}`,t.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(s){const c=this.documentCache[s];if(c)return c;let u;try{u=await this.documentLoader.load(s)}catch(l){throw new t.ErrorCoded(`Failed to load remote context ${s}: ${l.message}`,t.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in u))throw new t.ErrorCoded(`Missing @context in remote context at ${s}`,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[s]=u["@context"]}getOverriddenLoad(s,c){if(s in(c.remoteContexts||{})){if(c.ignoreRemoteScopedContexts)return s;throw new t.ErrorCoded("Detected a cyclic context inclusion of "+s,t.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(s){let c=await this.load(s);if(typeof c!="object"||Array.isArray(c))throw new t.ErrorCoded("An imported context must be a single object: "+s,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in c)throw new t.ErrorCoded("An imported context can not import another context: "+s,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);return c=Object.assign({},c),this.containersToHash(c),c}}return e.DEFAULT_PROCESSING_MODE=1.1,tm.ContextParser=e,tm}var kF={},aV;function Che(){return aV||(aV=1,Object.defineProperty(kF,"__esModule",{value:!0})),kF}var XF={},oV;function Bhe(){return oV||(oV=1,Object.defineProperty(XF,"__esModule",{value:!0})),XF}var sV;function uV(){return sV||(sV=1,function(a){var t=Lu&&Lu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Lu&&Lu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(qhe(),a),o(FA(),a),o(eV(),a),o(Che(),a),o(Bhe(),a),o(nV(),a),o(zF(),a)}(Lu)),Lu}var im={},cV;function $he(){if(cV)return im;cV=1,Object.defineProperty(im,"__esModule",{value:!0}),im.SeparatorType=void 0;let a=class{constructor(o){this.label=o}};return im.SeparatorType=a,a.COMMA=new a(","),a.OBJECT_START=new a("{"),a.OBJECT_END=new a("}"),a.OBJECT_END_COMMA=new a("},"),a.ARRAY_START=new a("["),a.ARRAY_END=new a("]"),a.ARRAY_END_COMMA=new a("],"),a.GRAPH_FIELD_NONCOMPACT=new a('"@graph": ['),a.GRAPH_FIELD_COMPACT=new a('"@graph":['),a.CONTEXT_FIELD=new a('"@context":'),im}var am={},lV;function dV(){if(lV)return am;lV=1,Object.defineProperty(am,"__esModule",{value:!0}),am.Util=void 0;const a=uV();class t{static termToValue(n,r,e={compactIds:!1,useNativeTypes:!1}){switch(n.termType){case"NamedNode":const i=r.compactIri(n.value,e.vocab);return e.compactIds?i:{"@id":i};case"DefaultGraph":return e.compactIds?n.value:{"@id":n.value};case"BlankNode":const s=`_:${n.value}`;return e.compactIds?s:{"@id":s};case"Literal":if(n.datatype.value===t.RDF_JSON){let l;try{l=JSON.parse(n.value)}catch(f){throw new a.ErrorCoded("Invalid JSON literal: "+f.message,a.ERROR_CODES.INVALID_JSON_LITERAL)}return{"@value":l,"@type":"@json"}}if(e.rdfDirection==="i18n-datatype"&&n.datatype.value.startsWith(t.I18N)){const[l,f]=n.datatype.value.substr(t.I18N.length,n.datatype.value.length).split("_");return Object.assign(Object.assign({"@value":n.value},l?{"@language":l}:{}),f?{"@direction":f}:{})}const c=n.datatype.value===t.XSD_STRING,u={"@value":!c&&e.useNativeTypes?t.stringToNativeType(n.value,n.datatype.value):n.value};return n.language?Object.assign(Object.assign({},u),{"@language":n.language}):!c&&typeof u["@value"]=="string"?Object.assign(Object.assign({},u),{"@type":n.datatype.value}):u}}static stringToNativeType(n,r){if(r.startsWith(t.XSD))switch(r.substr(t.XSD.length)){case"boolean":if(n==="true")return!0;if(n==="false")return!1;throw new Error(`Invalid xsd:boolean value '${n}'`);case"integer":case"number":case"int":case"byte":case"long":const i=parseInt(n,10);if(isNaN(i))throw new Error(`Invalid xsd:integer value '${n}'`);return i;case"float":case"double":const s=parseFloat(n);if(isNaN(s))throw new Error(`Invalid xsd:float value '${n}'`);return s}return n}}return am.Util=t,t.XSD="http://www.w3.org/2001/XMLSchema#",t.XSD_STRING=t.XSD+"string",t.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",t.RDF_TYPE=t.RDF+"type",t.RDF_JSON=t.RDF+"JSON",t.I18N="https://www.w3.org/ns/i18n#",am}var fV;function Uhe(){if(fV)return em;fV=1,Object.defineProperty(em,"__esModule",{value:!0}),em.JsonLdSerializer=void 0;const a=uV(),t=$he(),o=dV(),n=qt();let r=class bae extends n.Transform{constructor(i={}){super({objectMode:!0}),this.indentation=0,this.options=i,this.options.baseIRI&&!this.options.context&&(this.options.context={"@base":this.options.baseIRI}),this.options.context?(this.originalContext=this.options.context,this.context=new a.ContextParser().parse(this.options.context,{baseIRI:this.options.baseIRI})):this.context=Promise.resolve(new a.JsonLdContextNormalized({}))}import(i){const s=new n.PassThrough({objectMode:!0});i.on("error",u=>c.emit("error",u)),i.on("data",u=>s.push(u)),i.on("end",()=>s.push(null));const c=s.pipe(new bae(this.options));return c}_transform(i,s,c){this.context.then(u=>{this.transformQuad(i,u),c()}).catch(c)}async list(i){const s=await this.context;return{"@list":i.map(c=>o.Util.termToValue(c,s,this.options))}}_flush(i){return this.opened||this.pushDocumentStart(),this.lastPredicate&&this.endPredicate(),this.lastSubject&&this.endSubject(),this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.endGraph(),this.endDocument(),i(null,null)}transformQuad(i,s){this.opened||this.pushDocumentStart();const c=this.lastGraph&&this.lastGraph.termType!=="DefaultGraph"&&this.lastGraph.equals(i.subject);if(!c&&(!this.lastGraph||!i.graph.equals(this.lastGraph))){let u=i.graph.termType!=="DefaultGraph"&&this.lastSubject&&this.lastSubject.equals(i.graph);this.lastGraph&&(this.lastGraph.termType!=="DefaultGraph"?(this.endPredicate(),this.endSubject(),this.endGraph(!0),u=!1):u?(this.endPredicate(!0),this.lastSubject=null):(this.endPredicate(),this.endSubject(!0))),i.graph.termType!=="DefaultGraph"&&(u||this.pushId(i.graph,!0,s),this.pushSeparator(this.options.space?t.SeparatorType.GRAPH_FIELD_NONCOMPACT:t.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++),this.lastGraph=i.graph}(!this.lastSubject||!i.subject.equals(this.lastSubject))&&(c?(this.endPredicate(),this.endSubject(),this.indentation--,this.pushSeparator(t.SeparatorType.ARRAY_END_COMMA),this.lastGraph=i.graph):(this.lastSubject&&(this.endPredicate(),this.endSubject(!0)),this.pushId(i.subject,!0,s)),this.lastSubject=i.subject),(!this.lastPredicate||!i.predicate.equals(this.lastPredicate))&&(this.lastPredicate&&this.endPredicate(!0),this.pushPredicate(i.predicate,s)),this.pushObject(i.object,s)}pushDocumentStart(){this.opened=!0,this.originalContext&&!this.options.excludeContext?(this.pushSeparator(t.SeparatorType.OBJECT_START),this.indentation++,this.pushSeparator(t.SeparatorType.CONTEXT_FIELD),this.pushIndented(JSON.stringify(this.originalContext,null,this.options.space)+","),this.pushSeparator(this.options.space?t.SeparatorType.GRAPH_FIELD_NONCOMPACT:t.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++):(this.pushSeparator(t.SeparatorType.ARRAY_START),this.indentation++)}pushId(i,s,c){if(i.termType==="Quad")this.pushNestedQuad(i,!0,c);else{const u=i.termType==="BlankNode"?"_:"+i.value:c.compactIri(i.value,!1);s?this.pushSeparator(t.SeparatorType.OBJECT_START):(this.push(t.SeparatorType.OBJECT_START.label),this.options.space&&this.push(`
`)),this.indentation++,this.pushIndented(this.options.space?`"@id": "${u}",`:`"@id":"${u}",`)}}pushPredicate(i,s){let c=i.value;!this.options.useRdfType&&c===o.Util.RDF_TYPE&&(c="@type",this.objectOptions=Object.assign(Object.assign({},this.options),{compactIds:!0,vocab:!0}));const u=s.compactIri(c,!0);this.pushIndented(this.options.space?`"${u}": [`:`"${u}":[`),this.indentation++,this.lastPredicate=i}pushObject(i,s){if(this.hadObjectForPredicate?this.pushSeparator(t.SeparatorType.COMMA):this.hadObjectForPredicate=!0,i.termType==="Quad"){const u=this.lastSubject,l=this.lastPredicate;this.hadObjectForPredicate=!1,this.pushNestedQuad(i,!1,s),this.endSubject(!1),this.hadObjectForPredicate=!0,this.lastPredicate=l,this.lastSubject=u;return}let c;try{i["@list"]?c=i:c=o.Util.termToValue(i,s,this.objectOptions||this.options)}catch(u){return this.emit("error",u)}this.pushIndented(JSON.stringify(c,null,this.options.space))}pushNestedQuad(i,s,c){this.pushSeparator(t.SeparatorType.OBJECT_START),this.indentation++,this.pushIndented(this.options.space?'"@id": ':'"@id":',!1),i.graph.termType!=="DefaultGraph"&&this.emit("error",new Error(`Found a nested quad with the non-default graph: ${i.graph.value}`)),this.pushId(i.subject,!1,c),this.pushPredicate(i.predicate,c),this.pushObject(i.object,c),this.endPredicate(!1),this.endSubject(s)}endDocument(){this.opened=!1,this.originalContext&&!this.options.excludeContext?(this.indentation--,this.pushSeparator(t.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(t.SeparatorType.OBJECT_END)):(this.indentation--,this.pushSeparator(t.SeparatorType.ARRAY_END))}endPredicate(i){this.indentation--,this.pushSeparator(i?t.SeparatorType.ARRAY_END_COMMA:t.SeparatorType.ARRAY_END),this.hadObjectForPredicate=!1,this.objectOptions=null,this.lastPredicate=null}endSubject(i){this.indentation--,this.pushSeparator(i?t.SeparatorType.OBJECT_END_COMMA:t.SeparatorType.OBJECT_END),this.lastSubject=null}endGraph(i){this.indentation--,this.pushSeparator(t.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(i?t.SeparatorType.OBJECT_END_COMMA:t.SeparatorType.OBJECT_END),this.lastGraph=null}pushSeparator(i){this.pushIndented(i.label)}pushIndented(i,s=!0){const c=this.getIndentPrefix(),u=i.split(`
`).map(l=>c+l).join(`
`);this.push(u),this.options.space&&s&&this.push(`
`)}getIndentPrefix(){return this.options.space?this.options.space.repeat(this.indentation):""}};return em.JsonLdSerializer=r,em}var hV;function Vhe(){return hV||(hV=1,function(a){var t=Pu&&Pu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Pu&&Pu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Uhe(),a),o(dV(),a)}(Pu)),Pu}var pV;function Qhe(){if(pV)return Z_;pV=1,Object.defineProperty(Z_,"__esModule",{value:!0}),Z_.ActorRdfSerializeJsonLd=void 0;const a=QF(),t=Vhe();let o=class extends a.ActorRdfSerializeFixedMediaTypes{constructor(r){super(r)}async runHandle(r,e,i){const s=new t.JsonLdSerializer({space:" ".repeat(this.jsonStringifyIndentSpaces)});let c;return"pipe"in r.quadStream?(r.quadStream.on("error",u=>s.emit("error",u)),c=r.quadStream.pipe(s)):c=s.import(r.quadStream),{data:c}}};return Z_.ActorRdfSerializeJsonLd=o,Z_}var yV;function Hhe(){return yV||(yV=1,function(a){var t=Du&&Du.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Du&&Du.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Qhe(),a)}(Du)),Du}var ju={},om={},NA={},bV;function Ghe(){if(bV)return NA;bV=1,Object.defineProperty(NA,"__esModule",{value:!0});function a(o,n){return new Promise((r,e)=>{o.on("end",()=>r(n)),o.on("error",e)})}function t(o){const n=[];return a(o.on("data",r=>n.push(r)),n)}return NA.default=t,NA}var Vi={},va={},sm={},um={},_V;function zhe(){if(_V)return um;_V=1,Object.defineProperty(um,"__esModule",{value:!0}),um.fragment=void 0;function a(n){let r=n;(r.endsWith("/")||r.endsWith("#"))&&(r=r.slice(0,r.length-1));const e=[];r.lastIndexOf("/")>0&&e.push(r.lastIndexOf("/")),r.lastIndexOf("#")>0&&e.push(r.lastIndexOf("#"));const i=Math.max(...e);return r.slice(i+1)}function t(n){var r;const e=(r=n.split(/[^a-z0-9]+/ig).filter(i=>i!=="").map(i=>i[0].toUpperCase()+i.slice(1)).join("").match(/[a-z][a-z0-9]+/ig))===null||r===void 0?void 0:r[0];return typeof e>"u"?void 0:e[0].toLowerCase()+e.slice(1)}function o(n){let r=a(n);return r=r?t(r):void 0,r||"v"}return um.fragment=o,um}var Mu={},qu={},Qi={},DA={exports:{}},mV;function khe(){return mV||(mV=1,function(a,t){var o=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Ft<"u"&&Ft,n=function(){function e(){this.fetch=!1,this.DOMException=o.DOMException}return e.prototype=o,new e}();(function(e){(function(i){var s=typeof e<"u"&&e||typeof self<"u"&&self||typeof Ft<"u"&&Ft||{},c={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function u(z){return z&&DataView.prototype.isPrototypeOf(z)}if(c.arrayBuffer)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(z){return z&&l.indexOf(Object.prototype.toString.call(z))>-1};function d(z){if(typeof z!="string"&&(z=String(z)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(z)||z==="")throw new TypeError('Invalid character in header field name: "'+z+'"');return z.toLowerCase()}function h(z){return typeof z!="string"&&(z=String(z)),z}function p(z){var J={next:function(){var ie=z.shift();return{done:ie===void 0,value:ie}}};return c.iterable&&(J[Symbol.iterator]=function(){return J}),J}function _(z){this.map={},z instanceof _?z.forEach(function(J,ie){this.append(ie,J)},this):Array.isArray(z)?z.forEach(function(J){if(J.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+J.length);this.append(J[0],J[1])},this):z&&Object.getOwnPropertyNames(z).forEach(function(J){this.append(J,z[J])},this)}_.prototype.append=function(z,J){z=d(z),J=h(J);var ie=this.map[z];this.map[z]=ie?ie+", "+J:J},_.prototype.delete=function(z){delete this.map[d(z)]},_.prototype.get=function(z){return z=d(z),this.has(z)?this.map[z]:null},_.prototype.has=function(z){return this.map.hasOwnProperty(d(z))},_.prototype.set=function(z,J){this.map[d(z)]=h(J)},_.prototype.forEach=function(z,J){for(var ie in this.map)this.map.hasOwnProperty(ie)&&z.call(J,this.map[ie],ie,this)},_.prototype.keys=function(){var z=[];return this.forEach(function(J,ie){z.push(ie)}),p(z)},_.prototype.values=function(){var z=[];return this.forEach(function(J){z.push(J)}),p(z)},_.prototype.entries=function(){var z=[];return this.forEach(function(J,ie){z.push([ie,J])}),p(z)},c.iterable&&(_.prototype[Symbol.iterator]=_.prototype.entries);function g(z){if(!z._noBody){if(z.bodyUsed)return Promise.reject(new TypeError("Already read"));z.bodyUsed=!0}}function y(z){return new Promise(function(J,ie){z.onload=function(){J(z.result)},z.onerror=function(){ie(z.error)}})}function m(z){var J=new FileReader,ie=y(J);return J.readAsArrayBuffer(z),ie}function b(z){var J=new FileReader,ie=y(J),se=/charset=([A-Za-z0-9_-]+)/.exec(z.type),ye=se?se[1]:"utf-8";return J.readAsText(z,ye),ie}function T(z){for(var J=new Uint8Array(z),ie=new Array(J.length),se=0;se<J.length;se++)ie[se]=String.fromCharCode(J[se]);return ie.join("")}function w(z){if(z.slice)return z.slice(0);var J=new Uint8Array(z.byteLength);return J.set(new Uint8Array(z)),J.buffer}function O(){return this.bodyUsed=!1,this._initBody=function(z){this.bodyUsed=this.bodyUsed,this._bodyInit=z,z?typeof z=="string"?this._bodyText=z:c.blob&&Blob.prototype.isPrototypeOf(z)?this._bodyBlob=z:c.formData&&FormData.prototype.isPrototypeOf(z)?this._bodyFormData=z:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(z)?this._bodyText=z.toString():c.arrayBuffer&&c.blob&&u(z)?(this._bodyArrayBuffer=w(z.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(z)||f(z))?this._bodyArrayBuffer=w(z):this._bodyText=z=Object.prototype.toString.call(z):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof z=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(z)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var z=g(this);if(z)return z;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var z=g(this);return z||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(m);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var z=g(this);if(z)return z;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(T(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Q(z){var J=z.toUpperCase();return F.indexOf(J)>-1?J:z}function j(z,J){if(!(this instanceof j))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');J=J||{};var ie=J.body;if(z instanceof j){if(z.bodyUsed)throw new TypeError("Already read");this.url=z.url,this.credentials=z.credentials,J.headers||(this.headers=new _(z.headers)),this.method=z.method,this.mode=z.mode,this.signal=z.signal,!ie&&z._bodyInit!=null&&(ie=z._bodyInit,z.bodyUsed=!0)}else this.url=String(z);if(this.credentials=J.credentials||this.credentials||"same-origin",(J.headers||!this.headers)&&(this.headers=new _(J.headers)),this.method=Q(J.method||this.method||"GET"),this.mode=J.mode||this.mode||null,this.signal=J.signal||this.signal||function(){if("AbortController"in s){var K=new AbortController;return K.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ie)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ie),(this.method==="GET"||this.method==="HEAD")&&(J.cache==="no-store"||J.cache==="no-cache")){var se=/([?&])_=[^&]*/;if(se.test(this.url))this.url=this.url.replace(se,"$1_="+new Date().getTime());else{var ye=/\?/;this.url+=(ye.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}j.prototype.clone=function(){return new j(this,{body:this._bodyInit})};function x(z){var J=new FormData;return z.trim().split("&").forEach(function(ie){if(ie){var se=ie.split("="),ye=se.shift().replace(/\+/g," "),K=se.join("=").replace(/\+/g," ");J.append(decodeURIComponent(ye),decodeURIComponent(K))}}),J}function I(z){var J=new _,ie=z.replace(/\r?\n[\t ]+/g," ");return ie.split("\r").map(function(se){return se.indexOf(`
`)===0?se.substr(1,se.length):se}).forEach(function(se){var ye=se.split(":"),K=ye.shift().trim();if(K){var Te=ye.join(":").trim();try{J.append(K,Te)}catch(Ne){console.warn("Response "+Ne.message)}}}),J}O.call(j.prototype);function D(z,J){if(!(this instanceof D))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(J||(J={}),this.type="default",this.status=J.status===void 0?200:J.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=J.statusText===void 0?"":""+J.statusText,this.headers=new _(J.headers),this.url=J.url||"",this._initBody(z)}O.call(D.prototype),D.prototype.clone=function(){return new D(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},D.error=function(){var z=new D(null,{status:200,statusText:""});return z.ok=!1,z.status=0,z.type="error",z};var C=[301,302,303,307,308];D.redirect=function(z,J){if(C.indexOf(J)===-1)throw new RangeError("Invalid status code");return new D(null,{status:J,headers:{location:z}})},i.DOMException=s.DOMException;try{new i.DOMException}catch{i.DOMException=function(J,ie){this.message=J,this.name=ie;var se=Error(J);this.stack=se.stack},i.DOMException.prototype=Object.create(Error.prototype),i.DOMException.prototype.constructor=i.DOMException}function X(z,J){return new Promise(function(ie,se){var ye=new j(z,J);if(ye.signal&&ye.signal.aborted)return se(new i.DOMException("Aborted","AbortError"));var K=new XMLHttpRequest;function Te(){K.abort()}K.onload=function(){var $={statusText:K.statusText,headers:I(K.getAllResponseHeaders()||"")};ye.url.indexOf("file://")===0&&(K.status<200||K.status>599)?$.status=200:$.status=K.status,$.url="responseURL"in K?K.responseURL:$.headers.get("X-Request-URL");var He="response"in K?K.response:K.responseText;setTimeout(function(){ie(new D(He,$))},0)},K.onerror=function(){setTimeout(function(){se(new TypeError("Network request failed"))},0)},K.ontimeout=function(){setTimeout(function(){se(new TypeError("Network request timed out"))},0)},K.onabort=function(){setTimeout(function(){se(new i.DOMException("Aborted","AbortError"))},0)};function Ne($){try{return $===""&&s.location.href?s.location.href:$}catch{return $}}if(K.open(ye.method,Ne(ye.url),!0),ye.credentials==="include"?K.withCredentials=!0:ye.credentials==="omit"&&(K.withCredentials=!1),"responseType"in K&&(c.blob?K.responseType="blob":c.arrayBuffer&&(K.responseType="arraybuffer")),J&&typeof J.headers=="object"&&!(J.headers instanceof _||s.Headers&&J.headers instanceof s.Headers)){var _e=[];Object.getOwnPropertyNames(J.headers).forEach(function($){_e.push(d($)),K.setRequestHeader($,h(J.headers[$]))}),ye.headers.forEach(function($,He){_e.indexOf(He)===-1&&K.setRequestHeader(He,$)})}else ye.headers.forEach(function($,He){K.setRequestHeader(He,$)});ye.signal&&(ye.signal.addEventListener("abort",Te),K.onreadystatechange=function(){K.readyState===4&&ye.signal.removeEventListener("abort",Te)}),K.send(typeof ye._bodyInit>"u"?null:ye._bodyInit)})}return X.polyfill=!0,s.fetch||(s.fetch=X,s.Headers=_,s.Request=j,s.Response=D),i.Headers=_,i.Request=j,i.Response=D,i.fetch=X,Object.defineProperty(i,"__esModule",{value:!0}),i})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var r=o.fetch?o:n;t=r.fetch,t.default=r.fetch,t.fetch=r.fetch,t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response,a.exports=t}(DA,DA.exports)),DA.exports}var gV;function WF(){if(gV)return Qi;gV=1;var a=Qi&&Qi.__awaiter||function(r,e,i,s){function c(u){return u instanceof i?u:new i(function(l){l(u)})}return new(i||(i=Promise))(function(u,l){function f(p){try{h(s.next(p))}catch(_){l(_)}}function d(p){try{h(s.throw(p))}catch(_){l(_)}}function h(p){p.done?u(p.value):c(p.value).then(f,d)}h((s=s.apply(r,e||[])).next())})};Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.fetchContext=Qi.fetchJson=void 0;const t=khe();function o(r,e){var i;return a(this,void 0,void 0,function*(){return(yield((i=e==null?void 0:e.fetch)!==null&&i!==void 0?i:t.fetch)(r)).json()})}Qi.fetchJson=o;function n(r,e){return a(this,void 0,void 0,function*(){return(yield o(r,e))["@context"]})}return Qi.fetchContext=n,Qi}var vV;function Xhe(){if(vV)return qu;vV=1;var a=qu&&qu.__awaiter||function(n,r,e,i){function s(c){return c instanceof e?c:new e(function(u){u(c)})}return new(e||(e=Promise))(function(c,u){function l(h){try{d(i.next(h))}catch(p){u(p)}}function f(h){try{d(i.throw(h))}catch(p){u(p)}}function d(h){h.done?c(h.value):s(h.value).then(l,f)}d((i=i.apply(n,r||[])).next())})};Object.defineProperty(qu,"__esModule",{value:!0}),qu.lookupUri=void 0;const t=WF();function o(n,r){return a(this,void 0,void 0,function*(){const e=(yield(0,t.fetchContext)(`https://prefix.cc/${n}.file.jsonld`,r))[n];if(typeof e!="string")throw new Error(`Expected uri to be a string, received: ${e} of type ${typeof e}`);return e})}return qu.lookupUri=o,qu}var Cu={},TV;function Whe(){if(TV)return Cu;TV=1;var a=Cu&&Cu.__awaiter||function(n,r,e,i){function s(c){return c instanceof e?c:new e(function(u){u(c)})}return new(e||(e=Promise))(function(c,u){function l(h){try{d(i.next(h))}catch(p){u(p)}}function f(h){try{d(i.throw(h))}catch(p){u(p)}}function d(h){h.done?c(h.value):s(h.value).then(l,f)}d((i=i.apply(n,r||[])).next())})};Object.defineProperty(Cu,"__esModule",{value:!0}),Cu.lookupPrefix=void 0;const t=WF();function o(n,r){return a(this,void 0,void 0,function*(){const e=new URL("https://prefix.cc/reverse");e.searchParams.append("uri",n),e.searchParams.append("format","jsonld");const i=Object.keys(yield(0,t.fetchContext)(e,r));if(i.length===0)throw new Error("No prefixes returned");return i[0]})}return Cu.lookupPrefix=o,Cu}var Bu={},wV;function Jhe(){if(wV)return Bu;wV=1;var a=Bu&&Bu.__awaiter||function(n,r,e,i){function s(c){return c instanceof e?c:new e(function(u){u(c)})}return new(e||(e=Promise))(function(c,u){function l(h){try{d(i.next(h))}catch(p){u(p)}}function f(h){try{d(i.throw(h))}catch(p){u(p)}}function d(h){h.done?c(h.value):s(h.value).then(l,f)}d((i=i.apply(n,r||[])).next())})};Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.lookupAllPrefixes=void 0;const t=WF();function o(n){return a(this,void 0,void 0,function*(){return(0,t.fetchContext)("https://prefix.cc/context",n)})}return Bu.lookupAllPrefixes=o,Bu}var SV;function OV(){return SV||(SV=1,function(a){var t=Mu&&Mu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Mu&&Mu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Xhe(),a),o(Whe(),a),o(Jhe(),a)}(Mu)),Mu}var AV;function Khe(){return AV||(AV=1,function(a){var t=sm&&sm.__awaiter||function(s,c,u,l){function f(d){return d instanceof u?d:new u(function(h){h(d)})}return new(u||(u=Promise))(function(d,h){function p(y){try{g(l.next(y))}catch(m){h(m)}}function _(y){try{g(l.throw(y))}catch(m){h(m)}}function g(y){y.done?d(y.value):f(y.value).then(p,_)}g((l=l.apply(s,c||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0}),a.lookupAllPrefixes=a.prefixToUri=a.uriToPrefix=void 0;const o=zhe(),n=OV();function r(s,c){return t(this,void 0,void 0,function*(){let u;try{u=yield(0,n.lookupPrefix)(s,c)}catch{c!=null&&c.mintOnUnknown&&(u=(0,o.fragment)(s).slice(0,4))}if(typeof u<"u"&&typeof(c==null?void 0:c.existingPrefixes)=="object"&&u in c.existingPrefixes){let l=0;for(;`${u}${l}`in c.existingPrefixes;)l+=1;u=`${u}${l}`}return u})}a.uriToPrefix=r;function e(s,c){return t(this,void 0,void 0,function*(){try{return yield(0,n.lookupUri)(s,c)}catch{return}})}a.prefixToUri=e;var i=OV();Object.defineProperty(a,"lookupAllPrefixes",{enumerable:!0,get:function(){return i.lookupAllPrefixes}})}(sm)),sm}var cm={},EV;function Yhe(){if(EV)return cm;EV=1,Object.defineProperty(cm,"__esModule",{value:!0}),cm.getShaclName=void 0;function a(t){if(t.termType!=="NamedNode"||!t.value.startsWith("http://www.w3.org/ns/shacl#"))throw new Error(`Term ${t.value} is not part of the SHACL namespace`);return t.value.slice(27)}return cm.getShaclName=a,cm}var PA={},xV;function Zhe(){return xV||(xV=1,Object.defineProperty(PA,"__esModule",{value:!0}),PA.default={deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,uniqueLang:!0,equals:!0,disjoint:!0,lessThan:!0,lessThanOrEquals:!0,qualifiedValueShape:!0,qualifiedMinCount:!0,qualifiedMaxCount:!0,qualifiedValueShapesDisjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0,node:!0}),PA}var LA={},IV;function epe(){return IV||(IV=1,Object.defineProperty(LA,"__esModule",{value:!0}),LA.default={owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"}),LA}var jA={},RV;function tpe(){return RV||(RV=1,Object.defineProperty(jA,"__esModule",{value:!0}),jA.default={targetNode:!0,targetObjectsOf:!0,targetSubjectsOf:!0,deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,equals:!0,disjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0}),jA}var FV;function rpe(){if(FV)return va;FV=1;var a=va&&va.__awaiter||function(h,p,_,g){function y(m){return m instanceof _?m:new _(function(b){b(m)})}return new(_||(_=Promise))(function(m,b){function T(F){try{O(g.next(F))}catch(Q){b(Q)}}function w(F){try{O(g.throw(F))}catch(Q){b(Q)}}function O(F){F.done?m(F.value):y(F.value).then(T,w)}O((g=g.apply(h,p||[])).next())})},t=va&&va.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(va,"__esModule",{value:!0});const o=ma,n=Khe(),r=W1(),e=Yhe(),i=t(Zhe()),s=t(epe()),c=t(tpe());function u(h){var p;return(p=/^[^]*[#/]/.exec(h))===null||p===void 0?void 0:p[0]}const l={"http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf","http://www.w3.org/2000/01/rdf-schema#":"rdfs","http://www.w3.org/ns/shacl#":"sh","http://www.w3.org/2001/XMLSchema#":"xsd"},f={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"};class d{constructor(p,_,g={},y=void 0,m=!0,b=!1,T,w=!1){this.store=p,this.base=y,this.errorOnExtraQuads=m,this.mintUnspecifiedPrefixes=b,this.fetch=T,this.extendedSyntax=w,this.prefixes={},this.prefixRev={};for(const O of Object.keys(g)){const F=g[O],Q=typeof F=="string"?F:F.value;!(Q in l)&&!(O in f)&&(this.prefixRev[Q]=O,this.prefixes[O]=Q)}this.writer=_}write(){return a(this,void 0,void 0,function*(){const p=this.store.getQuads(null,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://www.w3.org/2002/07/owl#Ontology",null);if(p.length===1&&p[0].subject.termType==="NamedNode"){const g=p[0].subject;this.store.removeQuads(p),g.equals(new o.NamedNode("urn:x-base:default"))||this.writer.add(`BASE ${(0,r.termToString)(g)}`),yield this.writeImports(g)}else throw new Error("Base expected");if(this.mintUnspecifiedPrefixes){const g=new Set;for(const m of[...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)])if(m.termType==="NamedNode"){const b=u(m.value);b&&!(b in this.prefixRev)&&!(b in l)&&g.add(b)}const y=Object.assign(Object.assign({},this.prefixes),f);yield Promise.all([...g].map(m=>(0,n.uriToPrefix)(m,{fetch:this.fetch,mintOnUnknown:!0,existingPrefixes:y}).then(b=>{this.prefixes[b]=m,y[b]=m,this.prefixRev[m]=b})))}const _=new Set([...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)].filter(g=>g.termType==="NamedNode").map(g=>u(g.value)).filter(g=>typeof g=="string"));for(const g in this.prefixRev)_.has(g)||(delete this.prefixes[this.prefixRev[g]],delete this.prefixRev[g]);if(yield this.writePrefixes(),this.prefixes=Object.assign(Object.assign({},this.prefixes),f),this.prefixRev=Object.assign(Object.assign({},this.prefixRev),l),this.writer.newLine(),yield this.writeShapes(),this.extendedSyntax){const g=this.store.getSubjects(null,null,null);g.length>0&&this.writer.newLine(1);for(const y of g)this.writer.add(yield this.termToString(y,!0,!0)),this.writer.add(" "),this.writer.indent(),yield this.writeTurtlePredicates(y),this.writer.deindent();g.length>0&&(this.writer.add(" ."),this.writer.newLine())}if(this.errorOnExtraQuads&&this.store.size>0)throw new Error(`Dataset contains quads that cannot be written in SHACLC [
${new o.Writer({prefixes:this.prefixes}).quadsToString(this.store.getQuads(null,null,null,null))}]`);this.writer.end()})}writeImports(p){return a(this,void 0,void 0,function*(){const _=this.store.getObjectsOnce(p,new o.NamedNode("http://www.w3.org/2002/07/owl#imports"),null);if(_.length>0)for(const g of _)this.writer.add(`IMPORTS <${g.value}>`,!0)})}writePrefixes(){return a(this,void 0,void 0,function*(){const p=Object.keys(this.prefixes).filter(_=>!(_ in s.default)).sort();if(p.length>0)for(const _ of p)this.writer.add(`PREFIX ${_}: <${this.prefixes[_]}>`,!0)})}termToString(p,_=!1,g=!1){return a(this,void 0,void 0,function*(){try{if(_)throw new Error("Shacl name disabled");return(0,e.getShaclName)(p)}catch{}if(p.termType==="NamedNode"){const y=u(p.value);return y&&y in this.prefixRev&&y in this.prefixRev?`${this.prefixRev[y]}:${p.value.slice(y.length)}`:(0,r.termToString)(p)}if(p.termType==="Literal")return p.datatypeString==="http://www.w3.org/2001/XMLSchema#integer"||p.datatypeString==="http://www.w3.org/2001/XMLSchema#boolean"?p.value:(0,r.termToString)(p);throw p.termType==="BlankNode"&&g&&(0,r.termToString)(p),new Error(`Invalid term type for extra statement ${p.value} (${p.termType})`)})}writeShapes(){return a(this,void 0,void 0,function*(){for(const p of this.store.getSubjectsOnce(new o.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new o.NamedNode("http://www.w3.org/ns/shacl#NodeShape"),null)){this.store.getQuadsOnce(p,new o.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new o.NamedNode("http://www.w3.org/2000/01/rdf-schema#Class"),null).length>0?this.writer.add("shapeClass "):this.writer.add("shape "),this.writer.add(yield this.termToString(p)),this.writer.add(" ");const _=this.store.getObjectsOnce(p,new o.NamedNode("http://www.w3.org/ns/shacl#targetClass"),null);if(_.length>0){this.writer.add("-> ");for(const y of _)y.termType==="NamedNode"?this.writer.add(yield this.termToString(y)):(this.writer.add("!"),this.writer.add(yield this.termToString(this.singleObject(y,new o.NamedNode("http://www.w3.org/ns/shacl#not"),!0)))),this.writer.add(" ")}const g=this.store.getPredicates(p,null,null).filter(y=>[new o.NamedNode("http://www.w3.org/ns/shacl#targetClass"),new o.NamedNode("http://www.w3.org/ns/shacl#property"),new o.NamedNode("http://www.w3.org/ns/shacl#or"),...Object.keys(c.default).map(m=>new o.NamedNode("http://www.w3.org/ns/shacl#"+m))].every(m=>!y.equals(m)));g.length>0&&(this.writer.add(";"),this.writer.indent(),this.writer.newLine(1)),this.extendedSyntax&&(yield this.writeGivenTurtlePredicates(p,g)),g.length>0&&(this.writer.add(" "),this.writer.deindent()),yield this.writeShapeBody(p,!1)}})}getSingleProperty(p,_){let g=[p];try{let y=(0,e.getShaclName)(p.predicate),m="pred";if(y==="not"){const b=this.store.getQuadsOnce(p.object,null,null,null);if(g=g.concat(b),b.length!==1)throw new Error("Can only handle having one predicate of 'not'");[p]=b,y=(0,e.getShaclName)(p.predicate),m="not"}if(!(y in _))throw new Error(`${y} is not allowed`);return{name:y,type:m,object:p.object}}catch{this.store.addQuads(g)}}singleLayerPropertiesList(p,_){const g=[];for(const y of this.store.getQuadsOnce(p,null,null,null)){const m=this.getSingleProperty(y,_);m&&g.push(m)}return g}expectOneProperty(p,_){const g=this.store.getQuadsOnce(p,null,null,null);if(g.length===1){const y=this.getSingleProperty(g[0],_);if(y)return y}this.store.addQuads(g)}orProperties(p,_){const g=[];for(const y of this.store.getQuadsOnce(p,new o.NamedNode("http://www.w3.org/ns/shacl#or"),null,null)){const m=[];for(const b of this.getList(y.object)){const T=this.expectOneProperty(b,_);if(!T)throw this.store.addQuad(y),new Error("Each entry of the 'or' statement must declare exactly one property");m.push(T)}g.push(m)}return g}getList(p){let _=p;const g=[];for(;!_.equals(new o.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));)g.push(this.singleObject(_,new o.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),!0)),_=this.singleObject(_,new o.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),!0);return g}writeIriLiteralOrArray(p){return a(this,void 0,void 0,function*(){if(p.termType==="BlankNode"){this.writer.add("[");let _=!0;for(const g of this.getList(p))_?_=!1:this.writer.add(" "),this.writer.add(yield this.termToString(g));this.writer.add("]")}else this.writer.add(yield this.termToString(p))})}singleObject(p,_,g){var y;return(y=this.singleQuad(p,_,g))===null||y===void 0?void 0:y.object}singleQuad(p,_,g=!1){const y=this.store.getQuadsOnce(p,_,null,null);if(g&&y.length!==1)throw this.store.addQuads(y),new Error(`The subject and predicate ${p==null?void 0:p.value} ${_==null?void 0:_.value} must have exactly one object. Instead has ${y.length}`);if(y.length>1)throw this.store.addQuads(y),new Error(`The subject and predicate ${p==null?void 0:p.value} ${_==null?void 0:_.value} can have at most one object. Instead has ${y.length}`);return y.length===1?y[0]:void 0}writeAssigment({name:p,type:_,object:g}){return a(this,void 0,void 0,function*(){_==="not"&&this.writer.add("!"),this.writer.add(p),this.writer.add("="),yield this.writeIriLiteralOrArray(g)})}writeAtom({name:p,type:_,object:g}){return a(this,void 0,void 0,function*(){switch(_==="not"&&this.writer.add("!"),p){case"node":{if(g.termType==="NamedNode")this.writer.add(`@${yield this.termToString(g)}`);else if(g.termType==="BlankNode")yield this.writeShapeBody(g);else throw new Error("Invalid nested shape, must be blank node or IRI");return}case"nodeKind":{this.writer.add((0,e.getShaclName)(g));return}case"class":{this.writer.add(yield this.termToString(g));return}case"datatype":{this.writer.add(yield this.termToString(g));return}default:this.writer.add(p),this.writer.add("="),yield this.writeIriLiteralOrArray(g)}})}writeAssigments(p,_=" ",g=!0,y){return a(this,void 0,void 0,function*(){for(const m of p)g?g=!1:this.writer.add(_),y?yield this.writeAtom(m):yield this.writeAssigment(m)})}writeParams(p,_=!0,g,y=!1,m=!1){return a(this,void 0,void 0,function*(){const b=this.orProperties(p,g),T=this.singleLayerPropertiesList(p,g);m&&(b.length>0||T.length>0)&&this.writer.newLine(1);for(const w of b)_?_=!1:this.writer.add(" "),yield this.writeAssigments(w,"|",!0,y);yield this.writeAssigments(T," ",_,y),m&&(b.length>0||T.length>0)&&this.writer.add(" .")})}writeShapeBody(p,_=!0){return a(this,void 0,void 0,function*(){this.writer.add("{").indent();const g=this.store.getObjectsOnce(p,new o.NamedNode("http://www.w3.org/ns/shacl#property"),null);yield this.writeParams(p,!0,c.default,!1,!0);for(const y of g)this.writer.newLine(1),yield this.writeProperty(y);this.writer.deindent().newLine(1),_?this.writer.add("} ."):this.writer.add("}").newLine(1)})}writeProperty(p){return a(this,void 0,void 0,function*(){yield this.writePath(this.singleObject(p,new o.NamedNode("http://www.w3.org/ns/shacl#path"),!0));const _=this.singleObject(p,new o.NamedNode("http://www.w3.org/ns/shacl#minCount")),g=this.singleObject(p,new o.NamedNode("http://www.w3.org/ns/shacl#maxCount")),y=this.singleObject(p,new o.NamedNode("http://www.w3.org/ns/shacl#nodeKind")),m=this.singleObject(p,new o.NamedNode("http://www.w3.org/ns/shacl#class")),b=this.singleObject(p,new o.NamedNode("http://www.w3.org/ns/shacl#datatype")),T=this.store.getObjectsOnce(p,new o.NamedNode("http://www.w3.org/ns/shacl#node"),null);if(y&&(this.writer.add(" "),this.writer.add((0,e.getShaclName)(y))),m&&(this.writer.add(" "),this.writer.add(yield this.termToString(m))),b&&(this.writer.add(" "),this.writer.add(yield this.termToString(b))),_!==void 0||g!==void 0){if(this.writer.add(" ["),_){if(_.termType!=="Literal"||_.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid min value, must me an integer literal");this.writer.add(_.value)}else this.writer.add("0");if(this.writer.add(".."),g){if(g.termType!=="Literal"||g.datatypeString!=="http://www.w3.org/2001/XMLSchema#integer")throw new Error("Invalid max value, must me an integer literal");this.store.removeMatches(p,new o.NamedNode("http://www.w3.org/ns/shacl#maxCount"),void 0,void 0),this.writer.add(g.value)}else this.writer.add("*");this.writer.add("]")}yield this.writeParams(p,!1,i.default,!0);const w=[];for(const O of T)if(O.termType==="NamedNode")this.writer.add(" "),this.writer.add(`@${yield this.termToString(O)}`);else if(O.termType==="BlankNode")w.push(O);else throw new Error("Invalid nested shape, must be blank node or IRI");for(const O of w)this.writer.add(" "),yield this.writeShapeBody(O);this.extendedSyntax&&this.store.getQuads(p,null,null,null).length>0&&(this.writer.add(" %"),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(p),this.writer.deindent(),this.writer.newLine(1),this.writer.add("%")),w.length===0&&this.writer.add(" .")})}writeTurtlePredicates(p){return a(this,void 0,void 0,function*(){return this.writeGivenTurtlePredicates(p,this.store.getPredicates(p,null,null))})}writeGivenTurtlePredicates(p,_){return a(this,void 0,void 0,function*(){let g=!1;if(_.some(y=>y.equals(o.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")))){const y=this.store.getObjectsOnce(p,o.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),null);y.length>0&&(g=!0,this.writer.add("a "),yield this.writeTurtleObjects(y))}for(const y of _)y.equals(o.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))||(g?(this.writer.add(" ;"),this.writer.newLine(1)):g=!0,this.writer.add(yield this.termToString(y,!0)),this.writer.add(" "),yield this.writeTurtleObjects(this.store.getObjectsOnce(p,y,null)))})}writeTurtleObjects(p){return a(this,void 0,void 0,function*(){const _=[],g=[];for(const m of p)m.termType==="BlankNode"&&[...this.store.match(null,null,m),...this.store.match(null,m,null)].length===0?_.push(m):g.push(m);this.writer.add((yield Promise.all(g.map(m=>this.termToString(m,!0,!0)))).join(", "));let y=g.length>0;if(_.length>0)for(const m of _)y?this.writer.add(", "):y=!0,(yield this.writeList(m))||(this.writer.add("["),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(m),this.writer.deindent(),this.writer.newLine(1),this.writer.add("]"))})}writeList(p){return a(this,void 0,void 0,function*(){let _=p;const g=[],y=[];for(;!_.equals(o.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));){const b=this.store.getQuadsOnce(_,o.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null,null),T=this.store.getQuadsOnce(_,o.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null,null);if(y.push(...b,...T),b.length!==1||T.length!==1||this.store.getQuads(_,null,null,null).length!==0)return this.store.addQuads(y),!1;g.push(b[0].object),_=T[0].object}let m=!1;this.writer.add("(");for(const b of g)m?this.writer.add(" "):m=!0,yield this.writeTurtleObjects([b]);return this.writer.add(")"),!0})}writePath(p,_=!1){return a(this,void 0,void 0,function*(){if(p.termType==="NamedNode")this.writer.add(yield this.termToString(p));else if(p.termType==="BlankNode"){const g=this.store.getQuadsOnce(p,null,null,null);if(g.length===1){const{predicate:y,object:m}=g[0];switch(y.value){case"http://www.w3.org/ns/shacl#inversePath":this.writer.add("^"),yield this.writePath(m,!0);return;case"http://www.w3.org/ns/shacl#alternativePath":{const b=this.getList(m);if(b.length===0)throw new Error("Invalid Alternative Path - no options");if(b.length===1)yield this.writePath(b[0]);else{_&&this.writer.add("(");let T=!0;for(const w of b)T?T=!1:this.writer.add("|"),yield this.writePath(w,!0);_&&this.writer.add(")")}return}case"http://www.w3.org/ns/shacl#zeroOrMorePath":yield this.writePath(m,!0),this.writer.add("*");return;case"http://www.w3.org/ns/shacl#oneOrMorePath":yield this.writePath(m,!0),this.writer.add("+");return;case"http://www.w3.org/ns/shacl#zeroOrOnePath":yield this.writePath(m,!0),this.writer.add("?");return;default:throw new Error(`Invalid path type ${p.value}`)}}else{this.store.addQuads(g);const y=this.getList(p);if(y.length===0)throw new Error("Invalid Path");{_&&this.writer.add("(");let m=!0;for(const b of y)m?m=!1:this.writer.add("/"),yield this.writePath(b,!0);_&&this.writer.add(")")}}}else throw new Error("Path should be named node or blank node")})}}return va.default=d,va}var MA={},NV;function npe(){if(NV)return MA;NV=1,Object.defineProperty(MA,"__esModule",{value:!0});class a{constructor(o){this.indents=0,this.write=o.write,this.end=o.end}indent(){return this.indents+=1,this}deindent(){if(this.indents<1)throw new Error(`Trying to deindent when indent is only ${this.indents}`);return this.indents-=1,this}add(o,n=!1){return this.write(n?`
${"	".repeat(this.indents)}${o}`:o,"utf-8"),this}newLine(o=2){return this.write(`
`.repeat(o)+"	".repeat(this.indents),"utf-8"),this}}return MA.default=a,MA}var qA={},DV;function ipe(){if(DV)return qA;DV=1,Object.defineProperty(qA,"__esModule",{value:!0});const a=ma;class t extends a.Store{getQuadsOnce(n,r,e,i){const s=this.getQuads(n,r,e,i);return this.removeQuads(s),s}getSubjectsOnce(n,r,e){return this.getQuadsOnce(null,n,r,e).map(i=>i.subject)}getObjectsOnce(n,r,e){return this.getQuadsOnce(n,r,null,e).map(i=>i.object)}}return qA.default=t,qA}var PV;function ape(){if(PV)return Vi;PV=1;var a=Vi&&Vi.__awaiter||function(s,c,u,l){function f(d){return d instanceof u?d:new u(function(h){h(d)})}return new(u||(u=Promise))(function(d,h){function p(y){try{g(l.next(y))}catch(m){h(m)}}function _(y){try{g(l.throw(y))}catch(m){h(m)}}function g(y){y.done?d(y.value):f(y.value).then(p,_)}g((l=l.apply(s,c||[])).next())})},t=Vi&&Vi.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.write=void 0;const o=ma,n=t(rpe()),r=t(npe()),e=t(ipe());function i(s,c){return a(this,void 0,void 0,function*(){return new Promise((u,l)=>a(this,void 0,void 0,function*(){try{let f="";const d=new e.default(s),h=d.getGraphs(null,null,null);if(h.length>1)throw new Error("More than one graph found - can serialize in the default graph");if(h.length===1&&!h[0].equals(o.DataFactory.defaultGraph()))throw new Error(`Expected all triples to be in the default graph, instead triples were in ${h[0].value}`);const p=new r.default({write:g=>{f+=g},end:()=>{let g=d.getQuads(null,null,null,null);g.length===0&&(g=void 0),u({text:f,extraQuads:g})}});yield new n.default(d,p,c==null?void 0:c.prefixes,void 0,(c==null?void 0:c.errorOnUnused)!==!1,c==null?void 0:c.mintPrefixes,c==null?void 0:c.fetch,c==null?void 0:c.extendedSyntax).write()}catch(f){l(f)}}))})}return Vi.write=i,Vi}var LV;function ope(){if(LV)return om;LV=1,Object.defineProperty(om,"__esModule",{value:!0}),om.ActorRdfSerializeShaclc=void 0;const a=QF(),t=Ghe(),o=qt(),n=ape();let r=class extends a.ActorRdfSerializeFixedMediaTypes{constructor(i){super(i)}async runHandle(i,s){const c=new o.Readable;c._read=()=>{};try{const u={};i.quadStream.on("prefix",(f,d)=>{u[f]=d});const{text:l}=await(0,n.write)(await(0,t.default)(i.quadStream),{errorOnUnused:!0,extendedSyntax:s==="text/shaclc-ext",prefixes:u});c.push(l),c.push(null)}catch(u){c._read=()=>{c.emit("error",u)}}return{data:c,triples:!0}}};return om.ActorRdfSerializeShaclc=r,om}var jV;function spe(){return jV||(jV=1,function(a){var t=ju&&ju.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ju&&ju.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(ope(),a)}(ju)),ju}var $u={},lm={},Uu={},dm={},MV;function qV(){if(MV)return dm;MV=1,Object.defineProperty(dm,"__esModule",{value:!0}),dm.ActorRdfUpdateQuads=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}};return dm.ActorRdfUpdateQuads=t,dm}var Hi={},CV;function upe(){if(CV)return Hi;CV=1,Object.defineProperty(Hi,"__esModule",{value:!0}),Hi.ActorRdfUpdateQuadsDestination=Hi.deskolemize=Hi.deskolemizeStream=void 0;const a=Qj(),t=tt(),o=De(),n=qV();function r(s,c,u){return c==null?void 0:c.map(l=>(0,a.deskolemizeQuad)(s,l,u))}Hi.deskolemizeStream=r;function e(s){var f;const c=s.context.getSafe(t.KeysInitQuery.dataFactory),u=s.context.get(t.KeysRdfUpdateQuads.destination),l=(f=s.context.get(t.KeysQuerySourceIdentify.sourceIds))==null?void 0:f.get(u);return l?{...s,quadStreamInsert:r(c,s.quadStreamInsert,l),quadStreamDelete:r(c,s.quadStreamDelete,l)}:s}Hi.deskolemize=e;let i=class extends n.ActorRdfUpdateQuads{async test(c){return(0,o.passTestVoid)()}async run(c){const u=await this.getDestination(c.context);return await this.getOutput(u,e(c))}async getOutput(c,u){return{execute:async()=>{await c.update({insert:u.quadStreamInsert,delete:u.quadStreamDelete}),await(u.deleteGraphs?c.deleteGraphs(u.deleteGraphs.graphs,u.deleteGraphs.requireExistence,u.deleteGraphs.dropGraphs):Promise.resolve()),await(u.createGraphs?c.createGraphs(u.createGraphs.graphs,u.createGraphs.requireNonExistence):Promise.resolve())}}}};return Hi.ActorRdfUpdateQuadsDestination=i,Hi}var JF={},BV;function cpe(){return BV||(BV=1,Object.defineProperty(JF,"__esModule",{value:!0})),JF}var sn={},$V;function lpe(){if($V)return sn;$V=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.getContextDestinationUrl=sn.getContextDestination=sn.getDataDestinationContext=sn.getDataDestinationValue=sn.getDataDestinationType=sn.isDataDestinationRawType=void 0;const a=tt();function t(s){return typeof s=="string"||"remove"in s}sn.isDataDestinationRawType=t;function o(s){return typeof s=="string"?"":"remove"in s?"rdfjsStore":s.type}sn.getDataDestinationType=o;function n(s){return t(s)?s:s.value}sn.getDataDestinationValue=n;function r(s,c){return typeof s=="string"||"remove"in s||!s.context?c:c.merge(s.context)}sn.getDataDestinationContext=r;function e(s){return s.get(a.KeysRdfUpdateQuads.destination)}sn.getContextDestination=e;function i(s){if(s){let c=n(s);if(typeof c=="string"){const u=c.indexOf("#");return u>=0&&(c=c.slice(0,u)),c}}}return sn.getContextDestinationUrl=i,sn}var UV;function KF(){return UV||(UV=1,function(a){var t=Uu&&Uu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Uu&&Uu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(qV(),a),o(upe(),a),o(cpe(),a),o(lpe(),a)}(Uu)),Uu}var fm={},VV;function dpe(){if(VV)return fm;VV=1,Object.defineProperty(fm,"__esModule",{value:!0}),fm.RdfJsQuadDestination=void 0;const a=I$(),t=$t();let o=class{constructor(r,e){this.dataFactory=r,this.store=e}async update(r){r.delete&&await(0,a.promisifyEventEmitter)(this.store.remove(r.delete)),r.insert&&await(0,a.promisifyEventEmitter)(this.store.import(r.insert))}async deleteGraphs(r,e,i){switch(r){case"ALL":await(0,a.promisifyEventEmitter)(this.store.deleteGraph(this.dataFactory.defaultGraph()));case"NAMED":const s=this.store.match(),c={};s.on("data",u=>{u.graph.termType!=="DefaultGraph"&&(c[(0,t.termToString)(u.graph)]=!0)}),await(0,a.promisifyEventEmitter)(s),await Promise.all(Object.keys(c).map(u=>(0,a.promisifyEventEmitter)(this.store.deleteGraph((0,t.stringToTerm)(u,this.dataFactory)))));break;default:for(const u of Array.isArray(r)?r:[r])await(0,a.promisifyEventEmitter)(this.store.deleteGraph(u))}}async createGraphs(r,e){if(e)for(const i of r){const s=this.store.match(void 0,void 0,void 0,i);await new Promise((c,u)=>{s.once("data",()=>{u(new Error(`Unable to create graph ${i.value} as it already exists`))}),s.on("end",c),s.on("error",u)})}}};return fm.RdfJsQuadDestination=o,fm}var QV;function fpe(){if(QV)return lm;QV=1,Object.defineProperty(lm,"__esModule",{value:!0}),lm.ActorRdfUpdateQuadsRdfJsStore=void 0;const a=KF(),t=tt(),o=De(),n=dpe();let r=class extends a.ActorRdfUpdateQuadsDestination{constructor(i){super(i)}async test(i){var c;const s=(0,a.getContextDestination)(i.context);return!s||typeof s=="string"||!("remove"in s)&&"value"in s&&!((c=s.value)!=null&&c.remove)?(0,o.failTest)(`${this.name} received an invalid rdfjsStore.`):(0,o.passTestVoid)()}async getDestination(i){const s=(0,a.getContextDestination)(i);return new n.RdfJsQuadDestination(i.getSafe(t.KeysInitQuery.dataFactory),"remove"in s?s:s.value)}};return lm.ActorRdfUpdateQuadsRdfJsStore=r,lm}var HV;function hpe(){return HV||(HV=1,function(a){var t=$u&&$u.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=$u&&$u.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(fpe(),a)}($u)),$u}var Vu={},hm={},pm={},GV;function ppe(){if(GV)return pm;GV=1,Object.defineProperty(pm,"__esModule",{value:!0}),pm.ExpressionFunctionBound=void 0;const a=$e(),t=tt(),o=fa(),n=Me();let r=class extends a.ExpressionFunctionBase{constructor(){super({arity:1,operator:n.SparqlOperator.BOUND,apply:async({args:i,mapping:s,exprEval:c})=>{const u=i[0];if(u.expressionType!==o.ExpressionType.Variable)throw new n.InvalidArgumentTypes(i,n.SparqlOperator.BOUND);const l=s.has((0,n.expressionToVar)(c.context.getSafe(t.KeysInitQuery.dataFactory),u));return(0,n.bool)(l)}})}};return pm.ExpressionFunctionBound=r,pm}var zV;function ype(){if(zV)return hm;zV=1,Object.defineProperty(hm,"__esModule",{value:!0}),hm.ActorFunctionFactoryExpressionBound=void 0;const a=$e(),t=Me(),o=ppe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.BOUND],termFunction:!1})}async run(e){return new o.ExpressionFunctionBound}};return hm.ActorFunctionFactoryExpressionBound=n,hm}var kV;function bpe(){return kV||(kV=1,function(a){var t=Vu&&Vu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Vu&&Vu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(ype(),a)}(Vu)),Vu}var Qu={},ym={},bm={},XV;function _pe(){if(XV)return bm;XV=1,Object.defineProperty(bm,"__esModule",{value:!0}),bm.ExpressionFunctionBnode=void 0;const a=$e(),t=tt(),o=YI(),n=Me();let r=class zD extends a.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:n.SparqlOperator.BNODE,apply:async i=>{const{args:s,mapping:c,exprEval:u}=i,l=s.length===1?await u.evaluatorExpressionEvaluation(s[0],c):void 0;let f;if(l){const h=zD.bnodeTree.search([l],u.context.getSafe(t.KeysExpressionEvaluator.superTypeProvider),u.context.getSafe(t.KeysInitQuery.functionArgumentsCache));if(!h)throw new n.InvalidArgumentTypes(s,n.SparqlOperator.BNODE);f=h(u)([l]).str()}const d=new o.BlankNodeBindingsScoped(f??`BNODE_${zD.bnodeCounter++}`);return new n.BlankNode(d)}})}checkArity(i){return i.length===0||i.length===1}};return bm.ExpressionFunctionBnode=r,r.bnodeTree=(0,n.declare)(n.SparqlOperator.BNODE).onString1(()=>e=>e).collect(),r.bnodeCounter=0,bm}var WV;function mpe(){if(WV)return ym;WV=1,Object.defineProperty(ym,"__esModule",{value:!0}),ym.ActorFunctionFactoryExpressionBnode=void 0;const a=$e(),t=Me(),o=_pe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.BNODE],termFunction:!1})}async run(e){return new o.ExpressionFunctionBnode}};return ym.ActorFunctionFactoryExpressionBnode=n,ym}var JV;function gpe(){return JV||(JV=1,function(a){var t=Qu&&Qu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Qu&&Qu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(mpe(),a)}(Qu)),Qu}var Hu={},_m={},mm={},KV;function vpe(){if(KV)return mm;KV=1,Object.defineProperty(mm,"__esModule",{value:!0}),mm.ExpressionFunctionCoalesce=void 0;const a=$e(),t=Me();let o=class extends a.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:t.SparqlOperator.COALESCE,apply:async({args:r,mapping:e,exprEval:i})=>{const s=[];for(const c of r)try{return await i.evaluatorExpressionEvaluation(c,e)}catch(u){s.push(u)}throw new t.CoalesceError(s)}})}};return mm.ExpressionFunctionCoalesce=o,mm}var YV;function Tpe(){if(YV)return _m;YV=1,Object.defineProperty(_m,"__esModule",{value:!0}),_m.ActorFunctionFactoryExpressionCoalesce=void 0;const a=$e(),t=Me(),o=vpe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.COALESCE],termFunction:!1})}async run(e){return new o.ExpressionFunctionCoalesce}};return _m.ActorFunctionFactoryExpressionCoalesce=n,_m}var ZV;function wpe(){return ZV||(ZV=1,function(a){var t=Hu&&Hu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Hu&&Hu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Tpe(),a)}(Hu)),Hu}var Gu={},gm={},vm={},eQ;function Spe(){if(eQ)return vm;eQ=1,Object.defineProperty(vm,"__esModule",{value:!0}),vm.ExpressionFunctionConcat=void 0;const a=$e(),t=tt(),o=Me();let n=class kD extends a.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:o.SparqlOperator.CONCAT,apply:async e=>{const{args:i,mapping:s,exprEval:c}=e,u=i.map(async p=>c.evaluatorExpressionEvaluation(p,s)).map(async p=>{const _=kD.concatTree.search([await p],c.context.getSafe(t.KeysExpressionEvaluator.superTypeProvider),c.context.getSafe(t.KeysInitQuery.functionArgumentsCache));if(!_)throw new o.InvalidArgumentTypes(i,o.SparqlOperator.CONCAT);return _(c)([await p])}),l=await Promise.all(u),d=l.map(p=>p.typedValue).join(""),h=kD.langAllEqual(l)?l[0].language:void 0;return h?(0,o.langString)(d,h):(0,o.string)(d)}})}static langAllEqual(e){return e.length>0&&e.every(i=>i.language===e[0].language)}};return vm.ExpressionFunctionConcat=n,n.concatTree=(0,o.declare)(o.SparqlOperator.CONCAT).onStringly1(()=>r=>r).collect(),vm}var tQ;function Ope(){if(tQ)return gm;tQ=1,Object.defineProperty(gm,"__esModule",{value:!0}),gm.ActorFunctionFactoryExpressionConcat=void 0;const a=$e(),t=Me(),o=Spe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.CONCAT],termFunction:!1})}async run(e){return new o.ExpressionFunctionConcat}};return gm.ActorFunctionFactoryExpressionConcat=n,gm}var rQ;function Ape(){return rQ||(rQ=1,function(a){var t=Gu&&Gu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Gu&&Gu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Ope(),a)}(Gu)),Gu}var zu={},Tm={},ku={},wm={},nQ;function iQ(){if(nQ)return wm;nQ=1,Object.defineProperty(wm,"__esModule",{value:!0}),wm.BlankNode=void 0;class a{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}}return wm.BlankNode=a,wm}var Sm={},Om={},aQ;function oQ(){if(aQ)return Om;aQ=1,Object.defineProperty(Om,"__esModule",{value:!0}),Om.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}return Om.DefaultGraph=a,a.INSTANCE=new a,Om}var Am={},Em={},sQ;function YF(){if(sQ)return Em;sQ=1,Object.defineProperty(Em,"__esModule",{value:!0}),Em.NamedNode=void 0;class a{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}}return Em.NamedNode=a,Em}var uQ;function cQ(){if(uQ)return Am;uQ=1,Object.defineProperty(Am,"__esModule",{value:!0}),Am.Literal=void 0;const a=YF();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return Am.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Am}var xm={},lQ;function dQ(){if(lQ)return xm;lQ=1,Object.defineProperty(xm,"__esModule",{value:!0}),xm.Quad=void 0;class a{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}}return xm.Quad=a,xm}var Im={},fQ;function hQ(){if(fQ)return Im;fQ=1,Object.defineProperty(Im,"__esModule",{value:!0}),Im.Variable=void 0;class a{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}}return Im.Variable=a,Im}var pQ;function Epe(){if(pQ)return Sm;pQ=1,Object.defineProperty(Sm,"__esModule",{value:!0}),Sm.DataFactory=void 0;const a=iQ(),t=oQ(),o=cQ(),n=YF(),r=dQ(),e=hQ();let i=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return Sm.DataFactory=s,Sm}var yQ;function xpe(){return yQ||(yQ=1,function(a){var t=ku&&ku.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ku&&ku.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(iQ(),a),o(Epe(),a),o(oQ(),a),o(cQ(),a),o(YF(),a),o(dQ(),a),o(hQ(),a)}(ku)),ku}var Rm={},bQ;function Ipe(){if(bQ)return Rm;bQ=1,Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.NamedExtension=void 0;const a=Y8(),t=tt(),o=Me();let n=class extends a.ExpressionFunctionBase{constructor({operator:e,functionDefinition:i}){super({arity:Number.POSITIVE_INFINITY,operator:e,apply:async({args:s,exprEval:c,mapping:u})=>{const l=await Promise.all(s.map(f=>c.evaluatorExpressionEvaluation(f,u)));try{return new o.TermTransformer(c.context.getSafe(t.KeysExpressionEvaluator.superTypeProvider)).transformRDFTermUnsafe(await i(l.map(f=>f.toRDF(c.context.getSafe(t.KeysInitQuery.dataFactory)))))}catch(f){throw new o.ExtensionFunctionError(this.operator,f)}}})}};return Rm.NamedExtension=n,Rm}var _Q;function Rpe(){if(_Q)return Tm;_Q=1,Object.defineProperty(Tm,"__esModule",{value:!0}),Tm.ActorFunctionFactoryExpressionExtensions=void 0;const a=$e(),t=tt(),o=De(),n=xpe(),r=Ipe();let e=class extends a.ActorFunctionFactory{constructor(s){super(s)}async test({context:s,functionName:c}){return await s.getSafe(t.KeysExpressionEvaluator.extensionFunctionCreator)(new n.DataFactory().namedNode(c))?(0,o.passTestVoid)():(0,o.failTest)(`Actor ${this.name} can only provide non-termExpression implementations for functions that are provided through config entries like: ${t.KeysInitQuery.extensionFunctionCreator.name} or ${t.KeysInitQuery.extensionFunctions.name}`)}async run({context:s,functionName:c}){const l=await s.getSafe(t.KeysExpressionEvaluator.extensionFunctionCreator)(new n.DataFactory().namedNode(c));return new r.NamedExtension({operator:c,functionDefinition:l})}};return Tm.ActorFunctionFactoryExpressionExtensions=e,Tm}var mQ;function Fpe(){return mQ||(mQ=1,function(a){var t=zu&&zu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=zu&&zu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Rpe(),a)}(zu)),zu}var Xu={},Fm={},Nm={},gQ;function Npe(){if(gQ)return Nm;gQ=1,Object.defineProperty(Nm,"__esModule",{value:!0}),Nm.ExpressionFunctionIf=void 0;const a=$e(),t=Me();let o=class extends a.ExpressionFunctionBase{constructor(){super({arity:3,operator:t.SparqlOperator.IF,apply:async({args:r,mapping:e,exprEval:i})=>(await i.evaluatorExpressionEvaluation(r[0],e)).coerceEBV()?i.evaluatorExpressionEvaluation(r[1],e):i.evaluatorExpressionEvaluation(r[2],e)})}};return Nm.ExpressionFunctionIf=o,Nm}var vQ;function Dpe(){if(vQ)return Fm;vQ=1,Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.ActorFunctionFactoryExpressionIf=void 0;const a=$e(),t=Me(),o=Npe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.IF],termFunction:!1})}async run(e){return new o.ExpressionFunctionIf}};return Fm.ActorFunctionFactoryExpressionIf=n,Fm}var TQ;function Ppe(){return TQ||(TQ=1,function(a){var t=Xu&&Xu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Xu&&Xu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Dpe(),a)}(Xu)),Xu}var Wu={},Dm={},Pm={},wQ;function Lpe(){if(wQ)return Pm;wQ=1,Object.defineProperty(Pm,"__esModule",{value:!0}),Pm.ExpressionFunctionLogicalAnd=void 0;const a=$e(),t=Me();let o=class extends a.ExpressionFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.LOGICAL_AND,apply:async({args:r,mapping:e,exprEval:i})=>{const[s,c]=r;try{if(!(await i.evaluatorExpressionEvaluation(s,e)).coerceEBV())return(0,t.bool)(!1);const d=(await i.evaluatorExpressionEvaluation(c,e)).coerceEBV();return(0,t.bool)(d)}catch(u){if((await i.evaluatorExpressionEvaluation(c,e)).coerceEBV())throw u;return(0,t.bool)(!1)}}})}};return Pm.ExpressionFunctionLogicalAnd=o,Pm}var SQ;function jpe(){if(SQ)return Dm;SQ=1,Object.defineProperty(Dm,"__esModule",{value:!0}),Dm.ActorFunctionFactoryExpressionLogicalAnd=void 0;const a=$e(),t=Me(),o=Lpe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.LOGICAL_AND],termFunction:!1})}async run(e){return new o.ExpressionFunctionLogicalAnd}};return Dm.ActorFunctionFactoryExpressionLogicalAnd=n,Dm}var OQ;function Mpe(){return OQ||(OQ=1,function(a){var t=Wu&&Wu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Wu&&Wu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(jpe(),a)}(Wu)),Wu}var Ju={},Lm={},jm={},AQ;function qpe(){if(AQ)return jm;AQ=1,Object.defineProperty(jm,"__esModule",{value:!0}),jm.ExpressionFunctionLogicalOr=void 0;const a=$e(),t=Me();let o=class extends a.ExpressionFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.LOGICAL_OR,apply:async({args:r,mapping:e,exprEval:i})=>{const[s,c]=r;try{if((await i.evaluatorExpressionEvaluation(s,e)).coerceEBV())return(0,t.bool)(!0);const d=(await i.evaluatorExpressionEvaluation(c,e)).coerceEBV();return(0,t.bool)(d)}catch(u){if(!(await i.evaluatorExpressionEvaluation(c,e)).coerceEBV())throw u;return(0,t.bool)(!0)}}})}};return jm.ExpressionFunctionLogicalOr=o,jm}var EQ;function Cpe(){if(EQ)return Lm;EQ=1,Object.defineProperty(Lm,"__esModule",{value:!0}),Lm.ActorFunctionFactoryExpressionLogicalOr=void 0;const a=$e(),t=Me(),o=qpe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.LOGICAL_OR],termFunction:!1})}async run(e){return new o.ExpressionFunctionLogicalOr}};return Lm.ActorFunctionFactoryExpressionLogicalOr=n,Lm}var xQ;function Bpe(){return xQ||(xQ=1,function(a){var t=Ju&&Ju.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ju&&Ju.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Cpe(),a)}(Ju)),Ju}var Ku={},Mm={},qm={},IQ;function $pe(){if(IQ)return qm;IQ=1,Object.defineProperty(qm,"__esModule",{value:!0}),qm.ExpressionFunctionSameTerm=void 0;const a=$e(),t=tt(),o=Me();let n=class extends a.ExpressionFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.SAME_TERM,apply:async({args:e,mapping:i,exprEval:s})=>{const c=s.context.getSafe(t.KeysInitQuery.dataFactory),[u,l]=e.map(h=>s.evaluatorExpressionEvaluation(h,i)),[f,d]=await Promise.all([u,l]);return(0,o.bool)(f.toRDF(c).equals(d.toRDF(c)))}})}};return qm.ExpressionFunctionSameTerm=n,qm}var RQ;function Upe(){if(RQ)return Mm;RQ=1,Object.defineProperty(Mm,"__esModule",{value:!0}),Mm.ActorFunctionFactoryExpressionSameTerm=void 0;const a=$e(),t=Me(),o=$pe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.SAME_TERM],termFunction:!1})}async run(e){return new o.ExpressionFunctionSameTerm}};return Mm.ActorFunctionFactoryExpressionSameTerm=n,Mm}var FQ;function Vpe(){return FQ||(FQ=1,function(a){var t=Ku&&Ku.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ku&&Ku.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Upe(),a)}(Ku)),Ku}var Yu={},Cm={},Bm={},NQ;function Qpe(){if(NQ)return Bm;NQ=1,Object.defineProperty(Bm,"__esModule",{value:!0}),Bm.TermFunctionAbs=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.ABS,overloads:(0,t.declare)(t.SparqlOperator.ABS).numericConverter(()=>r=>Math.abs(r)).collect()})}};return Bm.TermFunctionAbs=o,Bm}var DQ;function Hpe(){if(DQ)return Cm;DQ=1,Object.defineProperty(Cm,"__esModule",{value:!0}),Cm.ActorFunctionFactoryTermAbs=void 0;const a=$e(),t=Me(),o=Qpe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.ABS],termFunction:!0})}async run(e){return new o.TermFunctionAbs}};return Cm.ActorFunctionFactoryTermAbs=n,Cm}var PQ;function Gpe(){return PQ||(PQ=1,function(a){var t=Yu&&Yu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Yu&&Yu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Hpe(),a)}(Yu)),Yu}var Zu={},$m={},Um={},CA={exports:{}},zpe=CA.exports,LQ;function BA(){return LQ||(LQ=1,function(a){(function(t){var o,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,r=Math.ceil,e=Math.floor,i="[BigNumber Error] ",s=i+"Number primitive has more than 15 significant digits: ",c=1e14,u=14,l=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,h=1e9;function p(O){var F,Q,j,x=$.prototype={constructor:$,toString:null,valueOf:null},I=new $(1),D=20,C=4,X=-7,z=21,J=-1e7,ie=1e7,se=!1,ye=1,K=0,Te={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},Ne="0123456789abcdefghijklmnopqrstuvwxyz",_e=!0;function $(ee,M){var B,R,q,W,re,Y,ue,te,le=this;if(!(le instanceof $))return new $(ee,M);if(M==null){if(ee&&ee._isBigNumber===!0){le.s=ee.s,!ee.c||ee.e>ie?le.c=le.e=null:ee.e<J?le.c=[le.e=0]:(le.e=ee.e,le.c=ee.c.slice());return}if((Y=typeof ee=="number")&&ee*0==0){if(le.s=1/ee<0?(ee=-ee,-1):1,ee===~~ee){for(W=0,re=ee;re>=10;re/=10,W++);W>ie?le.c=le.e=null:(le.e=W,le.c=[ee]);return}te=String(ee)}else{if(!n.test(te=String(ee)))return j(le,te,Y);le.s=te.charCodeAt(0)==45?(te=te.slice(1),-1):1}(W=te.indexOf("."))>-1&&(te=te.replace(".","")),(re=te.search(/e/i))>0?(W<0&&(W=re),W+=+te.slice(re+1),te=te.substring(0,re)):W<0&&(W=te.length)}else{if(m(M,2,Ne.length,"Base"),M==10&&_e)return le=new $(ee),xe(le,D+le.e+1,C);if(te=String(ee),Y=typeof ee=="number"){if(ee*0!=0)return j(le,te,Y,M);if(le.s=1/ee<0?(te=te.slice(1),-1):1,$.DEBUG&&te.replace(/^0\.0*|\./,"").length>15)throw Error(s+ee)}else le.s=te.charCodeAt(0)===45?(te=te.slice(1),-1):1;for(B=Ne.slice(0,M),W=re=0,ue=te.length;re<ue;re++)if(B.indexOf(R=te.charAt(re))<0){if(R=="."){if(re>W){W=ue;continue}}else if(!q&&(te==te.toUpperCase()&&(te=te.toLowerCase())||te==te.toLowerCase()&&(te=te.toUpperCase()))){q=!0,re=-1,W=0;continue}return j(le,String(ee),Y,M)}Y=!1,te=Q(te,M,10,le.s),(W=te.indexOf("."))>-1?te=te.replace(".",""):W=te.length}for(re=0;te.charCodeAt(re)===48;re++);for(ue=te.length;te.charCodeAt(--ue)===48;);if(te=te.slice(re,++ue)){if(ue-=re,Y&&$.DEBUG&&ue>15&&(ee>l||ee!==e(ee)))throw Error(s+le.s*ee);if((W=W-re-1)>ie)le.c=le.e=null;else if(W<J)le.c=[le.e=0];else{if(le.e=W,le.c=[],re=(W+1)%u,W<0&&(re+=u),re<ue){for(re&&le.c.push(+te.slice(0,re)),ue-=u;re<ue;)le.c.push(+te.slice(re,re+=u));re=u-(te=te.slice(re)).length}else re-=ue;for(;re--;te+="0");le.c.push(+te)}}else le.c=[le.e=0]}$.clone=p,$.ROUND_UP=0,$.ROUND_DOWN=1,$.ROUND_CEIL=2,$.ROUND_FLOOR=3,$.ROUND_HALF_UP=4,$.ROUND_HALF_DOWN=5,$.ROUND_HALF_EVEN=6,$.ROUND_HALF_CEIL=7,$.ROUND_HALF_FLOOR=8,$.EUCLID=9,$.config=$.set=function(ee){var M,B;if(ee!=null)if(typeof ee=="object"){if(ee.hasOwnProperty(M="DECIMAL_PLACES")&&(B=ee[M],m(B,0,h,M),D=B),ee.hasOwnProperty(M="ROUNDING_MODE")&&(B=ee[M],m(B,0,8,M),C=B),ee.hasOwnProperty(M="EXPONENTIAL_AT")&&(B=ee[M],B&&B.pop?(m(B[0],-1e9,0,M),m(B[1],0,h,M),X=B[0],z=B[1]):(m(B,-1e9,h,M),X=-(z=B<0?-B:B))),ee.hasOwnProperty(M="RANGE"))if(B=ee[M],B&&B.pop)m(B[0],-1e9,-1,M),m(B[1],1,h,M),J=B[0],ie=B[1];else if(m(B,-1e9,h,M),B)J=-(ie=B<0?-B:B);else throw Error(i+M+" cannot be zero: "+B);if(ee.hasOwnProperty(M="CRYPTO"))if(B=ee[M],B===!!B)if(B)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))se=B;else throw se=!B,Error(i+"crypto unavailable");else se=B;else throw Error(i+M+" not true or false: "+B);if(ee.hasOwnProperty(M="MODULO_MODE")&&(B=ee[M],m(B,0,9,M),ye=B),ee.hasOwnProperty(M="POW_PRECISION")&&(B=ee[M],m(B,0,h,M),K=B),ee.hasOwnProperty(M="FORMAT"))if(B=ee[M],typeof B=="object")Te=B;else throw Error(i+M+" not an object: "+B);if(ee.hasOwnProperty(M="ALPHABET"))if(B=ee[M],typeof B=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(B))_e=B.slice(0,10)=="0123456789",Ne=B;else throw Error(i+M+" invalid: "+B)}else throw Error(i+"Object expected: "+ee);return{DECIMAL_PLACES:D,ROUNDING_MODE:C,EXPONENTIAL_AT:[X,z],RANGE:[J,ie],CRYPTO:se,MODULO_MODE:ye,POW_PRECISION:K,FORMAT:Te,ALPHABET:Ne}},$.isBigNumber=function(ee){if(!ee||ee._isBigNumber!==!0)return!1;if(!$.DEBUG)return!0;var M,B,R=ee.c,q=ee.e,W=ee.s;e:if({}.toString.call(R)=="[object Array]"){if((W===1||W===-1)&&q>=-1e9&&q<=h&&q===e(q)){if(R[0]===0){if(q===0&&R.length===1)return!0;break e}if(M=(q+1)%u,M<1&&(M+=u),String(R[0]).length==M){for(M=0;M<R.length;M++)if(B=R[M],B<0||B>=c||B!==e(B))break e;if(B!==0)return!0}}}else if(R===null&&q===null&&(W===null||W===1||W===-1))return!0;throw Error(i+"Invalid BigNumber: "+ee)},$.maximum=$.max=function(){return qe(arguments,-1)},$.minimum=$.min=function(){return qe(arguments,1)},$.random=function(){var ee=9007199254740992,M=Math.random()*ee&2097151?function(){return e(Math.random()*ee)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(B){var R,q,W,re,Y,ue=0,te=[],le=new $(I);if(B==null?B=D:m(B,0,h),re=r(B/u),se)if(crypto.getRandomValues){for(R=crypto.getRandomValues(new Uint32Array(re*=2));ue<re;)Y=R[ue]*131072+(R[ue+1]>>>11),Y>=9e15?(q=crypto.getRandomValues(new Uint32Array(2)),R[ue]=q[0],R[ue+1]=q[1]):(te.push(Y%1e14),ue+=2);ue=re/2}else if(crypto.randomBytes){for(R=crypto.randomBytes(re*=7);ue<re;)Y=(R[ue]&31)*281474976710656+R[ue+1]*1099511627776+R[ue+2]*4294967296+R[ue+3]*16777216+(R[ue+4]<<16)+(R[ue+5]<<8)+R[ue+6],Y>=9e15?crypto.randomBytes(7).copy(R,ue):(te.push(Y%1e14),ue+=7);ue=re/7}else throw se=!1,Error(i+"crypto unavailable");if(!se)for(;ue<re;)Y=M(),Y<9e15&&(te[ue++]=Y%1e14);for(re=te[--ue],B%=u,re&&B&&(Y=f[u-B],te[ue]=e(re/Y)*Y);te[ue]===0;te.pop(),ue--);if(ue<0)te=[W=0];else{for(W=-1;te[0]===0;te.splice(0,1),W-=u);for(ue=1,Y=te[0];Y>=10;Y/=10,ue++);ue<u&&(W-=u-ue)}return le.e=W,le.c=te,le}}(),$.sum=function(){for(var ee=1,M=arguments,B=new $(M[0]);ee<M.length;)B=B.plus(M[ee++]);return B},Q=function(){var ee="0123456789";function M(B,R,q,W){for(var re,Y=[0],ue,te=0,le=B.length;te<le;){for(ue=Y.length;ue--;Y[ue]*=R);for(Y[0]+=W.indexOf(B.charAt(te++)),re=0;re<Y.length;re++)Y[re]>q-1&&(Y[re+1]==null&&(Y[re+1]=0),Y[re+1]+=Y[re]/q|0,Y[re]%=q)}return Y.reverse()}return function(B,R,q,W,re){var Y,ue,te,le,Oe,Se,Ve,ke,Ae=B.indexOf("."),A=D,E=C;for(Ae>=0&&(le=K,K=0,B=B.replace(".",""),ke=new $(R),Se=ke.pow(B.length-Ae),K=le,ke.c=M(w(g(Se.c),Se.e,"0"),10,q,ee),ke.e=ke.c.length),Ve=M(B,R,q,re?(Y=Ne,ee):(Y=ee,Ne)),te=le=Ve.length;Ve[--le]==0;Ve.pop());if(!Ve[0])return Y.charAt(0);if(Ae<0?--te:(Se.c=Ve,Se.e=te,Se.s=W,Se=F(Se,ke,A,E,q),Ve=Se.c,Oe=Se.r,te=Se.e),ue=te+A+1,Ae=Ve[ue],le=q/2,Oe=Oe||ue<0||Ve[ue+1]!=null,Oe=E<4?(Ae!=null||Oe)&&(E==0||E==(Se.s<0?3:2)):Ae>le||Ae==le&&(E==4||Oe||E==6&&Ve[ue-1]&1||E==(Se.s<0?8:7)),ue<1||!Ve[0])B=Oe?w(Y.charAt(1),-A,Y.charAt(0)):Y.charAt(0);else{if(Ve.length=ue,Oe)for(--q;++Ve[--ue]>q;)Ve[ue]=0,ue||(++te,Ve=[1].concat(Ve));for(le=Ve.length;!Ve[--le];);for(Ae=0,B="";Ae<=le;B+=Y.charAt(Ve[Ae++]));B=w(B,te,Y.charAt(0))}return B}}(),F=function(){function ee(R,q,W){var re,Y,ue,te,le=0,Oe=R.length,Se=q%d,Ve=q/d|0;for(R=R.slice();Oe--;)ue=R[Oe]%d,te=R[Oe]/d|0,re=Ve*ue+te*Se,Y=Se*ue+re%d*d+le,le=(Y/W|0)+(re/d|0)+Ve*te,R[Oe]=Y%W;return le&&(R=[le].concat(R)),R}function M(R,q,W,re){var Y,ue;if(W!=re)ue=W>re?1:-1;else for(Y=ue=0;Y<W;Y++)if(R[Y]!=q[Y]){ue=R[Y]>q[Y]?1:-1;break}return ue}function B(R,q,W,re){for(var Y=0;W--;)R[W]-=Y,Y=R[W]<q[W]?1:0,R[W]=Y*re+R[W]-q[W];for(;!R[0]&&R.length>1;R.splice(0,1));}return function(R,q,W,re,Y){var ue,te,le,Oe,Se,Ve,ke,Ae,A,E,P,k,N,S,L,U,Z,me=R.s==q.s?1:-1,pe=R.c,Xe=q.c;if(!pe||!pe[0]||!Xe||!Xe[0])return new $(!R.s||!q.s||(pe?Xe&&pe[0]==Xe[0]:!Xe)?NaN:pe&&pe[0]==0||!Xe?me*0:me/0);for(Ae=new $(me),A=Ae.c=[],te=R.e-q.e,me=W+te+1,Y||(Y=c,te=_(R.e/u)-_(q.e/u),me=me/u|0),le=0;Xe[le]==(pe[le]||0);le++);if(Xe[le]>(pe[le]||0)&&te--,me<0)A.push(1),Oe=!0;else{for(S=pe.length,U=Xe.length,le=0,me+=2,Se=e(Y/(Xe[0]+1)),Se>1&&(Xe=ee(Xe,Se,Y),pe=ee(pe,Se,Y),U=Xe.length,S=pe.length),N=U,E=pe.slice(0,U),P=E.length;P<U;E[P++]=0);Z=Xe.slice(),Z=[0].concat(Z),L=Xe[0],Xe[1]>=Y/2&&L++;do{if(Se=0,ue=M(Xe,E,U,P),ue<0){if(k=E[0],U!=P&&(k=k*Y+(E[1]||0)),Se=e(k/L),Se>1)for(Se>=Y&&(Se=Y-1),Ve=ee(Xe,Se,Y),ke=Ve.length,P=E.length;M(Ve,E,ke,P)==1;)Se--,B(Ve,U<ke?Z:Xe,ke,Y),ke=Ve.length,ue=1;else Se==0&&(ue=Se=1),Ve=Xe.slice(),ke=Ve.length;if(ke<P&&(Ve=[0].concat(Ve)),B(E,Ve,P,Y),P=E.length,ue==-1)for(;M(Xe,E,U,P)<1;)Se++,B(E,U<P?Z:Xe,P,Y),P=E.length}else ue===0&&(Se++,E=[0]);A[le++]=Se,E[0]?E[P++]=pe[N]||0:(E=[pe[N]],P=1)}while((N++<S||E[0]!=null)&&me--);Oe=E[0]!=null,A[0]||A.splice(0,1)}if(Y==c){for(le=1,me=A[0];me>=10;me/=10,le++);xe(Ae,W+(Ae.e=le+te*u-1)+1,re,Oe)}else Ae.e=te,Ae.r=+Oe;return Ae}}();function He(ee,M,B,R){var q,W,re,Y,ue;if(B==null?B=C:m(B,0,8),!ee.c)return ee.toString();if(q=ee.c[0],re=ee.e,M==null)ue=g(ee.c),ue=R==1||R==2&&(re<=X||re>=z)?T(ue,re):w(ue,re,"0");else if(ee=xe(new $(ee),M,B),W=ee.e,ue=g(ee.c),Y=ue.length,R==1||R==2&&(M<=W||W<=X)){for(;Y<M;ue+="0",Y++);ue=T(ue,W)}else if(M-=re,ue=w(ue,W,"0"),W+1>Y){if(--M>0)for(ue+=".";M--;ue+="0");}else if(M+=W-Y,M>0)for(W+1==Y&&(ue+=".");M--;ue+="0");return ee.s<0&&q?"-"+ue:ue}function qe(ee,M){for(var B,R,q=1,W=new $(ee[0]);q<ee.length;q++)R=new $(ee[q]),(!R.s||(B=y(W,R))===M||B===0&&W.s===M)&&(W=R);return W}function Ce(ee,M,B){for(var R=1,q=M.length;!M[--q];M.pop());for(q=M[0];q>=10;q/=10,R++);return(B=R+B*u-1)>ie?ee.c=ee.e=null:B<J?ee.c=[ee.e=0]:(ee.e=B,ee.c=M),ee}j=function(){var ee=/^(-?)0([xbo])(?=\w[\w.]*$)/i,M=/^([^.]+)\.$/,B=/^\.([^.]+)$/,R=/^-?(Infinity|NaN)$/,q=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(W,re,Y,ue){var te,le=Y?re:re.replace(q,"");if(R.test(le))W.s=isNaN(le)?null:le<0?-1:1;else{if(!Y&&(le=le.replace(ee,function(Oe,Se,Ve){return te=(Ve=Ve.toLowerCase())=="x"?16:Ve=="b"?2:8,!ue||ue==te?Se:Oe}),ue&&(te=ue,le=le.replace(M,"$1").replace(B,"0.$1")),re!=le))return new $(le,te);if($.DEBUG)throw Error(i+"Not a"+(ue?" base "+ue:"")+" number: "+re);W.s=null}W.c=W.e=null}}();function xe(ee,M,B,R){var q,W,re,Y,ue,te,le,Oe=ee.c,Se=f;if(Oe){e:{for(q=1,Y=Oe[0];Y>=10;Y/=10,q++);if(W=M-q,W<0)W+=u,re=M,ue=Oe[te=0],le=e(ue/Se[q-re-1]%10);else if(te=r((W+1)/u),te>=Oe.length)if(R){for(;Oe.length<=te;Oe.push(0));ue=le=0,q=1,W%=u,re=W-u+1}else break e;else{for(ue=Y=Oe[te],q=1;Y>=10;Y/=10,q++);W%=u,re=W-u+q,le=re<0?0:e(ue/Se[q-re-1]%10)}if(R=R||M<0||Oe[te+1]!=null||(re<0?ue:ue%Se[q-re-1]),R=B<4?(le||R)&&(B==0||B==(ee.s<0?3:2)):le>5||le==5&&(B==4||R||B==6&&(W>0?re>0?ue/Se[q-re]:0:Oe[te-1])%10&1||B==(ee.s<0?8:7)),M<1||!Oe[0])return Oe.length=0,R?(M-=ee.e+1,Oe[0]=Se[(u-M%u)%u],ee.e=-M||0):Oe[0]=ee.e=0,ee;if(W==0?(Oe.length=te,Y=1,te--):(Oe.length=te+1,Y=Se[u-W],Oe[te]=re>0?e(ue/Se[q-re]%Se[re])*Y:0),R)for(;;)if(te==0){for(W=1,re=Oe[0];re>=10;re/=10,W++);for(re=Oe[0]+=Y,Y=1;re>=10;re/=10,Y++);W!=Y&&(ee.e++,Oe[0]==c&&(Oe[0]=1));break}else{if(Oe[te]+=Y,Oe[te]!=c)break;Oe[te--]=0,Y=1}for(W=Oe.length;Oe[--W]===0;Oe.pop());}ee.e>ie?ee.c=ee.e=null:ee.e<J&&(ee.c=[ee.e=0])}return ee}function we(ee){var M,B=ee.e;return B===null?ee.toString():(M=g(ee.c),M=B<=X||B>=z?T(M,B):w(M,B,"0"),ee.s<0?"-"+M:M)}return x.absoluteValue=x.abs=function(){var ee=new $(this);return ee.s<0&&(ee.s=1),ee},x.comparedTo=function(ee,M){return y(this,new $(ee,M))},x.decimalPlaces=x.dp=function(ee,M){var B,R,q,W=this;if(ee!=null)return m(ee,0,h),M==null?M=C:m(M,0,8),xe(new $(W),ee+W.e+1,M);if(!(B=W.c))return null;if(R=((q=B.length-1)-_(this.e/u))*u,q=B[q])for(;q%10==0;q/=10,R--);return R<0&&(R=0),R},x.dividedBy=x.div=function(ee,M){return F(this,new $(ee,M),D,C)},x.dividedToIntegerBy=x.idiv=function(ee,M){return F(this,new $(ee,M),0,1)},x.exponentiatedBy=x.pow=function(ee,M){var B,R,q,W,re,Y,ue,te,le,Oe=this;if(ee=new $(ee),ee.c&&!ee.isInteger())throw Error(i+"Exponent not an integer: "+we(ee));if(M!=null&&(M=new $(M)),Y=ee.e>14,!Oe.c||!Oe.c[0]||Oe.c[0]==1&&!Oe.e&&Oe.c.length==1||!ee.c||!ee.c[0])return le=new $(Math.pow(+we(Oe),Y?ee.s*(2-b(ee)):+we(ee))),M?le.mod(M):le;if(ue=ee.s<0,M){if(M.c?!M.c[0]:!M.s)return new $(NaN);R=!ue&&Oe.isInteger()&&M.isInteger(),R&&(Oe=Oe.mod(M))}else{if(ee.e>9&&(Oe.e>0||Oe.e<-1||(Oe.e==0?Oe.c[0]>1||Y&&Oe.c[1]>=24e7:Oe.c[0]<8e13||Y&&Oe.c[0]<=9999975e7)))return W=Oe.s<0&&b(ee)?-0:0,Oe.e>-1&&(W=1/W),new $(ue?1/W:W);K&&(W=r(K/u+2))}for(Y?(B=new $(.5),ue&&(ee.s=1),te=b(ee)):(q=Math.abs(+we(ee)),te=q%2),le=new $(I);;){if(te){if(le=le.times(Oe),!le.c)break;W?le.c.length>W&&(le.c.length=W):R&&(le=le.mod(M))}if(q){if(q=e(q/2),q===0)break;te=q%2}else if(ee=ee.times(B),xe(ee,ee.e+1,1),ee.e>14)te=b(ee);else{if(q=+we(ee),q===0)break;te=q%2}Oe=Oe.times(Oe),W?Oe.c&&Oe.c.length>W&&(Oe.c.length=W):R&&(Oe=Oe.mod(M))}return R?le:(ue&&(le=I.div(le)),M?le.mod(M):W?xe(le,K,C,re):le)},x.integerValue=function(ee){var M=new $(this);return ee==null?ee=C:m(ee,0,8),xe(M,M.e+1,ee)},x.isEqualTo=x.eq=function(ee,M){return y(this,new $(ee,M))===0},x.isFinite=function(){return!!this.c},x.isGreaterThan=x.gt=function(ee,M){return y(this,new $(ee,M))>0},x.isGreaterThanOrEqualTo=x.gte=function(ee,M){return(M=y(this,new $(ee,M)))===1||M===0},x.isInteger=function(){return!!this.c&&_(this.e/u)>this.c.length-2},x.isLessThan=x.lt=function(ee,M){return y(this,new $(ee,M))<0},x.isLessThanOrEqualTo=x.lte=function(ee,M){return(M=y(this,new $(ee,M)))===-1||M===0},x.isNaN=function(){return!this.s},x.isNegative=function(){return this.s<0},x.isPositive=function(){return this.s>0},x.isZero=function(){return!!this.c&&this.c[0]==0},x.minus=function(ee,M){var B,R,q,W,re=this,Y=re.s;if(ee=new $(ee,M),M=ee.s,!Y||!M)return new $(NaN);if(Y!=M)return ee.s=-M,re.plus(ee);var ue=re.e/u,te=ee.e/u,le=re.c,Oe=ee.c;if(!ue||!te){if(!le||!Oe)return le?(ee.s=-M,ee):new $(Oe?re:NaN);if(!le[0]||!Oe[0])return Oe[0]?(ee.s=-M,ee):new $(le[0]?re:C==3?-0:0)}if(ue=_(ue),te=_(te),le=le.slice(),Y=ue-te){for((W=Y<0)?(Y=-Y,q=le):(te=ue,q=Oe),q.reverse(),M=Y;M--;q.push(0));q.reverse()}else for(R=(W=(Y=le.length)<(M=Oe.length))?Y:M,Y=M=0;M<R;M++)if(le[M]!=Oe[M]){W=le[M]<Oe[M];break}if(W&&(q=le,le=Oe,Oe=q,ee.s=-ee.s),M=(R=Oe.length)-(B=le.length),M>0)for(;M--;le[B++]=0);for(M=c-1;R>Y;){if(le[--R]<Oe[R]){for(B=R;B&&!le[--B];le[B]=M);--le[B],le[R]+=c}le[R]-=Oe[R]}for(;le[0]==0;le.splice(0,1),--te);return le[0]?Ce(ee,le,te):(ee.s=C==3?-1:1,ee.c=[ee.e=0],ee)},x.modulo=x.mod=function(ee,M){var B,R,q=this;return ee=new $(ee,M),!q.c||!ee.s||ee.c&&!ee.c[0]?new $(NaN):!ee.c||q.c&&!q.c[0]?new $(q):(ye==9?(R=ee.s,ee.s=1,B=F(q,ee,0,3),ee.s=R,B.s*=R):B=F(q,ee,0,ye),ee=q.minus(B.times(ee)),!ee.c[0]&&ye==1&&(ee.s=q.s),ee)},x.multipliedBy=x.times=function(ee,M){var B,R,q,W,re,Y,ue,te,le,Oe,Se,Ve,ke,Ae,A,E=this,P=E.c,k=(ee=new $(ee,M)).c;if(!P||!k||!P[0]||!k[0])return!E.s||!ee.s||P&&!P[0]&&!k||k&&!k[0]&&!P?ee.c=ee.e=ee.s=null:(ee.s*=E.s,!P||!k?ee.c=ee.e=null:(ee.c=[0],ee.e=0)),ee;for(R=_(E.e/u)+_(ee.e/u),ee.s*=E.s,ue=P.length,Oe=k.length,ue<Oe&&(ke=P,P=k,k=ke,q=ue,ue=Oe,Oe=q),q=ue+Oe,ke=[];q--;ke.push(0));for(Ae=c,A=d,q=Oe;--q>=0;){for(B=0,Se=k[q]%A,Ve=k[q]/A|0,re=ue,W=q+re;W>q;)te=P[--re]%A,le=P[re]/A|0,Y=Ve*te+le*Se,te=Se*te+Y%A*A+ke[W]+B,B=(te/Ae|0)+(Y/A|0)+Ve*le,ke[W--]=te%Ae;ke[W]=B}return B?++R:ke.splice(0,1),Ce(ee,ke,R)},x.negated=function(){var ee=new $(this);return ee.s=-ee.s||null,ee},x.plus=function(ee,M){var B,R=this,q=R.s;if(ee=new $(ee,M),M=ee.s,!q||!M)return new $(NaN);if(q!=M)return ee.s=-M,R.minus(ee);var W=R.e/u,re=ee.e/u,Y=R.c,ue=ee.c;if(!W||!re){if(!Y||!ue)return new $(q/0);if(!Y[0]||!ue[0])return ue[0]?ee:new $(Y[0]?R:q*0)}if(W=_(W),re=_(re),Y=Y.slice(),q=W-re){for(q>0?(re=W,B=ue):(q=-q,B=Y),B.reverse();q--;B.push(0));B.reverse()}for(q=Y.length,M=ue.length,q-M<0&&(B=ue,ue=Y,Y=B,M=q),q=0;M;)q=(Y[--M]=Y[M]+ue[M]+q)/c|0,Y[M]=c===Y[M]?0:Y[M]%c;return q&&(Y=[q].concat(Y),++re),Ce(ee,Y,re)},x.precision=x.sd=function(ee,M){var B,R,q,W=this;if(ee!=null&&ee!==!!ee)return m(ee,1,h),M==null?M=C:m(M,0,8),xe(new $(W),ee,M);if(!(B=W.c))return null;if(q=B.length-1,R=q*u+1,q=B[q]){for(;q%10==0;q/=10,R--);for(q=B[0];q>=10;q/=10,R++);}return ee&&W.e+1>R&&(R=W.e+1),R},x.shiftedBy=function(ee){return m(ee,-9007199254740991,l),this.times("1e"+ee)},x.squareRoot=x.sqrt=function(){var ee,M,B,R,q,W=this,re=W.c,Y=W.s,ue=W.e,te=D+4,le=new $("0.5");if(Y!==1||!re||!re[0])return new $(!Y||Y<0&&(!re||re[0])?NaN:re?W:1/0);if(Y=Math.sqrt(+we(W)),Y==0||Y==1/0?(M=g(re),(M.length+ue)%2==0&&(M+="0"),Y=Math.sqrt(+M),ue=_((ue+1)/2)-(ue<0||ue%2),Y==1/0?M="5e"+ue:(M=Y.toExponential(),M=M.slice(0,M.indexOf("e")+1)+ue),B=new $(M)):B=new $(Y+""),B.c[0]){for(ue=B.e,Y=ue+te,Y<3&&(Y=0);;)if(q=B,B=le.times(q.plus(F(W,q,te,1))),g(q.c).slice(0,Y)===(M=g(B.c)).slice(0,Y))if(B.e<ue&&--Y,M=M.slice(Y-3,Y+1),M=="9999"||!R&&M=="4999"){if(!R&&(xe(q,q.e+D+2,0),q.times(q).eq(W))){B=q;break}te+=4,Y+=4,R=1}else{(!+M||!+M.slice(1)&&M.charAt(0)=="5")&&(xe(B,B.e+D+2,1),ee=!B.times(B).eq(W));break}}return xe(B,B.e+D+1,C,ee)},x.toExponential=function(ee,M){return ee!=null&&(m(ee,0,h),ee++),He(this,ee,M,1)},x.toFixed=function(ee,M){return ee!=null&&(m(ee,0,h),ee=ee+this.e+1),He(this,ee,M)},x.toFormat=function(ee,M,B){var R,q=this;if(B==null)ee!=null&&M&&typeof M=="object"?(B=M,M=null):ee&&typeof ee=="object"?(B=ee,ee=M=null):B=Te;else if(typeof B!="object")throw Error(i+"Argument not an object: "+B);if(R=q.toFixed(ee,M),q.c){var W,re=R.split("."),Y=+B.groupSize,ue=+B.secondaryGroupSize,te=B.groupSeparator||"",le=re[0],Oe=re[1],Se=q.s<0,Ve=Se?le.slice(1):le,ke=Ve.length;if(ue&&(W=Y,Y=ue,ue=W,ke-=W),Y>0&&ke>0){for(W=ke%Y||Y,le=Ve.substr(0,W);W<ke;W+=Y)le+=te+Ve.substr(W,Y);ue>0&&(le+=te+Ve.slice(W)),Se&&(le="-"+le)}R=Oe?le+(B.decimalSeparator||"")+((ue=+B.fractionGroupSize)?Oe.replace(new RegExp("\\d{"+ue+"}\\B","g"),"$&"+(B.fractionGroupSeparator||"")):Oe):le}return(B.prefix||"")+R+(B.suffix||"")},x.toFraction=function(ee){var M,B,R,q,W,re,Y,ue,te,le,Oe,Se,Ve=this,ke=Ve.c;if(ee!=null&&(Y=new $(ee),!Y.isInteger()&&(Y.c||Y.s!==1)||Y.lt(I)))throw Error(i+"Argument "+(Y.isInteger()?"out of range: ":"not an integer: ")+we(Y));if(!ke)return new $(Ve);for(M=new $(I),te=B=new $(I),R=ue=new $(I),Se=g(ke),W=M.e=Se.length-Ve.e-1,M.c[0]=f[(re=W%u)<0?u+re:re],ee=!ee||Y.comparedTo(M)>0?W>0?M:te:Y,re=ie,ie=1/0,Y=new $(Se),ue.c[0]=0;le=F(Y,M,0,1),q=B.plus(le.times(R)),q.comparedTo(ee)!=1;)B=R,R=q,te=ue.plus(le.times(q=te)),ue=q,M=Y.minus(le.times(q=M)),Y=q;return q=F(ee.minus(B),R,0,1),ue=ue.plus(q.times(te)),B=B.plus(q.times(R)),ue.s=te.s=Ve.s,W=W*2,Oe=F(te,R,W,C).minus(Ve).abs().comparedTo(F(ue,B,W,C).minus(Ve).abs())<1?[te,R]:[ue,B],ie=re,Oe},x.toNumber=function(){return+we(this)},x.toPrecision=function(ee,M){return ee!=null&&m(ee,1,h),He(this,ee,M,2)},x.toString=function(ee){var M,B=this,R=B.s,q=B.e;return q===null?R?(M="Infinity",R<0&&(M="-"+M)):M="NaN":(ee==null?M=q<=X||q>=z?T(g(B.c),q):w(g(B.c),q,"0"):ee===10&&_e?(B=xe(new $(B),D+q+1,C),M=w(g(B.c),B.e,"0")):(m(ee,2,Ne.length,"Base"),M=Q(w(g(B.c),q,"0"),10,ee,R,!0)),R<0&&B.c[0]&&(M="-"+M)),M},x.valueOf=x.toJSON=function(){return we(this)},x._isBigNumber=!0,O!=null&&$.set(O),$}function _(O){var F=O|0;return O>0||O===F?F:F-1}function g(O){for(var F,Q,j=1,x=O.length,I=O[0]+"";j<x;){for(F=O[j++]+"",Q=u-F.length;Q--;F="0"+F);I+=F}for(x=I.length;I.charCodeAt(--x)===48;);return I.slice(0,x+1||1)}function y(O,F){var Q,j,x=O.c,I=F.c,D=O.s,C=F.s,X=O.e,z=F.e;if(!D||!C)return null;if(Q=x&&!x[0],j=I&&!I[0],Q||j)return Q?j?0:-C:D;if(D!=C)return D;if(Q=D<0,j=X==z,!x||!I)return j?0:!x^Q?1:-1;if(!j)return X>z^Q?1:-1;for(C=(X=x.length)<(z=I.length)?X:z,D=0;D<C;D++)if(x[D]!=I[D])return x[D]>I[D]^Q?1:-1;return X==z?0:X>z^Q?1:-1}function m(O,F,Q,j){if(O<F||O>Q||O!==e(O))throw Error(i+(j||"Argument")+(typeof O=="number"?O<F||O>Q?" out of range: ":" not an integer: ":" not a primitive number: ")+String(O))}function b(O){var F=O.c.length-1;return _(O.e/u)==F&&O.c[F]%2!=0}function T(O,F){return(O.length>1?O.charAt(0)+"."+O.slice(1):O)+(F<0?"e":"e+")+F}function w(O,F,Q){var j,x;if(F<0){for(x=Q+".";++F;x+=Q);O=x+O}else if(j=O.length,++F>j){for(x=Q,F-=j;--F;x+=Q);O+=x}else F<j&&(O=O.slice(0,F)+"."+O.slice(F));return O}o=p(),o.default=o.BigNumber=o,a.exports?a.exports=o:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=o)})(zpe)}(CA)),CA.exports}var jQ;function kpe(){if(jQ)return Um;jQ=1,Object.defineProperty(Um,"__esModule",{value:!0}),Um.TermFunctionAddition=void 0;const a=$e(),t=Me(),o=BA();let n=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.ADDITION,overloads:(0,t.declare)(t.SparqlOperator.ADDITION).arithmetic(()=>(e,i)=>new o.BigNumber(e).plus(i).toNumber()).set([t.TypeURL.XSD_DATE_TIME,t.TypeURL.XSD_DAY_TIME_DURATION],()=>([e,i])=>new t.DateTimeLiteral((0,t.addDurationToDateTime)(e.typedValue,(0,t.defaultedDurationRepresentation)(i.typedValue)))).copy({from:[t.TypeURL.XSD_DATE_TIME,t.TypeURL.XSD_DAY_TIME_DURATION],to:[t.TypeURL.XSD_DATE_TIME,t.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([t.TypeURL.XSD_DATE,t.TypeURL.XSD_DAY_TIME_DURATION],()=>([e,i])=>new t.DateLiteral((0,t.addDurationToDateTime)((0,t.defaultedDateTimeRepresentation)(e.typedValue),(0,t.defaultedDurationRepresentation)(i.typedValue)))).copy({from:[t.TypeURL.XSD_DATE,t.TypeURL.XSD_DAY_TIME_DURATION],to:[t.TypeURL.XSD_DATE,t.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([t.TypeURL.XSD_TIME,t.TypeURL.XSD_DAY_TIME_DURATION],()=>([e,i])=>new t.TimeLiteral((0,t.addDurationToDateTime)((0,t.defaultedDateTimeRepresentation)(e.typedValue),(0,t.defaultedDurationRepresentation)(i.typedValue)))).copy({from:[t.TypeURL.XSD_TIME,t.TypeURL.XSD_DAY_TIME_DURATION],to:[t.TypeURL.XSD_TIME,t.TypeURL.XSD_YEAR_MONTH_DURATION]}).collect()})}};return Um.TermFunctionAddition=n,Um}var MQ;function Xpe(){if(MQ)return $m;MQ=1,Object.defineProperty($m,"__esModule",{value:!0}),$m.ActorFunctionFactoryTermAddition=void 0;const a=$e(),t=Me(),o=kpe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.ADDITION],termFunction:!0})}async run(e){return new o.TermFunctionAddition}};return $m.ActorFunctionFactoryTermAddition=n,$m}var qQ;function Wpe(){return qQ||(qQ=1,function(a){var t=Zu&&Zu.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Zu&&Zu.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Xpe(),a)}(Zu)),Zu}var ec={},Vm={},Qm={},CQ;function Jpe(){if(CQ)return Qm;CQ=1,Object.defineProperty(Qm,"__esModule",{value:!0}),Qm.TermFunctionCeil=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.CEIL,overloads:(0,t.declare)(t.SparqlOperator.CEIL).numericConverter(()=>r=>Math.ceil(r)).collect()})}};return Qm.TermFunctionCeil=o,Qm}var BQ;function Kpe(){if(BQ)return Vm;BQ=1,Object.defineProperty(Vm,"__esModule",{value:!0}),Vm.ActorFunctionFactoryTermCeil=void 0;const a=$e(),t=Me(),o=Jpe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.CEIL],termFunction:!0})}async run(e){return new o.TermFunctionCeil}};return Vm.ActorFunctionFactoryTermCeil=n,Vm}var $Q;function Ype(){return $Q||($Q=1,function(a){var t=ec&&ec.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ec&&ec.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Kpe(),a)}(ec)),ec}var tc={},Hm={},Gm={},UQ;function Zpe(){if(UQ)return Gm;UQ=1,Object.defineProperty(Gm,"__esModule",{value:!0}),Gm.TermFunctionContains=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.CONTAINS,overloads:(0,t.declare)(t.SparqlOperator.CONTAINS).onBinaryTyped([t.TypeAlias.SPARQL_STRINGLY,t.TypeURL.XSD_STRING],()=>(r,e)=>(0,t.bool)(r.includes(e))).onBinary([t.TypeURL.RDF_LANG_STRING,t.TypeURL.RDF_LANG_STRING],()=>(r,e)=>{if(r.language!==e.language)throw new t.IncompatibleLanguageOperation(r,e);return(0,t.bool)(r.typedValue.includes(e.typedValue))}).collect()})}};return Gm.TermFunctionContains=o,Gm}var VQ;function e0e(){if(VQ)return Hm;VQ=1,Object.defineProperty(Hm,"__esModule",{value:!0}),Hm.ActorFunctionFactoryTermContains=void 0;const a=$e(),t=Me(),o=Zpe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.CONTAINS],termFunction:!0})}async run(e){return new o.TermFunctionContains}};return Hm.ActorFunctionFactoryTermContains=n,Hm}var QQ;function t0e(){return QQ||(QQ=1,function(a){var t=tc&&tc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=tc&&tc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(e0e(),a)}(tc)),tc}var rc={},zm={},km={},HQ;function r0e(){if(HQ)return km;HQ=1,Object.defineProperty(km,"__esModule",{value:!0}),km.TermFunctionDatatype=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.DATATYPE,overloads:(0,t.declare)(t.SparqlOperator.DATATYPE).onLiteral1(()=>r=>new t.NamedNode(r.dataType)).collect()})}};return km.TermFunctionDatatype=o,km}var GQ;function n0e(){if(GQ)return zm;GQ=1,Object.defineProperty(zm,"__esModule",{value:!0}),zm.ActorFunctionFactoryTermDatatype=void 0;const a=$e(),t=Me(),o=r0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.DATATYPE],termFunction:!0})}async run(e){return new o.TermFunctionDatatype}};return zm.ActorFunctionFactoryTermDatatype=n,zm}var zQ;function i0e(){return zQ||(zQ=1,function(a){var t=rc&&rc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=rc&&rc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(n0e(),a)}(rc)),rc}var nc={},Xm={},Wm={},kQ;function a0e(){if(kQ)return Wm;kQ=1,Object.defineProperty(Wm,"__esModule",{value:!0}),Wm.TermFunctionDay=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.DAY,overloads:(0,t.declare)(t.SparqlOperator.DAY).onDateTime1(()=>r=>(0,t.integer)(r.typedValue.day)).set([t.TypeURL.XSD_DATE],()=>([r])=>(0,t.integer)(r.typedValue.day)).collect()})}};return Wm.TermFunctionDay=o,Wm}var XQ;function o0e(){if(XQ)return Xm;XQ=1,Object.defineProperty(Xm,"__esModule",{value:!0}),Xm.ActorFunctionFactoryTermDay=void 0;const a=$e(),t=Me(),o=a0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.DAY],termFunction:!0})}async run(e){return new o.TermFunctionDay}};return Xm.ActorFunctionFactoryTermDay=n,Xm}var WQ;function s0e(){return WQ||(WQ=1,function(a){var t=nc&&nc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=nc&&nc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(o0e(),a)}(nc)),nc}var ic={},Jm={},Km={},JQ;function u0e(){if(JQ)return Km;JQ=1,Object.defineProperty(Km,"__esModule",{value:!0}),Km.TermFunctionDivision=void 0;const a=$e(),t=Me(),o=BA();let n=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.DIVISION,overloads:(0,t.declare)(t.SparqlOperator.DIVISION).arithmetic(()=>(e,i)=>new o.BigNumber(e).div(i).toNumber()).onBinaryTyped([t.TypeURL.XSD_INTEGER,t.TypeURL.XSD_INTEGER],()=>(e,i)=>{if(i===0)throw new t.ExpressionError("Integer division by 0");return(0,t.decimal)(new o.BigNumber(e).div(i).toNumber())}).collect()})}};return Km.TermFunctionDivision=n,Km}var KQ;function c0e(){if(KQ)return Jm;KQ=1,Object.defineProperty(Jm,"__esModule",{value:!0}),Jm.ActorFunctionFactoryTermDivision=void 0;const a=$e(),t=Me(),o=u0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.DIVISION],termFunction:!0})}async run(e){return new o.TermFunctionDivision}};return Jm.ActorFunctionFactoryTermDivision=n,Jm}var YQ;function l0e(){return YQ||(YQ=1,function(a){var t=ic&&ic.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ic&&ic.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(c0e(),a)}(ic)),ic}var ac={},Ym={},Zm={},ZQ;function d0e(){if(ZQ)return Zm;ZQ=1,Object.defineProperty(Zm,"__esModule",{value:!0}),Zm.TermFunctionEncodeForUri=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.ENCODE_FOR_URI,overloads:(0,t.declare)(t.SparqlOperator.ENCODE_FOR_URI).onStringly1Typed(()=>r=>(0,t.string)(encodeURI(r))).collect()})}};return Zm.TermFunctionEncodeForUri=o,Zm}var eH;function f0e(){if(eH)return Ym;eH=1,Object.defineProperty(Ym,"__esModule",{value:!0}),Ym.ActorFunctionFactoryTermEncodeForUri=void 0;const a=$e(),t=Me(),o=d0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.ENCODE_FOR_URI],termFunction:!0})}async run(e){return new o.TermFunctionEncodeForUri}};return Ym.ActorFunctionFactoryTermEncodeForUri=n,Ym}var tH;function h0e(){return tH||(tH=1,function(a){var t=ac&&ac.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ac&&ac.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(f0e(),a)}(ac)),ac}var oc={},eg={},tg={},rH;function p0e(){if(rH)return tg;rH=1,Object.defineProperty(tg,"__esModule",{value:!0}),tg.TermFunctionEquality=void 0;const a=$e(),t=tt(),o=Me();let n=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.EQUAL,overloads:(0,o.declare)(o.SparqlOperator.EQUAL).numberTest(()=>(e,i)=>e===i).stringTest(()=>(e,i)=>e.localeCompare(i)===0).set([o.TypeURL.RDF_LANG_STRING,o.TypeURL.RDF_LANG_STRING],()=>([e,i])=>(0,o.bool)(e.str()===i.str()&&e.language===i.language)).set([o.TypeAlias.SPARQL_STRINGLY,o.TypeAlias.SPARQL_STRINGLY],()=>()=>(0,o.bool)(!1)).booleanTest(()=>(e,i)=>e===i).dateTimeTest(e=>(i,s)=>(0,o.toUTCDate)(i,e.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)).getTime()===(0,o.toUTCDate)(s,e.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)).getTime()).copy({from:[o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_DATE_TIME],to:[o.TypeURL.XSD_DATE,o.TypeURL.XSD_DATE]}).set(["quad","quad"],e=>([i,s])=>(0,o.bool)(this.applyOnTerms([i.subject,s.subject],e).coerceEBV()&&this.applyOnTerms([i.predicate,s.predicate],e).coerceEBV()&&this.applyOnTerms([i.object,s.object],e).coerceEBV()&&this.applyOnTerms([i.graph,s.graph],e).coerceEBV()),!1).set(["term","term"],e=>([i,s])=>{const c=i.toRDF(e.context.getSafe(t.KeysInitQuery.dataFactory)),u=s.toRDF(e.context.getSafe(t.KeysInitQuery.dataFactory)),l=c.equals(u);if(!l&&c.termType==="Literal"&&u.termType==="Literal")throw new o.RDFEqualTypeError([i,s]);return(0,o.bool)(l)},!1).set([o.TypeURL.XSD_DURATION,o.TypeURL.XSD_DURATION],()=>([e,i])=>(0,o.bool)((0,o.yearMonthDurationsToMonths)((0,o.defaultedYearMonthDurationRepresentation)(e.typedValue))===(0,o.yearMonthDurationsToMonths)((0,o.defaultedYearMonthDurationRepresentation)(i.typedValue))&&(0,o.dayTimeDurationsToSeconds)((0,o.defaultedDayTimeDurationRepresentation)(e.typedValue))===(0,o.dayTimeDurationsToSeconds)((0,o.defaultedDayTimeDurationRepresentation)(i.typedValue)))).set([o.TypeURL.XSD_TIME,o.TypeURL.XSD_TIME],e=>([i,s])=>(0,o.bool)((0,o.toUTCDate)((0,o.defaultedDateTimeRepresentation)(i.typedValue),e.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)).getTime()===(0,o.toUTCDate)((0,o.defaultedDateTimeRepresentation)(s.typedValue),e.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)).getTime())).collect()})}};return tg.TermFunctionEquality=n,tg}var nH;function y0e(){if(nH)return eg;nH=1,Object.defineProperty(eg,"__esModule",{value:!0}),eg.ActorFunctionFactoryTermEquality=void 0;const a=$e(),t=Me(),o=p0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.EQUAL],termFunction:!0})}async run(e){return new o.TermFunctionEquality}};return eg.ActorFunctionFactoryTermEquality=n,eg}var iH;function b0e(){return iH||(iH=1,function(a){var t=oc&&oc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=oc&&oc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(y0e(),a)}(oc)),oc}var sc={},rg={},ng={},aH;function _0e(){if(aH)return ng;aH=1,Object.defineProperty(ng,"__esModule",{value:!0}),ng.TermFunctionFloor=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.FLOOR,overloads:(0,t.declare)(t.SparqlOperator.FLOOR).numericConverter(()=>r=>Math.floor(r)).collect()})}};return ng.TermFunctionFloor=o,ng}var oH;function m0e(){if(oH)return rg;oH=1,Object.defineProperty(rg,"__esModule",{value:!0}),rg.ActorFunctionFactoryTermFloor=void 0;const a=$e(),t=Me(),o=_0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.FLOOR],termFunction:!0})}async run(e){return new o.TermFunctionFloor}};return rg.ActorFunctionFactoryTermFloor=n,rg}var sH;function g0e(){return sH||(sH=1,function(a){var t=sc&&sc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=sc&&sc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(m0e(),a)}(sc)),sc}var uc={},ig={},ag={},uH;function v0e(){if(uH)return ag;uH=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.TermFunctionHours=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.HOURS,overloads:(0,t.declare)(t.SparqlOperator.HOURS).onDateTime1(()=>r=>(0,t.integer)(r.typedValue.hours)).set([t.TypeURL.XSD_TIME],()=>([r])=>(0,t.integer)(r.typedValue.hours)).collect()})}};return ag.TermFunctionHours=o,ag}var cH;function T0e(){if(cH)return ig;cH=1,Object.defineProperty(ig,"__esModule",{value:!0}),ig.ActorFunctionFactoryTermHours=void 0;const a=$e(),t=Me(),o=v0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.HOURS],termFunction:!0})}async run(e){return new o.TermFunctionHours}};return ig.ActorFunctionFactoryTermHours=n,ig}var lH;function w0e(){return lH||(lH=1,function(a){var t=uc&&uc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=uc&&uc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(T0e(),a)}(uc)),uc}var cc={},og={},sg={},dH;function S0e(){if(dH)return sg;dH=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.TermFunctionIri=void 0;const a=$e(),t=tt(),o=Me(),n=Sr();let r=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.IRI,overloads:(0,o.declare)(o.SparqlOperator.IRI).set(["namedNode"],i=>s=>{const c=s[0],u=(0,n.resolve)(c.str(),i.context.get(t.KeysInitQuery.baseIRI)??"");return new o.NamedNode(u)}).onString1(i=>s=>{const c=(0,n.resolve)(s.str(),i.context.get(t.KeysInitQuery.baseIRI)??"");return new o.NamedNode(c)}).collect()})}};return sg.TermFunctionIri=r,sg}var fH;function O0e(){if(fH)return og;fH=1,Object.defineProperty(og,"__esModule",{value:!0}),og.ActorFunctionFactoryTermIri=void 0;const a=$e(),t=Me(),o=S0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.IRI,t.SparqlOperator.URI],termFunction:!0})}async run(e){return new o.TermFunctionIri}};return og.ActorFunctionFactoryTermIri=n,og}var hH;function A0e(){return hH||(hH=1,function(a){var t=cc&&cc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=cc&&cc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(O0e(),a)}(cc)),cc}var lc={},ug={},cg={},pH;function E0e(){if(pH)return cg;pH=1,Object.defineProperty(cg,"__esModule",{value:!0}),cg.TermFunctionIsBlank=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.IS_BLANK,overloads:(0,t.declare)(t.SparqlOperator.IS_BLANK).onTerm1(()=>r=>(0,t.bool)(r.termType==="blankNode")).collect()})}};return cg.TermFunctionIsBlank=o,cg}var yH;function x0e(){if(yH)return ug;yH=1,Object.defineProperty(ug,"__esModule",{value:!0}),ug.ActorFunctionFactoryTermIsBlank=void 0;const a=$e(),t=Me(),o=E0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.IS_BLANK],termFunction:!0})}async run(e){return new o.TermFunctionIsBlank}};return ug.ActorFunctionFactoryTermIsBlank=n,ug}var bH;function I0e(){return bH||(bH=1,function(a){var t=lc&&lc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=lc&&lc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(x0e(),a)}(lc)),lc}var dc={},lg={},dg={},_H;function R0e(){if(_H)return dg;_H=1,Object.defineProperty(dg,"__esModule",{value:!0}),dg.TermFunctionIsIri=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.IS_IRI,overloads:(0,t.declare)(t.SparqlOperator.IS_IRI).onTerm1(()=>r=>(0,t.bool)(r.termType==="namedNode")).collect()})}};return dg.TermFunctionIsIri=o,dg}var mH;function F0e(){if(mH)return lg;mH=1,Object.defineProperty(lg,"__esModule",{value:!0}),lg.ActorFunctionFactoryTermIsIri=void 0;const a=$e(),t=Me(),o=R0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.IS_IRI,t.SparqlOperator.IS_URI],termFunction:!0})}async run(e){return new o.TermFunctionIsIri}};return lg.ActorFunctionFactoryTermIsIri=n,lg}var gH;function N0e(){return gH||(gH=1,function(a){var t=dc&&dc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=dc&&dc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(F0e(),a)}(dc)),dc}var fc={},fg={},hg={},vH;function D0e(){if(vH)return hg;vH=1,Object.defineProperty(hg,"__esModule",{value:!0}),hg.TermFunctionIsNumeric=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.IS_NUMERIC,overloads:(0,t.declare)(t.SparqlOperator.IS_NUMERIC).onNumeric1(()=>()=>(0,t.bool)(!0)).onTerm1(()=>()=>(0,t.bool)(!1)).collect()})}};return hg.TermFunctionIsNumeric=o,hg}var TH;function P0e(){if(TH)return fg;TH=1,Object.defineProperty(fg,"__esModule",{value:!0}),fg.ActorFunctionFactoryTermIsNumeric=void 0;const a=$e(),t=Me(),o=D0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.IS_NUMERIC],termFunction:!0})}async run(e){return new o.TermFunctionIsNumeric}};return fg.ActorFunctionFactoryTermIsNumeric=n,fg}var wH;function L0e(){return wH||(wH=1,function(a){var t=fc&&fc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=fc&&fc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(P0e(),a)}(fc)),fc}var hc={},pg={},yg={},SH;function j0e(){if(SH)return yg;SH=1,Object.defineProperty(yg,"__esModule",{value:!0}),yg.TermFunctionIsTriple=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.IS_TRIPLE,overloads:(0,t.declare)(t.SparqlOperator.IS_TRIPLE).onTerm1(()=>r=>(0,t.bool)(r.termType==="quad")).collect()})}};return yg.TermFunctionIsTriple=o,yg}var OH;function M0e(){if(OH)return pg;OH=1,Object.defineProperty(pg,"__esModule",{value:!0}),pg.ActorFunctionFactoryTermIsTriple=void 0;const a=$e(),t=Me(),o=j0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.IS_TRIPLE],termFunction:!0})}async run(e){return new o.TermFunctionIsTriple}};return pg.ActorFunctionFactoryTermIsTriple=n,pg}var AH;function q0e(){return AH||(AH=1,function(a){var t=hc&&hc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=hc&&hc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(M0e(),a)}(hc)),hc}var pc={},bg={},_g={},EH;function C0e(){if(EH)return _g;EH=1,Object.defineProperty(_g,"__esModule",{value:!0}),_g.TermFunctionIsLiteral=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.IS_LITERAL,overloads:(0,t.declare)(t.SparqlOperator.IS_LITERAL).onTerm1(()=>r=>(0,t.bool)(r.termType==="literal")).collect()})}};return _g.TermFunctionIsLiteral=o,_g}var xH;function B0e(){if(xH)return bg;xH=1,Object.defineProperty(bg,"__esModule",{value:!0}),bg.ActorFunctionFactoryTermIsLiteral=void 0;const a=$e(),t=Me(),o=C0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.IS_LITERAL],termFunction:!0})}async run(e){return new o.TermFunctionIsLiteral}};return bg.ActorFunctionFactoryTermIsLiteral=n,bg}var IH;function $0e(){return IH||(IH=1,function(a){var t=pc&&pc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=pc&&pc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(B0e(),a)}(pc)),pc}var yc={},mg={},gg={},RH;function U0e(){if(RH)return gg;RH=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.TermFunctionLang=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.LANG,overloads:(0,t.declare)(t.SparqlOperator.LANG).onLiteral1(()=>r=>(0,t.string)(r.language??"")).collect()})}};return gg.TermFunctionLang=o,gg}var FH;function V0e(){if(FH)return mg;FH=1,Object.defineProperty(mg,"__esModule",{value:!0}),mg.ActorFunctionFactoryTermLang=void 0;const a=$e(),t=Me(),o=U0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.LANG],termFunction:!0})}async run(e){return new o.TermFunctionLang}};return mg.ActorFunctionFactoryTermLang=n,mg}var NH;function Q0e(){return NH||(NH=1,function(a){var t=yc&&yc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=yc&&yc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(V0e(),a)}(yc)),yc}var bc={},vg={},Tg={},DH;function H0e(){if(DH)return Tg;DH=1,Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.TermFunctionLcase=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.LCASE,overloads:(0,t.declare)(t.SparqlOperator.LCASE).onString1Typed(()=>r=>(0,t.string)(r.toLowerCase())).onLangString1(()=>r=>(0,t.langString)(r.typedValue.toLowerCase(),r.language)).collect()})}};return Tg.TermFunctionLcase=o,Tg}var PH;function G0e(){if(PH)return vg;PH=1,Object.defineProperty(vg,"__esModule",{value:!0}),vg.ActorFunctionFactoryTermLcase=void 0;const a=$e(),t=Me(),o=H0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.LCASE],termFunction:!0})}async run(e){return new o.TermFunctionLcase}};return vg.ActorFunctionFactoryTermLcase=n,vg}var LH;function z0e(){return LH||(LH=1,function(a){var t=bc&&bc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=bc&&bc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(G0e(),a)}(bc)),bc}var _c={},wg={},Sg={},jH;function k0e(){if(jH)return Sg;jH=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.TermFunctionLangmatches=void 0;const a=$e(),t=Me();let o=class fp extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.LANG_MATCHES,overloads:(0,t.declare)(t.SparqlOperator.LANG_MATCHES).onBinaryTyped([t.TypeURL.XSD_STRING,t.TypeURL.XSD_STRING],()=>(r,e)=>(0,t.bool)(fp.langMatches(r,e))).collect()})}static langMatches(r,e){const i=r.split("-"),s=e.split("-");if(!fp.matchLangTag(s[0],i[0])&&!fp.isWildCard(i[0]))return!1;let c=1,u=1;for(;u<s.length;){if(fp.isWildCard(s[u])){u++;continue}if(c===i.length)return!1;if(fp.matchLangTag(s[u],i[c])){c++,u++;continue}if(i[c].length===1)return!1;c++}return!0}static isWildCard(r){return r==="*"}static matchLangTag(r,e){return new RegExp(`/${r}/`,"iu").test(`/${e}/`)}};return Sg.TermFunctionLangmatches=o,Sg}var MH;function X0e(){if(MH)return wg;MH=1,Object.defineProperty(wg,"__esModule",{value:!0}),wg.ActorFunctionFactoryTermLangmatches=void 0;const a=$e(),t=Me(),o=k0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.LANG_MATCHES],termFunction:!0})}async run(e){return new o.TermFunctionLangmatches}};return wg.ActorFunctionFactoryTermLangmatches=n,wg}var qH;function W0e(){return qH||(qH=1,function(a){var t=_c&&_c.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=_c&&_c.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(X0e(),a)}(_c)),_c}var mc={},Og={},Ag={},CH;function J0e(){if(CH)return Ag;CH=1,Object.defineProperty(Ag,"__esModule",{value:!0}),Ag.TermFunctionMinutes=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.MINUTES,overloads:(0,t.declare)(t.SparqlOperator.MINUTES).onDateTime1(()=>r=>(0,t.integer)(r.typedValue.minutes)).set([t.TypeURL.XSD_TIME],()=>([r])=>(0,t.integer)(r.typedValue.minutes)).collect()})}};return Ag.TermFunctionMinutes=o,Ag}var BH;function K0e(){if(BH)return Og;BH=1,Object.defineProperty(Og,"__esModule",{value:!0}),Og.ActorFunctionFactoryTermMinutes=void 0;const a=$e(),t=Me(),o=J0e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.MINUTES],termFunction:!0})}async run(e){return new o.TermFunctionMinutes}};return Og.ActorFunctionFactoryTermMinutes=n,Og}var $H;function Y0e(){return $H||($H=1,function(a){var t=mc&&mc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=mc&&mc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(K0e(),a)}(mc)),mc}var gc={},Eg={},xg={},ZF={exports:{}},UH;function Z0e(){return UH||(UH=1,function(a,t){(function(o){a.exports=o()})(function(o){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(y,m){var b=y[0],T=y[1],w=y[2],O=y[3];b+=(T&w|~T&O)+m[0]-680876936|0,b=(b<<7|b>>>25)+T|0,O+=(b&T|~b&w)+m[1]-389564586|0,O=(O<<12|O>>>20)+b|0,w+=(O&b|~O&T)+m[2]+606105819|0,w=(w<<17|w>>>15)+O|0,T+=(w&O|~w&b)+m[3]-1044525330|0,T=(T<<22|T>>>10)+w|0,b+=(T&w|~T&O)+m[4]-176418897|0,b=(b<<7|b>>>25)+T|0,O+=(b&T|~b&w)+m[5]+1200080426|0,O=(O<<12|O>>>20)+b|0,w+=(O&b|~O&T)+m[6]-1473231341|0,w=(w<<17|w>>>15)+O|0,T+=(w&O|~w&b)+m[7]-45705983|0,T=(T<<22|T>>>10)+w|0,b+=(T&w|~T&O)+m[8]+1770035416|0,b=(b<<7|b>>>25)+T|0,O+=(b&T|~b&w)+m[9]-1958414417|0,O=(O<<12|O>>>20)+b|0,w+=(O&b|~O&T)+m[10]-42063|0,w=(w<<17|w>>>15)+O|0,T+=(w&O|~w&b)+m[11]-1990404162|0,T=(T<<22|T>>>10)+w|0,b+=(T&w|~T&O)+m[12]+1804603682|0,b=(b<<7|b>>>25)+T|0,O+=(b&T|~b&w)+m[13]-40341101|0,O=(O<<12|O>>>20)+b|0,w+=(O&b|~O&T)+m[14]-1502002290|0,w=(w<<17|w>>>15)+O|0,T+=(w&O|~w&b)+m[15]+1236535329|0,T=(T<<22|T>>>10)+w|0,b+=(T&O|w&~O)+m[1]-165796510|0,b=(b<<5|b>>>27)+T|0,O+=(b&w|T&~w)+m[6]-1069501632|0,O=(O<<9|O>>>23)+b|0,w+=(O&T|b&~T)+m[11]+643717713|0,w=(w<<14|w>>>18)+O|0,T+=(w&b|O&~b)+m[0]-373897302|0,T=(T<<20|T>>>12)+w|0,b+=(T&O|w&~O)+m[5]-701558691|0,b=(b<<5|b>>>27)+T|0,O+=(b&w|T&~w)+m[10]+38016083|0,O=(O<<9|O>>>23)+b|0,w+=(O&T|b&~T)+m[15]-660478335|0,w=(w<<14|w>>>18)+O|0,T+=(w&b|O&~b)+m[4]-405537848|0,T=(T<<20|T>>>12)+w|0,b+=(T&O|w&~O)+m[9]+568446438|0,b=(b<<5|b>>>27)+T|0,O+=(b&w|T&~w)+m[14]-1019803690|0,O=(O<<9|O>>>23)+b|0,w+=(O&T|b&~T)+m[3]-187363961|0,w=(w<<14|w>>>18)+O|0,T+=(w&b|O&~b)+m[8]+1163531501|0,T=(T<<20|T>>>12)+w|0,b+=(T&O|w&~O)+m[13]-1444681467|0,b=(b<<5|b>>>27)+T|0,O+=(b&w|T&~w)+m[2]-51403784|0,O=(O<<9|O>>>23)+b|0,w+=(O&T|b&~T)+m[7]+1735328473|0,w=(w<<14|w>>>18)+O|0,T+=(w&b|O&~b)+m[12]-1926607734|0,T=(T<<20|T>>>12)+w|0,b+=(T^w^O)+m[5]-378558|0,b=(b<<4|b>>>28)+T|0,O+=(b^T^w)+m[8]-2022574463|0,O=(O<<11|O>>>21)+b|0,w+=(O^b^T)+m[11]+1839030562|0,w=(w<<16|w>>>16)+O|0,T+=(w^O^b)+m[14]-35309556|0,T=(T<<23|T>>>9)+w|0,b+=(T^w^O)+m[1]-1530992060|0,b=(b<<4|b>>>28)+T|0,O+=(b^T^w)+m[4]+1272893353|0,O=(O<<11|O>>>21)+b|0,w+=(O^b^T)+m[7]-155497632|0,w=(w<<16|w>>>16)+O|0,T+=(w^O^b)+m[10]-1094730640|0,T=(T<<23|T>>>9)+w|0,b+=(T^w^O)+m[13]+681279174|0,b=(b<<4|b>>>28)+T|0,O+=(b^T^w)+m[0]-358537222|0,O=(O<<11|O>>>21)+b|0,w+=(O^b^T)+m[3]-722521979|0,w=(w<<16|w>>>16)+O|0,T+=(w^O^b)+m[6]+76029189|0,T=(T<<23|T>>>9)+w|0,b+=(T^w^O)+m[9]-640364487|0,b=(b<<4|b>>>28)+T|0,O+=(b^T^w)+m[12]-421815835|0,O=(O<<11|O>>>21)+b|0,w+=(O^b^T)+m[15]+530742520|0,w=(w<<16|w>>>16)+O|0,T+=(w^O^b)+m[2]-995338651|0,T=(T<<23|T>>>9)+w|0,b+=(w^(T|~O))+m[0]-198630844|0,b=(b<<6|b>>>26)+T|0,O+=(T^(b|~w))+m[7]+1126891415|0,O=(O<<10|O>>>22)+b|0,w+=(b^(O|~T))+m[14]-1416354905|0,w=(w<<15|w>>>17)+O|0,T+=(O^(w|~b))+m[5]-57434055|0,T=(T<<21|T>>>11)+w|0,b+=(w^(T|~O))+m[12]+1700485571|0,b=(b<<6|b>>>26)+T|0,O+=(T^(b|~w))+m[3]-1894986606|0,O=(O<<10|O>>>22)+b|0,w+=(b^(O|~T))+m[10]-1051523|0,w=(w<<15|w>>>17)+O|0,T+=(O^(w|~b))+m[1]-2054922799|0,T=(T<<21|T>>>11)+w|0,b+=(w^(T|~O))+m[8]+1873313359|0,b=(b<<6|b>>>26)+T|0,O+=(T^(b|~w))+m[15]-30611744|0,O=(O<<10|O>>>22)+b|0,w+=(b^(O|~T))+m[6]-1560198380|0,w=(w<<15|w>>>17)+O|0,T+=(O^(w|~b))+m[13]+1309151649|0,T=(T<<21|T>>>11)+w|0,b+=(w^(T|~O))+m[4]-145523070|0,b=(b<<6|b>>>26)+T|0,O+=(T^(b|~w))+m[11]-1120210379|0,O=(O<<10|O>>>22)+b|0,w+=(b^(O|~T))+m[2]+718787259|0,w=(w<<15|w>>>17)+O|0,T+=(O^(w|~b))+m[9]-343485551|0,T=(T<<21|T>>>11)+w|0,y[0]=b+y[0]|0,y[1]=T+y[1]|0,y[2]=w+y[2]|0,y[3]=O+y[3]|0}function e(y){var m=[],b;for(b=0;b<64;b+=4)m[b>>2]=y.charCodeAt(b)+(y.charCodeAt(b+1)<<8)+(y.charCodeAt(b+2)<<16)+(y.charCodeAt(b+3)<<24);return m}function i(y){var m=[],b;for(b=0;b<64;b+=4)m[b>>2]=y[b]+(y[b+1]<<8)+(y[b+2]<<16)+(y[b+3]<<24);return m}function s(y){var m=y.length,b=[1732584193,-271733879,-1732584194,271733878],T,w,O,F,Q,j;for(T=64;T<=m;T+=64)r(b,e(y.substring(T-64,T)));for(y=y.substring(T-64),w=y.length,O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=0;T<w;T+=1)O[T>>2]|=y.charCodeAt(T)<<(T%4<<3);if(O[T>>2]|=128<<(T%4<<3),T>55)for(r(b,O),T=0;T<16;T+=1)O[T]=0;return F=m*8,F=F.toString(16).match(/(.*?)(.{0,8})$/),Q=parseInt(F[2],16),j=parseInt(F[1],16)||0,O[14]=Q,O[15]=j,r(b,O),b}function c(y){var m=y.length,b=[1732584193,-271733879,-1732584194,271733878],T,w,O,F,Q,j;for(T=64;T<=m;T+=64)r(b,i(y.subarray(T-64,T)));for(y=T-64<m?y.subarray(T-64):new Uint8Array(0),w=y.length,O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T=0;T<w;T+=1)O[T>>2]|=y[T]<<(T%4<<3);if(O[T>>2]|=128<<(T%4<<3),T>55)for(r(b,O),T=0;T<16;T+=1)O[T]=0;return F=m*8,F=F.toString(16).match(/(.*?)(.{0,8})$/),Q=parseInt(F[2],16),j=parseInt(F[1],16)||0,O[14]=Q,O[15]=j,r(b,O),b}function u(y){var m="",b;for(b=0;b<4;b+=1)m+=n[y>>b*8+4&15]+n[y>>b*8&15];return m}function l(y){var m;for(m=0;m<y.length;m+=1)y[m]=u(y[m]);return y.join("")}l(s("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function y(m,b){return m=m|0||0,m<0?Math.max(m+b,0):Math.min(m,b)}ArrayBuffer.prototype.slice=function(m,b){var T=this.byteLength,w=y(m,T),O=T,F,Q,j,x;return b!==o&&(O=y(b,T)),w>O?new ArrayBuffer(0):(F=O-w,Q=new ArrayBuffer(F),j=new Uint8Array(Q),x=new Uint8Array(this,w,F),j.set(x),Q)}}();function f(y){return/[\u0080-\uFFFF]/.test(y)&&(y=unescape(encodeURIComponent(y))),y}function d(y,m){var b=y.length,T=new ArrayBuffer(b),w=new Uint8Array(T),O;for(O=0;O<b;O+=1)w[O]=y.charCodeAt(O);return m?w:T}function h(y){return String.fromCharCode.apply(null,new Uint8Array(y))}function p(y,m,b){var T=new Uint8Array(y.byteLength+m.byteLength);return T.set(new Uint8Array(y)),T.set(new Uint8Array(m),y.byteLength),T}function _(y){var m=[],b=y.length,T;for(T=0;T<b-1;T+=2)m.push(parseInt(y.substr(T,2),16));return String.fromCharCode.apply(String,m)}function g(){this.reset()}return g.prototype.append=function(y){return this.appendBinary(f(y)),this},g.prototype.appendBinary=function(y){this._buff+=y,this._length+=y.length;var m=this._buff.length,b;for(b=64;b<=m;b+=64)r(this._hash,e(this._buff.substring(b-64,b)));return this._buff=this._buff.substring(b-64),this},g.prototype.end=function(y){var m=this._buff,b=m.length,T,w=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],O;for(T=0;T<b;T+=1)w[T>>2]|=m.charCodeAt(T)<<(T%4<<3);return this._finish(w,b),O=l(this._hash),y&&(O=_(O)),this.reset(),O},g.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},g.prototype.setState=function(y){return this._buff=y.buff,this._length=y.length,this._hash=y.hash,this},g.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},g.prototype._finish=function(y,m){var b=m,T,w,O;if(y[b>>2]|=128<<(b%4<<3),b>55)for(r(this._hash,y),b=0;b<16;b+=1)y[b]=0;T=this._length*8,T=T.toString(16).match(/(.*?)(.{0,8})$/),w=parseInt(T[2],16),O=parseInt(T[1],16)||0,y[14]=w,y[15]=O,r(this._hash,y)},g.hash=function(y,m){return g.hashBinary(f(y),m)},g.hashBinary=function(y,m){var b=s(y),T=l(b);return m?_(T):T},g.ArrayBuffer=function(){this.reset()},g.ArrayBuffer.prototype.append=function(y){var m=p(this._buff.buffer,y),b=m.length,T;for(this._length+=y.byteLength,T=64;T<=b;T+=64)r(this._hash,i(m.subarray(T-64,T)));return this._buff=T-64<b?new Uint8Array(m.buffer.slice(T-64)):new Uint8Array(0),this},g.ArrayBuffer.prototype.end=function(y){var m=this._buff,b=m.length,T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w,O;for(w=0;w<b;w+=1)T[w>>2]|=m[w]<<(w%4<<3);return this._finish(T,b),O=l(this._hash),y&&(O=_(O)),this.reset(),O},g.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},g.ArrayBuffer.prototype.getState=function(){var y=g.prototype.getState.call(this);return y.buff=h(y.buff),y},g.ArrayBuffer.prototype.setState=function(y){return y.buff=d(y.buff,!0),g.prototype.setState.call(this,y)},g.ArrayBuffer.prototype.destroy=g.prototype.destroy,g.ArrayBuffer.prototype._finish=g.prototype._finish,g.ArrayBuffer.hash=function(y,m){var b=c(new Uint8Array(y)),T=l(b);return m?_(T):T},g})}(ZF)),ZF.exports}var VH;function eye(){if(VH)return xg;VH=1,Object.defineProperty(xg,"__esModule",{value:!0}),xg.TermFunctionMd5=void 0;const a=$e(),t=Me(),o=Z0e();let n=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.MD5,overloads:(0,t.declare)(t.SparqlOperator.MD5).onString1Typed(()=>e=>(0,t.string)((0,o.hash)(e))).collect()})}};return xg.TermFunctionMd5=n,xg}var QH;function tye(){if(QH)return Eg;QH=1,Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.ActorFunctionFactoryTermMd5=void 0;const a=$e(),t=Me(),o=eye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.MD5],termFunction:!0})}async run(e){return new o.TermFunctionMd5}};return Eg.ActorFunctionFactoryTermMd5=n,Eg}var HH;function rye(){return HH||(HH=1,function(a){var t=gc&&gc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=gc&&gc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(tye(),a)}(gc)),gc}var vc={},Ig={},Rg={},GH;function nye(){if(GH)return Rg;GH=1,Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.TermFunctionMultiplication=void 0;const a=$e(),t=Me(),o=BA();let n=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.MULTIPLICATION,overloads:(0,t.declare)(t.SparqlOperator.MULTIPLICATION).arithmetic(()=>(e,i)=>new o.BigNumber(e).times(i).toNumber()).collect()})}};return Rg.TermFunctionMultiplication=n,Rg}var zH;function iye(){if(zH)return Ig;zH=1,Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.ActorFunctionFactoryTermMultiplication=void 0;const a=$e(),t=Me(),o=nye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.MULTIPLICATION],termFunction:!0})}async run(e){return new o.TermFunctionMultiplication}};return Ig.ActorFunctionFactoryTermMultiplication=n,Ig}var kH;function aye(){return kH||(kH=1,function(a){var t=vc&&vc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=vc&&vc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(iye(),a)}(vc)),vc}var Tc={},Fg={},Ng={},XH;function oye(){if(XH)return Ng;XH=1,Object.defineProperty(Ng,"__esModule",{value:!0}),Ng.TermFunctionMonth=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.MONTH,overloads:(0,t.declare)(t.SparqlOperator.MONTH).onDateTime1(()=>r=>(0,t.integer)(r.typedValue.month)).set([t.TypeURL.XSD_DATE],()=>([r])=>(0,t.integer)(r.typedValue.month)).collect()})}};return Ng.TermFunctionMonth=o,Ng}var WH;function sye(){if(WH)return Fg;WH=1,Object.defineProperty(Fg,"__esModule",{value:!0}),Fg.ActorFunctionFactoryTermMonth=void 0;const a=$e(),t=Me(),o=oye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.MONTH],termFunction:!0})}async run(e){return new o.TermFunctionMonth}};return Fg.ActorFunctionFactoryTermMonth=n,Fg}var JH;function uye(){return JH||(JH=1,function(a){var t=Tc&&Tc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Tc&&Tc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(sye(),a)}(Tc)),Tc}var wc={},Dg={},Pg={},KH;function cye(){if(KH)return Pg;KH=1,Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.TermFunctionNot=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.NOT,overloads:(0,t.declare)(t.SparqlOperator.NOT).onTerm1(()=>r=>(0,t.bool)(!r.coerceEBV())).collect()})}};return Pg.TermFunctionNot=o,Pg}var YH;function lye(){if(YH)return Dg;YH=1,Object.defineProperty(Dg,"__esModule",{value:!0}),Dg.ActorFunctionFactoryTermNot=void 0;const a=$e(),t=Me(),o=cye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.NOT],termFunction:!0})}async run(e){return new o.TermFunctionNot}};return Dg.ActorFunctionFactoryTermNot=n,Dg}var ZH;function dye(){return ZH||(ZH=1,function(a){var t=wc&&wc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=wc&&wc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(lye(),a)}(wc)),wc}var Sc={},Lg={},jg={},eG;function fye(){if(eG)return jg;eG=1,Object.defineProperty(jg,"__esModule",{value:!0}),jg.TermFunctionObject=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.OBJECT,overloads:(0,t.declare)(t.SparqlOperator.OBJECT).onQuad1(()=>r=>r.object).collect()})}};return jg.TermFunctionObject=o,jg}var tG;function hye(){if(tG)return Lg;tG=1,Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.ActorFunctionFactoryTermObject=void 0;const a=$e(),t=Me(),o=fye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.OBJECT],termFunction:!0})}async run(e){return new o.TermFunctionObject}};return Lg.ActorFunctionFactoryTermObject=n,Lg}var rG;function pye(){return rG||(rG=1,function(a){var t=Sc&&Sc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Sc&&Sc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(hye(),a)}(Sc)),Sc}var Oc={},Mg={},qg={},nG;function yye(){if(nG)return qg;nG=1,Object.defineProperty(qg,"__esModule",{value:!0}),qg.TermFunctionNow=void 0;const a=$e(),t=tt(),o=Me();let n=class extends a.TermFunctionBase{constructor(){super({arity:0,operator:o.SparqlOperator.NOW,overloads:(0,o.declare)(o.SparqlOperator.NOW).set([],e=>()=>new o.DateTimeLiteral((0,o.toDateTimeRepresentation)({date:e.context.getSafe(t.KeysInitQuery.queryTimestamp),timeZone:e.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)}))).collect()})}};return qg.TermFunctionNow=n,qg}var iG;function bye(){if(iG)return Mg;iG=1,Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.ActorFunctionFactoryTermNow=void 0;const a=$e(),t=Me(),o=yye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.NOW],termFunction:!0})}async run(e){return new o.TermFunctionNow}};return Mg.ActorFunctionFactoryTermNow=n,Mg}var aG;function _ye(){return aG||(aG=1,function(a){var t=Oc&&Oc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Oc&&Oc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(bye(),a)}(Oc)),Oc}var Ac={},Cg={},Bg={},oG;function mye(){if(oG)return Bg;oG=1,Object.defineProperty(Bg,"__esModule",{value:!0}),Bg.TermFunctionPredicate=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.PREDICATE,overloads:(0,t.declare)(t.SparqlOperator.PREDICATE).onQuad1(()=>r=>r.predicate).collect()})}};return Bg.TermFunctionPredicate=o,Bg}var sG;function gye(){if(sG)return Cg;sG=1,Object.defineProperty(Cg,"__esModule",{value:!0}),Cg.ActorFunctionFactoryTermPredicate=void 0;const a=$e(),t=Me(),o=mye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.PREDICATE],termFunction:!0})}async run(e){return new o.TermFunctionPredicate}};return Cg.ActorFunctionFactoryTermPredicate=n,Cg}var uG;function vye(){return uG||(uG=1,function(a){var t=Ac&&Ac.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ac&&Ac.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(gye(),a)}(Ac)),Ac}var Ec={},$g={},Ug={},cG;function Tye(){if(cG)return Ug;cG=1,Object.defineProperty(Ug,"__esModule",{value:!0}),Ug.TermFunctionRand=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:0,operator:t.SparqlOperator.RAND,overloads:(0,t.declare)(t.SparqlOperator.RAND).set([],()=>()=>(0,t.double)(Math.random())).collect()})}};return Ug.TermFunctionRand=o,Ug}var lG;function wye(){if(lG)return $g;lG=1,Object.defineProperty($g,"__esModule",{value:!0}),$g.ActorFunctionFactoryTermRand=void 0;const a=$e(),t=Me(),o=Tye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.RAND],termFunction:!0})}async run(e){return new o.TermFunctionRand}};return $g.ActorFunctionFactoryTermRand=n,$g}var dG;function Sye(){return dG||(dG=1,function(a){var t=Ec&&Ec.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ec&&Ec.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(wye(),a)}(Ec)),Ec}var xc={},Vg={},Qg={},fG;function hG(){if(fG)return Qg;fG=1,Object.defineProperty(Qg,"__esModule",{value:!0}),Qg.TermFunctionRegex=void 0;const a=$e(),t=Me();let o=class Ca extends a.TermFunctionBase{constructor(){super({arity:[2,3],operator:t.SparqlOperator.REGEX,overloads:(0,t.declare)(t.SparqlOperator.REGEX).onBinaryTyped([t.TypeAlias.SPARQL_STRINGLY,t.TypeURL.XSD_STRING],Ca.regex2).onTernaryTyped([t.TypeAlias.SPARQL_STRINGLY,t.TypeURL.XSD_STRING,t.TypeURL.XSD_STRING],Ca.regex3).collect()})}static regex2(){return(r,e)=>(0,t.bool)(Ca.matches(r,e))}static regex3(){return(r,e,i)=>(0,t.bool)(Ca.matches(r,e,i))}static matches(r,e,i=""){return i=Ca.cleanFlags(i),i.includes("x")&&(e=Ca.flagX(e)),i.includes("q")&&(e=Ca.flagQ(e)),new RegExp(e,i.replaceAll(/[qx]/gu,"")).test(r)}static cleanFlags(r){if(!/^[imsxq]*$/u.test(r))throw new Error("Invalid flags");const e=[...r].find((i,s,c)=>c.indexOf(i)!==s);if(e)throw new Error(`Duplicate flag: ${e}`);return r!=null&&r.includes("q")&&(r=r.replaceAll(/[msx]/gu,"")),`${r}u`}static flagX(r){if(!r)return r;let e=r[0];for(;["	",`
`,"\r"," "].includes(e);)r=r.slice(1),e=r[0];let i=e==="[";for(let s=1;s<r.length;s++){const c=r[s];["	",`
`,"\r"," "].includes(c)&&!i?(r=r.slice(0,s)+r.slice(s+1),s--):c==="["&&e!=="\\"?i=!0:c==="]"&&e!=="\\"&&(i=!1),e=c}return r}static flagQ(r){return r.replaceAll(/([?+*.{}()[\]\\|])/gu,"\\$1").replaceAll(/^\^/gu,"\\^").replaceAll(/\$$/gu,"\\$")}};return Qg.TermFunctionRegex=o,Qg}var pG;function Oye(){if(pG)return Vg;pG=1,Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.ActorFunctionFactoryTermRegex=void 0;const a=$e(),t=Me(),o=hG();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.REGEX],termFunction:!0})}async run(e){return new o.TermFunctionRegex}};return Vg.ActorFunctionFactoryTermRegex=n,Vg}var yG;function bG(){return yG||(yG=1,function(a){var t=xc&&xc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=xc&&xc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Oye(),a),o(hG(),a)}(xc)),xc}var Ic={},Hg={},Gg={},_G;function Aye(){if(_G)return Gg;_G=1,Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.TermFunctionReplace=void 0;const a=bG(),t=$e(),o=Me();let n=class yO extends t.TermFunctionBase{constructor(){super({arity:[3,4],operator:o.SparqlOperator.REPLACE,overloads:(0,o.declare)(o.SparqlOperator.REPLACE).onTernaryTyped([o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING],()=>(e,i,s)=>(0,o.string)(yO.replace(e,i,s))).set([o.TypeURL.RDF_LANG_STRING,o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING],()=>([e,i,s])=>{const c=yO.replace(e.typedValue,i.typedValue,s.typedValue);return(0,o.langString)(c,e.language)}).onQuaternaryTyped([o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING],()=>(e,i,s,c)=>(0,o.string)(yO.replace(e,i,s,c))).set([o.TypeURL.RDF_LANG_STRING,o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING],()=>([e,i,s,c])=>{const u=yO.replace(e.typedValue,i.typedValue,s.typedValue,c.typedValue);return(0,o.langString)(u,e.language)}).collect()})}static replace(e,i,s,c=""){return c=a.TermFunctionRegex.cleanFlags(c),c.includes("x")&&(i=a.TermFunctionRegex.flagX(i)),c.includes("q")?i=a.TermFunctionRegex.flagQ(i):s=s.replaceAll("$0",()=>"$&"),c=`${c.replaceAll(/[qx]/gu,"")}g`,e.replaceAll(new RegExp(i,c),s)}};return Gg.TermFunctionReplace=n,Gg}var mG;function Eye(){if(mG)return Hg;mG=1,Object.defineProperty(Hg,"__esModule",{value:!0}),Hg.ActorFunctionFactoryTermReplace=void 0;const a=$e(),t=Me(),o=Aye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.REPLACE],termFunction:!0})}async run(e){return new o.TermFunctionReplace}};return Hg.ActorFunctionFactoryTermReplace=n,Hg}var gG;function xye(){return gG||(gG=1,function(a){var t=Ic&&Ic.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ic&&Ic.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Eye(),a)}(Ic)),Ic}var Rc={},zg={},kg={},vG;function Iye(){if(vG)return kg;vG=1,Object.defineProperty(kg,"__esModule",{value:!0}),kg.TermFunctionRound=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.ROUND,overloads:(0,t.declare)(t.SparqlOperator.ROUND).numericConverter(()=>r=>Math.round(r)).collect()})}};return kg.TermFunctionRound=o,kg}var TG;function Rye(){if(TG)return zg;TG=1,Object.defineProperty(zg,"__esModule",{value:!0}),zg.ActorFunctionFactoryTermRound=void 0;const a=$e(),t=Me(),o=Iye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.ROUND],termFunction:!0})}async run(e){return new o.TermFunctionRound}};return zg.ActorFunctionFactoryTermRound=n,zg}var wG;function Fye(){return wG||(wG=1,function(a){var t=Rc&&Rc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Rc&&Rc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Rye(),a)}(Rc)),Rc}var Fc={},Xg={},Wg={},SG;function Nye(){if(SG)return Wg;SG=1,Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.TermFunctionSeconds=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.SECONDS,overloads:(0,t.declare)(t.SparqlOperator.SECONDS).onDateTime1(()=>r=>(0,t.decimal)(r.typedValue.seconds)).set([t.TypeURL.XSD_TIME],()=>([r])=>(0,t.integer)(r.typedValue.seconds)).collect()})}};return Wg.TermFunctionSeconds=o,Wg}var OG;function Dye(){if(OG)return Xg;OG=1,Object.defineProperty(Xg,"__esModule",{value:!0}),Xg.ActorFunctionFactoryTermSeconds=void 0;const a=$e(),t=Me(),o=Nye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.SECONDS],termFunction:!0})}async run(e){return new o.TermFunctionSeconds}};return Xg.ActorFunctionFactoryTermSeconds=n,Xg}var AG;function Pye(){return AG||(AG=1,function(a){var t=Fc&&Fc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Fc&&Fc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Dye(),a)}(Fc)),Fc}var Nc={},Jg={},Kg={},EG;function Lye(){if(EG)return Kg;EG=1,Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.TermFunctionSha256=void 0;const a=$e(),t=Me(),o=L0();let n=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.SHA256,overloads:(0,t.declare)(t.SparqlOperator.SHA256).onString1Typed(()=>e=>(0,t.string)((0,o.sha256)().update(e).digest("hex"))).collect()})}};return Kg.TermFunctionSha256=n,Kg}var xG;function jye(){if(xG)return Jg;xG=1,Object.defineProperty(Jg,"__esModule",{value:!0}),Jg.ActorFunctionFactoryTermSha256=void 0;const a=$e(),t=Me(),o=Lye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.SHA256],termFunction:!0})}async run(e){return new o.TermFunctionSha256}};return Jg.ActorFunctionFactoryTermSha256=n,Jg}var IG;function Mye(){return IG||(IG=1,function(a){var t=Nc&&Nc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Nc&&Nc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(jye(),a)}(Nc)),Nc}var Dc={},Yg={},Zg={},RG;function qye(){if(RG)return Zg;RG=1,Object.defineProperty(Zg,"__esModule",{value:!0}),Zg.TermFunctionSha1=void 0;const a=$e(),t=Me(),o=L0();let n=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.SHA1,overloads:(0,t.declare)(t.SparqlOperator.SHA1).onString1Typed(()=>e=>(0,t.string)((0,o.sha1)().update(e).digest("hex"))).collect()})}};return Zg.TermFunctionSha1=n,Zg}var FG;function Cye(){if(FG)return Yg;FG=1,Object.defineProperty(Yg,"__esModule",{value:!0}),Yg.ActorFunctionFactoryTermSha1=void 0;const a=$e(),t=Me(),o=qye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.SHA1],termFunction:!0})}async run(e){return new o.TermFunctionSha1}};return Yg.ActorFunctionFactoryTermSha1=n,Yg}var NG;function Bye(){return NG||(NG=1,function(a){var t=Dc&&Dc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Dc&&Dc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Cye(),a)}(Dc)),Dc}var Pc={},ev={},tv={},DG;function $ye(){if(DG)return tv;DG=1,Object.defineProperty(tv,"__esModule",{value:!0}),tv.TermFunctionSha384=void 0;const a=$e(),t=Me(),o=L0();let n=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.SHA384,overloads:(0,t.declare)(t.SparqlOperator.SHA384).onString1Typed(()=>e=>(0,t.string)((0,o.sha384)().update(e).digest("hex"))).collect()})}};return tv.TermFunctionSha384=n,tv}var PG;function Uye(){if(PG)return ev;PG=1,Object.defineProperty(ev,"__esModule",{value:!0}),ev.ActorFunctionFactoryTermSha384=void 0;const a=$e(),t=Me(),o=$ye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.SHA384],termFunction:!0})}async run(e){return new o.TermFunctionSha384}};return ev.ActorFunctionFactoryTermSha384=n,ev}var LG;function Vye(){return LG||(LG=1,function(a){var t=Pc&&Pc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Pc&&Pc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Uye(),a)}(Pc)),Pc}var Lc={},rv={},nv={},jG;function Qye(){if(jG)return nv;jG=1,Object.defineProperty(nv,"__esModule",{value:!0}),nv.TermFunctionSha512=void 0;const a=$e(),t=Me(),o=L0();let n=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.SHA512,overloads:(0,t.declare)(t.SparqlOperator.SHA512).onString1Typed(()=>e=>(0,t.string)((0,o.sha512)().update(e).digest("hex"))).collect()})}};return nv.TermFunctionSha512=n,nv}var MG;function Hye(){if(MG)return rv;MG=1,Object.defineProperty(rv,"__esModule",{value:!0}),rv.ActorFunctionFactoryTermSha512=void 0;const a=$e(),t=Me(),o=Qye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.SHA512],termFunction:!0})}async run(e){return new o.TermFunctionSha512}};return rv.ActorFunctionFactoryTermSha512=n,rv}var qG;function Gye(){return qG||(qG=1,function(a){var t=Lc&&Lc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Lc&&Lc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Hye(),a)}(Lc)),Lc}var jc={},iv={},av={},CG;function zye(){if(CG)return av;CG=1,Object.defineProperty(av,"__esModule",{value:!0}),av.TermFunctionStrAfter=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.STRAFTER,overloads:(0,t.declare)(t.SparqlOperator.STRAFTER).onBinaryTyped([t.TypeURL.XSD_STRING,t.TypeURL.XSD_STRING],()=>(r,e)=>(0,t.string)(r.slice(r.indexOf(e)).slice(e.length))).onBinary([t.TypeURL.RDF_LANG_STRING,t.TypeURL.XSD_STRING],()=>(r,e)=>{const[i,s]=[r.typedValue,e.typedValue],c=i.slice(i.indexOf(s)).slice(s.length);return c||!s?(0,t.langString)(c,r.language):(0,t.string)(c)}).onBinary([t.TypeURL.RDF_LANG_STRING,t.TypeURL.RDF_LANG_STRING],()=>(r,e)=>{if(r.language!==e.language)throw new t.IncompatibleLanguageOperation(r,e);const[i,s]=[r.typedValue,e.typedValue],c=i.slice(i.indexOf(s)).slice(s.length);return c||!s?(0,t.langString)(c,r.language):(0,t.string)(c)}).collect()})}};return av.TermFunctionStrAfter=o,av}var BG;function kye(){if(BG)return iv;BG=1,Object.defineProperty(iv,"__esModule",{value:!0}),iv.ActorFunctionFactoryTermStrAfter=void 0;const a=$e(),t=Me(),o=zye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.STRAFTER],termFunction:!0})}async run(e){return new o.TermFunctionStrAfter}};return iv.ActorFunctionFactoryTermStrAfter=n,iv}var $G;function Xye(){return $G||($G=1,function(a){var t=jc&&jc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=jc&&jc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(kye(),a)}(jc)),jc}var Mc={},ov={},sv={},UG;function Wye(){if(UG)return sv;UG=1,Object.defineProperty(sv,"__esModule",{value:!0}),sv.TermFunctionStrBefore=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.STRBEFORE,overloads:(0,t.declare)(t.SparqlOperator.STRBEFORE).onBinaryTyped([t.TypeURL.XSD_STRING,t.TypeURL.XSD_STRING],()=>(r,e)=>(0,t.string)(r.slice(0,Math.max(0,r.indexOf(e))))).onBinary([t.TypeURL.RDF_LANG_STRING,t.TypeURL.XSD_STRING],()=>(r,e)=>{const[i,s]=[r.typedValue,e.typedValue],c=r.typedValue.slice(0,Math.max(0,i.indexOf(s)));return c||!s?(0,t.langString)(c,r.language):(0,t.string)(c)}).onBinary([t.TypeURL.RDF_LANG_STRING,t.TypeURL.RDF_LANG_STRING],()=>(r,e)=>{if(r.language!==e.language)throw new t.IncompatibleLanguageOperation(r,e);const[i,s]=[r.typedValue,e.typedValue],c=r.typedValue.slice(0,Math.max(0,i.indexOf(s)));return c||!s?(0,t.langString)(c,r.language):(0,t.string)(c)}).collect()})}};return sv.TermFunctionStrBefore=o,sv}var VG;function Jye(){if(VG)return ov;VG=1,Object.defineProperty(ov,"__esModule",{value:!0}),ov.ActorFunctionFactoryTermStrBefore=void 0;const a=$e(),t=Me(),o=Wye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.STRBEFORE],termFunction:!0})}async run(e){return new o.TermFunctionStrBefore}};return ov.ActorFunctionFactoryTermStrBefore=n,ov}var QG;function Kye(){return QG||(QG=1,function(a){var t=Mc&&Mc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Mc&&Mc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Jye(),a)}(Mc)),Mc}var qc={},uv={},cv={},HG;function Yye(){if(HG)return cv;HG=1,Object.defineProperty(cv,"__esModule",{value:!0}),cv.TermFunctionStrDt=void 0;const a=$e(),t=tt(),o=Me();let n=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.STRDT,overloads:(0,o.declare)(o.SparqlOperator.STRDT).set([o.TypeURL.XSD_STRING,"namedNode"],e=>([i,s])=>{const c=e.context.getSafe(t.KeysInitQuery.dataFactory),u=c.literal(i.typedValue,c.namedNode(s.value));return new o.TermTransformer(e.context.getSafe(t.KeysExpressionEvaluator.superTypeProvider)).transformLiteral(u)}).collect()})}};return cv.TermFunctionStrDt=n,cv}var GG;function Zye(){if(GG)return uv;GG=1,Object.defineProperty(uv,"__esModule",{value:!0}),uv.ActorFunctionFactoryTermStrDt=void 0;const a=$e(),t=Me(),o=Yye();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.STRDT],termFunction:!0})}async run(e){return new o.TermFunctionStrDt}};return uv.ActorFunctionFactoryTermStrDt=n,uv}var zG;function e1e(){return zG||(zG=1,function(a){var t=qc&&qc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=qc&&qc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Zye(),a)}(qc)),qc}var Cc={},lv={},dv={},kG;function t1e(){if(kG)return dv;kG=1,Object.defineProperty(dv,"__esModule",{value:!0}),dv.TermFunctionStrEnds=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.STRENDS,overloads:(0,t.declare)(t.SparqlOperator.STRENDS).onBinaryTyped([t.TypeAlias.SPARQL_STRINGLY,t.TypeURL.XSD_STRING],()=>(r,e)=>(0,t.bool)(r.endsWith(e))).onBinary([t.TypeURL.RDF_LANG_STRING,t.TypeURL.RDF_LANG_STRING],()=>(r,e)=>{if(r.language!==e.language)throw new t.IncompatibleLanguageOperation(r,e);return(0,t.bool)(r.typedValue.endsWith(e.typedValue))}).collect()})}};return dv.TermFunctionStrEnds=o,dv}var XG;function r1e(){if(XG)return lv;XG=1,Object.defineProperty(lv,"__esModule",{value:!0}),lv.ActorFunctionFactoryTermStrEnds=void 0;const a=$e(),t=Me(),o=t1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.STRENDS],termFunction:!0})}async run(e){return new o.TermFunctionStrEnds}};return lv.ActorFunctionFactoryTermStrEnds=n,lv}var WG;function n1e(){return WG||(WG=1,function(a){var t=Cc&&Cc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Cc&&Cc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(r1e(),a)}(Cc)),Cc}var Bc={},fv={},hv={},JG;function i1e(){if(JG)return hv;JG=1,Object.defineProperty(hv,"__esModule",{value:!0}),hv.TermFunctionStrLang=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.STRLANG,overloads:(0,t.declare)(t.SparqlOperator.STRLANG).onBinaryTyped([t.TypeURL.XSD_STRING,t.TypeURL.XSD_STRING],()=>(r,e)=>new t.LangStringLiteral(r,e.toLowerCase())).collect()})}};return hv.TermFunctionStrLang=o,hv}var KG;function a1e(){if(KG)return fv;KG=1,Object.defineProperty(fv,"__esModule",{value:!0}),fv.ActorFunctionFactoryTermStrLang=void 0;const a=$e(),t=Me(),o=i1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.STRLANG],termFunction:!0})}async run(e){return new o.TermFunctionStrLang}};return fv.ActorFunctionFactoryTermStrLang=n,fv}var YG;function o1e(){return YG||(YG=1,function(a){var t=Bc&&Bc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Bc&&Bc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(a1e(),a)}(Bc)),Bc}var $c={},pv={},yv={},ZG;function s1e(){if(ZG)return yv;ZG=1,Object.defineProperty(yv,"__esModule",{value:!0}),yv.TermFunctionStrLen=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.STRLEN,overloads:(0,t.declare)(t.SparqlOperator.STRLEN).onStringly1(()=>r=>(0,t.integer)([...r.typedValue].length)).collect()})}};return yv.TermFunctionStrLen=o,yv}var ez;function u1e(){if(ez)return pv;ez=1,Object.defineProperty(pv,"__esModule",{value:!0}),pv.ActorFunctionFactoryTermStrLen=void 0;const a=$e(),t=Me(),o=s1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.STRLEN],termFunction:!0})}async run(e){return new o.TermFunctionStrLen}};return pv.ActorFunctionFactoryTermStrLen=n,pv}var tz;function c1e(){return tz||(tz=1,function(a){var t=$c&&$c.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=$c&&$c.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(u1e(),a)}($c)),$c}var Uc={},bv={},_v={},rz;function l1e(){if(rz)return _v;rz=1,Object.defineProperty(_v,"__esModule",{value:!0}),_v.TermFunctionStrStarts=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:t.SparqlOperator.STRSTARTS,overloads:(0,t.declare)(t.SparqlOperator.STRSTARTS).onBinaryTyped([t.TypeAlias.SPARQL_STRINGLY,t.TypeURL.XSD_STRING],()=>(r,e)=>(0,t.bool)(r.startsWith(e))).onBinary([t.TypeURL.RDF_LANG_STRING,t.TypeURL.RDF_LANG_STRING],()=>(r,e)=>{if(r.language!==e.language)throw new t.IncompatibleLanguageOperation(r,e);return(0,t.bool)(r.typedValue.startsWith(e.typedValue))}).collect()})}};return _v.TermFunctionStrStarts=o,_v}var nz;function d1e(){if(nz)return bv;nz=1,Object.defineProperty(bv,"__esModule",{value:!0}),bv.ActorFunctionFactoryTermStrStarts=void 0;const a=$e(),t=Me(),o=l1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.STRSTARTS],termFunction:!0})}async run(e){return new o.TermFunctionStrStarts}};return bv.ActorFunctionFactoryTermStrStarts=n,bv}var iz;function f1e(){return iz||(iz=1,function(a){var t=Uc&&Uc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Uc&&Uc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(d1e(),a)}(Uc)),Uc}var Vc={},mv={},gv={},eN={},$A={},az;function h1e(){return az||(az=1,Object.defineProperty($A,"__esModule",{value:!0}),$A.default="ffffffff-ffff-ffff-ffff-ffffffffffff"),$A}var UA={},oz;function p1e(){return oz||(oz=1,Object.defineProperty(UA,"__esModule",{value:!0}),UA.default="00000000-0000-0000-0000-000000000000"),UA}var VA={},QA={},HA={},sz;function y1e(){return sz||(sz=1,Object.defineProperty(HA,"__esModule",{value:!0}),HA.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i),HA}var uz;function GA(){if(uz)return QA;uz=1,Object.defineProperty(QA,"__esModule",{value:!0});const a=y1e();function t(o){return typeof o=="string"&&a.default.test(o)}return QA.default=t,QA}var cz;function zA(){if(cz)return VA;cz=1,Object.defineProperty(VA,"__esModule",{value:!0});const a=GA();function t(o){if(!(0,a.default)(o))throw TypeError("Invalid UUID");let n;return Uint8Array.of((n=parseInt(o.slice(0,8),16))>>>24,n>>>16&255,n>>>8&255,n&255,(n=parseInt(o.slice(9,13),16))>>>8,n&255,(n=parseInt(o.slice(14,18),16))>>>8,n&255,(n=parseInt(o.slice(19,23),16))>>>8,n&255,(n=parseInt(o.slice(24,36),16))/1099511627776&255,n/4294967296&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255)}return VA.default=t,VA}var $h={},lz;function Ta(){if(lz)return $h;lz=1,Object.defineProperty($h,"__esModule",{value:!0}),$h.unsafeStringify=void 0;const a=GA(),t=[];for(let r=0;r<256;++r)t.push((r+256).toString(16).slice(1));function o(r,e=0){return(t[r[e+0]]+t[r[e+1]]+t[r[e+2]]+t[r[e+3]]+"-"+t[r[e+4]]+t[r[e+5]]+"-"+t[r[e+6]]+t[r[e+7]]+"-"+t[r[e+8]]+t[r[e+9]]+"-"+t[r[e+10]]+t[r[e+11]]+t[r[e+12]]+t[r[e+13]]+t[r[e+14]]+t[r[e+15]]).toLowerCase()}$h.unsafeStringify=o;function n(r,e=0){const i=o(r,e);if(!(0,a.default)(i))throw TypeError("Stringified UUID is invalid");return i}return $h.default=n,$h}var Uh={},kA={},dz;function tN(){if(dz)return kA;dz=1,Object.defineProperty(kA,"__esModule",{value:!0});let a;const t=new Uint8Array(16);function o(){if(!a){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");a=crypto.getRandomValues.bind(crypto)}return a(t)}return kA.default=o,kA}var fz;function hz(){if(fz)return Uh;fz=1,Object.defineProperty(Uh,"__esModule",{value:!0}),Uh.updateV1State=void 0;const a=tN(),t=Ta(),o={};function n(i,s,c){var f;let u;const l=(i==null?void 0:i._v6)??!1;if(i){const d=Object.keys(i);d.length===1&&d[0]==="_v6"&&(i=void 0)}if(i)u=e(i.random??((f=i.rng)==null?void 0:f.call(i))??(0,a.default)(),i.msecs,i.nsecs,i.clockseq,i.node,s,c);else{const d=Date.now(),h=(0,a.default)();r(o,d,h),u=e(h,o.msecs,o.nsecs,l?void 0:o.clockseq,l?void 0:o.node,s,c)}return s??(0,t.unsafeStringify)(u)}function r(i,s,c){return i.msecs??(i.msecs=-1/0),i.nsecs??(i.nsecs=0),s===i.msecs?(i.nsecs++,i.nsecs>=1e4&&(i.node=void 0,i.nsecs=0)):s>i.msecs?i.nsecs=0:s<i.msecs&&(i.node=void 0),i.node||(i.node=c.slice(10,16),i.node[0]|=1,i.clockseq=(c[8]<<8|c[9])&16383),i.msecs=s,i}Uh.updateV1State=r;function e(i,s,c,u,l,f,d=0){if(i.length<16)throw new Error("Random bytes length must be >= 16");if(!f)f=new Uint8Array(16),d=0;else if(d<0||d+16>f.length)throw new RangeError(`UUID byte range ${d}:${d+15} is out of buffer bounds`);s??(s=Date.now()),c??(c=0),u??(u=(i[8]<<8|i[9])&16383),l??(l=i.slice(10,16)),s+=122192928e5;const h=((s&268435455)*1e4+c)%4294967296;f[d++]=h>>>24&255,f[d++]=h>>>16&255,f[d++]=h>>>8&255,f[d++]=h&255;const p=s/4294967296*1e4&268435455;f[d++]=p>>>8&255,f[d++]=p&255,f[d++]=p>>>24&15|16,f[d++]=p>>>16&255,f[d++]=u>>>8|128,f[d++]=u&255;for(let _=0;_<6;++_)f[d++]=l[_];return f}return Uh.default=n,Uh}var XA={},pz;function yz(){if(pz)return XA;pz=1,Object.defineProperty(XA,"__esModule",{value:!0});const a=zA(),t=Ta();function o(r){const e=typeof r=="string"?(0,a.default)(r):r,i=n(e);return typeof r=="string"?(0,t.unsafeStringify)(i):i}XA.default=o;function n(r){return Uint8Array.of((r[6]&15)<<4|r[7]>>4&15,(r[7]&15)<<4|(r[4]&240)>>4,(r[4]&15)<<4|(r[5]&240)>>4,(r[5]&15)<<4|(r[0]&240)>>4,(r[0]&15)<<4|(r[1]&240)>>4,(r[1]&15)<<4|(r[2]&240)>>4,96|r[2]&15,r[3],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15])}return XA}var rN={},WA={},bz;function b1e(){if(bz)return WA;bz=1,Object.defineProperty(WA,"__esModule",{value:!0});function a(d){const h=r(d),p=n(h,d.length*8);return t(p)}function t(d){const h=new Uint8Array(d.length*4);for(let p=0;p<d.length*4;p++)h[p]=d[p>>2]>>>p%4*8&255;return h}function o(d){return(d+64>>>9<<4)+14+1}function n(d,h){const p=new Uint32Array(o(h)).fill(0);p.set(d),p[h>>5]|=128<<h%32,p[p.length-1]=h,d=p;let _=1732584193,g=-271733879,y=-1732584194,m=271733878;for(let b=0;b<d.length;b+=16){const T=_,w=g,O=y,F=m;_=c(_,g,y,m,d[b],7,-680876936),m=c(m,_,g,y,d[b+1],12,-389564586),y=c(y,m,_,g,d[b+2],17,606105819),g=c(g,y,m,_,d[b+3],22,-1044525330),_=c(_,g,y,m,d[b+4],7,-176418897),m=c(m,_,g,y,d[b+5],12,1200080426),y=c(y,m,_,g,d[b+6],17,-1473231341),g=c(g,y,m,_,d[b+7],22,-45705983),_=c(_,g,y,m,d[b+8],7,1770035416),m=c(m,_,g,y,d[b+9],12,-1958414417),y=c(y,m,_,g,d[b+10],17,-42063),g=c(g,y,m,_,d[b+11],22,-1990404162),_=c(_,g,y,m,d[b+12],7,1804603682),m=c(m,_,g,y,d[b+13],12,-40341101),y=c(y,m,_,g,d[b+14],17,-1502002290),g=c(g,y,m,_,d[b+15],22,1236535329),_=u(_,g,y,m,d[b+1],5,-165796510),m=u(m,_,g,y,d[b+6],9,-1069501632),y=u(y,m,_,g,d[b+11],14,643717713),g=u(g,y,m,_,d[b],20,-373897302),_=u(_,g,y,m,d[b+5],5,-701558691),m=u(m,_,g,y,d[b+10],9,38016083),y=u(y,m,_,g,d[b+15],14,-660478335),g=u(g,y,m,_,d[b+4],20,-405537848),_=u(_,g,y,m,d[b+9],5,568446438),m=u(m,_,g,y,d[b+14],9,-1019803690),y=u(y,m,_,g,d[b+3],14,-187363961),g=u(g,y,m,_,d[b+8],20,1163531501),_=u(_,g,y,m,d[b+13],5,-1444681467),m=u(m,_,g,y,d[b+2],9,-51403784),y=u(y,m,_,g,d[b+7],14,1735328473),g=u(g,y,m,_,d[b+12],20,-1926607734),_=l(_,g,y,m,d[b+5],4,-378558),m=l(m,_,g,y,d[b+8],11,-2022574463),y=l(y,m,_,g,d[b+11],16,1839030562),g=l(g,y,m,_,d[b+14],23,-35309556),_=l(_,g,y,m,d[b+1],4,-1530992060),m=l(m,_,g,y,d[b+4],11,1272893353),y=l(y,m,_,g,d[b+7],16,-155497632),g=l(g,y,m,_,d[b+10],23,-1094730640),_=l(_,g,y,m,d[b+13],4,681279174),m=l(m,_,g,y,d[b],11,-358537222),y=l(y,m,_,g,d[b+3],16,-722521979),g=l(g,y,m,_,d[b+6],23,76029189),_=l(_,g,y,m,d[b+9],4,-640364487),m=l(m,_,g,y,d[b+12],11,-421815835),y=l(y,m,_,g,d[b+15],16,530742520),g=l(g,y,m,_,d[b+2],23,-995338651),_=f(_,g,y,m,d[b],6,-198630844),m=f(m,_,g,y,d[b+7],10,1126891415),y=f(y,m,_,g,d[b+14],15,-1416354905),g=f(g,y,m,_,d[b+5],21,-57434055),_=f(_,g,y,m,d[b+12],6,1700485571),m=f(m,_,g,y,d[b+3],10,-1894986606),y=f(y,m,_,g,d[b+10],15,-1051523),g=f(g,y,m,_,d[b+1],21,-2054922799),_=f(_,g,y,m,d[b+8],6,1873313359),m=f(m,_,g,y,d[b+15],10,-30611744),y=f(y,m,_,g,d[b+6],15,-1560198380),g=f(g,y,m,_,d[b+13],21,1309151649),_=f(_,g,y,m,d[b+4],6,-145523070),m=f(m,_,g,y,d[b+11],10,-1120210379),y=f(y,m,_,g,d[b+2],15,718787259),g=f(g,y,m,_,d[b+9],21,-343485551),_=e(_,T),g=e(g,w),y=e(y,O),m=e(m,F)}return Uint32Array.of(_,g,y,m)}function r(d){if(d.length===0)return new Uint32Array;const h=new Uint32Array(o(d.length*8)).fill(0);for(let p=0;p<d.length;p++)h[p>>2]|=(d[p]&255)<<p%4*8;return h}function e(d,h){const p=(d&65535)+(h&65535);return(d>>16)+(h>>16)+(p>>16)<<16|p&65535}function i(d,h){return d<<h|d>>>32-h}function s(d,h,p,_,g,y){return e(i(e(e(h,d),e(_,y)),g),p)}function c(d,h,p,_,g,y,m){return s(h&p|~h&_,d,h,g,y,m)}function u(d,h,p,_,g,y,m){return s(h&_|p&~_,d,h,g,y,m)}function l(d,h,p,_,g,y,m){return s(h^p^_,d,h,g,y,m)}function f(d,h,p,_,g,y,m){return s(p^(h|~_),d,h,g,y,m)}return WA.default=a,WA}var Si={},_z;function JA(){if(_z)return Si;_z=1,Object.defineProperty(Si,"__esModule",{value:!0}),Si.URL=Si.DNS=Si.stringToBytes=void 0;const a=zA(),t=Ta();function o(r){r=unescape(encodeURIComponent(r));const e=new Uint8Array(r.length);for(let i=0;i<r.length;++i)e[i]=r.charCodeAt(i);return e}Si.stringToBytes=o,Si.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Si.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function n(r,e,i,s,c,u){const l=typeof i=="string"?o(i):i,f=typeof s=="string"?(0,a.default)(s):s;if(typeof s=="string"&&(s=(0,a.default)(s)),(s==null?void 0:s.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+l.length);if(d.set(f),d.set(l,f.length),d=e(d),d[6]=d[6]&15|r,d[8]=d[8]&63|128,c){u=u||0;for(let h=0;h<16;++h)c[u+h]=d[h];return c}return(0,t.unsafeStringify)(d)}return Si.default=n,Si}var mz;function _1e(){return mz||(mz=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.URL=a.DNS=void 0;const t=b1e(),o=JA();var n=JA();Object.defineProperty(a,"DNS",{enumerable:!0,get:function(){return n.DNS}}),Object.defineProperty(a,"URL",{enumerable:!0,get:function(){return n.URL}});function r(e,i,s,c){return(0,o.default)(48,t.default,e,i,s,c)}r.DNS=o.DNS,r.URL=o.URL,a.default=r}(rN)),rN}var KA={},YA={},gz;function m1e(){if(gz)return YA;gz=1,Object.defineProperty(YA,"__esModule",{value:!0});const a=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);return YA.default={randomUUID:a},YA}var vz;function g1e(){if(vz)return KA;vz=1,Object.defineProperty(KA,"__esModule",{value:!0});const a=m1e(),t=tN(),o=Ta();function n(r,e,i){var c;if(a.default.randomUUID&&!e&&!r)return a.default.randomUUID();r=r||{};const s=r.random??((c=r.rng)==null?void 0:c.call(r))??(0,t.default)();if(s.length<16)throw new Error("Random bytes length must be >= 16");if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){if(i=i||0,i<0||i+16>e.length)throw new RangeError(`UUID byte range ${i}:${i+15} is out of buffer bounds`);for(let u=0;u<16;++u)e[i+u]=s[u];return e}return(0,o.unsafeStringify)(s)}return KA.default=n,KA}var nN={},ZA={},Tz;function v1e(){if(Tz)return ZA;Tz=1,Object.defineProperty(ZA,"__esModule",{value:!0});function a(n,r,e,i){switch(n){case 0:return r&e^~r&i;case 1:return r^e^i;case 2:return r&e^r&i^e&i;case 3:return r^e^i}}function t(n,r){return n<<r|n>>>32-r}function o(n){const r=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520],i=new Uint8Array(n.length+1);i.set(n),i[n.length]=128,n=i;const s=n.length/4+2,c=Math.ceil(s/16),u=new Array(c);for(let l=0;l<c;++l){const f=new Uint32Array(16);for(let d=0;d<16;++d)f[d]=n[l*64+d*4]<<24|n[l*64+d*4+1]<<16|n[l*64+d*4+2]<<8|n[l*64+d*4+3];u[l]=f}u[c-1][14]=(n.length-1)*8/Math.pow(2,32),u[c-1][14]=Math.floor(u[c-1][14]),u[c-1][15]=(n.length-1)*8&4294967295;for(let l=0;l<c;++l){const f=new Uint32Array(80);for(let y=0;y<16;++y)f[y]=u[l][y];for(let y=16;y<80;++y)f[y]=t(f[y-3]^f[y-8]^f[y-14]^f[y-16],1);let d=e[0],h=e[1],p=e[2],_=e[3],g=e[4];for(let y=0;y<80;++y){const m=Math.floor(y/20),b=t(d,5)+a(m,h,p,_)+g+r[m]+f[y]>>>0;g=_,_=p,p=t(h,30)>>>0,h=d,d=b}e[0]=e[0]+d>>>0,e[1]=e[1]+h>>>0,e[2]=e[2]+p>>>0,e[3]=e[3]+_>>>0,e[4]=e[4]+g>>>0}return Uint8Array.of(e[0]>>24,e[0]>>16,e[0]>>8,e[0],e[1]>>24,e[1]>>16,e[1]>>8,e[1],e[2]>>24,e[2]>>16,e[2]>>8,e[2],e[3]>>24,e[3]>>16,e[3]>>8,e[3],e[4]>>24,e[4]>>16,e[4]>>8,e[4])}return ZA.default=o,ZA}var wz;function T1e(){return wz||(wz=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.URL=a.DNS=void 0;const t=v1e(),o=JA();var n=JA();Object.defineProperty(a,"DNS",{enumerable:!0,get:function(){return n.DNS}}),Object.defineProperty(a,"URL",{enumerable:!0,get:function(){return n.URL}});function r(e,i,s,c){return(0,o.default)(80,t.default,e,i,s,c)}r.DNS=o.DNS,r.URL=o.URL,a.default=r}(nN)),nN}var eE={},Sz;function w1e(){if(Sz)return eE;Sz=1,Object.defineProperty(eE,"__esModule",{value:!0});const a=Ta(),t=hz(),o=yz();function n(r,e,i){r??(r={}),i??(i=0);let s=(0,t.default)({...r,_v6:!0},new Uint8Array(16));if(s=(0,o.default)(s),e){for(let c=0;c<16;c++)e[i+c]=s[c];return e}return(0,a.unsafeStringify)(s)}return eE.default=n,eE}var tE={},Oz;function S1e(){if(Oz)return tE;Oz=1,Object.defineProperty(tE,"__esModule",{value:!0});const a=zA(),t=Ta();function o(r){const e=typeof r=="string"?(0,a.default)(r):r,i=n(e);return typeof r=="string"?(0,t.unsafeStringify)(i):i}tE.default=o;function n(r){return Uint8Array.of((r[3]&15)<<4|r[4]>>4&15,(r[4]&15)<<4|(r[5]&240)>>4,(r[5]&15)<<4|r[6]&15,r[7],(r[1]&15)<<4|(r[2]&240)>>4,(r[2]&15)<<4|(r[3]&240)>>4,16|(r[0]&240)>>4,(r[0]&15)<<4|(r[1]&240)>>4,r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15])}return tE}var Vh={},Az;function O1e(){if(Az)return Vh;Az=1,Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.updateV7State=void 0;const a=tN(),t=Ta(),o={};function n(i,s,c){var l;let u;if(i)u=e(i.random??((l=i.rng)==null?void 0:l.call(i))??(0,a.default)(),i.msecs,i.seq,s,c);else{const f=Date.now(),d=(0,a.default)();r(o,f,d),u=e(d,o.msecs,o.seq,s,c)}return s??(0,t.unsafeStringify)(u)}function r(i,s,c){return i.msecs??(i.msecs=-1/0),i.seq??(i.seq=0),s>i.msecs?(i.seq=c[6]<<23|c[7]<<16|c[8]<<8|c[9],i.msecs=s):(i.seq=i.seq+1|0,i.seq===0&&i.msecs++),i}Vh.updateV7State=r;function e(i,s,c,u,l=0){if(i.length<16)throw new Error("Random bytes length must be >= 16");if(!u)u=new Uint8Array(16),l=0;else if(l<0||l+16>u.length)throw new RangeError(`UUID byte range ${l}:${l+15} is out of buffer bounds`);return s??(s=Date.now()),c??(c=i[6]*127<<24|i[7]<<16|i[8]<<8|i[9]),u[l++]=s/1099511627776&255,u[l++]=s/4294967296&255,u[l++]=s/16777216&255,u[l++]=s/65536&255,u[l++]=s/256&255,u[l++]=s&255,u[l++]=112|c>>>28&15,u[l++]=c>>>20&255,u[l++]=128|c>>>14&63,u[l++]=c>>>6&255,u[l++]=c<<2&255|i[10]&3,u[l++]=i[11],u[l++]=i[12],u[l++]=i[13],u[l++]=i[14],u[l++]=i[15],u}return Vh.default=n,Vh}var rE={},Ez;function A1e(){if(Ez)return rE;Ez=1,Object.defineProperty(rE,"__esModule",{value:!0});const a=GA();function t(o){if(!(0,a.default)(o))throw TypeError("Invalid UUID");return parseInt(o.slice(14,15),16)}return rE.default=t,rE}var xz;function Iz(){return xz||(xz=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.version=a.validate=a.v7=a.v6ToV1=a.v6=a.v5=a.v4=a.v3=a.v1ToV6=a.v1=a.stringify=a.parse=a.NIL=a.MAX=void 0;var t=h1e();Object.defineProperty(a,"MAX",{enumerable:!0,get:function(){return t.default}});var o=p1e();Object.defineProperty(a,"NIL",{enumerable:!0,get:function(){return o.default}});var n=zA();Object.defineProperty(a,"parse",{enumerable:!0,get:function(){return n.default}});var r=Ta();Object.defineProperty(a,"stringify",{enumerable:!0,get:function(){return r.default}});var e=hz();Object.defineProperty(a,"v1",{enumerable:!0,get:function(){return e.default}});var i=yz();Object.defineProperty(a,"v1ToV6",{enumerable:!0,get:function(){return i.default}});var s=_1e();Object.defineProperty(a,"v3",{enumerable:!0,get:function(){return s.default}});var c=g1e();Object.defineProperty(a,"v4",{enumerable:!0,get:function(){return c.default}});var u=T1e();Object.defineProperty(a,"v5",{enumerable:!0,get:function(){return u.default}});var l=w1e();Object.defineProperty(a,"v6",{enumerable:!0,get:function(){return l.default}});var f=S1e();Object.defineProperty(a,"v6ToV1",{enumerable:!0,get:function(){return f.default}});var d=O1e();Object.defineProperty(a,"v7",{enumerable:!0,get:function(){return d.default}});var h=GA();Object.defineProperty(a,"validate",{enumerable:!0,get:function(){return h.default}});var p=A1e();Object.defineProperty(a,"version",{enumerable:!0,get:function(){return p.default}})}(eN)),eN}var Rz;function E1e(){if(Rz)return gv;Rz=1,Object.defineProperty(gv,"__esModule",{value:!0}),gv.TermFunctionStrUuid=void 0;const a=$e(),t=Me(),o=Iz();let n=class extends a.TermFunctionBase{constructor(){super({arity:0,operator:t.SparqlOperator.STRUUID,overloads:(0,t.declare)(t.SparqlOperator.STRUUID).set([],()=>()=>(0,t.string)(o.v4())).collect()})}};return gv.TermFunctionStrUuid=n,gv}var Fz;function x1e(){if(Fz)return mv;Fz=1,Object.defineProperty(mv,"__esModule",{value:!0}),mv.ActorFunctionFactoryTermStrUuid=void 0;const a=$e(),t=Me(),o=E1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.STRUUID],termFunction:!0})}async run(e){return new o.TermFunctionStrUuid}};return mv.ActorFunctionFactoryTermStrUuid=n,mv}var Nz;function I1e(){return Nz||(Nz=1,function(a){var t=Vc&&Vc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Vc&&Vc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(x1e(),a)}(Vc)),Vc}var Qc={},vv={},Tv={},Dz;function R1e(){if(Dz)return Tv;Dz=1,Object.defineProperty(Tv,"__esModule",{value:!0}),Tv.TermFunctionStr=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.STR,overloads:(0,t.declare)(t.SparqlOperator.STR).onTerm1(()=>r=>(0,t.string)(r.str())).collect()})}};return Tv.TermFunctionStr=o,Tv}var Pz;function F1e(){if(Pz)return vv;Pz=1,Object.defineProperty(vv,"__esModule",{value:!0}),vv.ActorFunctionFactoryTermStr=void 0;const a=$e(),t=Me(),o=R1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.STR],termFunction:!0})}async run(e){return new o.TermFunctionStr}};return vv.ActorFunctionFactoryTermStr=n,vv}var Lz;function N1e(){return Lz||(Lz=1,function(a){var t=Qc&&Qc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Qc&&Qc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(F1e(),a)}(Qc)),Qc}var Hc={},wv={},Sv={},jz;function D1e(){if(jz)return Sv;jz=1,Object.defineProperty(Sv,"__esModule",{value:!0}),Sv.TermFunctionSubStr=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:[2,3],operator:t.SparqlOperator.SUBSTR,overloads:(0,t.declare)(t.SparqlOperator.SUBSTR).onBinaryTyped([t.TypeURL.XSD_STRING,t.TypeURL.XSD_INTEGER],()=>(r,e)=>(0,t.string)([...r].slice(e-1).join(""))).onBinary([t.TypeURL.RDF_LANG_STRING,t.TypeURL.XSD_INTEGER],()=>(r,e)=>{const i=[...r.typedValue].slice(e.typedValue-1).join("");return(0,t.langString)(i,r.language)}).onTernaryTyped([t.TypeURL.XSD_STRING,t.TypeURL.XSD_INTEGER,t.TypeURL.XSD_INTEGER],()=>(r,e,i)=>(0,t.string)([...r].slice(e-1,i+e-1).join(""))).onTernary([t.TypeURL.RDF_LANG_STRING,t.TypeURL.XSD_INTEGER,t.TypeURL.XSD_INTEGER],()=>(r,e,i)=>{const s=[...r.typedValue].slice(e.typedValue-1,i.typedValue+e.typedValue-1).join("");return(0,t.langString)(s,r.language)}).collect()})}};return Sv.TermFunctionSubStr=o,Sv}var Mz;function P1e(){if(Mz)return wv;Mz=1,Object.defineProperty(wv,"__esModule",{value:!0}),wv.ActorFunctionFactoryTermSubStr=void 0;const a=$e(),t=Me(),o=D1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.SUBSTR],termFunction:!0})}async run(e){return new o.TermFunctionSubStr}};return wv.ActorFunctionFactoryTermSubStr=n,wv}var qz;function L1e(){return qz||(qz=1,function(a){var t=Hc&&Hc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Hc&&Hc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(P1e(),a)}(Hc)),Hc}var Gc={},Ov={},Av={},Cz;function j1e(){if(Cz)return Av;Cz=1,Object.defineProperty(Av,"__esModule",{value:!0}),Av.TermFunctionSubject=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.SUBJECT,overloads:(0,t.declare)(t.SparqlOperator.SUBJECT).onQuad1(()=>r=>r.subject).collect()})}};return Av.TermFunctionSubject=o,Av}var Bz;function M1e(){if(Bz)return Ov;Bz=1,Object.defineProperty(Ov,"__esModule",{value:!0}),Ov.ActorFunctionFactoryTermSubject=void 0;const a=$e(),t=Me(),o=j1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.SUBJECT],termFunction:!0})}async run(e){return new o.TermFunctionSubject}};return Ov.ActorFunctionFactoryTermSubject=n,Ov}var $z;function q1e(){return $z||($z=1,function(a){var t=Gc&&Gc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Gc&&Gc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(M1e(),a)}(Gc)),Gc}var zc={},Ev={},xv={},Uz;function C1e(){if(Uz)return xv;Uz=1,Object.defineProperty(xv,"__esModule",{value:!0}),xv.TermFunctionSubtraction=void 0;const a=$e(),t=tt(),o=Me(),n=BA();let r=class extends a.TermFunctionBase{constructor(){super({arity:2,operator:o.SparqlOperator.SUBTRACTION,overloads:(0,o.declare)(o.SparqlOperator.SUBTRACTION).arithmetic(()=>(i,s)=>new n.BigNumber(i).minus(s).toNumber()).set([o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_DATE_TIME],i=>([s,c])=>new o.DayTimeDurationLiteral((0,o.elapsedDuration)(s.typedValue,c.typedValue,i.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)))).copy({from:[o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_DATE_TIME],to:[o.TypeURL.XSD_DATE,o.TypeURL.XSD_DATE]}).copy({from:[o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_DATE_TIME],to:[o.TypeURL.XSD_TIME,o.TypeURL.XSD_TIME]}).set([o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_DAY_TIME_DURATION],()=>([i,s])=>new o.DateTimeLiteral((0,o.addDurationToDateTime)(i.typedValue,(0,o.defaultedDurationRepresentation)((0,o.negateDuration)(s.typedValue))))).copy({from:[o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_DAY_TIME_DURATION],to:[o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([o.TypeURL.XSD_DATE,o.TypeURL.XSD_DAY_TIME_DURATION],()=>([i,s])=>new o.DateLiteral((0,o.addDurationToDateTime)((0,o.defaultedDateTimeRepresentation)(i.typedValue),(0,o.defaultedDurationRepresentation)((0,o.negateDuration)(s.typedValue))))).copy({from:[o.TypeURL.XSD_DATE,o.TypeURL.XSD_DAY_TIME_DURATION],to:[o.TypeURL.XSD_DATE,o.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([o.TypeURL.XSD_TIME,o.TypeURL.XSD_DAY_TIME_DURATION],()=>([i,s])=>new o.TimeLiteral((0,o.addDurationToDateTime)((0,o.defaultedDateTimeRepresentation)(i.typedValue),(0,o.defaultedDurationRepresentation)((0,o.negateDuration)(s.typedValue))))).collect()})}};return xv.TermFunctionSubtraction=r,xv}var Vz;function B1e(){if(Vz)return Ev;Vz=1,Object.defineProperty(Ev,"__esModule",{value:!0}),Ev.ActorFunctionFactoryTermSubtraction=void 0;const a=$e(),t=Me(),o=C1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.SUBTRACTION],termFunction:!0})}async run(e){return new o.TermFunctionSubtraction}};return Ev.ActorFunctionFactoryTermSubtraction=n,Ev}var Qz;function $1e(){return Qz||(Qz=1,function(a){var t=zc&&zc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=zc&&zc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(B1e(),a)}(zc)),zc}var kc={},Iv={},Rv={},Hz;function U1e(){if(Hz)return Rv;Hz=1,Object.defineProperty(Rv,"__esModule",{value:!0}),Rv.TermFunctionTimezone=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.TIMEZONE,overloads:(0,t.declare)(t.SparqlOperator.TIMEZONE).onDateTime1(()=>r=>{const e={hours:r.typedValue.zoneHours,minutes:r.typedValue.zoneMinutes};if(e.hours===void 0&&e.minutes===void 0)throw new t.InvalidTimezoneCall(r.str());return new t.DayTimeDurationLiteral(e)}).copy({from:[t.TypeURL.XSD_DATE_TIME],to:[t.TypeURL.XSD_DATE]}).copy({from:[t.TypeURL.XSD_DATE_TIME],to:[t.TypeURL.XSD_TIME]}).collect()})}};return Rv.TermFunctionTimezone=o,Rv}var Gz;function V1e(){if(Gz)return Iv;Gz=1,Object.defineProperty(Iv,"__esModule",{value:!0}),Iv.ActorFunctionFactoryTermTimezone=void 0;const a=$e(),t=Me(),o=U1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.TIMEZONE],termFunction:!0})}async run(e){return new o.TermFunctionTimezone}};return Iv.ActorFunctionFactoryTermTimezone=n,Iv}var zz;function Q1e(){return zz||(zz=1,function(a){var t=kc&&kc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=kc&&kc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(V1e(),a)}(kc)),kc}var Xc={},Fv={},Nv={},kz;function H1e(){if(kz)return Nv;kz=1,Object.defineProperty(Nv,"__esModule",{value:!0}),Nv.TermFunctionTriple=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:3,operator:t.SparqlOperator.TRIPLE,overloads:(0,t.declare)(t.SparqlOperator.TRIPLE).onTerm3(r=>(...e)=>new t.Quad(e[0],e[1],e[2],new t.DefaultGraph)).collect()})}};return Nv.TermFunctionTriple=o,Nv}var Xz;function G1e(){if(Xz)return Fv;Xz=1,Object.defineProperty(Fv,"__esModule",{value:!0}),Fv.ActorFunctionFactoryTermTriple=void 0;const a=$e(),t=Me(),o=H1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.TRIPLE],termFunction:!0})}async run(e){return new o.TermFunctionTriple}};return Fv.ActorFunctionFactoryTermTriple=n,Fv}var Wz;function z1e(){return Wz||(Wz=1,function(a){var t=Xc&&Xc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Xc&&Xc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(G1e(),a)}(Xc)),Xc}var Wc={},Dv={},Pv={},Jz;function k1e(){if(Jz)return Pv;Jz=1,Object.defineProperty(Pv,"__esModule",{value:!0}),Pv.TermFunctionTz=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.TZ,overloads:(0,t.declare)(t.SparqlOperator.TZ).onDateTime1(()=>r=>(0,t.string)((0,t.extractRawTimeZone)(r.str()))).copy({from:[t.TypeURL.XSD_DATE_TIME],to:[t.TypeURL.XSD_DATE]}).copy({from:[t.TypeURL.XSD_DATE_TIME],to:[t.TypeURL.XSD_TIME]}).collect()})}};return Pv.TermFunctionTz=o,Pv}var Kz;function X1e(){if(Kz)return Dv;Kz=1,Object.defineProperty(Dv,"__esModule",{value:!0}),Dv.ActorFunctionFactoryTermTz=void 0;const a=$e(),t=Me(),o=k1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.TZ],termFunction:!0})}async run(e){return new o.TermFunctionTz}};return Dv.ActorFunctionFactoryTermTz=n,Dv}var Yz;function W1e(){return Yz||(Yz=1,function(a){var t=Wc&&Wc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Wc&&Wc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(X1e(),a)}(Wc)),Wc}var Jc={},Lv={},jv={},Zz;function J1e(){if(Zz)return jv;Zz=1,Object.defineProperty(jv,"__esModule",{value:!0}),jv.TermFunctionUcase=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.UCASE,overloads:(0,t.declare)(t.SparqlOperator.UCASE).onString1Typed(()=>r=>(0,t.string)(r.toUpperCase())).onLangString1(()=>r=>(0,t.langString)(r.typedValue.toUpperCase(),r.language)).collect()})}};return jv.TermFunctionUcase=o,jv}var ek;function K1e(){if(ek)return Lv;ek=1,Object.defineProperty(Lv,"__esModule",{value:!0}),Lv.ActorFunctionFactoryTermUcase=void 0;const a=$e(),t=Me(),o=J1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.UCASE],termFunction:!0})}async run(e){return new o.TermFunctionUcase}};return Lv.ActorFunctionFactoryTermUcase=n,Lv}var tk;function Y1e(){return tk||(tk=1,function(a){var t=Jc&&Jc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Jc&&Jc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(K1e(),a)}(Jc)),Jc}var Kc={},Mv={},qv={},rk;function Z1e(){if(rk)return qv;rk=1,Object.defineProperty(qv,"__esModule",{value:!0}),qv.TermFunctionUnaryMinus=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.UMINUS,overloads:(0,t.declare)(t.SparqlOperator.UMINUS).numericConverter(()=>r=>-r).collect()})}};return qv.TermFunctionUnaryMinus=o,qv}var nk;function ebe(){if(nk)return Mv;nk=1,Object.defineProperty(Mv,"__esModule",{value:!0}),Mv.ActorFunctionFactoryTermUnaryMinus=void 0;const a=$e(),t=Me(),o=Z1e();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.UMINUS],termFunction:!0})}async run(e){return new o.TermFunctionUnaryMinus}};return Mv.ActorFunctionFactoryTermUnaryMinus=n,Mv}var ik;function tbe(){return ik||(ik=1,function(a){var t=Kc&&Kc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Kc&&Kc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(ebe(),a)}(Kc)),Kc}var Yc={},Cv={},Bv={},ak;function rbe(){if(ak)return Bv;ak=1,Object.defineProperty(Bv,"__esModule",{value:!0}),Bv.TermFunctionUnaryPlus=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.UPLUS,overloads:(0,t.declare)(t.SparqlOperator.UPLUS).numericConverter(()=>r=>r).collect()})}};return Bv.TermFunctionUnaryPlus=o,Bv}var ok;function nbe(){if(ok)return Cv;ok=1,Object.defineProperty(Cv,"__esModule",{value:!0}),Cv.ActorFunctionFactoryTermUnaryPlus=void 0;const a=$e(),t=Me(),o=rbe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.UPLUS],termFunction:!0})}async run(e){return new o.TermFunctionUnaryPlus}};return Cv.ActorFunctionFactoryTermUnaryPlus=n,Cv}var sk;function ibe(){return sk||(sk=1,function(a){var t=Yc&&Yc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Yc&&Yc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(nbe(),a)}(Yc)),Yc}var Zc={},$v={},Uv={},uk;function abe(){if(uk)return Uv;uk=1,Object.defineProperty(Uv,"__esModule",{value:!0}),Uv.TermFunctionUuid=void 0;const a=$e(),t=Me(),o=Iz();let n=class extends a.TermFunctionBase{constructor(){super({arity:0,operator:t.SparqlOperator.UUID,overloads:(0,t.declare)(t.SparqlOperator.UUID).set([],()=>()=>new t.NamedNode(`urn:uuid:${o.v4()}`)).collect()})}};return Uv.TermFunctionUuid=n,Uv}var ck;function obe(){if(ck)return $v;ck=1,Object.defineProperty($v,"__esModule",{value:!0}),$v.ActorFunctionFactoryTermUuid=void 0;const a=$e(),t=Me(),o=abe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.UUID],termFunction:!0})}async run(e){return new o.TermFunctionUuid}};return $v.ActorFunctionFactoryTermUuid=n,$v}var lk;function sbe(){return lk||(lk=1,function(a){var t=Zc&&Zc.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Zc&&Zc.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(obe(),a)}(Zc)),Zc}var el={},Vv={},Qv={},dk;function ube(){if(dk)return Qv;dk=1,Object.defineProperty(Qv,"__esModule",{value:!0}),Qv.TermFunctionXsdToBoolean=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_BOOLEAN,overloads:(0,t.declare)(t.TypeURL.XSD_BOOLEAN).onNumeric1(()=>r=>(0,t.bool)(r.coerceEBV()),!0).onUnary(t.TypeURL.XSD_BOOLEAN,()=>r=>(0,t.bool)(r.coerceEBV()),!0).onUnary(t.TypeURL.XSD_STRING,()=>r=>{switch(r.str()){case"true":return(0,t.bool)(!0);case"false":return(0,t.bool)(!1);case"1":return(0,t.bool)(!0);case"0":return(0,t.bool)(!1);default:throw new t.CastError(r,t.TypeURL.XSD_BOOLEAN)}},!1).collect()})}};return Qv.TermFunctionXsdToBoolean=o,Qv}var fk;function cbe(){if(fk)return Vv;fk=1,Object.defineProperty(Vv,"__esModule",{value:!0}),Vv.ActorFunctionFactoryTermXsdToBoolean=void 0;const a=$e(),t=Me(),o=ube();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_BOOLEAN],termFunction:!0})}async run(e){return new o.TermFunctionXsdToBoolean}};return Vv.ActorFunctionFactoryTermXsdToBoolean=n,Vv}var hk;function lbe(){return hk||(hk=1,function(a){var t=el&&el.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=el&&el.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(cbe(),a)}(el)),el}var tl={},Hv={},Gv={},pk;function dbe(){if(pk)return Gv;pk=1,Object.defineProperty(Gv,"__esModule",{value:!0}),Gv.TermFunctionXsdToDate=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_DATE,overloads:(0,t.declare)(t.TypeURL.XSD_DATE).onUnary(t.TypeURL.XSD_DATE,()=>r=>new t.DateLiteral(r.typedValue,r.strValue)).onUnary(t.TypeURL.XSD_DATE_TIME,()=>r=>new t.DateLiteral(r.typedValue)).onStringly1(()=>r=>new t.DateLiteral((0,t.parseDate)(r.str()))).collect()})}};return Gv.TermFunctionXsdToDate=o,Gv}var yk;function fbe(){if(yk)return Hv;yk=1,Object.defineProperty(Hv,"__esModule",{value:!0}),Hv.ActorFunctionFactoryTermXsdToDate=void 0;const a=$e(),t=Me(),o=dbe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_DATE],termFunction:!0})}async run(e){return new o.TermFunctionXsdToDate}};return Hv.ActorFunctionFactoryTermXsdToDate=n,Hv}var bk;function hbe(){return bk||(bk=1,function(a){var t=tl&&tl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=tl&&tl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(fbe(),a)}(tl)),tl}var rl={},zv={},kv={},_k;function pbe(){if(_k)return kv;_k=1,Object.defineProperty(kv,"__esModule",{value:!0}),kv.TermFunctionXsdToDatetime=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_DATE_TIME,overloads:(0,t.declare)(t.TypeURL.XSD_DATE_TIME).onUnary(t.TypeURL.XSD_DATE_TIME,()=>r=>r).onUnary(t.TypeURL.XSD_STRING,()=>r=>(0,t.dateTime)((0,t.parseDateTime)(r.str()),r.str()),!1).onUnary(t.TypeURL.XSD_DATE,()=>r=>new t.DateTimeLiteral({...r.typedValue,hours:0,minutes:0,seconds:0})).collect()})}};return kv.TermFunctionXsdToDatetime=o,kv}var mk;function ybe(){if(mk)return zv;mk=1,Object.defineProperty(zv,"__esModule",{value:!0}),zv.ActorFunctionFactoryTermXsdToDatetime=void 0;const a=$e(),t=Me(),o=pbe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_DATE_TIME],termFunction:!0})}async run(e){return new o.TermFunctionXsdToDatetime}};return zv.ActorFunctionFactoryTermXsdToDatetime=n,zv}var gk;function bbe(){return gk||(gk=1,function(a){var t=rl&&rl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=rl&&rl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(ybe(),a)}(rl)),rl}var nl={},Xv={},Wv={},vk;function _be(){if(vk)return Wv;vk=1,Object.defineProperty(Wv,"__esModule",{value:!0}),Wv.TermFunctionXsdToDayTimeDuration=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_DAY_TIME_DURATION,overloads:(0,t.declare)(t.TypeURL.XSD_DAY_TIME_DURATION).onUnary(t.TypeURL.XSD_DURATION,()=>r=>new t.DayTimeDurationLiteral((0,t.trimToDayTimeDuration)(r.typedValue))).onStringly1(()=>r=>new t.DayTimeDurationLiteral((0,t.parseDayTimeDuration)(r.str()))).collect()})}};return Wv.TermFunctionXsdToDayTimeDuration=o,Wv}var Tk;function mbe(){if(Tk)return Xv;Tk=1,Object.defineProperty(Xv,"__esModule",{value:!0}),Xv.ActorFunctionFactoryTermXsdToDayTimeDuration=void 0;const a=$e(),t=Me(),o=_be();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_DAY_TIME_DURATION],termFunction:!0})}async run(e){return new o.TermFunctionXsdToDayTimeDuration}};return Xv.ActorFunctionFactoryTermXsdToDayTimeDuration=n,Xv}var wk;function gbe(){return wk||(wk=1,function(a){var t=nl&&nl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=nl&&nl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(mbe(),a)}(nl)),nl}var il={},Jv={},Kv={},Sk;function vbe(){if(Sk)return Kv;Sk=1,Object.defineProperty(Kv,"__esModule",{value:!0}),Kv.TermFunctionXsdToDouble=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_DOUBLE,overloads:(0,t.declare)(t.TypeURL.XSD_DOUBLE).onNumeric1(()=>r=>(0,t.double)(r.typedValue)).onBoolean1Typed(()=>r=>(0,t.double)(r?1:0)).onUnary(t.TypeURL.XSD_STRING,()=>r=>{const e=(0,t.parseXSDFloat)(r.str());if(e===void 0)throw new t.CastError(r,t.TypeURL.XSD_DOUBLE);return(0,t.double)(e)},!1).collect()})}};return Kv.TermFunctionXsdToDouble=o,Kv}var Ok;function Tbe(){if(Ok)return Jv;Ok=1,Object.defineProperty(Jv,"__esModule",{value:!0}),Jv.ActorFunctionFactoryTermXsdToDouble=void 0;const a=$e(),t=Me(),o=vbe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_DOUBLE],termFunction:!0})}async run(e){return new o.TermFunctionXsdToDouble}};return Jv.ActorFunctionFactoryTermXsdToDouble=n,Jv}var Ak;function wbe(){return Ak||(Ak=1,function(a){var t=il&&il.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=il&&il.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Tbe(),a)}(il)),il}var al={},Yv={},Zv={},Ek;function Sbe(){if(Ek)return Zv;Ek=1,Object.defineProperty(Zv,"__esModule",{value:!0}),Zv.TermFunctionXsdToDecimal=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_DECIMAL,overloads:(0,t.declare)(t.TypeURL.XSD_DECIMAL).onNumeric1(()=>r=>{const e=(0,t.parseXSDDecimal)(r.str());if(e===void 0)throw new t.CastError(r,t.TypeURL.XSD_DECIMAL);return(0,t.decimal)(e)}).onString1(()=>r=>{const e=r.str(),i=/^([+-])?(\d+(\.\d+)?)$/u.test(e)?(0,t.parseXSDDecimal)(e):void 0;if(i===void 0)throw new t.CastError(r,t.TypeURL.XSD_DECIMAL);return(0,t.decimal)(i)},!1).onBoolean1Typed(()=>r=>(0,t.decimal)(r?1:0)).collect()})}};return Zv.TermFunctionXsdToDecimal=o,Zv}var xk;function Obe(){if(xk)return Yv;xk=1,Object.defineProperty(Yv,"__esModule",{value:!0}),Yv.ActorFunctionFactoryTermXsdToDecimal=void 0;const a=$e(),t=Me(),o=Sbe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_DECIMAL],termFunction:!0})}async run(e){return new o.TermFunctionXsdToDecimal}};return Yv.ActorFunctionFactoryTermXsdToDecimal=n,Yv}var Ik;function Abe(){return Ik||(Ik=1,function(a){var t=al&&al.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=al&&al.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Obe(),a)}(al)),al}var ol={},e2={},t2={},Rk;function Ebe(){if(Rk)return t2;Rk=1,Object.defineProperty(t2,"__esModule",{value:!0}),t2.TermFunctionXsdToDuration=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_DAY_TIME_DURATION,overloads:(0,t.declare)(t.TypeURL.XSD_DURATION).onUnary(t.TypeURL.XSD_DURATION,()=>r=>new t.DurationLiteral(r.typedValue,r.strValue)).onStringly1(()=>r=>new t.DurationLiteral((0,t.parseDuration)(r.str()))).collect()})}};return t2.TermFunctionXsdToDuration=o,t2}var Fk;function xbe(){if(Fk)return e2;Fk=1,Object.defineProperty(e2,"__esModule",{value:!0}),e2.ActorFunctionFactoryTermXsdToDuration=void 0;const a=$e(),t=Me(),o=Ebe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_DURATION],termFunction:!0})}async run(e){return new o.TermFunctionXsdToDuration}};return e2.ActorFunctionFactoryTermXsdToDuration=n,e2}var Nk;function Ibe(){return Nk||(Nk=1,function(a){var t=ol&&ol.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ol&&ol.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(xbe(),a)}(ol)),ol}var sl={},r2={},n2={},Dk;function Rbe(){if(Dk)return n2;Dk=1,Object.defineProperty(n2,"__esModule",{value:!0}),n2.TermFunctionXsdToFloat=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_FLOAT,overloads:(0,t.declare)(t.TypeURL.XSD_FLOAT).onNumeric1(()=>r=>(0,t.float)(r.typedValue)).onBoolean1Typed(()=>r=>(0,t.float)(r?1:0)).onUnary(t.TypeURL.XSD_STRING,()=>r=>{const e=(0,t.parseXSDFloat)(r.str());if(e===void 0)throw new t.CastError(r,t.TypeURL.XSD_FLOAT);return(0,t.float)(e)},!1).collect()})}};return n2.TermFunctionXsdToFloat=o,n2}var Pk;function Fbe(){if(Pk)return r2;Pk=1,Object.defineProperty(r2,"__esModule",{value:!0}),r2.ActorFunctionFactoryTermXsdToFloat=void 0;const a=$e(),t=Me(),o=Rbe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_FLOAT],termFunction:!0})}async run(e){return new o.TermFunctionXsdToFloat}};return r2.ActorFunctionFactoryTermXsdToFloat=n,r2}var Lk;function Nbe(){return Lk||(Lk=1,function(a){var t=sl&&sl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=sl&&sl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Fbe(),a)}(sl)),sl}var ul={},i2={},a2={},jk;function Dbe(){if(jk)return a2;jk=1,Object.defineProperty(a2,"__esModule",{value:!0}),a2.TermFunctionXsdToInteger=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_INTEGER,overloads:(0,t.declare)(t.TypeURL.XSD_INTEGER).onBoolean1Typed(()=>r=>(0,t.integer)(r?1:0)).onNumeric1(()=>r=>{if(!Number.isFinite(r.typedValue))throw new t.CastError(r,t.TypeURL.XSD_INTEGER);return(0,t.integer)(Math.trunc(r.typedValue))}).onString1(()=>r=>{const e=r.str(),i=/^\d+$/u.test(e)?Number.parseInt(e,10):void 0;if(i===void 0)throw new t.CastError(r,t.TypeURL.XSD_INTEGER);return(0,t.integer)(i)}).collect()})}};return a2.TermFunctionXsdToInteger=o,a2}var Mk;function Pbe(){if(Mk)return i2;Mk=1,Object.defineProperty(i2,"__esModule",{value:!0}),i2.ActorFunctionFactoryTermXsdToInteger=void 0;const a=$e(),t=Me(),o=Dbe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_INTEGER],termFunction:!0})}async run(e){return new o.TermFunctionXsdToInteger}};return i2.ActorFunctionFactoryTermXsdToInteger=n,i2}var qk;function Lbe(){return qk||(qk=1,function(a){var t=ul&&ul.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ul&&ul.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Pbe(),a)}(ul)),ul}var cl={},o2={},s2={},Ck;function jbe(){if(Ck)return s2;Ck=1,Object.defineProperty(s2,"__esModule",{value:!0}),s2.TermFunctionXsdToTime=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_TIME,overloads:(0,t.declare)(t.TypeURL.XSD_TIME).onUnary(t.TypeURL.XSD_TIME,()=>r=>new t.TimeLiteral(r.typedValue,r.strValue)).onUnary(t.TypeURL.XSD_DATE_TIME,()=>r=>new t.TimeLiteral(r.typedValue)).onStringly1(()=>r=>new t.TimeLiteral((0,t.parseTime)(r.str()))).collect()})}};return s2.TermFunctionXsdToTime=o,s2}var Bk;function Mbe(){if(Bk)return o2;Bk=1,Object.defineProperty(o2,"__esModule",{value:!0}),o2.ActorFunctionFactoryTermXsdToTime=void 0;const a=$e(),t=Me(),o=jbe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_TIME],termFunction:!0})}async run(e){return new o.TermFunctionXsdToTime}};return o2.ActorFunctionFactoryTermXsdToTime=n,o2}var $k;function qbe(){return $k||($k=1,function(a){var t=cl&&cl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=cl&&cl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Mbe(),a)}(cl)),cl}var ll={},u2={},c2={},Uk;function Cbe(){if(Uk)return c2;Uk=1,Object.defineProperty(c2,"__esModule",{value:!0}),c2.TermFunctionXsdToString=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_STRING,overloads:(0,t.declare)(t.TypeURL.XSD_STRING).onNumeric1(()=>r=>(0,t.string)((0,t.float)(r.typedValue).str())).onBoolean1Typed(()=>r=>(0,t.string)((0,t.bool)(r).str())).onTerm1(()=>r=>(0,t.string)(r.str())).collect()})}};return c2.TermFunctionXsdToString=o,c2}var Vk;function Bbe(){if(Vk)return u2;Vk=1,Object.defineProperty(u2,"__esModule",{value:!0}),u2.ActorFunctionFactoryTermXsdToString=void 0;const a=$e(),t=Me(),o=Cbe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_STRING],termFunction:!0})}async run(e){return new o.TermFunctionXsdToString}};return u2.ActorFunctionFactoryTermXsdToString=n,u2}var Qk;function $be(){return Qk||(Qk=1,function(a){var t=ll&&ll.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ll&&ll.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Bbe(),a)}(ll)),ll}var dl={},l2={},d2={},Hk;function Ube(){if(Hk)return d2;Hk=1,Object.defineProperty(d2,"__esModule",{value:!0}),d2.TermFunctionXsdToYearMonthDuration=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.TypeURL.XSD_YEAR_MONTH_DURATION,overloads:(0,t.declare)(t.TypeURL.XSD_YEAR_MONTH_DURATION).onUnary(t.TypeURL.XSD_DURATION,()=>r=>new t.YearMonthDurationLiteral((0,t.trimToYearMonthDuration)(r.typedValue))).onStringly1(()=>r=>new t.YearMonthDurationLiteral((0,t.parseYearMonthDuration)(r.str()))).collect()})}};return d2.TermFunctionXsdToYearMonthDuration=o,d2}var Gk;function Vbe(){if(Gk)return l2;Gk=1,Object.defineProperty(l2,"__esModule",{value:!0}),l2.ActorFunctionFactoryTermXsdToYearMonthDuration=void 0;const a=$e(),t=Me(),o=Ube();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.TypeURL.XSD_YEAR_MONTH_DURATION],termFunction:!0})}async run(e){return new o.TermFunctionXsdToYearMonthDuration}};return l2.ActorFunctionFactoryTermXsdToYearMonthDuration=n,l2}var zk;function Qbe(){return zk||(zk=1,function(a){var t=dl&&dl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=dl&&dl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Vbe(),a)}(dl)),dl}var fl={},f2={},h2={},kk;function Hbe(){if(kk)return h2;kk=1,Object.defineProperty(h2,"__esModule",{value:!0}),h2.TermFunctionYear=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(){super({arity:1,operator:t.SparqlOperator.YEAR,overloads:(0,t.declare)(t.SparqlOperator.YEAR).onDateTime1(()=>r=>(0,t.integer)(r.typedValue.year)).set([t.TypeURL.XSD_DATE],()=>([r])=>(0,t.integer)(r.typedValue.year)).collect()})}};return h2.TermFunctionYear=o,h2}var Xk;function Gbe(){if(Xk)return f2;Xk=1,Object.defineProperty(f2,"__esModule",{value:!0}),f2.ActorFunctionFactoryTermYear=void 0;const a=$e(),t=Me(),o=Hbe();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.YEAR],termFunction:!0})}async run(e){return new o.TermFunctionYear}};return f2.ActorFunctionFactoryTermYear=n,f2}var Wk;function zbe(){return Wk||(Wk=1,function(a){var t=fl&&fl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=fl&&fl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Gbe(),a)}(fl)),fl}var hl={},p2={},pl={},y2={},iN={},yl={},Jk;function kbe(){if(Jk)return yl;Jk=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.readableFromWeb=yl.ReadableFromWeb=void 0;const a=qt();let t=class extends a.Readable{constructor(r,e){super(e),this.reader=r.getReader(),this.readerClosed=!1,this.reader.closed.then(()=>{this.readerClosed=!0}).catch(i=>{this.readerClosed=!0,this.destroy(i)})}_read(){this.reader.read().then(r=>this.push(r.done?null:r.value)).catch(r=>this.destroy(r))}destroy(r){return this.readerClosed||this.reader.cancel(r).then().catch(()=>{}),super.destroy(r)}};yl.ReadableFromWeb=t;function o(n,r){return new t(n,r)}return yl.readableFromWeb=o,yl}var Kk;function Yk(){return Kk||(Kk=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.readableFromWeb=void 0;var t=kbe();Object.defineProperty(a,"readableFromWeb",{enumerable:!0,get:function(){return t.readableFromWeb}})}(iN)),iN}var aN,Zk;function Xbe(){if(Zk)return aN;Zk=1;const a=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";return a.writable=t=>a(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",a.readable=t=>a(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",a.duplex=t=>a.writable(t)&&a.readable(t),a.transform=t=>a.duplex(t)&&typeof t._transform=="function",aN=a,aN}var oN={exports:{}},eX;function Wbe(){return eX||(eX=1,function(a){a.exports=t,a.exports.WEBSTREAM_SUPPORT=typeof ReadableStream<"u";function t(o){if(!a.exports.WEBSTREAM_SUPPORT)throw new Error("No web ReadableStream support");var n=!1,r={};function e(c){r.data=l,r.end=l,r.end=f,r.close=f,r.error=f;for(var u in r)o.on(u,r[u]);o.pause();function l(d){n||(c.enqueue(d),o.pause())}function f(d){if(!n){n=!0;for(var h in r)o.removeListener(h,r[h]);d?c.error(d):c.close()}}}function i(){n||o.resume()}function s(){n=!0;for(var c in r)o.removeListener(c,r[c]);o.push(null),o.pause(),o.destroy?o.destroy():o.close&&o.close()}return new ReadableStream({start:e,pull:i,cancel:s})}}(oN)),oN.exports}var tX;function rX(){if(tX)return y2;tX=1,Object.defineProperty(y2,"__esModule",{value:!0}),y2.ActorHttp=void 0;const a=De(),t=Yk(),o=Xbe(),n=Wbe();let r=class _ae extends a.Actor{constructor(i){super(i)}static toNodeReadable(i){return o(i)||i===null?i:(0,t.readableFromWeb)(i)}static toWebReadableStream(i){return n(i)}static headersToHash(i){const s={};return i.forEach((c,u)=>{s[u]=c}),s}static getInputUrl(i){return new URL(i instanceof Request?i.url:i)}static createUserAgent(i,s){if(!_ae.isBrowser()){const c=[`Comunica/${s.split(".")[0]}.0`,`${i}/${s}`];return typeof globalThis.navigator=="object"&&typeof globalThis.navigator.userAgent=="string"?c.push(globalThis.navigator.userAgent):typeof globalThis.process=="object"&&typeof globalThis.process.versions=="object"&&typeof globalThis.process.versions.node=="string"&&c.push(`Node.js/${globalThis.process.versions.node.split(".")[0]}`),typeof globalThis.process=="object"&&typeof globalThis.process.platform=="string"&&typeof globalThis.process.arch=="string"&&c.splice(1,0,`(${globalThis.process.platform}; ${globalThis.process.arch})`),c.join(" ")}}static isBrowser(){return typeof globalThis.window=="object"&&typeof globalThis.window.document=="object"||typeof globalThis.importScripts=="function"}};return y2.ActorHttp=r,y2}var b2={},nX;function Jbe(){if(nX)return b2;nX=1,Object.defineProperty(b2,"__esModule",{value:!0}),b2.validateAndCloseHttpResponse=void 0;const a=Ch(),t=rX();async function o(n,r){var e;if(r.status>=400){let i="empty response";if(r.body){const s=t.ActorHttp.toNodeReadable(r.body);i=await(0,a.stringify)(s)}throw new Error(`Could not update ${n} (HTTP status ${r.status}):
${i}`)}await((e=r.body)==null?void 0:e.cancel())}return b2.validateAndCloseHttpResponse=o,b2}var iX;function wa(){return iX||(iX=1,function(a){var t=pl&&pl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=pl&&pl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(rX(),a),o(Jbe(),a)}(pl)),pl}var Kbe={version:"4.1.0"},_2={},aX;function Ybe(){if(aX)return _2;aX=1,Object.defineProperty(_2,"__esModule",{value:!0}),_2.FetchInitPreprocessor=void 0;class a{async handle(o){if(o.body&&typeof o.body!="string"&&"getReader"in o.body){const n=o.body.getReader(),r=[];for(;;){const{done:e,value:i}=await n.read();if(e)break;r.push(i)}o.body=r.join("")}return{...o,keepalive:!o.body}}}return _2.FetchInitPreprocessor=a,_2}var oX;function Zbe(){if(oX)return p2;oX=1,Object.defineProperty(p2,"__esModule",{value:!0}),p2.ActorHttpFetch=void 0;const a=wa(),t=tt(),o=De(),n=Kbe,r=Ybe();let e=class XD extends a.ActorHttp{constructor(s){super(s),this.fetchInitPreprocessor=new r.FetchInitPreprocessor(s.agentOptions)}async test(s){return(0,o.passTest)({time:Number.POSITIVE_INFINITY})}async run(s){const c=this.prepareRequestHeaders(s),u={method:"GET",...s.init,headers:c};this.logInfo(s.context,`Requesting ${a.ActorHttp.getInputUrl(s.input).href}`,()=>({headers:a.ActorHttp.headersToHash(c),method:u.method})),s.context.has(t.KeysHttp.fetch)&&(u.headers=a.ActorHttp.headersToHash(c)),s.context.get(t.KeysHttp.includeCredentials)&&(u.credentials="include");const l=s.context.get(t.KeysHttp.httpTimeout),f=s.context.get(t.KeysHttp.httpBodyTimeout),d=s.context.get(t.KeysHttp.fetch)??fetch,h=await this.fetchInitPreprocessor.handle(u);let p,_;if(l){const y=new AbortController;h.signal=y.signal,p=()=>y.abort(new Error(`Fetch timed out for ${a.ActorHttp.getInputUrl(s.input).href} after ${l} ms`)),_=setTimeout(()=>p(),l)}const g=await d(s.input,h);return l&&(!f||!g.body)&&clearTimeout(_),g}prepareRequestHeaders(s){var l;const c=new Headers((l=s.init)==null?void 0:l.headers);a.ActorHttp.isBrowser()?c.delete("user-agent"):c.has("user-agent")||c.set("user-agent",XD.userAgent);const u=s.context.get(t.KeysHttp.auth);return u&&c.set("Authorization",`Basic ${XD.stringToBase64(u)}`),c}static stringToBase64(s){const c=new TextEncoder().encode(s),u=Array.from(c,l=>String.fromCodePoint(l)).join("");return btoa(u)}};return p2.ActorHttpFetch=e,e.userAgent=a.ActorHttp.createUserAgent("ActorHttpFetch",n.version),p2}var sX;function e_e(){return sX||(sX=1,function(a){var t=hl&&hl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=hl&&hl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Zbe(),a)}(hl)),hl}var bl={},m2={},uX;function t_e(){if(uX)return m2;uX=1,Object.defineProperty(m2,"__esModule",{value:!0}),m2.ActorQueryOperationSource=void 0;const a=Vt(),t=tt(),o=De(),n=Nr(),r=At(),e=mt();let i=class extends a.ActorQueryOperation{constructor(c){super(c)}async test(c){return(0,r.getOperationSource)(c.operation)?(0,o.passTest)({httpRequests:1}):(0,o.failTest)(`Actor ${this.name} requires an operation with source annotation.`)}async run(c){const u=c.context.get(t.KeysInitQuery.physicalQueryPlanLogger);u&&(u.logOperation(c.operation.type,void 0,c.operation,c.context.get(t.KeysInitQuery.physicalQueryPlanNode),this.name,{}),c.context=c.context.set(t.KeysInitQuery.physicalQueryPlanNode,c.operation));const l=(0,r.getOperationSource)(c.operation),f=l.context?c.context.merge(l.context):c.context;let d=!1;if(e.Util.recurseOperation(c.operation,{construct(){return d=!0,!1}}),d){const _=l.source.queryQuads(c.operation,f),g=(0,n.getMetadataQuads)(_);return{type:"quads",quadStream:_,metadata:g}}switch(c.operation.type){case e.Algebra.types.ASK:return{type:"boolean",execute:()=>l.source.queryBoolean(c.operation,f)};case e.Algebra.types.COMPOSITE_UPDATE:case e.Algebra.types.DELETE_INSERT:case e.Algebra.types.LOAD:case e.Algebra.types.CLEAR:case e.Algebra.types.CREATE:case e.Algebra.types.DROP:case e.Algebra.types.ADD:case e.Algebra.types.MOVE:case e.Algebra.types.COPY:return{type:"void",execute:()=>l.source.queryVoid(c.operation,f)}}const h=l.source.queryBindings(c.operation,f),p=(0,n.getMetadataBindings)(h);return{type:"bindings",bindingsStream:h,metadata:p}}};return m2.ActorQueryOperationSource=i,m2}var cX;function r_e(){return cX||(cX=1,function(a){var t=bl&&bl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=bl&&bl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(t_e(),a)}(bl)),bl}var _l={},g2={},lX;function n_e(){if(lX)return g2;lX=1,Object.defineProperty(g2,"__esModule",{value:!0}),g2.MediatorJoinCoefficientsFixed=void 0;const a=tt(),t=De();let o=class extends t.Mediator{constructor(r){super(r)}async mediateWith(r,e){var _;const i=[],s=e.map(({reply:g})=>g),c=(await Promise.all(s)).map(g=>{if(g.isFailed()){i.push(g.getFailMessage());return}return{value:g.get(),sideData:g.getSideData()}});let u=c.map(g=>{if(g)return g.value.iterations*this.cpuWeight+g.value.persistedItems*this.memoryWeight+g.value.blockingItems*this.timeWeight+g.value.requestTime*this.ioWeight});const l=Math.max(...u.filter(g=>g!==void 0)),f=r.context.get(a.KeysQueryOperation.limitIndicator);f&&(u=u.map((g,y)=>{var m,b;return g!==void 0&&((m=c[y])==null?void 0:m.value).blockingItems>0&&((b=c[y])==null?void 0:b.value).iterations>f?g+l:g}));let d=-1,h=Number.POSITIVE_INFINITY;for(const[g,y]of u.entries())y!==void 0&&(d===-1||y<h)&&(d=g,h=y);if(d<0)return(0,t.failTest)(this.constructFailureMessage(r,i));const p=e[d].actor;return p.includeInLogs&&((_=t.Actor.getContextLogger(r.context))==null||_.debug(`Determined physical join operator '${p.logicalType}-${p.physicalName}'`,{entries:r.entries.length,variables:await Promise.all(r.entries.map(async g=>(await g.output.metadata()).variables.map(y=>y.variable.value))),costs:Object.fromEntries(u.map((g,y)=>[`${e[y].actor.logicalType}-${e[y].actor.physicalName}`,g]).filter(g=>g[1]!==void 0)),coefficients:Object.fromEntries(c.map((g,y)=>[`${e[y].actor.logicalType}-${e[y].actor.physicalName}`,g==null?void 0:g.value]).filter(g=>g[1]!==void 0))})),(0,t.passTestWithSideData)(p,c[d].sideData)}};return g2.MediatorJoinCoefficientsFixed=o,g2}var dX;function i_e(){return dX||(dX=1,function(a){var t=_l&&_l.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=_l&&_l.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(n_e(),a)}(_l)),_l}var ml={},v2={},fX;function hX(){if(fX)return v2;fX=1,Object.defineProperty(v2,"__esModule",{value:!0}),v2.ActorHttpInvalidate=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}};return v2.ActorHttpInvalidate=t,v2}var T2={},pX;function a_e(){if(pX)return T2;pX=1,Object.defineProperty(T2,"__esModule",{value:!0}),T2.ActorHttpInvalidateListenable=void 0;const a=De(),t=hX();let o=class extends t.ActorHttpInvalidate{constructor(r){super(r),this.invalidateListeners=[],this.invalidateListeners=[]}addInvalidateListener(r){this.invalidateListeners.push(r)}async test(r){return(0,a.passTestVoid)()}async run(r){for(const e of this.invalidateListeners)e(r);return{}}};return T2.ActorHttpInvalidateListenable=o,T2}var yX;function w2(){return yX||(yX=1,function(a){var t=ml&&ml.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ml&&ml.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(hX(),a),o(a_e(),a)}(ml)),ml}var gl={},S2={},bX;function o_e(){if(bX)return S2;bX=1,Object.defineProperty(S2,"__esModule",{value:!0}),S2.MediatorAll=void 0;const a=De();let t=class extends a.Mediator{constructor(n){super(n)}async mediate(n){const r=[];let e;try{e=this.publish(n)}catch{e=[]}for(const s of e){const c=await s.reply;c.isPassed()&&r.push({actor:s.actor,sideData:c.getSideData()})}return(await Promise.all(r.map(s=>s.actor.runObservable(n,s.sideData))))[0]}async mediateWith(){throw new Error("Unsupported operation: MediatorAll#mediateWith")}};return S2.MediatorAll=t,S2}var _X;function s_e(){return _X||(_X=1,function(a){var t=gl&&gl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=gl&&gl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(o_e(),a)}(gl)),gl}var vl={},O2={},Tl={},A2={},wl={},E2={},mX;function u_e(){if(mX)return E2;mX=1,Object.defineProperty(E2,"__esModule",{value:!0}),E2.ChunkedIterator=void 0;const a=Tt();let t=class extends a.TransformIterator{constructor(n,r,e){super(n,e),this.chunk=[],this.blockSize=r}consumeChunkAsIterator(){const n=new a.ArrayIterator(this.chunk,{autoStart:!1});return this.chunk=[],n}_transform(n,r,e){this.chunk.push(n),this.chunk.length>=this.blockSize&&e(this.consumeChunkAsIterator()),r()}_flush(n){this.chunk.length>0&&this._push(this.consumeChunkAsIterator()),super._flush(n)}};return E2.ChunkedIterator=t,E2}var x2={},gX;function c_e(){if(gX)return x2;gX=1,Object.defineProperty(x2,"__esModule",{value:!0}),x2.ClosableIterator=void 0;const a=Tt();let t=class extends a.AsyncIterator{constructor(i,s){super(),this.onClose=s.onClose,this._source=i,this._source[a.DESTINATION]=this,this._source.on("end",r),this._source.on("error",n),this._source.on("readable",o),this.readable=this._source.readable}read(){const i=this._source.read();return i||(this.readable=!1,this._source.done&&this.close()),i}_end(i){this.onClose(),this._source.removeListener("end",r),this._source.removeListener("error",n),this._source.removeListener("readable",o),delete this._source[a.DESTINATION],this._source.destroy(),super._end(i)}};x2.ClosableIterator=t;function o(){this[a.DESTINATION].readable=!0}function n(e){this[a.DESTINATION].emit("error",e)}function r(){this[a.DESTINATION].close()}return x2}var I2={},vX;function l_e(){if(vX)return I2;vX=1,Object.defineProperty(I2,"__esModule",{value:!0}),I2.ClosableTransformIterator=void 0;const a=Tt();let t=class extends a.TransformIterator{constructor(n,r){super(n,r),this.onClose=r.onClose}_end(n){this.onClose(),super._end(n)}};return I2.ClosableTransformIterator=t,I2}var R2={},TX;function d_e(){if(TX)return R2;TX=1,Object.defineProperty(R2,"__esModule",{value:!0}),R2.instrumentIterator=void 0;function a(o){const n={count:0,timeSelf:0,timeLife:0};return t(o,n,!0),new Promise(r=>{o.on("end",()=>{r(n)})})}R2.instrumentIterator=a;function t(o,n,r){if(!("_profileInstrumented"in o)){if(o._profileInstrumented=!0,"_read"in o){const e=o._read;o._read=(i,s)=>{const c=performance.now();e.call(o,i,()=>{n.timeSelf+=performance.now()-c,s()})}}if("read"in o){const e=o.read;o.read=()=>{const i=performance.now(),s=e.call(o);return r&&s&&n.count++,n.timeSelf+=performance.now()-i,s}}if(r){const e=performance.now();o.on("end",()=>{n.timeLife=performance.now()-e})}"_source"in o&&t(o._source,n,!1)}}return R2}var wX;function Sa(){return wX||(wX=1,function(a){var t=wl&&wl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=wl&&wl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(u_e(),a),o(c_e(),a),o(l_e(),a),o(d_e(),a)}(wl)),wl}var SX;function f_e(){if(SX)return A2;SX=1,Object.defineProperty(A2,"__esModule",{value:!0}),A2.ActorRdfJoin=void 0;const a=tt(),t=De(),o=Sa(),n=Nr();let r=class Ba extends t.Actor{constructor(i,s){super(i),this.includeInLogs=!0,this.logicalType=s.logicalType,this.physicalName=s.physicalName,this.limitEntries=s.limitEntries??Number.POSITIVE_INFINITY,this.limitEntriesMin=s.limitEntriesMin??!1,this.canHandleUndefs=s.canHandleUndefs??!1,this.isLeaf=s.isLeaf??!0,this.requiresVariableOverlap=s.requiresVariableOverlap??!1}static overlappingVariables(i){const s={};for(const c of i)for(const u of c.variables){s[u.variable.value]||(s[u.variable.value]={variable:u.variable,canBeUndef:u.canBeUndef,occurrences:0});const l=s[u.variable.value];l.canBeUndef=l.canBeUndef||u.canBeUndef,l.occurrences++}return Object.values(s).filter(c=>c.occurrences===i.length).map(c=>({variable:c.variable,canBeUndef:c.canBeUndef}))}static joinVariables(i,s,c=!1){const u={};let l=!0;for(const f of s){for(const d of f.variables)u[d.variable.value]=u[d.variable.value]||d.canBeUndef||!l&&c&&!(d.variable.value in u);l=!1}return Object.entries(u).map(([f,d])=>({variable:i.variable(f),canBeUndef:d}))}static joinBindings(...i){if(i.length===0)return null;if(i.length===1)return i[0];let s=i[0];for(const c of i.slice(1)){const u=s.merge(c);if(!u)return null;s=u}return s}static getCardinality(i){return i.cardinality}static async getMetadatas(i){return await Promise.all(i.map(s=>s.output.metadata()))}static async getEntriesWithMetadatas(i){const s=await Ba.getMetadatas(i);return i.map((c,u)=>({...c,metadata:s[u]}))}static getRequestInitialTimes(i){return i.map(s=>s.pageSize?0:s.requestTime??0)}static getRequestItemTimes(i){return i.map(s=>s.pageSize?(s.requestTime??0)/s.pageSize:0)}constructState(i){const s=new n.MetadataValidationState,c=()=>s.invalidate();for(const u of i)u.state.addInvalidateListener(c);return s}async constructResultMetadata(i,s,c,u={},l=!1){let f;if(u.cardinality)f=u.cardinality;else{let d=!1;f=s.reduce((h,p)=>{const _=Ba.getCardinality(p);return _.value===0&&(d=!0),{type:_.type==="estimate"?"estimate":h.type,value:h.value*(l?Math.max(1,_.value):_.value)}},{type:"exact",value:1}),(!d||l)&&(f.value*=(await this.mediatorJoinSelectivity.mediate({entries:i,context:c})).selectivity,f.value===0&&(f.value=Number.MIN_VALUE))}return{state:this.constructState(s),...u,cardinality:{type:f.type,value:f.value},variables:Ba.joinVariables(c.getSafe(a.KeysInitQuery.dataFactory),s,l)}}static async sortJoinEntries(i,s,c){if(s.some(d=>d.metadata.variables.some(h=>h.canBeUndef)))return(0,t.passTest)(s);const l={};for(const d of s)for(const h of d.metadata.variables){let p=l[h.variable.value];p||(p=0),l[h.variable.value]=++p}const f=[];for(const[d,h]of Object.entries(l))h>=2&&f.push(d);return f.length===0?(0,t.failTest)("Bind join can only join entries with at least one common variable"):(0,t.passTest)((await i.mediate({entries:s,context:c})).entries)}async test(i){if(i.type!==this.logicalType)return(0,t.failTest)(`${this.name} can only handle logical joins of type '${this.logicalType}', while '${i.type}' was given.`);if(i.entries.length<=1)return(0,t.failTest)(`${this.name} requires at least two join entries.`);if(this.limitEntriesMin?i.entries.length<this.limitEntries:i.entries.length>this.limitEntries)return(0,t.failTest)(`${this.name} requires ${this.limitEntries} join entries at ${this.limitEntriesMin?"least":"most"}. The input contained ${i.entries.length}.`);for(const u of i.entries)if(u.output.type!=="bindings")return(0,t.failTest)(`Invalid type of a join entry: Expected 'bindings' but got '${u.output.type}'`);const s=await Ba.getMetadatas(i.entries);let c;return!this.canHandleUndefs&&(c=Ba.overlappingVariables(s),c.some(u=>u.canBeUndef))?(0,t.failTest)(`Actor ${this.name} can not join streams containing undefs`):this.requiresVariableOverlap&&(c??Ba.overlappingVariables(s)).length===0?(0,t.failTest)(`Actor ${this.name} can only join entries with at least one common variable`):await this.getJoinCoefficients(i,{metadatas:s})}async run(i,s){let c;i.context.has(a.KeysInitQuery.physicalQueryPlanLogger)&&(c=i.context.get(a.KeysInitQuery.physicalQueryPlanNode),i.context=i.context.set(a.KeysInitQuery.physicalQueryPlanNode,i));const u=i.context.get(a.KeysInitQuery.physicalQueryPlanLogger);let l;this.includeInLogs&&u&&(l={},u.stashChildren(c,h=>h.logicalOperator.startsWith("join")),u.logOperation(`join-${this.logicalType}`,this.physicalName,i,c,this.name,l));const{result:f,physicalPlanMetadata:d}=await this.getOutput(i,s);if(l){(0,o.instrumentIterator)(f.bindingsStream).then(p=>{u.appendMetadata(i,{cardinalityReal:p.count,timeSelf:p.timeSelf,timeLife:p.timeLife})}),Object.assign(l,d);const h=s.metadatas.map(Ba.getCardinality);if(l.cardinalities=h,l.joinCoefficients=(await this.getJoinCoefficients(i,s)).getOrThrow(),this.isLeaf)for(let p=0;p<i.entries.length;p++){const _=i.entries[p];u.unstashChild(_.operation,i),u.appendMetadata(_.operation,{cardinality:h[p]})}}return f.metadata=(0,n.cachifyMetadata)(f.metadata),f}};return A2.ActorRdfJoin=r,A2}var OX;function un(){return OX||(OX=1,function(a){var t=Tl&&Tl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Tl&&Tl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(f_e(),a)}(Tl)),Tl}var AX;function h_e(){if(AX)return O2;AX=1,Object.defineProperty(O2,"__esModule",{value:!0}),O2.ActorRdfJoinSingle=void 0;const a=un(),t=De();let o=class extends a.ActorRdfJoin{constructor(r){super(r,{logicalType:"inner",physicalName:"single",limitEntries:1}),this.includeInLogs=!1}async test(r){return r.entries.length!==1?(0,t.failTest)(`Actor ${this.name} can only join a single entry`):await this.getJoinCoefficients(r,void 0)}async getOutput(r){return{result:r.entries[0].output}}async getJoinCoefficients(r,e){return(0,t.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},e)}};return O2.ActorRdfJoinSingle=o,O2}var EX;function p_e(){return EX||(EX=1,function(a){var t=vl&&vl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=vl&&vl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(h_e(),a)}(vl)),vl}var Sl={},F2={},xX;function y_e(){if(xX)return F2;xX=1,Object.defineProperty(F2,"__esModule",{value:!0}),F2.ActorRdfJoinMultiEmpty=void 0;const a=un(),t=tt(),o=De(),n=Nr(),r=Tt();let e=class extends a.ActorRdfJoin{constructor(s){super(s,{logicalType:"inner",physicalName:"multi-empty",canHandleUndefs:!0})}async test(s){return(await a.ActorRdfJoin.getMetadatas(s.entries)).every(c=>a.ActorRdfJoin.getCardinality(c).value>0)?(0,o.failTest)(`Actor ${this.name} can only join entries where at least one is empty`):super.test(s)}async getOutput(s){for(const u of s.entries)u.output.bindingsStream.close();const c=s.context.getSafe(t.KeysInitQuery.dataFactory);return{result:{bindingsStream:new r.ArrayIterator([],{autoStart:!1}),metadata:async()=>({state:new n.MetadataValidationState,cardinality:{type:"exact",value:0},variables:a.ActorRdfJoin.joinVariables(c,await a.ActorRdfJoin.getMetadatas(s.entries))}),type:"bindings"}}}async getJoinCoefficients(s,c){return(0,o.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},c)}};return F2.ActorRdfJoinMultiEmpty=e,F2}var IX;function b_e(){return IX||(IX=1,function(a){var t=Sl&&Sl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Sl&&Sl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(y_e(),a)}(Sl)),Sl}var Ol={},N2={},Al={},D2={},RX;function __e(){if(RX)return D2;RX=1,Object.defineProperty(D2,"__esModule",{value:!0}),D2.BindingsIndexDef=void 0;let a=class{constructor(o,n){this.keys=o.map(r=>r.variable),this.hashFn=n,this.index={}}put(o,n){return this.index[this.hashFn(o,this.keys)]=n}get(o){const n=this.getFirst(o);return n?[n]:[]}getFirst(o){return this.index[this.hashFn(o,this.keys)]}values(){return Object.values(this.index)}};return D2.BindingsIndexDef=a,D2}var P2={},FX;function m_e(){if(FX)return P2;FX=1,Object.defineProperty(P2,"__esModule",{value:!0}),P2.BindingsIndexUndef=void 0;let a=class{constructor(o,n,r){this.data={},this.keys=o.map(e=>e.variable),this.hashFn=n,this.allowDisjointDomains=r&&this.keys.length>0}put(o,n){if(this.allowDisjointDomains||this.isBindingsValid(o)){let r=this.data;for(let e=0;e<this.keys.length;e++){const i=this.keys[e],s=this.hashFn(o.get(i));let c=r[s];c||(c=r[s]=e===this.keys.length-1?n:{}),r=c}}return n}isBindingsValid(o){let n=!1;for(const r of this.keys)if(o.has(r)){n=!0;break}return n}get(o){return this.allowDisjointDomains||this.isBindingsValid(o)?this.getRecursive(o,this.keys,[this.data]):[]}getRecursive(o,n,r){if(n.length===0)return r;let e;[e,...n]=n;const i=[];for(const s of r){const c=this.hashFn(o==null?void 0:o.get(e));if(c){const u=[s[c],s[""]].filter(Boolean);if(u.length===0)continue;i.push(this.getRecursive(o,n,u))}else{const u=Object.values(s);if(u.length===0)continue;i.push(this.getRecursive(o,n,u))}}return i.flat()}getFirst(o,n=!0){if(this.allowDisjointDomains||this.isBindingsValid(o))return this.getRecursiveFirst(o,this.keys,[this.data],n)}getRecursiveFirst(o,n,r,e){if(n.length===0)return r[0];let i;[i,...n]=n;for(const s of r){const c=this.hashFn(o.get(i));if(c||!e){const u=[s[c],s[""]].filter(Boolean);if(u.length===0)continue;const l=this.getRecursiveFirst(o,n,u,e);if(l)return l}else{const u=Object.values(s);if(u.length===0)continue;const l=this.getRecursiveFirst(o,n,u,e);if(l)return l}}}values(){return this.keys.length===0?[]:this.getRecursive(void 0,this.keys,[this.data])}};return P2.BindingsIndexUndef=a,P2}var sN={},NX;function g_e(){return NX||(NX=1,Object.defineProperty(sN,"__esModule",{value:!0})),sN}var DX;function uN(){return DX||(DX=1,function(a){var t=Al&&Al.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Al&&Al.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(__e(),a),o(m_e(),a),o(g_e(),a)}(Al)),Al}var cN,PX;function v_e(){if(PX)return cN;PX=1;let a=Tt(),t=a.MultiTransformIterator,o=a.SimpleTransformIterator;class n extends t{constructor(e,i,s,c){super(e,c),this.funRight=i,this.funJoin=s}_createTransformer(e){return new o(this.funRight(e),{transform:(i,s,c)=>{let u=this.funJoin(e,i);u!==null&&c(u),s()}})}}return cN=n,cN}var lN,LX;function T_e(){if(LX)return lN;LX=1;let a=Tt().AsyncIterator;class t extends a{constructor(n,r,e,i){super(),this.addedDataListener=!1,this.left=n,this.right=r,this.funHash=e,this.funJoin=i,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.left.on("error",c=>this.destroy(c)),this.right.on("error",c=>this.destroy(c)),this.readable=!1,this.left.on("end",s.bind(this));function s(){this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}this.on("newListener",c=>{c==="data"&&this._addDataListenerIfNeeded()}),this.left.readable&&this._addDataListenerIfNeeded(),this.left.on("readable",()=>this._addDataListenerIfNeeded())}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(this._addDataListenerIfNeeded();;){if(this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let r=this.matches[this.matchIdx++],e=this.funJoin(r,this.match);if(e!==null)return e}if(this.hasResults()||this._end(),this.match=this.right.read(),this.match===null)return this.readable=!1,null;let n=this.funHash(this.match);this.matches=this.leftMap.get(n)||[],this.matchIdx=0}}_addDataListenerIfNeeded(){this.addedDataListener||(this.addedDataListener=!0,this._addDataListener())}_addDataListener(){this.left.on("data",n.bind(this));function n(r){let e=this.funHash(r),i=this.leftMap.get(e);i||(i=[],this.leftMap.set(e,i)),i.push(r)}}}return lN=t,lN}var dN,jX;function w_e(){if(jX)return dN;jX=1;const{MultiTransformIterator:a,SimpleTransformIterator:t,scheduleTask:o}=Tt();class n extends a{constructor(e,i,s,c){super(e,c),this.right=i,this.funJoin=s,this.on("end",()=>this.right.close())}_end(){super._end(),o(()=>this.right.destroy())}_createTransformer(e){return new t(this.right.clone(),{transform:(i,s,c)=>{let u=this.funJoin(e,i);u!==null&&c(u),s()}})}}return dN=n,dN}var fN,MX;function S_e(){if(MX)return fN;MX=1;let a=Tt().AsyncIterator;class t extends a{constructor(n,r,e,i){super(),this.left=n,this.right=r,this.funHash=e,this.funJoin=i,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,(this.left.readable||this.right.readable)&&(this.readable=!0),this.left.on("error",s=>this.destroy(s)),this.right.on("error",s=>this.destroy(s)),this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended||!!this.matches&&this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(;;){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let e=this.matches[this.matchIdx++],i=this.usedLeft?this.funJoin(this.match,e):this.funJoin(e,this.match);if(i!==null)return i}this.hasResults()||this._end();let n=null;for(let e=0;e<2&&(n=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,n===null);++e);if(this.done||n===null)return this.readable=!1,null;let r=this.funHash(n);if(this.usedLeft&&this.right.done)this.leftMap=null;else if(this.left.done)this.rightMap=null;else{let e=this.usedLeft?this.leftMap:this.rightMap;e.has(r)||e.set(r,[]);let i=e.get(r);i||(i=[],e.set(r,i)),i.push(n)}this.match=n,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(r)||[],this.matchIdx=0}}}return fN=t,fN}var hN,qX;function O_e(){if(qX)return hN;qX=1;let a=Tt().AsyncIterator;class t extends a{constructor(n){super(),Array.isArray(n)||(n=Array.prototype.slice.call(arguments)),this.streams=n;for(let r of n)r.on("readable",()=>this.emit("readable")),r.on("end",()=>this._removeStream(r));this.streams.length===0&&this.close(),this.idx=this.streams.length-1}_removeStream(n){let r=this.streams.indexOf(n);r<0||(this.streams.splice(r,1),this.idx>=this.streams.length&&--this.idx,this.streams.length===0&&this._end())}close(){super.close();for(let n of this.streams)n.close()}read(){for(let n=0;n<this.streams.length;++n){this.idx=(this.idx+1)%this.streams.length;let r=this.streams[this.idx].read();if(r!==null)return r}return null}}return hN=t,hN}var pN,CX;function nE(){if(CX)return pN;CX=1;const a=v_e(),t=T_e(),o=w_e(),n=S_e(),r=O_e();return pN={DynamicNestedLoopJoin:a,HashJoin:t,NestedLoopJoin:o,SymmetricHashJoin:n,MergeStream:r},pN}var BX;function A_e(){if(BX)return N2;BX=1,Object.defineProperty(N2,"__esModule",{value:!0}),N2.ActorRdfJoinHash=void 0;const a=un(),t=De(),o=uN(),n=Sa(),r=Tt(),e=nE(),i=$t();let s=class extends a.ActorRdfJoin{constructor(u){super(u,{logicalType:"inner",physicalName:`hash-${u.canHandleUndefs?"undef":"def"}`,limitEntries:2,requiresVariableOverlap:!0,canHandleUndefs:u.canHandleUndefs})}async getOutput(u,l){const f=l.metadatas;let d;const h=a.ActorRdfJoin.overlappingVariables(f);if(this.canHandleUndefs){const p=l.entriesSorted[0].output,_=l.entriesSorted[1].output;d=new n.ClosableTransformIterator(async()=>{const g=new o.BindingsIndexUndef(h,y=>y&&y.termType!=="Variable"?(0,i.termToString)(y):"",!0);return await new Promise(y=>{p.bindingsStream.on("data",m=>{(g.getFirst(m,!1)??g.put(m,[])).push(m)}),p.bindingsStream.on("end",y),p.bindingsStream.on("error",m=>{d.emit("error",m)})}),new r.MultiTransformIterator(_.bindingsStream,{multiTransform:y=>new r.ArrayIterator(g.get(y).flat().map(m=>a.ActorRdfJoin.joinBindings(y,m)).filter(m=>m!==null),{autoStart:!1}),autoStart:!1})},{autoStart:!1,onClose(){p.bindingsStream.destroy(),_.bindingsStream.destroy()}})}else{const{hashFunction:p}=await this.mediatorHashBindings.mediate({context:u.context}),_=h.map(g=>g.variable);d=new e.HashJoin(l.entriesSorted[0].output.bindingsStream,l.entriesSorted[1].output.bindingsStream,g=>p(g,_),a.ActorRdfJoin.joinBindings)}return{result:{type:"bindings",bindingsStream:d,metadata:async()=>await this.constructResultMetadata(l.entriesSorted,f,u.context)}}}async getJoinCoefficients(u,l){let f=u.entries;l.metadatas[1].cardinality.value<l.metadatas[0].cardinality.value&&(l.metadatas=[l.metadatas[1],l.metadatas[0]],f=[u.entries[1],u.entries[0]]);const{metadatas:d}=l,h=a.ActorRdfJoin.getRequestInitialTimes(d),p=a.ActorRdfJoin.getRequestItemTimes(d);let _=d[0].cardinality.value+d[1].cardinality.value;return this.canHandleUndefs||(_*=.8),(0,t.passTestWithSideData)({iterations:_,persistedItems:d[0].cardinality.value,blockingItems:d[0].cardinality.value,requestTime:h[0]+d[0].cardinality.value*p[0]+h[1]+d[1].cardinality.value*p[1]},{...l,entriesSorted:f})}};return N2.ActorRdfJoinHash=s,N2}var $X;function UX(){return $X||($X=1,function(a){var t=Ol&&Ol.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ol&&Ol.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(A_e(),a)}(Ol)),Ol}var El={},L2={},VX;function E_e(){if(VX)return L2;VX=1,Object.defineProperty(L2,"__esModule",{value:!0}),L2.ActorRdfJoinSymmetricHash=void 0;const a=un(),t=De(),o=nE();let n=class extends a.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"symmetric-hash",limitEntries:2,requiresVariableOverlap:!0})}async getOutput(e){const i=await a.ActorRdfJoin.getMetadatas(e.entries),s=a.ActorRdfJoin.overlappingVariables(i),{hashFunction:c}=await this.mediatorHashBindings.mediate({context:e.context}),u=s.map(f=>f.variable);return{result:{type:"bindings",bindingsStream:new o.SymmetricHashJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,f=>c(f,u),a.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(e.entries,i,e.context)}}}async getJoinCoefficients(e,i){const{metadatas:s}=i,c=a.ActorRdfJoin.getRequestInitialTimes(s),u=a.ActorRdfJoin.getRequestItemTimes(s);return(0,t.passTestWithSideData)({iterations:s[0].cardinality.value+s[1].cardinality.value,persistedItems:s[0].cardinality.value+s[1].cardinality.value,blockingItems:0,requestTime:c[0]+s[0].cardinality.value*u[0]+c[1]+s[1].cardinality.value*u[1]},i)}};return L2.ActorRdfJoinSymmetricHash=n,L2}var QX;function x_e(){return QX||(QX=1,function(a){var t=El&&El.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=El&&El.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(E_e(),a)}(El)),El}var xl={},j2={},HX;function I_e(){if(HX)return j2;HX=1,Object.defineProperty(j2,"__esModule",{value:!0}),j2.ActorRdfJoinNestedLoop=void 0;const a=un(),t=De(),o=nE();let n=class extends a.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(e){return{result:{type:"bindings",bindingsStream:new o.NestedLoopJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,a.ActorRdfJoin.joinBindings,{autoStart:!1}),metadata:async()=>await this.constructResultMetadata(e.entries,await a.ActorRdfJoin.getMetadatas(e.entries),e.context)}}}async getJoinCoefficients(e,i){const{metadatas:s}=i,c=a.ActorRdfJoin.getRequestInitialTimes(s),u=a.ActorRdfJoin.getRequestItemTimes(s);return(0,t.passTestWithSideData)({iterations:s[0].cardinality.value*s[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:c[0]+s[0].cardinality.value*u[0]+c[1]+s[1].cardinality.value*u[1]},i)}};return j2.ActorRdfJoinNestedLoop=n,j2}var GX;function R_e(){return GX||(GX=1,function(a){var t=xl&&xl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=xl&&xl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(I_e(),a)}(xl)),xl}var Il={},M2={},Rl={},q2={},Fl={},zX;function kX(){if(zX)return Fl;zX=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.bindingsToCompactString=Fl.bindingsToString=void 0;const a=$t();function t(n){const r={};for(const e of n.keys())r[e.value]=(0,a.termToString)(n.get(e));return JSON.stringify(r,null,"  ")}Fl.bindingsToString=t;function o(n,r){return r.map(e=>{const i=n.get(e);return i?(0,a.termToString)(i):""}).join("")}return Fl.bindingsToCompactString=o,Fl}var XX;function WX(){if(XX)return q2;XX=1,Object.defineProperty(q2,"__esModule",{value:!0}),q2.Bindings=void 0;const a=De(),t=tI,o=kX();let n=class Zr{constructor(e,i,s){this.type="bindings",this.dataFactory=e,this.entries=i,this.contextHolder=s}has(e){return this.entries.has(typeof e=="string"?e:e.value)}get(e){return this.entries.get(typeof e=="string"?e:e.value)}set(e,i){return new Zr(this.dataFactory,this.entries.set(typeof e=="string"?e:e.value,i),this.contextHolder)}delete(e){return new Zr(this.dataFactory,this.entries.delete(typeof e=="string"?e:e.value),this.contextHolder)}keys(){return this.mapIterable(this.iteratorToIterable(this.entries.keys()),e=>this.dataFactory.variable(e))}values(){return this.iteratorToIterable(this.entries.values())}forEach(e){for(const[i,s]of this.entries.entries())e(s,this.dataFactory.variable(i))}get size(){return this.entries.size}[Symbol.iterator](){return this.mapIterable(this.iteratorToIterable(this.entries.entries()),([e,i])=>[this.dataFactory.variable(e),i])[Symbol.iterator]()}equals(e){var i;if(!e)return!1;if(this===e)return!0;if(this.size!==e.size)return!1;for(const s of this.keys())if(!((i=this.get(s))!=null&&i.equals(e.get(s))))return!1;return!0}filter(e){return new Zr(this.dataFactory,(0,t.Map)(this.entries.filter((i,s)=>e(i,this.dataFactory.variable(s)))),this.contextHolder)}map(e){return new Zr(this.dataFactory,(0,t.Map)(this.entries.map((i,s)=>e(i,this.dataFactory.variable(s)))),this.contextHolder)}merge(e){if(this.size<e.size&&e instanceof Zr)return e.merge(this);let i=this.entries;if(e instanceof Zr)for(const[s,c]of e.entries){const u=this.entries.get(s);if(u&&!u.equals(c))return;i=i.set(s,c)}else for(const[s,c]of e){const u=this.entries.get(s.value);if(u&&!u.equals(c))return;i=i.set(s.value,c)}return this.createBindingsWithContexts(i,e)}mergeWith(e,i){if(this.size<i.size&&i instanceof Zr)return i.mergeWith(e,this);let s=this.entries;if(i instanceof Zr)for(const[c,u]of i.entries){const l=this.entries.get(c);let f;l&&!l.equals(u)?f=e(l,u,this.dataFactory.variable(c)):f=u,s=s.set(c,f)}else for(const[c,u]of i){const l=this.entries.get(c.value);let f;l&&!l.equals(u)?f=e(l,u,c):f=u,s=s.set(c.value,f)}return this.createBindingsWithContexts(s,i)}createBindingsWithContexts(e,i){if(this.contextHolder&&this.contextHolder.context){let s=this.contextHolder.context;return"contextHolder"in i&&i.contextHolder&&i.contextHolder.context&&(s=Zr.mergeContext(this.contextHolder.contextMergeHandlers,s,i.contextHolder.context)),new Zr(this.dataFactory,e,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:s})}return new Zr(this.dataFactory,e,i.contextHolder)}static mergeContext(e,i,s){const c=[...i.keys(),...s.keys()],u={},l={},f=new Set(s.keys().map(h=>h.name)),d=i.keys().filter(h=>f.has(h.name));for(const h of c){if(l[h.name]===1)continue;l[h.name]=1;const p=d.some(_=>_.name===h.name);if(e[h.name]&&p){u[h.name]=e[h.name].run(i.get(h),s.get(h));continue}if(!(!e[h.name]&&p)){if(!i.get(h)){u[h.name]=s.get(h);continue}s.get(h)||(u[h.name]=i.get(h))}}return new a.ActionContext(u)}setContextEntry(e,i){return this.setContextEntryRaw(e,i)}setContextEntryRaw(e,i){var s;return this.contextHolder&&this.contextHolder.context?new Zr(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:this.contextHolder.context.set(e,i)}):new Zr(this.dataFactory,this.entries,{contextMergeHandlers:((s=this.contextHolder)==null?void 0:s.contextMergeHandlers)??{},context:new a.ActionContext().set(e,i)})}deleteContextEntry(e){return this.deleteContextEntryRaw(e)}deleteContextEntryRaw(e){var i;return this.contextHolder?new Zr(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:(i=this.contextHolder.context)==null?void 0:i.delete(e)}):new Zr(this.dataFactory,this.entries)}getContext(){var e;return(e=this.contextHolder)==null?void 0:e.context}getContextEntry(e){var i;return(i=this.getContext())==null?void 0:i.get(e)}toString(){return(0,o.bindingsToString)(this)}*mapIterable(e,i){for(const s of e)yield i(s)}iteratorToIterable(e){return{[Symbol.iterator]:()=>e}}};return q2.Bindings=n,q2}var C2={},JX;function F_e(){if(JX)return C2;JX=1,Object.defineProperty(C2,"__esModule",{value:!0}),C2.BindingsFactory=void 0;const a=tI,t=WX();let o=class mae{constructor(r,e){this.dataFactory=r,this.contextMergeHandlers=e}static async create(r,e,i){return new mae(i,(await r.mediate({context:e})).mergeHandlers)}bindings(r=[]){return new t.Bindings(this.dataFactory,(0,a.Map)(r.map(([e,i])=>[e.value,i])),this.contextMergeHandlers?{contextMergeHandlers:this.contextMergeHandlers}:void 0)}fromBindings(r){return this.bindings([...r])}fromRecord(r){return this.bindings(Object.entries(r).map(([e,i])=>[this.dataFactory.variable(e),i]))}};return C2.BindingsFactory=o,C2}var KX;function kt(){return KX||(KX=1,function(a){var t=Rl&&Rl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Rl&&Rl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(WX(),a),o(F_e(),a),o(kX(),a)}(Rl)),Rl}var YX;function N_e(){if(YX)return M2;YX=1,Object.defineProperty(M2,"__esModule",{value:!0}),M2.ActorRdfJoinMinusHash=void 0;const a=un(),t=De(),o=kt(),n=uN(),r=Sa(),e=$t();let i=class gae extends a.ActorRdfJoin{constructor(c){super(c,{logicalType:"minus",physicalName:`hash-${c.canHandleUndefs?"undef":"def"}`,limitEntries:2,canHandleUndefs:c.canHandleUndefs})}static constructIndex(c,u){return c?new n.BindingsIndexUndef(u,l=>l&&l.termType!=="Variable"?(0,e.termToString)(l):"",!1):new n.BindingsIndexDef(u,o.bindingsToCompactString)}async getOutput(c){const u=c.entries[1].output,l=c.entries[0].output,f=await a.ActorRdfJoin.getMetadatas(c.entries),d=a.ActorRdfJoin.overlappingVariables(f);if(d.length===0)return u.bindingsStream.destroy(),{result:l};const h=new r.ClosableTransformIterator(async()=>{const p=gae.constructIndex(this.canHandleUndefs,d);return await new Promise(_=>{u.bindingsStream.on("data",g=>p.put(g,!0)),u.bindingsStream.on("end",_),u.bindingsStream.on("error",g=>h.emit("error",g))}),l.bindingsStream.filter(_=>!p.getFirst(_,!0))},{autoStart:!1,onClose(){u.bindingsStream.destroy(),l.bindingsStream.destroy()}});return{result:{type:"bindings",bindingsStream:h,metadata:l.metadata}}}async getJoinCoefficients(c,u){const{metadatas:l}=u,f=a.ActorRdfJoin.getRequestInitialTimes(l),d=a.ActorRdfJoin.getRequestItemTimes(l);let h=l[0].cardinality.value+l[1].cardinality.value;return this.canHandleUndefs||(h*=.8),(0,t.passTestWithSideData)({iterations:h,persistedItems:l[0].cardinality.value,blockingItems:l[0].cardinality.value,requestTime:f[0]+l[0].cardinality.value*d[0]+f[1]+l[1].cardinality.value*d[1]},u)}};return M2.ActorRdfJoinMinusHash=i,M2}var ZX;function eW(){return ZX||(ZX=1,function(a){var t=Il&&Il.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Il&&Il.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(N_e(),a)}(Il)),Il}var Nl={},B2={},tW;function D_e(){if(tW)return B2;tW=1,Object.defineProperty(B2,"__esModule",{value:!0}),B2.ActorRdfJoinOptionalHash=void 0;const a=un(),t=De(),o=kt(),n=uN(),r=Sa(),e=Tt(),i=$t();let s=class WD extends a.ActorRdfJoin{constructor(u){super(u,{logicalType:"optional",physicalName:`hash-${u.canHandleUndefs?"undef":"def"}-${u.blocking?"blocking":"nonblocking"}`,limitEntries:2,canHandleUndefs:u.canHandleUndefs,requiresVariableOverlap:!0})}static constructIndex(u,l){return u?new n.BindingsIndexUndef(l,f=>f&&f.termType!=="Variable"?(0,i.termToString)(f):"",!0):new n.BindingsIndexDef(l,o.bindingsToCompactString)}async getOutput(u){const l=u.entries[1].output,f=u.entries[0].output,d=await a.ActorRdfJoin.getMetadatas(u.entries),h=a.ActorRdfJoin.overlappingVariables(d);let p;return this.blocking?p=new r.ClosableTransformIterator(async()=>{const _=WD.constructIndex(this.canHandleUndefs,h);return await new Promise(g=>{l.bindingsStream.on("data",y=>{(_.getFirst(y,!0)??_.put(y,[])).push(y)}),l.bindingsStream.on("end",g),l.bindingsStream.on("error",y=>{p.emit("error",y)})}),new e.MultiTransformIterator(f.bindingsStream,{multiTransform:g=>new e.ArrayIterator(_.get(g).flat().map(y=>a.ActorRdfJoin.joinBindings(g,y)).filter(y=>y!==null),{autoStart:!1}),optional:!0,autoStart:!1})},{autoStart:!1,onClose(){l.bindingsStream.destroy(),f.bindingsStream.destroy()}}):p=new r.ClosableTransformIterator(async()=>{const _=WD.constructIndex(this.canHandleUndefs,h);let g=!0;return l.bindingsStream.on("data",y=>{(_.getFirst(y,!0)??_.put(y,new e.BufferedIterator({autoStart:!1})))._push(y)}),l.bindingsStream.on("end",()=>{for(const y of _.values())y.close();g=!1}),l.bindingsStream.on("error",y=>{p.emit("error",y)}),new e.MultiTransformIterator(f.bindingsStream,{multiTransform:y=>{let m=_.get(y);return m.length===0&&(g?m=[_.put(y,new e.BufferedIterator({autoStart:!1}))]:m=[]),new e.UnionIterator(m.map(T=>T.clone()),{autoStart:!1}).map(T=>a.ActorRdfJoin.joinBindings(y,T))},optional:!0,autoStart:!1})},{autoStart:!1,onClose(){l.bindingsStream.destroy(),f.bindingsStream.destroy()}}),{result:{type:"bindings",bindingsStream:p,metadata:async()=>await this.constructResultMetadata(u.entries,d,u.context,{},!0)}}}async getJoinCoefficients(u,l){const{metadatas:f}=l,d=a.ActorRdfJoin.getRequestInitialTimes(f),h=a.ActorRdfJoin.getRequestItemTimes(f);let p=f[0].cardinality.value+f[1].cardinality.value;return this.canHandleUndefs||(p*=.8),this.blocking&&(p*=.9),(0,t.passTestWithSideData)({iterations:p,persistedItems:f[0].cardinality.value,blockingItems:this.blocking?f[0].cardinality.value:0,requestTime:d[0]+f[0].cardinality.value*h[0]+d[1]+f[1].cardinality.value*h[1]},l)}};return B2.ActorRdfJoinOptionalHash=s,B2}var rW;function iE(){return rW||(rW=1,function(a){var t=Nl&&Nl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Nl&&Nl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(D_e(),a)}(Nl)),Nl}var Dl={},$2={},nW;function P_e(){if(nW)return $2;nW=1,Object.defineProperty($2,"__esModule",{value:!0}),$2.ActorRdfJoinOptionalNestedLoop=void 0;const a=un(),t=De(),o=nE();let n=class extends a.ActorRdfJoin{constructor(e){super(e,{logicalType:"optional",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(e){return{result:{type:"bindings",bindingsStream:new o.NestedLoopJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,a.ActorRdfJoin.joinBindings,{optional:!0,autoStart:!1}),metadata:async()=>await this.constructResultMetadata(e.entries,await a.ActorRdfJoin.getMetadatas(e.entries),e.context,{},!0)}}}async getJoinCoefficients(e,i){const{metadatas:s}=i,c=a.ActorRdfJoin.getRequestInitialTimes(s),u=a.ActorRdfJoin.getRequestItemTimes(s);return(0,t.passTestWithSideData)({iterations:s[0].cardinality.value*s[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:c[0]+s[0].cardinality.value*u[0]+c[1]+s[1].cardinality.value*u[1]},i)}};return $2.ActorRdfJoinOptionalNestedLoop=n,$2}var iW;function L_e(){return iW||(iW=1,function(a){var t=Dl&&Dl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Dl&&Dl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(P_e(),a)}(Dl)),Dl}var Pl={},U2={},Ll={},V2={},aW;function j_e(){if(aW)return V2;aW=1,Object.defineProperty(V2,"__esModule",{value:!0}),V2.ActorDereferenceRdf=void 0;const a=iF();let t=class extends a.ActorDereferenceParse{constructor(n){super(n)}};return V2.ActorDereferenceRdf=t,V2}var oW;function M_e(){return oW||(oW=1,function(a){var t=Ll&&Ll.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ll&&Ll.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(j_e(),a)}(Ll)),Ll}var sW;function q_e(){if(sW)return U2;sW=1,Object.defineProperty(U2,"__esModule",{value:!0}),U2.ActorDereferenceRdfParse=void 0;const a=M_e();let t=class extends a.ActorDereferenceRdf{constructor(n){super(n)}async getMetadata(n){return{baseIRI:n.url}}};return U2.ActorDereferenceRdfParse=t,U2}var uW;function C_e(){return uW||(uW=1,function(a){var t=Pl&&Pl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Pl&&Pl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(q_e(),a)}(Pl)),Pl}var jl={},Q2={},H2={},cW;function B_e(){if(cW)return H2;cW=1,Object.defineProperty(H2,"__esModule",{value:!0}),H2.HtmlScriptListener=void 0;const a=tt(),t=qt(),o=Sr();let n=class bO{constructor(e,i,s,c,u,l,f,d){this.textChunksJsonLd=[],this.endBarrier=1,this.passedScripts=0,this.isFinalJsonLdProcessing=!1,this.mediatorRdfParseHandle=e,this.cbQuad=i,this.cbError=s,this.cbEnd=c,this.supportedTypes=u,this.context=l.set(a.KeysRdfParseHtmlScript.processingHtmlScript,!0),this.baseIRI=f,this.headers=d,this.onlyFirstScript=l.get(a.KeysRdfParseHtmlScript.extractAllScripts)===!1;const h=this.baseIRI.indexOf("#");this.targetScriptId=h>0?this.baseIRI.slice(h+1,this.baseIRI.length):null}static newErrorCoded(e,i){const s=new Error(e);return s.code=i,s}onEnd(){--this.endBarrier===0&&(this.textChunksJsonLd.length>0?(this.handleMediaType="application/ld+json",this.textChunks=this.textChunksJsonLd,this.textChunks.push("]"),this.textChunksJsonLd=[],this.isFinalJsonLdProcessing=!0,this.endBarrier++,this.onTagClose()):(this.passedScripts===0&&this.targetScriptId&&this.cbError(bO.newErrorCoded(`Failed to find targeted script id "${this.targetScriptId}"`,"loading document failed")),this.cbEnd()),this.isFinalJsonLdProcessing=!1)}onTagClose(){if(this.handleMediaType)if(this.requiresCustomJsonLdHandling(this.handleMediaType)&&!this.isFinalJsonLdProcessing)this.handleMediaType=void 0,this.textChunks=void 0,this.onEnd();else{const e=new t.Readable({objectMode:!0});e._read=()=>{};const i=this.textChunks,s={context:this.context,handle:{metadata:{baseIRI:this.baseIRI},data:e,headers:this.headers,context:this.context},handleMediaType:this.handleMediaType};this.mediatorRdfParseHandle.mediate(s).then(({handle:c})=>{c.data.on("error",u=>this.cbError(bO.newErrorCoded(u.message,"invalid script element"))).on("data",this.cbQuad).on("end",()=>this.onEnd());for(const u of i)e.push(u);e.push(null)}).catch(c=>{this.targetScriptId?this.cbError(bO.newErrorCoded(c.message,"loading document failed")):this.onEnd()}),this.handleMediaType=void 0,this.textChunks=void 0}}onTagOpen(e,i){e==="base"&&i.href&&(this.baseIRI=(0,o.resolve)(i.href,this.baseIRI)),e==="script"&&(!this.targetScriptId||i.id===this.targetScriptId)?this.supportedTypes[i.type]?this.onlyFirstScript&&this.passedScripts>0?this.handleMediaType=void 0:(this.passedScripts++,this.handleMediaType=i.type,this.endBarrier++,this.requiresCustomJsonLdHandling(this.handleMediaType)?(this.textChunks=this.textChunksJsonLd,this.textChunks.push(this.textChunks.length===0?"[":",")):this.textChunks=[]):this.targetScriptId&&this.cbError(bO.newErrorCoded(`Targeted script "${this.targetScriptId}" does not have a supported type`,"loading document failed")):this.handleMediaType=void 0}onText(e){this.handleMediaType&&this.textChunks.push(e)}requiresCustomJsonLdHandling(e){return!this.onlyFirstScript&&!this.targetScriptId&&e==="application/ld+json"}};return H2.HtmlScriptListener=n,H2}var lW;function $_e(){if(lW)return Q2;lW=1,Object.defineProperty(Q2,"__esModule",{value:!0}),Q2.ActorRdfParseHtmlScript=void 0;const a=jF(),t=De(),o=B_e();let n=class extends a.ActorRdfParseHtml{constructor(e){super(e)}async test(e){return(0,t.passTestVoid)()}async run(e){const i=(await this.mediatorRdfParseMediatypes.mediate({context:e.context,mediaTypes:!0})).mediaTypes;return{htmlParseListener:new o.HtmlScriptListener(this.mediatorRdfParseHandle,e.emit,e.error,e.end,i,e.context,e.baseIRI,e.headers)}}};return Q2.ActorRdfParseHtmlScript=n,Q2}var dW;function U_e(){return dW||(dW=1,function(a){var t=jl&&jl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=jl&&jl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o($_e(),a)}(jl)),jl}var Ml={},G2={},fW;function V_e(){if(fW)return G2;fW=1,Object.defineProperty(G2,"__esModule",{value:!0}),G2.ActorQueryResultSerializeRdf=void 0;const a=vi(),t=De();let o=class extends a.ActorQueryResultSerialize{constructor(r){super(r)}async testHandle(r,e,i){if(r.type!=="quads")return(0,t.failTest)(`Actor ${this.name} can only handle quad streams`);const{mediaTypes:s}=await this.mediatorMediaTypeCombiner.mediate({context:i,mediaTypes:!0});return e in s?(0,t.passTestVoid)():(0,t.failTest)(`Actor ${this.name} can not handle media type ${e}. All available types: ${Object.keys(s)}`)}async runHandle(r,e,i){return(await this.mediatorRdfSerialize.mediate({context:i,handle:{context:i,quadStream:r.quadStream},handleMediaType:e})).handle}async testMediaType(r){return(0,t.passTestVoid)()}async getMediaTypes(r){return(await this.mediatorMediaTypeCombiner.mediate({context:r,mediaTypes:!0})).mediaTypes}async testMediaTypeFormats(r){return(0,t.passTestVoid)()}async getMediaTypeFormats(r){return(await this.mediatorMediaTypeFormatCombiner.mediate({context:r,mediaTypeFormats:!0})).mediaTypeFormats}};return G2.ActorQueryResultSerializeRdf=o,G2}var hW;function Q_e(){return hW||(hW=1,function(a){var t=Ml&&Ml.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ml&&Ml.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(V_e(),a)}(Ml)),Ml}var ql={},z2={},Cl={},k2={},pW;function H_e(){if(pW)return k2;pW=1,Object.defineProperty(k2,"__esModule",{value:!0}),k2.ActorBindingsAggregatorFactory=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n),this.mediatorExpressionEvaluatorFactory=n.mediatorExpressionEvaluatorFactory}};return k2.ActorBindingsAggregatorFactory=t,k2}var X2={},yW;function G_e(){if(yW)return X2;yW=1,Object.defineProperty(X2,"__esModule",{value:!0}),X2.AggregateEvaluator=void 0;const a=tt(),t=Me(),o=$t();let n=class{constructor(e,i,s=!1){this.evaluator=e,this.distinct=i,this.throwError=s,this.errorOccurred=!1,this.errorOccurred=!1,this.superTypeProvider=e.context.getSafe(a.KeysExpressionEvaluator.superTypeProvider),this.termTransformer=new t.TermTransformer(this.superTypeProvider),this.variableValues=new Set}emptyValueTerm(){}emptyValue(){const e=this.emptyValueTerm();if(e===void 0&&this.throwError)throw new t.EmptyAggregateError;return e}async putBindings(e){if(!this.errorOccurred)try{const i=await this.evaluator.evaluate(e);if(!i||this.errorOccurred)return;(!this.distinct||!this.variableValues.has(o.termToString(i)))&&(this.putTerm(i),this.distinct&&this.variableValues.add(o.termToString(i)))}catch(i){this.safeThrow(i)}}async result(){if(!this.errorOccurred)return this.termResult()}safeThrow(e){if(this.throwError)throw e;this.errorOccurred=!0}termToNumericOrError(e){if(e.termType!=="Literal")throw new Error(`Term with value ${e.value} has type ${e.termType} and is not a numeric literal`);if(!t.isSubTypeOf(e.datatype.value,t.TypeAlias.SPARQL_NUMERIC,this.superTypeProvider))throw new Error(`Term datatype ${e.datatype.value} with value ${e.value} has type ${e.termType} and is not a numeric literal`);return this.termTransformer.transformLiteral(e)}};return X2.AggregateEvaluator=n,X2}var bW;function Xr(){return bW||(bW=1,function(a){var t=Cl&&Cl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Cl&&Cl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(H_e(),a),o(G_e(),a)}(Cl)),Cl}var W2={},_W;function mW(){if(_W)return W2;_W=1,Object.defineProperty(W2,"__esModule",{value:!0}),W2.CountAggregator=void 0;const a=Xr(),t=Me();let o=class extends a.AggregateEvaluator{constructor(r,e,i){super(r,e,i),this.state=void 0}emptyValueTerm(){return(0,t.typedLiteral)("0",t.TypeURL.XSD_INTEGER)}putTerm(r){this.state===void 0&&(this.state=0),this.state++}termResult(){return this.state===void 0?this.emptyValue():(0,t.typedLiteral)(String(this.state),t.TypeURL.XSD_INTEGER)}};return W2.CountAggregator=o,W2}var gW;function z_e(){if(gW)return z2;gW=1,Object.defineProperty(z2,"__esModule",{value:!0}),z2.ActorBindingsAggregatorFactoryCount=void 0;const a=Xr(),t=De(),o=mt(),n=mW();let r=class extends a.ActorBindingsAggregatorFactory{constructor(i){super(i)}async test(i){return i.expr.aggregator!=="count"||i.expr.expression.expressionType===o.Algebra.expressionTypes.WILDCARD?(0,t.failTest)("This actor only supports the 'count' aggregator without wildcard."):(0,t.passTestVoid)()}async run({context:i,expr:s}){return new n.CountAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:s.expression,context:i}),s.distinct)}};return z2.ActorBindingsAggregatorFactoryCount=r,z2}var vW;function k_e(){return vW||(vW=1,function(a){var t=ql&&ql.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ql&&ql.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(z_e(),a),o(mW(),a)}(ql)),ql}var Bl={},J2={},K2={},TW;function wW(){if(TW)return K2;TW=1,Object.defineProperty(K2,"__esModule",{value:!0}),K2.GroupConcatAggregator=void 0;const a=Xr(),t=Me();let o=class extends a.AggregateEvaluator{constructor(r,e,i,s,c){super(r,e,c),this.dataFactory=i,this.state=void 0,this.lastLanguageValid=!0,this.lastLanguage=void 0,this.separator=s??" "}emptyValueTerm(){return t.typedLiteral("",t.TypeURL.XSD_STRING)}putTerm(r){this.state===void 0?(this.state=r.value,r.termType==="Literal"&&(this.lastLanguage=r.language)):(this.state+=this.separator+r.value,this.lastLanguageValid&&r.termType==="Literal"&&this.lastLanguage!==r.language&&(this.lastLanguageValid=!1,this.lastLanguage=void 0))}termResult(){return this.state===void 0?this.emptyValue():this.lastLanguageValid&&this.lastLanguage?t.langString(this.state,this.lastLanguage).toRDF(this.dataFactory):t.typedLiteral(this.state,t.TypeURL.XSD_STRING)}};return K2.GroupConcatAggregator=o,K2}var SW;function X_e(){if(SW)return J2;SW=1,Object.defineProperty(J2,"__esModule",{value:!0}),J2.ActorBindingsAggregatorFactoryGroupConcat=void 0;const a=Xr(),t=tt(),o=De(),n=wW();let r=class extends a.ActorBindingsAggregatorFactory{constructor(i){super(i)}async test(i){return i.expr.aggregator!=="group_concat"?(0,o.failTest)("This actor only supports the 'group_concat' aggregator."):(0,o.passTestVoid)()}async run({context:i,expr:s}){return new n.GroupConcatAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:s.expression,context:i}),s.distinct,i.getSafe(t.KeysInitQuery.dataFactory),s.separator)}};return J2.ActorBindingsAggregatorFactoryGroupConcat=r,J2}var OW;function W_e(){return OW||(OW=1,function(a){var t=Bl&&Bl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Bl&&Bl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(X_e(),a),o(wW(),a)}(Bl)),Bl}var $l={},Y2={},Z2={},AW;function EW(){if(AW)return Z2;AW=1,Object.defineProperty(Z2,"__esModule",{value:!0}),Z2.SampleAggregator=void 0;const a=Xr();let t=class extends a.AggregateEvaluator{constructor(n,r,e){super(n,r,e),this.state=void 0}putTerm(n){this.state===void 0&&(this.state=n)}termResult(){return this.state===void 0?this.emptyValue():this.state}};return Z2.SampleAggregator=t,Z2}var xW;function J_e(){if(xW)return Y2;xW=1,Object.defineProperty(Y2,"__esModule",{value:!0}),Y2.ActorBindingsAggregatorFactorySample=void 0;const a=Xr(),t=De(),o=EW();let n=class extends a.ActorBindingsAggregatorFactory{constructor(e){super(e)}async test(e){return e.expr.aggregator!=="sample"?(0,t.failTest)("This actor only supports the 'sample' aggregator."):(0,t.passTestVoid)()}async run({context:e,expr:i}){return new o.SampleAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:i.expression,context:e}),i.distinct)}};return Y2.ActorBindingsAggregatorFactorySample=n,Y2}var IW;function K_e(){return IW||(IW=1,function(a){var t=$l&&$l.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=$l&&$l.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(J_e(),a),o(EW(),a)}($l)),$l}var Ul={},eT={},tT={},RW;function FW(){if(RW)return tT;RW=1,Object.defineProperty(tT,"__esModule",{value:!0}),tT.WildcardCountAggregator=void 0;const a=Xr(),t=Me(),o=$t();let n=class extends a.AggregateEvaluator{constructor(e,i,s){super(e,i,s),this.bindingValues=new Map,this.state=void 0}putTerm(e){}async putBindings(e){this.handleDistinct(e)||(this.state===void 0&&(this.state=0),this.state+=1)}emptyValueTerm(){return(0,t.typedLiteral)("0",t.TypeURL.XSD_INTEGER)}termResult(){return this.state===void 0?this.emptyValue():(0,t.typedLiteral)(String(this.state),t.TypeURL.XSD_INTEGER)}handleDistinct(e){if(this.distinct){const i=[...e];i.sort((f,d)=>f[0].value.localeCompare(d[0].value));const s=i.map(([f])=>f.value).join(","),c=i.map(([,f])=>o.termToString(f)).join(","),u=this.bindingValues.get(s),l=u!==void 0&&u.has(c);return u||this.bindingValues.set(s,new Set),this.bindingValues.get(s).add(c),l}return!1}};return tT.WildcardCountAggregator=n,tT}var NW;function Y_e(){if(NW)return eT;NW=1,Object.defineProperty(eT,"__esModule",{value:!0}),eT.ActorBindingsAggregatorFactoryWildcardCount=void 0;const a=Xr(),t=De(),o=FW();let n=class extends a.ActorBindingsAggregatorFactory{constructor(e){super(e)}async test(e){return e.expr.aggregator!=="count"||e.expr.expression.expressionType!=="wildcard"?(0,t.failTest)("This actor only supports the 'count' aggregator with wildcard."):(0,t.passTestVoid)()}async run({context:e,expr:i}){return new o.WildcardCountAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:i.expression,context:e}),i.distinct)}};return eT.ActorBindingsAggregatorFactoryWildcardCount=n,eT}var DW;function Z_e(){return DW||(DW=1,function(a){var t=Ul&&Ul.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ul&&Ul.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Y_e(),a),o(FW(),a)}(Ul)),Ul}var Vl={},rT={},nT={},PW;function LW(){if(PW)return nT;PW=1,Object.defineProperty(nT,"__esModule",{value:!0}),nT.AverageAggregator=void 0;const a=Xr(),t=Me();let o=class extends a.AggregateEvaluator{constructor(r,e,i,s,c,u){super(r,e,u),this.dataFactory=i,this.additionFunction=s,this.divisionFunction=c,this.state=void 0}emptyValueTerm(){return t.typedLiteral("0",t.TypeURL.XSD_INTEGER)}putTerm(r){if(this.state===void 0){const e=this.termToNumericOrError(r);this.state={sum:e,count:1}}else{const e=this.termToNumericOrError(r);this.state.sum=this.additionFunction.applyOnTerms([this.state.sum,e],this.evaluator),this.state.count++}}termResult(){if(this.state===void 0)return this.emptyValue();const r=new t.IntegerLiteral(this.state.count);return this.divisionFunction.applyOnTerms([this.state.sum,r],this.evaluator).toRDF(this.dataFactory)}};return nT.AverageAggregator=o,nT}var jW;function eme(){if(jW)return rT;jW=1,Object.defineProperty(rT,"__esModule",{value:!0}),rT.ActorBindingsAggregatorFactoryAverage=void 0;const a=Xr(),t=tt(),o=De(),n=Me(),r=LW();let e=class extends a.ActorBindingsAggregatorFactory{constructor(s){super(s),this.mediatorFunctionFactory=s.mediatorFunctionFactory}async test(s){return s.expr.aggregator!=="avg"?(0,o.failTest)("This actor only supports the 'avg' aggregator."):(0,o.passTestVoid)()}async run({context:s,expr:c}){return new r.AverageAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:c.expression,context:s}),c.distinct,s.getSafe(t.KeysInitQuery.dataFactory),await this.mediatorFunctionFactory.mediate({functionName:n.SparqlOperator.ADDITION,context:s,requireTermExpression:!0}),await this.mediatorFunctionFactory.mediate({functionName:n.SparqlOperator.DIVISION,context:s,requireTermExpression:!0}))}};return rT.ActorBindingsAggregatorFactoryAverage=e,rT}var MW;function tme(){return MW||(MW=1,function(a){var t=Vl&&Vl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Vl&&Vl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(eme(),a),o(LW(),a)}(Vl)),Vl}var Ql={},iT={},aT={},qW;function CW(){if(qW)return aT;qW=1,Object.defineProperty(aT,"__esModule",{value:!0}),aT.SumAggregator=void 0;const a=Xr(),t=Me();let o=class extends a.AggregateEvaluator{constructor(r,e,i,s,c){super(r,e,c),this.dataFactory=i,this.additionFunction=s,this.state=void 0}emptyValueTerm(){return(0,t.typedLiteral)("0",t.TypeURL.XSD_INTEGER)}putTerm(r){if(this.state===void 0)this.state=this.termToNumericOrError(r);else{const e=this.termToNumericOrError(r);this.state=this.additionFunction.applyOnTerms([this.state,e],this.evaluator)}}termResult(){return this.state===void 0?this.emptyValue():this.state.toRDF(this.dataFactory)}};return aT.SumAggregator=o,aT}var BW;function rme(){if(BW)return iT;BW=1,Object.defineProperty(iT,"__esModule",{value:!0}),iT.ActorBindingsAggregatorFactorySum=void 0;const a=Xr(),t=tt(),o=De(),n=Me(),r=CW();let e=class extends a.ActorBindingsAggregatorFactory{constructor(s){super(s),this.mediatorFunctionFactory=s.mediatorFunctionFactory}async test(s){return s.expr.aggregator!=="sum"?(0,o.failTest)("This actor only supports the 'sum' aggregator."):(0,o.passTestVoid)()}async run({expr:s,context:c}){return new r.SumAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:s.expression,context:c}),s.distinct,c.getSafe(t.KeysInitQuery.dataFactory),await this.mediatorFunctionFactory.mediate({functionName:n.SparqlOperator.ADDITION,context:c,requireTermExpression:!0}))}};return iT.ActorBindingsAggregatorFactorySum=e,iT}var $W;function nme(){return $W||($W=1,function(a){var t=Ql&&Ql.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ql&&Ql.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(rme(),a),o(CW(),a)}(Ql)),Ql}var Hl={},oT={},sT={},UW;function ime(){if(UW)return sT;UW=1,Object.defineProperty(sT,"__esModule",{value:!0}),sT.ExpressionFunctionIn=void 0;const a=$e(),t=Me();let o=class extends a.ExpressionFunctionBase{constructor(r){super({arity:Number.POSITIVE_INFINITY,operator:t.SparqlOperator.IN,apply:async e=>{const{args:i,mapping:s,exprEval:c}=e,[u,...l]=i,f=await c.evaluatorExpressionEvaluation(u,s);return await this.inRecursive(f,{...e,args:l},[])}}),this.equalityFunction=r}checkArity(r){return r.length>0}async inRecursive(r,e,i){const{args:s,mapping:c,exprEval:u}=e;if(s.length===0)return i.every(f=>!f)?(0,t.bool)(!1):Promise.reject(new t.InError(i));try{const l=s.shift(),f=await u.evaluatorExpressionEvaluation(l,c);return this.equalityFunction.applyOnTerms([r,f],u).typedValue?(0,t.bool)(!0):this.inRecursive(r,e,[...i,!1])}catch(l){return this.inRecursive(r,e,[...i,l])}}};return sT.ExpressionFunctionIn=o,sT}var VW;function ame(){if(VW)return oT;VW=1,Object.defineProperty(oT,"__esModule",{value:!0}),oT.ActorFunctionFactoryExpressionIn=void 0;const a=$e(),t=Me(),o=ime();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.IN],termFunction:!1}),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const i=await this.mediatorFunctionFactory.mediate({functionName:t.SparqlOperator.EQUAL,requireTermExpression:!0,context:e.context,arguments:e.arguments});return new o.ExpressionFunctionIn(i)}};return oT.ActorFunctionFactoryExpressionIn=n,oT}var QW;function ome(){return QW||(QW=1,function(a){var t=Hl&&Hl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Hl&&Hl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(ame(),a)}(Hl)),Hl}var Gl={},uT={},cT={},HW;function sme(){if(HW)return cT;HW=1,Object.defineProperty(cT,"__esModule",{value:!0}),cT.ExpressionFunctionNotIn=void 0;const a=$e(),t=Me();let o=class extends a.ExpressionFunctionBase{constructor(r){super({arity:Number.POSITIVE_INFINITY,operator:t.SparqlOperator.NOT_IN,apply:async e=>{const i=await this.inFunction.apply(e);return(0,t.bool)(!i.typedValue)}}),this.inFunction=r}checkArity(r){return r.length>0}};return cT.ExpressionFunctionNotIn=o,cT}var GW;function ume(){if(GW)return uT;GW=1,Object.defineProperty(uT,"__esModule",{value:!0}),uT.ActorFunctionFactoryExpressionNotIn=void 0;const a=$e(),t=Me(),o=sme();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.NOT_IN],termFunction:!1}),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const i=await this.mediatorFunctionFactory.mediate({functionName:t.SparqlOperator.IN,context:e.context,arguments:e.arguments});return new o.ExpressionFunctionNotIn(i)}};return uT.ActorFunctionFactoryExpressionNotIn=n,uT}var zW;function cme(){return zW||(zW=1,function(a){var t=Gl&&Gl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Gl&&Gl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(ume(),a)}(Gl)),Gl}var zl={},lT={},dT={},kW;function lme(){if(kW)return dT;kW=1,Object.defineProperty(dT,"__esModule",{value:!0}),dT.TermFunctionGreaterThanEqual=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(r){super({arity:2,operator:t.SparqlOperator.GTE,overloads:(0,t.declare)(t.SparqlOperator.GTE).set(["term","term"],e=>([i,s])=>this.lessThanEqualFunction.applyOnTerms([s,i],e)).collect()}),this.lessThanEqualFunction=r}};return dT.TermFunctionGreaterThanEqual=o,dT}var XW;function dme(){if(XW)return lT;XW=1,Object.defineProperty(lT,"__esModule",{value:!0}),lT.ActorFunctionFactoryTermGreaterThanEqual=void 0;const a=$e(),t=Me(),o=lme();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.GTE],termFunction:!0}),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const i=await this.mediatorFunctionFactory.mediate({functionName:t.SparqlOperator.LTE,requireTermExpression:!0,context:e.context,arguments:e.arguments});return new o.TermFunctionGreaterThanEqual(i)}};return lT.ActorFunctionFactoryTermGreaterThanEqual=n,lT}var WW;function fme(){return WW||(WW=1,function(a){var t=zl&&zl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=zl&&zl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(dme(),a)}(zl)),zl}var kl={},fT={},hT={},JW;function hme(){if(JW)return hT;JW=1,Object.defineProperty(hT,"__esModule",{value:!0}),hT.TermFunctionGreaterThan=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(r){super({arity:2,operator:t.SparqlOperator.GT,overloads:(0,t.declare)(t.SparqlOperator.GT).set(["term","term"],e=>([i,s])=>this.lessThanFunction.applyOnTerms([s,i],e)).collect()}),this.lessThanFunction=r}};return hT.TermFunctionGreaterThan=o,hT}var KW;function pme(){if(KW)return fT;KW=1,Object.defineProperty(fT,"__esModule",{value:!0}),fT.ActorFunctionFactoryTermGreaterThan=void 0;const a=$e(),t=Me(),o=hme();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.GT],termFunction:!0}),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const i=await this.mediatorFunctionFactory.mediate({functionName:t.SparqlOperator.LT,requireTermExpression:!0,context:e.context,arguments:e.arguments});return new o.TermFunctionGreaterThan(i)}};return fT.ActorFunctionFactoryTermGreaterThan=n,fT}var YW;function yme(){return YW||(YW=1,function(a){var t=kl&&kl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=kl&&kl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(pme(),a)}(kl)),kl}var Xl={},pT={},yT={},ZW;function bme(){if(ZW)return yT;ZW=1,Object.defineProperty(yT,"__esModule",{value:!0}),yT.TermFunctionInequality=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(r){super({arity:2,operator:t.SparqlOperator.NOT_EQUAL,overloads:(0,t.declare)(t.SparqlOperator.NOT_EQUAL).set(["term","term"],e=>([i,s])=>(0,t.bool)(!this.equalityFunction.applyOnTerms([i,s],e).typedValue)).collect()}),this.equalityFunction=r}};return yT.TermFunctionInequality=o,yT}var eJ;function _me(){if(eJ)return pT;eJ=1,Object.defineProperty(pT,"__esModule",{value:!0}),pT.ActorFunctionFactoryTermInequality=void 0;const a=$e(),t=Me(),o=bme();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.NOT_EQUAL],termFunction:!0}),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const i=await this.mediatorFunctionFactory.mediate({functionName:t.SparqlOperator.EQUAL,requireTermExpression:!0,context:e.context,arguments:e.arguments});return new o.TermFunctionInequality(i)}};return pT.ActorFunctionFactoryTermInequality=n,pT}var tJ;function mme(){return tJ||(tJ=1,function(a){var t=Xl&&Xl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Xl&&Xl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(_me(),a)}(Xl)),Xl}var Wl={},bT={},_T={},rJ;function gme(){if(rJ)return _T;rJ=1,Object.defineProperty(_T,"__esModule",{value:!0}),_T.TermFunctionLesserThanEqual=void 0;const a=$e(),t=Me();let o=class extends a.TermFunctionBase{constructor(r,e){super({arity:2,operator:t.SparqlOperator.LTE,overloads:(0,t.declare)(t.SparqlOperator.LTE).set(["term","term"],i=>([s,c])=>(0,t.bool)(this.lessThanFunction.applyOnTerms([s,c],i).typedValue||this.equalityFunction.applyOnTerms([s,c],i).typedValue)).collect()}),this.equalityFunction=r,this.lessThanFunction=e}};return _T.TermFunctionLesserThanEqual=o,_T}var nJ;function vme(){if(nJ)return bT;nJ=1,Object.defineProperty(bT,"__esModule",{value:!0}),bT.ActorFunctionFactoryTermLesserThanEqual=void 0;const a=$e(),t=Me(),o=gme();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.LTE],termFunction:!0}),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const i=await this.mediatorFunctionFactory.mediate({functionName:t.SparqlOperator.EQUAL,requireTermExpression:!0,context:e.context,arguments:e.arguments}),s=await this.mediatorFunctionFactory.mediate({functionName:t.SparqlOperator.LT,requireTermExpression:!0,context:e.context,arguments:e.arguments});return new o.TermFunctionLesserThanEqual(i,s)}};return bT.ActorFunctionFactoryTermLesserThanEqual=n,bT}var iJ;function Tme(){return iJ||(iJ=1,function(a){var t=Wl&&Wl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Wl&&Wl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(vme(),a)}(Wl)),Wl}var Jl={},mT={},gT={},aJ;function wme(){if(aJ)return gT;aJ=1,Object.defineProperty(gT,"__esModule",{value:!0}),gT.TermFunctionLesserThan=void 0;const a=$e(),t=tt(),o=Me();let n=class extends a.TermFunctionBase{constructor(e){super({arity:2,operator:o.SparqlOperator.LT,overloads:(0,o.declare)(o.SparqlOperator.LT).numberTest(()=>(i,s)=>i<s).stringTest(()=>(i,s)=>i.localeCompare(s)===-1).booleanTest(()=>(i,s)=>i<s).dateTimeTest(i=>(s,c)=>(0,o.toUTCDate)(s,i.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)).getTime()<(0,o.toUTCDate)(c,i.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)).getTime()).copy({from:[o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_DATE_TIME],to:[o.TypeURL.XSD_DATE,o.TypeURL.XSD_DATE]}).set([o.TypeURL.XSD_YEAR_MONTH_DURATION,o.TypeURL.XSD_YEAR_MONTH_DURATION],()=>([i,s])=>(0,o.bool)((0,o.yearMonthDurationsToMonths)((0,o.defaultedYearMonthDurationRepresentation)(i.typedValue))<(0,o.yearMonthDurationsToMonths)((0,o.defaultedYearMonthDurationRepresentation)(s.typedValue)))).set([o.TypeURL.XSD_DAY_TIME_DURATION,o.TypeURL.XSD_DAY_TIME_DURATION],()=>([i,s])=>(0,o.bool)((0,o.dayTimeDurationsToSeconds)((0,o.defaultedDayTimeDurationRepresentation)(i.typedValue))<(0,o.dayTimeDurationsToSeconds)((0,o.defaultedDayTimeDurationRepresentation)(s.typedValue)))).set([o.TypeURL.XSD_TIME,o.TypeURL.XSD_TIME],i=>([s,c])=>(0,o.bool)((0,o.toUTCDate)((0,o.defaultedDateTimeRepresentation)(s.typedValue),i.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)).getTime()<(0,o.toUTCDate)((0,o.defaultedDateTimeRepresentation)(c.typedValue),i.context.getSafe(t.KeysExpressionEvaluator.defaultTimeZone)).getTime())).set(["quad","quad"],i=>([s,c])=>{const u=this.quadComponentTest(s.subject,c.subject,i);if(u!==void 0)return(0,o.bool)(u);const l=this.quadComponentTest(s.predicate,c.predicate,i);if(l!==void 0)return(0,o.bool)(l);const f=this.quadComponentTest(s.object,c.object,i);return f!==void 0?(0,o.bool)(f):(0,o.bool)(this.quadComponentTest(s.graph,c.graph,i)??!1)},!1).collect()}),this.equalityFunction=e}quadComponentTest(e,i,s){return this.equalityFunction.applyOnTerms([e,i],s).typedValue?void 0:this.applyOnTerms([e,i],s).typedValue}};return gT.TermFunctionLesserThan=n,gT}var oJ;function Sme(){if(oJ)return mT;oJ=1,Object.defineProperty(mT,"__esModule",{value:!0}),mT.ActorFunctionFactoryTermLesserThan=void 0;const a=$e(),t=Me(),o=wme();let n=class extends a.ActorFunctionFactoryDedicated{constructor(e){super({...e,functionNames:[t.SparqlOperator.LT],termFunction:!0}),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const i=await this.mediatorFunctionFactory.mediate({functionName:t.SparqlOperator.EQUAL,requireTermExpression:!0,context:e.context,arguments:e.arguments});return new o.TermFunctionLesserThan(i)}};return mT.ActorFunctionFactoryTermLesserThan=n,mT}var sJ;function Ome(){return sJ||(sJ=1,function(a){var t=Jl&&Jl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Jl&&Jl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Sme(),a)}(Jl)),Jl}var Kl={},vT={},uJ;function Ame(){if(uJ)return vT;uJ=1,Object.defineProperty(vT,"__esModule",{value:!0}),vT.ActorHttpWayback=void 0;const a=wa(),t=tt(),o=De(),n=Ch(),r="http://wayback.archive-it.org/";function e(c){const u=new Request(c.input,c.init);return{input:new Request(new URL(`/${u.url}`,r),u)}}function i(c){const u=c.get(t.KeysHttpProxy.httpProxyHandler);return u?l=>u.getProxy(e(l)):l=>Promise.resolve(e(l))}let s=class extends a.ActorHttp{constructor(u){super(u)}async test(u){return(0,o.passTestVoid)()}async run(u){let l=await this.mediatorHttp.mediate(u);if(l.status===404&&u.context.get(t.KeysHttpWayback.recoverBrokenLinks)){let f=await this.mediatorHttp.mediate({...u,context:u.context.set(t.KeysHttpWayback.recoverBrokenLinks,!1).set(t.KeysHttpProxy.httpProxyHandler,{getProxy:i(u.context)})});f.status===200&&([l,f]=[f,l]);const{body:d}=f;d&&("cancel"in d&&typeof d.cancel=="function"?await d.cancel():"destroy"in d&&typeof d.destroy=="function"?d.destroy():await(0,n.stringify)(a.ActorHttp.toNodeReadable(d)))}return l}};return vT.ActorHttpWayback=s,vT}var cJ;function Eme(){return cJ||(cJ=1,function(a){var t=Kl&&Kl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Kl&&Kl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Ame(),a)}(Kl)),Kl}var Yl={},TT={},Zl={},wT={},ed={},ST={},yN={},lJ;function OT(){return lJ||(lJ=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ERROR_CODES=a.ErrorCoded=void 0;class t extends Error{constructor(n,r){super(n),this.code=r}}a.ErrorCoded=t,function(o){o.COLLIDING_KEYWORDS="colliding keywords",o.CONFLICTING_INDEXES="conflicting indexes",o.CYCLIC_IRI_MAPPING="cyclic IRI mapping",o.INVALID_ID_VALUE="invalid @id value",o.INVALID_INDEX_VALUE="invalid @index value",o.INVALID_NEST_VALUE="invalid @nest value",o.INVALID_PREFIX_VALUE="invalid @prefix value",o.INVALID_PROPAGATE_VALUE="invalid @propagate value",o.INVALID_REVERSE_VALUE="invalid @reverse value",o.INVALID_IMPORT_VALUE="invalid @import value",o.INVALID_VERSION_VALUE="invalid @version value",o.INVALID_BASE_IRI="invalid base IRI",o.INVALID_CONTAINER_MAPPING="invalid container mapping",o.INVALID_CONTEXT_ENTRY="invalid context entry",o.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",o.INVALID_DEFAULT_LANGUAGE="invalid default language",o.INVALID_INCLUDED_VALUE="invalid @included value",o.INVALID_IRI_MAPPING="invalid IRI mapping",o.INVALID_JSON_LITERAL="invalid JSON literal",o.INVALID_KEYWORD_ALIAS="invalid keyword alias",o.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",o.INVALID_LANGUAGE_MAPPING="invalid language mapping",o.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",o.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",o.INVALID_LOCAL_CONTEXT="invalid local context",o.INVALID_REMOTE_CONTEXT="invalid remote context",o.INVALID_REVERSE_PROPERTY="invalid reverse property",o.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",o.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",o.INVALID_SCOPED_CONTEXT="invalid scoped context",o.INVALID_SCRIPT_ELEMENT="invalid script element",o.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",o.INVALID_TERM_DEFINITION="invalid term definition",o.INVALID_TYPE_MAPPING="invalid type mapping",o.INVALID_TYPE_VALUE="invalid type value",o.INVALID_TYPED_VALUE="invalid typed value",o.INVALID_VALUE_OBJECT="invalid value object",o.INVALID_VALUE_OBJECT_VALUE="invalid value object value",o.INVALID_VOCAB_MAPPING="invalid vocab mapping",o.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",o.KEYWORD_REDEFINITION="keyword redefinition",o.LOADING_DOCUMENT_FAILED="loading document failed",o.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",o.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",o.PROCESSING_MODE_CONFLICT="processing mode conflict",o.PROTECTED_TERM_REDEFINITION="protected term redefinition",o.CONTEXT_OVERFLOW="context overflow",o.INVALID_BASE_DIRECTION="invalid base direction",o.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",o.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",o.INVALID_EMBEDDED_NODE="invalid embedded node",o.INVALID_ANNOTATION="invalid annotation"}(a.ERROR_CODES||(a.ERROR_CODES={}))}(yN)),yN}var AT={},dJ;function fJ(){if(dJ)return AT;dJ=1,Object.defineProperty(AT,"__esModule",{value:!0}),AT.FetchDocumentLoader=void 0;const a=OT(),t=R1(),o=Sr();class n{constructor(e){this.fetcher=e}async load(e){const i=await(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(i.ok&&i.headers){let s=i.headers.get("Content-Type");if(s){const c=s.indexOf(";");c>0&&(s=s.substr(0,c))}if(s==="application/ld+json")return await i.json();if(i.headers.has("Link")){let c;if(i.headers.forEach((u,l)=>{if(l==="link"){const f=(0,t.parse)(u);for(const d of f.get("type","application/ld+json"))if(d.rel==="alternate"){if(c)throw new Error("Multiple JSON-LD alternate links were found on "+e);c=(0,o.resolve)(d.uri,e)}}}),c)return this.load(c)}throw new a.ErrorCoded(`Unsupported JSON-LD media type ${s}`,a.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(i.statusText||`Status code: ${i.status}`)}}return AT.FetchDocumentLoader=n,AT}var bN={},ET={},hJ;function _N(){if(hJ)return ET;hJ=1,Object.defineProperty(ET,"__esModule",{value:!0}),ET.Util=void 0;class a{static isCompactIri(o){return o.indexOf(":")>0&&!(o&&o[0]==="#")}static getPrefix(o,n){if(o&&o[0]==="#")return null;const r=o.indexOf(":");if(r>=0){if(o.length>r+1&&o.charAt(r+1)==="/"&&o.charAt(r+2)==="/")return null;const e=o.substr(0,r);if(e==="_")return null;if(n[e])return e}return null}static getContextValueId(o){if(o===null||typeof o=="string")return o;const n=o["@id"];return n||null}static isSimpleTermDefinitionPrefix(o,n){return!a.isPotentialKeyword(o)&&(n.allowPrefixNonGenDelims||typeof o=="string"&&(o[0]==="_"||a.isPrefixIriEndingWithGenDelim(o)))}static isPotentialKeyword(o){return typeof o=="string"&&a.KEYWORD_REGEX.test(o)}static isPrefixIriEndingWithGenDelim(o){return a.ENDS_WITH_GEN_DELIM.test(o)}static isPrefixValue(o){return o&&(typeof o=="string"||o&&typeof o=="object")}static isValidIri(o){return!!(o&&a.IRI_REGEX.test(o))}static isValidIriWeak(o){return!!o&&o[0]!==":"&&a.IRI_REGEX_WEAK.test(o)}static isValidKeyword(o){return a.VALID_KEYWORDS[o]}static isTermProtected(o,n){const r=o[n];return typeof r!="string"&&r&&r["@protected"]}static hasProtectedTerms(o){for(const n of Object.keys(o))if(a.isTermProtected(o,n))return!0;return!1}static isReservedInternalKeyword(o){return o.startsWith("@__")}static deepEqual(o,n){const r=Object.keys(o),e=Object.keys(n);return r.length!==e.length?!1:r.every(i=>{const s=o[i],c=n[i];return s===c||s!==null&&c!==null&&typeof s=="object"&&typeof c=="object"&&this.deepEqual(s,c)})}}return a.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,a.IRI_REGEX_WEAK=/(?::[^:])|\//,a.KEYWORD_REGEX=/^@[a-z]+$/i,a.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,a.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,a.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,a.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},a.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],a.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],a.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],a.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],a.CONTAINERS_1_0=["@list","@set","@index"],ET.Util=a,ET}var pJ;function yJ(){return pJ||(pJ=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.defaultExpandOptions=a.JsonLdContextNormalized=void 0;const t=Sr(),o=OT(),n=_N();class r{constructor(i){this.contextRaw=i}getContextRaw(){return this.contextRaw}expandTerm(i,s,c=a.defaultExpandOptions){const u=this.contextRaw[i];if(u===null||u&&u["@id"]===null)return null;let l=!0;if(u&&s){const g=n.Util.getContextValueId(u);if(g&&g!==i)if(typeof g!="string"||!n.Util.isValidIri(g)&&!n.Util.isValidKeyword(g))n.Util.isPotentialKeyword(g)||(l=!1);else return g}const f=n.Util.getPrefix(i,this.contextRaw),d=this.contextRaw["@vocab"],h=(!!d||d==="")&&d.indexOf(":")<0,p=this.contextRaw["@base"],_=n.Util.isPotentialKeyword(i);if(f){const g=this.contextRaw[f],y=n.Util.getContextValueId(g);if(y){if(typeof g=="string"||!c.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(y,c))return i}else if(y[0]!=="_"&&!_&&!g["@prefix"]&&!(i in this.contextRaw))return i;return y+i.substr(f.length+1)}}else if(s&&(d||d===""||c.allowVocabRelativeToBase&&p&&h)&&!_&&!n.Util.isCompactIri(i))if(h){if(c.allowVocabRelativeToBase)return(d||p?(0,t.resolve)(d,p):"")+i;throw new o.ErrorCoded(`Relative vocab expansion for term '${i}' with vocab '${d}' is not allowed.`,o.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return d+i;else if(!s&&p&&!_&&!n.Util.isCompactIri(i))return(0,t.resolve)(i,p);if(l)return i;throw new o.ErrorCoded(`Invalid IRI mapping found for context entry '${i}': '${JSON.stringify(u)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(i,s){if(s&&this.contextRaw["@vocab"]&&i.startsWith(this.contextRaw["@vocab"]))return i.substr(this.contextRaw["@vocab"].length);if(!s&&this.contextRaw["@base"]&&i.startsWith(this.contextRaw["@base"]))return i.substr(this.contextRaw["@base"].length);const c={prefix:"",suffix:i};for(const u in this.contextRaw){const l=this.contextRaw[u];if(l&&!n.Util.isPotentialKeyword(u)){const f=n.Util.getContextValueId(l);if(i.startsWith(f)){const d=i.substr(f.length);if(d)d.length<c.suffix.length&&(c.prefix=u,c.suffix=d);else if(s)return u}}}return c.prefix?c.prefix+":"+c.suffix:i}}a.JsonLdContextNormalized=r,a.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(bN)),bN}var bJ;function xme(){if(bJ)return ST;bJ=1,Object.defineProperty(ST,"__esModule",{value:!0}),ST.ContextParser=void 0;const a=Sr(),t=OT(),o=fJ(),n=yJ(),r=_N();class e{constructor(s){s=s||{},this.documentLoader=s.documentLoader||new o.FetchDocumentLoader,this.documentCache={},this.validateContext=!s.skipValidation,this.expandContentTypeToBase=!!s.expandContentTypeToBase,this.remoteContextsDepthLimit=s.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in s?!!s.redirectSchemaOrgHttps:!0}static validateLanguage(s,c,u){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(s)}'`,u);if(!r.Util.REGEX_LANGUAGE_TAG.test(s)){if(c)throw new t.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(s)}'`,u);return!1}return!0}static validateDirection(s,c){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);if(!r.Util.REGEX_DIRECTION_TAG.test(s)){if(c)throw new t.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(s){for(const c of Object.keys(s)){let u=s[c];if(u&&typeof u=="object"&&u["@reverse"]&&!u["@id"]){if(typeof u["@reverse"]!="string"||r.Util.isValidKeyword(u["@reverse"]))throw new t.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${u["@reverse"]}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);u=s[c]=Object.assign(Object.assign({},u),{"@id":u["@reverse"]}),u["@id"]=u["@reverse"],r.Util.isPotentialKeyword(u["@reverse"])?delete u["@reverse"]:u["@reverse"]=!0}}return s}expandPrefixedTerms(s,c,u){const l=s.getContextRaw();for(const f of u||Object.keys(l))if(r.Util.EXPAND_KEYS_BLACKLIST.indexOf(f)<0&&!r.Util.isReservedInternalKeyword(f)){const d=l[f];if(r.Util.isPotentialKeyword(f)&&r.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(f)>=0&&(f!=="@type"||typeof l[f]=="object"&&!(l[f]["@protected"]||l[f]["@container"]==="@set")))throw new t.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${f} to ${JSON.stringify(d)}`,t.ERROR_CODES.KEYWORD_REDEFINITION);if(r.Util.ALIAS_RANGE_BLACKLIST.indexOf(r.Util.getContextValueId(d))>=0)throw new t.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${f} to ${JSON.stringify(d)}`,t.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(d&&r.Util.isPotentialKeyword(r.Util.getContextValueId(d))&&d["@prefix"]===!0)throw new t.ErrorCoded(`Tried to use keyword aliases as prefix: '${f}': '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);for(;r.Util.isPrefixValue(l[f]);){const h=l[f];let p=!1;if(typeof h=="string")l[f]=s.expandTerm(h,!0),p=p||h!==l[f];else{const _=h["@id"],g=h["@type"],y=!("@prefix"in h)||r.Util.isValidIri(f);if("@id"in h)_!=null&&typeof _=="string"&&(l[f]=Object.assign(Object.assign({},l[f]),{"@id":s.expandTerm(_,!0)}),p=p||_!==l[f]["@id"]);else if(!r.Util.isPotentialKeyword(f)&&y){const m=s.expandTerm(f,!0);m!==f&&(l[f]=Object.assign(Object.assign({},l[f]),{"@id":m}),p=!0)}if(g&&typeof g=="string"&&g!=="@vocab"&&(!h["@container"]||!h["@container"]["@type"])&&y){let m=s.expandTerm(g,!0);c&&g===m&&(m=s.expandTerm(g,!1)),m!==g&&(p=!0,l[f]=Object.assign(Object.assign({},l[f]),{"@type":m}))}}if(!p)break}}}normalize(s,{processingMode:c,normalizeLanguageTags:u}){if(u||c===1)for(const l of Object.keys(s))if(l==="@language"&&typeof s[l]=="string")s[l]=s[l].toLowerCase();else{const f=s[l];if(f&&typeof f=="object"&&typeof f["@language"]=="string"){const d=f["@language"].toLowerCase();d!==f["@language"]&&(s[l]=Object.assign(Object.assign({},f),{"@language":d}))}}}containersToHash(s){for(const c of Object.keys(s)){const u=s[c];if(u&&typeof u=="object"){if(typeof u["@container"]=="string")s[c]=Object.assign(Object.assign({},u),{"@container":{[u["@container"]]:!0}});else if(Array.isArray(u["@container"])){const l={};for(const f of u["@container"])l[f]=!0;s[c]=Object.assign(Object.assign({},u),{"@container":l})}}}}applyScopedProtected(s,{processingMode:c},u){if(c&&c>=1.1&&s["@protected"]){for(const l of Object.keys(s))if(!r.Util.isReservedInternalKeyword(l)&&!r.Util.isPotentialKeyword(l)&&!r.Util.isTermProtected(s,l)){const f=s[l];f&&typeof f=="object"?"@protected"in s[l]||(s[l]=Object.assign(Object.assign({},s[l]),{"@protected":!0})):(s[l]={"@id":f,"@protected":!0},r.Util.isSimpleTermDefinitionPrefix(f,u)&&(s[l]=Object.assign(Object.assign({},s[l]),{"@prefix":!0})))}delete s["@protected"]}}validateKeywordRedefinitions(s,c,u,l){for(const f of l??Object.keys(c))if(r.Util.isTermProtected(s,f)&&(typeof c[f]=="string"?c[f]={"@id":c[f],"@protected":!0}:c[f]=Object.assign(Object.assign({},c[f]),{"@protected":!0}),!r.Util.deepEqual(s[f],c[f])))throw new t.ErrorCoded(`Attempted to override the protected keyword ${f} from ${JSON.stringify(r.Util.getContextValueId(s[f]))} to ${JSON.stringify(r.Util.getContextValueId(c[f]))}`,t.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(s,{processingMode:c}){for(const u of Object.keys(s)){if(r.Util.isReservedInternalKeyword(u))continue;if(u==="")throw new t.ErrorCoded(`The empty term is not allowed, got: '${u}': '${JSON.stringify(s[u])}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);const l=s[u],f=typeof l;if(r.Util.isPotentialKeyword(u)){switch(u.substr(1)){case"vocab":if(l!==null&&f!=="string")throw new t.ErrorCoded(`Found an invalid @vocab IRI: ${l}`,t.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(l!==null&&f!=="string")throw new t.ErrorCoded(`Found an invalid @base IRI: ${s[u]}`,t.ERROR_CODES.INVALID_BASE_IRI);break;case"language":l!==null&&e.validateLanguage(l,!0,t.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(l!==null&&f!=="number")throw new t.ErrorCoded(`Found an invalid @version number: ${l}`,t.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":l!==null&&e.validateDirection(l,!0);break;case"propagate":if(c===1)throw new t.ErrorCoded(`Found an illegal @propagate keyword: ${l}`,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(l!==null&&f!=="boolean")throw new t.ErrorCoded(`Found an invalid @propagate value: ${l}`,t.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(r.Util.isValidKeyword(u)&&r.Util.isValidKeyword(r.Util.getContextValueId(l)))throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${r.Util.getContextValueId(l)}'`,t.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(l!==null)switch(f){case"string":if(r.Util.getPrefix(l,s)===u)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);if(r.Util.isValidIriWeak(u)){if(l==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${l}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(l)&&l!==new n.JsonLdContextNormalized(s).expandTerm(u))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${l}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!r.Util.isCompactIri(u)&&!("@id"in l)&&(l["@type"]==="@id"?!s["@base"]:!s["@vocab"]))throw new t.ErrorCoded(`Missing @id in context entry: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);for(const d of Object.keys(l)){const h=l[d];if(h)switch(d){case"@id":if(r.Util.isValidKeyword(h)&&h!=="@type"&&h!=="@id"&&h!=="@graph"&&h!=="@nest")throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIriWeak(u)){if(h==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(h)&&h!==new n.JsonLdContextNormalized(s).expandTerm(u))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof h!="string")throw new t.ErrorCoded(`Detected non-string @id in context entry: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.getPrefix(h,s)===u)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(l["@container"]==="@type"&&h!=="@id"&&h!=="@vocab")throw new t.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${u}': '${h}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof h!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(h!=="@id"&&h!=="@vocab"&&(c===1||h!=="@json")&&(c===1||h!=="@none")&&(h[0]==="_"||!r.Util.isValidIri(h)))throw new t.ErrorCoded(`A context @type must be an absolute IRI, found: '${u}': '${h}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof h=="string"&&l["@id"]&&l["@id"]!==h)throw new t.ErrorCoded(`Found non-matching @id and @reverse term values in '${u}':'${h}' and '${l["@id"]}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in l)throw new t.ErrorCoded(`@nest is not allowed in the reverse property '${u}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(c===1&&(Object.keys(h).length>1||r.Util.CONTAINERS_1_0.indexOf(Object.keys(h)[0])<0))throw new t.ErrorCoded(`Invalid term @container for '${u}' ('${Object.keys(h)}') in 1.0, must be only one of ${r.Util.CONTAINERS_1_0.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const p of Object.keys(h)){if(p==="@list"&&l["@reverse"])throw new t.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${u}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(r.Util.CONTAINERS.indexOf(p)<0)throw new t.ErrorCoded(`Invalid term @container for '${u}' ('${p}'), must be one of ${r.Util.CONTAINERS.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":e.validateLanguage(h,!0,t.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":e.validateDirection(h,!0);break;case"@prefix":if(h!==null&&typeof h!="boolean")throw new t.ErrorCoded(`Found an invalid term @prefix boolean in: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in l)&&!r.Util.isValidIri(u))throw new t.ErrorCoded(`Invalid @prefix definition for '${u}' ('${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(c===1||!l["@container"]||!l["@container"]["@index"])throw new t.ErrorCoded(`Attempt to add illegal key to value object: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(r.Util.isPotentialKeyword(h)&&h!=="@nest")throw new t.ErrorCoded(`Found an invalid term @nest value in: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new t.ErrorCoded(`Found an invalid term value: '${u}': '${l}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(s,c,u){return typeof s=="string"||(u&&!("@base"in s)&&c.parentContext&&typeof c.parentContext=="object"&&"@base"in c.parentContext&&(s["@base"]=c.parentContext["@base"],c.parentContext["@__baseDocument"]&&(s["@__baseDocument"]=!0)),c.baseIRI&&!c.external&&("@base"in s?s["@base"]!==null&&typeof s["@base"]=="string"&&!r.Util.isValidIri(s["@base"])&&(s["@base"]=(0,a.resolve)(s["@base"],c.parentContext&&c.parentContext["@base"]||c.baseIRI)):(s["@base"]=c.baseIRI,s["@__baseDocument"]=!0))),s}normalizeContextIri(s,c){if(!r.Util.isValidIri(s))try{s=(0,a.resolve)(s,c)}catch{throw new Error(`Invalid context IRI: ${s}`)}return this.redirectSchemaOrgHttps&&s.startsWith("http://schema.org")&&(s="https://schema.org/"),s}async parseInnerContexts(s,c,u){for(const l of u??Object.keys(s)){const f=s[l];if(f&&typeof f=="object"&&"@context"in f&&f["@context"]!==null&&!c.ignoreScopedContexts){if(this.validateContext)try{const d=Object.assign(Object.assign({},s),{[l]:Object.assign({},s[l])});delete d[l]["@context"],await this.parse(f["@context"],Object.assign(Object.assign({},c),{external:!1,parentContext:d,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(d){throw new t.ErrorCoded(d.message,t.ERROR_CODES.INVALID_SCOPED_CONTEXT)}s[l]=Object.assign(Object.assign({},f),{"@context":(await this.parse(f["@context"],Object.assign(Object.assign({},c),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:s}))).getContextRaw()})}}return s}async parse(s,c={},u={}){const{baseIRI:l,parentContext:f,external:d,processingMode:h=e.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:p,ignoreProtection:_,minimalProcessing:g}=c,y=c.remoteContexts||{};if(Object.keys(y).length>=this.remoteContextsDepthLimit)throw new t.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(y),t.ERROR_CODES.CONTEXT_OVERFLOW);if(s==null){if(!_&&f&&r.Util.hasProtectedTerms(f))throw new t.ErrorCoded("Illegal context nullification when terms are protected",t.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new n.JsonLdContextNormalized(this.applyBaseEntry({},c,!1))}else if(typeof s=="string"){const m=this.normalizeContextIri(s,l),b=this.getOverriddenLoad(m,c);if(b)return new n.JsonLdContextNormalized(b);const T=await this.parse(await this.load(m),Object.assign(Object.assign({},c),{baseIRI:m,external:!0,remoteContexts:Object.assign(Object.assign({},y),{[m]:!0})}));return this.applyBaseEntry(T.getContextRaw(),c,!0),T}else if(Array.isArray(s)){const m=[],b=await Promise.all(s.map((w,O)=>{if(typeof w=="string"){const F=this.normalizeContextIri(w,l);m[O]=F;const Q=this.getOverriddenLoad(F,c);return Q||this.load(F)}else return w}));if(g)return new n.JsonLdContextNormalized(b);const T=await b.reduce((w,O,F)=>w.then(Q=>this.parse(O,Object.assign(Object.assign({},c),{baseIRI:m[F]||c.baseIRI,external:!!m[F]||c.external,parentContext:Q.getContextRaw(),remoteContexts:m[F]?Object.assign(Object.assign({},y),{[m[F]]:!0}):y}),{skipValidation:F<b.length-1})),Promise.resolve(new n.JsonLdContextNormalized(f||{})));return this.applyBaseEntry(T.getContextRaw(),c,!0),T}else if(typeof s=="object"){if("@context"in s)return await this.parse(s["@context"],c);if(s=Object.assign({},s),d&&delete s["@base"],this.applyBaseEntry(s,c,!0),this.containersToHash(s),g)return new n.JsonLdContextNormalized(s);let m={};if("@import"in s)if(h>=1.1){if(typeof s["@import"]!="string")throw new t.ErrorCoded("An @import value must be a string, but got "+typeof s["@import"],t.ERROR_CODES.INVALID_IMPORT_VALUE);m=await this.loadImportContext(this.normalizeContextIri(s["@import"],l)),delete s["@import"]}else throw new t.ErrorCoded("Context importing is not supported in JSON-LD 1.0",t.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(m,{processingMode:h},n.defaultExpandOptions);const b=Object.assign(m,s);this.idifyReverseTerms(b),this.normalize(b,{processingMode:h,normalizeLanguageTags:p}),this.applyScopedProtected(b,{processingMode:h},n.defaultExpandOptions);const T=Object.keys(b),w=[];if(typeof f=="object")for(const F in f)F in b?w.push(F):b[F]=f[F];await this.parseInnerContexts(b,c,T);const O=new n.JsonLdContextNormalized(b);return(b&&b["@version"]||e.DEFAULT_PROCESSING_MODE)>=1.1&&(s["@vocab"]&&typeof s["@vocab"]=="string"||s["@vocab"]==="")&&(f&&"@vocab"in f&&s["@vocab"].indexOf(":")<0?b["@vocab"]=f["@vocab"]+s["@vocab"]:(r.Util.isCompactIri(s["@vocab"])||s["@vocab"]in b)&&(b["@vocab"]=O.expandTerm(s["@vocab"],!0))),this.expandPrefixedTerms(O,this.expandContentTypeToBase,T),!_&&f&&h>=1.1&&this.validateKeywordRedefinitions(f,b,n.defaultExpandOptions,w),this.validateContext&&!u.skipValidation&&this.validate(b,{processingMode:h}),O}else throw new t.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${s}`,t.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(s){const c=this.documentCache[s];if(c)return c;let u;try{u=await this.documentLoader.load(s)}catch(l){throw new t.ErrorCoded(`Failed to load remote context ${s}: ${l.message}`,t.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in u))throw new t.ErrorCoded(`Missing @context in remote context at ${s}`,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[s]=u["@context"]}getOverriddenLoad(s,c){if(s in(c.remoteContexts||{})){if(c.ignoreRemoteScopedContexts)return s;throw new t.ErrorCoded("Detected a cyclic context inclusion of "+s,t.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(s){let c=await this.load(s);if(typeof c!="object"||Array.isArray(c))throw new t.ErrorCoded("An imported context must be a single object: "+s,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in c)throw new t.ErrorCoded("An imported context can not import another context: "+s,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);return c=Object.assign({},c),this.containersToHash(c),c}}return e.DEFAULT_PROCESSING_MODE=1.1,ST.ContextParser=e,ST}var mN={},_J;function Ime(){return _J||(_J=1,Object.defineProperty(mN,"__esModule",{value:!0})),mN}var gN={},mJ;function Rme(){return mJ||(mJ=1,Object.defineProperty(gN,"__esModule",{value:!0})),gN}var gJ;function hn(){return gJ||(gJ=1,function(a){var t=ed&&ed.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ed&&ed.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(xme(),a),o(OT(),a),o(fJ(),a),o(Ime(),a),o(Rme(),a),o(yJ(),a),o(_N(),a)}(ed)),ed}var xT={},IT={},td={},RT={},vJ;function TJ(){if(vJ)return RT;vJ=1,Object.defineProperty(RT,"__esModule",{value:!0}),RT.BlankNode=void 0;class a{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}}return RT.BlankNode=a,RT}var FT={},NT={},wJ;function SJ(){if(wJ)return NT;wJ=1,Object.defineProperty(NT,"__esModule",{value:!0}),NT.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}return NT.DefaultGraph=a,a.INSTANCE=new a,NT}var DT={},PT={},OJ;function vN(){if(OJ)return PT;OJ=1,Object.defineProperty(PT,"__esModule",{value:!0}),PT.NamedNode=void 0;class a{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}}return PT.NamedNode=a,PT}var AJ;function EJ(){if(AJ)return DT;AJ=1,Object.defineProperty(DT,"__esModule",{value:!0}),DT.Literal=void 0;const a=vN();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return DT.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),DT}var LT={},xJ;function IJ(){if(xJ)return LT;xJ=1,Object.defineProperty(LT,"__esModule",{value:!0}),LT.Quad=void 0;class a{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}}return LT.Quad=a,LT}var jT={},RJ;function FJ(){if(RJ)return jT;RJ=1,Object.defineProperty(jT,"__esModule",{value:!0}),jT.Variable=void 0;class a{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}}return jT.Variable=a,jT}var NJ;function Fme(){if(NJ)return FT;NJ=1,Object.defineProperty(FT,"__esModule",{value:!0}),FT.DataFactory=void 0;const a=TJ(),t=SJ(),o=EJ(),n=vN(),r=IJ(),e=FJ();let i=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return FT.DataFactory=s,FT}var DJ;function Nme(){return DJ||(DJ=1,function(a){var t=td&&td.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=td&&td.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(TJ(),a),o(Fme(),a),o(SJ(),a),o(EJ(),a),o(vN(),a),o(IJ(),a),o(FJ(),a)}(td)),td}var MT={},qT={},PJ;function Dme(){if(PJ)return qT;PJ=1,Object.defineProperty(qT,"__esModule",{value:!0}),qT.ContainerHandlerIdentifier=void 0;let a=class{canCombineWithGraph(){return!0}async handle(o,n,r,e,i,s){let c;if(n.emittedStack[s+1]&&n.idStack[s+1])c=n.idStack[s+1][0];else{const f=await r.getContainerKey(e[s],e,s)!==null?await r.resourceToTerm(await n.getContext(e),e[s]):r.dataFactory.blankNode();if(!f){n.emittedStack[s]=!1;return}c=f,n.idStack[s+1]=[c]}let u=n.idStack[s];u||(u=n.idStack[s]=[]),u.some(l=>l.equals(c))||u.push(c),await n.handlePendingContainerFlushBuffers()||(n.emittedStack[s]=!1)}};return qT.ContainerHandlerIdentifier=a,qT}var CT={},BT={},LJ;function aE(){if(LJ)return BT;LJ=1,Object.defineProperty(BT,"__esModule",{value:!0}),BT.EntryHandlerPredicate=void 0;const a=hn(),t=rd();let o=class vae{static async handlePredicateObject(r,e,i,s,c,u,l,f,d){const h=await e.getPropertiesDepth(i,s),p=await e.getDepthOffsetGraph(s,i),_=s-p,g=r.idStack[h];if(g&&!d)for(const y of g)if(p>=0){const b=r.idStack[_-1];if(b)for(const T of b)e.emitQuadChecked(s,y,c,u,T,l,f);else l?(e.validateReverseSubject(u),r.getUnidentifiedGraphBufferSafe(_-1).push({subject:u,predicate:c,object:y,isEmbedded:f})):r.getUnidentifiedGraphBufferSafe(_-1).push({subject:y,predicate:c,object:u,isEmbedded:f})}else{const b=await e.getGraphContainerValue(i,h);e.emitQuadChecked(s,y,c,u,b,l,f)}else if(l&&e.validateReverseSubject(u),d){if(r.rdfstar){r.idStack[s]&&r.emitError(new a.ErrorCoded(`Found an illegal @id inside an annotation: ${r.idStack[s][0].value}`,a.ERROR_CODES.INVALID_ANNOTATION));for(let b=0;b<s;b++)await e.unaliasKeyword(i[b],i,b)==="@id"&&r.emitError(new a.ErrorCoded("Found an illegal annotation inside an embedded node",a.ERROR_CODES.INVALID_ANNOTATION));const y=r.getAnnotationsBufferSafe(h),m={predicate:c,object:u,reverse:l,nestedAnnotations:[],depth:h};y.push(m);for(let b=y.length-2;b>=0;b--){const T=y[b];T.depth>h&&(m.nestedAnnotations.push(T),y.splice(b,1))}}}else r.getUnidentifiedValueBufferSafe(h).push({predicate:c,object:u,reverse:l,isEmbedded:f})}isPropertyHandler(){return!0}isStackProcessor(){return!0}async validate(r,e,i,s,c){const u=i[s];if(u){const l=await r.getContext(i);if(!r.jsonLiteralStack[s]&&await e.predicateToTerm(l,i[s]))return t.Util.getContextValueType(l,u)==="@json"&&(r.jsonLiteralStack[s+1]=!0),!0}return!1}async test(r,e,i,s,c){return s[c]}async handle(r,e,i,s,c,u,l){const f=s[u],d=await r.getContext(s),h=await e.predicateToTerm(d,i);if(h){const p=await e.valueToTerm(d,i,c,u,s);if(p.length)for(let _ of p){let g=await e.unaliasKeywordParent(s,u);const y=t.Util.isPropertyReverse(d,f,g);let m=0;for(;g==="@reverse"||typeof g=="number";)typeof g=="number"?m++:u--,g=await e.unaliasKeywordParent(s,u-m);const b=t.Util.isPropertyInEmbeddedNode(g);e.validateReverseInEmbeddedNode(i,y,b);const T=t.Util.isPropertyInAnnotationObject(g);if(c){const w="@list"in t.Util.getContextValueContainer(d,i);if(w||c["@list"]){if((w&&!Array.isArray(c)&&!c["@list"]||c["@list"]&&!Array.isArray(c["@list"]))&&_!==e.rdfNil){const O=e.dataFactory.blankNode();r.emitQuad(u,e.dataFactory.quad(O,e.rdfRest,e.rdfNil,e.getDefaultGraph())),r.emitQuad(u,e.dataFactory.quad(O,e.rdfFirst,_,e.getDefaultGraph())),_=O}if(y&&!r.allowSubjectList)throw new a.ErrorCoded(`Found illegal list value in subject position at ${i}`,a.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}}await vae.handlePredicateObject(r,e,s,u,h,_,y,b,T)}}}};return BT.EntryHandlerPredicate=o,BT}var jJ;function Pme(){if(jJ)return CT;jJ=1,Object.defineProperty(CT,"__esModule",{value:!0}),CT.ContainerHandlerIndex=void 0;const a=hn(),t=aE(),o=rd();let n=class{canCombineWithGraph(){return!0}async handle(e,i,s,c,u,l){if(!Array.isArray(u)){const f="@graph"in e,d=await i.getContext(c),h=c[l-1],p=o.Util.getContextValueIndex(d,h);if(p){if(a.Util.isPotentialKeyword(p))throw new a.ErrorCoded(`Keywords can not be used as @index value, got: ${p}`,a.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof p!="string")throw new a.ErrorCoded(`@index values must be strings, got: ${p}`,a.ERROR_CODES.INVALID_TERM_DEFINITION);if(typeof u!="object"){if(o.Util.getContextValueType(d,h)!=="@id")throw new a.ErrorCoded(`Property-based index containers require nodes as values or strings with @type: @id, but got: ${u}`,a.ERROR_CODES.INVALID_VALUE_OBJECT);const y=s.resourceToTerm(d,u);y&&(i.idStack[l+1]=[y])}const g=s.createVocabOrBaseTerm(d,p);if(g){const y=await s.valueToTerm(d,p,await s.getContainerKey(c[l],c,l),l,c);if(f){const m=await s.getGraphContainerValue(c,l+1);for(const b of y)i.emitQuad(l,s.dataFactory.quad(m,g,b,s.getDefaultGraph()))}else for(const m of y)await t.EntryHandlerPredicate.handlePredicateObject(i,s,c,l+1,g,m,!1,!1,!1)}}const _=f?2:1;await i.newOnValueJob(c.slice(0,c.length-_),u,l-_,!0),await i.handlePendingContainerFlushBuffers()}i.emittedStack[l]=!1}};return CT.ContainerHandlerIndex=n,CT}var $T={},MJ;function Lme(){if(MJ)return $T;MJ=1,Object.defineProperty($T,"__esModule",{value:!0}),$T.ContainerHandlerLanguage=void 0;const a=hn();let t=class{canCombineWithGraph(){return!1}async handle(n,r,e,i,s,c){const u=await e.getContainerKey(i[c],i,c);if(Array.isArray(s))s=s.map(l=>({"@value":l,"@language":u}));else{if(typeof s!="string")throw new a.ErrorCoded(`Got invalid language map value, got '${JSON.stringify(s)}', but expected string`,a.ERROR_CODES.INVALID_LANGUAGE_MAP_VALUE);s={"@value":s,"@language":u}}await r.newOnValueJob(i.slice(0,i.length-1),s,c-1,!0),r.emittedStack[c]=!1}};return $T.ContainerHandlerLanguage=t,$T}var UT={},qJ;function jme(){if(qJ)return UT;qJ=1,Object.defineProperty(UT,"__esModule",{value:!0}),UT.ContainerHandlerType=void 0;const a=aE(),t=rd();let o=class{canCombineWithGraph(){return!1}async handle(r,e,i,s,c,u){if(!Array.isArray(c)){if(typeof c=="string"){const d=await e.getContext(s),p=t.Util.getContextValueType(d,s[u-1])==="@vocab"?await i.createVocabOrBaseTerm(d,c):await i.resourceToTerm(d,c);if(p){const _={"@id":p.termType==="NamedNode"?p.value:c};await e.newOnValueJob(s.slice(0,s.length-1),_,u-1,!0),e.idStack[u+1]=[p]}}else{const d=!!e.idStack[u+1];d||delete e.idStack[u],await e.newOnValueJob(s.slice(0,s.length-1),c,u-1,!0),d||(e.idStack[u+1]=e.idStack[u])}const l=await i.getContainerKey(s[u],s,u),f=l!==null?i.createVocabOrBaseTerm(await e.getContext(s),l):null;f&&await a.EntryHandlerPredicate.handlePredicateObject(e,i,s,u+1,i.rdfType,f,!1,!1,!1),await e.handlePendingContainerFlushBuffers()}e.emittedStack[u]=!1}};return UT.ContainerHandlerType=o,UT}var CJ;function BJ(){if(CJ)return MT;CJ=1,Object.defineProperty(MT,"__esModule",{value:!0}),MT.EntryHandlerContainer=void 0;const a=Dme(),t=Pme(),o=Lme(),n=jme(),r=rd();let e=class $a{static isSimpleGraphContainer(s){return"@graph"in s&&("@set"in s&&Object.keys(s).length===2||Object.keys(s).length===1)}static isComplexGraphContainer(s){return"@graph"in s&&("@set"in s&&Object.keys(s).length>2||!("@set"in s)&&Object.keys(s).length>1)}static getContainerGraphIndex(s,c,u){let l=$a.isSimpleGraphContainer(s),f="";for(let d=c;d<u.length;d++)(!l||typeof u[d]=="number")&&(f+=":"+u[d]),!l&&typeof u[d]!="number"&&(l=!0);return f}static async getContainerHandler(s,c,u){const l={containers:{"@set":!0},depth:u,fallback:!0};let f=!1;const d=await s.getContext(c,2);for(let h=u-1;h>=0;h--)if(typeof c[h]!="number"){const p=r.Util.getContextValue(d,"@container",c[h],!1);if(p&&$a.isSimpleGraphContainer(p))return{containers:p,depth:h+1,fallback:!1};const _=r.Util.getContextValue(d,"@container",c[h-1],!1);if(_){const g="@graph"in _;for(const y in $a.CONTAINER_HANDLERS)if(_[y])return g?$a.CONTAINER_HANDLERS[y].canCombineWithGraph()?{containers:_,depth:h,fallback:!1}:l:f?l:{containers:_,depth:h,fallback:!1};return l}else{if(f)return l;f=!0}}return l}static async isBufferableContainerHandler(s,c,u){const l=await $a.getContainerHandler(s,c,u);return!l.fallback&&!("@graph"in l.containers)}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(s,c,u,l,f){return!!await this.test(s,c,null,u,l)}async test(s,c,u,l,f){const d=r.Util.getContextValueContainer(await s.getContext(l,2),l[f-1]);for(const h in $a.CONTAINER_HANDLERS)if(d[h])return{containers:d,handler:$a.CONTAINER_HANDLERS[h]};return null}async handle(s,c,u,l,f,d,h){return h.handler.handle(h.containers,s,c,l,f,d)}};return e.CONTAINER_HANDLERS={"@id":new a.ContainerHandlerIdentifier,"@index":new t.ContainerHandlerIndex,"@language":new o.ContainerHandlerLanguage,"@type":new n.ContainerHandlerType},MT.EntryHandlerContainer=e,MT}var TN,$J;function Mme(){return $J||($J=1,TN=function a(t){return t===null||typeof t!="object"||t.toJSON!=null?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((o,n,r)=>{const e=r===0?"":",",i=n===void 0||typeof n=="symbol"?null:n;return o+e+a(i)},"")+"]":"{"+Object.keys(t).sort().reduce((o,n,r)=>{if(t[n]===void 0||typeof t[n]=="symbol")return o;const e=o.length===0?"":",";return o+e+a(n)+":"+a(t[n])},"")+"}"}),TN}var UJ;function rd(){if(UJ)return IT;UJ=1,Object.defineProperty(IT,"__esModule",{value:!0}),IT.Util=void 0;const a=hn(),t=Nme(),o=BJ(),n=Mme();class r{constructor(i){this.parsingContext=i.parsingContext,this.dataFactory=i.dataFactory||new t.DataFactory,this.rdfFirst=this.dataFactory.namedNode(r.RDF+"first"),this.rdfRest=this.dataFactory.namedNode(r.RDF+"rest"),this.rdfNil=this.dataFactory.namedNode(r.RDF+"nil"),this.rdfType=this.dataFactory.namedNode(r.RDF+"type"),this.rdfJson=this.dataFactory.namedNode(r.RDF+"JSON")}static getContextValue(i,s,c,u){const l=i.getContextRaw()[c];if(!l)return u;const f=l[s];return f===void 0?u:f}static getContextValueContainer(i,s){return r.getContextValue(i,"@container",s,{"@set":!0})}static getContextValueType(i,s){const c=r.getContextValue(i,"@type",s,null);return c==="@none"?null:c}static getContextValueLanguage(i,s){return r.getContextValue(i,"@language",s,i.getContextRaw()["@language"]||null)}static getContextValueDirection(i,s){return r.getContextValue(i,"@direction",s,i.getContextRaw()["@direction"]||null)}static isContextValueReverse(i,s){return!!r.getContextValue(i,"@reverse",s,null)}static getContextValueIndex(i,s){return r.getContextValue(i,"@index",s,i.getContextRaw()["@index"]||null)}static isPropertyReverse(i,s,c){return c==="@reverse"!==r.isContextValueReverse(i,s)}static isPropertyInEmbeddedNode(i){return i==="@id"}static isPropertyInAnnotationObject(i){return i==="@annotation"}static isValidIri(i){return i!==null&&a.Util.isValidIri(i)}static isPrefixArray(i,s){if(i.length>s.length)return!1;for(let c=0;c<i.length;c++)if(i[c]!==s[c])return!1;return!0}async validateValueIndexes(i){if(this.parsingContext.validateValueIndexes){const s={};for(const c of i)if(c&&typeof c=="object"){const u=c["@id"],l=c["@index"];if(u&&l){const f=s[u];if(f&&f!==l)throw new a.ErrorCoded(`Conflicting @index value for ${u}`,a.ERROR_CODES.CONFLICTING_INDEXES);s[u]=l}}}}async valueToTerm(i,s,c,u,l){if(r.getContextValueType(i,s)==="@json")return[this.dataFactory.literal(this.valueToJsonString(c),this.rdfJson)];const f=typeof c;switch(f){case"object":if(c==null)return[];if(Array.isArray(c))return"@list"in r.getContextValueContainer(i,s)?c.length===0?[this.rdfNil]:this.parsingContext.idStack[u+1]||[]:(await this.validateValueIndexes(c),[]);if(i=await this.getContextSelfOrPropertyScoped(i,s),"@context"in c&&(i=await this.parsingContext.parseContext(c["@context"],(await this.parsingContext.getContext(l,0)).getContextRaw())),c=await this.unaliasKeywords(c,l,u,i),"@value"in c){let d,h,p,_,g;for(s in c){const y=c[s];switch(s){case"@value":d=y;break;case"@language":h=y;break;case"@direction":p=y;break;case"@type":_=y;break;case"@index":g=y;break;case"@annotation":break;default:throw new a.ErrorCoded(`Unknown value entry '${s}' in @value: ${JSON.stringify(c)}`,a.ERROR_CODES.INVALID_VALUE_OBJECT)}}if(await this.unaliasKeyword(_,l,u,!0,i)==="@json")return[this.dataFactory.literal(this.valueToJsonString(d),this.rdfJson)];if(d===null)return[];if(typeof d=="object")throw new a.ErrorCoded(`The value of an '@value' can not be an object, got '${JSON.stringify(d)}'`,a.ERROR_CODES.INVALID_VALUE_OBJECT_VALUE);if(this.parsingContext.validateValueIndexes&&g&&typeof g!="string")throw new a.ErrorCoded(`The value of an '@index' must be a string, got '${JSON.stringify(g)}'`,a.ERROR_CODES.INVALID_INDEX_VALUE);if(h){if(typeof d!="string")throw new a.ErrorCoded(`When an '@language' is set, the value of '@value' must be a string, got '${JSON.stringify(d)}'`,a.ERROR_CODES.INVALID_LANGUAGE_TAGGED_VALUE);if(!a.ContextParser.validateLanguage(h,this.parsingContext.strictValues,a.ERROR_CODES.INVALID_LANGUAGE_TAGGED_STRING))return[];(this.parsingContext.normalizeLanguageTags||this.parsingContext.activeProcessingMode===1)&&(h=h.toLowerCase())}if(p){if(typeof d!="string")throw new Error(`When an '@direction' is set, the value of '@value' must be a string, got '${JSON.stringify(d)}'`);if(!a.ContextParser.validateDirection(p,this.parsingContext.strictValues))return[]}if(h&&p&&this.parsingContext.rdfDirection){if(_)throw new a.ErrorCoded(`Can not have '@language', '@direction' and '@type' in a value: '${JSON.stringify(c)}'`,a.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(u,d,h,p))}else if(h){if(_)throw new a.ErrorCoded(`Can not have both '@language' and '@type' in a value: '${JSON.stringify(c)}'`,a.ERROR_CODES.INVALID_VALUE_OBJECT);return[this.dataFactory.literal(d,h)]}else if(p&&this.parsingContext.rdfDirection){if(_)throw new a.ErrorCoded(`Can not have both '@direction' and '@type' in a value: '${JSON.stringify(c)}'`,a.ERROR_CODES.INVALID_VALUE_OBJECT);return this.nullableTermToArray(this.createLanguageDirectionLiteral(u,d,h,p))}else if(_){if(typeof _!="string")throw new a.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(_)}'`,a.ERROR_CODES.INVALID_TYPED_VALUE);const y=this.createVocabOrBaseTerm(i,_);if(!y)throw new a.ErrorCoded(`Invalid '@type' value, got '${JSON.stringify(_)}'`,a.ERROR_CODES.INVALID_TYPED_VALUE);if(y.termType!=="NamedNode")throw new a.ErrorCoded(`Illegal value type (${y.termType}): ${_}`,a.ERROR_CODES.INVALID_TYPED_VALUE);return[this.dataFactory.literal(d,y)]}return await this.valueToTerm(new a.JsonLdContextNormalized({}),s,d,u,l)}else if("@set"in c){if(Object.keys(c).length>1)throw new a.ErrorCoded(`Found illegal neighbouring entries next to @set for key: '${s}'`,a.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);return[]}else if("@list"in c){if(Object.keys(c).length>1)throw new a.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${s}'`,a.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT);const d=c["@list"];return Array.isArray(d)?d.length===0?[this.rdfNil]:this.parsingContext.idStack[u+1]||[]:await this.valueToTerm(await this.parsingContext.getContext(l),s,d,u-1,l.slice(0,-1))}else{if("@reverse"in c&&typeof c["@reverse"]=="boolean")return[];if("@graph"in r.getContextValueContainer(await this.parsingContext.getContext(l),s)){const d=this.parsingContext.graphContainerTermStack[u+1];return d?Object.values(d):[this.dataFactory.blankNode()]}else if("@id"in c){if(Object.keys(c).length>1&&(i=await this.parsingContext.getContext(l,0)),"@context"in c&&(i=await this.parsingContext.parseContext(c["@context"],i.getContextRaw())),c["@type"]==="@vocab")return this.nullableTermToArray(this.createVocabOrBaseTerm(i,c["@id"]));{const d=c["@id"];let h;if(typeof d=="object")if(this.parsingContext.rdfstar)h=this.parsingContext.idStack[u+1][0];else throw new a.ErrorCoded(`Found illegal @id '${c}'`,a.ERROR_CODES.INVALID_ID_VALUE);else h=this.resourceToTerm(i,d);return this.nullableTermToArray(h)}}else return this.parsingContext.emittedStack[u+1]||c&&typeof c=="object"&&Object.keys(c).length===0?this.parsingContext.idStack[u+1]||(this.parsingContext.idStack[u+1]=[this.dataFactory.blankNode()]):[]}case"string":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(i,s),s,c,null));case"boolean":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(i,s),s,(!!c).toString(),this.dataFactory.namedNode(r.XSD_BOOLEAN)));case"number":return this.nullableTermToArray(this.stringValueToTerm(u,await this.getContextSelfOrPropertyScoped(i,s),s,c,this.dataFactory.namedNode(c%1===0&&c<1e21?r.XSD_INTEGER:r.XSD_DOUBLE)));default:return this.parsingContext.emitError(new Error(`Could not determine the RDF type of a ${f}`)),[]}}async getContextSelfOrPropertyScoped(i,s){const c=i.getContextRaw()[s];return c&&typeof c=="object"&&"@context"in c&&(i=await this.parsingContext.parseContext(c,i.getContextRaw(),!0)),i}nullableTermToArray(i){return i?[i]:[]}predicateToTerm(i,s){const c=i.expandTerm(s,!0,this.parsingContext.getExpandOptions());if(!c)return null;if(c[0]==="_"&&c[1]===":")return this.parsingContext.produceGeneralizedRdf?this.dataFactory.blankNode(c.substr(2)):null;if(r.isValidIri(c))return this.dataFactory.namedNode(c);if(c&&this.parsingContext.strictValues)this.parsingContext.emitError(new a.ErrorCoded(`Invalid predicate IRI: ${c}`,a.ERROR_CODES.INVALID_IRI_MAPPING));else return null;return null}resourceToTerm(i,s){if(s.startsWith("_:"))return this.dataFactory.blankNode(s.substr(2));const c=i.expandTerm(s,!1,this.parsingContext.getExpandOptions());if(!r.isValidIri(c))if(c&&this.parsingContext.strictValues)this.parsingContext.emitError(new Error(`Invalid resource IRI: ${c}`));else return null;return this.dataFactory.namedNode(c)}createVocabOrBaseTerm(i,s){if(s.startsWith("_:"))return this.dataFactory.blankNode(s.substr(2));const c=this.parsingContext.getExpandOptions();let u=i.expandTerm(s,!0,c);if(u===s&&(u=i.expandTerm(s,!1,c)),!r.isValidIri(u))if(u&&this.parsingContext.strictValues&&!u.startsWith("@"))this.parsingContext.emitError(new Error(`Invalid term IRI: ${u}`));else return null;return this.dataFactory.namedNode(u)}intToString(i,s){return typeof i=="number"?Number.isFinite(i)?i%1===0&&(!s||s.value!==r.XSD_DOUBLE)?Number(i).toString():i.toExponential(15).replace(/(\d)0*e\+?/,"$1E"):i>0?"INF":"-INF":i}stringValueToTerm(i,s,c,u,l){const f=r.getContextValueType(s,c);if(f)if(f==="@id"){if(!l)return this.resourceToTerm(s,this.intToString(u,l))}else if(f==="@vocab"){if(!l)return this.createVocabOrBaseTerm(s,this.intToString(u,l))}else l=this.dataFactory.namedNode(f);if(!l){const d=r.getContextValueLanguage(s,c),h=r.getContextValueDirection(s,c);return h&&this.parsingContext.rdfDirection?this.createLanguageDirectionLiteral(i,this.intToString(u,l),d,h):this.dataFactory.literal(this.intToString(u,l),d)}return this.dataFactory.literal(this.intToString(u,l),l)}createLanguageDirectionLiteral(i,s,c,u){if(this.parsingContext.rdfDirection==="i18n-datatype")return c||(c=""),this.dataFactory.literal(s,this.dataFactory.namedNode(`https://www.w3.org/ns/i18n#${c}_${u}`));{const l=this.dataFactory.blankNode(),f=this.getDefaultGraph();return this.parsingContext.emitQuad(i,this.dataFactory.quad(l,this.dataFactory.namedNode(r.RDF+"value"),this.dataFactory.literal(s),f)),c&&this.parsingContext.emitQuad(i,this.dataFactory.quad(l,this.dataFactory.namedNode(r.RDF+"language"),this.dataFactory.literal(c),f)),this.parsingContext.emitQuad(i,this.dataFactory.quad(l,this.dataFactory.namedNode(r.RDF+"direction"),this.dataFactory.literal(u),f)),l}}valueToJsonString(i){return n(i)}async unaliasKeyword(i,s,c,u,l){if(Number.isInteger(i))return i;if(!u){const f=this.parsingContext.unaliasedKeywordCacheStack[c];if(f)return f}if(!a.Util.isPotentialKeyword(i)){l=l||await this.parsingContext.getContext(s);let f=l.getContextRaw()[i];f&&typeof f=="object"&&(f=f["@id"]),a.Util.isValidKeyword(f)&&(i=f)}return u?i:this.parsingContext.unaliasedKeywordCacheStack[c]=i}async unaliasKeywordParent(i,s){return await this.unaliasKeyword(s>0&&i[s-1],i,s-1)}async unaliasKeywords(i,s,c,u){const l={};for(const f in i)l[await this.unaliasKeyword(f,s,c+1,!0,u)]=i[f];return l}async isLiteral(i,s){for(let c=s;c>=0;c--){if(await this.unaliasKeyword(i[c],i,c)==="@annotation")return!1;if(this.parsingContext.literalStack[c]||this.parsingContext.jsonLiteralStack[c])return!0}return!1}async getDepthOffsetGraph(i,s){for(let c=i-1;c>0;c--)if(await this.unaliasKeyword(s[c],s,c)==="@graph"){const u=(await o.EntryHandlerContainer.getContainerHandler(this.parsingContext,s,c)).containers;return o.EntryHandlerContainer.isComplexGraphContainer(u)?-1:i-c-1}return-1}validateReverseSubject(i){if(i.termType==="Literal")throw new a.ErrorCoded(`Found illegal literal in subject position: ${i.value}`,a.ERROR_CODES.INVALID_REVERSE_PROPERTY_VALUE)}getDefaultGraph(){return this.parsingContext.defaultGraph||this.dataFactory.defaultGraph()}async getGraphContainerValue(i,s){let c=this.getDefaultGraph();const{containers:u,depth:l}=await o.EntryHandlerContainer.getContainerHandler(this.parsingContext,i,s);if("@graph"in u){const f=o.EntryHandlerContainer.getContainerGraphIndex(u,l,i),d=this.parsingContext.graphContainerTermStack[l];if(c=d?d[f]:null,!c){let h=null;if("@id"in u){const p=await this.getContainerKey(i[l],i,l);p!==null&&(h=await this.resourceToTerm(await this.parsingContext.getContext(i),p))}h||(h=this.dataFactory.blankNode()),this.parsingContext.graphContainerTermStack[l]||(this.parsingContext.graphContainerTermStack[l]={}),c=this.parsingContext.graphContainerTermStack[l][f]=h}}return c}async getPropertiesDepth(i,s){let c=s;for(let u=s-1;u>0;u--)if(typeof i[u]!="number"){const l=await this.unaliasKeyword(i[u],i,u);if(l==="@reverse")return u;if(l==="@nest")c=u;else return c}return c}async getContainerKey(i,s,c){const u=await this.unaliasKeyword(i,s,c);return u==="@none"?null:u}validateReverseInEmbeddedNode(i,s,c){if(c&&s&&!this.parsingContext.rdfstarReverseInEmbedded)throw new a.ErrorCoded(`Illegal reverse property in embedded node in ${i}`,a.ERROR_CODES.INVALID_EMBEDDED_NODE)}emitQuadChecked(i,s,c,u,l,f,d){let h;if(f?(this.validateReverseSubject(u),h=this.dataFactory.quad(u,c,s,l)):h=this.dataFactory.quad(s,c,u,l),d){if(h.graph.termType!=="DefaultGraph"&&(h=this.dataFactory.quad(h.subject,h.predicate,h.object)),this.parsingContext.idStack[i-1])throw new a.ErrorCoded("Illegal multiple properties in an embedded node",a.ERROR_CODES.INVALID_EMBEDDED_NODE);this.parsingContext.idStack[i-1]=[h]}else this.parsingContext.emitQuad(i,h);const p=this.parsingContext.annotationsBuffer[i];if(p){for(const _ of p)this.emitAnnotation(i,h,_);delete this.parsingContext.annotationsBuffer[i]}}emitAnnotation(i,s,c){let u;c.reverse?(this.validateReverseSubject(c.object),u=this.dataFactory.quad(c.object,c.predicate,s)):u=this.dataFactory.quad(s,c.predicate,c.object),this.parsingContext.emitQuad(i,u);for(const l of c.nestedAnnotations)this.emitAnnotation(i,u,l)}}return r.XSD="http://www.w3.org/2001/XMLSchema#",r.XSD_BOOLEAN=r.XSD+"boolean",r.XSD_INTEGER=r.XSD+"integer",r.XSD_DOUBLE=r.XSD+"double",r.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",IT.Util=r,IT}var VJ;function qme(){if(VJ)return xT;VJ=1,Object.defineProperty(xT,"__esModule",{value:!0}),xT.EntryHandlerArrayValue=void 0;const a=rd(),t=hn();let o=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(r,e,i,s,c){return this.test(r,e,null,i,s)}async test(r,e,i,s,c){return typeof s[c]=="number"}async handle(r,e,i,s,c,u){let l=await e.unaliasKeywordParent(s,u);if(l==="@list"){let f=null,d=0;for(let h=u-2;h>0;h--){const p=s[h];if(typeof p=="string"||typeof p=="number"){d=h,f=p;break}}if(f!==null){const h=await e.valueToTerm(await r.getContext(s),f,c,u,s);for(const p of h)await this.handleListElement(r,e,p,c,u,s.slice(0,d),d);h.length===0&&await this.handleListElement(r,e,null,c,u,s.slice(0,d),d)}}else if(l==="@set")await r.newOnValueJob(s.slice(0,-2),c,u-2,!1);else if(l!==void 0&&l!=="@type"){for(let d=u-1;d>0;d--)if(typeof s[d]!="number"){l=await e.unaliasKeyword(s[d],s,d);break}const f=await r.getContext(s.slice(0,-1));if("@list"in a.Util.getContextValueContainer(f,l)){r.emittedStack[u+1]=!0;const d=await e.valueToTerm(await r.getContext(s),l,c,u,s);for(const h of d)await this.handleListElement(r,e,h,c,u,s.slice(0,-1),u-1);d.length===0&&await this.handleListElement(r,e,null,c,u,s.slice(0,-1),u-1)}else r.shiftStack(u,1),await r.newOnValueJob(s.slice(0,-1),c,u-1,!1),r.contextTree.removeContext(s.slice(0,-1))}}async handleListElement(r,e,i,s,c,u,l){let f=r.listPointerStack[c];if(s!==null&&(await e.unaliasKeywords(s,u,c))["@value"]!==null){if(!f||!f.value){const d=e.dataFactory.blankNode();f={value:d,listRootDepth:l,listId:d}}else{const d=e.dataFactory.blankNode();r.emitQuad(c,e.dataFactory.quad(f.value,e.rdfRest,d,e.getDefaultGraph())),f.value=d}i&&r.emitQuad(c,e.dataFactory.quad(f.value,e.rdfFirst,i,e.getDefaultGraph()))}else f||(f={listRootDepth:l,listId:e.rdfNil});r.listPointerStack[c]=f,r.rdfstar&&r.annotationsBuffer[c]&&r.emitError(new t.ErrorCoded("Found an illegal annotation inside a list",t.ERROR_CODES.INVALID_ANNOTATION))}};return xT.EntryHandlerArrayValue=o,xT}var VT={},QJ;function Cme(){if(QJ)return VT;QJ=1,Object.defineProperty(VT,"__esModule",{value:!0}),VT.EntryHandlerInvalidFallback=void 0;let a=class{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(o,n,r,e,i){return!1}async test(o,n,r,e,i){return!0}async handle(o,n,r,e,i,s){o.emittedStack[s]=!1}};return VT.EntryHandlerInvalidFallback=a,VT}var QT={},HT={},HJ;function Oa(){if(HJ)return HT;HJ=1,Object.defineProperty(HT,"__esModule",{value:!0}),HT.EntryHandlerKeyword=void 0;let a=class{constructor(o){this.keyword=o}isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(o,n,r,e,i){return!1}async test(o,n,r,e,i){return r===this.keyword}};return HT.EntryHandlerKeyword=a,HT}var GJ;function Bme(){if(GJ)return QT;GJ=1,Object.defineProperty(QT,"__esModule",{value:!0}),QT.EntryHandlerKeywordContext=void 0;const a=hn(),t=Oa();let o=class extends t.EntryHandlerKeyword{constructor(){super("@context")}isStackProcessor(){return!1}async handle(r,e,i,s,c,u){r.streamingProfile&&(r.processingStack[u]||r.processingType[u]||r.idStack[u]!==void 0)&&r.emitError(new a.ErrorCoded("Found an out-of-order context, while streaming is enabled.(disable `streamingProfile`)",a.ERROR_CODES.INVALID_STREAMING_KEY_ORDER));const l=r.getContext(s),f=r.parseContext(c,(await l).getContextRaw());r.contextTree.setContext(s.slice(0,-1),f),r.emitContext(c),await r.validateContext(await f)}};return QT.EntryHandlerKeywordContext=o,QT}var GT={},zJ;function $me(){if(zJ)return GT;zJ=1,Object.defineProperty(GT,"__esModule",{value:!0}),GT.EntryHandlerKeywordGraph=void 0;const a=Oa();let t=class extends a.EntryHandlerKeyword{constructor(){super("@graph")}async handle(n,r,e,i,s,c){n.graphStack[c+1]=!0}};return GT.EntryHandlerKeywordGraph=t,GT}var zT={},kJ;function Ume(){if(kJ)return zT;kJ=1,Object.defineProperty(zT,"__esModule",{value:!0}),zT.EntryHandlerKeywordId=void 0;const a=hn(),t=Oa();let o=class extends t.EntryHandlerKeyword{constructor(){super("@id")}isStackProcessor(){return!1}async handle(r,e,i,s,c,u){if(typeof c!="string"){if(r.rdfstar&&typeof c=="object"){const f=Object.keys(c);f.length===1&&f[0]==="@id"&&r.emitError(new a.ErrorCoded(`Invalid embedded node without property with @id ${c["@id"]}`,a.ERROR_CODES.INVALID_EMBEDDED_NODE))}else r.emitError(new a.ErrorCoded(`Found illegal @id '${c}'`,a.ERROR_CODES.INVALID_ID_VALUE));return}const l=await e.getPropertiesDepth(s,u);if(r.idStack[l]!==void 0&&(r.idStack[l][0].listHead?r.emitError(new a.ErrorCoded(`Found illegal neighbouring entries next to @list for key: '${s[u-1]}'`,a.ERROR_CODES.INVALID_SET_OR_LIST_OBJECT)):r.emitError(new a.ErrorCoded(`Found duplicate @ids '${r.idStack[l][0].value}' and '${c}'`,a.ERROR_CODES.COLLIDING_KEYWORDS))),r.rdfstar&&r.annotationsBuffer[u])for(const f of r.annotationsBuffer[u])f.depth===u&&r.emitError(new a.ErrorCoded(`Found an illegal @id inside an annotation: ${c}`,a.ERROR_CODES.INVALID_ANNOTATION));r.idStack[l]=e.nullableTermToArray(await e.resourceToTerm(await r.getContext(s),c))}};return zT.EntryHandlerKeywordId=o,zT}var kT={},XJ;function Vme(){if(XJ)return kT;XJ=1,Object.defineProperty(kT,"__esModule",{value:!0}),kT.EntryHandlerKeywordIncluded=void 0;const a=hn(),t=Oa();let o=class extends t.EntryHandlerKeyword{constructor(){super("@included")}async handle(r,e,i,s,c,u){typeof c!="object"&&r.emitError(new a.ErrorCoded(`Found illegal @included '${c}'`,a.ERROR_CODES.INVALID_INCLUDED_VALUE));const l=await e.unaliasKeywords(c,s,u,await r.getContext(s));"@value"in l&&r.emitError(new a.ErrorCoded(`Found an illegal @included @value node '${JSON.stringify(c)}'`,a.ERROR_CODES.INVALID_INCLUDED_VALUE)),"@list"in l&&r.emitError(new a.ErrorCoded(`Found an illegal @included @list node '${JSON.stringify(c)}'`,a.ERROR_CODES.INVALID_INCLUDED_VALUE)),r.emittedStack[u]=!1}};return kT.EntryHandlerKeywordIncluded=o,kT}var XT={},WJ;function Qme(){if(WJ)return XT;WJ=1,Object.defineProperty(XT,"__esModule",{value:!0}),XT.EntryHandlerKeywordNest=void 0;const a=hn(),t=Oa();let o=class extends t.EntryHandlerKeyword{constructor(){super("@nest")}async handle(r,e,i,s,c,u){typeof c!="object"&&r.emitError(new a.ErrorCoded(`Found invalid @nest entry for '${i}': '${c}'`,a.ERROR_CODES.INVALID_NEST_VALUE)),"@value"in await e.unaliasKeywords(c,s,u,await r.getContext(s))&&r.emitError(new a.ErrorCoded(`Found an invalid @value node for '${i}'`,a.ERROR_CODES.INVALID_NEST_VALUE)),r.emittedStack[u]=!1}};return XT.EntryHandlerKeywordNest=o,XT}var WT={},JJ;function Hme(){if(JJ)return WT;JJ=1,Object.defineProperty(WT,"__esModule",{value:!0}),WT.EntryHandlerKeywordType=void 0;const a=hn(),t=rd(),o=aE(),n=Oa();let r=class extends n.EntryHandlerKeyword{constructor(){super("@type")}isStackProcessor(){return!1}async handle(i,s,c,u,l,f){const d=u[f],h=await i.getContext(u),p=s.rdfType,_=await s.unaliasKeywordParent(u,f),g=t.Util.isPropertyReverse(h,d,_),y=t.Util.isPropertyInEmbeddedNode(_);s.validateReverseInEmbeddedNode(c,g,y);const m=t.Util.isPropertyInAnnotationObject(_),b=Array.isArray(l)?l:[l];for(const O of b){typeof O!="string"&&i.emitError(new a.ErrorCoded(`Found illegal @type '${O}'`,a.ERROR_CODES.INVALID_TYPE_VALUE));const F=s.createVocabOrBaseTerm(h,O);F&&await o.EntryHandlerPredicate.handlePredicateObject(i,s,u,f,p,F,g,y,m)}let T=Promise.resolve(h),w=!1;for(const O of b.sort()){const F=t.Util.getContextValue(h,"@context",O,null);F&&(w=!0,T=T.then(Q=>i.parseContext(F,Q.getContextRaw())))}i.streamingProfile&&(w||!i.streamingProfileAllowOutOfOrderPlainType)&&(i.processingStack[f]||i.idStack[f])&&i.emitError(new a.ErrorCoded("Found an out-of-order type-scoped context, while streaming is enabled.(disable `streamingProfile`)",a.ERROR_CODES.INVALID_STREAMING_KEY_ORDER)),w&&(T=T.then(O=>O.getContextRaw()["@propagate"]!==!0?new a.JsonLdContextNormalized(Object.assign(Object.assign({},O.getContextRaw()),{"@propagate":!1,"@__propagateFallback":h.getContextRaw()})):O),i.contextTree.setContext(u.slice(0,u.length-1),T)),i.processingType[f]=!0}};return WT.EntryHandlerKeywordType=r,WT}var JT={},KJ;function Gme(){if(KJ)return JT;KJ=1,Object.defineProperty(JT,"__esModule",{value:!0}),JT.EntryHandlerKeywordUnknownFallback=void 0;const a=hn();let t=class Tae{isPropertyHandler(){return!1}isStackProcessor(){return!0}async validate(n,r,e,i,s){const c=await r.unaliasKeyword(e[i],e,i);return a.Util.isPotentialKeyword(c)?!(!s&&c==="@list"):!1}async test(n,r,e,i,s){return a.Util.isPotentialKeyword(e)}async handle(n,r,e,i,s,c){const u=Tae.VALID_KEYWORDS_TYPES[e];u!==void 0?u&&typeof s!==u.type&&n.emitError(new a.ErrorCoded(`Invalid value type for '${e}' with value '${s}'`,u.errorCode)):n.strictValues&&n.emitError(new Error(`Unknown keyword '${e}' with value '${s}'`)),n.emittedStack[c]=!1}};return t.VALID_KEYWORDS_TYPES={"@index":{type:"string",errorCode:a.ERROR_CODES.INVALID_INDEX_VALUE},"@list":null,"@reverse":{type:"object",errorCode:a.ERROR_CODES.INVALID_REVERSE_VALUE},"@set":null,"@value":null},JT.EntryHandlerKeywordUnknownFallback=t,JT}var KT={},YJ;function zme(){if(YJ)return KT;YJ=1,Object.defineProperty(KT,"__esModule",{value:!0}),KT.EntryHandlerKeywordValue=void 0;const a=Oa();let t=class extends a.EntryHandlerKeyword{constructor(){super("@value")}async validate(n,r,e,i,s){const c=e[i];return c&&!n.literalStack[i]&&await this.test(n,r,c,e,i)&&(n.literalStack[i]=!0),super.validate(n,r,e,i,s)}async test(n,r,e,i,s){return await r.unaliasKeyword(i[s],i.slice(0,i.length-1),s-1,!0)==="@value"}async handle(n,r,e,i,s,c){n.literalStack[c]=!0,delete n.unidentifiedValuesBuffer[c],delete n.unidentifiedGraphsBuffer[c],n.emittedStack[c]=!1}};return KT.EntryHandlerKeywordValue=t,KT}var YT={},ZT={},ZJ;function kme(){if(ZJ)return ZT;ZJ=1,Object.defineProperty(ZT,"__esModule",{value:!0}),ZT.ContextTree=void 0;let a=class wae{constructor(){this.subTrees={}}getContext(o){if(o.length>0){const[n,...r]=o,e=this.subTrees[n];if(e){const i=e.getContext(r);if(i)return i.then(({context:s,depth:c})=>({context:s,depth:c+1}))}}return this.context?this.context.then(n=>({context:n,depth:0})):null}setContext(o,n){if(o.length===0)this.context=n;else{const[r,...e]=o;let i=this.subTrees[r];i||(i=this.subTrees[r]=new wae),i.setContext(e,n)}}removeContext(o){this.setContext(o,null)}};return ZT.ContextTree=a,ZT}var eK;function Xme(){if(eK)return YT;eK=1,Object.defineProperty(YT,"__esModule",{value:!0}),YT.ParsingContext=void 0;const a=hn(),t=OT(),o=kme(),n=nK();let r=class Sae{constructor(i){this.contextParser=new a.ContextParser({documentLoader:i.documentLoader,skipValidation:i.skipContextValidation}),this.streamingProfile=!!i.streamingProfile,this.baseIRI=i.baseIRI,this.produceGeneralizedRdf=!!i.produceGeneralizedRdf,this.allowSubjectList=!!i.allowSubjectList,this.processingMode=i.processingMode||n.JsonLdParser.DEFAULT_PROCESSING_MODE,this.strictValues=!!i.strictValues,this.validateValueIndexes=!!i.validateValueIndexes,this.defaultGraph=i.defaultGraph,this.rdfDirection=i.rdfDirection,this.normalizeLanguageTags=i.normalizeLanguageTags,this.streamingProfileAllowOutOfOrderPlainType=i.streamingProfileAllowOutOfOrderPlainType,this.rdfstar=i.rdfstar!==!1,this.rdfstarReverseInEmbedded=i.rdfstarReverseInEmbedded,this.topLevelProperties=!1,this.activeProcessingMode=parseFloat(this.processingMode),this.processingStack=[],this.processingType=[],this.emittedStack=[],this.idStack=[],this.graphStack=[],this.graphContainerTermStack=[],this.listPointerStack=[],this.contextTree=new o.ContextTree,this.literalStack=[],this.validationStack=[],this.unaliasedKeywordCacheStack=[],this.jsonLiteralStack=[],this.unidentifiedValuesBuffer=[],this.unidentifiedGraphsBuffer=[],this.annotationsBuffer=[],this.pendingContainerFlushBuffers=[],this.parser=i.parser,i.context?(this.rootContext=this.parseContext(i.context),this.rootContext.then(s=>this.validateContext(s))):this.rootContext=Promise.resolve(new a.JsonLdContextNormalized(this.baseIRI?{"@base":this.baseIRI,"@__baseDocument":!0}:{}))}async parseContext(i,s,c){return this.contextParser.parse(i,{baseIRI:this.baseIRI,ignoreProtection:c,normalizeLanguageTags:this.normalizeLanguageTags,parentContext:s,processingMode:this.activeProcessingMode})}validateContext(i){const s=i.getContextRaw()["@version"];if(s){if(this.activeProcessingMode&&s>this.activeProcessingMode)throw new t.ErrorCoded(`Unsupported JSON-LD version '${s}' under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.PROCESSING_MODE_CONFLICT);if(this.activeProcessingMode&&s<this.activeProcessingMode)throw new t.ErrorCoded(`Invalid JSON-LD version ${s} under active processing mode ${this.activeProcessingMode}.`,t.ERROR_CODES.INVALID_VERSION_VALUE);this.activeProcessingMode=s}}async getContext(i,s=1){const c=i;for(;typeof i[i.length-1]=="number";)i=i.slice(0,i.length-1);s&&(i=i.slice(0,-s));const u=await this.getContextPropagationAware(i);let f=u.context.getContextRaw();for(let d=u.depth;d<c.length-s;d++){const h=c[d],p=f[h];if(p&&typeof p=="object"&&"@context"in p){const _=(await this.parseContext(p,f,!0)).getContextRaw(),g=!(h in _)||_[h]["@context"]["@propagate"];(g!==!1||d===c.length-1-s)&&(f=Object.assign({},_),delete f["@propagate"],f[h]=Object.assign({},f[h]),"@id"in p&&(f[h]["@id"]=p["@id"]),delete f[h]["@context"],g!==!1&&this.contextTree.setContext(c.slice(0,d+s),Promise.resolve(new a.JsonLdContextNormalized(f))))}}return new a.JsonLdContextNormalized(f)}async getContextPropagationAware(i){const s=i.length;let c=null,u;do{u=!1,c&&"@__propagateFallback"in c.context.getContextRaw()?c.context=new a.JsonLdContextNormalized(c.context.getContextRaw()["@__propagateFallback"]):(c&&(i=i.slice(0,c.depth-1)),c=await this.contextTree.getContext(i)||{context:await this.rootContext,depth:0});const l=i[i.length-1];if(l in c.context.getContextRaw()){const f=c.context.getContextRaw()[l];f&&typeof f=="object"&&"@context"in f&&(u=!0)}}while(c.depth>0&&c.context.getContextRaw()["@propagate"]===!1&&c.depth!==s&&!u);return c.depth===0&&c.context.getContextRaw()["@propagate"]===!1&&c.depth!==s&&(c.context=new a.JsonLdContextNormalized({})),c}async newOnValueJob(i,s,c,u){await this.parser.newOnValueJob(i,s,c,u)}async handlePendingContainerFlushBuffers(){if(this.pendingContainerFlushBuffers.length>0){for(const i of this.pendingContainerFlushBuffers)await this.parser.flushBuffer(i.depth,i.keys),this.parser.flushStacks(i.depth);return this.pendingContainerFlushBuffers.splice(0,this.pendingContainerFlushBuffers.length),!0}else return!1}emitQuad(i,s){i===1&&(this.topLevelProperties=!0),this.parser.push(s)}emitError(i){this.parser.emit("error",i)}emitContext(i){this.parser.emit("context",i)}getUnidentifiedValueBufferSafe(i){let s=this.unidentifiedValuesBuffer[i];return s||(s=[],this.unidentifiedValuesBuffer[i]=s),s}getUnidentifiedGraphBufferSafe(i){let s=this.unidentifiedGraphsBuffer[i];return s||(s=[],this.unidentifiedGraphsBuffer[i]=s),s}getAnnotationsBufferSafe(i){let s=this.annotationsBuffer[i];return s||(s=[],this.annotationsBuffer[i]=s),s}getExpandOptions(){return Sae.EXPAND_OPTIONS[this.activeProcessingMode]}shiftStack(i,s){const c=this.idStack[i+s];if(c&&(this.idStack[i]=c,this.emittedStack[i]=!0,delete this.idStack[i+s]),this.pendingContainerFlushBuffers.length)for(const u of this.pendingContainerFlushBuffers)u.depth>=i+s&&(u.depth-=s,u.keys.splice(i,s));this.unidentifiedValuesBuffer[i+s]&&(this.unidentifiedValuesBuffer[i]=this.unidentifiedValuesBuffer[i+s],delete this.unidentifiedValuesBuffer[i+s]),this.annotationsBuffer[i+s-1]&&(this.annotationsBuffer[i-1]||(this.annotationsBuffer[i-1]=[]),this.annotationsBuffer[i-1]=[...this.annotationsBuffer[i-1],...this.annotationsBuffer[i+s-1]],delete this.annotationsBuffer[i+s-1])}};return r.EXPAND_OPTIONS={1:{allowPrefixForcing:!1,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!1},1.1:{allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},YT.ParsingContext=r,YT}var ew={},tK;function Wme(){if(tK)return ew;tK=1,Object.defineProperty(ew,"__esModule",{value:!0}),ew.EntryHandlerKeywordAnnotation=void 0;const a=Oa(),t=hn();let o=class extends a.EntryHandlerKeyword{constructor(){super("@annotation")}async handle(r,e,i,s,c,u){(typeof c=="string"||typeof c=="object"&&c["@value"])&&r.emitError(new t.ErrorCoded(`Found illegal annotation value: ${JSON.stringify(c)}`,t.ERROR_CODES.INVALID_ANNOTATION))}};return ew.EntryHandlerKeywordAnnotation=o,ew}var rK;function nK(){if(rK)return wT;rK=1,Object.defineProperty(wT,"__esModule",{value:!0}),wT.JsonLdParser=void 0;const a=g9(),t=hn(),o=qt(),n=qme(),r=BJ(),e=Cme(),i=aE(),s=Bme(),c=$me(),u=Ume(),l=Vme(),f=Qme(),d=Hme(),h=Gme(),p=zme(),_=Xme(),g=rd(),y=R1(),m=Wme();let b=class hp extends o.Transform{constructor(w){super({readableObjectMode:!0}),w=w||{},this.options=w,this.parsingContext=new _.ParsingContext(Object.assign({parser:this},w)),this.util=new g.Util({dataFactory:w.dataFactory,parsingContext:this.parsingContext}),this.jsonParser=new a,this.contextJobs=[],this.typeJobs=[],this.contextAwaitingJobs=[],this.lastDepth=0,this.lastKeys=[],this.lastOnValueJob=Promise.resolve(),this.attachJsonParserListeners(),this.on("end",()=>{typeof this.jsonParser.mode<"u"&&this.emit("error",new Error("Unclosed document"))})}static fromHttpResponse(w,O,F,Q){let j,x=["application/activity+json"];if(Q&&Q.wellKnownMediaTypes&&(x=Q.wellKnownMediaTypes),O!=="application/ld+json"&&!x.includes(O)){if(O!=="application/json"&&!O.endsWith("+json"))throw new t.ErrorCoded(`Unsupported JSON-LD media type ${O}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED);if(F&&F.has("Link")&&F.forEach((D,C)=>{if(C==="link"){const X=(0,y.parse)(D);for(const z of X.get("rel","http://www.w3.org/ns/json-ld#context")){if(j)throw new t.ErrorCoded("Multiple JSON-LD context link headers were found on "+w,t.ERROR_CODES.MULTIPLE_CONTEXT_LINK_HEADERS);j=z.uri}}}),!j&&!(Q!=null&&Q.ignoreMissingContextLinkHeader))throw new t.ErrorCoded(`Missing context link header for media type ${O} on ${w}`,t.ERROR_CODES.LOADING_DOCUMENT_FAILED)}let I;if(F&&F.has("Content-Type")){const D=F.get("Content-Type"),C=/; *profile=([^"]*)/.exec(D);C&&C[1]==="http://www.w3.org/ns/json-ld#streaming"&&(I=!0)}return new hp(Object.assign({baseIRI:w,context:j,streamingProfile:I},Q||{}))}import(w){if("pipe"in w){w.on("error",F=>O.emit("error",F));const O=w.pipe(new hp(this.options));return O}else{const O=new o.PassThrough({readableObjectMode:!0});w.on("error",Q=>F.emit("error",Q)),w.on("data",Q=>O.push(Q)),w.on("end",()=>O.push(null));const F=O.pipe(new hp(this.options));return F}}_transform(w,O,F){this.jsonParser.write(w),this.lastOnValueJob.then(()=>F(),Q=>F(Q))}async newOnValueJob(w,O,F,Q){let j=!0;if(Q&&F<this.lastDepth){const X=this.parsingContext.listPointerStack[this.lastDepth];X&&(X.value&&this.push(this.util.dataFactory.quad(X.value,this.util.rdfRest,this.util.rdfNil,this.util.getDefaultGraph())),X.listId.listHead=!0,this.parsingContext.idStack[X.listRootDepth+1]=[X.listId],this.parsingContext.listPointerStack.splice(this.lastDepth,1)),await r.EntryHandlerContainer.isBufferableContainerHandler(this.parsingContext,this.lastKeys,this.lastDepth)?(this.parsingContext.pendingContainerFlushBuffers.push({depth:this.lastDepth,keys:this.lastKeys.slice(0,this.lastKeys.length)}),j=!1):await this.flushBuffer(this.lastDepth,this.lastKeys)}const x=await this.util.unaliasKeyword(w[F],w,F),I=await this.util.unaliasKeywordParent(w,F);this.parsingContext.emittedStack[F]=!0;let D=!0;t.Util.isValidKeyword(x)&&I==="@reverse"&&x!=="@context"&&this.emit("error",new t.ErrorCoded(`Found the @id '${O}' inside an @reverse property`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY_MAP));let C=!1;this.parsingContext.validationStack.length>1&&(C=this.parsingContext.validationStack[this.parsingContext.validationStack.length-1].property);for(let X=Math.max(1,this.parsingContext.validationStack.length-1);X<w.length-1;X++){const z=this.parsingContext.validationStack[X]||(this.parsingContext.validationStack[X]=await this.validateKey(w.slice(0,X+1),X,C));if(z.valid)!C&&z.property&&(C=!0);else{this.parsingContext.emittedStack[F]=!1,D=!1;break}}if(await this.util.isLiteral(w,F)&&(D=!1),D)for(const X of hp.ENTRY_HANDLERS){const z=await X.test(this.parsingContext,this.util,x,w,F);if(z){await X.handle(this.parsingContext,this.util,x,w,O,F,z),X.isStackProcessor()&&(this.parsingContext.processingStack[F]=!0);break}}F===0&&Array.isArray(O)&&await this.util.validateValueIndexes(O),j&&F<this.lastDepth&&this.flushStacks(this.lastDepth),this.lastDepth=F,this.lastKeys=w,this.parsingContext.unaliasedKeywordCacheStack.splice(F-1)}flushStacks(w){this.parsingContext.processingStack.splice(w,1),this.parsingContext.processingType.splice(w,1),this.parsingContext.emittedStack.splice(w,1),this.parsingContext.idStack.splice(w,1),this.parsingContext.graphStack.splice(w+1,1),this.parsingContext.graphContainerTermStack.splice(w,1),this.parsingContext.jsonLiteralStack.splice(w,1),this.parsingContext.validationStack.splice(w-1,2),this.parsingContext.literalStack.splice(w,this.parsingContext.literalStack.length-w),this.parsingContext.annotationsBuffer.splice(w,1)}async flushBuffer(w,O){let F=this.parsingContext.idStack[w];!!F||(F=this.parsingContext.idStack[w]=[this.util.dataFactory.blankNode()]);const j=this.parsingContext.unidentifiedValuesBuffer[w];if(j){for(const D of F){const C=await this.util.getDepthOffsetGraph(w,O),X=this.parsingContext.graphStack[w]||C>=0?this.parsingContext.idStack[w-C-1]:[await this.util.getGraphContainerValue(O,w)];if(X)for(const z of X){this.parsingContext.emittedStack[w]=!0;for(const J of j)this.util.emitQuadChecked(w,D,J.predicate,J.object,z,J.reverse,J.isEmbedded)}else{const z=this.parsingContext.getUnidentifiedGraphBufferSafe(w-await this.util.getDepthOffsetGraph(w,O)-1);for(const J of j)J.reverse?z.push({object:D,predicate:J.predicate,subject:J.object,isEmbedded:J.isEmbedded}):z.push({object:J.object,predicate:J.predicate,subject:D,isEmbedded:J.isEmbedded})}}this.parsingContext.unidentifiedValuesBuffer.splice(w,1),this.parsingContext.literalStack.splice(w,1),this.parsingContext.jsonLiteralStack.splice(w,1)}const x=this.parsingContext.unidentifiedGraphsBuffer[w];if(x){for(const D of F){const C=w===1&&D.termType==="BlankNode"&&!this.parsingContext.topLevelProperties?this.util.getDefaultGraph():D;this.parsingContext.emittedStack[w]=!0;for(const X of x)this.parsingContext.emitQuad(w,this.util.dataFactory.quad(X.subject,X.predicate,X.object,C))}this.parsingContext.unidentifiedGraphsBuffer.splice(w,1)}const I=this.parsingContext.annotationsBuffer[w];if(I){I.length>0&&w===1&&this.parsingContext.emitError(new t.ErrorCoded("Annotations can not be made on top-level nodes",t.ERROR_CODES.INVALID_ANNOTATION));const D=this.parsingContext.getAnnotationsBufferSafe(w-1);for(const C of I)D.push(C);delete this.parsingContext.annotationsBuffer[w]}}async validateKey(w,O,F){for(const Q of hp.ENTRY_HANDLERS)if(await Q.validate(this.parsingContext,this.util,w,O,F))return{valid:!0,property:F||Q.isPropertyHandler()};return{valid:!1,property:!1}}attachJsonParserListeners(){this.jsonParser.onValue=w=>{const O=this.jsonParser.stack.length,F=new Array(O+1).fill(0).map((Q,j)=>j===O?this.jsonParser.key:this.jsonParser.stack[j].key);if(!this.isParsingContextInner(O)){const Q=()=>this.newOnValueJob(F,w,O,!0);if(!this.parsingContext.streamingProfile&&!this.parsingContext.contextTree.getContext(F.slice(0,-1)))if(F[O]==="@context"){let j=this.contextJobs[O];j||(j=this.contextJobs[O]=[]),j.push(Q)}else this.contextAwaitingJobs.push({job:Q,keys:F,depth:O});else this.lastOnValueJob=this.lastOnValueJob.then(Q);!this.parsingContext.streamingProfile&&O===0&&(this.lastOnValueJob=this.lastOnValueJob.then(()=>this.executeBufferedJobs()))}},this.jsonParser.onError=w=>{this.emit("error",w)}}isParsingContextInner(w){for(let O=w;O>0;O--)if(this.jsonParser.stack[O-1].key==="@context")return!0;return!1}async executeBufferedJobs(){for(const O of this.contextJobs)if(O)for(const F of O)await F();this.parsingContext.unaliasedKeywordCacheStack.splice(0);const w=[];for(const O of this.contextAwaitingJobs)await this.util.unaliasKeyword(O.keys[O.depth],O.keys,O.depth,!0)==="@type"||typeof O.keys[O.depth]=="number"&&await this.util.unaliasKeyword(O.keys[O.depth-1],O.keys,O.depth-1,!0)==="@type"?this.typeJobs.push({job:O.job,keys:O.keys.slice(0,O.keys.length-1)}):w.push(O);for(const O of w){if(this.typeJobs.length>0){const F=[],Q=[];for(let I=0;I<this.typeJobs.length;I++){const D=this.typeJobs[I];g.Util.isPrefixArray(D.keys,O.keys)&&(F.push(D),Q.push(I))}const j=F.sort((I,D)=>I.keys.length-D.keys.length);for(const I of j)await I.job();const x=Q.sort().reverse();for(const I of x)this.typeJobs.splice(I,1)}await O.job()}}};return b.DEFAULT_PROCESSING_MODE="1.1",b.ENTRY_HANDLERS=[new n.EntryHandlerArrayValue,new s.EntryHandlerKeywordContext,new u.EntryHandlerKeywordId,new l.EntryHandlerKeywordIncluded,new c.EntryHandlerKeywordGraph,new f.EntryHandlerKeywordNest,new d.EntryHandlerKeywordType,new p.EntryHandlerKeywordValue,new m.EntryHandlerKeywordAnnotation,new r.EntryHandlerContainer,new h.EntryHandlerKeywordUnknownFallback,new i.EntryHandlerPredicate,new e.EntryHandlerInvalidFallback],wT.JsonLdParser=b,wT}var iK;function Jme(){return iK||(iK=1,function(a){var t=Zl&&Zl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Zl&&Zl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(nK(),a)}(Zl)),Zl}var tw={},nd={},rw={},wN={},aK;function oK(){return aK||(aK=1,function(){(function(a){(function(t){var o=typeof globalThis<"u"&&globalThis||typeof a<"u"&&a||typeof Ft<"u"&&Ft||{},n={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function r(x){return x&&DataView.prototype.isPrototypeOf(x)}if(n.arrayBuffer)var e=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(x){return x&&e.indexOf(Object.prototype.toString.call(x))>-1};function s(x){if(typeof x!="string"&&(x=String(x)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(x)||x==="")throw new TypeError('Invalid character in header field name: "'+x+'"');return x.toLowerCase()}function c(x){return typeof x!="string"&&(x=String(x)),x}function u(x){var I={next:function(){var D=x.shift();return{done:D===void 0,value:D}}};return n.iterable&&(I[Symbol.iterator]=function(){return I}),I}function l(x){this.map={},x instanceof l?x.forEach(function(I,D){this.append(D,I)},this):Array.isArray(x)?x.forEach(function(I){if(I.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+I.length);this.append(I[0],I[1])},this):x&&Object.getOwnPropertyNames(x).forEach(function(I){this.append(I,x[I])},this)}l.prototype.append=function(x,I){x=s(x),I=c(I);var D=this.map[x];this.map[x]=D?D+", "+I:I},l.prototype.delete=function(x){delete this.map[s(x)]},l.prototype.get=function(x){return x=s(x),this.has(x)?this.map[x]:null},l.prototype.has=function(x){return this.map.hasOwnProperty(s(x))},l.prototype.set=function(x,I){this.map[s(x)]=c(I)},l.prototype.forEach=function(x,I){for(var D in this.map)this.map.hasOwnProperty(D)&&x.call(I,this.map[D],D,this)},l.prototype.keys=function(){var x=[];return this.forEach(function(I,D){x.push(D)}),u(x)},l.prototype.values=function(){var x=[];return this.forEach(function(I){x.push(I)}),u(x)},l.prototype.entries=function(){var x=[];return this.forEach(function(I,D){x.push([D,I])}),u(x)},n.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);function f(x){if(!x._noBody){if(x.bodyUsed)return Promise.reject(new TypeError("Already read"));x.bodyUsed=!0}}function d(x){return new Promise(function(I,D){x.onload=function(){I(x.result)},x.onerror=function(){D(x.error)}})}function h(x){var I=new FileReader,D=d(I);return I.readAsArrayBuffer(x),D}function p(x){var I=new FileReader,D=d(I),C=/charset=([A-Za-z0-9_-]+)/.exec(x.type),X=C?C[1]:"utf-8";return I.readAsText(x,X),D}function _(x){for(var I=new Uint8Array(x),D=new Array(I.length),C=0;C<I.length;C++)D[C]=String.fromCharCode(I[C]);return D.join("")}function g(x){if(x.slice)return x.slice(0);var I=new Uint8Array(x.byteLength);return I.set(new Uint8Array(x)),I.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(x){this.bodyUsed=this.bodyUsed,this._bodyInit=x,x?typeof x=="string"?this._bodyText=x:n.blob&&Blob.prototype.isPrototypeOf(x)?this._bodyBlob=x:n.formData&&FormData.prototype.isPrototypeOf(x)?this._bodyFormData=x:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)?this._bodyText=x.toString():n.arrayBuffer&&n.blob&&r(x)?(this._bodyArrayBuffer=g(x.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(x)||i(x))?this._bodyArrayBuffer=g(x):this._bodyText=x=Object.prototype.toString.call(x):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof x=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(x)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var x=f(this);if(x)return x;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var x=f(this);return x||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(n.blob)return this.blob().then(h);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var x=f(this);if(x)return x;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}var m=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function b(x){var I=x.toUpperCase();return m.indexOf(I)>-1?I:x}function T(x,I){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var D=I.body;if(x instanceof T){if(x.bodyUsed)throw new TypeError("Already read");this.url=x.url,this.credentials=x.credentials,I.headers||(this.headers=new l(x.headers)),this.method=x.method,this.mode=x.mode,this.signal=x.signal,!D&&x._bodyInit!=null&&(D=x._bodyInit,x.bodyUsed=!0)}else this.url=String(x);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new l(I.headers)),this.method=b(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal||function(){if("AbortController"in o){var z=new AbortController;return z.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&D)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(D),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var C=/([?&])_=[^&]*/;if(C.test(this.url))this.url=this.url.replace(C,"$1_="+new Date().getTime());else{var X=/\?/;this.url+=(X.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}T.prototype.clone=function(){return new T(this,{body:this._bodyInit})};function w(x){var I=new FormData;return x.trim().split("&").forEach(function(D){if(D){var C=D.split("="),X=C.shift().replace(/\+/g," "),z=C.join("=").replace(/\+/g," ");I.append(decodeURIComponent(X),decodeURIComponent(z))}}),I}function O(x){var I=new l,D=x.replace(/\r?\n[\t ]+/g," ");return D.split("\r").map(function(C){return C.indexOf(`
`)===0?C.substr(1,C.length):C}).forEach(function(C){var X=C.split(":"),z=X.shift().trim();if(z){var J=X.join(":").trim();try{I.append(z,J)}catch(ie){console.warn("Response "+ie.message)}}}),I}y.call(T.prototype);function F(x,I){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new l(I.headers),this.url=I.url||"",this._initBody(x)}y.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},F.error=function(){var x=new F(null,{status:200,statusText:""});return x.ok=!1,x.status=0,x.type="error",x};var Q=[301,302,303,307,308];F.redirect=function(x,I){if(Q.indexOf(I)===-1)throw new RangeError("Invalid status code");return new F(null,{status:I,headers:{location:x}})},t.DOMException=o.DOMException;try{new t.DOMException}catch{t.DOMException=function(I,D){this.message=I,this.name=D;var C=Error(I);this.stack=C.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function j(x,I){return new Promise(function(D,C){var X=new T(x,I);if(X.signal&&X.signal.aborted)return C(new t.DOMException("Aborted","AbortError"));var z=new XMLHttpRequest;function J(){z.abort()}z.onload=function(){var ye={statusText:z.statusText,headers:O(z.getAllResponseHeaders()||"")};X.url.indexOf("file://")===0&&(z.status<200||z.status>599)?ye.status=200:ye.status=z.status,ye.url="responseURL"in z?z.responseURL:ye.headers.get("X-Request-URL");var K="response"in z?z.response:z.responseText;setTimeout(function(){D(new F(K,ye))},0)},z.onerror=function(){setTimeout(function(){C(new TypeError("Network request failed"))},0)},z.ontimeout=function(){setTimeout(function(){C(new TypeError("Network request timed out"))},0)},z.onabort=function(){setTimeout(function(){C(new t.DOMException("Aborted","AbortError"))},0)};function ie(ye){try{return ye===""&&o.location.href?o.location.href:ye}catch{return ye}}if(z.open(X.method,ie(X.url),!0),X.credentials==="include"?z.withCredentials=!0:X.credentials==="omit"&&(z.withCredentials=!1),"responseType"in z&&(n.blob?z.responseType="blob":n.arrayBuffer&&(z.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof l||o.Headers&&I.headers instanceof o.Headers)){var se=[];Object.getOwnPropertyNames(I.headers).forEach(function(ye){se.push(s(ye)),z.setRequestHeader(ye,c(I.headers[ye]))}),X.headers.forEach(function(ye,K){se.indexOf(K)===-1&&z.setRequestHeader(K,ye)})}else X.headers.forEach(function(ye,K){z.setRequestHeader(K,ye)});X.signal&&(X.signal.addEventListener("abort",J),z.onreadystatechange=function(){z.readyState===4&&X.signal.removeEventListener("abort",J)}),z.send(typeof X._bodyInit>"u"?null:X._bodyInit)})}return j.polyfill=!0,o.fetch||(o.fetch=j,o.Headers=l,o.Request=T,o.Response=F),t.Headers=l,t.Request=T,t.Response=F,t.fetch=j,Object.defineProperty(t,"__esModule",{value:!0}),t})({})})(typeof self<"u"?self:wN)}()),wN}var SN={},sK;function oE(){return sK||(sK=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.ERROR_CODES=a.ErrorCoded=void 0;class t extends Error{constructor(n,r){super(n),this.code=r}}a.ErrorCoded=t,function(o){o.COLLIDING_KEYWORDS="colliding keywords",o.CONFLICTING_INDEXES="conflicting indexes",o.CYCLIC_IRI_MAPPING="cyclic IRI mapping",o.INVALID_ID_VALUE="invalid @id value",o.INVALID_INDEX_VALUE="invalid @index value",o.INVALID_NEST_VALUE="invalid @nest value",o.INVALID_PREFIX_VALUE="invalid @prefix value",o.INVALID_PROPAGATE_VALUE="invalid @propagate value",o.INVALID_REVERSE_VALUE="invalid @reverse value",o.INVALID_IMPORT_VALUE="invalid @import value",o.INVALID_VERSION_VALUE="invalid @version value",o.INVALID_BASE_IRI="invalid base IRI",o.INVALID_CONTAINER_MAPPING="invalid container mapping",o.INVALID_CONTEXT_ENTRY="invalid context entry",o.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",o.INVALID_DEFAULT_LANGUAGE="invalid default language",o.INVALID_INCLUDED_VALUE="invalid @included value",o.INVALID_IRI_MAPPING="invalid IRI mapping",o.INVALID_JSON_LITERAL="invalid JSON literal",o.INVALID_KEYWORD_ALIAS="invalid keyword alias",o.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",o.INVALID_LANGUAGE_MAPPING="invalid language mapping",o.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",o.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",o.INVALID_LOCAL_CONTEXT="invalid local context",o.INVALID_REMOTE_CONTEXT="invalid remote context",o.INVALID_REVERSE_PROPERTY="invalid reverse property",o.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",o.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",o.INVALID_SCOPED_CONTEXT="invalid scoped context",o.INVALID_SCRIPT_ELEMENT="invalid script element",o.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",o.INVALID_TERM_DEFINITION="invalid term definition",o.INVALID_TYPE_MAPPING="invalid type mapping",o.INVALID_TYPE_VALUE="invalid type value",o.INVALID_TYPED_VALUE="invalid typed value",o.INVALID_VALUE_OBJECT="invalid value object",o.INVALID_VALUE_OBJECT_VALUE="invalid value object value",o.INVALID_VOCAB_MAPPING="invalid vocab mapping",o.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",o.KEYWORD_REDEFINITION="keyword redefinition",o.LOADING_DOCUMENT_FAILED="loading document failed",o.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",o.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",o.PROCESSING_MODE_CONFLICT="processing mode conflict",o.PROTECTED_TERM_REDEFINITION="protected term redefinition",o.CONTEXT_OVERFLOW="context overflow",o.INVALID_BASE_DIRECTION="invalid base direction",o.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",o.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",o.INVALID_EMBEDDED_NODE="invalid embedded node",o.INVALID_ANNOTATION="invalid annotation"}(a.ERROR_CODES||(a.ERROR_CODES={}))}(SN)),SN}var nw={},uK;function cK(){if(uK)return nw;uK=1,Object.defineProperty(nw,"__esModule",{value:!0}),nw.FetchDocumentLoader=void 0,oK();const a=oE(),t=R1(),o=Sr();let n=class{constructor(e){this.fetcher=e}async load(e){const i=await(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(i.ok&&i.headers){let s=i.headers.get("Content-Type");if(s){const c=s.indexOf(";");c>0&&(s=s.substr(0,c))}if(s==="application/ld+json")return await i.json();if(i.headers.has("Link")){let c;if(i.headers.forEach((u,l)=>{if(l==="link"){const f=(0,t.parse)(u);for(const d of f.get("type","application/ld+json"))if(d.rel==="alternate"){if(c)throw new Error("Multiple JSON-LD alternate links were found on "+e);c=(0,o.resolve)(d.uri,e)}}}),c)return this.load(c)}throw new a.ErrorCoded(`Unsupported JSON-LD media type ${s}`,a.ERROR_CODES.LOADING_DOCUMENT_FAILED)}else throw new Error(i.statusText||`Status code: ${i.status}`)}};return nw.FetchDocumentLoader=n,nw}var ON={},iw={},lK;function AN(){if(lK)return iw;lK=1,Object.defineProperty(iw,"__esModule",{value:!0}),iw.Util=void 0;let a=class ea{static isCompactIri(o){return o.indexOf(":")>0&&!(o&&o[0]==="#")}static getPrefix(o,n){if(o&&o[0]==="#")return null;const r=o.indexOf(":");if(r>=0){if(o.length>r+1&&o.charAt(r+1)==="/"&&o.charAt(r+2)==="/")return null;const e=o.substr(0,r);if(e==="_")return null;if(n[e])return e}return null}static getContextValueId(o){if(o===null||typeof o=="string")return o;const n=o["@id"];return n||null}static isSimpleTermDefinitionPrefix(o,n){return!ea.isPotentialKeyword(o)&&(n.allowPrefixNonGenDelims||typeof o=="string"&&(o[0]==="_"||ea.isPrefixIriEndingWithGenDelim(o)))}static isPotentialKeyword(o){return typeof o=="string"&&ea.KEYWORD_REGEX.test(o)}static isPrefixIriEndingWithGenDelim(o){return ea.ENDS_WITH_GEN_DELIM.test(o)}static isPrefixValue(o){return o&&(typeof o=="string"||o&&typeof o=="object")}static isValidIri(o){return!!(o&&ea.IRI_REGEX.test(o))}static isValidIriWeak(o){return!!o&&o[0]!==":"&&ea.IRI_REGEX_WEAK.test(o)}static isValidKeyword(o){return ea.VALID_KEYWORDS[o]}static isTermProtected(o,n){const r=o[n];return typeof r!="string"&&r&&r["@protected"]}static hasProtectedTerms(o){for(const n of Object.keys(o))if(ea.isTermProtected(o,n))return!0;return!1}static isReservedInternalKeyword(o){return o.startsWith("@__")}static deepEqual(o,n){const r=Object.keys(o),e=Object.keys(n);return r.length!==e.length?!1:r.every(i=>{const s=o[i],c=n[i];return s===c||s!==null&&c!==null&&typeof s=="object"&&typeof c=="object"&&this.deepEqual(s,c)})}};return a.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,a.IRI_REGEX_WEAK=/(?::[^:])|\//,a.KEYWORD_REGEX=/^@[a-z]+$/i,a.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,a.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,a.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,a.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},a.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],a.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],a.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],a.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],a.CONTAINERS_1_0=["@list","@set","@index"],iw.Util=a,iw}var dK;function fK(){return dK||(dK=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.defaultExpandOptions=a.JsonLdContextNormalized=void 0;const t=Sr(),o=oE(),n=AN();class r{constructor(i){this.contextRaw=i}getContextRaw(){return this.contextRaw}expandTerm(i,s,c=a.defaultExpandOptions){const u=this.contextRaw[i];if(u===null||u&&u["@id"]===null)return null;let l=!0;if(u&&s){const g=n.Util.getContextValueId(u);if(g&&g!==i)if(typeof g!="string"||!n.Util.isValidIri(g)&&!n.Util.isValidKeyword(g))n.Util.isPotentialKeyword(g)||(l=!1);else return g}const f=n.Util.getPrefix(i,this.contextRaw),d=this.contextRaw["@vocab"],h=(!!d||d==="")&&d.indexOf(":")<0,p=this.contextRaw["@base"],_=n.Util.isPotentialKeyword(i);if(f){const g=this.contextRaw[f],y=n.Util.getContextValueId(g);if(y){if(typeof g=="string"||!c.allowPrefixForcing){if(!n.Util.isSimpleTermDefinitionPrefix(y,c))return i}else if(y[0]!=="_"&&!_&&!g["@prefix"]&&!(i in this.contextRaw))return i;return y+i.substr(f.length+1)}}else if(s&&(d||d===""||c.allowVocabRelativeToBase&&p&&h)&&!_&&!n.Util.isCompactIri(i))if(h){if(c.allowVocabRelativeToBase)return(d||p?(0,t.resolve)(d,p):"")+i;throw new o.ErrorCoded(`Relative vocab expansion for term '${i}' with vocab '${d}' is not allowed.`,o.ERROR_CODES.INVALID_VOCAB_MAPPING)}else return d+i;else if(!s&&p&&!_&&!n.Util.isCompactIri(i))return(0,t.resolve)(i,p);if(l)return i;throw new o.ErrorCoded(`Invalid IRI mapping found for context entry '${i}': '${JSON.stringify(u)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(i,s){if(s&&this.contextRaw["@vocab"]&&i.startsWith(this.contextRaw["@vocab"]))return i.substr(this.contextRaw["@vocab"].length);if(!s&&this.contextRaw["@base"]&&i.startsWith(this.contextRaw["@base"]))return i.substr(this.contextRaw["@base"].length);const c={prefix:"",suffix:i};for(const u in this.contextRaw){const l=this.contextRaw[u];if(l&&!n.Util.isPotentialKeyword(u)){const f=n.Util.getContextValueId(l);if(i.startsWith(f)){const d=i.substr(f.length);if(d)d.length<c.suffix.length&&(c.prefix=u,c.suffix=d);else if(s)return u}}}return c.prefix?c.prefix+":"+c.suffix:i}}a.JsonLdContextNormalized=r,a.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}}(ON)),ON}var hK;function Kme(){if(hK)return rw;hK=1,Object.defineProperty(rw,"__esModule",{value:!0}),rw.ContextParser=void 0,oK();const a=Sr(),t=oE(),o=cK(),n=fK(),r=AN();let e=class th{constructor(s){s=s||{},this.documentLoader=s.documentLoader||new o.FetchDocumentLoader,this.documentCache={},this.validateContext=!s.skipValidation,this.expandContentTypeToBase=!!s.expandContentTypeToBase,this.remoteContextsDepthLimit=s.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps="redirectSchemaOrgHttps"in s?!!s.redirectSchemaOrgHttps:!0}static validateLanguage(s,c,u){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(s)}'`,u);if(!r.Util.REGEX_LANGUAGE_TAG.test(s)){if(c)throw new t.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(s)}'`,u);return!1}return!0}static validateDirection(s,c){if(typeof s!="string")throw new t.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);if(!r.Util.REGEX_DIRECTION_TAG.test(s)){if(c)throw new t.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(s)}'`,t.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(s){for(const c of Object.keys(s)){let u=s[c];if(u&&typeof u=="object"&&u["@reverse"]&&!u["@id"]){if(typeof u["@reverse"]!="string"||r.Util.isValidKeyword(u["@reverse"]))throw new t.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${u["@reverse"]}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);u=s[c]=Object.assign(Object.assign({},u),{"@id":u["@reverse"]}),u["@id"]=u["@reverse"],r.Util.isPotentialKeyword(u["@reverse"])?delete u["@reverse"]:u["@reverse"]=!0}}return s}expandPrefixedTerms(s,c,u){const l=s.getContextRaw();for(const f of u||Object.keys(l))if(r.Util.EXPAND_KEYS_BLACKLIST.indexOf(f)<0&&!r.Util.isReservedInternalKeyword(f)){const d=l[f];if(r.Util.isPotentialKeyword(f)&&r.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(f)>=0&&(f!=="@type"||typeof l[f]=="object"&&!(l[f]["@protected"]||l[f]["@container"]==="@set")))throw new t.ErrorCoded(`Keywords can not be aliased to something else.
Tried mapping ${f} to ${JSON.stringify(d)}`,t.ERROR_CODES.KEYWORD_REDEFINITION);if(r.Util.ALIAS_RANGE_BLACKLIST.indexOf(r.Util.getContextValueId(d))>=0)throw new t.ErrorCoded(`Aliasing to certain keywords is not allowed.
Tried mapping ${f} to ${JSON.stringify(d)}`,t.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(d&&r.Util.isPotentialKeyword(r.Util.getContextValueId(d))&&d["@prefix"]===!0)throw new t.ErrorCoded(`Tried to use keyword aliases as prefix: '${f}': '${JSON.stringify(d)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);for(;r.Util.isPrefixValue(l[f]);){const h=l[f];let p=!1;if(typeof h=="string")l[f]=s.expandTerm(h,!0),p=p||h!==l[f];else{const _=h["@id"],g=h["@type"],y=!("@prefix"in h)||r.Util.isValidIri(f);if("@id"in h)_!=null&&typeof _=="string"&&(l[f]=Object.assign(Object.assign({},l[f]),{"@id":s.expandTerm(_,!0)}),p=p||_!==l[f]["@id"]);else if(!r.Util.isPotentialKeyword(f)&&y){const m=s.expandTerm(f,!0);m!==f&&(l[f]=Object.assign(Object.assign({},l[f]),{"@id":m}),p=!0)}if(g&&typeof g=="string"&&g!=="@vocab"&&(!h["@container"]||!h["@container"]["@type"])&&y){let m=s.expandTerm(g,!0);c&&g===m&&(m=s.expandTerm(g,!1)),m!==g&&(p=!0,l[f]=Object.assign(Object.assign({},l[f]),{"@type":m}))}}if(!p)break}}}normalize(s,{processingMode:c,normalizeLanguageTags:u}){if(u||c===1)for(const l of Object.keys(s))if(l==="@language"&&typeof s[l]=="string")s[l]=s[l].toLowerCase();else{const f=s[l];if(f&&typeof f=="object"&&typeof f["@language"]=="string"){const d=f["@language"].toLowerCase();d!==f["@language"]&&(s[l]=Object.assign(Object.assign({},f),{"@language":d}))}}}containersToHash(s){for(const c of Object.keys(s)){const u=s[c];if(u&&typeof u=="object"){if(typeof u["@container"]=="string")s[c]=Object.assign(Object.assign({},u),{"@container":{[u["@container"]]:!0}});else if(Array.isArray(u["@container"])){const l={};for(const f of u["@container"])l[f]=!0;s[c]=Object.assign(Object.assign({},u),{"@container":l})}}}}applyScopedProtected(s,{processingMode:c},u){if(c&&c>=1.1&&s["@protected"]){for(const l of Object.keys(s))if(!r.Util.isReservedInternalKeyword(l)&&!r.Util.isPotentialKeyword(l)&&!r.Util.isTermProtected(s,l)){const f=s[l];f&&typeof f=="object"?"@protected"in s[l]||(s[l]=Object.assign(Object.assign({},s[l]),{"@protected":!0})):(s[l]={"@id":f,"@protected":!0},r.Util.isSimpleTermDefinitionPrefix(f,u)&&(s[l]=Object.assign(Object.assign({},s[l]),{"@prefix":!0})))}delete s["@protected"]}}validateKeywordRedefinitions(s,c,u,l){for(const f of l??Object.keys(c))if(r.Util.isTermProtected(s,f)&&(typeof c[f]=="string"?c[f]={"@id":c[f],"@protected":!0}:c[f]=Object.assign(Object.assign({},c[f]),{"@protected":!0}),!r.Util.deepEqual(s[f],c[f])))throw new t.ErrorCoded(`Attempted to override the protected keyword ${f} from ${JSON.stringify(r.Util.getContextValueId(s[f]))} to ${JSON.stringify(r.Util.getContextValueId(c[f]))}`,t.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(s,{processingMode:c}){for(const u of Object.keys(s)){if(r.Util.isReservedInternalKeyword(u))continue;if(u==="")throw new t.ErrorCoded(`The empty term is not allowed, got: '${u}': '${JSON.stringify(s[u])}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);const l=s[u],f=typeof l;if(r.Util.isPotentialKeyword(u)){switch(u.substr(1)){case"vocab":if(l!==null&&f!=="string")throw new t.ErrorCoded(`Found an invalid @vocab IRI: ${l}`,t.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(l!==null&&f!=="string")throw new t.ErrorCoded(`Found an invalid @base IRI: ${s[u]}`,t.ERROR_CODES.INVALID_BASE_IRI);break;case"language":l!==null&&th.validateLanguage(l,!0,t.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(l!==null&&f!=="number")throw new t.ErrorCoded(`Found an invalid @version number: ${l}`,t.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":l!==null&&th.validateDirection(l,!0);break;case"propagate":if(c===1)throw new t.ErrorCoded(`Found an illegal @propagate keyword: ${l}`,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(l!==null&&f!=="boolean")throw new t.ErrorCoded(`Found an invalid @propagate value: ${l}`,t.ERROR_CODES.INVALID_PROPAGATE_VALUE);break}if(r.Util.isValidKeyword(u)&&r.Util.isValidKeyword(r.Util.getContextValueId(l)))throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${r.Util.getContextValueId(l)}'`,t.ERROR_CODES.KEYWORD_REDEFINITION);continue}if(l!==null)switch(f){case"string":if(r.Util.getPrefix(l,s)===u)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);if(r.Util.isValidIriWeak(u)){if(l==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${l}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(l)&&l!==new n.JsonLdContextNormalized(s).expandTerm(u))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${l}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!r.Util.isCompactIri(u)&&!("@id"in l)&&(l["@type"]==="@id"?!s["@base"]:!s["@vocab"]))throw new t.ErrorCoded(`Missing @id in context entry: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);for(const d of Object.keys(l)){const h=l[d];if(h)switch(d){case"@id":if(r.Util.isValidKeyword(h)&&h!=="@type"&&h!=="@id"&&h!=="@graph"&&h!=="@nest")throw new t.ErrorCoded(`Illegal keyword alias in term value, found: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIriWeak(u)){if(h==="@type")throw new t.ErrorCoded(`IRIs can not be mapped to @type, found: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.isValidIri(h)&&h!==new n.JsonLdContextNormalized(s).expandTerm(u))throw new t.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING)}if(typeof h!="string")throw new t.ErrorCoded(`Detected non-string @id in context entry: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_IRI_MAPPING);if(r.Util.getPrefix(h,s)===u)throw new t.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if(l["@container"]==="@type"&&h!=="@id"&&h!=="@vocab")throw new t.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${u}': '${h}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(typeof h!="string")throw new t.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(f)}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);if(h!=="@id"&&h!=="@vocab"&&(c===1||h!=="@json")&&(c===1||h!=="@none")&&(h[0]==="_"||!r.Util.isValidIri(h)))throw new t.ErrorCoded(`A context @type must be an absolute IRI, found: '${u}': '${h}'`,t.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if(typeof h=="string"&&l["@id"]&&l["@id"]!==h)throw new t.ErrorCoded(`Found non-matching @id and @reverse term values in '${u}':'${h}' and '${l["@id"]}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in l)throw new t.ErrorCoded(`@nest is not allowed in the reverse property '${u}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(c===1&&(Object.keys(h).length>1||r.Util.CONTAINERS_1_0.indexOf(Object.keys(h)[0])<0))throw new t.ErrorCoded(`Invalid term @container for '${u}' ('${Object.keys(h)}') in 1.0, must be only one of ${r.Util.CONTAINERS_1_0.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const p of Object.keys(h)){if(p==="@list"&&l["@reverse"])throw new t.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${u}'`,t.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(r.Util.CONTAINERS.indexOf(p)<0)throw new t.ErrorCoded(`Invalid term @container for '${u}' ('${p}'), must be one of ${r.Util.CONTAINERS.join(", ")}`,t.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":th.validateLanguage(h,!0,t.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":th.validateDirection(h,!0);break;case"@prefix":if(h!==null&&typeof h!="boolean")throw new t.ErrorCoded(`Found an invalid term @prefix boolean in: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in l)&&!r.Util.isValidIri(u))throw new t.ErrorCoded(`Invalid @prefix definition for '${u}' ('${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(c===1||!l["@container"]||!l["@container"]["@index"])throw new t.ErrorCoded(`Attempt to add illegal key to value object: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(r.Util.isPotentialKeyword(h)&&h!=="@nest")throw new t.ErrorCoded(`Found an invalid term @nest value in: '${u}': '${JSON.stringify(l)}'`,t.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new t.ErrorCoded(`Found an invalid term value: '${u}': '${l}'`,t.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(s,c,u){return typeof s=="string"||(u&&!("@base"in s)&&c.parentContext&&typeof c.parentContext=="object"&&"@base"in c.parentContext&&(s["@base"]=c.parentContext["@base"],c.parentContext["@__baseDocument"]&&(s["@__baseDocument"]=!0)),c.baseIRI&&!c.external&&("@base"in s?s["@base"]!==null&&typeof s["@base"]=="string"&&!r.Util.isValidIri(s["@base"])&&(s["@base"]=(0,a.resolve)(s["@base"],c.parentContext&&c.parentContext["@base"]||c.baseIRI)):(s["@base"]=c.baseIRI,s["@__baseDocument"]=!0))),s}normalizeContextIri(s,c){if(!r.Util.isValidIri(s))try{s=(0,a.resolve)(s,c)}catch{throw new Error(`Invalid context IRI: ${s}`)}return this.redirectSchemaOrgHttps&&s.startsWith("http://schema.org")&&(s="https://schema.org/"),s}async parseInnerContexts(s,c,u){for(const l of u??Object.keys(s)){const f=s[l];if(f&&typeof f=="object"&&"@context"in f&&f["@context"]!==null&&!c.ignoreScopedContexts){if(this.validateContext)try{const d=Object.assign(Object.assign({},s),{[l]:Object.assign({},s[l])});delete d[l]["@context"],await this.parse(f["@context"],Object.assign(Object.assign({},c),{external:!1,parentContext:d,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(d){throw new t.ErrorCoded(d.message,t.ERROR_CODES.INVALID_SCOPED_CONTEXT)}s[l]=Object.assign(Object.assign({},f),{"@context":(await this.parse(f["@context"],Object.assign(Object.assign({},c),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:s}))).getContextRaw()})}}return s}async parse(s,c={},u={}){const{baseIRI:l,parentContext:f,external:d,processingMode:h=th.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:p,ignoreProtection:_,minimalProcessing:g}=c,y=c.remoteContexts||{};if(Object.keys(y).length>=this.remoteContextsDepthLimit)throw new t.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(y),t.ERROR_CODES.CONTEXT_OVERFLOW);if(s==null){if(!_&&f&&r.Util.hasProtectedTerms(f))throw new t.ErrorCoded("Illegal context nullification when terms are protected",t.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new n.JsonLdContextNormalized(this.applyBaseEntry({},c,!1))}else if(typeof s=="string"){const m=this.normalizeContextIri(s,l),b=this.getOverriddenLoad(m,c);if(b)return new n.JsonLdContextNormalized(b);const T=await this.parse(await this.load(m),Object.assign(Object.assign({},c),{baseIRI:m,external:!0,remoteContexts:Object.assign(Object.assign({},y),{[m]:!0})}));return this.applyBaseEntry(T.getContextRaw(),c,!0),T}else if(Array.isArray(s)){const m=[],b=await Promise.all(s.map((w,O)=>{if(typeof w=="string"){const F=this.normalizeContextIri(w,l);m[O]=F;const Q=this.getOverriddenLoad(F,c);return Q||this.load(F)}else return w}));if(g)return new n.JsonLdContextNormalized(b);const T=await b.reduce((w,O,F)=>w.then(Q=>this.parse(O,Object.assign(Object.assign({},c),{baseIRI:m[F]||c.baseIRI,external:!!m[F]||c.external,parentContext:Q.getContextRaw(),remoteContexts:m[F]?Object.assign(Object.assign({},y),{[m[F]]:!0}):y}),{skipValidation:F<b.length-1})),Promise.resolve(new n.JsonLdContextNormalized(f||{})));return this.applyBaseEntry(T.getContextRaw(),c,!0),T}else if(typeof s=="object"){if("@context"in s)return await this.parse(s["@context"],c);if(s=Object.assign({},s),d&&delete s["@base"],this.applyBaseEntry(s,c,!0),this.containersToHash(s),g)return new n.JsonLdContextNormalized(s);let m={};if("@import"in s)if(h>=1.1){if(typeof s["@import"]!="string")throw new t.ErrorCoded("An @import value must be a string, but got "+typeof s["@import"],t.ERROR_CODES.INVALID_IMPORT_VALUE);m=await this.loadImportContext(this.normalizeContextIri(s["@import"],l)),delete s["@import"]}else throw new t.ErrorCoded("Context importing is not supported in JSON-LD 1.0",t.ERROR_CODES.INVALID_CONTEXT_ENTRY);this.applyScopedProtected(m,{processingMode:h},n.defaultExpandOptions);const b=Object.assign(m,s);this.idifyReverseTerms(b),this.normalize(b,{processingMode:h,normalizeLanguageTags:p}),this.applyScopedProtected(b,{processingMode:h},n.defaultExpandOptions);const T=Object.keys(b),w=[];if(typeof f=="object")for(const F in f)F in b?w.push(F):b[F]=f[F];await this.parseInnerContexts(b,c,T);const O=new n.JsonLdContextNormalized(b);return(b&&b["@version"]||th.DEFAULT_PROCESSING_MODE)>=1.1&&(s["@vocab"]&&typeof s["@vocab"]=="string"||s["@vocab"]==="")&&(f&&"@vocab"in f&&s["@vocab"].indexOf(":")<0?b["@vocab"]=f["@vocab"]+s["@vocab"]:(r.Util.isCompactIri(s["@vocab"])||s["@vocab"]in b)&&(b["@vocab"]=O.expandTerm(s["@vocab"],!0))),this.expandPrefixedTerms(O,this.expandContentTypeToBase,T),!_&&f&&h>=1.1&&this.validateKeywordRedefinitions(f,b,n.defaultExpandOptions,w),this.validateContext&&!u.skipValidation&&this.validate(b,{processingMode:h}),O}else throw new t.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${s}`,t.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(s){const c=this.documentCache[s];if(c)return c;let u;try{u=await this.documentLoader.load(s)}catch(l){throw new t.ErrorCoded(`Failed to load remote context ${s}: ${l.message}`,t.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in u))throw new t.ErrorCoded(`Missing @context in remote context at ${s}`,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[s]=u["@context"]}getOverriddenLoad(s,c){if(s in(c.remoteContexts||{})){if(c.ignoreRemoteScopedContexts)return s;throw new t.ErrorCoded("Detected a cyclic context inclusion of "+s,t.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(s){let c=await this.load(s);if(typeof c!="object"||Array.isArray(c))throw new t.ErrorCoded("An imported context must be a single object: "+s,t.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in c)throw new t.ErrorCoded("An imported context can not import another context: "+s,t.ERROR_CODES.INVALID_CONTEXT_ENTRY);return c=Object.assign({},c),this.containersToHash(c),c}};return e.DEFAULT_PROCESSING_MODE=1.1,rw.ContextParser=e,rw}var EN={},pK;function Yme(){return pK||(pK=1,Object.defineProperty(EN,"__esModule",{value:!0})),EN}var xN={},yK;function Zme(){return yK||(yK=1,Object.defineProperty(xN,"__esModule",{value:!0})),xN}var bK;function ege(){return bK||(bK=1,function(a){var t=nd&&nd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=nd&&nd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Kme(),a),o(oE(),a),o(cK(),a),o(Yme(),a),o(Zme(),a),o(fK(),a),o(AN(),a)}(nd)),nd}var _K;function mK(){if(_K)return tw;_K=1,Object.defineProperty(tw,"__esModule",{value:!0}),tw.DocumentLoaderMediated=void 0;const a=wa(),t=Ch(),o=ege();let n=class Oae extends o.FetchDocumentLoader{constructor(e,i){super(Oae.createFetcher(e,i)),this.mediatorHttp=e,this.context=i}static createFetcher(e,i){return async(s,c)=>{const u=await e.mediate({input:s,init:c,context:i});return u.json=async()=>JSON.parse(await(0,t.stringify)(a.ActorHttp.toNodeReadable(u.body))),u}}};return tw.DocumentLoaderMediated=n,tw}var gK;function tge(){if(gK)return TT;gK=1,Object.defineProperty(TT,"__esModule",{value:!0}),TT.ActorRdfParseJsonLd=void 0;const a=Nh(),t=tt(),o=De(),n=Jme(),r=mK();let e=class extends a.ActorRdfParseFixedMediaTypes{constructor(s){super(s)}async testHandle(s,c,u){return u.has(t.KeysRdfParseHtmlScript.processingHtmlScript)&&c!=="application/ld+json"?(0,o.failTest)("JSON-LD in script tags can only have media type 'application/ld+json'"):!c||!(c in this.mediaTypePriorities||c.endsWith("+json"))?(0,o.failTest)(`Unrecognized media type: ${c}`):await this.testHandleChecked(s)}async runHandle(s,c,u){var h;const l=s.context.getSafe(t.KeysInitQuery.dataFactory);return{data:n.JsonLdParser.fromHttpResponse(((h=s.metadata)==null?void 0:h.baseIRI)??"",c,s.headers,{dataFactory:l,documentLoader:u.get(t.KeysRdfParseJsonLd.documentLoader)??new r.DocumentLoaderMediated(this.mediatorHttp,u),strictValues:u.get(t.KeysRdfParseJsonLd.strictValues),...u.get(t.KeysRdfParseJsonLd.parserOptions)}).import(s.data)}}};return TT.ActorRdfParseJsonLd=e,TT}var vK;function rge(){return vK||(vK=1,function(a){var t=Yl&&Yl.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Yl&&Yl.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(tge(),a),o(mK(),a)}(Yl)),Yl}var id={},aw={},ad={},ow={},TK;function nge(){if(TK)return ow;TK=1,Object.defineProperty(ow,"__esModule",{value:!0}),ow.ActorRdfUpdateHypermedia=void 0;const a=De();let t=class extends a.Actor{constructor(n,r){super(n),this.destinationType=r}async test(n){return n.forceDestinationType&&this.destinationType!==n.forceDestinationType?(0,a.failTest)(`Actor ${this.name} is not able to handle destination type ${n.forceDestinationType}.`):this.testMetadata(n)}};return ow.ActorRdfUpdateHypermedia=t,ow}var wK;function IN(){return wK||(wK=1,function(a){var t=ad&&ad.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ad&&ad.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(nge(),a)}(ad)),ad}var sw={},SK;function OK(){if(SK)return sw;SK=1,Object.defineProperty(sw,"__esModule",{value:!0}),sw.QuadDestinationPatchSparqlUpdate=void 0;const a=wa(),t=Tt(),o=W1(),n=qt();let r=class{constructor(i,s,c){this.url=i,this.context=s,this.mediatorHttp=c}async update(i){const s=this.createCombinedQuadsQuery(i.insert,i.delete);await this.wrapSparqlUpdateRequest(s)}createCombinedQuadsQuery(i,s){return new t.ArrayIterator([],{autoStart:!1}).append(this.createQuadsQuery("DELETE",s)).append(s&&i?[` ;
`]:[]).append(this.createQuadsQuery("INSERT",i))}createQuadsQuery(i,s){return s?s.map(c=>{let u=`${(0,o.termToString)(c.subject)} ${(0,o.termToString)(c.predicate)} ${(0,o.termToString)(c.object)} .`;return c.graph.termType==="DefaultGraph"?u=`  ${u}
`:u=`  GRAPH ${(0,o.termToString)(c.graph)} { ${u} }
`,u}).prepend([`${i} DATA {
`]).append(["}"]):new t.ArrayIterator([],{autoStart:!1})}async wrapSparqlUpdateRequest(i){const s=new n.Readable;s.wrap(i);const c=new Headers({"content-type":"application/sparql-update"}),u=await this.mediatorHttp.mediate({context:this.context,init:{headers:c,method:"PATCH",body:a.ActorHttp.toWebReadableStream(s)},input:this.url});await(0,a.validateAndCloseHttpResponse)(this.url,u)}async deleteGraphs(i,s,c){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}async createGraphs(i,s){throw new Error("Patch-based SPARQL Update destinations don't support named graphs")}};return sw.QuadDestinationPatchSparqlUpdate=r,sw}var AK;function ige(){if(AK)return aw;AK=1,Object.defineProperty(aw,"__esModule",{value:!0}),aw.ActorRdfUpdateHypermediaPatchSparqlUpdate=void 0;const a=IN(),t=De(),o=OK();let n=class extends a.ActorRdfUpdateHypermedia{constructor(e){super(e,"patchSparqlUpdate")}async testMetadata(e){return!e.forceDestinationType&&!e.metadata.patchSparqlUpdate?(0,t.failTest)(`Actor ${this.name} could not detect a destination with 'application/sparql-update' as 'Accept-Patch' header.`):!e.forceDestinationType&&!e.exists?(0,t.failTest)(`Actor ${this.name} can only patch a destination that already exists.`):(0,t.passTestVoid)()}async run(e){return this.logInfo(e.context,`Identified as patchSparqlUpdate destination: ${e.url}`),{destination:new o.QuadDestinationPatchSparqlUpdate(e.url,e.context,this.mediatorHttp)}}};return aw.ActorRdfUpdateHypermediaPatchSparqlUpdate=n,aw}var EK;function age(){return EK||(EK=1,function(a){var t=id&&id.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=id&&id.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(ige(),a),o(OK(),a)}(id)),id}var od={},uw={},cw={},xK;function IK(){if(xK)return cw;xK=1,Object.defineProperty(cw,"__esModule",{value:!0}),cw.QuadDestinationPutLdp=void 0;const a=wa();let t=class{constructor(n,r,e,i,s,c){this.url=n,this.context=r,this.mediaTypes=e,this.mediatorHttp=i,this.mediatorRdfSerializeMediatypes=s,this.mediatorRdfSerialize=c}async update(n){if(n.delete)throw new Error("Put-based LDP destinations don't support deletions");n.insert&&await this.wrapRdfUpdateRequest("INSERT",n.insert)}async wrapRdfUpdateRequest(n,r){const{mediaTypes:e}=await this.mediatorRdfSerializeMediatypes.mediate({context:this.context,mediaTypes:!0}),i=this.mediaTypes.filter(f=>f in e),s=i.length>0?i[0]:Object.keys(e).sort((f,d)=>e[d]-e[f])[0],{handle:{data:c}}=await this.mediatorRdfSerialize.mediate({context:this.context,handle:{quadStream:r,context:this.context},handleMediaType:s}),u=new Headers({"content-type":s}),l=await this.mediatorHttp.mediate({context:this.context,init:{headers:u,method:"PUT",body:a.ActorHttp.toWebReadableStream(c)},input:this.url});await(0,a.validateAndCloseHttpResponse)(this.url,l)}async deleteGraphs(n,r,e){throw new Error("Put-based LDP destinations don't support named graphs")}async createGraphs(n,r){throw new Error("Put-based LDP destinations don't support named graphs")}};return cw.QuadDestinationPutLdp=t,cw}var RK;function oge(){if(RK)return uw;RK=1,Object.defineProperty(uw,"__esModule",{value:!0}),uw.ActorRdfUpdateHypermediaPutLdp=void 0;const a=IN(),t=De(),o=IK();let n=class extends a.ActorRdfUpdateHypermedia{constructor(e){super(e,"putLdp")}async testMetadata(e){if(!e.forceDestinationType){if(!e.metadata.allowHttpMethods||!e.metadata.allowHttpMethods.includes("PUT"))return(0,t.failTest)(`Actor ${this.name} could not detect a destination with 'Allow: PUT' header.`);if(e.exists)return(0,t.failTest)(`Actor ${this.name} can only put on a destination that does not already exists.`)}return(0,t.passTestVoid)()}async run(e){return this.logInfo(e.context,`Identified as putLdp destination: ${e.url}`),{destination:new o.QuadDestinationPutLdp(e.url,e.context,e.metadata.putAccepted||[],this.mediatorHttp,this.mediatorRdfSerializeMediatypes,this.mediatorRdfSerialize)}}};return uw.ActorRdfUpdateHypermediaPutLdp=n,uw}var FK;function sge(){return FK||(FK=1,function(a){var t=od&&od.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=od&&od.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(oge(),a),o(IK(),a)}(od)),od}var sd={},lw={},dw={},ud={},cd={},RN,NK;function uge(){if(NK)return RN;NK=1;const a=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";return a.writable=t=>a(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object",a.readable=t=>a(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object",a.duplex=t=>a.writable(t)&&a.readable(t),a.transform=t=>a.duplex(t)&&typeof t._transform=="function",RN=a,RN}var ld={},fw={},dd={},hw={},DK;function PK(){if(DK)return hw;DK=1,Object.defineProperty(hw,"__esModule",{value:!0}),hw.BlankNode=void 0;class a{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}}return hw.BlankNode=a,hw}var pw={},yw={},LK;function jK(){if(LK)return yw;LK=1,Object.defineProperty(yw,"__esModule",{value:!0}),yw.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}return yw.DefaultGraph=a,a.INSTANCE=new a,yw}var bw={},_w={},MK;function FN(){if(MK)return _w;MK=1,Object.defineProperty(_w,"__esModule",{value:!0}),_w.NamedNode=void 0;class a{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}}return _w.NamedNode=a,_w}var qK;function CK(){if(qK)return bw;qK=1,Object.defineProperty(bw,"__esModule",{value:!0}),bw.Literal=void 0;const a=FN();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return bw.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),bw}var mw={},BK;function $K(){if(BK)return mw;BK=1,Object.defineProperty(mw,"__esModule",{value:!0}),mw.Quad=void 0;class a{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}}return mw.Quad=a,mw}var gw={},UK;function VK(){if(UK)return gw;UK=1,Object.defineProperty(gw,"__esModule",{value:!0}),gw.Variable=void 0;class a{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}}return gw.Variable=a,gw}var QK;function cge(){if(QK)return pw;QK=1,Object.defineProperty(pw,"__esModule",{value:!0}),pw.DataFactory=void 0;const a=PK(),t=jK(),o=CK(),n=FN(),r=$K(),e=VK();let i=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return pw.DataFactory=s,pw}var HK;function lge(){return HK||(HK=1,function(a){var t=dd&&dd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=dd&&dd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(PK(),a),o(cge(),a),o(jK(),a),o(CK(),a),o(FN(),a),o($K(),a),o(VK(),a)}(dd)),dd}var GK;function dge(){if(GK)return fw;GK=1,Object.defineProperty(fw,"__esModule",{value:!0}),fw.SparqlXmlParser=void 0;const a=lge(),t=iB(),o=qt();let n=class{constructor(e){e=e||{},this.dataFactory=e.dataFactory||new a.DataFactory,this.prefixVariableQuestionMark=!!e.prefixVariableQuestionMark}parseXmlResultsStream(e){const i=b=>m.emit("error",b);e.on("error",i);const s=new t.SaxesParser,c=[];let u=!1,l=!1;const f=[];let d={},h="",p="",_,g="",y=[];s.on("error",i),s.on("opentag",b=>{b.name==="variable"&&this.stackEquals(c,["sparql","head"])?f.push(this.dataFactory.variable(b.attributes.name)):b.name==="results"&&this.stackEquals(c,["sparql"])?l=!0:b.name==="result"&&this.stackEquals(c,["sparql","results"])?d={}:b.name==="binding"&&this.stackEquals(c,["sparql","results","result"])?(h=b.attributes.name||"",p="",_="",g="",y=[]):b.name==="triple"&&this.stackBeginsWith(c,["sparql","results","result"])?y.push({components:{}}):c[c.length-1]==="triple"&&this.stackBeginsWith(c,["sparql","results","result","binding"])?(p="",_="",g="",["subject","predicate","object"].includes(b.name)?y[y.length-1].currentComponent=b.name:i(new Error(`Illegal quoted triple component '${b.name}' found on line ${s.line+1}`))):this.stackBeginsWith(c,["sparql","results","result","binding"])&&(p=b.name,"xml:lang"in b.attributes?_=b.attributes["xml:lang"]:"datatype"in b.attributes?_=this.dataFactory.namedNode(b.attributes.datatype):_=void 0),c.push(b.name)}),s.on("closetag",b=>{if(this.stackEquals(c,["sparql","head"])&&(m.emit("variables",f),u=!0),this.stackEquals(c,["sparql","results","result"])&&m.push(d),this.stackBeginsWith(c,["sparql","results","result","binding"])){let T;if(!h&&p)i(new Error(`Terms should have a name on line ${s.line+1}`));else if(p==="uri")T=this.dataFactory.namedNode(g);else if(p==="bnode")T=this.dataFactory.blankNode(g);else if(p==="literal")T=this.dataFactory.literal(g,_);else if(c[c.length-1]==="triple"){const w=y.pop();w&&w.components.subject&&w.components.predicate&&w.components.object?T=this.dataFactory.quad(w.components.subject,w.components.predicate,w.components.object):i(new Error(`Incomplete quoted triple on line ${s.line+1}`))}else p&&i(new Error(`Invalid term type '${p}' on line ${s.line+1}`));if(T)if(y.length>0){const w=y[y.length-1];w.components[w.currentComponent]&&i(new Error(`The ${w.currentComponent} in a quoted triple on line ${s.line+1} was already defined before`)),w.components[w.currentComponent]=T}else{const w=this.prefixVariableQuestionMark?"?"+h:h;d[w]=T}p=void 0}c.pop()}),s.on("text",b=>{this.stackBeginsWith(c,["sparql","results","result","binding"])&&c[c.length-1]===p&&(g=b)});const m=e.on("end",b=>{l?u||m.emit("variables",[]):m.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new o.Transform({objectMode:!0,transform(b,T,w){s.write(b),w()}}));return m}parseXmlBooleanStream(e){return new Promise((i,s)=>{const c=new t.SaxesParser,u=[];c.on("error",s),c.on("opentag",l=>{u.push(l.name)}),c.on("closetag",l=>{u.pop()}),c.on("text",l=>{this.stackEquals(u,["sparql","boolean"])&&i(l==="true")}),e.on("error",s).on("data",l=>c.write(l)).on("end",()=>s(new Error("No valid ASK response was found.")))})}stackEquals(e,i){return e.length===i.length&&e.every((s,c)=>i[c]===s)}stackBeginsWith(e,i){return e.length>=i.length&&i.every((s,c)=>e[c]===s)}};return fw.SparqlXmlParser=n,fw}var zK;function fge(){return zK||(zK=1,function(a){var t=ld&&ld.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ld&&ld.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(dge(),a)}(ld)),ld}var NN={exports:{}},kK;function hge(){return kK||(kK=1,function(a){(function(){var t;typeof window=="object"&&window?t=window:t=Ft,a.exports?a.exports=t.Promise?t.Promise:e:t.Promise||(t.Promise=e);var o=t.setImmediate||function(d){setTimeout(d,1)};function n(d,h){return function(){d.apply(h,arguments)}}var r=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function e(d){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof d!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],f(d,n(s,this),n(c,this))}function i(d){var h=this;if(this._state===null){this._deferreds.push(d);return}o(function(){var p=h._state?d.onFulfilled:d.onRejected;if(p===null){(h._state?d.resolve:d.reject)(h._value);return}var _;try{_=p(h._value)}catch(g){d.reject(g);return}d.resolve(_)})}function s(d){try{if(d===this)throw new TypeError("A promise cannot be resolved with itself.");if(d&&(typeof d=="object"||typeof d=="function")){var h=d.then;if(typeof h=="function"){f(n(h,d),n(s,this),n(c,this));return}}this._state=!0,this._value=d,u.call(this)}catch(p){c.call(this,p)}}function c(d){this._state=!1,this._value=d,u.call(this)}function u(){for(var d=0,h=this._deferreds.length;d<h;d++)i.call(this,this._deferreds[d]);this._deferreds=null}function l(d,h,p,_){this.onFulfilled=typeof d=="function"?d:null,this.onRejected=typeof h=="function"?h:null,this.resolve=p,this.reject=_}function f(d,h,p){var _=!1;try{d(function(g){_||(_=!0,h(g))},function(g){_||(_=!0,p(g))})}catch(g){if(_)return;_=!0,p(g)}}e.prototype.catch=function(d){return this.then(null,d)},e.prototype.then=function(d,h){var p=this;return new e(function(_,g){i.call(p,new l(d,h,_,g))})},e.all=function(){var d=Array.prototype.slice.call(arguments.length===1&&r(arguments[0])?arguments[0]:arguments);return new e(function(h,p){if(d.length===0)return h([]);var _=d.length;function g(m,b){try{if(b&&(typeof b=="object"||typeof b=="function")){var T=b.then;if(typeof T=="function"){T.call(b,function(w){g(m,w)},p);return}}d[m]=b,--_===0&&h(d)}catch(w){p(w)}}for(var y=0;y<d.length;y++)g(y,d[y])})},e.resolve=function(d){return d&&typeof d=="object"&&d.constructor===e?d:new e(function(h){h(d)})},e.reject=function(d){return new e(function(h,p){p(d)})},e.race=function(d){return new e(function(h,p){for(var _=0,g=d.length;_<g;_++)d[_].then(h,p)})}})()}(NN)),NN.exports}var DN,XK;function pge(){if(XK)return DN;XK=1;var a=hge();return DN=function(t,o,n){typeof o=="function"&&(n=o,o=null);var r="",e=new a(function(i,s){t.on("data",function(c){r+=typeof o=="string"?c.toString(o):c.toString()}),t.on("end",function(){i(r)}),t.on("error",s)});return n&&e.then(function(i){n(null,i)},n),e},DN}var WK;function yge(){if(WK)return cd;WK=1;var a=cd&&cd.__awaiter||function(u,l,f,d){function h(p){return p instanceof f?p:new f(function(_){_(p)})}return new(f||(f=Promise))(function(p,_){function g(b){try{m(d.next(b))}catch(T){_(T)}}function y(b){try{m(d.throw(b))}catch(T){_(T)}}function m(b){b.done?p(b.value):h(b.value).then(g,y)}m((d=d.apply(u,l||[])).next())})};Object.defineProperty(cd,"__esModule",{value:!0}),cd.SparqlEndpointFetcher=void 0;const t=uge(),o=ma,n=Yk(),r=O0(),e=w9(),i=fge(),s=pge();let c=class pp{constructor(l){var f,d,h;this.method=(f=l==null?void 0:l.method)!==null&&f!==void 0?f:"POST",this.timeout=l==null?void 0:l.timeout,this.additionalUrlParams=(d=l==null?void 0:l.additionalUrlParams)!==null&&d!==void 0?d:new URLSearchParams,this.defaultHeaders=(h=l==null?void 0:l.defaultHeaders)!==null&&h!==void 0?h:new Headers,this.fetchCb=l==null?void 0:l.fetch,this.sparqlJsonParser=new e.SparqlJsonParser(l),this.sparqlXmlParser=new i.SparqlXmlParser(l),this.sparqlParsers={[pp.CONTENTTYPE_SPARQL_JSON]:{parseBooleanStream:p=>this.sparqlJsonParser.parseJsonBooleanStream(p),parseResultsStream:p=>this.sparqlJsonParser.parseJsonResultsStream(p)},[pp.CONTENTTYPE_SPARQL_XML]:{parseBooleanStream:p=>this.sparqlXmlParser.parseXmlBooleanStream(p),parseResultsStream:p=>this.sparqlXmlParser.parseXmlResultsStream(p)}}}getQueryType(l){const f=new r.Parser({sparqlStar:!0}).parse(l);return f.type==="query"?f.queryType==="DESCRIBE"?"CONSTRUCT":f.queryType:"UNKNOWN"}getUpdateTypes(l){const f=new r.Parser({sparqlStar:!0}).parse(l);if(f.type==="update"){const d={};for(const h of f.updates)"type"in h?d[h.type]=!0:d[h.updateType]=!0;return d}return"UNKNOWN"}fetchBindings(l,f){return a(this,void 0,void 0,function*(){const[d,h]=yield this.fetchRawStream(l,f,pp.CONTENTTYPE_SPARQL),p=this.sparqlParsers[d];if(!p)throw new Error(`Unknown SPARQL results content type: ${d}`);return p.parseResultsStream(h)})}fetchAsk(l,f){return a(this,void 0,void 0,function*(){const[d,h]=yield this.fetchRawStream(l,f,pp.CONTENTTYPE_SPARQL),p=this.sparqlParsers[d];if(!p)throw new Error(`Unknown SPARQL results content type: ${d}`);return p.parseBooleanStream(h)})}fetchTriples(l,f){return a(this,void 0,void 0,function*(){const[d,h]=yield this.fetchRawStream(l,f,pp.CONTENTTYPE_TURTLE);return h.pipe(new o.StreamParser({format:d}))})}fetchUpdate(l,f){return a(this,void 0,void 0,function*(){const d=new AbortController,h={};this.defaultHeaders.forEach((_,g)=>{h[g]=_});const p={method:"POST",headers:Object.assign(Object.assign({},h),{"content-type":"application/sparql-update"}),body:f,signal:d.signal};yield this.handleFetchCall(l,p,{ignoreBody:!0}),d.abort()})}fetchRawStream(l,f,d){return a(this,void 0,void 0,function*(){let h=this.method==="POST"?l:`${l}?query=${encodeURIComponent(f)}`,p;const _=new Headers(this.defaultHeaders);if(_.append("Accept",d),this.method==="POST"){_.append("Content-Type","application/x-www-form-urlencoded"),p=new URLSearchParams,p.set("query",f);for(const[g,y]of this.additionalUrlParams.entries())p.set(g,y);_.append("Content-Length",p.toString().length.toString())}else this.additionalUrlParams.toString().length>0&&(h+=`&${this.additionalUrlParams.toString()}`);return this.handleFetchCall(h,{headers:_,method:this.method,body:p})})}handleFetchCall(l,f,d){return a(this,void 0,void 0,function*(){var h,p,_;let g,y;if(this.timeout){const T=new AbortController;f.signal=T.signal,g=setTimeout(()=>T.abort(),this.timeout)}const m=yield((h=this.fetchCb)!==null&&h!==void 0?h:fetch)(l,f);if(clearTimeout(g),!(d!=null&&d.ignoreBody)&&m.body&&(y=t(m.body)?m.body:(0,n.readableFromWeb)(m.body)),!m.ok||!y&&!(d!=null&&d.ignoreBody)){const T=l.split("?").at(0),w=y?yield s(y):"empty response";throw new Error(`Invalid SPARQL endpoint response from ${T} (HTTP status ${m.status}):
${w}`)}return[(_=(p=m.headers.get("Content-Type"))===null||p===void 0?void 0:p.split(";").at(0))!==null&&_!==void 0?_:"",y]})}};return cd.SparqlEndpointFetcher=c,c.CONTENTTYPE_SPARQL_JSON="application/sparql-results+json",c.CONTENTTYPE_SPARQL_XML="application/sparql-results+xml",c.CONTENTTYPE_TURTLE="text/turtle",c.CONTENTTYPE_SPARQL=`${c.CONTENTTYPE_SPARQL_JSON};q=1.0,${c.CONTENTTYPE_SPARQL_XML};q=0.7`,cd}var JK;function KK(){return JK||(JK=1,function(a){var t=ud&&ud.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ud&&ud.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(yge(),a)}(ud)),ud}var YK;function ZK(){if(YK)return dw;YK=1,Object.defineProperty(dw,"__esModule",{value:!0}),dw.QuadDestinationSparql=void 0;const a=Ch(),t=Tt(),o=KK(),n=W1();let r=class{constructor(i,s,c,u){this.url=i,this.context=s,this.mediatorHttp=c,this.endpointFetcher=new o.SparqlEndpointFetcher({fetch:(l,f)=>this.mediatorHttp.mediate({input:l,init:f,context:this.context}),prefixVariableQuestionMark:!0,dataFactory:u})}async update(i){const s=this.createCombinedQuadsQuery(i.insert,i.delete);await this.wrapSparqlUpdateRequest(s)}createCombinedQuadsQuery(i,s){return new t.ArrayIterator([],{autoStart:!1}).append(this.createQuadsQuery("DELETE",s)).append(s&&i?[` ;
`]:[]).append(this.createQuadsQuery("INSERT",i))}createQuadsQuery(i,s){return s?s.map(c=>{let u=`${(0,n.termToString)(c.subject)} ${(0,n.termToString)(c.predicate)} ${(0,n.termToString)(c.object)} .`;return c.graph.termType==="DefaultGraph"?u=`  ${u}
`:u=`  GRAPH ${(0,n.termToString)(c.graph)} { ${u} }
`,u}).prepend([`${i} DATA {
`]).append(["}"]):new t.ArrayIterator([],{autoStart:!1})}async wrapSparqlUpdateRequest(i){const s=await(0,a.stringify)(i);await this.endpointFetcher.fetchUpdate(this.url,s)}async deleteGraphs(i,s,c){const u=Array.isArray(i)?i:[i],l=[];for(const f of u){let d;typeof f=="string"?d=f:f.termType==="DefaultGraph"?d="DEFAULT":d=`GRAPH <${f.value}>`,l.push(`${c?"DROP":"CLEAR"} ${s?"":"SILENT "}${d}`)}await this.endpointFetcher.fetchUpdate(this.url,l.join("; "))}async createGraphs(i,s){const c=[];for(const u of i)c.push(`CREATE${s?"":" SILENT"} GRAPH <${u.value}>`);await this.endpointFetcher.fetchUpdate(this.url,c.join("; "))}};return dw.QuadDestinationSparql=r,dw}var eY;function bge(){if(eY)return lw;eY=1,Object.defineProperty(lw,"__esModule",{value:!0}),lw.ActorRdfUpdateHypermediaSparql=void 0;const a=IN(),t=tt(),o=De(),n=ZK();let r=class extends a.ActorRdfUpdateHypermedia{constructor(i){super(i,"sparql")}async testMetadata(i){return!i.forceDestinationType&&!i.metadata.sparqlService&&!(this.checkUrlSuffixSparql&&i.url.endsWith("/sparql"))&&!(this.checkUrlSuffixUpdate&&i.url.endsWith("/update"))?(0,o.failTest)(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql or /update.`):(0,o.passTestVoid)()}async run(i){this.logInfo(i.context,`Identified as sparql destination: ${i.url}`);const s=i.context.getSafe(t.KeysInitQuery.dataFactory);return{destination:new n.QuadDestinationSparql(i.metadata.sparqlService||i.url,i.context,this.mediatorHttp,s)}}};return lw.ActorRdfUpdateHypermediaSparql=r,lw}var tY;function _ge(){return tY||(tY=1,function(a){var t=sd&&sd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=sd&&sd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(bge(),a),o(ZK(),a)}(sd)),sd}var fd={},vw={},rY;function mge(){if(rY)return vw;rY=1,Object.defineProperty(vw,"__esModule",{value:!0}),vw.ActorQueryOperationAsk=void 0;const a=Vt(),t=De(),o=At();let n=class extends a.ActorQueryOperationTypedMediated{constructor(e){super(e,"ask")}async testOperation(e,i){return(0,t.passTestVoid)()}async runOperation(e,i){const s=await this.mediatorQueryOperation.mediate({operation:e.input,context:i}),{bindingsStream:c}=(0,o.getSafeBindings)(s);return{type:"boolean",execute:async()=>(await c.take(1).toArray()).length===1}}};return vw.ActorQueryOperationAsk=n,vw}var nY;function gge(){return nY||(nY=1,function(a){var t=fd&&fd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=fd&&fd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(mge(),a)}(fd)),fd}var hd={},Tw={},iY;function vge(){if(iY)return Tw;iY=1,Object.defineProperty(Tw,"__esModule",{value:!0}),Tw.ActorQueryOperationBgpJoin=void 0;const a=Vt(),t=tt(),o=De(),n=mt();let r=class extends a.ActorQueryOperationTypedMediated{constructor(i){super(i,"bgp")}async testOperation(i,s){return(0,o.passTestVoid)()}async runOperation(i,s){const c=s.getSafe(t.KeysInitQuery.dataFactory),u=new n.Factory(c);return this.mediatorQueryOperation.mediate({operation:u.createJoin(i.patterns),context:s})}};return Tw.ActorQueryOperationBgpJoin=r,Tw}var aY;function Tge(){return aY||(aY=1,function(a){var t=hd&&hd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=hd&&hd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(vge(),a)}(hd)),hd}var pd={},ww={},Sw={},oY;function sY(){if(oY)return Sw;oY=1,Object.defineProperty(Sw,"__esModule",{value:!0}),Sw.BindingsToQuadsIterator=void 0;const a=Tt(),t=Mr();let o=class _O extends a.MultiTransformIterator{constructor(r,e,i){super(i,{autoStart:!1}),this.dataFactory=r,this.template=e,this.blankNodeCounter=0}static bindTerm(r,e){return e.termType==="Variable"?r.get(e):e}static bindQuad(r,e){try{return(0,t.mapTermsNested)(e,i=>{const s=_O.bindTerm(r,i);if(!s)throw new Error("Unbound term");return s})}catch{}}static localizeBlankNode(r,e,i){return i.termType==="BlankNode"?r.blankNode(`${i.value}${e}`):i}static localizeQuad(r,e,i){return(0,t.mapTermsNested)(i,s=>_O.localizeBlankNode(r,e,s))}bindTemplate(r,e,i){return e.map(_O.localizeQuad.bind(null,this.dataFactory,i)).map(c=>_O.bindQuad.bind(null,r)(c)).filter(Boolean)}_createTransformer(r){return new a.ArrayIterator(this.bindTemplate(r,this.template,this.blankNodeCounter++),{autoStart:!1})}};return Sw.BindingsToQuadsIterator=o,Sw}var uY;function wge(){if(uY)return ww;uY=1,Object.defineProperty(ww,"__esModule",{value:!0}),ww.ActorQueryOperationConstruct=void 0;const a=Vt(),t=tt(),o=De(),n=At(),r=Mr(),e=mt(),i=sY();let s=class Aae extends a.ActorQueryOperationTypedMediated{constructor(u){super(u,"construct")}static getVariables(u){return(0,r.uniqTerms)([].concat.apply([],u.map(l=>(0,r.getVariables)((0,r.getTermsNested)(l)))))}async testOperation(u,l){return(0,o.passTestVoid)()}async runOperation(u,l){const f=l.getSafe(t.KeysInitQuery.dataFactory),d=Aae.getVariables(u.template),h={type:e.Algebra.types.PROJECT,input:u.input,variables:d},p=(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:h,context:l})),_=new i.BindingsToQuadsIterator(f,u.template,p.bindingsStream);return{metadata:()=>p.metadata().then(y=>({...y,order:void 0,cardinality:{type:y.cardinality.type,value:y.cardinality.value*u.template.length},availableOrders:void 0})),quadStream:_,type:"quads"}}};return ww.ActorQueryOperationConstruct=s,ww}var cY;function lY(){return cY||(cY=1,function(a){var t=pd&&pd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=pd&&pd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(wge(),a),o(sY(),a)}(pd)),pd}var yd={},Ow={},dY;function Sge(){if(dY)return Ow;dY=1,Object.defineProperty(Ow,"__esModule",{value:!0}),Ow.ActorQueryOperationDistinctHash=void 0;const a=Vt(),t=De(),o=At();let n=class extends a.ActorQueryOperationTypedMediated{constructor(e){super(e,"distinct")}async testOperation(e,i){return(0,t.passTestVoid)()}async runOperation(e,i){const s=await this.mediatorQueryOperation.mediate({operation:e.input,context:i});if(s.type==="quads"){const f=(0,o.getSafeQuads)(s);return{type:"quads",quadStream:f.quadStream.filter(await this.newHashFilterQuads(i)),metadata:f.metadata}}const c=(0,o.getSafeBindings)(s),u=(await c.metadata()).variables.map(f=>f.variable);return{type:"bindings",bindingsStream:c.bindingsStream.filter(await this.newHashFilter(i,u)),metadata:c.metadata}}async newHashFilter(e,i){const{hashFunction:s}=await this.mediatorHashBindings.mediate({context:e}),c={};return u=>{const l=s(u,i);return!(l in c)&&(c[l]=!0)}}async newHashFilterQuads(e){const{hashFunction:i}=await this.mediatorHashQuads.mediate({context:e}),s={};return c=>{const u=i(c);return!(u in s)&&(s[u]=!0)}}};return Ow.ActorQueryOperationDistinctHash=n,Ow}var fY;function Oge(){return fY||(fY=1,function(a){var t=yd&&yd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=yd&&yd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Sge(),a)}(yd)),yd}var bd={},Aw={},hY;function Age(){if(hY)return Aw;hY=1,Object.defineProperty(Aw,"__esModule",{value:!0}),Aw.ActorQueryOperationExtend=void 0;const a=Vt(),t=De(),o=kt(),n=Me(),r=At();let e=class extends a.ActorQueryOperationTypedMediated{constructor(s){super(s,"extend"),this.mediatorExpressionEvaluatorFactory=s.mediatorExpressionEvaluatorFactory}async testOperation(){return(0,t.passTestVoid)()}async runOperation(s,c){const{expression:u,input:l,variable:f}=s,d=(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:l,context:c}));if((await d.metadata()).variables.some(g=>g.variable.equals(f)))throw new Error(`Illegal binding to variable '${f.value}' that has already been bound`);const h=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:u,context:c}),p=async(g,y,m)=>{try{const b=await h.evaluate(g),T=g.set(f,b);m(T)}catch(b){(0,n.isExpressionError)(b)?(m(g),this.logWarn(c,`Expression error for extend operation (${b.message})with bindings '${(0,o.bindingsToString)(g)}'`)):_.emit("error",b)}y()},_=d.bindingsStream.transform({autoStart:!1,transform:p});return{type:"bindings",bindingsStream:_,async metadata(){const g=await d.metadata();return{...g,variables:[...g.variables,{variable:f,canBeUndef:!1}]}}}}};return Aw.ActorQueryOperationExtend=e,Aw}var pY;function Ege(){return pY||(pY=1,function(a){var t=bd&&bd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=bd&&bd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Age(),a)}(bd)),bd}var _d={},Ew={},yY;function xge(){if(yY)return Ew;yY=1,Object.defineProperty(Ew,"__esModule",{value:!0}),Ew.ActorQueryOperationFilter=void 0;const a=Vt(),t=De(),o=kt(),n=Me(),r=At();let e=class extends a.ActorQueryOperationTypedMediated{constructor(s){super(s,"filter"),this.mediatorExpressionEvaluatorFactory=s.mediatorExpressionEvaluatorFactory}async testOperation(){return(0,t.passTestVoid)()}async runOperation(s,c){const u=await this.mediatorQueryOperation.mediate({operation:s.input,context:c}),l=(0,r.getSafeBindings)(u);(0,r.validateQueryOutput)(l,"bindings");const f=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:s.expression,context:c}),d=async(p,_,g)=>{try{await f.evaluateAsEBV(p)&&g(p)}catch(y){(0,n.isExpressionError)(y)?this.logWarn(c,"Error occurred while filtering.",()=>({error:y,bindings:(0,o.bindingsToString)(p)})):h.emit("error",y)}_()},h=l.bindingsStream.transform({transform:d,autoStart:!1});return{type:"bindings",bindingsStream:h,metadata:l.metadata}}};return Ew.ActorQueryOperationFilter=e,Ew}var bY;function Ige(){return bY||(bY=1,function(a){var t=_d&&_d.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=_d&&_d.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(xge(),a)}(_d)),_d}var md={},xw={},_Y;function Rge(){if(_Y)return xw;_Y=1,Object.defineProperty(xw,"__esModule",{value:!0}),xw.ActorQueryOperationFromQuad=void 0;const a=Vt(),t=tt(),o=De(),n=mt();let r=class $n extends a.ActorQueryOperationTypedMediated{constructor(i){super(i,"from")}static copyOperation(i,s){const c={};for(const u of Object.keys(i))Array.isArray(i[u])&&u!=="template"?u==="variables"?c[u]=i[u]:c[u]=i[u].map(s):$n.ALGEBRA_TYPES.includes(i[u].type)?c[u]=s(i[u]):c[u]=i[u];return c}static applyOperationDefaultGraph(i,s,c){if(s.type==="bgp"&&s.patterns.length>0||s.type==="path"||s.type==="pattern"){if(s.type==="bgp")return $n.joinOperations(i,s.patterns.map(l=>{if(l.graph.termType!=="DefaultGraph")return i.createBgp([l]);const f=c.map(d=>i.createBgp([Object.assign(i.createPattern(l.subject,l.predicate,l.object,d),{metadata:l.metadata})]));return $n.unionOperations(i,f)}));if(s.graph.termType!=="DefaultGraph")return s;const u=c.map(l=>s.type==="path"?i.createPath(s.subject,s.predicate,s.object,l):Object.assign(i.createPattern(s.subject,s.predicate,s.object,l),{metadata:s.metadata}));return $n.unionOperations(i,u)}return $n.copyOperation(s,u=>this.applyOperationDefaultGraph(i,u,c))}static applyOperationNamedGraph(i,s,c,u){if(s.type==="bgp"&&s.patterns.length>0||s.type==="path"||s.type==="pattern"){const l=s.type==="bgp"?s.patterns[0].graph:s.graph;if(l.termType==="DefaultGraph")return{type:n.Algebra.types.BGP,patterns:[]};if(l.termType==="Variable"){if(c.length===1){const d=c[0],h={};h[`?${l.value}`]=d;const p=i.createValues([l],[h]);let _;return s.type==="bgp"?_=i.createBgp(s.patterns.map(g=>i.createPattern(g.subject,g.predicate,g.object,d))):s.type==="path"?_=i.createPath(s.subject,s.predicate,s.object,d):_=i.createPattern(s.subject,s.predicate,s.object,d),i.createJoin([p,_])}return $n.unionOperations(i,c.map(d=>$n.applyOperationNamedGraph(i,s,[d],u)))}return[...c,...u].some(d=>d.equals(l))?s:{type:n.Algebra.types.BGP,patterns:[]}}return $n.copyOperation(s,l=>this.applyOperationNamedGraph(i,l,c,u))}static joinOperations(i,s){if(s.length===1)return s[0];if(s.length>1)return i.createJoin(s);throw new Error("A join can only be applied on at least one operation")}static unionOperations(i,s){if(s.length===1)return s[0];if(s.length>1)return i.createUnion(s);throw new Error("A union can only be applied on at least one operation")}static createOperation(i,s){let c=s.input;return s.default.length>0&&(c=$n.applyOperationDefaultGraph(i,c,s.default)),(s.named.length>0||s.default.length>0)&&(c=$n.applyOperationNamedGraph(i,c,s.named,s.default)),c}async testOperation(i,s){return(0,o.passTestVoid)()}async runOperation(i,s){const c=s.getSafe(t.KeysInitQuery.dataFactory),u=new n.Factory(c),l=$n.createOperation(u,i);return this.mediatorQueryOperation.mediate({operation:l,context:s})}};return xw.ActorQueryOperationFromQuad=r,r.ALGEBRA_TYPES=Object.keys(n.Algebra.types).map(e=>n.Algebra.types[e]),xw}var mY;function Fge(){return mY||(mY=1,function(a){var t=md&&md.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=md&&md.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Rge(),a)}(md)),md}var gd={},Iw={},gY;function Nge(){if(gY)return Iw;gY=1,Object.defineProperty(Iw,"__esModule",{value:!0}),Iw.ActorQueryOperationProject=void 0;const a=Vt(),t=tt(),o=De(),n=YI(),r=At();let e=class extends a.ActorQueryOperationTypedMediated{constructor(s){super(s,"project")}async testOperation(s,c){return(0,o.passTestVoid)()}async runOperation(s,c){const u=c.getSafe(t.KeysInitQuery.dataFactory),l=(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:s.input,context:c})),f=await l.metadata(),d=Object.fromEntries(f.variables.map(b=>[b.variable.value,b])),h=s.variables.map(b=>({variable:b,canBeUndef:!1})),p=Object.fromEntries(h.map(b=>[b.variable.value,b])),_=f.variables.filter(b=>!(b.variable.value in p)),g=h.map(b=>({variable:b.variable,canBeUndef:!(b.variable.value in d)||d[b.variable.value].canBeUndef}));let y=_.length===0?l.bindingsStream:l.bindingsStream.map(b=>{for(const T of _)b=b.delete(T.variable);return b}),m=0;return y=y.map(b=>{m++;const T=new Map;return b.map(w=>{if(w instanceof n.BlankNodeBindingsScoped){let O=T.get(w.value);return O||(O=u.blankNode(`${w.value}${m}`),T.set(w.value,O)),O}return w})}),{type:"bindings",bindingsStream:y,metadata:async()=>({...f,variables:g})}}};return Iw.ActorQueryOperationProject=e,Iw}var vY;function Dge(){return vY||(vY=1,function(a){var t=gd&&gd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=gd&&gd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Nge(),a)}(gd)),gd}var vd={},Rw={},Fw={},TY;function Pge(){var d,h,_,g,y,m,b,T,w,O,F,Q,j,x,I,D,C,X,z,J,ie,se,ye,K,Te,Ne,_e,$,JD,qe,Ce,xe,we,Eae,M,B,R,Ua,Va,KD,XE,WE,rr,YD,mO,Qa,ZD;if(TY)return Fw;TY=1,Object.defineProperty(Fw,"__esModule",{value:!0}),Fw.LRUCache=void 0;const a=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,t=new Set,o=typeof xr=="object"&&xr?xr:{},n=(Ae,A,E,P)=>{typeof o.emitWarning=="function"?o.emitWarning(Ae,A,E,P):console.error(`[${E}] ${A}: ${Ae}`)};let r=globalThis.AbortController,e=globalThis.AbortSignal;if(typeof r>"u"){e=class{constructor(){We(this,"onabort");We(this,"_onabort",[]);We(this,"reason");We(this,"aborted",!1)}addEventListener(P,k){this._onabort.push(k)}},r=class{constructor(){We(this,"signal",new e);A()}abort(P){var k,N;if(!this.signal.aborted){this.signal.reason=P,this.signal.aborted=!0;for(const S of this.signal._onabort)S(P);(N=(k=this.signal).onabort)==null||N.call(k,P)}}};let Ae=((d=o.env)==null?void 0:d.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const A=()=>{Ae&&(Ae=!1,n("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",A))}}const i=Ae=>!t.has(Ae),s=Ae=>Ae&&Ae===Math.floor(Ae)&&Ae>0&&isFinite(Ae),c=Ae=>s(Ae)?Ae<=Math.pow(2,8)?Uint8Array:Ae<=Math.pow(2,16)?Uint16Array:Ae<=Math.pow(2,32)?Uint32Array:Ae<=Number.MAX_SAFE_INTEGER?u:null:null;class u extends Array{constructor(A){super(A),this.fill(0)}}const p=class p{constructor(A,E){We(this,"heap");We(this,"length");if(!v(p,h))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new E(A),this.length=0}static create(A){const E=c(A);if(!E)return[];be(p,h,!0);const P=new p(A,E);return be(p,h,!1),P}push(A){this.heap[this.length++]=A}pop(){return this.heap[--this.length]}};h=new WeakMap,Le(p,h,!1);let l=p;const ke=class ke{constructor(A){Le(this,$);Le(this,y);Le(this,m);Le(this,b);Le(this,T);Le(this,w);Le(this,O);We(this,"ttl");We(this,"ttlResolution");We(this,"ttlAutopurge");We(this,"updateAgeOnGet");We(this,"updateAgeOnHas");We(this,"allowStale");We(this,"noDisposeOnSet");We(this,"noUpdateTTL");We(this,"maxEntrySize");We(this,"sizeCalculation");We(this,"noDeleteOnFetchRejection");We(this,"noDeleteOnStaleGet");We(this,"allowStaleOnFetchAbort");We(this,"allowStaleOnFetchRejection");We(this,"ignoreFetchAbort");Le(this,F);Le(this,Q);Le(this,j);Le(this,x);Le(this,I);Le(this,D);Le(this,C);Le(this,X);Le(this,z);Le(this,J);Le(this,ie);Le(this,se);Le(this,ye);Le(this,K);Le(this,Te);Le(this,Ne);Le(this,_e);Le(this,qe,()=>{});Le(this,Ce,()=>{});Le(this,xe,()=>{});Le(this,we,()=>!1);Le(this,M,A=>{});Le(this,B,(A,E,P)=>{});Le(this,R,(A,E,P,k)=>{if(P||k)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});We(this,_,"LRUCache");const{max:E=0,ttl:P,ttlResolution:k=1,ttlAutopurge:N,updateAgeOnGet:S,updateAgeOnHas:L,allowStale:U,dispose:Z,disposeAfter:me,noDisposeOnSet:pe,noUpdateTTL:Xe,maxSize:ne=0,maxEntrySize:Ie=0,sizeCalculation:ve,fetchMethod:Re,memoMethod:ce,noDeleteOnFetchRejection:Pe,noDeleteOnStaleGet:ze,allowStaleOnFetchRejection:Ue,allowStaleOnFetchAbort:Ye,ignoreFetchAbort:fe}=A;if(E!==0&&!s(E))throw new TypeError("max option must be a nonnegative integer");const H=E?c(E):Array;if(!H)throw new Error("invalid max value: "+E);if(be(this,y,E),be(this,m,ne),this.maxEntrySize=Ie||v(this,m),this.sizeCalculation=ve,this.sizeCalculation){if(!v(this,m)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(ce!==void 0&&typeof ce!="function")throw new TypeError("memoMethod must be a function if defined");if(be(this,O,ce),Re!==void 0&&typeof Re!="function")throw new TypeError("fetchMethod must be a function if specified");if(be(this,w,Re),be(this,Ne,!!Re),be(this,j,new Map),be(this,x,new Array(E).fill(void 0)),be(this,I,new Array(E).fill(void 0)),be(this,D,new H(E)),be(this,C,new H(E)),be(this,X,0),be(this,z,0),be(this,J,l.create(E)),be(this,F,0),be(this,Q,0),typeof Z=="function"&&be(this,b,Z),typeof me=="function"?(be(this,T,me),be(this,ie,[])):(be(this,T,void 0),be(this,ie,void 0)),be(this,Te,!!v(this,b)),be(this,_e,!!v(this,T)),this.noDisposeOnSet=!!pe,this.noUpdateTTL=!!Xe,this.noDeleteOnFetchRejection=!!Pe,this.allowStaleOnFetchRejection=!!Ue,this.allowStaleOnFetchAbort=!!Ye,this.ignoreFetchAbort=!!fe,this.maxEntrySize!==0){if(v(this,m)!==0&&!s(v(this,m)))throw new TypeError("maxSize must be a positive integer if specified");if(!s(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");ae(this,$,Eae).call(this)}if(this.allowStale=!!U,this.noDeleteOnStaleGet=!!ze,this.updateAgeOnGet=!!S,this.updateAgeOnHas=!!L,this.ttlResolution=s(k)||k===0?k:1,this.ttlAutopurge=!!N,this.ttl=P||0,this.ttl){if(!s(this.ttl))throw new TypeError("ttl must be a positive integer if specified");ae(this,$,JD).call(this)}if(v(this,y)===0&&this.ttl===0&&v(this,m)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!v(this,y)&&!v(this,m)){const V="LRU_CACHE_UNBOUNDED";i(V)&&(t.add(V),n("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",V,ke))}}static unsafeExposeInternals(A){return{starts:v(A,ye),ttls:v(A,K),sizes:v(A,se),keyMap:v(A,j),keyList:v(A,x),valList:v(A,I),next:v(A,D),prev:v(A,C),get head(){return v(A,X)},get tail(){return v(A,z)},free:v(A,J),isBackgroundFetch:E=>{var P;return ae(P=A,$,rr).call(P,E)},backgroundFetch:(E,P,k,N)=>{var S;return ae(S=A,$,WE).call(S,E,P,k,N)},moveToTail:E=>{var P;return ae(P=A,$,mO).call(P,E)},indexes:E=>{var P;return ae(P=A,$,Ua).call(P,E)},rindexes:E=>{var P;return ae(P=A,$,Va).call(P,E)},isStale:E=>{var P;return v(P=A,we).call(P,E)}}}get max(){return v(this,y)}get maxSize(){return v(this,m)}get calculatedSize(){return v(this,Q)}get size(){return v(this,F)}get fetchMethod(){return v(this,w)}get memoMethod(){return v(this,O)}get dispose(){return v(this,b)}get disposeAfter(){return v(this,T)}getRemainingTTL(A){return v(this,j).has(A)?1/0:0}*entries(){for(const A of ae(this,$,Ua).call(this))v(this,I)[A]!==void 0&&v(this,x)[A]!==void 0&&!ae(this,$,rr).call(this,v(this,I)[A])&&(yield[v(this,x)[A],v(this,I)[A]])}*rentries(){for(const A of ae(this,$,Va).call(this))v(this,I)[A]!==void 0&&v(this,x)[A]!==void 0&&!ae(this,$,rr).call(this,v(this,I)[A])&&(yield[v(this,x)[A],v(this,I)[A]])}*keys(){for(const A of ae(this,$,Ua).call(this)){const E=v(this,x)[A];E!==void 0&&!ae(this,$,rr).call(this,v(this,I)[A])&&(yield E)}}*rkeys(){for(const A of ae(this,$,Va).call(this)){const E=v(this,x)[A];E!==void 0&&!ae(this,$,rr).call(this,v(this,I)[A])&&(yield E)}}*values(){for(const A of ae(this,$,Ua).call(this))v(this,I)[A]!==void 0&&!ae(this,$,rr).call(this,v(this,I)[A])&&(yield v(this,I)[A])}*rvalues(){for(const A of ae(this,$,Va).call(this))v(this,I)[A]!==void 0&&!ae(this,$,rr).call(this,v(this,I)[A])&&(yield v(this,I)[A])}[(g=Symbol.iterator,_=Symbol.toStringTag,g)](){return this.entries()}find(A,E={}){for(const P of ae(this,$,Ua).call(this)){const k=v(this,I)[P],N=ae(this,$,rr).call(this,k)?k.__staleWhileFetching:k;if(N!==void 0&&A(N,v(this,x)[P],this))return this.get(v(this,x)[P],E)}}forEach(A,E=this){for(const P of ae(this,$,Ua).call(this)){const k=v(this,I)[P],N=ae(this,$,rr).call(this,k)?k.__staleWhileFetching:k;N!==void 0&&A.call(E,N,v(this,x)[P],this)}}rforEach(A,E=this){for(const P of ae(this,$,Va).call(this)){const k=v(this,I)[P],N=ae(this,$,rr).call(this,k)?k.__staleWhileFetching:k;N!==void 0&&A.call(E,N,v(this,x)[P],this)}}purgeStale(){let A=!1;for(const E of ae(this,$,Va).call(this,{allowStale:!0}))v(this,we).call(this,E)&&(ae(this,$,Qa).call(this,v(this,x)[E],"expire"),A=!0);return A}info(A){const E=v(this,j).get(A);if(E===void 0)return;const P=v(this,I)[E],k=ae(this,$,rr).call(this,P)?P.__staleWhileFetching:P;if(k===void 0)return;const N={value:k};if(v(this,K)&&v(this,ye)){const S=v(this,K)[E],L=v(this,ye)[E];if(S&&L){const U=S-(a.now()-L);N.ttl=U,N.start=Date.now()}}return v(this,se)&&(N.size=v(this,se)[E]),N}dump(){const A=[];for(const E of ae(this,$,Ua).call(this,{allowStale:!0})){const P=v(this,x)[E],k=v(this,I)[E],N=ae(this,$,rr).call(this,k)?k.__staleWhileFetching:k;if(N===void 0||P===void 0)continue;const S={value:N};if(v(this,K)&&v(this,ye)){S.ttl=v(this,K)[E];const L=a.now()-v(this,ye)[E];S.start=Math.floor(Date.now()-L)}v(this,se)&&(S.size=v(this,se)[E]),A.unshift([P,S])}return A}load(A){this.clear();for(const[E,P]of A){if(P.start){const k=Date.now()-P.start;P.start=a.now()-k}this.set(E,P.value,P)}}set(A,E,P={}){var Xe,ne,Ie,ve,Re;if(E===void 0)return this.delete(A),this;const{ttl:k=this.ttl,start:N,noDisposeOnSet:S=this.noDisposeOnSet,sizeCalculation:L=this.sizeCalculation,status:U}=P;let{noUpdateTTL:Z=this.noUpdateTTL}=P;const me=v(this,R).call(this,A,E,P.size||0,L);if(this.maxEntrySize&&me>this.maxEntrySize)return U&&(U.set="miss",U.maxEntrySizeExceeded=!0),ae(this,$,Qa).call(this,A,"set"),this;let pe=v(this,F)===0?void 0:v(this,j).get(A);if(pe===void 0)pe=v(this,F)===0?v(this,z):v(this,J).length!==0?v(this,J).pop():v(this,F)===v(this,y)?ae(this,$,XE).call(this,!1):v(this,F),v(this,x)[pe]=A,v(this,I)[pe]=E,v(this,j).set(A,pe),v(this,D)[v(this,z)]=pe,v(this,C)[pe]=v(this,z),be(this,z,pe),Fr(this,F)._++,v(this,B).call(this,pe,me,U),U&&(U.set="add"),Z=!1;else{ae(this,$,mO).call(this,pe);const ce=v(this,I)[pe];if(E!==ce){if(v(this,Ne)&&ae(this,$,rr).call(this,ce)){ce.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:Pe}=ce;Pe!==void 0&&!S&&(v(this,Te)&&((Xe=v(this,b))==null||Xe.call(this,Pe,A,"set")),v(this,_e)&&((ne=v(this,ie))==null||ne.push([Pe,A,"set"])))}else S||(v(this,Te)&&((Ie=v(this,b))==null||Ie.call(this,ce,A,"set")),v(this,_e)&&((ve=v(this,ie))==null||ve.push([ce,A,"set"])));if(v(this,M).call(this,pe),v(this,B).call(this,pe,me,U),v(this,I)[pe]=E,U){U.set="replace";const Pe=ce&&ae(this,$,rr).call(this,ce)?ce.__staleWhileFetching:ce;Pe!==void 0&&(U.oldValue=Pe)}}else U&&(U.set="update")}if(k!==0&&!v(this,K)&&ae(this,$,JD).call(this),v(this,K)&&(Z||v(this,xe).call(this,pe,k,N),U&&v(this,Ce).call(this,U,pe)),!S&&v(this,_e)&&v(this,ie)){const ce=v(this,ie);let Pe;for(;Pe=ce==null?void 0:ce.shift();)(Re=v(this,T))==null||Re.call(this,...Pe)}return this}pop(){var A;try{for(;v(this,F);){const E=v(this,I)[v(this,X)];if(ae(this,$,XE).call(this,!0),ae(this,$,rr).call(this,E)){if(E.__staleWhileFetching)return E.__staleWhileFetching}else if(E!==void 0)return E}}finally{if(v(this,_e)&&v(this,ie)){const E=v(this,ie);let P;for(;P=E==null?void 0:E.shift();)(A=v(this,T))==null||A.call(this,...P)}}}has(A,E={}){const{updateAgeOnHas:P=this.updateAgeOnHas,status:k}=E,N=v(this,j).get(A);if(N!==void 0){const S=v(this,I)[N];if(ae(this,$,rr).call(this,S)&&S.__staleWhileFetching===void 0)return!1;if(v(this,we).call(this,N))k&&(k.has="stale",v(this,Ce).call(this,k,N));else return P&&v(this,qe).call(this,N),k&&(k.has="hit",v(this,Ce).call(this,k,N)),!0}else k&&(k.has="miss");return!1}peek(A,E={}){const{allowStale:P=this.allowStale}=E,k=v(this,j).get(A);if(k===void 0||!P&&v(this,we).call(this,k))return;const N=v(this,I)[k];return ae(this,$,rr).call(this,N)?N.__staleWhileFetching:N}async fetch(A,E={}){const{allowStale:P=this.allowStale,updateAgeOnGet:k=this.updateAgeOnGet,noDeleteOnStaleGet:N=this.noDeleteOnStaleGet,ttl:S=this.ttl,noDisposeOnSet:L=this.noDisposeOnSet,size:U=0,sizeCalculation:Z=this.sizeCalculation,noUpdateTTL:me=this.noUpdateTTL,noDeleteOnFetchRejection:pe=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Xe=this.allowStaleOnFetchRejection,ignoreFetchAbort:ne=this.ignoreFetchAbort,allowStaleOnFetchAbort:Ie=this.allowStaleOnFetchAbort,context:ve,forceRefresh:Re=!1,status:ce,signal:Pe}=E;if(!v(this,Ne))return ce&&(ce.fetch="get"),this.get(A,{allowStale:P,updateAgeOnGet:k,noDeleteOnStaleGet:N,status:ce});const ze={allowStale:P,updateAgeOnGet:k,noDeleteOnStaleGet:N,ttl:S,noDisposeOnSet:L,size:U,sizeCalculation:Z,noUpdateTTL:me,noDeleteOnFetchRejection:pe,allowStaleOnFetchRejection:Xe,allowStaleOnFetchAbort:Ie,ignoreFetchAbort:ne,status:ce,signal:Pe};let Ue=v(this,j).get(A);if(Ue===void 0){ce&&(ce.fetch="miss");const Ye=ae(this,$,WE).call(this,A,Ue,ze,ve);return Ye.__returned=Ye}else{const Ye=v(this,I)[Ue];if(ae(this,$,rr).call(this,Ye)){const oe=P&&Ye.__staleWhileFetching!==void 0;return ce&&(ce.fetch="inflight",oe&&(ce.returnedStale=!0)),oe?Ye.__staleWhileFetching:Ye.__returned=Ye}const fe=v(this,we).call(this,Ue);if(!Re&&!fe)return ce&&(ce.fetch="hit"),ae(this,$,mO).call(this,Ue),k&&v(this,qe).call(this,Ue),ce&&v(this,Ce).call(this,ce,Ue),Ye;const H=ae(this,$,WE).call(this,A,Ue,ze,ve),G=H.__staleWhileFetching!==void 0&&P;return ce&&(ce.fetch=fe?"stale":"refresh",G&&fe&&(ce.returnedStale=!0)),G?H.__staleWhileFetching:H.__returned=H}}async forceFetch(A,E={}){const P=await this.fetch(A,E);if(P===void 0)throw new Error("fetch() returned undefined");return P}memo(A,E={}){const P=v(this,O);if(!P)throw new Error("no memoMethod provided to constructor");const{context:k,forceRefresh:N,...S}=E,L=this.get(A,S);if(!N&&L!==void 0)return L;const U=P(A,L,{options:S,context:k});return this.set(A,U,S),U}get(A,E={}){const{allowStale:P=this.allowStale,updateAgeOnGet:k=this.updateAgeOnGet,noDeleteOnStaleGet:N=this.noDeleteOnStaleGet,status:S}=E,L=v(this,j).get(A);if(L!==void 0){const U=v(this,I)[L],Z=ae(this,$,rr).call(this,U);return S&&v(this,Ce).call(this,S,L),v(this,we).call(this,L)?(S&&(S.get="stale"),Z?(S&&P&&U.__staleWhileFetching!==void 0&&(S.returnedStale=!0),P?U.__staleWhileFetching:void 0):(N||ae(this,$,Qa).call(this,A,"expire"),S&&P&&(S.returnedStale=!0),P?U:void 0)):(S&&(S.get="hit"),Z?U.__staleWhileFetching:(ae(this,$,mO).call(this,L),k&&v(this,qe).call(this,L),U))}else S&&(S.get="miss")}delete(A){return ae(this,$,Qa).call(this,A,"delete")}clear(){return ae(this,$,ZD).call(this,"delete")}};y=new WeakMap,m=new WeakMap,b=new WeakMap,T=new WeakMap,w=new WeakMap,O=new WeakMap,F=new WeakMap,Q=new WeakMap,j=new WeakMap,x=new WeakMap,I=new WeakMap,D=new WeakMap,C=new WeakMap,X=new WeakMap,z=new WeakMap,J=new WeakMap,ie=new WeakMap,se=new WeakMap,ye=new WeakMap,K=new WeakMap,Te=new WeakMap,Ne=new WeakMap,_e=new WeakMap,$=new WeakSet,JD=function(){const A=new u(v(this,y)),E=new u(v(this,y));be(this,K,A),be(this,ye,E),be(this,xe,(N,S,L=a.now())=>{if(E[N]=S!==0?L:0,A[N]=S,S!==0&&this.ttlAutopurge){const U=setTimeout(()=>{v(this,we).call(this,N)&&ae(this,$,Qa).call(this,v(this,x)[N],"expire")},S+1);U.unref&&U.unref()}}),be(this,qe,N=>{E[N]=A[N]!==0?a.now():0}),be(this,Ce,(N,S)=>{if(A[S]){const L=A[S],U=E[S];if(!L||!U)return;N.ttl=L,N.start=U,N.now=P||k();const Z=N.now-U;N.remainingTTL=L-Z}});let P=0;const k=()=>{const N=a.now();if(this.ttlResolution>0){P=N;const S=setTimeout(()=>P=0,this.ttlResolution);S.unref&&S.unref()}return N};this.getRemainingTTL=N=>{const S=v(this,j).get(N);if(S===void 0)return 0;const L=A[S],U=E[S];if(!L||!U)return 1/0;const Z=(P||k())-U;return L-Z},be(this,we,N=>{const S=E[N],L=A[N];return!!L&&!!S&&(P||k())-S>L})},qe=new WeakMap,Ce=new WeakMap,xe=new WeakMap,we=new WeakMap,Eae=function(){const A=new u(v(this,y));be(this,Q,0),be(this,se,A),be(this,M,E=>{be(this,Q,v(this,Q)-A[E]),A[E]=0}),be(this,R,(E,P,k,N)=>{if(ae(this,$,rr).call(this,P))return 0;if(!s(k))if(N){if(typeof N!="function")throw new TypeError("sizeCalculation must be a function");if(k=N(P,E),!s(k))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return k}),be(this,B,(E,P,k)=>{if(A[E]=P,v(this,m)){const N=v(this,m)-A[E];for(;v(this,Q)>N;)ae(this,$,XE).call(this,!0)}be(this,Q,v(this,Q)+A[E]),k&&(k.entrySize=P,k.totalCalculatedSize=v(this,Q))})},M=new WeakMap,B=new WeakMap,R=new WeakMap,Ua=function*({allowStale:A=this.allowStale}={}){if(v(this,F))for(let E=v(this,z);!(!ae(this,$,KD).call(this,E)||((A||!v(this,we).call(this,E))&&(yield E),E===v(this,X)));)E=v(this,C)[E]},Va=function*({allowStale:A=this.allowStale}={}){if(v(this,F))for(let E=v(this,X);!(!ae(this,$,KD).call(this,E)||((A||!v(this,we).call(this,E))&&(yield E),E===v(this,z)));)E=v(this,D)[E]},KD=function(A){return A!==void 0&&v(this,j).get(v(this,x)[A])===A},XE=function(A){var N,S;const E=v(this,X),P=v(this,x)[E],k=v(this,I)[E];return v(this,Ne)&&ae(this,$,rr).call(this,k)?k.__abortController.abort(new Error("evicted")):(v(this,Te)||v(this,_e))&&(v(this,Te)&&((N=v(this,b))==null||N.call(this,k,P,"evict")),v(this,_e)&&((S=v(this,ie))==null||S.push([k,P,"evict"]))),v(this,M).call(this,E),A&&(v(this,x)[E]=void 0,v(this,I)[E]=void 0,v(this,J).push(E)),v(this,F)===1?(be(this,X,be(this,z,0)),v(this,J).length=0):be(this,X,v(this,D)[E]),v(this,j).delete(P),Fr(this,F)._--,E},WE=function(A,E,P,k){const N=E===void 0?void 0:v(this,I)[E];if(ae(this,$,rr).call(this,N))return N;const S=new r,{signal:L}=P;L==null||L.addEventListener("abort",()=>S.abort(L.reason),{signal:S.signal});const U={signal:S.signal,options:P,context:k},Z=(ve,Re=!1)=>{const{aborted:ce}=S.signal,Pe=P.ignoreFetchAbort&&ve!==void 0;if(P.status&&(ce&&!Re?(P.status.fetchAborted=!0,P.status.fetchError=S.signal.reason,Pe&&(P.status.fetchAbortIgnored=!0)):P.status.fetchResolved=!0),ce&&!Pe&&!Re)return pe(S.signal.reason);const ze=ne;return v(this,I)[E]===ne&&(ve===void 0?ze.__staleWhileFetching?v(this,I)[E]=ze.__staleWhileFetching:ae(this,$,Qa).call(this,A,"fetch"):(P.status&&(P.status.fetchUpdated=!0),this.set(A,ve,U.options))),ve},me=ve=>(P.status&&(P.status.fetchRejected=!0,P.status.fetchError=ve),pe(ve)),pe=ve=>{const{aborted:Re}=S.signal,ce=Re&&P.allowStaleOnFetchAbort,Pe=ce||P.allowStaleOnFetchRejection,ze=Pe||P.noDeleteOnFetchRejection,Ue=ne;if(v(this,I)[E]===ne&&(!ze||Ue.__staleWhileFetching===void 0?ae(this,$,Qa).call(this,A,"fetch"):ce||(v(this,I)[E]=Ue.__staleWhileFetching)),Pe)return P.status&&Ue.__staleWhileFetching!==void 0&&(P.status.returnedStale=!0),Ue.__staleWhileFetching;if(Ue.__returned===Ue)throw ve},Xe=(ve,Re)=>{var Pe;const ce=(Pe=v(this,w))==null?void 0:Pe.call(this,A,N,U);ce&&ce instanceof Promise&&ce.then(ze=>ve(ze===void 0?void 0:ze),Re),S.signal.addEventListener("abort",()=>{(!P.ignoreFetchAbort||P.allowStaleOnFetchAbort)&&(ve(void 0),P.allowStaleOnFetchAbort&&(ve=ze=>Z(ze,!0)))})};P.status&&(P.status.fetchDispatched=!0);const ne=new Promise(Xe).then(Z,me),Ie=Object.assign(ne,{__abortController:S,__staleWhileFetching:N,__returned:void 0});return E===void 0?(this.set(A,Ie,{...U.options,status:void 0}),E=v(this,j).get(A)):v(this,I)[E]=Ie,Ie},rr=function(A){if(!v(this,Ne))return!1;const E=A;return!!E&&E instanceof Promise&&E.hasOwnProperty("__staleWhileFetching")&&E.__abortController instanceof r},YD=function(A,E){v(this,C)[E]=A,v(this,D)[A]=E},mO=function(A){A!==v(this,z)&&(A===v(this,X)?be(this,X,v(this,D)[A]):ae(this,$,YD).call(this,v(this,C)[A],v(this,D)[A]),ae(this,$,YD).call(this,v(this,z),A),be(this,z,A))},Qa=function(A,E){var k,N,S,L;let P=!1;if(v(this,F)!==0){const U=v(this,j).get(A);if(U!==void 0)if(P=!0,v(this,F)===1)ae(this,$,ZD).call(this,E);else{v(this,M).call(this,U);const Z=v(this,I)[U];if(ae(this,$,rr).call(this,Z)?Z.__abortController.abort(new Error("deleted")):(v(this,Te)||v(this,_e))&&(v(this,Te)&&((k=v(this,b))==null||k.call(this,Z,A,E)),v(this,_e)&&((N=v(this,ie))==null||N.push([Z,A,E]))),v(this,j).delete(A),v(this,x)[U]=void 0,v(this,I)[U]=void 0,U===v(this,z))be(this,z,v(this,C)[U]);else if(U===v(this,X))be(this,X,v(this,D)[U]);else{const me=v(this,C)[U];v(this,D)[me]=v(this,D)[U];const pe=v(this,D)[U];v(this,C)[pe]=v(this,C)[U]}Fr(this,F)._--,v(this,J).push(U)}}if(v(this,_e)&&((S=v(this,ie))!=null&&S.length)){const U=v(this,ie);let Z;for(;Z=U==null?void 0:U.shift();)(L=v(this,T))==null||L.call(this,...Z)}return P},ZD=function(A){var E,P,k;for(const N of ae(this,$,Va).call(this,{allowStale:!0})){const S=v(this,I)[N];if(ae(this,$,rr).call(this,S))S.__abortController.abort(new Error("deleted"));else{const L=v(this,x)[N];v(this,Te)&&((E=v(this,b))==null||E.call(this,S,L,A)),v(this,_e)&&((P=v(this,ie))==null||P.push([S,L,A]))}}if(v(this,j).clear(),v(this,I).fill(void 0),v(this,x).fill(void 0),v(this,K)&&v(this,ye)&&(v(this,K).fill(0),v(this,ye).fill(0)),v(this,se)&&v(this,se).fill(0),be(this,X,0),be(this,z,0),v(this,J).length=0,be(this,Q,0),be(this,F,0),v(this,_e)&&v(this,ie)){const N=v(this,ie);let S;for(;S=N==null?void 0:N.shift();)(k=v(this,T))==null||k.call(this,...S)}};let f=ke;return Fw.LRUCache=f,Fw}var wY;function Lge(){if(wY)return Rw;wY=1,Object.defineProperty(Rw,"__esModule",{value:!0}),Rw.ActorQueryOperationReducedHash=void 0;const a=Vt(),t=De(),o=At(),n=Pge();let r=class extends a.ActorQueryOperationTypedMediated{constructor(i){super(i,"reduced")}async testOperation(i,s){return(0,t.passTestVoid)()}async runOperation(i,s){const c=(0,o.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:i.input,context:s})),u=(await c.metadata()).variables.map(f=>f.variable);return{type:"bindings",bindingsStream:c.bindingsStream.filter(await this.newHashFilter(s,u)),metadata:c.metadata}}async newHashFilter(i,s){const{hashFunction:c}=await this.mediatorHashBindings.mediate({context:i}),u=new n.LRUCache({max:this.cacheSize});return l=>{const f=c(l,s);return u.has(f)?!1:(u.set(f,!0),!0)}}};return Rw.ActorQueryOperationReducedHash=r,Rw}var SY;function jge(){return SY||(SY=1,function(a){var t=vd&&vd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=vd&&vd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Lge(),a)}(vd)),vd}var Td={},Nw={},OY;function Mge(){if(OY)return Nw;OY=1,Object.defineProperty(Nw,"__esModule",{value:!0}),Nw.ActorQueryOperationSlice=void 0;const a=Vt(),t=tt(),o=De();let n=class extends a.ActorQueryOperationTypedMediated{constructor(e){super(e,"slice")}async testOperation(e,i){return(0,o.passTestVoid)()}async runOperation(e,i){e.length&&(i=i.set(t.KeysQueryOperation.limitIndicator,e.length));const s=await this.mediatorQueryOperation.mediate({operation:e.input,context:i});return s.type==="bindings"?{type:"bindings",bindingsStream:this.sliceStream(s.bindingsStream,e),metadata:this.sliceMetadata(s,e)}:s.type==="quads"?{type:"quads",quadStream:this.sliceStream(s.quadStream,e),metadata:this.sliceMetadata(s,e)}:s}sliceStream(e,i){const s=!!i.length||i.length===0,{start:c}=i,u=s?i.start+i.length-1:Number.POSITIVE_INFINITY;return e.transform({offset:c,limit:Math.max(u-c+1,0),autoStart:!1})}sliceMetadata(e,i){const s=!!i.length||i.length===0;return()=>e.metadata().then(c=>{const u={...c.cardinality};return Number.isFinite(u.value)&&(u.value=Math.max(0,u.value-i.start),s&&(u.value=Math.min(u.value,i.length))),{...c,cardinality:u}})}};return Nw.ActorQueryOperationSlice=n,Nw}var AY;function qge(){return AY||(AY=1,function(a){var t=Td&&Td.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Td&&Td.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Mge(),a)}(Td)),Td}var wd={},Dw={},EY;function Cge(){if(EY)return Dw;EY=1,Object.defineProperty(Dw,"__esModule",{value:!0}),Dw.ActorQueryOperationUnion=void 0;const a=Vt(),t=De(),o=Nr(),n=At(),r=Tt();let e=class JE extends a.ActorQueryOperationTypedMediated{constructor(s){super(s,"union")}static unionVariables(s){const c={};for(const u of s)for(const l of u){c[l.variable.value]||(c[l.variable.value]={variable:l.variable,canBeUndef:l.canBeUndef,occurrences:0});const f=c[l.variable.value];f.canBeUndef=f.canBeUndef||l.canBeUndef,f.occurrences++}return Object.values(c).map(u=>u.occurrences===s.length?{variable:u.variable,canBeUndef:u.canBeUndef}:{variable:u.variable,canBeUndef:!0})}static async unionMetadata(s,c,u,l){let f=(await l.mediate({mode:"initialize",context:u})).metadata;for(const h of s)f={...h,...(await l.mediate({mode:"append",accumulatedMetadata:f,appendingMetadata:h,context:u})).metadata};f.state=new o.MetadataValidationState;const d=()=>f.state.invalidate();for(const h of s)h.state.addInvalidateListener(d);if(c){const h=s.map(p=>p.variables);f.variables=JE.unionVariables(h)}return f}async testOperation(s,c){return(0,t.passTestVoid)()}async runOperation(s,c){const u=await Promise.all(s.input.map(f=>this.mediatorQueryOperation.mediate({operation:f,context:c})));let l;for(const f of u)if(l===void 0)l=f.type;else if(l!==f.type)throw new Error(`Unable to union ${l} and ${f.type}`);if(l==="bindings"||s.input.length===0){const f=u.map(n.getSafeBindings);return{type:"bindings",bindingsStream:new r.UnionIterator(f.map(p=>p.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(f.map(p=>p.metadata())).then(p=>JE.unionMetadata(p,!0,c,this.mediatorRdfMetadataAccumulate))}}if(l==="quads"){const f=u.map(n.getSafeQuads);return{type:"quads",quadStream:new r.UnionIterator(f.map(p=>p.quadStream),{autoStart:!1}),metadata:()=>Promise.all(f.map(p=>p.metadata())).then(p=>JE.unionMetadata(p,!1,c,this.mediatorRdfMetadataAccumulate))}}throw new Error(`Unable to union ${l}`)}};return Dw.ActorQueryOperationUnion=e,Dw}var xY;function IY(){return xY||(xY=1,function(a){var t=wd&&wd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=wd&&wd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Cge(),a)}(wd)),wd}var Sd={},Pw={},Od={},Lw={},jw={},RY;function FY(){if(RY)return jw;RY=1,Object.defineProperty(jw,"__esModule",{value:!0}),jw.PathVariableObjectIterator=void 0;const a=At(),t=Tt(),o=$t();let n=class extends t.BufferedIterator{constructor(e,i,s,c,u,l,f,d=16){super({autoStart:!0}),this.algebraFactory=e,this.subject=i,this.predicate=s,this.graph=c,this.context=u,this.mediatorQueryOperation=l,this.maxRunningOperations=d,this.termHashes=new Map,this.runningOperations=[],this.pendingOperations=[],this._push(this.subject,f)}_end(e){for(const i of this.runningOperations)i.destroy();super._end(e)}_push(e,i=!0){let s;if(i&&(s=(0,o.termToString)(e),this.termHashes.has(s)))return;const c=this.algebraFactory.dataFactory.variable("b");this.pendingOperations.push({variable:c,operation:this.algebraFactory.createPath(e,this.predicate,c,this.graph)}),s&&(this.termHashes.set(s,e),super._push(e))}_read(e,i){const s=this;(async function(){for(;s.runningOperations.length<s.maxRunningOperations&&s.pendingOperations.length!==0;){const l=s.pendingOperations.pop(),f=(0,a.getSafeBindings)(await s.mediatorQueryOperation.mediate({operation:l.operation,context:s.context})),d=f.bindingsStream.transform({autoStart:!1,transform(h,p,_){const g=h.get(l.variable);_(g),p()}});d.done||(s.runningOperations.push(d),d.on("error",h=>s.destroy(h)),d.on("readable",()=>{s.readable=!0,s._fillBufferAsync()}),d.on("end",()=>{s.runningOperations.splice(s.runningOperations.indexOf(d),1),s.readable=!0,s._fillBufferAsync()})),s.setProperty("metadata",f.metadata)}let c=0,u;for(;c!==(c=e);)for(let l=0;l<s.runningOperations.length&&e>0;l++)(u=s.runningOperations[l].read())!==null&&(e--,s._push(u));s.runningOperations.length===0&&s.pendingOperations.length===0&&s.close()})().then(()=>{i()},c=>this.destroy(c))}};return jw.PathVariableObjectIterator=n,jw}var NY;function Bge(){if(NY)return Lw;NY=1,Object.defineProperty(Lw,"__esModule",{value:!0}),Lw.ActorAbstractPath=void 0;const a=Vt(),t=tt(),o=De(),n=At(),r=Tt(),e=$t(),i=mt(),s=FY();let c=class extends a.ActorQueryOperationTypedMediated{constructor(l,f){super(l,"path"),this.predicateType=f}async testOperation(l,f){return l.predicate.type!==this.predicateType?(0,o.failTest)(`This Actor only supports ${this.predicateType} Path operations.`):(0,o.passTestVoid)()}generateVariable(l,f,d){return d?f&&(f.subject.value===d||f.object.value===d)?this.generateVariable(l,f,`${d}b`):l.variable(d):this.generateVariable(l,f,"b")}async isPathArbitraryLengthDistinct(l,f,d){return f.get(t.KeysQueryOperation.isPathArbitraryLengthDistinctKey)?(f=f.set(t.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!1),{context:f,operation:void 0}):(f=f.set(t.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!0),{context:f,operation:(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:l.createDistinct(d),context:f}))})}async predicateStarGraphVariable(l,f,d,h,p,_,g){const y=this.getPathSources(d),m=this.generateVariable(_.dataFactory,_.createPath(l,d,f,h)),b=_.createUnion([this.assignPatternSources(_,_.createPattern(l,m,f,h),y),this.assignPatternSources(_,_.createPattern(f,m,l,h),y)]),T=(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:p,operation:b})),w=new Set;return{bindingsStream:new r.MultiTransformIterator(T.bindingsStream,{multiTransform:F=>{const Q=F.get(h);return w.has(Q.value)?new r.EmptyIterator:(w.add(Q.value),new r.TransformIterator(async()=>{const j=new r.BufferedIterator;return await this.getObjectsPredicateStar(_,l,d,Q,p,{},j,{count:0}),j.transform({transform(x,I,D){D(g.bindings([[f,x],[h,Q]])),I()}})},{maxBufferSize:128}))},autoStart:!1}),metadata:T.metadata}}async getObjectsPredicateStarEval(l,f,d,h,p,_,g,y){if(h.termType==="Variable")return this.predicateStarGraphVariable(l,d,f,h,p,g,y);const m=new s.PathVariableObjectIterator(g,l,f,h,p,this.mediatorQueryOperation,_);return{bindingsStream:m.transform({autoStart:!1,transform(T,w,O){O(y.bindings([[d,T]])),w()}}),async metadata(){const T=await new Promise(w=>{m.getProperty("metadata",O=>w(O()))});return T.cardinality.value++,T}}}async getObjectsPredicateStar(l,f,d,h,p,_,g,y){const m=(0,e.termToString)(f);if(_[m])return;g._push(f),_[m]=f,y.count++;const b=this.generateVariable(l.dataFactory),T=l.createPath(f,d,b,h),w=(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:T,context:p}));return w.bindingsStream.on("data",async O=>{const F=O.get(b);await this.getObjectsPredicateStar(l,F,d,h,p,_,g,y)}),w.bindingsStream.on("end",()=>{--y.count===0&&g.close()}),w.metadata}async getSubjectAndObjectBindingsPredicateStar(l,f,d,h,p,_,g,y,m,b,T,w,O){const F=(0,e.termToString)(h)+(0,e.termToString)(_);if(m[F])return;if(T.count++,m[F]=!0,b._push(O.bindings([[l,d],[f,h]])),F in y){const j=await y[F];for(const x of j)await this.getSubjectAndObjectBindingsPredicateStar(l,f,d,x,p,_,g,y,m,b,T,w,O);--T.count===0&&b.close();return}const Q=new Promise(async(j,x)=>{const I=[],D=this.generateVariable(w.dataFactory),C=w.createPath(h,p,D,_),X=(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:C,context:g}));X.bindingsStream.on("data",async z=>{const J=z.get(D);I.push(J),await this.getSubjectAndObjectBindingsPredicateStar(l,f,d,J,p,_,g,y,m,b,T,w,O)}),X.bindingsStream.on("error",x),X.bindingsStream.on("end",()=>{--T.count===0&&b.close(),j(I)})});y[F]=Q}getPathSources(l){switch(l.type){case i.Algebra.types.ALT:case i.Algebra.types.SEQ:return l.input.flatMap(f=>this.getPathSources(f));case i.Algebra.types.INV:case i.Algebra.types.ONE_OR_MORE_PATH:case i.Algebra.types.ZERO_OR_MORE_PATH:case i.Algebra.types.ZERO_OR_ONE_PATH:return this.getPathSources(l.path);case i.Algebra.types.LINK:case i.Algebra.types.NPS:{const f=(0,n.getOperationSource)(l);if(!f)throw new Error("Could not find a required source on a link path operation");return[f]}}}assignPatternSources(l,f,d){if(d.length===0)throw new Error("Attempted to assign zero sources to a pattern during property path handling");return d.length===1?(0,n.assignOperationSource)(f,d[0]):l.createUnion(d.map(h=>(0,n.assignOperationSource)(f,h)),!0)}};return Lw.ActorAbstractPath=c,Lw}var DY;function Aa(){return DY||(DY=1,function(a){var t=Od&&Od.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Od&&Od.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Bge(),a),o(FY(),a)}(Od)),Od}var PY;function $ge(){if(PY)return Pw;PY=1,Object.defineProperty(Pw,"__esModule",{value:!0}),Pw.ActorQueryOperationPathAlt=void 0;const a=Aa(),t=IY(),o=tt(),n=At(),r=Tt(),e=mt();let i=class extends a.ActorAbstractPath{constructor(c){super(c,e.Algebra.types.ALT)}async runOperation(c,u){const l=u.getSafe(o.KeysInitQuery.dataFactory),f=new e.Factory(l),d=c.predicate,h=(await Promise.all(d.input.map(g=>this.mediatorQueryOperation.mediate({context:u,operation:f.createPath(c.subject,g,c.object,c.graph)})))).map(n.getSafeBindings);return{type:"bindings",bindingsStream:new r.UnionIterator(h.map(g=>g.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(h.map(g=>g.metadata())).then(g=>t.ActorQueryOperationUnion.unionMetadata(g,!0,u,this.mediatorRdfMetadataAccumulate))}}};return Pw.ActorQueryOperationPathAlt=i,Pw}var LY;function Uge(){return LY||(LY=1,function(a){var t=Sd&&Sd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Sd&&Sd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o($ge(),a)}(Sd)),Sd}var Ad={},Mw={},jY;function Vge(){if(jY)return Mw;jY=1,Object.defineProperty(Mw,"__esModule",{value:!0}),Mw.ActorQueryOperationPathInv=void 0;const a=Aa(),t=tt(),o=mt();let n=class extends a.ActorAbstractPath{constructor(e){super(e,o.Algebra.types.INV)}async runOperation(e,i){const s=i.getSafe(t.KeysInitQuery.dataFactory),c=new o.Factory(s),u=e.predicate,l=c.createPath(e.object,u.path,e.subject,e.graph);return this.mediatorQueryOperation.mediate({operation:l,context:i})}};return Mw.ActorQueryOperationPathInv=n,Mw}var MY;function Qge(){return MY||(MY=1,function(a){var t=Ad&&Ad.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ad&&Ad.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Vge(),a)}(Ad)),Ad}var Ed={},qw={},qY;function Hge(){if(qY)return qw;qY=1,Object.defineProperty(qw,"__esModule",{value:!0}),qw.ActorQueryOperationPathLink=void 0;const a=Aa(),t=tt(),o=mt();let n=class extends a.ActorAbstractPath{constructor(e){super(e,o.Algebra.types.LINK)}async runOperation(e,i){const s=i.getSafe(t.KeysInitQuery.dataFactory),c=new o.Factory(s),u=e.predicate,l=Object.assign(c.createPattern(e.subject,u.iri,e.object,e.graph),{metadata:u.metadata});return this.mediatorQueryOperation.mediate({operation:l,context:i})}};return qw.ActorQueryOperationPathLink=n,qw}var CY;function Gge(){return CY||(CY=1,function(a){var t=Ed&&Ed.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ed&&Ed.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Hge(),a)}(Ed)),Ed}var xd={},Cw={},BY;function zge(){if(BY)return Cw;BY=1,Object.defineProperty(Cw,"__esModule",{value:!0}),Cw.ActorQueryOperationPathNps=void 0;const a=Aa(),t=tt(),o=At(),n=mt();let r=class extends a.ActorAbstractPath{constructor(i){super(i,n.Algebra.types.NPS)}async runOperation(i,s){const c=s.getSafe(t.KeysInitQuery.dataFactory),u=new n.Factory(c),l=i.predicate,f=this.generateVariable(c,i),d=Object.assign(u.createPattern(i.subject,f,i.object,i.graph),{metadata:l.metadata}),h=(0,o.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:d,context:s}));return{type:"bindings",bindingsStream:h.bindingsStream.map(_=>l.iris.some(g=>g.equals(_.get(f)))?null:_.delete(f)),metadata:h.metadata}}};return Cw.ActorQueryOperationPathNps=r,Cw}var $Y;function kge(){return $Y||($Y=1,function(a){var t=xd&&xd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=xd&&xd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(zge(),a)}(xd)),xd}var Id={},Bw={},UY;function Xge(){if(UY)return Bw;UY=1,Object.defineProperty(Bw,"__esModule",{value:!0}),Bw.ActorQueryOperationClear=void 0;const a=Vt(),t=tt(),o=At();let n=class extends a.ActorQueryOperationTypedMediated{constructor(e){super(e,"clear")}async testOperation(e,i){return(0,o.testReadOnly)(i)}async runOperation(e,i){const s=i.getSafe(t.KeysInitQuery.dataFactory);let c;e.source==="DEFAULT"?c=s.defaultGraph():typeof e.source=="string"?c=e.source:c=[e.source];const{execute:u}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:c,requireExistence:!e.silent,dropGraphs:!1},context:i});return{type:"void",execute:u}}};return Bw.ActorQueryOperationClear=n,Bw}var VY;function Wge(){return VY||(VY=1,function(a){var t=Id&&Id.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Id&&Id.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Xge(),a)}(Id)),Id}var Rd={},$w={},QY;function Jge(){if(QY)return $w;QY=1,Object.defineProperty($w,"__esModule",{value:!0}),$w.ActorQueryOperationUpdateCompositeUpdate=void 0;const a=Vt(),t=At();let o=class extends a.ActorQueryOperationTypedMediated{constructor(r){super(r,"compositeupdate")}async testOperation(r,e){return(0,t.testReadOnly)(e)}async runOperation(r,e){return{type:"void",execute:()=>(async()=>{for(const s of r.updates)await(0,t.getSafeVoid)(await this.mediatorQueryOperation.mediate({operation:s,context:e})).execute()})()}}};return $w.ActorQueryOperationUpdateCompositeUpdate=o,$w}var HY;function Kge(){return HY||(HY=1,function(a){var t=Rd&&Rd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Rd&&Rd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Jge(),a)}(Rd)),Rd}var Fd={},Uw={},GY;function Yge(){if(GY)return Uw;GY=1,Object.defineProperty(Uw,"__esModule",{value:!0}),Uw.ActorQueryOperationCreate=void 0;const a=Vt(),t=At();let o=class extends a.ActorQueryOperationTypedMediated{constructor(r){super(r,"create")}async testOperation(r,e){return(0,t.testReadOnly)(e)}async runOperation(r,e){const{execute:i}=await this.mediatorUpdateQuads.mediate({createGraphs:{graphs:[r.source],requireNonExistence:!r.silent},context:e});return{type:"void",execute:i}}};return Uw.ActorQueryOperationCreate=o,Uw}var zY;function Zge(){return zY||(zY=1,function(a){var t=Fd&&Fd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Fd&&Fd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Yge(),a)}(Fd)),Fd}var Nd={},Vw={},kY;function eve(){if(kY)return Vw;kY=1,Object.defineProperty(Vw,"__esModule",{value:!0}),Vw.ActorQueryOperationDrop=void 0;const a=Vt(),t=tt(),o=At();let n=class extends a.ActorQueryOperationTypedMediated{constructor(e){super(e,"drop")}async testOperation(e,i){return(0,o.testReadOnly)(i)}async runOperation(e,i){const s=i.getSafe(t.KeysInitQuery.dataFactory);let c;e.source==="DEFAULT"?c=s.defaultGraph():typeof e.source=="string"?c=e.source:c=[e.source];const{execute:u}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:c,requireExistence:!e.silent,dropGraphs:!0},context:i});return{type:"void",execute:u}}};return Vw.ActorQueryOperationDrop=n,Vw}var XY;function tve(){return XY||(XY=1,function(a){var t=Nd&&Nd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Nd&&Nd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(eve(),a)}(Nd)),Nd}var Dd={},Qw={},WY;function rve(){if(WY)return Qw;WY=1,Object.defineProperty(Qw,"__esModule",{value:!0}),Qw.ActorQueryOperationLoad=void 0;const a=Vt(),t=tt(),o=At(),n=mt();let r=class extends a.ActorQueryOperationTypedMediated{constructor(i){super(i,"load")}async testOperation(i,s){return(0,o.testReadOnly)(s)}async runOperation(i,s){const c=s.getSafe(t.KeysInitQuery.dataFactory),u=new n.Factory(c);let l=s;i.silent&&(l=l.set(t.KeysInitQuery.lenient,!0));const{querySource:f}=await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:i.source.value},context:l});let h=(0,o.getSafeQuads)(await this.mediatorQueryOperation.mediate({operation:u.createConstruct((0,o.assignOperationSource)(u.createPattern(c.variable("s"),c.variable("p"),c.variable("o")),f),[u.createPattern(c.variable("s"),c.variable("p"),c.variable("o"))]),context:l})).quadStream;i.destination&&(h=h.map(_=>c.quad(_.subject,_.predicate,_.object,i.destination)));const{execute:p}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:h,context:s});return{type:"void",execute:p}}};return Qw.ActorQueryOperationLoad=r,Qw}var JY;function nve(){return JY||(JY=1,function(a){var t=Dd&&Dd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Dd&&Dd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(rve(),a)}(Dd)),Dd}var Pd={},Hw={},Ld={},Gw={},KY;function YY(){if(KY)return Gw;KY=1,Object.defineProperty(Gw,"__esModule",{value:!0}),Gw.BlankNode=void 0;class a{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}}return Gw.BlankNode=a,Gw}var zw={},kw={},ZY;function eZ(){if(ZY)return kw;ZY=1,Object.defineProperty(kw,"__esModule",{value:!0}),kw.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}return kw.DefaultGraph=a,a.INSTANCE=new a,kw}var Xw={},Ww={},tZ;function PN(){if(tZ)return Ww;tZ=1,Object.defineProperty(Ww,"__esModule",{value:!0}),Ww.NamedNode=void 0;class a{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}}return Ww.NamedNode=a,Ww}var rZ;function nZ(){if(rZ)return Xw;rZ=1,Object.defineProperty(Xw,"__esModule",{value:!0}),Xw.Literal=void 0;const a=PN();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return Xw.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Xw}var Jw={},iZ;function aZ(){if(iZ)return Jw;iZ=1,Object.defineProperty(Jw,"__esModule",{value:!0}),Jw.Quad=void 0;class a{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}}return Jw.Quad=a,Jw}var Kw={},oZ;function sZ(){if(oZ)return Kw;oZ=1,Object.defineProperty(Kw,"__esModule",{value:!0}),Kw.Variable=void 0;class a{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}}return Kw.Variable=a,Kw}var uZ;function ive(){if(uZ)return zw;uZ=1,Object.defineProperty(zw,"__esModule",{value:!0}),zw.DataFactory=void 0;const a=YY(),t=eZ(),o=nZ(),n=PN(),r=aZ(),e=sZ();let i=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return zw.DataFactory=s,zw}var cZ;function ave(){return cZ||(cZ=1,function(a){var t=Ld&&Ld.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ld&&Ld.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(YY(),a),o(ive(),a),o(eZ(),a),o(nZ(),a),o(PN(),a),o(aZ(),a),o(sZ(),a)}(Ld)),Ld}var lZ;function ove(){if(lZ)return Hw;lZ=1,Object.defineProperty(Hw,"__esModule",{value:!0}),Hw.ActorQueryOperationJoin=void 0;const a=Vt(),t=un(),o=De(),n=Nr(),r=At(),e=Tt(),i=ave();let s=class extends a.ActorQueryOperationTypedMediated{constructor(u){super(u,"join")}async testOperation(u,l){return(0,o.passTestVoid)()}async runOperation(u,l){const f=(await Promise.all(u.input.map(async d=>({output:await this.mediatorQueryOperation.mediate({operation:d,context:l}),operation:d})))).map(({output:d,operation:h})=>({output:(0,r.getSafeBindings)(d),operation:h}));if((await Promise.all(f.map(d=>d.output.metadata()))).some(d=>d.cardinality.value===0&&d.cardinality.type==="exact")){for(const d of f)d.output.bindingsStream.close();return{bindingsStream:new e.ArrayIterator([],{autoStart:!1}),metadata:async()=>({state:new n.MetadataValidationState,cardinality:{type:"exact",value:0},variables:t.ActorRdfJoin.joinVariables(new i.DataFactory,await t.ActorRdfJoin.getMetadatas(f))}),type:"bindings"}}return this.mediatorJoin.mediate({type:"inner",entries:f,context:l})}};return Hw.ActorQueryOperationJoin=s,Hw}var dZ;function sve(){return dZ||(dZ=1,function(a){var t=Pd&&Pd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Pd&&Pd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(ove(),a)}(Pd)),Pd}var jd={},Yw={},fZ;function uve(){if(fZ)return Yw;fZ=1,Object.defineProperty(Yw,"__esModule",{value:!0}),Yw.ActorQueryOperationLeftJoin=void 0;const a=Vt(),t=De(),o=kt(),n=Me(),r=At();let e=class extends a.ActorQueryOperationTypedMediated{constructor(s){super(s,"leftjoin"),this.mediatorExpressionEvaluatorFactory=s.mediatorExpressionEvaluatorFactory}async testOperation(s,c){return(0,t.passTestVoid)()}async runOperation(s,c){const u=(await Promise.all(s.input.map(async f=>({output:await this.mediatorQueryOperation.mediate({operation:f,context:c}),operation:f})))).map(({output:f,operation:d})=>({output:(0,r.getSafeBindings)(f),operation:d})),l=await this.mediatorJoin.mediate({type:"optional",entries:u,context:c});if(s.expression){const d=(await u[1].output.metadata()).variables,h=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:s.expression,context:c}),p=l.bindingsStream.transform({autoStart:!1,transform:async(_,g,y)=>{if(!d.every(m=>_.has(m.variable.value)))return y(_),g();try{await h.evaluateAsEBV(_)&&y(_)}catch(m){(0,n.isExpressionError)(m)?this.logWarn(c,"Error occurred while filtering.",()=>({error:m,bindings:(0,o.bindingsToString)(_)})):p.emit("error",m)}g()}});l.bindingsStream=p}return l}};return Yw.ActorQueryOperationLeftJoin=e,Yw}var hZ;function cve(){return hZ||(hZ=1,function(a){var t=jd&&jd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=jd&&jd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(uve(),a)}(jd)),jd}var Md={},Zw={},pZ;function lve(){if(pZ)return Zw;pZ=1,Object.defineProperty(Zw,"__esModule",{value:!0}),Zw.ActorQueryOperationMinus=void 0;const a=Vt(),t=De(),o=At();let n=class extends a.ActorQueryOperationTypedMediated{constructor(e){super(e,"minus")}async testOperation(e,i){return(0,t.passTestVoid)()}async runOperation(e,i){const s=(await Promise.all(e.input.map(async c=>({output:await this.mediatorQueryOperation.mediate({operation:c,context:i}),operation:c})))).map(({output:c,operation:u})=>({output:(0,o.getSafeBindings)(c),operation:u}));return this.mediatorJoin.mediate({type:"minus",entries:s,context:i})}};return Zw.ActorQueryOperationMinus=n,Zw}var yZ;function dve(){return yZ||(yZ=1,function(a){var t=Md&&Md.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Md&&Md.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(lve(),a)}(Md)),Md}var qd={},eS={},bZ;function fve(){if(bZ)return eS;bZ=1,Object.defineProperty(eS,"__esModule",{value:!0}),eS.ActorQueryOperationPathSeq=void 0;const a=Aa(),t=tt(),o=At(),n=mt();let r=class extends a.ActorAbstractPath{constructor(i){super(i,n.Algebra.types.SEQ)}async runOperation(i,s){const c=s.getSafe(t.KeysInitQuery.dataFactory),u=new n.Factory(c),l=i.predicate;let f=i.subject;const d=[],h=await Promise.all(l.input.map((g,y)=>{const m=y===l.input.length-1?i.object:this.generateVariable(c,i,`b${y}`),b=u.createPath(f,g,m,i.graph),T=this.mediatorQueryOperation.mediate({context:s,operation:b});return f=m,y<l.input.length-1&&d.push(m),{output:T,operation:b}}).map(async({output:g,operation:y})=>({output:(0,o.getSafeBindings)(await g),operation:y}))),p=(0,o.getSafeBindings)(await this.mediatorJoin.mediate({type:"inner",entries:h,context:s}));return{type:"bindings",bindingsStream:p.bindingsStream.transform({transform(g,y,m){for(const b of d)g=g.delete(b);m(g),y()}}),async metadata(){const g=await p.metadata(),y=g.variables.filter(m=>!d.some(b=>b.value===m.variable.value));return{...g,variables:y}}}}};return eS.ActorQueryOperationPathSeq=r,eS}var _Z;function hve(){return _Z||(_Z=1,function(a){var t=qd&&qd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=qd&&qd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(fve(),a)}(qd)),qd}var Cd={},tS={},mZ;function pve(){if(mZ)return tS;mZ=1,Object.defineProperty(tS,"__esModule",{value:!0}),tS.ActorRdfJoinMultiSmallest=void 0;const a=un(),t=tt(),o=De(),n=At(),r=mt();let e=class extends a.ActorRdfJoin{constructor(s){super(s,{logicalType:"inner",physicalName:"multi-smallest",limitEntries:3,limitEntriesMin:!0,canHandleUndefs:!0,isLeaf:!1})}async sortJoinEntries(s,c){return(await this.mediatorJoinEntriesSort.mediate({entries:s,context:c})).entries}async getOutput(s,c){const u=s.context.getSafe(t.KeysInitQuery.dataFactory),l=new r.Factory(u),f=c.sortedEntries,d=f[0],h=f[1];f.splice(0,2);const p={output:(0,n.getSafeBindings)(await this.mediatorJoin.mediate({type:s.type,entries:[d,h],context:s.context})),operation:l.createJoin([d.operation,h.operation],!1)};return f.push(p),{result:await this.mediatorJoin.mediate({type:s.type,entries:f,context:s.context})}}async getJoinCoefficients(s,c){let{metadatas:u}=c;u=[...u];const l=await this.sortJoinEntries(s.entries.map((h,p)=>({...h,metadata:u[p]})),s.context);u=l.map(h=>h.metadata);const f=a.ActorRdfJoin.getRequestInitialTimes(u),d=a.ActorRdfJoin.getRequestItemTimes(u);return(0,o.passTestWithSideData)({iterations:u[0].cardinality.value*u[1].cardinality.value*u.slice(2).reduce((h,p)=>h*p.cardinality.value,1),persistedItems:0,blockingItems:0,requestTime:f[0]+u[0].cardinality.value*d[0]+f[1]+u[1].cardinality.value*d[1]+u.slice(2).reduce((h,p,_)=>h+f.slice(2)[_]+p.cardinality.value*d.slice(2)[_],0)},{...c,sortedEntries:l})}};return tS.ActorRdfJoinMultiSmallest=e,tS}var gZ;function yve(){return gZ||(gZ=1,function(a){var t=Cd&&Cd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Cd&&Cd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(pve(),a)}(Cd)),Cd}var Bd={},rS={},nS={},vZ;function TZ(){if(vZ)return nS;vZ=1,Object.defineProperty(nS,"__esModule",{value:!0}),nS.MaxAggregator=void 0;const a=Xr();let t=class extends a.AggregateEvaluator{constructor(n,r,e,i){super(n,r,i),this.orderByEvaluator=e,this.state=void 0}putTerm(n){if(n.termType!=="Literal")throw new Error(`Term with value ${n.value} has type ${n.termType} and is not a literal`);this.state===void 0?this.state=n:this.orderByEvaluator.orderTypes(this.state,n)===-1&&(this.state=n)}termResult(){return this.state===void 0?this.emptyValue():this.state}};return nS.MaxAggregator=t,nS}var wZ;function bve(){if(wZ)return rS;wZ=1,Object.defineProperty(rS,"__esModule",{value:!0}),rS.ActorBindingsAggregatorFactoryMax=void 0;const a=Xr(),t=De(),o=TZ();let n=class extends a.ActorBindingsAggregatorFactory{constructor(e){super(e),this.mediatorTermComparatorFactory=e.mediatorTermComparatorFactory}async test(e){return e.expr.aggregator!=="max"?(0,t.failTest)("This actor only supports the 'max' aggregator."):(0,t.passTestVoid)()}async run({expr:e,context:i}){return new o.MaxAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:e.expression,context:i}),e.distinct,await this.mediatorTermComparatorFactory.mediate({context:i}))}};return rS.ActorBindingsAggregatorFactoryMax=n,rS}var SZ;function _ve(){return SZ||(SZ=1,function(a){var t=Bd&&Bd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Bd&&Bd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(bve(),a),o(TZ(),a)}(Bd)),Bd}var $d={},iS={},aS={},OZ;function AZ(){if(OZ)return aS;OZ=1,Object.defineProperty(aS,"__esModule",{value:!0}),aS.MinAggregator=void 0;const a=Xr();let t=class extends a.AggregateEvaluator{constructor(n,r,e,i){super(n,r,i),this.orderByEvaluator=e,this.state=void 0}putTerm(n){if(n.termType!=="Literal")throw new Error(`Term with value ${n.value} has type ${n.termType} and is not a literal`);this.state===void 0?this.state=n:this.orderByEvaluator.orderTypes(this.state,n)===1&&(this.state=n)}termResult(){return this.state===void 0?this.emptyValue():this.state}};return aS.MinAggregator=t,aS}var EZ;function mve(){if(EZ)return iS;EZ=1,Object.defineProperty(iS,"__esModule",{value:!0}),iS.ActorBindingsAggregatorFactoryMin=void 0;const a=Xr(),t=De(),o=AZ();let n=class extends a.ActorBindingsAggregatorFactory{constructor(e){super(e),this.mediatorTermComparatorFactory=e.mediatorTermComparatorFactory}async test(e){return e.expr.aggregator!=="min"?(0,t.failTest)("This actor only supports the 'min' aggregator."):(0,t.passTestVoid)()}async run({context:e,expr:i}){return new o.MinAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:i.expression,context:e}),i.distinct,await this.mediatorTermComparatorFactory.mediate({context:e}))}};return iS.ActorBindingsAggregatorFactoryMin=n,iS}var xZ;function gve(){return xZ||(xZ=1,function(a){var t=$d&&$d.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=$d&&$d.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(mve(),a),o(AZ(),a)}($d)),$d}var Ud={},oS={},sS={},IZ;function vve(){if(IZ)return sS;IZ=1,Object.defineProperty(sS,"__esModule",{value:!0}),sS.SortIterator=void 0;const a=Tt();let t=class extends a.TransformIterator{constructor(n,r,e){super(n,e);const i=e&&e.window;this.windowLength=Number.isFinite(i)&&i>0?i:Number.POSITIVE_INFINITY,this.sort=r,this.sorted=[]}_read(n,r){let e,{length:i}=this.sorted;for(;i!==this.windowLength&&(e=this.source.read(),e!==null);){let s=0,c=i-1,u,l;for(;s<=c;)u=Math.trunc((s+c)/2),l=this.sort(e,this.sorted[u]),l<0?s=u+1:l>0?c=u-1:(s=u,c=-1);this.sorted.splice(s,0,e),i++}i===this.windowLength&&this._push(this.sorted.pop()),r()}_flush(n){let{length:r}=this.sorted;for(;r--;)this._push(this.sorted.pop());n()}};return sS.SortIterator=t,sS}var RZ;function Tve(){if(RZ)return oS;RZ=1,Object.defineProperty(oS,"__esModule",{value:!0}),oS.ActorQueryOperationOrderBy=void 0;const a=Vt(),t=De(),o=Me(),n=At(),r=mt(),e=vve();let i=class extends a.ActorQueryOperationTypedMediated{constructor(c){super(c,"orderby"),this.window=c.window??Number.POSITIVE_INFINITY,this.mediatorExpressionEvaluatorFactory=c.mediatorExpressionEvaluatorFactory,this.mediatorTermComparatorFactory=c.mediatorTermComparatorFactory}async testOperation(){return(0,t.passTestVoid)()}async runOperation(c,u){const l=await this.mediatorQueryOperation.mediate({operation:c.input,context:u}),f=(0,n.getSafeBindings)(l),d={window:this.window};let{bindingsStream:h}=f;const p=await this.mediatorTermComparatorFactory.mediate({context:u});for(let _=c.expressions.length-1;_>=0;_--){let g=c.expressions[_];const y=this.isAscending(g);g=this.extractSortExpression(g);const m=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:g,context:u}),b=async(O,F,Q)=>{try{const j=await m.evaluate(O);Q({bindings:O,result:j})}catch(j){(0,o.isExpressionError)(j)||h.emit("error",j),Q({bindings:O,result:void 0})}F()},T=h.transform({transform:b});h=new e.SortIterator(T,(O,F)=>{let Q=p.orderTypes(O.result,F.result);return y||(Q*=-1),Q},d).map(({bindings:O})=>O)}return{type:"bindings",bindingsStream:h,metadata:f.metadata}}extractSortExpression(c){const{expressionType:u,operator:l}=c;return u!==r.Algebra.expressionTypes.OPERATOR?c:l==="desc"?c.args[0]:c}isAscending(c){const{expressionType:u,operator:l}=c;return u!==r.Algebra.expressionTypes.OPERATOR?!0:l!=="desc"}};return oS.ActorQueryOperationOrderBy=i,oS}var FZ;function wve(){return FZ||(FZ=1,function(a){var t=Ud&&Ud.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ud&&Ud.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Tve(),a)}(Ud)),Ud}var Vd={},uS={},NZ;function Sve(){if(NZ)return uS;NZ=1,Object.defineProperty(uS,"__esModule",{value:!0}),uS.ActorOptimizeQueryOperationFilterPushdown=void 0;const a=Pn(),t=tt(),o=De(),n=At(),r=Mr(),e=mt();let i=class extends a.ActorOptimizeQueryOperation{constructor(c){super(c)}async test(c){return(0,o.passTestVoid)()}async run(c){const u=c.context.getSafe(t.KeysInitQuery.dataFactory),l=new e.Factory(u);let f=c.operation;const d=this;this.splitConjunctive&&(f=e.Util.mapOperation(f,{filter(y,m){return y.expression.expressionType===e.Algebra.expressionTypes.OPERATOR&&y.expression.operator==="&&"?(d.logDebug(c.context,`Split conjunctive filter into ${y.expression.args.length} nested filters`),{recurse:!0,result:y.expression.args.reduce((b,T)=>m.createFilter(b,T),y.input)}):{recurse:!0,result:y}}},l));const h=this.getSources(f),p=new Map(await Promise.all(h.map(async y=>[y,await y.source.getSelectorShape(c.context)])));let _=!0,g=0;for(;_&&g<this.maxIterations;)_=!1,f=e.Util.mapOperation(f,{filter(y,m){if(!d.shouldAttemptPushDown(y,h,p))return{recurse:!0,result:y};const b=d.getExpressionVariables(y.expression),[T,w]=d.filterPushdown(y.expression,b,y.input,m,c.context);return T&&(_=!0),{recurse:!0,result:w}}}),g++;return g>1&&d.logDebug(c.context,`Pushed down filters in ${g} iterations`),this.mergeConjunctive&&(f=e.Util.mapOperation(f,{filter(y,m){if(y.input.type===e.Algebra.types.FILTER){const{nestedExpressions:b,input:T}=d.getNestedFilterExpressions(y);return d.logDebug(c.context,`Merge ${b.length} nested filters into conjunctive filter`),{recurse:!0,result:m.createFilter(T,b.slice(1).reduce((w,O)=>m.createOperatorExpression("&&",[w,O]),b[0]))}}return{recurse:!0,result:y}}})),{operation:f,context:c.context}}shouldAttemptPushDown(c,u,l){if(this.aggressivePushdown)return!0;const f=c.expression;return!!(f.expressionType===e.Algebra.expressionTypes.OPERATOR&&f.operator==="="&&(f.args[0].expressionType==="term"&&f.args[0].term.termType!=="Variable"&&f.args[1].expressionType==="term"&&f.args[1].term.termType==="Variable"||f.args[0].expressionType==="term"&&f.args[0].term.termType==="Variable"&&f.args[1].expressionType==="term"&&f.args[1].term.termType!=="Variable")||u.some(d=>(0,n.doesShapeAcceptOperation)(l.get(d),c)))}getSources(c){const u=new Set,l=f=>{const d=(0,n.getOperationSource)(f);return d&&u.add(d),!1};return e.Util.recurseOperation(c,{[e.Algebra.types.PATTERN]:l,[e.Algebra.types.LINK]:l,[e.Algebra.types.NPS]:l,[e.Algebra.types.SERVICE]:l}),[...u]}getExpressionVariables(c){switch(c.expressionType){case e.Algebra.expressionTypes.AGGREGATE:case e.Algebra.expressionTypes.WILDCARD:throw new Error(`Getting expression variables is not supported for ${c.expressionType}`);case e.Algebra.expressionTypes.EXISTENCE:return e.Util.inScopeVariables(c.input);case e.Algebra.expressionTypes.NAMED:return[];case e.Algebra.expressionTypes.OPERATOR:return(0,r.uniqTerms)(c.args.flatMap(u=>this.getExpressionVariables(u)));case e.Algebra.expressionTypes.TERM:return c.term.termType==="Variable"?[c.term]:[]}}getOverlappingOperations(c,u){const l=[],f=[],d=[];for(const h of c.input){const p=e.Util.inScopeVariables(h);this.variablesSubSetOf(u,p)?l.push(h):this.variablesIntersect(u,p)?f.push(h):d.push(h)}return{fullyOverlapping:l,partiallyOverlapping:f,notOverlapping:d}}filterPushdown(c,u,l,f,d){if(this.isExpressionFalse(c))return[!0,f.createUnion([])];if(c.type===e.Algebra.types.EXPRESSION&&c.expressionType===e.Algebra.expressionTypes.EXISTENCE)return[!1,f.createFilter(l,c)];switch(l.type){case e.Algebra.types.EXTEND:return this.variablesIntersect([l.variable],u)?[!1,f.createFilter(l,c)]:[!0,f.createExtend(this.filterPushdown(c,u,l.input,f,d)[1],l.variable,l.expression)];case e.Algebra.types.FILTER:{const[h,p]=this.filterPushdown(c,u,l.input,f,d);return[h,f.createFilter(p,l.expression)]}case e.Algebra.types.JOIN:{if(l.input.length===0)return[!1,f.createFilter(l,c)];const{fullyOverlapping:h,partiallyOverlapping:p,notOverlapping:_}=this.getOverlappingOperations(l,u),g=[];let y=!1;return h.length>0&&(y=!0,g.push(f.createJoin(h.map(m=>this.filterPushdown(c,u,m,f,d)[1])))),p.length>0&&g.push(f.createFilter(f.createJoin(p,!1),c)),_.length>0&&g.push(..._),g.length>1&&(y=!0),y&&this.logDebug(d,`Push down filter across join entries with ${h.length} fully overlapping, ${p.length} partially overlapping, and ${_.length} not overlapping`),[y,g.length===1?g[0]:f.createJoin(g)]}case e.Algebra.types.NOP:return[!0,l];case e.Algebra.types.PROJECT:return this.variablesIntersect(l.variables,u)?[!0,f.createProject(this.filterPushdown(c,u,l.input,f,d)[1],l.variables)]:[!0,l];case e.Algebra.types.UNION:{const{fullyOverlapping:h,partiallyOverlapping:p,notOverlapping:_}=this.getOverlappingOperations(l,u),g=[];let y=!1;return h.length>0&&(y=!0,g.push(f.createUnion(h.map(m=>this.filterPushdown(c,u,m,f,d)[1])))),p.length>0&&g.push(f.createFilter(f.createUnion(p,!1),c)),_.length>0&&g.push(..._),g.length>1&&(y=!0),y&&this.logDebug(d,`Push down filter across union entries with ${h.length} fully overlapping, ${p.length} partially overlapping, and ${_.length} not overlapping`),[y,g.length===1?g[0]:f.createUnion(g)]}case e.Algebra.types.VALUES:return this.variablesIntersect(l.variables,u)?[!1,f.createFilter(l,c)]:[!0,l];case e.Algebra.types.LEFT_JOIN:{if(this.pushIntoLeftJoins){const h=e.Util.inScopeVariables(l.input[1]);if(!this.variablesIntersect(u,h))return this.logDebug(d,"Push down filter into left join"),[!0,f.createLeftJoin(this.filterPushdown(c,u,l.input[0],f,d)[1],l.input[1],l.expression)]}return[!1,f.createFilter(l,c)]}case e.Algebra.types.PATTERN:{if(this.pushEqualityIntoPatterns){const h=this.getEqualityExpressionPushableIntoPattern(c);if(h){let p=!1;const _=l.metadata;if(l=(0,r.mapTermsNested)(l,g=>g.equals(h.variable)?(p=!0,h.term):g),l.type=e.Algebra.types.PATTERN,l.metadata=_,p)return this.logDebug(d,`Push down filter into pattern for ?${h.variable.value}`),[!0,f.createJoin([l,f.createValues([h.variable],[{[`?${h.variable.value}`]:h.term}])])]}}return[!1,f.createFilter(l,c)]}case e.Algebra.types.PATH:{if(this.pushEqualityIntoPatterns){const h=this.getEqualityExpressionPushableIntoPattern(c);if(h&&(l.subject.equals(h.variable)||l.object.equals(h.variable))){this.logDebug(d,`Push down filter into path for ?${h.variable.value}`);const p=l.metadata;return l=f.createPath(l.subject.equals(h.variable)?h.term:l.subject,l.predicate,l.object.equals(h.variable)?h.term:l.object),l.metadata=p,[!0,f.createJoin([l,f.createValues([h.variable],[{[`?${h.variable.value}`]:h.term}])])]}}return[!1,f.createFilter(l,c)]}case e.Algebra.types.MINUS:case e.Algebra.types.ALT:case e.Algebra.types.ASK:case e.Algebra.types.BGP:case e.Algebra.types.CONSTRUCT:case e.Algebra.types.DESCRIBE:case e.Algebra.types.DISTINCT:case e.Algebra.types.EXPRESSION:case e.Algebra.types.FROM:case e.Algebra.types.GRAPH:case e.Algebra.types.GROUP:case e.Algebra.types.INV:case e.Algebra.types.LINK:case e.Algebra.types.NPS:case e.Algebra.types.ONE_OR_MORE_PATH:case e.Algebra.types.ORDER_BY:case e.Algebra.types.REDUCED:case e.Algebra.types.SEQ:case e.Algebra.types.SERVICE:case e.Algebra.types.SLICE:case e.Algebra.types.ZERO_OR_MORE_PATH:case e.Algebra.types.ZERO_OR_ONE_PATH:case e.Algebra.types.COMPOSITE_UPDATE:case e.Algebra.types.DELETE_INSERT:case e.Algebra.types.LOAD:case e.Algebra.types.CLEAR:case e.Algebra.types.CREATE:case e.Algebra.types.DROP:case e.Algebra.types.ADD:case e.Algebra.types.MOVE:case e.Algebra.types.COPY:return[!1,f.createFilter(l,c)]}}getEqualityExpressionPushableIntoPattern(c){if(c.expressionType===e.Algebra.expressionTypes.OPERATOR&&c.operator==="="){if(c.args[0].expressionType==="term"&&c.args[0].term.termType!=="Variable"&&(c.args[0].term.termType!=="Literal"||this.isLiteralWithCanonicalLexicalForm(c.args[0].term))&&c.args[1].expressionType==="term"&&c.args[1].term.termType==="Variable")return{variable:c.args[1].term,term:c.args[0].term};if(c.args[0].expressionType==="term"&&c.args[0].term.termType==="Variable"&&c.args[1].expressionType==="term"&&c.args[1].term.termType!=="Variable"&&(c.args[1].term.termType!=="Literal"||this.isLiteralWithCanonicalLexicalForm(c.args[1].term)))return{variable:c.args[0].term,term:c.args[1].term}}}isLiteralWithCanonicalLexicalForm(c){if(c.termType==="Literal")switch(c.datatype.value){case"http://www.w3.org/2001/XMLSchema#string":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":case"http://www.w3.org/2001/XMLSchema#normalizedString":case"http://www.w3.org/2001/XMLSchema#anyURI":case"http://www.w3.org/2001/XMLSchema#base64Binary":case"http://www.w3.org/2001/XMLSchema#language":case"http://www.w3.org/2001/XMLSchema#Name":case"http://www.w3.org/2001/XMLSchema#NCName":case"http://www.w3.org/2001/XMLSchema#NMTOKEN":case"http://www.w3.org/2001/XMLSchema#token":case"http://www.w3.org/2001/XMLSchema#hexBinary":return!0}return!1}variablesIntersect(c,u){return c.some(l=>u.some(f=>l.equals(f)))}variablesSubSetOf(c,u){return c.length<=u.length&&c.every(l=>u.some(f=>l.equals(f)))}isExpressionFalse(c){return c.term&&c.term.termType==="Literal"&&c.term.value==="false"}getNestedFilterExpressions(c){if(c.input.type===e.Algebra.types.FILTER){const u=this.getNestedFilterExpressions(c.input);return{nestedExpressions:[c.expression,...u.nestedExpressions],input:u.input}}return{nestedExpressions:[c.expression],input:c.input}}};return uS.ActorOptimizeQueryOperationFilterPushdown=i,uS}var DZ;function Ove(){return DZ||(DZ=1,function(a){var t=Vd&&Vd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Vd&&Vd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Sve(),a)}(Vd)),Vd}var Qd={},cS={},Hd={},PZ;function LZ(){if(PZ)return Hd;PZ=1,Object.defineProperty(Hd,"__esModule",{value:!0}),Hd.ActorDereferenceHttpBase=Hd.mediaTypesToAcceptString=void 0;const a=iF(),t=wa(),o=De(),n=Ch(),r=Sr(),e=/^[^ ;]*/u;function i(c,u){const l="*/*;q=0.1",f=[],d=Object.entries(c).map(([p,_])=>({mediaType:p,priority:_})).sort((p,_)=>_.priority===p.priority?p.mediaType.localeCompare(_.mediaType):_.priority-p.priority);let h=d.length-1;for(const{mediaType:p,priority:_}of d){const g=p+(_===1?"":`;q=${_.toFixed(3).replace(/0*$/u,"")}`);if(h+g.length>u){for(;h+l.length>u;){const y=f.pop()??"";h-=y.length+1}f.push(l);break}f.push(g),h+=g.length}return f.length===0?"*/*":f.join(",")}Hd.mediaTypesToAcceptString=i;let s=class extends a.ActorDereference{constructor(u){super(u)}async test({url:u}){return/^https?:/u.test(u)?(0,o.passTestVoid)():(0,o.failTest)(`Cannot retrieve ${u} because it is not an HTTP(S) URL.`)}async run(u){var y,m;let l=!0;const f=new Headers(u.headers);f.append("Accept",i(await((y=u.mediaTypes)==null?void 0:y.call(u))??{},this.getMaxAcceptHeaderLength()));let d;const h=Date.now();try{d=await this.mediatorHttp.mediate({context:u.context,init:{headers:f,method:u.method},input:u.url})}catch(b){return this.handleDereferenceErrors(u,b)}const p=(0,r.resolve)(d.url,u.url),_=Date.now()-h;if(d.status!==200){l=!1;const b=d.body?await(0,n.stringify)(t.ActorHttp.toNodeReadable(d.body)):"empty response";if(!u.acceptErrors){const T=new Error(`Could not retrieve ${u.url} (HTTP status ${d.status}):
${b}`);return this.handleDereferenceErrors(u,T,d.headers,_)}}const g=(m=e.exec(d.headers.get("content-type")??""))==null?void 0:m[0];return{url:p,data:l?t.ActorHttp.toNodeReadable(d.body):(0,a.emptyReadable)(),exists:l,requestTime:_,headers:d.headers,mediaType:g==="text/plain"?void 0:g}}};return Hd.ActorDereferenceHttpBase=s,Hd}var jZ;function Ave(){if(jZ)return cS;jZ=1,Object.defineProperty(cS,"__esModule",{value:!0}),cS.ActorDereferenceHttp=void 0;const a=LZ();class t extends a.ActorDereferenceHttpBase{getMaxAcceptHeaderLength(){return this.maxAcceptHeaderLengthBrowser}}return cS.ActorDereferenceHttp=t,cS}var MZ;function Eve(){return MZ||(MZ=1,function(a){var t=Qd&&Qd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Qd&&Qd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Ave(),a),o(LZ(),a)}(Qd)),Qd}var Gd={},lS={},qZ;function xve(){if(qZ)return lS;qZ=1,Object.defineProperty(lS,"__esModule",{value:!0}),lS.ActorHttpProxy=void 0;const a=wa(),t=tt(),o=De();let n=class extends a.ActorHttp{constructor(e){super(e)}async test(e){const i=e.context.get(t.KeysHttpProxy.httpProxyHandler);return i?await i.getProxy(e)?(0,o.passTest)({time:Number.POSITIVE_INFINITY}):(0,o.failTest)(`Actor ${this.name} could not determine a proxy for the given request.`):(0,o.failTest)(`Actor ${this.name} could not find a proxy handler in the context.`)}async run(e){const i=typeof e.input=="string"?e.input:e.input.url,s=e.context.get(t.KeysHttpProxy.httpProxyHandler),c=await this.mediatorHttp.mediate({...await s.getProxy(e),context:e.context.delete(t.KeysHttpProxy.httpProxyHandler)});return Object.defineProperty(c,"url",{configurable:!0,enumerable:!0,get:()=>c.headers.get("x-final-url")??i}),c}};return lS.ActorHttpProxy=n,lS}var dS={},CZ;function Ive(){if(CZ)return dS;CZ=1,Object.defineProperty(dS,"__esModule",{value:!0}),dS.ProxyHandlerStatic=void 0;let a=class{constructor(o){this.prefixUrl=o}async getProxy(o){return{init:o.init,input:this.modifyInput(o.input)}}modifyInput(o){return typeof o=="string"?this.prefixUrl+o:new Request(this.prefixUrl+o.url,o)}};return dS.ProxyHandlerStatic=a,dS}var BZ;function Rve(){return BZ||(BZ=1,function(a){var t=Gd&&Gd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Gd&&Gd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(xve(),a),o(Ive(),a)}(Gd)),Gd}var zd={},fS={},hS={},$Z;function Fve(){var d,h,_,g,y,m,b,T,w,O,F,Q,j,x,I,D,C,X,z,J,ie,se,ye,K,Te,Ne,_e,$,e6,qe,Ce,xe,we,xae,M,B,R,Ha,Ga,t6,KE,YE,nr,r6,gO,za,n6;if($Z)return hS;$Z=1,Object.defineProperty(hS,"__esModule",{value:!0}),hS.LRUCache=void 0;const a=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,t=new Set,o=typeof xr=="object"&&xr?xr:{},n=(Ae,A,E,P)=>{typeof o.emitWarning=="function"?o.emitWarning(Ae,A,E,P):console.error(`[${E}] ${A}: ${Ae}`)};let r=globalThis.AbortController,e=globalThis.AbortSignal;if(typeof r>"u"){e=class{constructor(){We(this,"onabort");We(this,"_onabort",[]);We(this,"reason");We(this,"aborted",!1)}addEventListener(P,k){this._onabort.push(k)}},r=class{constructor(){We(this,"signal",new e);A()}abort(P){var k,N;if(!this.signal.aborted){this.signal.reason=P,this.signal.aborted=!0;for(const S of this.signal._onabort)S(P);(N=(k=this.signal).onabort)==null||N.call(k,P)}}};let Ae=((d=o.env)==null?void 0:d.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const A=()=>{Ae&&(Ae=!1,n("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",A))}}const i=Ae=>!t.has(Ae),s=Ae=>Ae&&Ae===Math.floor(Ae)&&Ae>0&&isFinite(Ae),c=Ae=>s(Ae)?Ae<=Math.pow(2,8)?Uint8Array:Ae<=Math.pow(2,16)?Uint16Array:Ae<=Math.pow(2,32)?Uint32Array:Ae<=Number.MAX_SAFE_INTEGER?u:null:null;class u extends Array{constructor(A){super(A),this.fill(0)}}const p=class p{constructor(A,E){We(this,"heap");We(this,"length");if(!v(p,h))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new E(A),this.length=0}static create(A){const E=c(A);if(!E)return[];be(p,h,!0);const P=new p(A,E);return be(p,h,!1),P}push(A){this.heap[this.length++]=A}pop(){return this.heap[--this.length]}};h=new WeakMap,Le(p,h,!1);let l=p;const ke=class ke{constructor(A){Le(this,$);Le(this,y);Le(this,m);Le(this,b);Le(this,T);Le(this,w);Le(this,O);We(this,"ttl");We(this,"ttlResolution");We(this,"ttlAutopurge");We(this,"updateAgeOnGet");We(this,"updateAgeOnHas");We(this,"allowStale");We(this,"noDisposeOnSet");We(this,"noUpdateTTL");We(this,"maxEntrySize");We(this,"sizeCalculation");We(this,"noDeleteOnFetchRejection");We(this,"noDeleteOnStaleGet");We(this,"allowStaleOnFetchAbort");We(this,"allowStaleOnFetchRejection");We(this,"ignoreFetchAbort");Le(this,F);Le(this,Q);Le(this,j);Le(this,x);Le(this,I);Le(this,D);Le(this,C);Le(this,X);Le(this,z);Le(this,J);Le(this,ie);Le(this,se);Le(this,ye);Le(this,K);Le(this,Te);Le(this,Ne);Le(this,_e);Le(this,qe,()=>{});Le(this,Ce,()=>{});Le(this,xe,()=>{});Le(this,we,()=>!1);Le(this,M,A=>{});Le(this,B,(A,E,P)=>{});Le(this,R,(A,E,P,k)=>{if(P||k)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});We(this,_,"LRUCache");const{max:E=0,ttl:P,ttlResolution:k=1,ttlAutopurge:N,updateAgeOnGet:S,updateAgeOnHas:L,allowStale:U,dispose:Z,disposeAfter:me,noDisposeOnSet:pe,noUpdateTTL:Xe,maxSize:ne=0,maxEntrySize:Ie=0,sizeCalculation:ve,fetchMethod:Re,memoMethod:ce,noDeleteOnFetchRejection:Pe,noDeleteOnStaleGet:ze,allowStaleOnFetchRejection:Ue,allowStaleOnFetchAbort:Ye,ignoreFetchAbort:fe}=A;if(E!==0&&!s(E))throw new TypeError("max option must be a nonnegative integer");const H=E?c(E):Array;if(!H)throw new Error("invalid max value: "+E);if(be(this,y,E),be(this,m,ne),this.maxEntrySize=Ie||v(this,m),this.sizeCalculation=ve,this.sizeCalculation){if(!v(this,m)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(ce!==void 0&&typeof ce!="function")throw new TypeError("memoMethod must be a function if defined");if(be(this,O,ce),Re!==void 0&&typeof Re!="function")throw new TypeError("fetchMethod must be a function if specified");if(be(this,w,Re),be(this,Ne,!!Re),be(this,j,new Map),be(this,x,new Array(E).fill(void 0)),be(this,I,new Array(E).fill(void 0)),be(this,D,new H(E)),be(this,C,new H(E)),be(this,X,0),be(this,z,0),be(this,J,l.create(E)),be(this,F,0),be(this,Q,0),typeof Z=="function"&&be(this,b,Z),typeof me=="function"?(be(this,T,me),be(this,ie,[])):(be(this,T,void 0),be(this,ie,void 0)),be(this,Te,!!v(this,b)),be(this,_e,!!v(this,T)),this.noDisposeOnSet=!!pe,this.noUpdateTTL=!!Xe,this.noDeleteOnFetchRejection=!!Pe,this.allowStaleOnFetchRejection=!!Ue,this.allowStaleOnFetchAbort=!!Ye,this.ignoreFetchAbort=!!fe,this.maxEntrySize!==0){if(v(this,m)!==0&&!s(v(this,m)))throw new TypeError("maxSize must be a positive integer if specified");if(!s(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");ae(this,$,xae).call(this)}if(this.allowStale=!!U,this.noDeleteOnStaleGet=!!ze,this.updateAgeOnGet=!!S,this.updateAgeOnHas=!!L,this.ttlResolution=s(k)||k===0?k:1,this.ttlAutopurge=!!N,this.ttl=P||0,this.ttl){if(!s(this.ttl))throw new TypeError("ttl must be a positive integer if specified");ae(this,$,e6).call(this)}if(v(this,y)===0&&this.ttl===0&&v(this,m)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!v(this,y)&&!v(this,m)){const V="LRU_CACHE_UNBOUNDED";i(V)&&(t.add(V),n("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",V,ke))}}static unsafeExposeInternals(A){return{starts:v(A,ye),ttls:v(A,K),sizes:v(A,se),keyMap:v(A,j),keyList:v(A,x),valList:v(A,I),next:v(A,D),prev:v(A,C),get head(){return v(A,X)},get tail(){return v(A,z)},free:v(A,J),isBackgroundFetch:E=>{var P;return ae(P=A,$,nr).call(P,E)},backgroundFetch:(E,P,k,N)=>{var S;return ae(S=A,$,YE).call(S,E,P,k,N)},moveToTail:E=>{var P;return ae(P=A,$,gO).call(P,E)},indexes:E=>{var P;return ae(P=A,$,Ha).call(P,E)},rindexes:E=>{var P;return ae(P=A,$,Ga).call(P,E)},isStale:E=>{var P;return v(P=A,we).call(P,E)}}}get max(){return v(this,y)}get maxSize(){return v(this,m)}get calculatedSize(){return v(this,Q)}get size(){return v(this,F)}get fetchMethod(){return v(this,w)}get memoMethod(){return v(this,O)}get dispose(){return v(this,b)}get disposeAfter(){return v(this,T)}getRemainingTTL(A){return v(this,j).has(A)?1/0:0}*entries(){for(const A of ae(this,$,Ha).call(this))v(this,I)[A]!==void 0&&v(this,x)[A]!==void 0&&!ae(this,$,nr).call(this,v(this,I)[A])&&(yield[v(this,x)[A],v(this,I)[A]])}*rentries(){for(const A of ae(this,$,Ga).call(this))v(this,I)[A]!==void 0&&v(this,x)[A]!==void 0&&!ae(this,$,nr).call(this,v(this,I)[A])&&(yield[v(this,x)[A],v(this,I)[A]])}*keys(){for(const A of ae(this,$,Ha).call(this)){const E=v(this,x)[A];E!==void 0&&!ae(this,$,nr).call(this,v(this,I)[A])&&(yield E)}}*rkeys(){for(const A of ae(this,$,Ga).call(this)){const E=v(this,x)[A];E!==void 0&&!ae(this,$,nr).call(this,v(this,I)[A])&&(yield E)}}*values(){for(const A of ae(this,$,Ha).call(this))v(this,I)[A]!==void 0&&!ae(this,$,nr).call(this,v(this,I)[A])&&(yield v(this,I)[A])}*rvalues(){for(const A of ae(this,$,Ga).call(this))v(this,I)[A]!==void 0&&!ae(this,$,nr).call(this,v(this,I)[A])&&(yield v(this,I)[A])}[(g=Symbol.iterator,_=Symbol.toStringTag,g)](){return this.entries()}find(A,E={}){for(const P of ae(this,$,Ha).call(this)){const k=v(this,I)[P],N=ae(this,$,nr).call(this,k)?k.__staleWhileFetching:k;if(N!==void 0&&A(N,v(this,x)[P],this))return this.get(v(this,x)[P],E)}}forEach(A,E=this){for(const P of ae(this,$,Ha).call(this)){const k=v(this,I)[P],N=ae(this,$,nr).call(this,k)?k.__staleWhileFetching:k;N!==void 0&&A.call(E,N,v(this,x)[P],this)}}rforEach(A,E=this){for(const P of ae(this,$,Ga).call(this)){const k=v(this,I)[P],N=ae(this,$,nr).call(this,k)?k.__staleWhileFetching:k;N!==void 0&&A.call(E,N,v(this,x)[P],this)}}purgeStale(){let A=!1;for(const E of ae(this,$,Ga).call(this,{allowStale:!0}))v(this,we).call(this,E)&&(ae(this,$,za).call(this,v(this,x)[E],"expire"),A=!0);return A}info(A){const E=v(this,j).get(A);if(E===void 0)return;const P=v(this,I)[E],k=ae(this,$,nr).call(this,P)?P.__staleWhileFetching:P;if(k===void 0)return;const N={value:k};if(v(this,K)&&v(this,ye)){const S=v(this,K)[E],L=v(this,ye)[E];if(S&&L){const U=S-(a.now()-L);N.ttl=U,N.start=Date.now()}}return v(this,se)&&(N.size=v(this,se)[E]),N}dump(){const A=[];for(const E of ae(this,$,Ha).call(this,{allowStale:!0})){const P=v(this,x)[E],k=v(this,I)[E],N=ae(this,$,nr).call(this,k)?k.__staleWhileFetching:k;if(N===void 0||P===void 0)continue;const S={value:N};if(v(this,K)&&v(this,ye)){S.ttl=v(this,K)[E];const L=a.now()-v(this,ye)[E];S.start=Math.floor(Date.now()-L)}v(this,se)&&(S.size=v(this,se)[E]),A.unshift([P,S])}return A}load(A){this.clear();for(const[E,P]of A){if(P.start){const k=Date.now()-P.start;P.start=a.now()-k}this.set(E,P.value,P)}}set(A,E,P={}){var Xe,ne,Ie,ve,Re;if(E===void 0)return this.delete(A),this;const{ttl:k=this.ttl,start:N,noDisposeOnSet:S=this.noDisposeOnSet,sizeCalculation:L=this.sizeCalculation,status:U}=P;let{noUpdateTTL:Z=this.noUpdateTTL}=P;const me=v(this,R).call(this,A,E,P.size||0,L);if(this.maxEntrySize&&me>this.maxEntrySize)return U&&(U.set="miss",U.maxEntrySizeExceeded=!0),ae(this,$,za).call(this,A,"set"),this;let pe=v(this,F)===0?void 0:v(this,j).get(A);if(pe===void 0)pe=v(this,F)===0?v(this,z):v(this,J).length!==0?v(this,J).pop():v(this,F)===v(this,y)?ae(this,$,KE).call(this,!1):v(this,F),v(this,x)[pe]=A,v(this,I)[pe]=E,v(this,j).set(A,pe),v(this,D)[v(this,z)]=pe,v(this,C)[pe]=v(this,z),be(this,z,pe),Fr(this,F)._++,v(this,B).call(this,pe,me,U),U&&(U.set="add"),Z=!1;else{ae(this,$,gO).call(this,pe);const ce=v(this,I)[pe];if(E!==ce){if(v(this,Ne)&&ae(this,$,nr).call(this,ce)){ce.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:Pe}=ce;Pe!==void 0&&!S&&(v(this,Te)&&((Xe=v(this,b))==null||Xe.call(this,Pe,A,"set")),v(this,_e)&&((ne=v(this,ie))==null||ne.push([Pe,A,"set"])))}else S||(v(this,Te)&&((Ie=v(this,b))==null||Ie.call(this,ce,A,"set")),v(this,_e)&&((ve=v(this,ie))==null||ve.push([ce,A,"set"])));if(v(this,M).call(this,pe),v(this,B).call(this,pe,me,U),v(this,I)[pe]=E,U){U.set="replace";const Pe=ce&&ae(this,$,nr).call(this,ce)?ce.__staleWhileFetching:ce;Pe!==void 0&&(U.oldValue=Pe)}}else U&&(U.set="update")}if(k!==0&&!v(this,K)&&ae(this,$,e6).call(this),v(this,K)&&(Z||v(this,xe).call(this,pe,k,N),U&&v(this,Ce).call(this,U,pe)),!S&&v(this,_e)&&v(this,ie)){const ce=v(this,ie);let Pe;for(;Pe=ce==null?void 0:ce.shift();)(Re=v(this,T))==null||Re.call(this,...Pe)}return this}pop(){var A;try{for(;v(this,F);){const E=v(this,I)[v(this,X)];if(ae(this,$,KE).call(this,!0),ae(this,$,nr).call(this,E)){if(E.__staleWhileFetching)return E.__staleWhileFetching}else if(E!==void 0)return E}}finally{if(v(this,_e)&&v(this,ie)){const E=v(this,ie);let P;for(;P=E==null?void 0:E.shift();)(A=v(this,T))==null||A.call(this,...P)}}}has(A,E={}){const{updateAgeOnHas:P=this.updateAgeOnHas,status:k}=E,N=v(this,j).get(A);if(N!==void 0){const S=v(this,I)[N];if(ae(this,$,nr).call(this,S)&&S.__staleWhileFetching===void 0)return!1;if(v(this,we).call(this,N))k&&(k.has="stale",v(this,Ce).call(this,k,N));else return P&&v(this,qe).call(this,N),k&&(k.has="hit",v(this,Ce).call(this,k,N)),!0}else k&&(k.has="miss");return!1}peek(A,E={}){const{allowStale:P=this.allowStale}=E,k=v(this,j).get(A);if(k===void 0||!P&&v(this,we).call(this,k))return;const N=v(this,I)[k];return ae(this,$,nr).call(this,N)?N.__staleWhileFetching:N}async fetch(A,E={}){const{allowStale:P=this.allowStale,updateAgeOnGet:k=this.updateAgeOnGet,noDeleteOnStaleGet:N=this.noDeleteOnStaleGet,ttl:S=this.ttl,noDisposeOnSet:L=this.noDisposeOnSet,size:U=0,sizeCalculation:Z=this.sizeCalculation,noUpdateTTL:me=this.noUpdateTTL,noDeleteOnFetchRejection:pe=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Xe=this.allowStaleOnFetchRejection,ignoreFetchAbort:ne=this.ignoreFetchAbort,allowStaleOnFetchAbort:Ie=this.allowStaleOnFetchAbort,context:ve,forceRefresh:Re=!1,status:ce,signal:Pe}=E;if(!v(this,Ne))return ce&&(ce.fetch="get"),this.get(A,{allowStale:P,updateAgeOnGet:k,noDeleteOnStaleGet:N,status:ce});const ze={allowStale:P,updateAgeOnGet:k,noDeleteOnStaleGet:N,ttl:S,noDisposeOnSet:L,size:U,sizeCalculation:Z,noUpdateTTL:me,noDeleteOnFetchRejection:pe,allowStaleOnFetchRejection:Xe,allowStaleOnFetchAbort:Ie,ignoreFetchAbort:ne,status:ce,signal:Pe};let Ue=v(this,j).get(A);if(Ue===void 0){ce&&(ce.fetch="miss");const Ye=ae(this,$,YE).call(this,A,Ue,ze,ve);return Ye.__returned=Ye}else{const Ye=v(this,I)[Ue];if(ae(this,$,nr).call(this,Ye)){const oe=P&&Ye.__staleWhileFetching!==void 0;return ce&&(ce.fetch="inflight",oe&&(ce.returnedStale=!0)),oe?Ye.__staleWhileFetching:Ye.__returned=Ye}const fe=v(this,we).call(this,Ue);if(!Re&&!fe)return ce&&(ce.fetch="hit"),ae(this,$,gO).call(this,Ue),k&&v(this,qe).call(this,Ue),ce&&v(this,Ce).call(this,ce,Ue),Ye;const H=ae(this,$,YE).call(this,A,Ue,ze,ve),G=H.__staleWhileFetching!==void 0&&P;return ce&&(ce.fetch=fe?"stale":"refresh",G&&fe&&(ce.returnedStale=!0)),G?H.__staleWhileFetching:H.__returned=H}}async forceFetch(A,E={}){const P=await this.fetch(A,E);if(P===void 0)throw new Error("fetch() returned undefined");return P}memo(A,E={}){const P=v(this,O);if(!P)throw new Error("no memoMethod provided to constructor");const{context:k,forceRefresh:N,...S}=E,L=this.get(A,S);if(!N&&L!==void 0)return L;const U=P(A,L,{options:S,context:k});return this.set(A,U,S),U}get(A,E={}){const{allowStale:P=this.allowStale,updateAgeOnGet:k=this.updateAgeOnGet,noDeleteOnStaleGet:N=this.noDeleteOnStaleGet,status:S}=E,L=v(this,j).get(A);if(L!==void 0){const U=v(this,I)[L],Z=ae(this,$,nr).call(this,U);return S&&v(this,Ce).call(this,S,L),v(this,we).call(this,L)?(S&&(S.get="stale"),Z?(S&&P&&U.__staleWhileFetching!==void 0&&(S.returnedStale=!0),P?U.__staleWhileFetching:void 0):(N||ae(this,$,za).call(this,A,"expire"),S&&P&&(S.returnedStale=!0),P?U:void 0)):(S&&(S.get="hit"),Z?U.__staleWhileFetching:(ae(this,$,gO).call(this,L),k&&v(this,qe).call(this,L),U))}else S&&(S.get="miss")}delete(A){return ae(this,$,za).call(this,A,"delete")}clear(){return ae(this,$,n6).call(this,"delete")}};y=new WeakMap,m=new WeakMap,b=new WeakMap,T=new WeakMap,w=new WeakMap,O=new WeakMap,F=new WeakMap,Q=new WeakMap,j=new WeakMap,x=new WeakMap,I=new WeakMap,D=new WeakMap,C=new WeakMap,X=new WeakMap,z=new WeakMap,J=new WeakMap,ie=new WeakMap,se=new WeakMap,ye=new WeakMap,K=new WeakMap,Te=new WeakMap,Ne=new WeakMap,_e=new WeakMap,$=new WeakSet,e6=function(){const A=new u(v(this,y)),E=new u(v(this,y));be(this,K,A),be(this,ye,E),be(this,xe,(N,S,L=a.now())=>{if(E[N]=S!==0?L:0,A[N]=S,S!==0&&this.ttlAutopurge){const U=setTimeout(()=>{v(this,we).call(this,N)&&ae(this,$,za).call(this,v(this,x)[N],"expire")},S+1);U.unref&&U.unref()}}),be(this,qe,N=>{E[N]=A[N]!==0?a.now():0}),be(this,Ce,(N,S)=>{if(A[S]){const L=A[S],U=E[S];if(!L||!U)return;N.ttl=L,N.start=U,N.now=P||k();const Z=N.now-U;N.remainingTTL=L-Z}});let P=0;const k=()=>{const N=a.now();if(this.ttlResolution>0){P=N;const S=setTimeout(()=>P=0,this.ttlResolution);S.unref&&S.unref()}return N};this.getRemainingTTL=N=>{const S=v(this,j).get(N);if(S===void 0)return 0;const L=A[S],U=E[S];if(!L||!U)return 1/0;const Z=(P||k())-U;return L-Z},be(this,we,N=>{const S=E[N],L=A[N];return!!L&&!!S&&(P||k())-S>L})},qe=new WeakMap,Ce=new WeakMap,xe=new WeakMap,we=new WeakMap,xae=function(){const A=new u(v(this,y));be(this,Q,0),be(this,se,A),be(this,M,E=>{be(this,Q,v(this,Q)-A[E]),A[E]=0}),be(this,R,(E,P,k,N)=>{if(ae(this,$,nr).call(this,P))return 0;if(!s(k))if(N){if(typeof N!="function")throw new TypeError("sizeCalculation must be a function");if(k=N(P,E),!s(k))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return k}),be(this,B,(E,P,k)=>{if(A[E]=P,v(this,m)){const N=v(this,m)-A[E];for(;v(this,Q)>N;)ae(this,$,KE).call(this,!0)}be(this,Q,v(this,Q)+A[E]),k&&(k.entrySize=P,k.totalCalculatedSize=v(this,Q))})},M=new WeakMap,B=new WeakMap,R=new WeakMap,Ha=function*({allowStale:A=this.allowStale}={}){if(v(this,F))for(let E=v(this,z);!(!ae(this,$,t6).call(this,E)||((A||!v(this,we).call(this,E))&&(yield E),E===v(this,X)));)E=v(this,C)[E]},Ga=function*({allowStale:A=this.allowStale}={}){if(v(this,F))for(let E=v(this,X);!(!ae(this,$,t6).call(this,E)||((A||!v(this,we).call(this,E))&&(yield E),E===v(this,z)));)E=v(this,D)[E]},t6=function(A){return A!==void 0&&v(this,j).get(v(this,x)[A])===A},KE=function(A){var N,S;const E=v(this,X),P=v(this,x)[E],k=v(this,I)[E];return v(this,Ne)&&ae(this,$,nr).call(this,k)?k.__abortController.abort(new Error("evicted")):(v(this,Te)||v(this,_e))&&(v(this,Te)&&((N=v(this,b))==null||N.call(this,k,P,"evict")),v(this,_e)&&((S=v(this,ie))==null||S.push([k,P,"evict"]))),v(this,M).call(this,E),A&&(v(this,x)[E]=void 0,v(this,I)[E]=void 0,v(this,J).push(E)),v(this,F)===1?(be(this,X,be(this,z,0)),v(this,J).length=0):be(this,X,v(this,D)[E]),v(this,j).delete(P),Fr(this,F)._--,E},YE=function(A,E,P,k){const N=E===void 0?void 0:v(this,I)[E];if(ae(this,$,nr).call(this,N))return N;const S=new r,{signal:L}=P;L==null||L.addEventListener("abort",()=>S.abort(L.reason),{signal:S.signal});const U={signal:S.signal,options:P,context:k},Z=(ve,Re=!1)=>{const{aborted:ce}=S.signal,Pe=P.ignoreFetchAbort&&ve!==void 0;if(P.status&&(ce&&!Re?(P.status.fetchAborted=!0,P.status.fetchError=S.signal.reason,Pe&&(P.status.fetchAbortIgnored=!0)):P.status.fetchResolved=!0),ce&&!Pe&&!Re)return pe(S.signal.reason);const ze=ne;return v(this,I)[E]===ne&&(ve===void 0?ze.__staleWhileFetching?v(this,I)[E]=ze.__staleWhileFetching:ae(this,$,za).call(this,A,"fetch"):(P.status&&(P.status.fetchUpdated=!0),this.set(A,ve,U.options))),ve},me=ve=>(P.status&&(P.status.fetchRejected=!0,P.status.fetchError=ve),pe(ve)),pe=ve=>{const{aborted:Re}=S.signal,ce=Re&&P.allowStaleOnFetchAbort,Pe=ce||P.allowStaleOnFetchRejection,ze=Pe||P.noDeleteOnFetchRejection,Ue=ne;if(v(this,I)[E]===ne&&(!ze||Ue.__staleWhileFetching===void 0?ae(this,$,za).call(this,A,"fetch"):ce||(v(this,I)[E]=Ue.__staleWhileFetching)),Pe)return P.status&&Ue.__staleWhileFetching!==void 0&&(P.status.returnedStale=!0),Ue.__staleWhileFetching;if(Ue.__returned===Ue)throw ve},Xe=(ve,Re)=>{var Pe;const ce=(Pe=v(this,w))==null?void 0:Pe.call(this,A,N,U);ce&&ce instanceof Promise&&ce.then(ze=>ve(ze===void 0?void 0:ze),Re),S.signal.addEventListener("abort",()=>{(!P.ignoreFetchAbort||P.allowStaleOnFetchAbort)&&(ve(void 0),P.allowStaleOnFetchAbort&&(ve=ze=>Z(ze,!0)))})};P.status&&(P.status.fetchDispatched=!0);const ne=new Promise(Xe).then(Z,me),Ie=Object.assign(ne,{__abortController:S,__staleWhileFetching:N,__returned:void 0});return E===void 0?(this.set(A,Ie,{...U.options,status:void 0}),E=v(this,j).get(A)):v(this,I)[E]=Ie,Ie},nr=function(A){if(!v(this,Ne))return!1;const E=A;return!!E&&E instanceof Promise&&E.hasOwnProperty("__staleWhileFetching")&&E.__abortController instanceof r},r6=function(A,E){v(this,C)[E]=A,v(this,D)[A]=E},gO=function(A){A!==v(this,z)&&(A===v(this,X)?be(this,X,v(this,D)[A]):ae(this,$,r6).call(this,v(this,C)[A],v(this,D)[A]),ae(this,$,r6).call(this,v(this,z),A),be(this,z,A))},za=function(A,E){var k,N,S,L;let P=!1;if(v(this,F)!==0){const U=v(this,j).get(A);if(U!==void 0)if(P=!0,v(this,F)===1)ae(this,$,n6).call(this,E);else{v(this,M).call(this,U);const Z=v(this,I)[U];if(ae(this,$,nr).call(this,Z)?Z.__abortController.abort(new Error("deleted")):(v(this,Te)||v(this,_e))&&(v(this,Te)&&((k=v(this,b))==null||k.call(this,Z,A,E)),v(this,_e)&&((N=v(this,ie))==null||N.push([Z,A,E]))),v(this,j).delete(A),v(this,x)[U]=void 0,v(this,I)[U]=void 0,U===v(this,z))be(this,z,v(this,C)[U]);else if(U===v(this,X))be(this,X,v(this,D)[U]);else{const me=v(this,C)[U];v(this,D)[me]=v(this,D)[U];const pe=v(this,D)[U];v(this,C)[pe]=v(this,C)[U]}Fr(this,F)._--,v(this,J).push(U)}}if(v(this,_e)&&((S=v(this,ie))!=null&&S.length)){const U=v(this,ie);let Z;for(;Z=U==null?void 0:U.shift();)(L=v(this,T))==null||L.call(this,...Z)}return P},n6=function(A){var E,P,k;for(const N of ae(this,$,Ga).call(this,{allowStale:!0})){const S=v(this,I)[N];if(ae(this,$,nr).call(this,S))S.__abortController.abort(new Error("deleted"));else{const L=v(this,x)[N];v(this,Te)&&((E=v(this,b))==null||E.call(this,S,L,A)),v(this,_e)&&((P=v(this,ie))==null||P.push([S,L,A]))}}if(v(this,j).clear(),v(this,I).fill(void 0),v(this,x).fill(void 0),v(this,K)&&v(this,ye)&&(v(this,K).fill(0),v(this,ye).fill(0)),v(this,se)&&v(this,se).fill(0),be(this,X,0),be(this,z,0),v(this,J).length=0,be(this,Q,0),be(this,F,0),v(this,_e)&&v(this,ie)){const N=v(this,ie);let S;for(;S=N==null?void 0:N.shift();)(k=v(this,T))==null||k.call(this,...S)}};let f=ke;return hS.LRUCache=f,hS}var UZ;function Nve(){if(UZ)return fS;UZ=1,Object.defineProperty(fS,"__esModule",{value:!0}),fS.ActorContextPreprocessQuerySourceIdentify=void 0;const a=iy(),t=tt(),o=De(),n=Fve();let r=class extends a.ActorContextPreprocess{constructor(i){super(i),this.cache=this.cacheSize?new n.LRUCache({max:this.cacheSize}):void 0;const s=this.cache;s&&this.httpInvalidator.addInvalidateListener(({url:c})=>c?s.delete(c):s.clear())}async test(i){return(0,o.passTestVoid)()}async run(i){let s=i.context;if(s.has(t.KeysInitQuery.querySourcesUnidentified)){const c=i.context.get(t.KeysInitQuery.querySourcesUnidentified),u=await Promise.all(c.map(d=>this.expandSource(d))),l=await Promise.all(u.map(async d=>this.identifySource(d,i.context))),f=i.context.get(t.KeysStatistics.dereferencedLinks);if(f)for(const d of l)f.updateStatistic({url:d.source.referenceValue,metadata:{seed:!0}},d.source);s=i.context.delete(t.KeysInitQuery.querySourcesUnidentified).set(t.KeysQueryOperation.querySources,l)}return{context:s}}async expandSource(i){return typeof i=="string"||"match"in i?{value:i}:{...i,context:(await this.mediatorContextPreprocess.mediate({context:o.ActionContext.ensureActionContext(i.context??{})})).context}}identifySource(i,s){let c;return typeof i.value=="string"&&this.cache&&(c=this.cache.get(i.value)),c||(c=this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:i,context:s}).then(({querySource:u})=>u),typeof i.value=="string"&&this.cache&&this.cache.set(i.value,c)),c}};return fS.ActorContextPreprocessQuerySourceIdentify=r,fS}var VZ;function Dve(){return VZ||(VZ=1,function(a){var t=zd&&zd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=zd&&zd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Nve(),a)}(zd)),zd}var kd={},pS={},yS={},QZ;function Pve(){var d,h,_,g,y,m,b,T,w,O,F,Q,j,x,I,D,C,X,z,J,ie,se,ye,K,Te,Ne,_e,$,i6,qe,Ce,xe,we,Iae,M,B,R,ka,Xa,a6,ZE,ex,ir,o6,vO,Wa,s6;if(QZ)return yS;QZ=1,Object.defineProperty(yS,"__esModule",{value:!0}),yS.LRUCache=void 0;const a=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,t=new Set,o=typeof xr=="object"&&xr?xr:{},n=(Ae,A,E,P)=>{typeof o.emitWarning=="function"?o.emitWarning(Ae,A,E,P):console.error(`[${E}] ${A}: ${Ae}`)};let r=globalThis.AbortController,e=globalThis.AbortSignal;if(typeof r>"u"){e=class{constructor(){We(this,"onabort");We(this,"_onabort",[]);We(this,"reason");We(this,"aborted",!1)}addEventListener(P,k){this._onabort.push(k)}},r=class{constructor(){We(this,"signal",new e);A()}abort(P){var k,N;if(!this.signal.aborted){this.signal.reason=P,this.signal.aborted=!0;for(const S of this.signal._onabort)S(P);(N=(k=this.signal).onabort)==null||N.call(k,P)}}};let Ae=((d=o.env)==null?void 0:d.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const A=()=>{Ae&&(Ae=!1,n("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",A))}}const i=Ae=>!t.has(Ae),s=Ae=>Ae&&Ae===Math.floor(Ae)&&Ae>0&&isFinite(Ae),c=Ae=>s(Ae)?Ae<=Math.pow(2,8)?Uint8Array:Ae<=Math.pow(2,16)?Uint16Array:Ae<=Math.pow(2,32)?Uint32Array:Ae<=Number.MAX_SAFE_INTEGER?u:null:null;class u extends Array{constructor(A){super(A),this.fill(0)}}const p=class p{constructor(A,E){We(this,"heap");We(this,"length");if(!v(p,h))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new E(A),this.length=0}static create(A){const E=c(A);if(!E)return[];be(p,h,!0);const P=new p(A,E);return be(p,h,!1),P}push(A){this.heap[this.length++]=A}pop(){return this.heap[--this.length]}};h=new WeakMap,Le(p,h,!1);let l=p;const ke=class ke{constructor(A){Le(this,$);Le(this,y);Le(this,m);Le(this,b);Le(this,T);Le(this,w);Le(this,O);We(this,"ttl");We(this,"ttlResolution");We(this,"ttlAutopurge");We(this,"updateAgeOnGet");We(this,"updateAgeOnHas");We(this,"allowStale");We(this,"noDisposeOnSet");We(this,"noUpdateTTL");We(this,"maxEntrySize");We(this,"sizeCalculation");We(this,"noDeleteOnFetchRejection");We(this,"noDeleteOnStaleGet");We(this,"allowStaleOnFetchAbort");We(this,"allowStaleOnFetchRejection");We(this,"ignoreFetchAbort");Le(this,F);Le(this,Q);Le(this,j);Le(this,x);Le(this,I);Le(this,D);Le(this,C);Le(this,X);Le(this,z);Le(this,J);Le(this,ie);Le(this,se);Le(this,ye);Le(this,K);Le(this,Te);Le(this,Ne);Le(this,_e);Le(this,qe,()=>{});Le(this,Ce,()=>{});Le(this,xe,()=>{});Le(this,we,()=>!1);Le(this,M,A=>{});Le(this,B,(A,E,P)=>{});Le(this,R,(A,E,P,k)=>{if(P||k)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});We(this,_,"LRUCache");const{max:E=0,ttl:P,ttlResolution:k=1,ttlAutopurge:N,updateAgeOnGet:S,updateAgeOnHas:L,allowStale:U,dispose:Z,disposeAfter:me,noDisposeOnSet:pe,noUpdateTTL:Xe,maxSize:ne=0,maxEntrySize:Ie=0,sizeCalculation:ve,fetchMethod:Re,memoMethod:ce,noDeleteOnFetchRejection:Pe,noDeleteOnStaleGet:ze,allowStaleOnFetchRejection:Ue,allowStaleOnFetchAbort:Ye,ignoreFetchAbort:fe}=A;if(E!==0&&!s(E))throw new TypeError("max option must be a nonnegative integer");const H=E?c(E):Array;if(!H)throw new Error("invalid max value: "+E);if(be(this,y,E),be(this,m,ne),this.maxEntrySize=Ie||v(this,m),this.sizeCalculation=ve,this.sizeCalculation){if(!v(this,m)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(ce!==void 0&&typeof ce!="function")throw new TypeError("memoMethod must be a function if defined");if(be(this,O,ce),Re!==void 0&&typeof Re!="function")throw new TypeError("fetchMethod must be a function if specified");if(be(this,w,Re),be(this,Ne,!!Re),be(this,j,new Map),be(this,x,new Array(E).fill(void 0)),be(this,I,new Array(E).fill(void 0)),be(this,D,new H(E)),be(this,C,new H(E)),be(this,X,0),be(this,z,0),be(this,J,l.create(E)),be(this,F,0),be(this,Q,0),typeof Z=="function"&&be(this,b,Z),typeof me=="function"?(be(this,T,me),be(this,ie,[])):(be(this,T,void 0),be(this,ie,void 0)),be(this,Te,!!v(this,b)),be(this,_e,!!v(this,T)),this.noDisposeOnSet=!!pe,this.noUpdateTTL=!!Xe,this.noDeleteOnFetchRejection=!!Pe,this.allowStaleOnFetchRejection=!!Ue,this.allowStaleOnFetchAbort=!!Ye,this.ignoreFetchAbort=!!fe,this.maxEntrySize!==0){if(v(this,m)!==0&&!s(v(this,m)))throw new TypeError("maxSize must be a positive integer if specified");if(!s(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");ae(this,$,Iae).call(this)}if(this.allowStale=!!U,this.noDeleteOnStaleGet=!!ze,this.updateAgeOnGet=!!S,this.updateAgeOnHas=!!L,this.ttlResolution=s(k)||k===0?k:1,this.ttlAutopurge=!!N,this.ttl=P||0,this.ttl){if(!s(this.ttl))throw new TypeError("ttl must be a positive integer if specified");ae(this,$,i6).call(this)}if(v(this,y)===0&&this.ttl===0&&v(this,m)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!v(this,y)&&!v(this,m)){const V="LRU_CACHE_UNBOUNDED";i(V)&&(t.add(V),n("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",V,ke))}}static unsafeExposeInternals(A){return{starts:v(A,ye),ttls:v(A,K),sizes:v(A,se),keyMap:v(A,j),keyList:v(A,x),valList:v(A,I),next:v(A,D),prev:v(A,C),get head(){return v(A,X)},get tail(){return v(A,z)},free:v(A,J),isBackgroundFetch:E=>{var P;return ae(P=A,$,ir).call(P,E)},backgroundFetch:(E,P,k,N)=>{var S;return ae(S=A,$,ex).call(S,E,P,k,N)},moveToTail:E=>{var P;return ae(P=A,$,vO).call(P,E)},indexes:E=>{var P;return ae(P=A,$,ka).call(P,E)},rindexes:E=>{var P;return ae(P=A,$,Xa).call(P,E)},isStale:E=>{var P;return v(P=A,we).call(P,E)}}}get max(){return v(this,y)}get maxSize(){return v(this,m)}get calculatedSize(){return v(this,Q)}get size(){return v(this,F)}get fetchMethod(){return v(this,w)}get memoMethod(){return v(this,O)}get dispose(){return v(this,b)}get disposeAfter(){return v(this,T)}getRemainingTTL(A){return v(this,j).has(A)?1/0:0}*entries(){for(const A of ae(this,$,ka).call(this))v(this,I)[A]!==void 0&&v(this,x)[A]!==void 0&&!ae(this,$,ir).call(this,v(this,I)[A])&&(yield[v(this,x)[A],v(this,I)[A]])}*rentries(){for(const A of ae(this,$,Xa).call(this))v(this,I)[A]!==void 0&&v(this,x)[A]!==void 0&&!ae(this,$,ir).call(this,v(this,I)[A])&&(yield[v(this,x)[A],v(this,I)[A]])}*keys(){for(const A of ae(this,$,ka).call(this)){const E=v(this,x)[A];E!==void 0&&!ae(this,$,ir).call(this,v(this,I)[A])&&(yield E)}}*rkeys(){for(const A of ae(this,$,Xa).call(this)){const E=v(this,x)[A];E!==void 0&&!ae(this,$,ir).call(this,v(this,I)[A])&&(yield E)}}*values(){for(const A of ae(this,$,ka).call(this))v(this,I)[A]!==void 0&&!ae(this,$,ir).call(this,v(this,I)[A])&&(yield v(this,I)[A])}*rvalues(){for(const A of ae(this,$,Xa).call(this))v(this,I)[A]!==void 0&&!ae(this,$,ir).call(this,v(this,I)[A])&&(yield v(this,I)[A])}[(g=Symbol.iterator,_=Symbol.toStringTag,g)](){return this.entries()}find(A,E={}){for(const P of ae(this,$,ka).call(this)){const k=v(this,I)[P],N=ae(this,$,ir).call(this,k)?k.__staleWhileFetching:k;if(N!==void 0&&A(N,v(this,x)[P],this))return this.get(v(this,x)[P],E)}}forEach(A,E=this){for(const P of ae(this,$,ka).call(this)){const k=v(this,I)[P],N=ae(this,$,ir).call(this,k)?k.__staleWhileFetching:k;N!==void 0&&A.call(E,N,v(this,x)[P],this)}}rforEach(A,E=this){for(const P of ae(this,$,Xa).call(this)){const k=v(this,I)[P],N=ae(this,$,ir).call(this,k)?k.__staleWhileFetching:k;N!==void 0&&A.call(E,N,v(this,x)[P],this)}}purgeStale(){let A=!1;for(const E of ae(this,$,Xa).call(this,{allowStale:!0}))v(this,we).call(this,E)&&(ae(this,$,Wa).call(this,v(this,x)[E],"expire"),A=!0);return A}info(A){const E=v(this,j).get(A);if(E===void 0)return;const P=v(this,I)[E],k=ae(this,$,ir).call(this,P)?P.__staleWhileFetching:P;if(k===void 0)return;const N={value:k};if(v(this,K)&&v(this,ye)){const S=v(this,K)[E],L=v(this,ye)[E];if(S&&L){const U=S-(a.now()-L);N.ttl=U,N.start=Date.now()}}return v(this,se)&&(N.size=v(this,se)[E]),N}dump(){const A=[];for(const E of ae(this,$,ka).call(this,{allowStale:!0})){const P=v(this,x)[E],k=v(this,I)[E],N=ae(this,$,ir).call(this,k)?k.__staleWhileFetching:k;if(N===void 0||P===void 0)continue;const S={value:N};if(v(this,K)&&v(this,ye)){S.ttl=v(this,K)[E];const L=a.now()-v(this,ye)[E];S.start=Math.floor(Date.now()-L)}v(this,se)&&(S.size=v(this,se)[E]),A.unshift([P,S])}return A}load(A){this.clear();for(const[E,P]of A){if(P.start){const k=Date.now()-P.start;P.start=a.now()-k}this.set(E,P.value,P)}}set(A,E,P={}){var Xe,ne,Ie,ve,Re;if(E===void 0)return this.delete(A),this;const{ttl:k=this.ttl,start:N,noDisposeOnSet:S=this.noDisposeOnSet,sizeCalculation:L=this.sizeCalculation,status:U}=P;let{noUpdateTTL:Z=this.noUpdateTTL}=P;const me=v(this,R).call(this,A,E,P.size||0,L);if(this.maxEntrySize&&me>this.maxEntrySize)return U&&(U.set="miss",U.maxEntrySizeExceeded=!0),ae(this,$,Wa).call(this,A,"set"),this;let pe=v(this,F)===0?void 0:v(this,j).get(A);if(pe===void 0)pe=v(this,F)===0?v(this,z):v(this,J).length!==0?v(this,J).pop():v(this,F)===v(this,y)?ae(this,$,ZE).call(this,!1):v(this,F),v(this,x)[pe]=A,v(this,I)[pe]=E,v(this,j).set(A,pe),v(this,D)[v(this,z)]=pe,v(this,C)[pe]=v(this,z),be(this,z,pe),Fr(this,F)._++,v(this,B).call(this,pe,me,U),U&&(U.set="add"),Z=!1;else{ae(this,$,vO).call(this,pe);const ce=v(this,I)[pe];if(E!==ce){if(v(this,Ne)&&ae(this,$,ir).call(this,ce)){ce.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:Pe}=ce;Pe!==void 0&&!S&&(v(this,Te)&&((Xe=v(this,b))==null||Xe.call(this,Pe,A,"set")),v(this,_e)&&((ne=v(this,ie))==null||ne.push([Pe,A,"set"])))}else S||(v(this,Te)&&((Ie=v(this,b))==null||Ie.call(this,ce,A,"set")),v(this,_e)&&((ve=v(this,ie))==null||ve.push([ce,A,"set"])));if(v(this,M).call(this,pe),v(this,B).call(this,pe,me,U),v(this,I)[pe]=E,U){U.set="replace";const Pe=ce&&ae(this,$,ir).call(this,ce)?ce.__staleWhileFetching:ce;Pe!==void 0&&(U.oldValue=Pe)}}else U&&(U.set="update")}if(k!==0&&!v(this,K)&&ae(this,$,i6).call(this),v(this,K)&&(Z||v(this,xe).call(this,pe,k,N),U&&v(this,Ce).call(this,U,pe)),!S&&v(this,_e)&&v(this,ie)){const ce=v(this,ie);let Pe;for(;Pe=ce==null?void 0:ce.shift();)(Re=v(this,T))==null||Re.call(this,...Pe)}return this}pop(){var A;try{for(;v(this,F);){const E=v(this,I)[v(this,X)];if(ae(this,$,ZE).call(this,!0),ae(this,$,ir).call(this,E)){if(E.__staleWhileFetching)return E.__staleWhileFetching}else if(E!==void 0)return E}}finally{if(v(this,_e)&&v(this,ie)){const E=v(this,ie);let P;for(;P=E==null?void 0:E.shift();)(A=v(this,T))==null||A.call(this,...P)}}}has(A,E={}){const{updateAgeOnHas:P=this.updateAgeOnHas,status:k}=E,N=v(this,j).get(A);if(N!==void 0){const S=v(this,I)[N];if(ae(this,$,ir).call(this,S)&&S.__staleWhileFetching===void 0)return!1;if(v(this,we).call(this,N))k&&(k.has="stale",v(this,Ce).call(this,k,N));else return P&&v(this,qe).call(this,N),k&&(k.has="hit",v(this,Ce).call(this,k,N)),!0}else k&&(k.has="miss");return!1}peek(A,E={}){const{allowStale:P=this.allowStale}=E,k=v(this,j).get(A);if(k===void 0||!P&&v(this,we).call(this,k))return;const N=v(this,I)[k];return ae(this,$,ir).call(this,N)?N.__staleWhileFetching:N}async fetch(A,E={}){const{allowStale:P=this.allowStale,updateAgeOnGet:k=this.updateAgeOnGet,noDeleteOnStaleGet:N=this.noDeleteOnStaleGet,ttl:S=this.ttl,noDisposeOnSet:L=this.noDisposeOnSet,size:U=0,sizeCalculation:Z=this.sizeCalculation,noUpdateTTL:me=this.noUpdateTTL,noDeleteOnFetchRejection:pe=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Xe=this.allowStaleOnFetchRejection,ignoreFetchAbort:ne=this.ignoreFetchAbort,allowStaleOnFetchAbort:Ie=this.allowStaleOnFetchAbort,context:ve,forceRefresh:Re=!1,status:ce,signal:Pe}=E;if(!v(this,Ne))return ce&&(ce.fetch="get"),this.get(A,{allowStale:P,updateAgeOnGet:k,noDeleteOnStaleGet:N,status:ce});const ze={allowStale:P,updateAgeOnGet:k,noDeleteOnStaleGet:N,ttl:S,noDisposeOnSet:L,size:U,sizeCalculation:Z,noUpdateTTL:me,noDeleteOnFetchRejection:pe,allowStaleOnFetchRejection:Xe,allowStaleOnFetchAbort:Ie,ignoreFetchAbort:ne,status:ce,signal:Pe};let Ue=v(this,j).get(A);if(Ue===void 0){ce&&(ce.fetch="miss");const Ye=ae(this,$,ex).call(this,A,Ue,ze,ve);return Ye.__returned=Ye}else{const Ye=v(this,I)[Ue];if(ae(this,$,ir).call(this,Ye)){const oe=P&&Ye.__staleWhileFetching!==void 0;return ce&&(ce.fetch="inflight",oe&&(ce.returnedStale=!0)),oe?Ye.__staleWhileFetching:Ye.__returned=Ye}const fe=v(this,we).call(this,Ue);if(!Re&&!fe)return ce&&(ce.fetch="hit"),ae(this,$,vO).call(this,Ue),k&&v(this,qe).call(this,Ue),ce&&v(this,Ce).call(this,ce,Ue),Ye;const H=ae(this,$,ex).call(this,A,Ue,ze,ve),G=H.__staleWhileFetching!==void 0&&P;return ce&&(ce.fetch=fe?"stale":"refresh",G&&fe&&(ce.returnedStale=!0)),G?H.__staleWhileFetching:H.__returned=H}}async forceFetch(A,E={}){const P=await this.fetch(A,E);if(P===void 0)throw new Error("fetch() returned undefined");return P}memo(A,E={}){const P=v(this,O);if(!P)throw new Error("no memoMethod provided to constructor");const{context:k,forceRefresh:N,...S}=E,L=this.get(A,S);if(!N&&L!==void 0)return L;const U=P(A,L,{options:S,context:k});return this.set(A,U,S),U}get(A,E={}){const{allowStale:P=this.allowStale,updateAgeOnGet:k=this.updateAgeOnGet,noDeleteOnStaleGet:N=this.noDeleteOnStaleGet,status:S}=E,L=v(this,j).get(A);if(L!==void 0){const U=v(this,I)[L],Z=ae(this,$,ir).call(this,U);return S&&v(this,Ce).call(this,S,L),v(this,we).call(this,L)?(S&&(S.get="stale"),Z?(S&&P&&U.__staleWhileFetching!==void 0&&(S.returnedStale=!0),P?U.__staleWhileFetching:void 0):(N||ae(this,$,Wa).call(this,A,"expire"),S&&P&&(S.returnedStale=!0),P?U:void 0)):(S&&(S.get="hit"),Z?U.__staleWhileFetching:(ae(this,$,vO).call(this,L),k&&v(this,qe).call(this,L),U))}else S&&(S.get="miss")}delete(A){return ae(this,$,Wa).call(this,A,"delete")}clear(){return ae(this,$,s6).call(this,"delete")}};y=new WeakMap,m=new WeakMap,b=new WeakMap,T=new WeakMap,w=new WeakMap,O=new WeakMap,F=new WeakMap,Q=new WeakMap,j=new WeakMap,x=new WeakMap,I=new WeakMap,D=new WeakMap,C=new WeakMap,X=new WeakMap,z=new WeakMap,J=new WeakMap,ie=new WeakMap,se=new WeakMap,ye=new WeakMap,K=new WeakMap,Te=new WeakMap,Ne=new WeakMap,_e=new WeakMap,$=new WeakSet,i6=function(){const A=new u(v(this,y)),E=new u(v(this,y));be(this,K,A),be(this,ye,E),be(this,xe,(N,S,L=a.now())=>{if(E[N]=S!==0?L:0,A[N]=S,S!==0&&this.ttlAutopurge){const U=setTimeout(()=>{v(this,we).call(this,N)&&ae(this,$,Wa).call(this,v(this,x)[N],"expire")},S+1);U.unref&&U.unref()}}),be(this,qe,N=>{E[N]=A[N]!==0?a.now():0}),be(this,Ce,(N,S)=>{if(A[S]){const L=A[S],U=E[S];if(!L||!U)return;N.ttl=L,N.start=U,N.now=P||k();const Z=N.now-U;N.remainingTTL=L-Z}});let P=0;const k=()=>{const N=a.now();if(this.ttlResolution>0){P=N;const S=setTimeout(()=>P=0,this.ttlResolution);S.unref&&S.unref()}return N};this.getRemainingTTL=N=>{const S=v(this,j).get(N);if(S===void 0)return 0;const L=A[S],U=E[S];if(!L||!U)return 1/0;const Z=(P||k())-U;return L-Z},be(this,we,N=>{const S=E[N],L=A[N];return!!L&&!!S&&(P||k())-S>L})},qe=new WeakMap,Ce=new WeakMap,xe=new WeakMap,we=new WeakMap,Iae=function(){const A=new u(v(this,y));be(this,Q,0),be(this,se,A),be(this,M,E=>{be(this,Q,v(this,Q)-A[E]),A[E]=0}),be(this,R,(E,P,k,N)=>{if(ae(this,$,ir).call(this,P))return 0;if(!s(k))if(N){if(typeof N!="function")throw new TypeError("sizeCalculation must be a function");if(k=N(P,E),!s(k))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return k}),be(this,B,(E,P,k)=>{if(A[E]=P,v(this,m)){const N=v(this,m)-A[E];for(;v(this,Q)>N;)ae(this,$,ZE).call(this,!0)}be(this,Q,v(this,Q)+A[E]),k&&(k.entrySize=P,k.totalCalculatedSize=v(this,Q))})},M=new WeakMap,B=new WeakMap,R=new WeakMap,ka=function*({allowStale:A=this.allowStale}={}){if(v(this,F))for(let E=v(this,z);!(!ae(this,$,a6).call(this,E)||((A||!v(this,we).call(this,E))&&(yield E),E===v(this,X)));)E=v(this,C)[E]},Xa=function*({allowStale:A=this.allowStale}={}){if(v(this,F))for(let E=v(this,X);!(!ae(this,$,a6).call(this,E)||((A||!v(this,we).call(this,E))&&(yield E),E===v(this,z)));)E=v(this,D)[E]},a6=function(A){return A!==void 0&&v(this,j).get(v(this,x)[A])===A},ZE=function(A){var N,S;const E=v(this,X),P=v(this,x)[E],k=v(this,I)[E];return v(this,Ne)&&ae(this,$,ir).call(this,k)?k.__abortController.abort(new Error("evicted")):(v(this,Te)||v(this,_e))&&(v(this,Te)&&((N=v(this,b))==null||N.call(this,k,P,"evict")),v(this,_e)&&((S=v(this,ie))==null||S.push([k,P,"evict"]))),v(this,M).call(this,E),A&&(v(this,x)[E]=void 0,v(this,I)[E]=void 0,v(this,J).push(E)),v(this,F)===1?(be(this,X,be(this,z,0)),v(this,J).length=0):be(this,X,v(this,D)[E]),v(this,j).delete(P),Fr(this,F)._--,E},ex=function(A,E,P,k){const N=E===void 0?void 0:v(this,I)[E];if(ae(this,$,ir).call(this,N))return N;const S=new r,{signal:L}=P;L==null||L.addEventListener("abort",()=>S.abort(L.reason),{signal:S.signal});const U={signal:S.signal,options:P,context:k},Z=(ve,Re=!1)=>{const{aborted:ce}=S.signal,Pe=P.ignoreFetchAbort&&ve!==void 0;if(P.status&&(ce&&!Re?(P.status.fetchAborted=!0,P.status.fetchError=S.signal.reason,Pe&&(P.status.fetchAbortIgnored=!0)):P.status.fetchResolved=!0),ce&&!Pe&&!Re)return pe(S.signal.reason);const ze=ne;return v(this,I)[E]===ne&&(ve===void 0?ze.__staleWhileFetching?v(this,I)[E]=ze.__staleWhileFetching:ae(this,$,Wa).call(this,A,"fetch"):(P.status&&(P.status.fetchUpdated=!0),this.set(A,ve,U.options))),ve},me=ve=>(P.status&&(P.status.fetchRejected=!0,P.status.fetchError=ve),pe(ve)),pe=ve=>{const{aborted:Re}=S.signal,ce=Re&&P.allowStaleOnFetchAbort,Pe=ce||P.allowStaleOnFetchRejection,ze=Pe||P.noDeleteOnFetchRejection,Ue=ne;if(v(this,I)[E]===ne&&(!ze||Ue.__staleWhileFetching===void 0?ae(this,$,Wa).call(this,A,"fetch"):ce||(v(this,I)[E]=Ue.__staleWhileFetching)),Pe)return P.status&&Ue.__staleWhileFetching!==void 0&&(P.status.returnedStale=!0),Ue.__staleWhileFetching;if(Ue.__returned===Ue)throw ve},Xe=(ve,Re)=>{var Pe;const ce=(Pe=v(this,w))==null?void 0:Pe.call(this,A,N,U);ce&&ce instanceof Promise&&ce.then(ze=>ve(ze===void 0?void 0:ze),Re),S.signal.addEventListener("abort",()=>{(!P.ignoreFetchAbort||P.allowStaleOnFetchAbort)&&(ve(void 0),P.allowStaleOnFetchAbort&&(ve=ze=>Z(ze,!0)))})};P.status&&(P.status.fetchDispatched=!0);const ne=new Promise(Xe).then(Z,me),Ie=Object.assign(ne,{__abortController:S,__staleWhileFetching:N,__returned:void 0});return E===void 0?(this.set(A,Ie,{...U.options,status:void 0}),E=v(this,j).get(A)):v(this,I)[E]=Ie,Ie},ir=function(A){if(!v(this,Ne))return!1;const E=A;return!!E&&E instanceof Promise&&E.hasOwnProperty("__staleWhileFetching")&&E.__abortController instanceof r},o6=function(A,E){v(this,C)[E]=A,v(this,D)[A]=E},vO=function(A){A!==v(this,z)&&(A===v(this,X)?be(this,X,v(this,D)[A]):ae(this,$,o6).call(this,v(this,C)[A],v(this,D)[A]),ae(this,$,o6).call(this,v(this,z),A),be(this,z,A))},Wa=function(A,E){var k,N,S,L;let P=!1;if(v(this,F)!==0){const U=v(this,j).get(A);if(U!==void 0)if(P=!0,v(this,F)===1)ae(this,$,s6).call(this,E);else{v(this,M).call(this,U);const Z=v(this,I)[U];if(ae(this,$,ir).call(this,Z)?Z.__abortController.abort(new Error("deleted")):(v(this,Te)||v(this,_e))&&(v(this,Te)&&((k=v(this,b))==null||k.call(this,Z,A,E)),v(this,_e)&&((N=v(this,ie))==null||N.push([Z,A,E]))),v(this,j).delete(A),v(this,x)[U]=void 0,v(this,I)[U]=void 0,U===v(this,z))be(this,z,v(this,C)[U]);else if(U===v(this,X))be(this,X,v(this,D)[U]);else{const me=v(this,C)[U];v(this,D)[me]=v(this,D)[U];const pe=v(this,D)[U];v(this,C)[pe]=v(this,C)[U]}Fr(this,F)._--,v(this,J).push(U)}}if(v(this,_e)&&((S=v(this,ie))!=null&&S.length)){const U=v(this,ie);let Z;for(;Z=U==null?void 0:U.shift();)(L=v(this,T))==null||L.call(this,...Z)}return P},s6=function(A){var E,P,k;for(const N of ae(this,$,Xa).call(this,{allowStale:!0})){const S=v(this,I)[N];if(ae(this,$,ir).call(this,S))S.__abortController.abort(new Error("deleted"));else{const L=v(this,x)[N];v(this,Te)&&((E=v(this,b))==null||E.call(this,S,L,A)),v(this,_e)&&((P=v(this,ie))==null||P.push([S,L,A]))}}if(v(this,j).clear(),v(this,I).fill(void 0),v(this,x).fill(void 0),v(this,K)&&v(this,ye)&&(v(this,K).fill(0),v(this,ye).fill(0)),v(this,se)&&v(this,se).fill(0),be(this,X,0),be(this,z,0),v(this,J).length=0,be(this,Q,0),be(this,F,0),v(this,_e)&&v(this,ie)){const N=v(this,ie);let S;for(;S=N==null?void 0:N.shift();)(k=v(this,T))==null||k.call(this,...S)}};let f=ke;return yS.LRUCache=f,yS}var HZ;function Lve(){if(HZ)return pS;HZ=1,Object.defineProperty(pS,"__esModule",{value:!0}),pS.ActorRdfUpdateQuadsHypermedia=void 0;const a=KF(),t=De(),o=Pve();let n=class extends a.ActorRdfUpdateQuadsDestination{constructor(e){super(e),this.cache=this.cacheSize?new o.LRUCache({max:this.cacheSize}):void 0;const i=this.cache;i&&this.httpInvalidator.addInvalidateListener(({url:s})=>s?i.delete(s):i.clear())}async test(e){return(0,a.getContextDestinationUrl)((0,a.getContextDestination)(e.context))?(0,t.passTestVoid)():(0,t.failTest)(`Actor ${this.name} can only update quads against a single destination URL.`)}getDestination(e){const i=(0,a.getContextDestination)(e);let s=(0,a.getContextDestinationUrl)(i);if(this.cache&&this.cache.has(s))return this.cache.get(s);const c=(async()=>{var d;let u,l;try{const h=await this.mediatorDereferenceRdf.mediate({context:e,url:s,acceptErrors:!0});l=h.exists,s=h.url;const p=await this.mediatorMetadata.mediate({context:e,url:s,quads:h.data,triples:(d=h.metadata)==null?void 0:d.triples});u=(await this.mediatorMetadataExtract.mediate({context:e,url:s,metadata:p.metadata,headers:h.headers,requestTime:h.requestTime})).metadata}catch{u={},l=!1}const{destination:f}=await this.mediatorRdfUpdateHypermedia.mediate({context:e,url:s,metadata:u,exists:l,forceDestinationType:(0,a.getDataDestinationType)(i)});return f})();return this.cache&&this.cache.set(s,c),c}};return pS.ActorRdfUpdateQuadsHypermedia=n,pS}var GZ;function jve(){return GZ||(GZ=1,function(a){var t=kd&&kd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=kd&&kd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Lve(),a)}(kd)),kd}var Xd={},bS={},zZ;function Mve(){if(zZ)return bS;zZ=1,Object.defineProperty(bS,"__esModule",{value:!0}),bS.ActionObserverHttp=void 0;const a=De();class t extends a.ActionObserver{constructor(n){super(n),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(n,r,e){this.requests++}}return bS.ActionObserverHttp=t,bS}var _S={},kZ;function qve(){if(kZ)return _S;kZ=1,Object.defineProperty(_S,"__esModule",{value:!0}),_S.ActorQueryResultSerializeSparqlJson=void 0;const a=vi(),t=De(),o=Tt(),n=qt();let r=class TO extends a.ActorQueryResultSerializeFixedMediaTypes{constructor(i){super(i)}static bindingToJsonBindings(i){if(i.termType==="Literal"){const s=i,c={value:s.value,type:"literal"},{language:u,datatype:l}=s;return u?c["xml:lang"]=u:l&&l.value!=="http://www.w3.org/2001/XMLSchema#string"&&(c.datatype=l.value),c}return i.termType==="BlankNode"?{value:i.value,type:"bnode"}:i.termType==="Quad"?{value:{subject:TO.bindingToJsonBindings(i.subject),predicate:TO.bindingToJsonBindings(i.predicate),object:TO.bindingToJsonBindings(i.object)},type:"triple"}:{value:i.value,type:"uri"}}async testHandleChecked(i,s){return["bindings","boolean"].includes(i.type)?(0,t.passTestVoid)():(0,t.failTest)("This actor can only handle bindings streams or booleans.")}async runHandle(i,s,c){const u=new n.Readable,l={};if(i.type==="bindings"){const f=await i.metadata();f.variables.length>0&&(l.vars=f.variables.map(d=>d.variable.value))}if(u.push(`{"head": ${JSON.stringify(l)},
`),i.type==="bindings"){const f=i.bindingsStream;u.push(`"results": { "bindings": [
`);let d=!0;function*h(p){yield p()}u.wrap((0,o.wrap)(f).map(p=>{const _=`${d?"":`,
`}${JSON.stringify(Object.fromEntries([...p].map(([g,y])=>[g.value,TO.bindingToJsonBindings(y)])))}`;return d=!1,_}).append((0,o.wrap)(h(()=>`
]}${this.emitMetadata?`,
"metadata": { "httpRequests": ${this.httpObserver.requests} }`:""}}
`))))}else u.wrap((0,o.wrap)(i.execute().then(f=>[`"boolean":${f}
}
`])));return{data:u}}};return _S.ActorQueryResultSerializeSparqlJson=r,_S}var XZ;function WZ(){return XZ||(XZ=1,function(a){var t=Xd&&Xd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Xd&&Xd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Mve(),a),o(qve(),a)}(Xd)),Xd}var Wd={},mS={},JZ;function Cve(){if(JZ)return mS;JZ=1,Object.defineProperty(mS,"__esModule",{value:!0}),mS.ActionObserverHttp=void 0;const a=De();let t=class extends a.ActionObserver{constructor(n){super(n),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(n,r,e){this.requests++}};return mS.ActionObserverHttp=t,mS}var gS={},KZ;function Bve(){if(KZ)return gS;KZ=1,Object.defineProperty(gS,"__esModule",{value:!0}),gS.ActorQueryResultSerializeStats=void 0;const a=vi(),t=tt(),o=De(),n=Tt(),r=qt();let e=class extends a.ActorQueryResultSerializeFixedMediaTypes{constructor(s){super(s)}async testHandleChecked(s,c){return["bindings","quads"].includes(s.type)?(0,o.passTestVoid)():(0,o.failTest)("This actor can only handle bindings streams or quad streams.")}pushHeader(s){const c=["Result","Delay (ms)","HTTP requests"].join(",");s.push(`${c}
`)}createStat(s,c){return`${[c,this.delay(s),this.httpObserver.requests].join(",")}
`}createSpecialLine(s,c){return`${[s,this.delay(c),this.httpObserver.requests].join(",")}
`}async runHandle(s,c,u){const l=new r.Readable,f=s.type==="bindings"?s.bindingsStream:s.quadStream,d=s.context.getSafe(t.KeysInitQuery.queryTimestampHighResolution);let h=1;function*p(g){yield g()}const _=(0,n.wrap)(f).map(()=>this.createStat(d,h++)).prepend([this.createSpecialLine("PLANNING",d)]).append((0,n.wrap)(p(()=>this.createSpecialLine("TOTAL",d))));return this.pushHeader(l),l.wrap(_),{data:l}}now(){return performance.now()}delay(s){return this.now()-s}};return gS.ActorQueryResultSerializeStats=e,gS}var YZ;function ZZ(){return YZ||(YZ=1,function(a){var t=Wd&&Wd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Wd&&Wd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Cve(),a),o(Bve(),a)}(Wd)),Wd}var Jd={},vS={},Kd={},TS={},eee;function $ve(){if(eee)return TS;eee=1,Object.defineProperty(TS,"__esModule",{value:!0}),TS.ActorQuerySourceIdentifyHypermedia=void 0;const a=De();class t extends a.Actor{constructor(n,r){super(n),this.sourceType=r}async test(n){return n.forceSourceType&&this.sourceType!==n.forceSourceType?(0,a.failTest)(`Actor ${this.name} is not able to handle source type ${n.forceSourceType}.`):this.testMetadata(n)}}return TS.ActorQuerySourceIdentifyHypermedia=t,TS}var tee;function LN(){return tee||(tee=1,function(a){var t=Kd&&Kd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Kd&&Kd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o($ve(),a)}(Kd)),Kd}var wS={},Yd={},SS={},ree;function Uve(){if(ree)return SS;ree=1,Object.defineProperty(SS,"__esModule",{value:!0}),SS.ActorQuerySourceIdentify=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}};return SS.ActorQuerySourceIdentify=t,SS}var Rr={},nee;function Vve(){if(nee)return Rr;nee=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.filterMatchingQuotedQuads=Rr.quadsOrderToBindingsOrder=Rr.quadsMetadataToBindingsMetadata=Rr.setMetadata=Rr.getDuplicateElementLinks=Rr.getVariables=Rr.isTermVariable=Rr.quadsToBindings=void 0;const a=Sa(),t=Nr(),o=$t(),n=Mr(),r=QL();function e(h,p,_,g,y){const m=s(p),b=p.graph.termType==="Variable"&&!y,T=c(p),w=(0,n.reduceTermsNested)(p,(Q,j,x)=>(j.termType==="Variable"&&(Q[x.join("_")]=j.value),Q),{});let O=h;b&&(O=O.filter(Q=>Q.graph.termType!=="DefaultGraph")),T&&(O=O.filter(Q=>{for(const j in T){const x=j.split("_"),I=(0,n.getValueNestedPath)(Q,x);for(const D of T[j])if(!I.equals((0,n.getValueNestedPath)(Q,D)))return!1}return!0}));const F=new a.ClosableIterator(O.map(Q=>g.bindings(Object.keys(w).map(j=>{const x=j.split("_"),I=w[j],D=(0,n.getValueNestedPath)(Q,x);return[_.variable(I),D]}))),{onClose:()=>h.destroy()});return u(_,F,h,w,m,b||!!T),F}Rr.quadsToBindings=e;function i(h){return h.termType==="Variable"}Rr.isTermVariable=i;function s(h){return(0,n.uniqTerms)((0,n.getTermsNested)(h).filter(i))}Rr.getVariables=s;function c(h){const p={};let _=!1;if((0,n.forEachTermsNested)(h,(y,m)=>{if(y.termType==="Variable"){const b=(0,o.termToString)(y),T=(p[b]||(p[b]=[])).push(m);_=_||T>1}}),!_)return;const g={};for(const y in p){const m=p[y],b=m.slice(1);b.length>0&&(g[m[0].join("_")]=b)}return g}Rr.getDuplicateElementLinks=c;function u(h,p,_,g,y,m){const b=w=>{m&&(w.cardinality.type="estimate"),p.setProperty("metadata",l(h,(0,t.validateMetadataQuads)(w),g,y)),w.state&&w.state.addInvalidateListener(()=>{u(h,p,_,g,y,m)})},T=_.getProperty("metadata");T?b(T):_.getProperty("metadata",b)}Rr.setMetadata=u;function l(h,p,_,g){return{...p,order:p.order?f(h,p.order,_):void 0,availableOrders:p.availableOrders?p.availableOrders.map(y=>({cost:y.cost,terms:f(h,y.terms,_)})):void 0,variables:g.map(y=>({variable:y,canBeUndef:!1}))}}Rr.quadsMetadataToBindingsMetadata=l;function f(h,p,_){const g={};return p.map(y=>{const m=_[y.term];if(m&&!g[m])return g[m]=!0,{term:h.variable(m),direction:y.direction}}).filter(Boolean)}Rr.quadsOrderToBindingsOrder=f;function d(h,p){return(0,n.someTerms)(h,_=>_.termType==="Quad")&&(p=p.filter(_=>(0,r.matchPatternMappings)(_,h))),p}return Rr.filterMatchingQuotedQuads=d,Rr}var iee;function OS(){return iee||(iee=1,function(a){var t=Yd&&Yd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Yd&&Yd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Uve(),a),o(Vve(),a)}(Yd)),Yd}var aee;function oee(){if(aee)return wS;aee=1,Object.defineProperty(wS,"__esModule",{value:!0}),wS.QuerySourceQpf=void 0;const a=OS(),t=tt(),o=Nr(),n=Tt(),r=$t(),e=W1(),i=Mr();let s=class{constructor(l,f,d,h,p,_,g,y,m,b,T,w,O,F){if(this.referenceValue=T,this.mediatorMetadata=l,this.mediatorMetadataExtract=f,this.mediatorDereferenceRdf=d,this.dataFactory=h,this.algebraFactory=p,this.bindingsFactory=_,this.subjectUri=g,this.predicateUri=y,this.objectUri=m,this.graphUri=b,this.url=T,this.bindingsRestricted=O,this.cachedQuads={},this.searchForm=this.getSearchForm(w),this.defaultGraph=w.defaultGraph?this.dataFactory.namedNode(w.defaultGraph):void 0,F){let Q=(0,n.wrap)(F);this.defaultGraph&&(Q=this.reverseMapQuadsToDefaultGraph(Q)),w={...w,state:new o.MetadataValidationState},Q.setProperty("metadata",w),this.cacheQuads(Q,this.dataFactory.variable(""),this.dataFactory.variable(""),this.dataFactory.variable(""),this.dataFactory.variable(""))}this.selectorShape=this.bindingsRestricted?{type:"operation",operation:{operationType:"pattern",pattern:this.algebraFactory.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g"))},variablesOptional:[this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g")],filterBindings:!0}:{type:"operation",operation:{operationType:"pattern",pattern:this.algebraFactory.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g"))},variablesOptional:[this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g")]}}async getSelectorShape(){return this.selectorShape}queryBindings(l,f,d){if(l.type!=="pattern")throw new Error(`Attempted to pass non-pattern operation '${l.type}' to QuerySourceQpf`);const h=!!f.get(t.KeysQueryOperation.unionDefaultGraph);let p=this.match(l.subject,l.predicate,l.object,l.graph,h,f,d);return p=(0,a.filterMatchingQuotedQuads)(l,p),(0,a.quadsToBindings)(p,l,this.dataFactory,this.bindingsFactory,h)}getSearchForm(l){if(!l.searchForms||!l.searchForms.values)return;const{searchForms:f}=l;for(const d of f.values)if(this.graphUri&&this.subjectUri in d.mappings&&this.predicateUri in d.mappings&&this.objectUri in d.mappings&&this.graphUri in d.mappings&&Object.keys(d.mappings).length===4||this.subjectUri in d.mappings&&this.predicateUri in d.mappings&&this.objectUri in d.mappings&&Object.keys(d.mappings).length===3)return d}createFragmentUri(l,f,d,h,p){const _={},g=[{uri:this.subjectUri,term:f},{uri:this.predicateUri,term:d},{uri:this.objectUri,term:h},{uri:this.graphUri,term:p}];for(const y of g)y.uri&&(this.bindingsRestricted||y.term.termType!=="Variable"&&(y.term.termType!=="Quad"||(0,i.everyTermsNested)(y.term,m=>m.termType!=="Variable")))&&(_[y.uri]=(0,r.termToString)(y.term));return l.getUri(_)}match(l,f,d,h,p,_,g){let y=!1;if(h.termType==="DefaultGraph")if(this.defaultGraph)y=!0,h=this.defaultGraph;else if(Object.keys(this.searchForm.mappings).length===4&&!this.defaultGraph)if(p)h=this.dataFactory.variable("g");else{const w=new n.ArrayIterator([],{autoStart:!1});return w.setProperty("metadata",{state:new o.MetadataValidationState,requestTime:0,cardinality:{type:"exact",value:0},first:null,next:null,last:null}),w}else Object.keys(this.searchForm.mappings).length===3&&(h=this.dataFactory.variable("g"));if(!(g!=null&&g.filterBindings)){const w=this.getCachedQuads(l,f,d,h);if(w)return w}const m=this;let b;const T=async function(){var j;let w=m.createFragmentUri(m.searchForm,l,f,d,h);g!=null&&g.filterBindings&&(w=await m.getBindingsRestrictedLink(l,f,d,h,w,g.filterBindings));const O=await m.mediatorDereferenceRdf.mediate({context:_,url:w});w=O.url;const F=await m.mediatorMetadata.mediate({context:_,url:w,quads:O.data,triples:(j=O.metadata)==null?void 0:j.triples}),{metadata:Q}=await m.mediatorMetadataExtract.mediate({context:_,url:w,metadata:F.metadata,requestTime:O.requestTime});return b.setProperty("metadata",{...Q,state:new o.MetadataValidationState,subsetOf:m.url}),F.data}();return b=new n.TransformIterator(async()=>{const w=await T,O=this.dataFactory.defaultGraph();let F=(0,n.wrap)(w).transform({filter(Q){return(0,i.matchPattern)(Q,l,f,d,h)?!0:y&&(0,i.matchPattern)(Q,l,f,d,O)}});return(y||h.termType==="Variable")&&(F=this.reverseMapQuadsToDefaultGraph(F)),F},{autoStart:!1}),g!=null&&g.filterBindings?b:(this.cacheQuads(b,l,f,d,h),this.getCachedQuads(l,f,d,h))}async getBindingsRestrictedLink(l,f,d,h,p,_){const g=[];for(const m of await _.bindings.toArray()){const b=["("];for(const T of _.metadata.variables){const w=m.get(T.variable);b.push(w?(0,e.termToString)(w):"UNDEF"),b.push(" ")}b.push(")"),g.push(b.join(""))}g.length===0&&g.push("(<ex:comunica:unknown>)");const y=encodeURIComponent(`(${_.metadata.variables.map(m=>`?${m.variable.value}`).join(" ")}) { ${g.join(" ")} }`);return`${p}&values=${y}`}reverseMapQuadsToDefaultGraph(l){const f=this.dataFactory.defaultGraph();return l.map(d=>(0,i.mapTerms)(d,(h,p)=>p==="graph"&&h.equals(this.defaultGraph)?f:h))}getPatternId(l,f,d,h){return JSON.stringify({s:l.termType==="Variable"?"":c(l),p:f.termType==="Variable"?"":c(f),o:d.termType==="Variable"?"":c(d),g:h.termType==="Variable"?"":c(h)})}cacheQuads(l,f,d,h,p){const _=this.getPatternId(f,d,h,p);this.cachedQuads[_]=l.clone()}getCachedQuads(l,f,d,h){const p=this.getPatternId(l,f,d,h),_=this.cachedQuads[p];if(_)return _.clone()}queryQuads(l,f){throw new Error("queryQuads is not implemented in QuerySourceQpf")}queryBoolean(l,f){throw new Error("queryBoolean is not implemented in QuerySourceQpf")}queryVoid(l,f){throw new Error("queryVoid is not implemented in QuerySourceQpf")}};wS.QuerySourceQpf=s;function c(u){return u.termType==="DefaultGraph"?"|":(0,r.termToString)(u)}return wS}var see;function Qve(){if(see)return vS;see=1,Object.defineProperty(vS,"__esModule",{value:!0}),vS.ActorQuerySourceIdentifyHypermediaQpf=void 0;const a=LN(),t=tt(),o=De(),n=kt(),r=mt(),e=oee();let i=class extends a.ActorQuerySourceIdentifyHypermedia{constructor(c){super(c,"qpf")}async test(c){return c.forceSourceType&&c.forceSourceType!=="qpf"&&c.forceSourceType!=="brtpf"?(0,o.failTest)(`Actor ${this.name} is not able to handle source type ${c.forceSourceType}.`):this.testMetadata(c)}async testMetadata(c){const{searchForm:u}=await this.createSource(c.url,c.metadata,c.context,c.forceSourceType==="brtpf");return u?c.handledDatasets&&c.handledDatasets[u.dataset]?(0,o.failTest)(`Actor ${this.name} can only be applied for the first page of a QPF dataset.`):(0,o.passTest)({filterFactor:1}):(0,o.failTest)("Illegal state: found no TPF/QPF search form anymore in metadata.")}async run(c){this.logInfo(c.context,`Identified as qpf source: ${c.url}`);const u=await this.createSource(c.url,c.metadata,c.context,c.forceSourceType==="brtpf",c.quads);return{source:u,dataset:u.searchForm.dataset}}async createSource(c,u,l,f,d){const h=l.getSafe(t.KeysInitQuery.dataFactory),p=new r.Factory(h);return new e.QuerySourceQpf(this.mediatorMetadata,this.mediatorMetadataExtract,this.mediatorDereferenceRdf,h,p,await n.BindingsFactory.create(this.mediatorMergeBindingsContext,l,h),this.subjectUri,this.predicateUri,this.objectUri,this.graphUri,c,u,f,d)}};return vS.ActorQuerySourceIdentifyHypermediaQpf=i,vS}var uee;function Hve(){return uee||(uee=1,function(a){var t=Jd&&Jd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Jd&&Jd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Qve(),a),o(oee(),a)}(Jd)),Jd}var Zd={},AS={},ES={},xS={},cee;function Gve(){var d,h,_,g,y,m,b,T,w,O,F,Q,j,x,I,D,C,X,z,J,ie,se,ye,K,Te,Ne,_e,$,u6,qe,Ce,xe,we,Rae,M,B,R,Ja,Ka,c6,tx,rx,ar,l6,wO,Ya,d6;if(cee)return xS;cee=1,Object.defineProperty(xS,"__esModule",{value:!0}),xS.LRUCache=void 0;const a=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,t=new Set,o=typeof xr=="object"&&xr?xr:{},n=(Ae,A,E,P)=>{typeof o.emitWarning=="function"?o.emitWarning(Ae,A,E,P):console.error(`[${E}] ${A}: ${Ae}`)};let r=globalThis.AbortController,e=globalThis.AbortSignal;if(typeof r>"u"){e=class{constructor(){We(this,"onabort");We(this,"_onabort",[]);We(this,"reason");We(this,"aborted",!1)}addEventListener(P,k){this._onabort.push(k)}},r=class{constructor(){We(this,"signal",new e);A()}abort(P){var k,N;if(!this.signal.aborted){this.signal.reason=P,this.signal.aborted=!0;for(const S of this.signal._onabort)S(P);(N=(k=this.signal).onabort)==null||N.call(k,P)}}};let Ae=((d=o.env)==null?void 0:d.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const A=()=>{Ae&&(Ae=!1,n("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",A))}}const i=Ae=>!t.has(Ae),s=Ae=>Ae&&Ae===Math.floor(Ae)&&Ae>0&&isFinite(Ae),c=Ae=>s(Ae)?Ae<=Math.pow(2,8)?Uint8Array:Ae<=Math.pow(2,16)?Uint16Array:Ae<=Math.pow(2,32)?Uint32Array:Ae<=Number.MAX_SAFE_INTEGER?u:null:null;class u extends Array{constructor(A){super(A),this.fill(0)}}const p=class p{constructor(A,E){We(this,"heap");We(this,"length");if(!v(p,h))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new E(A),this.length=0}static create(A){const E=c(A);if(!E)return[];be(p,h,!0);const P=new p(A,E);return be(p,h,!1),P}push(A){this.heap[this.length++]=A}pop(){return this.heap[--this.length]}};h=new WeakMap,Le(p,h,!1);let l=p;const ke=class ke{constructor(A){Le(this,$);Le(this,y);Le(this,m);Le(this,b);Le(this,T);Le(this,w);Le(this,O);We(this,"ttl");We(this,"ttlResolution");We(this,"ttlAutopurge");We(this,"updateAgeOnGet");We(this,"updateAgeOnHas");We(this,"allowStale");We(this,"noDisposeOnSet");We(this,"noUpdateTTL");We(this,"maxEntrySize");We(this,"sizeCalculation");We(this,"noDeleteOnFetchRejection");We(this,"noDeleteOnStaleGet");We(this,"allowStaleOnFetchAbort");We(this,"allowStaleOnFetchRejection");We(this,"ignoreFetchAbort");Le(this,F);Le(this,Q);Le(this,j);Le(this,x);Le(this,I);Le(this,D);Le(this,C);Le(this,X);Le(this,z);Le(this,J);Le(this,ie);Le(this,se);Le(this,ye);Le(this,K);Le(this,Te);Le(this,Ne);Le(this,_e);Le(this,qe,()=>{});Le(this,Ce,()=>{});Le(this,xe,()=>{});Le(this,we,()=>!1);Le(this,M,A=>{});Le(this,B,(A,E,P)=>{});Le(this,R,(A,E,P,k)=>{if(P||k)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});We(this,_,"LRUCache");const{max:E=0,ttl:P,ttlResolution:k=1,ttlAutopurge:N,updateAgeOnGet:S,updateAgeOnHas:L,allowStale:U,dispose:Z,disposeAfter:me,noDisposeOnSet:pe,noUpdateTTL:Xe,maxSize:ne=0,maxEntrySize:Ie=0,sizeCalculation:ve,fetchMethod:Re,memoMethod:ce,noDeleteOnFetchRejection:Pe,noDeleteOnStaleGet:ze,allowStaleOnFetchRejection:Ue,allowStaleOnFetchAbort:Ye,ignoreFetchAbort:fe}=A;if(E!==0&&!s(E))throw new TypeError("max option must be a nonnegative integer");const H=E?c(E):Array;if(!H)throw new Error("invalid max value: "+E);if(be(this,y,E),be(this,m,ne),this.maxEntrySize=Ie||v(this,m),this.sizeCalculation=ve,this.sizeCalculation){if(!v(this,m)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(ce!==void 0&&typeof ce!="function")throw new TypeError("memoMethod must be a function if defined");if(be(this,O,ce),Re!==void 0&&typeof Re!="function")throw new TypeError("fetchMethod must be a function if specified");if(be(this,w,Re),be(this,Ne,!!Re),be(this,j,new Map),be(this,x,new Array(E).fill(void 0)),be(this,I,new Array(E).fill(void 0)),be(this,D,new H(E)),be(this,C,new H(E)),be(this,X,0),be(this,z,0),be(this,J,l.create(E)),be(this,F,0),be(this,Q,0),typeof Z=="function"&&be(this,b,Z),typeof me=="function"?(be(this,T,me),be(this,ie,[])):(be(this,T,void 0),be(this,ie,void 0)),be(this,Te,!!v(this,b)),be(this,_e,!!v(this,T)),this.noDisposeOnSet=!!pe,this.noUpdateTTL=!!Xe,this.noDeleteOnFetchRejection=!!Pe,this.allowStaleOnFetchRejection=!!Ue,this.allowStaleOnFetchAbort=!!Ye,this.ignoreFetchAbort=!!fe,this.maxEntrySize!==0){if(v(this,m)!==0&&!s(v(this,m)))throw new TypeError("maxSize must be a positive integer if specified");if(!s(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");ae(this,$,Rae).call(this)}if(this.allowStale=!!U,this.noDeleteOnStaleGet=!!ze,this.updateAgeOnGet=!!S,this.updateAgeOnHas=!!L,this.ttlResolution=s(k)||k===0?k:1,this.ttlAutopurge=!!N,this.ttl=P||0,this.ttl){if(!s(this.ttl))throw new TypeError("ttl must be a positive integer if specified");ae(this,$,u6).call(this)}if(v(this,y)===0&&this.ttl===0&&v(this,m)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!v(this,y)&&!v(this,m)){const V="LRU_CACHE_UNBOUNDED";i(V)&&(t.add(V),n("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",V,ke))}}static unsafeExposeInternals(A){return{starts:v(A,ye),ttls:v(A,K),sizes:v(A,se),keyMap:v(A,j),keyList:v(A,x),valList:v(A,I),next:v(A,D),prev:v(A,C),get head(){return v(A,X)},get tail(){return v(A,z)},free:v(A,J),isBackgroundFetch:E=>{var P;return ae(P=A,$,ar).call(P,E)},backgroundFetch:(E,P,k,N)=>{var S;return ae(S=A,$,rx).call(S,E,P,k,N)},moveToTail:E=>{var P;return ae(P=A,$,wO).call(P,E)},indexes:E=>{var P;return ae(P=A,$,Ja).call(P,E)},rindexes:E=>{var P;return ae(P=A,$,Ka).call(P,E)},isStale:E=>{var P;return v(P=A,we).call(P,E)}}}get max(){return v(this,y)}get maxSize(){return v(this,m)}get calculatedSize(){return v(this,Q)}get size(){return v(this,F)}get fetchMethod(){return v(this,w)}get memoMethod(){return v(this,O)}get dispose(){return v(this,b)}get disposeAfter(){return v(this,T)}getRemainingTTL(A){return v(this,j).has(A)?1/0:0}*entries(){for(const A of ae(this,$,Ja).call(this))v(this,I)[A]!==void 0&&v(this,x)[A]!==void 0&&!ae(this,$,ar).call(this,v(this,I)[A])&&(yield[v(this,x)[A],v(this,I)[A]])}*rentries(){for(const A of ae(this,$,Ka).call(this))v(this,I)[A]!==void 0&&v(this,x)[A]!==void 0&&!ae(this,$,ar).call(this,v(this,I)[A])&&(yield[v(this,x)[A],v(this,I)[A]])}*keys(){for(const A of ae(this,$,Ja).call(this)){const E=v(this,x)[A];E!==void 0&&!ae(this,$,ar).call(this,v(this,I)[A])&&(yield E)}}*rkeys(){for(const A of ae(this,$,Ka).call(this)){const E=v(this,x)[A];E!==void 0&&!ae(this,$,ar).call(this,v(this,I)[A])&&(yield E)}}*values(){for(const A of ae(this,$,Ja).call(this))v(this,I)[A]!==void 0&&!ae(this,$,ar).call(this,v(this,I)[A])&&(yield v(this,I)[A])}*rvalues(){for(const A of ae(this,$,Ka).call(this))v(this,I)[A]!==void 0&&!ae(this,$,ar).call(this,v(this,I)[A])&&(yield v(this,I)[A])}[(g=Symbol.iterator,_=Symbol.toStringTag,g)](){return this.entries()}find(A,E={}){for(const P of ae(this,$,Ja).call(this)){const k=v(this,I)[P],N=ae(this,$,ar).call(this,k)?k.__staleWhileFetching:k;if(N!==void 0&&A(N,v(this,x)[P],this))return this.get(v(this,x)[P],E)}}forEach(A,E=this){for(const P of ae(this,$,Ja).call(this)){const k=v(this,I)[P],N=ae(this,$,ar).call(this,k)?k.__staleWhileFetching:k;N!==void 0&&A.call(E,N,v(this,x)[P],this)}}rforEach(A,E=this){for(const P of ae(this,$,Ka).call(this)){const k=v(this,I)[P],N=ae(this,$,ar).call(this,k)?k.__staleWhileFetching:k;N!==void 0&&A.call(E,N,v(this,x)[P],this)}}purgeStale(){let A=!1;for(const E of ae(this,$,Ka).call(this,{allowStale:!0}))v(this,we).call(this,E)&&(ae(this,$,Ya).call(this,v(this,x)[E],"expire"),A=!0);return A}info(A){const E=v(this,j).get(A);if(E===void 0)return;const P=v(this,I)[E],k=ae(this,$,ar).call(this,P)?P.__staleWhileFetching:P;if(k===void 0)return;const N={value:k};if(v(this,K)&&v(this,ye)){const S=v(this,K)[E],L=v(this,ye)[E];if(S&&L){const U=S-(a.now()-L);N.ttl=U,N.start=Date.now()}}return v(this,se)&&(N.size=v(this,se)[E]),N}dump(){const A=[];for(const E of ae(this,$,Ja).call(this,{allowStale:!0})){const P=v(this,x)[E],k=v(this,I)[E],N=ae(this,$,ar).call(this,k)?k.__staleWhileFetching:k;if(N===void 0||P===void 0)continue;const S={value:N};if(v(this,K)&&v(this,ye)){S.ttl=v(this,K)[E];const L=a.now()-v(this,ye)[E];S.start=Math.floor(Date.now()-L)}v(this,se)&&(S.size=v(this,se)[E]),A.unshift([P,S])}return A}load(A){this.clear();for(const[E,P]of A){if(P.start){const k=Date.now()-P.start;P.start=a.now()-k}this.set(E,P.value,P)}}set(A,E,P={}){var Xe,ne,Ie,ve,Re;if(E===void 0)return this.delete(A),this;const{ttl:k=this.ttl,start:N,noDisposeOnSet:S=this.noDisposeOnSet,sizeCalculation:L=this.sizeCalculation,status:U}=P;let{noUpdateTTL:Z=this.noUpdateTTL}=P;const me=v(this,R).call(this,A,E,P.size||0,L);if(this.maxEntrySize&&me>this.maxEntrySize)return U&&(U.set="miss",U.maxEntrySizeExceeded=!0),ae(this,$,Ya).call(this,A,"set"),this;let pe=v(this,F)===0?void 0:v(this,j).get(A);if(pe===void 0)pe=v(this,F)===0?v(this,z):v(this,J).length!==0?v(this,J).pop():v(this,F)===v(this,y)?ae(this,$,tx).call(this,!1):v(this,F),v(this,x)[pe]=A,v(this,I)[pe]=E,v(this,j).set(A,pe),v(this,D)[v(this,z)]=pe,v(this,C)[pe]=v(this,z),be(this,z,pe),Fr(this,F)._++,v(this,B).call(this,pe,me,U),U&&(U.set="add"),Z=!1;else{ae(this,$,wO).call(this,pe);const ce=v(this,I)[pe];if(E!==ce){if(v(this,Ne)&&ae(this,$,ar).call(this,ce)){ce.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:Pe}=ce;Pe!==void 0&&!S&&(v(this,Te)&&((Xe=v(this,b))==null||Xe.call(this,Pe,A,"set")),v(this,_e)&&((ne=v(this,ie))==null||ne.push([Pe,A,"set"])))}else S||(v(this,Te)&&((Ie=v(this,b))==null||Ie.call(this,ce,A,"set")),v(this,_e)&&((ve=v(this,ie))==null||ve.push([ce,A,"set"])));if(v(this,M).call(this,pe),v(this,B).call(this,pe,me,U),v(this,I)[pe]=E,U){U.set="replace";const Pe=ce&&ae(this,$,ar).call(this,ce)?ce.__staleWhileFetching:ce;Pe!==void 0&&(U.oldValue=Pe)}}else U&&(U.set="update")}if(k!==0&&!v(this,K)&&ae(this,$,u6).call(this),v(this,K)&&(Z||v(this,xe).call(this,pe,k,N),U&&v(this,Ce).call(this,U,pe)),!S&&v(this,_e)&&v(this,ie)){const ce=v(this,ie);let Pe;for(;Pe=ce==null?void 0:ce.shift();)(Re=v(this,T))==null||Re.call(this,...Pe)}return this}pop(){var A;try{for(;v(this,F);){const E=v(this,I)[v(this,X)];if(ae(this,$,tx).call(this,!0),ae(this,$,ar).call(this,E)){if(E.__staleWhileFetching)return E.__staleWhileFetching}else if(E!==void 0)return E}}finally{if(v(this,_e)&&v(this,ie)){const E=v(this,ie);let P;for(;P=E==null?void 0:E.shift();)(A=v(this,T))==null||A.call(this,...P)}}}has(A,E={}){const{updateAgeOnHas:P=this.updateAgeOnHas,status:k}=E,N=v(this,j).get(A);if(N!==void 0){const S=v(this,I)[N];if(ae(this,$,ar).call(this,S)&&S.__staleWhileFetching===void 0)return!1;if(v(this,we).call(this,N))k&&(k.has="stale",v(this,Ce).call(this,k,N));else return P&&v(this,qe).call(this,N),k&&(k.has="hit",v(this,Ce).call(this,k,N)),!0}else k&&(k.has="miss");return!1}peek(A,E={}){const{allowStale:P=this.allowStale}=E,k=v(this,j).get(A);if(k===void 0||!P&&v(this,we).call(this,k))return;const N=v(this,I)[k];return ae(this,$,ar).call(this,N)?N.__staleWhileFetching:N}async fetch(A,E={}){const{allowStale:P=this.allowStale,updateAgeOnGet:k=this.updateAgeOnGet,noDeleteOnStaleGet:N=this.noDeleteOnStaleGet,ttl:S=this.ttl,noDisposeOnSet:L=this.noDisposeOnSet,size:U=0,sizeCalculation:Z=this.sizeCalculation,noUpdateTTL:me=this.noUpdateTTL,noDeleteOnFetchRejection:pe=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Xe=this.allowStaleOnFetchRejection,ignoreFetchAbort:ne=this.ignoreFetchAbort,allowStaleOnFetchAbort:Ie=this.allowStaleOnFetchAbort,context:ve,forceRefresh:Re=!1,status:ce,signal:Pe}=E;if(!v(this,Ne))return ce&&(ce.fetch="get"),this.get(A,{allowStale:P,updateAgeOnGet:k,noDeleteOnStaleGet:N,status:ce});const ze={allowStale:P,updateAgeOnGet:k,noDeleteOnStaleGet:N,ttl:S,noDisposeOnSet:L,size:U,sizeCalculation:Z,noUpdateTTL:me,noDeleteOnFetchRejection:pe,allowStaleOnFetchRejection:Xe,allowStaleOnFetchAbort:Ie,ignoreFetchAbort:ne,status:ce,signal:Pe};let Ue=v(this,j).get(A);if(Ue===void 0){ce&&(ce.fetch="miss");const Ye=ae(this,$,rx).call(this,A,Ue,ze,ve);return Ye.__returned=Ye}else{const Ye=v(this,I)[Ue];if(ae(this,$,ar).call(this,Ye)){const oe=P&&Ye.__staleWhileFetching!==void 0;return ce&&(ce.fetch="inflight",oe&&(ce.returnedStale=!0)),oe?Ye.__staleWhileFetching:Ye.__returned=Ye}const fe=v(this,we).call(this,Ue);if(!Re&&!fe)return ce&&(ce.fetch="hit"),ae(this,$,wO).call(this,Ue),k&&v(this,qe).call(this,Ue),ce&&v(this,Ce).call(this,ce,Ue),Ye;const H=ae(this,$,rx).call(this,A,Ue,ze,ve),G=H.__staleWhileFetching!==void 0&&P;return ce&&(ce.fetch=fe?"stale":"refresh",G&&fe&&(ce.returnedStale=!0)),G?H.__staleWhileFetching:H.__returned=H}}async forceFetch(A,E={}){const P=await this.fetch(A,E);if(P===void 0)throw new Error("fetch() returned undefined");return P}memo(A,E={}){const P=v(this,O);if(!P)throw new Error("no memoMethod provided to constructor");const{context:k,forceRefresh:N,...S}=E,L=this.get(A,S);if(!N&&L!==void 0)return L;const U=P(A,L,{options:S,context:k});return this.set(A,U,S),U}get(A,E={}){const{allowStale:P=this.allowStale,updateAgeOnGet:k=this.updateAgeOnGet,noDeleteOnStaleGet:N=this.noDeleteOnStaleGet,status:S}=E,L=v(this,j).get(A);if(L!==void 0){const U=v(this,I)[L],Z=ae(this,$,ar).call(this,U);return S&&v(this,Ce).call(this,S,L),v(this,we).call(this,L)?(S&&(S.get="stale"),Z?(S&&P&&U.__staleWhileFetching!==void 0&&(S.returnedStale=!0),P?U.__staleWhileFetching:void 0):(N||ae(this,$,Ya).call(this,A,"expire"),S&&P&&(S.returnedStale=!0),P?U:void 0)):(S&&(S.get="hit"),Z?U.__staleWhileFetching:(ae(this,$,wO).call(this,L),k&&v(this,qe).call(this,L),U))}else S&&(S.get="miss")}delete(A){return ae(this,$,Ya).call(this,A,"delete")}clear(){return ae(this,$,d6).call(this,"delete")}};y=new WeakMap,m=new WeakMap,b=new WeakMap,T=new WeakMap,w=new WeakMap,O=new WeakMap,F=new WeakMap,Q=new WeakMap,j=new WeakMap,x=new WeakMap,I=new WeakMap,D=new WeakMap,C=new WeakMap,X=new WeakMap,z=new WeakMap,J=new WeakMap,ie=new WeakMap,se=new WeakMap,ye=new WeakMap,K=new WeakMap,Te=new WeakMap,Ne=new WeakMap,_e=new WeakMap,$=new WeakSet,u6=function(){const A=new u(v(this,y)),E=new u(v(this,y));be(this,K,A),be(this,ye,E),be(this,xe,(N,S,L=a.now())=>{if(E[N]=S!==0?L:0,A[N]=S,S!==0&&this.ttlAutopurge){const U=setTimeout(()=>{v(this,we).call(this,N)&&ae(this,$,Ya).call(this,v(this,x)[N],"expire")},S+1);U.unref&&U.unref()}}),be(this,qe,N=>{E[N]=A[N]!==0?a.now():0}),be(this,Ce,(N,S)=>{if(A[S]){const L=A[S],U=E[S];if(!L||!U)return;N.ttl=L,N.start=U,N.now=P||k();const Z=N.now-U;N.remainingTTL=L-Z}});let P=0;const k=()=>{const N=a.now();if(this.ttlResolution>0){P=N;const S=setTimeout(()=>P=0,this.ttlResolution);S.unref&&S.unref()}return N};this.getRemainingTTL=N=>{const S=v(this,j).get(N);if(S===void 0)return 0;const L=A[S],U=E[S];if(!L||!U)return 1/0;const Z=(P||k())-U;return L-Z},be(this,we,N=>{const S=E[N],L=A[N];return!!L&&!!S&&(P||k())-S>L})},qe=new WeakMap,Ce=new WeakMap,xe=new WeakMap,we=new WeakMap,Rae=function(){const A=new u(v(this,y));be(this,Q,0),be(this,se,A),be(this,M,E=>{be(this,Q,v(this,Q)-A[E]),A[E]=0}),be(this,R,(E,P,k,N)=>{if(ae(this,$,ar).call(this,P))return 0;if(!s(k))if(N){if(typeof N!="function")throw new TypeError("sizeCalculation must be a function");if(k=N(P,E),!s(k))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return k}),be(this,B,(E,P,k)=>{if(A[E]=P,v(this,m)){const N=v(this,m)-A[E];for(;v(this,Q)>N;)ae(this,$,tx).call(this,!0)}be(this,Q,v(this,Q)+A[E]),k&&(k.entrySize=P,k.totalCalculatedSize=v(this,Q))})},M=new WeakMap,B=new WeakMap,R=new WeakMap,Ja=function*({allowStale:A=this.allowStale}={}){if(v(this,F))for(let E=v(this,z);!(!ae(this,$,c6).call(this,E)||((A||!v(this,we).call(this,E))&&(yield E),E===v(this,X)));)E=v(this,C)[E]},Ka=function*({allowStale:A=this.allowStale}={}){if(v(this,F))for(let E=v(this,X);!(!ae(this,$,c6).call(this,E)||((A||!v(this,we).call(this,E))&&(yield E),E===v(this,z)));)E=v(this,D)[E]},c6=function(A){return A!==void 0&&v(this,j).get(v(this,x)[A])===A},tx=function(A){var N,S;const E=v(this,X),P=v(this,x)[E],k=v(this,I)[E];return v(this,Ne)&&ae(this,$,ar).call(this,k)?k.__abortController.abort(new Error("evicted")):(v(this,Te)||v(this,_e))&&(v(this,Te)&&((N=v(this,b))==null||N.call(this,k,P,"evict")),v(this,_e)&&((S=v(this,ie))==null||S.push([k,P,"evict"]))),v(this,M).call(this,E),A&&(v(this,x)[E]=void 0,v(this,I)[E]=void 0,v(this,J).push(E)),v(this,F)===1?(be(this,X,be(this,z,0)),v(this,J).length=0):be(this,X,v(this,D)[E]),v(this,j).delete(P),Fr(this,F)._--,E},rx=function(A,E,P,k){const N=E===void 0?void 0:v(this,I)[E];if(ae(this,$,ar).call(this,N))return N;const S=new r,{signal:L}=P;L==null||L.addEventListener("abort",()=>S.abort(L.reason),{signal:S.signal});const U={signal:S.signal,options:P,context:k},Z=(ve,Re=!1)=>{const{aborted:ce}=S.signal,Pe=P.ignoreFetchAbort&&ve!==void 0;if(P.status&&(ce&&!Re?(P.status.fetchAborted=!0,P.status.fetchError=S.signal.reason,Pe&&(P.status.fetchAbortIgnored=!0)):P.status.fetchResolved=!0),ce&&!Pe&&!Re)return pe(S.signal.reason);const ze=ne;return v(this,I)[E]===ne&&(ve===void 0?ze.__staleWhileFetching?v(this,I)[E]=ze.__staleWhileFetching:ae(this,$,Ya).call(this,A,"fetch"):(P.status&&(P.status.fetchUpdated=!0),this.set(A,ve,U.options))),ve},me=ve=>(P.status&&(P.status.fetchRejected=!0,P.status.fetchError=ve),pe(ve)),pe=ve=>{const{aborted:Re}=S.signal,ce=Re&&P.allowStaleOnFetchAbort,Pe=ce||P.allowStaleOnFetchRejection,ze=Pe||P.noDeleteOnFetchRejection,Ue=ne;if(v(this,I)[E]===ne&&(!ze||Ue.__staleWhileFetching===void 0?ae(this,$,Ya).call(this,A,"fetch"):ce||(v(this,I)[E]=Ue.__staleWhileFetching)),Pe)return P.status&&Ue.__staleWhileFetching!==void 0&&(P.status.returnedStale=!0),Ue.__staleWhileFetching;if(Ue.__returned===Ue)throw ve},Xe=(ve,Re)=>{var Pe;const ce=(Pe=v(this,w))==null?void 0:Pe.call(this,A,N,U);ce&&ce instanceof Promise&&ce.then(ze=>ve(ze===void 0?void 0:ze),Re),S.signal.addEventListener("abort",()=>{(!P.ignoreFetchAbort||P.allowStaleOnFetchAbort)&&(ve(void 0),P.allowStaleOnFetchAbort&&(ve=ze=>Z(ze,!0)))})};P.status&&(P.status.fetchDispatched=!0);const ne=new Promise(Xe).then(Z,me),Ie=Object.assign(ne,{__abortController:S,__staleWhileFetching:N,__returned:void 0});return E===void 0?(this.set(A,Ie,{...U.options,status:void 0}),E=v(this,j).get(A)):v(this,I)[E]=Ie,Ie},ar=function(A){if(!v(this,Ne))return!1;const E=A;return!!E&&E instanceof Promise&&E.hasOwnProperty("__staleWhileFetching")&&E.__abortController instanceof r},l6=function(A,E){v(this,C)[E]=A,v(this,D)[A]=E},wO=function(A){A!==v(this,z)&&(A===v(this,X)?be(this,X,v(this,D)[A]):ae(this,$,l6).call(this,v(this,C)[A],v(this,D)[A]),ae(this,$,l6).call(this,v(this,z),A),be(this,z,A))},Ya=function(A,E){var k,N,S,L;let P=!1;if(v(this,F)!==0){const U=v(this,j).get(A);if(U!==void 0)if(P=!0,v(this,F)===1)ae(this,$,d6).call(this,E);else{v(this,M).call(this,U);const Z=v(this,I)[U];if(ae(this,$,ar).call(this,Z)?Z.__abortController.abort(new Error("deleted")):(v(this,Te)||v(this,_e))&&(v(this,Te)&&((k=v(this,b))==null||k.call(this,Z,A,E)),v(this,_e)&&((N=v(this,ie))==null||N.push([Z,A,E]))),v(this,j).delete(A),v(this,x)[U]=void 0,v(this,I)[U]=void 0,U===v(this,z))be(this,z,v(this,C)[U]);else if(U===v(this,X))be(this,X,v(this,D)[U]);else{const me=v(this,C)[U];v(this,D)[me]=v(this,D)[U];const pe=v(this,D)[U];v(this,C)[pe]=v(this,C)[U]}Fr(this,F)._--,v(this,J).push(U)}}if(v(this,_e)&&((S=v(this,ie))!=null&&S.length)){const U=v(this,ie);let Z;for(;Z=U==null?void 0:U.shift();)(L=v(this,T))==null||L.call(this,...Z)}return P},d6=function(A){var E,P,k;for(const N of ae(this,$,Ka).call(this,{allowStale:!0})){const S=v(this,I)[N];if(ae(this,$,ar).call(this,S))S.__abortController.abort(new Error("deleted"));else{const L=v(this,x)[N];v(this,Te)&&((E=v(this,b))==null||E.call(this,S,L,A)),v(this,_e)&&((P=v(this,ie))==null||P.push([S,L,A]))}}if(v(this,j).clear(),v(this,I).fill(void 0),v(this,x).fill(void 0),v(this,K)&&v(this,ye)&&(v(this,K).fill(0),v(this,ye).fill(0)),v(this,se)&&v(this,se).fill(0),be(this,X,0),be(this,z,0),v(this,J).length=0,be(this,Q,0),be(this,F,0),v(this,_e)&&v(this,ie)){const N=v(this,ie);let S;for(;S=N==null?void 0:N.shift();)(k=v(this,T))==null||k.call(this,...S)}};let f=ke;return xS.LRUCache=f,xS}var lee;function dee(){if(lee)return ES;lee=1,Object.defineProperty(ES,"__esModule",{value:!0}),ES.QuerySourceSparql=void 0;const a=tt(),t=De(),o=Nr(),n=Tt(),r=KK(),e=Gve(),i=Mr(),s=mt(),c={type:"estimate",value:Number.POSITIVE_INFINITY};let u=class Un{constructor(f,d,h,p,_,g,y,m,b,T){this.referenceValue=f,this.url=f,this.context=d,this.mediatorHttp=h,this.bindMethod=p,this.dataFactory=_,this.algebraFactory=g,this.bindingsFactory=y,this.endpointFetcher=new r.SparqlEndpointFetcher({method:m?"GET":"POST",fetch:(w,O)=>this.mediatorHttp.mediate({input:w,init:O,context:this.lastSourceContext}),prefixVariableQuestionMark:!0,dataFactory:_}),this.cache=b>0?new e.LRUCache({max:b}):void 0,this.countTimeout=T}async getSelectorShape(){return Un.SELECTOR_SHAPE}queryBindings(f,d,h){let p;h!=null&&h.joinBindings?p=Un.addBindingsToOperation(this.algebraFactory,this.bindMethod,f,h.joinBindings):p=Promise.resolve(f);const _=new n.TransformIterator(async()=>{const g=await p,y=s.Util.inScopeVariables(g),m=d.get(a.KeysInitQuery.queryString),b=!(h!=null&&h.joinBindings)&&m?m:Un.operationToSelectQuery(this.algebraFactory,g,y),T=Un.getOperationUndefs(g);return this.queryBindingsRemote(this.url,b,y,d,T)},{autoStart:!1});return this.attachMetadata(_,d,p),_}queryQuads(f,d){this.lastSourceContext=this.context.merge(d);const h=this.endpointFetcher.fetchTriples(this.url,d.get(a.KeysInitQuery.queryString)??Un.operationToQuery(f));this.lastSourceContext=void 0;const p=(0,n.wrap)(h,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY});return this.attachMetadata(p,d,Promise.resolve(f.input)),p}queryBoolean(f,d){this.lastSourceContext=this.context.merge(d);const h=this.endpointFetcher.fetchAsk(this.url,d.get(a.KeysInitQuery.queryString)??Un.operationToQuery(f));return this.lastSourceContext=void 0,h}queryVoid(f,d){this.lastSourceContext=this.context.merge(d);const h=this.endpointFetcher.fetchUpdate(this.url,d.get(a.KeysInitQuery.queryString)??Un.operationToQuery(f));return this.lastSourceContext=void 0,h}attachMetadata(f,d,h){let p=[];new Promise(async(_,g)=>{var m;let y;try{const b=await h,T=s.Util.inScopeVariables(b);y=Un.operationToCountQuery(this.dataFactory,this.algebraFactory,b);const w=Un.getOperationUndefs(b);p=T.map(x=>({variable:x,canBeUndef:w.some(I=>I.equals(x))}));const O=(m=this.cache)==null?void 0:m.get(y);if(O!==void 0)return _(O);const F=setTimeout(()=>_(c),this.countTimeout),Q=this.dataFactory.variable("count"),j=await this.queryBindingsRemote(this.url,y,[Q],d,[]);j.on("data",x=>{var C;clearTimeout(F);const I=x.get(Q),D={type:"estimate",value:Number.POSITIVE_INFINITY};if(I){const X=Number.parseInt(I.value,10);Number.isNaN(X)||(D.type="exact",D.value=X,(C=this.cache)==null||C.set(y,D))}return _(D)}),j.on("error",()=>{clearTimeout(F),_(c)}),j.on("end",()=>{clearTimeout(F),_(c)})}catch(b){return g(b)}}).then(_=>{f.setProperty("metadata",{state:new o.MetadataValidationState,cardinality:_,variables:p})}).catch(()=>f.setProperty("metadata",{state:new o.MetadataValidationState,cardinality:c,variables:p}))}static async addBindingsToOperation(f,d,h,p){const _=await p.bindings.toArray();switch(d){case"values":return f.createJoin([f.createValues(p.metadata.variables.map(g=>g.variable),_.map(g=>Object.fromEntries([...g].map(([y,m])=>[`?${y.value}`,m])))),h],!1);case"union":throw new Error('Not implemented yet: "union" case');case"filter":throw new Error('Not implemented yet: "filter" case')}}static operationToSelectQuery(f,d,h){return Un.operationToQuery(f.createProject(d,h))}static operationToCountQuery(f,d,h){return Un.operationToQuery(d.createProject(d.createExtend(d.createGroup(h,[],[d.createBoundAggregate(f.variable("var0"),"count",d.createWildcardExpression(),!1)]),f.variable("count"),d.createTermExpression(f.variable("var0"))),[f.variable("count")]))}static operationToQuery(f){return(0,s.toSparql)(f,{sparqlStar:!0})}static getOperationUndefs(f){const d=[];return s.Util.recurseOperation(f,{leftjoin(h){const p=s.Util.inScopeVariables(h.input[0]),_=s.Util.inScopeVariables(h.input[1]);for(const g of _)p.some(y=>y.equals(g))||d.push(g);return!1},values(h){for(const p of h.variables)h.bindings.some(_=>!(`?${p.value}`in _))&&d.push(p);return!1},union(h){const p=h.input.map(s.Util.inScopeVariables);for(const _ of(0,i.uniqTerms)(p.flat()))p.every(g=>g.some(y=>y.equals(_)))||d.push(_);return!0}}),(0,i.uniqTerms)(d)}async queryBindingsRemote(f,d,h,p,_){const g=new Set;for(const m of _)g.add(m.value);this.lastSourceContext=this.context.merge(p);const y=await this.endpointFetcher.fetchBindings(f,d);return this.lastSourceContext=void 0,(0,n.wrap)(y,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY}).map(m=>this.bindingsFactory.bindings(h.map(b=>{var w;const T=m[`?${b.value}`];return!g.has(b.value)&&!T&&((w=t.Actor.getContextLogger(this.context))==null||w.warn(`The endpoint ${f} failed to provide a binding for ${b.value}.`)),[b,T]}).filter(([b,T])=>!!T)))}toString(){return`QuerySourceSparql(${this.url})`}};return ES.QuerySourceSparql=u,u.SELECTOR_SHAPE={type:"disjunction",children:[{type:"operation",operation:{operationType:"wildcard"},joinBindings:!0}]},ES}var fee;function zve(){if(fee)return AS;fee=1,Object.defineProperty(AS,"__esModule",{value:!0}),AS.ActorQuerySourceIdentifyHypermediaSparql=void 0;const a=LN(),t=tt(),o=De(),n=kt(),r=mt(),e=dee();let i=class extends a.ActorQuerySourceIdentifyHypermedia{constructor(c){super(c,"sparql")}async testMetadata(c){return!c.forceSourceType&&!c.metadata.sparqlService&&!(this.checkUrlSuffix&&c.url.endsWith("/sparql"))?(0,o.failTest)(`Actor ${this.name} could not detect a SPARQL service description or URL ending on /sparql.`):(0,o.passTest)({filterFactor:1})}async run(c){this.logInfo(c.context,`Identified ${c.url} as sparql source with service URL: ${c.metadata.sparqlService||c.url}`);const u=c.context.getSafe(t.KeysInitQuery.dataFactory),l=new r.Factory(u);return{source:new e.QuerySourceSparql(c.forceSourceType?c.url:c.metadata.sparqlService||c.url,c.context,this.mediatorHttp,this.bindMethod,u,l,await n.BindingsFactory.create(this.mediatorMergeBindingsContext,c.context,u),this.forceHttpGet,this.cacheSize,this.countTimeout)}}};return AS.ActorQuerySourceIdentifyHypermediaSparql=i,AS}var hee;function kve(){return hee||(hee=1,function(a){var t=Zd&&Zd.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Zd&&Zd.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(zve(),a),o(dee(),a)}(Zd)),Zd}var ef={},IS={},tf={},RS={},FS={},pee;function yee(){if(pee)return FS;pee=1,Object.defineProperty(FS,"__esModule",{value:!0}),FS.QuerySourceRdfJs=void 0;const a=OS(),t=tt(),o=Nr(),n=Tt(),r=Mr(),e=mt();let i=class yn{constructor(c,u,l){this.source=c,this.referenceValue=c,this.dataFactory=u,this.bindingsFactory=l;const f=new e.Factory(this.dataFactory);this.selectorShape={type:"operation",operation:{operationType:"pattern",pattern:f.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"))},variablesOptional:[this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o")]}}static nullifyVariables(c,u){return!c||c.termType==="Variable"||!u&&c.termType==="Quad"&&(0,r.someTermsNested)(c,l=>l.termType==="Variable")?void 0:c}static hasDuplicateVariables(c){const u=(0,r.filterTermsNested)(c,l=>l.termType==="Variable");return u.length>1&&(0,r.uniqTerms)(u).length<u.length}async getSelectorShape(){return this.selectorShape}queryBindings(c,u){var h;if(c.type!=="pattern")throw new Error(`Attempted to pass non-pattern operation '${c.type}' to QuerySourceRdfJs`);const l=!!((h=this.source.features)!=null&&h.quotedTripleFiltering),f=this.source.match(yn.nullifyVariables(c.subject,l),yn.nullifyVariables(c.predicate,l),yn.nullifyVariables(c.object,l),yn.nullifyVariables(c.graph,l));let d=f instanceof n.AsyncIterator?f:(0,n.wrap)(f,{autoStart:!1});return l||(d=(0,a.filterMatchingQuotedQuads)(c,d)),d.getProperty("metadata")||this.setMetadata(d,c).catch(p=>d.destroy(p)),(0,a.quadsToBindings)(d,c,this.dataFactory,this.bindingsFactory,!!u.get(t.KeysQueryOperation.unionDefaultGraph))}async setMetadata(c,u){var h;const l=!!((h=this.source.features)!=null&&h.quotedTripleFiltering);let f;if(this.source.countQuads)f=await this.source.countQuads(yn.nullifyVariables(u.subject,l),yn.nullifyVariables(u.predicate,l),yn.nullifyVariables(u.object,l),yn.nullifyVariables(u.graph,l));else{let p=0;f=await new Promise((_,g)=>{const y=this.source.match(yn.nullifyVariables(u.subject,l),yn.nullifyVariables(u.predicate,l),yn.nullifyVariables(u.object,l),yn.nullifyVariables(u.graph,l));y.on("error",g),y.on("end",()=>_(p)),y.on("data",()=>p++)})}const d=!l&&(0,r.someTerms)(u,p=>p.termType==="Quad")||yn.hasDuplicateVariables(u);c.setProperty("metadata",{state:new o.MetadataValidationState,cardinality:{type:d?"estimate":"exact",value:f}})}queryQuads(c,u){throw new Error("queryQuads is not implemented in QuerySourceRdfJs")}queryBoolean(c,u){throw new Error("queryBoolean is not implemented in QuerySourceRdfJs")}queryVoid(c,u){throw new Error("queryVoid is not implemented in QuerySourceRdfJs")}toString(){return`QuerySourceRdfJs(${this.source.constructor.name})`}};return FS.QuerySourceRdfJs=i,FS}var bee;function Xve(){if(bee)return RS;bee=1,Object.defineProperty(RS,"__esModule",{value:!0}),RS.ActorQuerySourceIdentifyRdfJs=void 0;const a=OS(),t=tt(),o=De(),n=kt(),r=yee();let e=class extends a.ActorQuerySourceIdentify{constructor(s){super(s)}async test(s){const c=s.querySourceUnidentified;return c.type!==void 0&&c.type!=="rdfjs"?(0,o.failTest)(`${this.name} requires a single query source with rdfjs type to be present in the context.`):typeof c.value=="string"||!("match"in c.value)?(0,o.failTest)(`${this.name} received an invalid rdfjs query source.`):(0,o.passTestVoid)()}async run(s){const c=s.context.getSafe(t.KeysInitQuery.dataFactory);return{querySource:{source:new r.QuerySourceRdfJs(s.querySourceUnidentified.value,c,await n.BindingsFactory.create(this.mediatorMergeBindingsContext,s.context,c)),context:s.querySourceUnidentified.context??new o.ActionContext}}}};return RS.ActorQuerySourceIdentifyRdfJs=e,RS}var jN={},_ee;function Wve(){return _ee||(_ee=1,Object.defineProperty(jN,"__esModule",{value:!0})),jN}var mee;function MN(){return mee||(mee=1,function(a){var t=tf&&tf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=tf&&tf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Xve(),a),o(Wve(),a),o(yee(),a)}(tf)),tf}var NS={},rf={},DS={},PS={},nf={},LS={},gee;function vee(){if(gee)return LS;gee=1,Object.defineProperty(LS,"__esModule",{value:!0}),LS.BlankNode=void 0;class a{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}}return LS.BlankNode=a,LS}var jS={},MS={},Tee;function wee(){if(Tee)return MS;Tee=1,Object.defineProperty(MS,"__esModule",{value:!0}),MS.DefaultGraph=void 0;class a{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}}return MS.DefaultGraph=a,a.INSTANCE=new a,MS}var qS={},CS={},See;function qN(){if(See)return CS;See=1,Object.defineProperty(CS,"__esModule",{value:!0}),CS.NamedNode=void 0;class a{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}}return CS.NamedNode=a,CS}var Oee;function Aee(){if(Oee)return qS;Oee=1,Object.defineProperty(qS,"__esModule",{value:!0}),qS.Literal=void 0;const a=qN();class t{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=t.RDF_LANGUAGE_STRING):r?(this.language="",this.datatype=r):(this.language="",this.datatype=t.XSD_STRING)}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&this.datatype.equals(n.datatype)}}return qS.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),qS}var BS={},Eee;function xee(){if(Eee)return BS;Eee=1,Object.defineProperty(BS,"__esModule",{value:!0}),BS.Quad=void 0;class a{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}}return BS.Quad=a,BS}var $S={},Iee;function Ree(){if(Iee)return $S;Iee=1,Object.defineProperty($S,"__esModule",{value:!0}),$S.Variable=void 0;class a{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}}return $S.Variable=a,$S}var Fee;function Jve(){if(Fee)return jS;Fee=1,Object.defineProperty(jS,"__esModule",{value:!0}),jS.DataFactory=void 0;const a=vee(),t=wee(),o=Aee(),n=qN(),r=xee(),e=Ree();let i=0;class s{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return jS.DataFactory=s,jS}var Nee;function Ea(){return Nee||(Nee=1,function(a){var t=nf&&nf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=nf&&nf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(vee(),a),o(Jve(),a),o(wee(),a),o(Aee(),a),o(qN(),a),o(xee(),a),o(Ree(),a)}(nf)),nf}var US={},Dee;function Pee(){if(Dee)return US;Dee=1,Object.defineProperty(US,"__esModule",{value:!0}),US.TermDictionaryNumberRecordFullTerms=void 0;const a=Ea(),t=$t();let o=class{constructor(r=new a.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=r}encode(r){const e=(0,t.termToString)(r);let i=this.dictionary[e];return i===void 0&&(i=this.lastId++,this.dictionary[e]=i,this.reverseDictionary[i]=r),i}encodeOptional(r){const e=(0,t.termToString)(r);return this.dictionary[e]}decode(r){const e=this.reverseDictionary[r];if(e===void 0)throw new Error(`The value ${r} is not present in this dictionary`);return e}*encodings(){for(const r of Object.keys(this.reverseDictionary))yield Number.parseInt(r,10)}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}};return US.TermDictionaryNumberRecordFullTerms=o,US}var VS={},QS={},CN={},Lee;function Oi(){return Lee||(Lee=1,function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.arePatternsQuoted=a.quadHasVariables=a.quadToPattern=a.encodeOptionalTerms=a.orderQuadComponents=a.getComponentOrderScore=a.getBestIndex=a.QUAD_TERM_NAMES_INVERSE=void 0;const t=Mr();a.QUAD_TERM_NAMES_INVERSE=Object.fromEntries(t.QUAD_TERM_NAMES.map((u,l)=>[u,l]));function o(u,l){if(u.length===1||l.every(h=>h!==void 0))return 0;const f=[];for(let h=0;h<t.QUAD_TERM_NAMES.length;h++)l[h]&&f.push(t.QUAD_TERM_NAMES[h]);return u.map((h,p)=>({score:n(h,f),index:p})).sort((h,p)=>p.score-h.score)[0].index}a.getBestIndex=o;function n(u,l){return u.map((f,d)=>l.includes(f)?u.length-d:0).reduce((f,d)=>f+d,0)}a.getComponentOrderScore=n;function r(u,l){return u.map(f=>{const d=a.QUAD_TERM_NAMES_INVERSE[f];return l[d]})}a.orderQuadComponents=r;function e(u,l){const f=u.map(d=>{if(d){if(d.termType==="Quad"&&s(d))return;const h=l.encodeOptional(d);return h===void 0?"none":h}return d});if(!f.includes("none"))return f}a.encodeOptionalTerms=e;function i(u,l,f,d,h){let p=!1;return[[u||void 0,l||void 0,f||void 0,d||void 0].map(g=>{if(g){if(g.termType==="Variable")return;if(g.termType==="Quad"){if(h)return g;p=!0;return}}return g}),p]}a.quadToPattern=i;function s(u){for(const l of t.QUAD_TERM_NAMES){const f=u[l];if(f.termType==="Variable"||f.termType==="Quad"&&s(f))return!0}return!1}a.quadHasVariables=s;function c(u){return u.map(l=>(l==null?void 0:l.termType)==="Quad"&&s(l))}a.arePatternsQuoted=c}(CN)),CN}var jee;function BN(){if(jee)return QS;jee=1,Object.defineProperty(QS,"__esModule",{value:!0}),QS.RdfStoreIndexNestedMap=void 0;const a=Oi();let t=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedMap=new Map}set(n,r){const e=this.nestedMap;let i=e.get(n[0]);i||(i=new Map,e.set(n[0],i));let s=i.get(n[1]);s||(s=new Map,i.set(n[1],s));let c=s.get(n[2]);c||(c=new Map,s.set(n[2],c));const u=c.has(n[3]);return u||c.set(n[3],r),!u}remove(n){const r=this.nestedMap,e=r.get(n[0]);if(!e)return!1;const i=e.get(n[1]);if(!i)return!1;const s=i.get(n[2]);if(!s)return!1;const c=s.delete(n[3]);return c&&s.size===0&&(i.delete(n[2]),i.size===0&&(e.delete(n[1]),e.size===0&&r.delete(n[0]))),c}get(n){const r=(0,a.encodeOptionalTerms)(n,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(n){const r=this.nestedMap.get(n[0]);if(!r)return;const e=r.get(n[1]);if(!e)return;const i=e.get(n[2]);if(i)return i.get(n[3])}*find(n){const r=(0,a.encodeOptionalTerms)(n,this.dictionary);if(!r)return;const[e,i,s,c]=r,[u,l,f,d]=n;let h,p,_,g,y,m,b;const T=this.nestedMap,w=e!==void 0?T.has(e)?[e]:[]:T.keys();for(const O of w){y=T.get(O),h=u||this.dictionary.decode(O);const F=i!==void 0?y.has(i)?[i]:[]:y.keys();for(const Q of F){m=y.get(Q),p=l||this.dictionary.decode(Q);const j=s!==void 0?m.has(s)?[s]:[]:m.keys();for(const x of j){b=m.get(x),_=f||this.dictionary.decode(x);const I=c!==void 0?b.has(c)?[c]:[]:b.keys();for(const D of I)g=d||this.dictionary.decode(D),yield[h,p,_,g]}}}}*findEncoded(n,r){const[e,i,s,c]=n;let u,l,f;const d=this.nestedMap,h=e!==void 0?d.has(e)?[e]:[]:d.keys();for(const p of h){u=d.get(p);const _=i!==void 0?u.has(i)?[i]:[]:u.keys();for(const g of _){l=u.get(g);const y=s!==void 0?l.has(s)?[s]:[]:l.keys();for(const m of y){f=l.get(m);const b=c!==void 0?f.has(c)?[c]:[]:f.keys();for(const T of b)yield[p,g,m,T]}}}}count(n){let r=0;const e=(0,a.encodeOptionalTerms)(n,this.dictionary);if(!e)return 0;const i=e[0],s=e[1],c=e[2],u=e[3];let l,f,d;const h=this.nestedMap,p=i!==void 0?h.has(i)?[i]:[]:h.keys();for(const _ of p){l=h.get(_);const g=s!==void 0?l.has(s)?[s]:[]:l.keys();for(const y of g){f=l.get(y);const m=c!==void 0?f.has(c)?[c]:[]:f.keys();for(const b of m)d=f.get(b),u!==void 0?d.has(u)&&r++:r+=d.size}}return r}};return QS.RdfStoreIndexNestedMap=t,QS}var Mee;function qee(){if(Mee)return VS;Mee=1,Object.defineProperty(VS,"__esModule",{value:!0}),VS.TermDictionaryQuotedIndexed=void 0;const a=Ea(),t=BN(),o=Oi();let n=class ta{constructor(e,i=new a.DataFactory){this.quotedTriplesDictionary=[],this.features={quotedTriples:!0},this.plainTermDictionary=e;const s={indexCombinations:[],indexConstructor:void 0,dictionary:this,dataFactory:i};this.quotedTriplesReverseDictionaries=[new t.RdfStoreIndexNestedMap(s),new t.RdfStoreIndexNestedMap(s),new t.RdfStoreIndexNestedMap(s)],this.dataFactory=i}encode(e){return e.termType==="Quad"?this.encodeQuotedTriple(e,!1):this.plainTermDictionary.encode(e)}encodeQuotedTriple(e,i){if(e.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const s=(0,o.encodeOptionalTerms)([e.subject,e.predicate,e.object,e.graph],this),c=s&&s.every(d=>d!==void 0)?this.quotedTriplesReverseDictionaries[0].getEncoded(s):void 0;if(c!==void 0||i)return c===void 0?void 0:ta.BITMASK|c;const u=[this.encode(e.subject),this.encode(e.predicate),this.encode(e.object)],l=this.quotedTriplesDictionary.length+1;this.quotedTriplesDictionary.push(u);const f=this.encode(this.dataFactory.defaultGraph());return this.quotedTriplesReverseDictionaries[0].set([u[0],u[1],u[2],f],l),this.quotedTriplesReverseDictionaries[1].set([u[1],u[2],u[0],f],l),this.quotedTriplesReverseDictionaries[2].set([u[2],u[0],u[1],f],l),ta.BITMASK|l}encodeOptional(e){return e.termType==="Quad"?this.encodeQuotedTriple(e,!0):this.plainTermDictionary.encodeOptional(e)}decode(e){if(ta.BITMASK&e){const i=(~ta.BITMASK&e)-1;if(i>=this.quotedTriplesDictionary.length)throw new Error(`The value ${e} is not present in the quoted triples range of the dictionary`);const s=this.quotedTriplesDictionary[i];return this.dataFactory.quad(this.decode(s[0]),this.decode(s[1]),this.decode(s[2]))}return this.plainTermDictionary.decode(e)}*encodings(){for(const e of this.plainTermDictionary.encodings())yield e;for(const e of this.quotedTriplesDictionary.keys())yield ta.BITMASK|1+e}*findQuotedTriples(e){for(const i of this.findQuotedTriplesEncoded(e))yield this.decode(i)}*findQuotedTriplesEncoded(e){const[i,s]=(0,o.quadToPattern)(e.subject,e.predicate,e.object,e.graph,!0);for(const c of this.patternToIterable(i[0]))for(const u of this.patternToIterable(i[1]))for(const l of this.patternToIterable(i[2]))for(const f of this.patternToIterable(i[3]))if(c&&u||!u&&!l){const d=[c,u,l,f];for(const h of this.quotedTriplesReverseDictionaries[0].findEncoded(d,i))yield ta.BITMASK|this.quotedTriplesReverseDictionaries[0].getEncoded(h)}else if(!c&&u){const d=[u,l,c,f];for(const h of this.quotedTriplesReverseDictionaries[1].findEncoded(d,i))yield ta.BITMASK|this.quotedTriplesReverseDictionaries[1].getEncoded(h)}else{const d=[l,c,u,f];for(const h of this.quotedTriplesReverseDictionaries[2].findEncoded(d,i))yield ta.BITMASK|this.quotedTriplesReverseDictionaries[2].getEncoded(h)}}*patternToIterable(e){if((e==null?void 0:e.termType)==="Quad"){yield*this.findQuotedTriplesEncoded(e);return}if(e===void 0){yield void 0;return}const i=this.encodeOptional(e);i!==void 0&&(yield i)}};return n.BITMASK=1<<31,VS.TermDictionaryQuotedIndexed=n,VS}var HS={},Cee;function Bee(){if(Cee)return HS;Cee=1,Object.defineProperty(HS,"__esModule",{value:!0}),HS.RdfStoreIndexNestedMapQuoted=void 0;const a=Oi(),t=BN();let o=class extends t.RdfStoreIndexNestedMap{constructor(r){super(r),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(r,e){for(const i of this.dictionary.findQuotedTriplesEncoded(e))r.has(i)&&(yield i)}*find(r){const e=(0,a.encodeOptionalTerms)(r,this.dictionary);if(!e)return;const[i,s,c,u]=e,[l,f,d,h]=r,[p,_,g,y]=(0,a.arePatternsQuoted)(r);let m,b,T,w,O,F,Q;const j=this.nestedMap,x=l!==void 0?p?this.getQuotedPatternKeys(j,l):j.has(i)?[i]:[]:j.keys();for(const I of x){O=j.get(I),m=!p&&l?l:this.dictionary.decode(I);const D=f!==void 0?_?this.getQuotedPatternKeys(O,f):O.has(s)?[s]:[]:O.keys();for(const C of D){F=O.get(C),b=!_&&f?f:this.dictionary.decode(C);const X=d!==void 0?g?this.getQuotedPatternKeys(F,d):F.has(c)?[c]:[]:F.keys();for(const z of X){Q=F.get(z),T=!g&&d?d:this.dictionary.decode(z);const J=h!==void 0?y?this.getQuotedPatternKeys(Q,h):Q.has(u)?[u]:[]:Q.keys();for(const ie of J)w=!y&&h?h:this.dictionary.decode(ie),yield[m,b,T,w]}}}}*findEncoded(r,e){const[i,s,c,u]=r,[l,f,d,h]=e,[p,_,g,y]=(0,a.arePatternsQuoted)(e);let m,b,T;const w=this.nestedMap,O=l!==void 0?p?this.getQuotedPatternKeys(w,l):w.has(i)?[i]:[]:w.keys();for(const F of O){m=w.get(F);const Q=f!==void 0?_?this.getQuotedPatternKeys(m,f):m.has(s)?[s]:[]:m.keys();for(const j of Q){b=m.get(j);const x=d!==void 0?g?this.getQuotedPatternKeys(b,d):b.has(c)?[c]:[]:b.keys();for(const I of x){T=b.get(I);const D=h!==void 0?y?this.getQuotedPatternKeys(T,h):T.has(u)?[u]:[]:T.keys();for(const C of D)yield[Number.parseInt(F,10),Number.parseInt(j,10),Number.parseInt(I,10),Number.parseInt(C,10)]}}}}count(r){let e=0;const i=(0,a.encodeOptionalTerms)(r,this.dictionary);if(!i)return 0;const[s,c,u,l]=i,[f,d,h,p]=r,[_,g,y,m]=(0,a.arePatternsQuoted)(r);let b,T,w;const O=this.nestedMap,F=f!==void 0?_?this.getQuotedPatternKeys(O,f):O.has(s)?[s]:[]:O.keys();for(const Q of F){b=O.get(Q);const j=d!==void 0?g?this.getQuotedPatternKeys(b,d):b.has(c)?[c]:[]:b.keys();for(const x of j){T=b.get(x);const I=h!==void 0?y?this.getQuotedPatternKeys(T,h):T.has(u)?[u]:[]:T.keys();for(const D of I)w=T.get(D),p!==void 0?m?e+=[...this.getQuotedPatternKeys(w,p)].length:w.has(l)&&e++:e+=w.size}}return e}};return HS.RdfStoreIndexNestedMapQuoted=o,HS}var $ee;function Uee(){if($ee)return PS;$ee=1,Object.defineProperty(PS,"__esModule",{value:!0}),PS.RdfStore=void 0;const a=Tt(),t=Ea(),o=Mr(),n=Qee(),r=Pee(),e=qee(),i=Bee(),s=Oi();let c=class SO{constructor(l){this.features={quotedTripleFiltering:!0},this._size=0,this.options=l,this.dataFactory=l.dataFactory,this.dictionary=l.dictionary,this.indexesWrapped=SO.constructIndexesWrapped(l),this.indexesWrappedComponentOrders=this.indexesWrapped.map(f=>f.componentOrder)}static createDefault(){return new SO({indexCombinations:SO.DEFAULT_INDEX_COMBINATIONS,indexConstructor:l=>new i.RdfStoreIndexNestedMapQuoted(l),dictionary:new e.TermDictionaryQuotedIndexed(new r.TermDictionaryNumberRecordFullTerms),dataFactory:new t.DataFactory})}static constructIndexesWrapped(l){const f=[];if(l.indexCombinations.length===0)throw new Error("At least one index combination is required");for(const d of l.indexCombinations){if(!SO.isCombinationValid(d))throw new Error(`Invalid index combination: ${d}`);f.push({index:l.indexConstructor(l),componentOrder:d,componentOrderInverse:Object.fromEntries(d.map((h,p)=>[h,p]))})}return f}static isCombinationValid(l){for(const f of o.QUAD_TERM_NAMES)if(!l.includes(f))return!1;return l.length===4}get size(){return this._size}addQuad(l){const f=[this.dictionary.encode(l.subject),this.dictionary.encode(l.predicate),this.dictionary.encode(l.object),this.dictionary.encode(l.graph)];let d=!1;for(const h of this.indexesWrapped)d=h.index.set((0,s.orderQuadComponents)(h.componentOrder,f),!0);return d?(this._size++,!0):!1}removeQuad(l){const f=[this.dictionary.encodeOptional(l.subject),this.dictionary.encodeOptional(l.predicate),this.dictionary.encodeOptional(l.object),this.dictionary.encodeOptional(l.graph)];if(f.includes(void 0))return!1;let d=!1;for(const h of this.indexesWrapped)if(d=h.index.remove((0,s.orderQuadComponents)(h.componentOrder,f)),!d)break;return d?(this._size--,!0):!1}remove(l){return l.on("data",f=>this.removeQuad(f)),l}removeMatches(l,f,d,h){return this.remove(this.match(l,f,d,h))}deleteGraph(l){return typeof l=="string"&&(l=this.dataFactory.namedNode(l)),this.removeMatches(void 0,void 0,void 0,l)}import(l){return l.on("data",f=>this.addQuad(f)),l}*readQuads(l,f,d,h){const p=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(b=>b.index.features.quotedTripleFiltering),[_,g]=(0,s.quadToPattern)(l,f,d,h,p),y=this.indexesWrapped[(0,s.getBestIndex)(this.indexesWrappedComponentOrders,_)],m=(0,s.orderQuadComponents)(y.componentOrder,_);for(const b of y.index.find(m)){const T=this.dataFactory.quad(b[y.componentOrderInverse.subject],b[y.componentOrderInverse.predicate],b[y.componentOrderInverse.object],b[y.componentOrderInverse.graph]);g?(0,o.matchPattern)(T,l,f,d,h)&&(yield T):yield T}}getQuads(l,f,d,h){return[...this.readQuads(l,f,d,h)]}match(l,f,d,h){return(0,a.wrap)(this.readQuads(l,f,d,h))}countQuads(l,f,d,h){const p=!!this.dictionary.features.quotedTriples&&Object.values(this.indexesWrapped).every(m=>m.index.features.quotedTripleFiltering),[_]=(0,s.quadToPattern)(l,f,d,h,p);if(_.every(m=>m===void 0))return this.size;const g=this.indexesWrapped[(0,s.getBestIndex)(this.indexesWrappedComponentOrders,_)],y=(0,s.orderQuadComponents)(g.componentOrder,_);return g.index.count(y)}asDataset(){return new n.DatasetCoreWrapper(this)}};return c.DEFAULT_INDEX_COMBINATIONS=[["graph","subject","predicate","object"],["graph","predicate","object","subject"],["graph","object","subject","predicate"]],PS.RdfStore=c,PS}var Vee;function Qee(){if(Vee)return DS;Vee=1,Object.defineProperty(DS,"__esModule",{value:!0}),DS.DatasetCoreWrapper=void 0;const a=Uee();let t=class Fae{constructor(n){this.store=n}get size(){return this.store.size}add(n){return this.store.addQuad(n),this}delete(n){return this.store.removeQuad(n),this}has(n){for(const r of this.store.readQuads(n.subject,n.predicate,n.object,n.graph))return!0;return!1}match(n,r,e,i){const s=new a.RdfStore(this.store.options);for(const c of this.store.readQuads(n,r,e,i))s.addQuad(c);return new Fae(s)}[Symbol.iterator](){return this.store.readQuads()}};return DS.DatasetCoreWrapper=t,DS}var $N={},Hee;function Kve(){return Hee||(Hee=1,Object.defineProperty($N,"__esModule",{value:!0})),$N}var GS={},Gee;function Yve(){if(Gee)return GS;Gee=1,Object.defineProperty(GS,"__esModule",{value:!0}),GS.TermDictionaryNumberMap=void 0;const a=Ea(),t=$t();let o=class{constructor(r=new a.DataFactory){this.lastId=0,this.dictionary=new Map,this.reverseDictionary=new Map,this.features={quotedTriples:!1},this.dataFactory=r}encode(r){const e=(0,t.termToString)(r);let i=this.dictionary.get(e);return i===void 0&&(i=this.lastId++,this.dictionary.set(e,i),this.reverseDictionary.set(i,e)),i}encodeOptional(r){const e=(0,t.termToString)(r);return this.dictionary.get(e)}decode(r){const e=this.reverseDictionary.get(r);if(e===void 0)throw new Error(`The value ${r} is not present in this dictionary`);return(0,t.stringToTerm)(e,this.dataFactory)}encodings(){return this.reverseDictionary.keys()}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}};return GS.TermDictionaryNumberMap=o,GS}var zS={},zee;function Zve(){if(zee)return zS;zee=1,Object.defineProperty(zS,"__esModule",{value:!0}),zS.TermDictionaryNumberRecord=void 0;const a=Ea(),t=$t();let o=class{constructor(r=new a.DataFactory){this.lastId=0,this.dictionary={},this.reverseDictionary={},this.features={quotedTriples:!1},this.dataFactory=r}encode(r){const e=(0,t.termToString)(r);let i=this.dictionary[e];return i===void 0&&(i=this.lastId++,this.dictionary[e]=i,this.reverseDictionary[i]=e),i}encodeOptional(r){const e=(0,t.termToString)(r);return this.dictionary[e]}decode(r){const e=this.reverseDictionary[r];if(e===void 0)throw new Error(`The value ${r} is not present in this dictionary`);return(0,t.stringToTerm)(e,this.dataFactory)}*encodings(){for(const r of Object.keys(this.reverseDictionary))yield Number.parseInt(r,10)}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}};return zS.TermDictionaryNumberRecord=o,zS}var kS={},kee;function e2e(){if(kee)return kS;kee=1,Object.defineProperty(kS,"__esModule",{value:!0}),kS.TermDictionaryQuoted=void 0;const a=Ea(),t=Mr();let o=class rh{constructor(r,e,i=new a.DataFactory){this.features={quotedTriples:!0},this.plainTermDictionary=r,this.quotedTriplesDictionary=e,this.dataFactory=i}encode(r){return r.termType==="Quad"?rh.BITMASK|1+this.quotedTriplesDictionary.encode(r):this.plainTermDictionary.encode(r)}encodeOptional(r){if(r.termType==="Quad"){const e=this.quotedTriplesDictionary.encodeOptional(r);return e===void 0?e:rh.BITMASK|1+e}return this.plainTermDictionary.encodeOptional(r)}decode(r){if(rh.BITMASK&r){const e=(~rh.BITMASK&r)-1;return this.quotedTriplesDictionary.decode(e)}return this.plainTermDictionary.decode(r)}*encodings(){for(const r of this.plainTermDictionary.encodings())yield r;for(const r of this.quotedTriplesDictionary.encodings())yield rh.BITMASK|1+r}*findQuotedTriples(r){for(const e of this.findQuotedTriplesEncoded(r))yield this.decode(e)}*findQuotedTriplesEncoded(r){for(let e of this.quotedTriplesDictionary.encodings()){e=rh.BITMASK|1+e;const i=this.decode(e);(0,t.matchPattern)(i,r.subject,r.predicate,r.object,r.graph)&&(yield e)}}};return o.BITMASK=1<<31,kS.TermDictionaryQuoted=o,kS}var XS={},Xee;function t2e(){if(Xee)return XS;Xee=1,Object.defineProperty(XS,"__esModule",{value:!0}),XS.TermDictionaryQuotedReferential=void 0;const a=Ea(),t=Mr(),o=Oi();let n=class ra{constructor(e,i=new a.DataFactory){this.quotedTriplesDictionary=[],this.quotedTriplesReverseDictionary={},this.features={quotedTriples:!0},this.plainTermDictionary=e,this.dataFactory=i}encode(e){return e.termType==="Quad"?this.encodeQuotedTriple(e,!1):this.plainTermDictionary.encode(e)}encodeQuotedTriple(e,i){var s;if(e.graph.termType!=="DefaultGraph")throw new Error("Encoding of quoted quads outside of the default graph is not allowed");const c=(s=(0,o.encodeOptionalTerms)([e.subject,e.predicate,e.object,void 0],this))===null||s===void 0?void 0:s.slice(0,3),u=c&&c.every(d=>d!==void 0)?this.quotedTriplesReverseDictionary[c.join(ra.SEPARATOR)]:void 0;if(u!==void 0||i)return u===void 0?void 0:ra.BITMASK|u;const l=[this.encode(e.subject),this.encode(e.predicate),this.encode(e.object)],f=this.quotedTriplesDictionary.length+1;return this.quotedTriplesDictionary.push(l),this.quotedTriplesReverseDictionary[l.join(ra.SEPARATOR)]=f,ra.BITMASK|f}encodeOptional(e){return e.termType==="Quad"?this.encodeQuotedTriple(e,!0):this.plainTermDictionary.encodeOptional(e)}decode(e){if(ra.BITMASK&e){const i=(~ra.BITMASK&e)-1;if(i>=this.quotedTriplesDictionary.length)throw new Error(`The value ${e} is not present in the quoted triples range of the dictionary`);const s=this.quotedTriplesDictionary[i];return this.dataFactory.quad(this.decode(s[0]),this.decode(s[1]),this.decode(s[2]))}return this.plainTermDictionary.decode(e)}*encodings(){for(const e of this.plainTermDictionary.encodings())yield e;for(const e of this.quotedTriplesDictionary.keys())yield ra.BITMASK|1+e}*findQuotedTriples(e){for(const i of this.findQuotedTriplesEncoded(e))yield this.decode(i)}*findQuotedTriplesEncoded(e){for(let i of this.quotedTriplesDictionary.keys()){i=ra.BITMASK|1+i;const s=this.decode(i);(0,t.matchPattern)(s,e.subject,e.predicate,e.object,e.graph)&&(yield i)}}};return n.BITMASK=1<<31,n.SEPARATOR="_",XS.TermDictionaryQuotedReferential=n,XS}var WS={},Wee;function r2e(){if(Wee)return WS;Wee=1,Object.defineProperty(WS,"__esModule",{value:!0}),WS.TermDictionarySymbol=void 0;const a=Ea(),t=$t();let o=class{constructor(r=new a.DataFactory){this.features={quotedTriples:!1},this.dataFactory=r}encode(r){return Symbol.for(`rdf::${(0,t.termToString)(r)}`)}encodeOptional(r){return this.encode(r)}decode(r){const e=Symbol.keyFor(r);if(e===void 0)throw new Error(`The value ${String(r)} is not present in this dictionary`);return(0,t.stringToTerm)(e.slice(5),this.dataFactory)}encodings(){throw new Error("encodings is not supported")}findQuotedTriples(r){throw new Error("findQuotedTriples is not supported")}findQuotedTriplesEncoded(r){throw new Error("findQuotedTriplesEncoded is not supported")}};return WS.TermDictionarySymbol=o,WS}var UN={},Jee;function n2e(){return Jee||(Jee=1,Object.defineProperty(UN,"__esModule",{value:!0})),UN}var JS={},Kee;function Yee(){if(Kee)return JS;Kee=1,Object.defineProperty(JS,"__esModule",{value:!0}),JS.RdfStoreIndexNestedMapRecursive=void 0;const a=Oi();let t=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedMap=new Map}set(n,r){let e=this.nestedMap,i=!1;for(const[s,c]of n.entries()){const u=e;let l=u.get(c);l?s===n.length-1&&(i=!0):(l=s===n.length-1?r:new Map,u.set(c,l)),e=l}return!i}remove(n){const r=this.nestedMap,e=r.get(n[0]);if(!e)return!1;const i=e.get(n[1]);if(!i)return!1;const s=i.get(n[2]);if(!s)return!1;const c=s.delete(n[3]);return c&&s.size===0&&(i.delete(n[2]),i.size===0&&(e.delete(n[1]),e.size===0&&r.delete(n[0]))),c}get(n){const r=(0,a.encodeOptionalTerms)(n,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(n){const r=this.nestedMap.get(n[0]);if(!r)return;const e=r.get(n[1]);if(!e)return;const i=e.get(n[2]);if(i)return i.get(n[3])}*find(n){const r=(0,a.encodeOptionalTerms)(n,this.dictionary);if(r)for(const e of this.findEncoded(r,n))yield[r[0]!==void 0?n[0]:this.dictionary.decode(e[0]),r[1]!==void 0?n[1]:this.dictionary.decode(e[1]),r[2]!==void 0?n[2]:this.dictionary.decode(e[2]),r[3]!==void 0?n[3]:this.dictionary.decode(e[3])]}*findEncoded(n,r){return yield*this.findEncodedInner(0,n,r,this.nestedMap,[])}*findEncodedInner(n,r,e,i,s){if(n===r.length)yield[...s];else{const c=r[n];if(e[n]){const l=c;if(l!==void 0){const f=i.get(l);f&&(s[n]=c,yield*this.findEncodedInner(n+1,r,e,f,s))}}else for(const[l,f]of i.entries())s[n]=l,yield*this.findEncodedInner(n+1,r,e,f,s)}}count(n){return this.countInner(0,n,this.nestedMap)}countInner(n,r,e){const i=r[n];let s=0;if(i){const c=this.dictionary.encodeOptional(i);if(c!==void 0){if(n===r.length-1)return e.has(c)?1:0;const u=e.get(c);u&&(s+=this.countInner(n+1,r,u))}}else{if(n===r.length-1)return e.size;for(const c of e.values())s+=this.countInner(n+1,r,c)}return s}};return JS.RdfStoreIndexNestedMapRecursive=t,JS}var KS={},Zee;function i2e(){if(Zee)return KS;Zee=1,Object.defineProperty(KS,"__esModule",{value:!0}),KS.RdfStoreIndexNestedMapRecursiveQuoted=void 0;const a=Oi(),t=Yee();let o=class extends t.RdfStoreIndexNestedMapRecursive{constructor(r){super(r),this.features={quotedTripleFiltering:!0}}*findEncoded(r,e){return yield*this.findEncodedInnerQuoted(0,r,e,(0,a.arePatternsQuoted)(e),this.nestedMap,[])}*findEncodedInnerQuoted(r,e,i,s,c,u){if(r===e.length)yield[...u];else{const l=e[r],f=i[r];if(f)if(s[r]){const d=this.dictionary.findQuotedTriplesEncoded(f);for(const h of d){const p=c.get(h);p&&(u[r]=h,yield*this.findEncodedInnerQuoted(r+1,e,i,s,p,u))}}else{const d=l;if(d!==void 0){const h=c.get(d);h&&(u[r]=l,yield*this.findEncodedInnerQuoted(r+1,e,i,s,h,u))}}else for(const[d,h]of c.entries())u[r]=d,yield*this.findEncodedInnerQuoted(r+1,e,i,s,h,u)}}countInner(r,e,i){const s=e[r];let c=0;if(s)if(s.termType==="Quad"&&(0,a.quadHasVariables)(s)){const u=this.dictionary.findQuotedTriplesEncoded(s);for(const l of u)if(r===e.length-1)i.has(l)&&c++;else{const f=i.get(l);f&&(c+=this.countInner(r+1,e,f))}}else{const u=this.dictionary.encodeOptional(s);if(u!==void 0){if(r===e.length-1)return i.has(u)?1:0;const l=i.get(u);l&&(c+=this.countInner(r+1,e,l))}}else{if(r===e.length-1)return i.size;for(const u of i.values())c+=this.countInner(r+1,e,u)}return c}};return KS.RdfStoreIndexNestedMapRecursiveQuoted=o,KS}var YS={},ete;function tte(){if(ete)return YS;ete=1,Object.defineProperty(YS,"__esModule",{value:!0}),YS.RdfStoreIndexNestedRecord=void 0;const a=Oi();let t=class{constructor(n){this.features={quotedTripleFiltering:!1},this.dictionary=n.dictionary,this.nestedRecords={}}set(n,r){const e=this.nestedRecords,i=e[n[0]]||(e[n[0]]={}),s=i[n[1]]||(i[n[1]]={}),c=s[n[2]]||(s[n[2]]={});return c[n[3]]?!1:(c[n[3]]=r,!0)}remove(n){const r=this.nestedRecords,e=r[n[0]];if(!e)return!1;const i=e[n[1]];if(!i)return!1;const s=i[n[2]];return!s||!s[n[3]]?!1:(delete s[n[3]],Object.keys(s).length===0&&(delete i[n[2]],Object.keys(i).length===0&&(delete e[n[1]],Object.keys(e).length===0&&delete r[n[0]])),!0)}get(n){const r=(0,a.encodeOptionalTerms)(n,this.dictionary);if(!(!r||r.includes(void 0)))return this.getEncoded(r)}getEncoded(n){var r,e,i;return(i=(e=(r=this.nestedRecords[n[0]])===null||r===void 0?void 0:r[n[1]])===null||e===void 0?void 0:e[n[2]])===null||i===void 0?void 0:i[n[3]]}*find(n){const r=(0,a.encodeOptionalTerms)(n,this.dictionary);if(!r)return;const[e,i,s,c]=r,[u,l,f,d]=n;let h,p,_,g,y,m,b;const T=this.nestedRecords,w=e!==void 0?e in T?[e]:[]:Object.keys(T);for(const O of w){y=T[O],h=u||this.dictionary.decode(Number.parseInt(O,10));const F=i!==void 0?i in y?[i]:[]:Object.keys(y);for(const Q of F){m=y[Q],p=l||this.dictionary.decode(Number.parseInt(Q,10));const j=s!==void 0?s in m?[s]:[]:Object.keys(m);for(const x of j){b=m[x],_=f||this.dictionary.decode(Number.parseInt(x,10));const I=c!==void 0?c in b?[c]:[]:Object.keys(b);for(const D of I)g=d||this.dictionary.decode(Number.parseInt(D,10)),yield[h,p,_,g]}}}}*findEncoded(n,r){const[e,i,s,c]=n;let u,l,f;const d=this.nestedRecords,h=e!==void 0?e in d?[e]:[]:Object.keys(d);for(const p of h){u=d[p];const _=i!==void 0?i in u?[i]:[]:Object.keys(u);for(const g of _){l=u[g];const y=s!==void 0?s in l?[s]:[]:Object.keys(l);for(const m of y){f=l[m];const b=c!==void 0?c in f?[c]:[]:Object.keys(f);for(const T of b)yield[Number.parseInt(p,10),Number.parseInt(g,10),Number.parseInt(m,10),Number.parseInt(T,10)]}}}}count(n){let r=0;const e=(0,a.encodeOptionalTerms)(n,this.dictionary);if(!e)return 0;const i=e[0],s=e[1],c=e[2],u=e[3];let l,f,d;const h=this.nestedRecords,p=i!==void 0?i in h?[i]:[]:Object.keys(h);for(const _ of p){l=h[_];const g=s!==void 0?s in l?[s]:[]:Object.keys(l);for(const y of g){f=l[y];const m=c!==void 0?c in f?[c]:[]:Object.keys(f);for(const b of m)d=f[b],u!==void 0?u in d&&r++:r+=Object.keys(d).length}}return r}};return YS.RdfStoreIndexNestedRecord=t,YS}var ZS={},rte;function a2e(){if(rte)return ZS;rte=1,Object.defineProperty(ZS,"__esModule",{value:!0}),ZS.RdfStoreIndexNestedRecordQuoted=void 0;const a=Oi(),t=tte();let o=class extends t.RdfStoreIndexNestedRecord{constructor(r){super(r),this.features={quotedTripleFiltering:!0}}*getQuotedPatternKeys(r,e){for(const i of this.dictionary.findQuotedTriplesEncoded(e))i in r&&(yield i)}*find(r){const e=(0,a.encodeOptionalTerms)(r,this.dictionary);if(!e)return;const[i,s,c,u]=e,[l,f,d,h]=r,[p,_,g,y]=(0,a.arePatternsQuoted)(r);let m,b,T,w,O,F,Q;const j=this.nestedRecords,x=l!==void 0?p?this.getQuotedPatternKeys(j,l):i in j?[i]:[]:Object.keys(j);for(const I of x){O=j[I],m=!p&&l?l:this.dictionary.decode(Number.parseInt(I,10));const D=f!==void 0?_?this.getQuotedPatternKeys(O,f):s in O?[s]:[]:Object.keys(O);for(const C of D){F=O[C],b=!_&&f?f:this.dictionary.decode(Number.parseInt(C,10));const X=d!==void 0?g?this.getQuotedPatternKeys(F,d):c in F?[c]:[]:Object.keys(F);for(const z of X){Q=F[z],T=!g&&d?d:this.dictionary.decode(Number.parseInt(z,10));const J=h!==void 0?y?this.getQuotedPatternKeys(Q,h):u in Q?[u]:[]:Object.keys(Q);for(const ie of J)w=!y&&h?h:this.dictionary.decode(Number.parseInt(ie,10)),yield[m,b,T,w]}}}}*findEncoded(r,e){const[i,s,c,u]=r,[l,f,d,h]=e,[p,_,g,y]=(0,a.arePatternsQuoted)(e);let m,b,T;const w=this.nestedRecords,O=l!==void 0?p?this.getQuotedPatternKeys(w,l):i in w?[i]:[]:Object.keys(w);for(const F of O){m=w[F];const Q=f!==void 0?_?this.getQuotedPatternKeys(m,f):s in m?[s]:[]:Object.keys(m);for(const j of Q){b=m[j];const x=d!==void 0?g?this.getQuotedPatternKeys(b,d):c in b?[c]:[]:Object.keys(b);for(const I of x){T=b[I];const D=h!==void 0?y?this.getQuotedPatternKeys(T,h):u in T?[u]:[]:Object.keys(T);for(const C of D)yield[Number.parseInt(F,10),Number.parseInt(j,10),Number.parseInt(I,10),Number.parseInt(C,10)]}}}}count(r){let e=0;const i=(0,a.encodeOptionalTerms)(r,this.dictionary);if(!i)return 0;const[s,c,u,l]=i,[f,d,h,p]=r,[_,g,y,m]=(0,a.arePatternsQuoted)(r);let b,T,w;const O=this.nestedRecords,F=f!==void 0?_?this.getQuotedPatternKeys(O,f):s in O?[s]:[]:Object.keys(O);for(const Q of F){b=O[Q];const j=d!==void 0?g?this.getQuotedPatternKeys(b,d):c in b?[c]:[]:Object.keys(b);for(const x of j){T=b[x];const I=h!==void 0?y?this.getQuotedPatternKeys(T,h):u in T?[u]:[]:Object.keys(T);for(const D of I)w=T[D],p!==void 0?m?e+=[...this.getQuotedPatternKeys(w,p)].length:l in w&&e++:e+=Object.keys(w).length}}return e}};return ZS.RdfStoreIndexNestedRecordQuoted=o,ZS}var VN={},nte;function o2e(){return nte||(nte=1,Object.defineProperty(VN,"__esModule",{value:!0})),VN}var QN={},ite;function s2e(){return ite||(ite=1,Object.defineProperty(QN,"__esModule",{value:!0})),QN}var ate;function u2e(){return ate||(ate=1,function(a){var t=rf&&rf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=rf&&rf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Qee(),a),o(Kve(),a),o(Yve(),a),o(Zve(),a),o(Pee(),a),o(e2e(),a),o(qee(),a),o(t2e(),a),o(r2e(),a),o(n2e(),a),o(BN(),a),o(Bee(),a),o(Yee(),a),o(i2e(),a),o(tte(),a),o(a2e(),a),o(o2e(),a),o(Oi(),a),o(s2e(),a),o(Uee(),a)}(rf)),rf}var ote;function ste(){if(ote)return NS;ote=1,Object.defineProperty(NS,"__esModule",{value:!0}),NS.storeStream=void 0;const a=u2e();function t(o){const n=a.RdfStore.createDefault();return new Promise((r,e)=>n.import(o).on("error",e).once("end",()=>r(n)))}return NS.storeStream=t,NS}var ute;function c2e(){if(ute)return IS;ute=1,Object.defineProperty(IS,"__esModule",{value:!0}),IS.ActorQuerySourceIdentifyHypermediaNone=void 0;const a=MN(),t=LN(),o=tt(),n=De(),r=kt(),e=ste();let i=class extends t.ActorQuerySourceIdentifyHypermedia{constructor(c){super(c,"file")}async testMetadata(c){return(0,n.passTest)({filterFactor:0})}async run(c){this.logInfo(c.context,`Identified as file source: ${c.url}`);const u=c.context.getSafe(o.KeysInitQuery.dataFactory),l=new a.QuerySourceRdfJs(await(0,e.storeStream)(c.quads),u,await r.BindingsFactory.create(this.mediatorMergeBindingsContext,c.context,u));return l.toString=()=>`QuerySourceRdfJs(${c.url})`,l.referenceValue=c.url,{source:l}}};return IS.ActorQuerySourceIdentifyHypermediaNone=i,IS}var cte;function l2e(){return cte||(cte=1,function(a){var t=ef&&ef.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ef&&ef.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(c2e(),a)}(ef)),ef}var af={},e3={},of={},t3={},lte;function d2e(){if(lte)return t3;lte=1,Object.defineProperty(t3,"__esModule",{value:!0}),t3.ActorExpressionEvaluatorFactory=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n),this.mediatorQueryOperation=n.mediatorQueryOperation,this.mediatorFunctionFactory=n.mediatorFunctionFactory,this.mediatorMergeBindingsContext=n.mediatorMergeBindingsContext}};return t3.ActorExpressionEvaluatorFactory=t,t3}var dte;function f2e(){return dte||(dte=1,function(a){var t=of&&of.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=of&&of.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(d2e(),a)}(of)),of}var r3={},fte;function hte(){if(fte)return r3;fte=1,Object.defineProperty(r3,"__esModule",{value:!0}),r3.AlgebraTransformer=void 0;const a=tt(),t=Me(),o=mt();let n=class nx extends t.TermTransformer{constructor(e,i){super(e.getSafe(a.KeysExpressionEvaluator.superTypeProvider)),this.context=e,this.mediatorFunctionFactory=i}async transformAlgebra(e){const i=o.Algebra.expressionTypes;switch(e.expressionType){case i.TERM:return this.transformTerm(e);case i.OPERATOR:return await this.transformOperator(e);case i.NAMED:return await this.transformNamed(e);case i.EXISTENCE:return nx.transformExistence(e);case i.AGGREGATE:return nx.transformAggregate(e);case i.WILDCARD:return nx.transformWildcard(e)}}static transformWildcard(e){return new t.NamedNode(e.wildcard.value)}async getOperator(e,i){const s=await this.mediatorFunctionFactory.mediate({functionName:e,arguments:i.args,context:this.context}),c=await Promise.all(i.args.map(u=>this.transformAlgebra(u)));if(!s.checkArity(c))throw new t.InvalidArity(c,e);return new t.Operator(e,c,s.apply)}async transformOperator(e){return this.getOperator(e.operator.toLowerCase(),e)}async transformNamed(e){return this.getOperator(e.name.value,e)}static transformAggregate(e){const i=e.aggregator;return new t.Aggregate(i,e)}static transformExistence(e){return new t.Existence(e)}};return r3.AlgebraTransformer=n,r3}var n3={},i3={},pte;function yte(){if(pte)return i3;pte=1,Object.defineProperty(i3,"__esModule",{value:!0}),i3.InternalEvaluator=void 0;const a=tt(),t=fa(),o=Me(),n=At(),r=mt(),e=hte();let i=class{constructor(c,u,l,f){this.context=c,this.mediatorQueryOperation=l,this.bindingsFactory=f,this.subEvaluators={[t.ExpressionType.Term]:(d,h)=>this.term(d),[t.ExpressionType.Variable]:(d,h)=>this.variable(d,h),[t.ExpressionType.Operator]:(d,h)=>this.evalFunction(d,h),[t.ExpressionType.Existence]:(d,h)=>this.evalExistence(d,h),[t.ExpressionType.Aggregate]:(d,h)=>this.evalAggregate()},this.transformer=new e.AlgebraTransformer(c,u)}async evaluatorExpressionEvaluation(c,u){return this.subEvaluators[c.expressionType].bind(this)(c,u)}term(c){return c}variable(c,u){const l=u.get(o.expressionToVar(this.context.getSafe(a.KeysInitQuery.dataFactory),c));if(!l)throw new o.UnboundVariableError(c.name,u);return this.transformer.transformRDFTermUnsafe(l)}async evalFunction(c,u){return c.apply({args:c.args,mapping:u,exprEval:this})}async evalExistence(c,u){const l=this.context.getSafe(a.KeysInitQuery.dataFactory),f=new r.Factory(l),d=(0,n.materializeOperation)(c.expression.input,u,f,this.bindingsFactory),h=await this.mediatorQueryOperation.mediate({operation:d,context:this.context}),p=(0,n.getSafeBindings)(h);return await new Promise((_,g)=>{p.bindingsStream.on("end",()=>{_(!1)}),p.bindingsStream.on("error",g),p.bindingsStream.on("data",()=>{p.bindingsStream.close(),_(!0)})}).then(_=>c.expression.not?!_:_).then(_=>new o.BooleanLiteral(_))}evalAggregate(){throw new o.NoAggregator}};return i3.InternalEvaluator=i,i3}var bte;function h2e(){if(bte)return n3;bte=1,Object.defineProperty(n3,"__esModule",{value:!0}),n3.ExpressionEvaluator=void 0;const a=tt(),t=yte();let o=class{constructor(r,e,i,s,c){this.context=r,this.expr=e,this.mediatorFunctionFactory=i,this.mediatorQueryOperation=s,this.bindingsFactory=c,this.internalEvaluator=new t.InternalEvaluator(r,i,s,c)}async evaluate(r){return(await this.internalEvaluator.evaluatorExpressionEvaluation(this.expr,r)).toRDF(this.context.getSafe(a.KeysInitQuery.dataFactory))}async evaluateAsEBV(r){return(await this.internalEvaluator.evaluatorExpressionEvaluation(this.expr,r)).coerceEBV()}evaluateAsEvaluatorExpression(r){return this.evaluatorExpressionEvaluation(this.expr,r)}evaluatorExpressionEvaluation(r,e){return this.internalEvaluator.evaluatorExpressionEvaluation(r,e)}};return n3.ExpressionEvaluator=o,n3}var _te;function p2e(){if(_te)return e3;_te=1,Object.defineProperty(e3,"__esModule",{value:!0}),e3.ActorExpressionEvaluatorFactoryDefault=void 0;const a=f2e(),t=tt(),o=De(),n=kt(),r=Me(),e=hte(),i=h2e();let s=class extends a.ActorExpressionEvaluatorFactory{constructor(u){super(u)}async test(u){return(0,o.passTestVoid)()}async run(u){const l=(0,r.prepareEvaluatorActionContext)(u.context);return new i.ExpressionEvaluator(l,await new e.AlgebraTransformer(l,this.mediatorFunctionFactory).transformAlgebra(u.algExpr),this.mediatorFunctionFactory,this.mediatorQueryOperation,await n.BindingsFactory.create(this.mediatorMergeBindingsContext,u.context,u.context.getSafe(t.KeysInitQuery.dataFactory)))}};return e3.ActorExpressionEvaluatorFactoryDefault=s,e3}var mte;function y2e(){return mte||(mte=1,function(a){var t=af&&af.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=af&&af.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(p2e(),a)}(af)),af}var sf={},a3={},o3={},gte;function b2e(){if(gte)return o3;gte=1,Object.defineProperty(o3,"__esModule",{value:!0}),o3.GroupsState=void 0;const a=tt(),t=kt();let o=class{constructor(r,e,i,s,c){this.pattern=r,this.mediatorBindingsAggregatorFactory=e,this.context=i,this.bindingsFactory=s,this.variables=c,this.groups=new Map,this.groupsInitializer=new Map,this.groupVariables=new Set(this.pattern.variables.map(u=>u.value)),this.waitCounter=1,this.resultHasBeenCalled=!1}consumeBindings(r){const e=this.resultCheck();if(e)return e;this.waitCounter++;const i=r.filter((l,f)=>this.groupVariables.has(f.value)),s=this.hashBindings(i);let c=this.groupsInitializer.get(s),u;if(c){const l=c;u=(async()=>{const f=await l;await Promise.all(this.pattern.aggregates.map(async d=>{const h=d.variable.value;await f.aggregators[h].putBindings(r)}))})().then(async()=>{await this.subtractWaitCounterAndCollect()})}else c=(async()=>{const l={};await Promise.all(this.pattern.aggregates.map(async d=>{const h=d.variable.value;l[h]=await this.mediatorBindingsAggregatorFactory.mediate({expr:d,context:this.context}),await l[h].putBindings(r)}));const f={aggregators:l,bindings:i};return this.groups.set(s,f),await this.subtractWaitCounterAndCollect(),f})(),this.groupsInitializer.set(s,c),u=c;return u}async subtractWaitCounterAndCollect(){--this.waitCounter===0&&await this.handleResultCollection()}async handleResultCollection(){const r=this.context.getSafe(a.KeysInitQuery.dataFactory);let e=await Promise.all([...this.groups].map(async([i,s])=>{const{bindings:c,aggregators:u}=s;let l=c;for(const f in u){const d=await u[f].result();d&&(l=l.set(r.variable(f),d))}return l}));if(e.length===0&&this.groupVariables.size===0){const i=[];await Promise.all(this.pattern.aggregates.map(async s=>{const c=s.variable,l=await(await this.mediatorBindingsAggregatorFactory.mediate({expr:s,context:this.context})).result();l!==void 0&&i.push([c,l])})),e=[this.bindingsFactory.bindings(i)]}this.waitResolver(e)}resultCheck(){if(this.resultHasBeenCalled)return Promise.reject(new Error("Calling any function after calling collectResult is invalid."))}async collectResults(){const r=this.resultCheck();if(r)return r;this.resultHasBeenCalled=!0;const e=new Promise(i=>{this.waitResolver=i});return await this.subtractWaitCounterAndCollect(),e}hashBindings(r){return(0,t.bindingsToCompactString)(r,this.variables)}};return o3.GroupsState=o,o3}var vte;function _2e(){if(vte)return a3;vte=1,Object.defineProperty(a3,"__esModule",{value:!0}),a3.ActorQueryOperationGroup=void 0;const a=Vt(),t=tt(),o=De(),n=kt(),r=At(),e=Tt(),i=b2e();let s=class extends a.ActorQueryOperationTypedMediated{constructor(u){super(u,"group"),this.mediatorBindingsAggregatorFactory=u.mediatorBindingsAggregatorFactory}async testOperation(){return(0,o.passTestVoid)()}async runOperation(u,l){const f=l.getSafe(t.KeysInitQuery.dataFactory),d=await n.BindingsFactory.create(this.mediatorMergeBindingsContext,l,f),{input:h,aggregates:p}=u,_=await this.mediatorQueryOperation.mediate({operation:h,context:l}),g=(0,r.getSafeBindings)(_),y=[...u.variables,...p.map(T=>T.variable)].map(T=>({variable:T,canBeUndef:!1})),m=(await g.metadata()).variables.map(T=>T.variable);return{type:"bindings",bindingsStream:new e.TransformIterator(()=>new Promise((T,w)=>{const O=new i.GroupsState(u,this.mediatorBindingsAggregatorFactory,l,d,m);g.bindingsStream.on("end",async()=>{try{const F=new e.ArrayIterator(await O.collectResults(),{autoStart:!1});T(F)}catch(F){w(F)}}),g.bindingsStream.on("error",w),g.bindingsStream.on("data",F=>{O.consumeBindings(F).catch(w)})}),{autoStart:!1}),metadata:async()=>({...await g.metadata(),variables:y})}}};return a3.ActorQueryOperationGroup=s,a3}var Tte;function m2e(){return Tte||(Tte=1,function(a){var t=sf&&sf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=sf&&sf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(_2e(),a)}(sf)),sf}var uf={},s3={},wte;function g2e(){if(wte)return s3;wte=1,Object.defineProperty(s3,"__esModule",{value:!0}),s3.ActorQueryOperationNop=void 0;const a=Vt(),t=tt(),o=De(),n=kt(),r=Nr(),e=Tt();let i=class extends a.ActorQueryOperationTypedMediated{constructor(c){super(c,"nop")}async testOperation(c,u){return(0,o.passTestVoid)()}async runOperation(c,u){const l=u.getSafe(t.KeysInitQuery.dataFactory),f=await n.BindingsFactory.create(this.mediatorMergeBindingsContext,u,l);return{bindingsStream:new e.SingletonIterator(f.bindings()),metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]}),type:"bindings"}}};return s3.ActorQueryOperationNop=i,s3}var Ste;function v2e(){return Ste||(Ste=1,function(a){var t=uf&&uf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=uf&&uf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(g2e(),a)}(uf)),uf}var cf={},u3={},Ote;function T2e(){if(Ote)return u3;Ote=1,Object.defineProperty(u3,"__esModule",{value:!0}),u3.ActorQueryOperationService=void 0;const a=Vt(),t=tt(),o=De(),n=kt(),r=Nr(),e=At(),i=Tt();let s=class extends a.ActorQueryOperationTypedMediated{constructor(u){super(u,"service")}async testOperation(u,l){return u.name.termType!=="NamedNode"?(0,o.failTest)(`${this.name} can only query services by IRI, while a ${u.name.termType} was given.`):(0,o.passTestVoid)()}async runOperation(u,l){const{querySource:f}=await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:u.name.value,type:this.forceSparqlEndpoint?"sparql":void 0},context:l});let d;try{d=(0,e.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:(0,e.assignOperationSource)(u.input,f),context:l}))}catch(h){if(u.silent){const p=l.getSafe(t.KeysInitQuery.dataFactory),_=await n.BindingsFactory.create(this.mediatorMergeBindingsContext,l,p);d={bindingsStream:new i.SingletonIterator(_.bindings()),type:"bindings",metadata:async()=>({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]})},this.logWarn(l,`An error occurred when executing a SERVICE clause: ${h.message}`)}else throw h}return d}};return u3.ActorQueryOperationService=s,u3}var Ate;function w2e(){return Ate||(Ate=1,function(a){var t=cf&&cf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=cf&&cf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(T2e(),a)}(cf)),cf}var lf={},c3={},Ete;function S2e(){if(Ete)return c3;Ete=1,Object.defineProperty(c3,"__esModule",{value:!0}),c3.ActorQueryOperationValues=void 0;const a=Vt(),t=tt(),o=De(),n=kt(),r=Nr(),e=Tt();let i=class extends a.ActorQueryOperationTyped{constructor(c){super(c,"values")}async testOperation(c,u){return(0,o.passTestVoid)()}async runOperation(c,u){const l=u.getSafe(t.KeysInitQuery.dataFactory),f=await n.BindingsFactory.create(this.mediatorMergeBindingsContext,u,l);return{type:"bindings",bindingsStream:new e.ArrayIterator(c.bindings.map(p=>f.bindings(Object.entries(p).map(([_,g])=>[l.variable(_.slice(1)),g])))),metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:c.bindings.length},variables:c.variables.map(p=>({variable:p,canBeUndef:c.bindings.some(_=>!(`?${p.value}`in _))}))})}}};return c3.ActorQueryOperationValues=i,c3}var xte;function O2e(){return xte||(xte=1,function(a){var t=lf&&lf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=lf&&lf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(S2e(),a)}(lf)),lf}var df={},l3={},Ite;function A2e(){if(Ite)return l3;Ite=1,Object.defineProperty(l3,"__esModule",{value:!0}),l3.ActorQueryOperationPathOneOrMore=void 0;const a=Aa(),t=tt(),o=kt(),n=At(),r=Tt(),e=mt();let i=class extends a.ActorAbstractPath{constructor(c){super(c,e.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(c,u){const l=u.getSafe(t.KeysInitQuery.dataFactory),f=new e.Factory(l),d=await o.BindingsFactory.create(this.mediatorMergeBindingsContext,u,l),h=await this.isPathArbitraryLengthDistinct(f,u,c);if(h.operation)return h.operation;u=h.context;const p=c.predicate;if(c.subject.termType!=="Variable"&&c.object.termType==="Variable"){const m=c.object,b=await this.getObjectsPredicateStarEval(c.subject,p.path,m,c.graph,u,!1,f,d),T=(c.graph.termType==="Variable"?[m,c.graph]:[m]).map(w=>({variable:w,canBeUndef:!1}));return{type:"bindings",bindingsStream:b.bindingsStream,metadata:async()=>({...await b.metadata(),variables:T})}}if(c.subject.termType==="Variable"&&c.object.termType==="Variable"){const m=f.createDistinct(f.createPath(c.subject,c.predicate.path,c.object,c.graph)),b=(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:u,operation:m})),T=c.subject,w=c.object,O={},F=new r.MultiTransformIterator(b.bindingsStream,{multiTransform:j=>{const x=j.get(T),I=j.get(w),D=c.graph.termType==="Variable"?j.get(c.graph):c.graph;return new r.TransformIterator(async()=>{const C=new r.BufferedIterator;return await this.getSubjectAndObjectBindingsPredicateStar(T,w,x,I,p.path,D,u,O,{},C,{count:0},f,d),C.transform({transform(X,z,J){c.graph.termType==="Variable"&&(X=X.set(c.graph,D)),J(X),z()}})},{maxBufferSize:128})},autoStart:!1}),Q=(c.graph.termType==="Variable"?[T,w,c.graph]:[T,w]).map(j=>({variable:j,canBeUndef:!1}));return{type:"bindings",bindingsStream:F,metadata:async()=>({...await b.metadata(),variables:Q})}}if(c.subject.termType==="Variable"&&c.object.termType!=="Variable")return this.mediatorQueryOperation.mediate({context:u,operation:f.createPath(c.object,f.createOneOrMorePath(f.createInv(p.path)),c.subject,c.graph)});const _=this.generateVariable(l),g=(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:u,operation:f.createPath(c.subject,p,_,c.graph)}));return{type:"bindings",bindingsStream:g.bindingsStream.transform({filter:m=>c.object.equals(m.get(_)),transform(m,b,T){const w=c.graph.termType==="Variable"?d.bindings([[c.graph,m.get(c.graph)]]):d.bindings();T(w),b()}}),metadata:async()=>({...await g.metadata(),variables:(c.graph.termType==="Variable"?[c.graph]:[]).map(m=>({variable:m,canBeUndef:!1}))})}}};return l3.ActorQueryOperationPathOneOrMore=i,l3}var Rte;function E2e(){return Rte||(Rte=1,function(a){var t=df&&df.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=df&&df.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(A2e(),a)}(df)),df}var ff={},d3={},Fte;function x2e(){if(Fte)return d3;Fte=1,Object.defineProperty(d3,"__esModule",{value:!0}),d3.ActorQueryOperationPathZeroOrMore=void 0;const a=Aa(),t=tt(),o=kt(),n=At(),r=Tt(),e=$t(),i=mt();let s=class extends a.ActorAbstractPath{constructor(u){super(u,i.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(u,l){const f=l.getSafe(t.KeysInitQuery.dataFactory),d=new i.Factory(f),h=await o.BindingsFactory.create(this.mediatorMergeBindingsContext,l,f),p=await this.isPathArbitraryLengthDistinct(d,l,u);if(p.operation)return p.operation;l=p.context;const _=u.predicate,g=this.getPathSources(_),y=u.subject.termType==="Variable",m=u.object.termType==="Variable";if(u.subject.termType==="Variable"&&u.object.termType==="Variable"){const Q=this.generateVariable(f,u),j=this.assignPatternSources(d,d.createPattern(u.subject,Q,u.object,u.graph),g),x=(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:l,operation:j})),I=u.subject,D=u.object,C=new Set,X={},z=new r.MultiTransformIterator(x.bindingsStream,{multiTransform:ie=>{const se=ie.get(I),ye=ie.get(D),K=u.graph.termType==="Variable"?ie.get(u.graph):u.graph,Te=(0,e.termToString)(se)+(0,e.termToString)(K),Ne=(0,e.termToString)(ye)+(0,e.termToString)(K);return new r.TransformIterator(async()=>{if(C.has(Te)&&C.has(Ne))return new r.EmptyIterator;const _e=new r.BufferedIterator,$={count:0};return C.has(Te)||(C.add(Te),await this.getSubjectAndObjectBindingsPredicateStar(I,D,se,se,_.path,K,l,X,{},_e,$,d,h)),C.has(Ne)||(C.add(Ne),await this.getSubjectAndObjectBindingsPredicateStar(I,D,ye,ye,_.path,K,l,X,{},_e,$,d,h)),_e.transform({transform(He,qe,Ce){u.graph.termType==="Variable"&&(He=He.set(u.graph,K)),Ce(He),qe()}})})}}),J=(u.graph.termType==="Variable"?[I,u.object,u.graph]:[I,u.object]).map(ie=>({variable:ie,canBeUndef:!1}));return{type:"bindings",bindingsStream:z,metadata:async()=>({...await x.metadata(),variables:J})}}if(!y&&!m){const Q=this.generateVariable(f),j=await this.getObjectsPredicateStarEval(u.subject,_.path,Q,u.graph,l,!0,d,h);return{type:"bindings",bindingsStream:j.bindingsStream.transform({filter:I=>u.object.equals(I.get(Q)),transform(I,D,C){const X=u.graph.termType==="Variable"?h.bindings([[u.graph,I.get(u.graph)]]):h.bindings();C(X),D()}}),metadata:async()=>({...await j.metadata(),variables:(u.graph.termType==="Variable"?[u.graph]:[]).map(I=>({variable:I,canBeUndef:!1}))})}}const b=y?u.object:u.subject,T=y?u.subject:u.object,w=y?d.createInv(_.path):_.path,O=await this.getObjectsPredicateStarEval(b,w,T,u.graph,l,!0,d,h),F=(u.graph.termType==="Variable"?[T,u.graph]:[T]).map(Q=>({variable:Q,canBeUndef:!1}));return{type:"bindings",bindingsStream:O.bindingsStream,metadata:async()=>({...await O.metadata(),variables:F})}}};return d3.ActorQueryOperationPathZeroOrMore=s,d3}var Nte;function I2e(){return Nte||(Nte=1,function(a){var t=ff&&ff.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=ff&&ff.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(x2e(),a)}(ff)),ff}var hf={},f3={},Dte;function R2e(){if(Dte)return f3;Dte=1,Object.defineProperty(f3,"__esModule",{value:!0}),f3.ActorQueryOperationPathZeroOrOne=void 0;const a=Aa(),t=tt(),o=kt(),n=Nr(),r=At(),e=Tt(),i=mt();let s=class extends a.ActorAbstractPath{constructor(u){super(u,i.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(u,l){const f=l.getSafe(t.KeysInitQuery.dataFactory),d=new i.Factory(f),h=await o.BindingsFactory.create(this.mediatorMergeBindingsContext,l,f),p=u.predicate,_=this.getPathSources(p),g=[];if(u.subject.termType!=="Variable"&&u.object.termType!=="Variable"&&u.subject.equals(u.object))return{type:"bindings",bindingsStream:new e.SingletonIterator(h.bindings()),metadata:()=>Promise.resolve({state:new n.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]})};const y=await this.isPathArbitraryLengthDistinct(d,l,u);if(y.operation)return y.operation;l=y.context;const m=(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:l,operation:d.createPath(u.subject,p.path,u.object,u.graph)}));let b;if(u.subject.termType==="Variable"&&u.object.termType==="Variable"){const w=this.generateVariable(f,u),O=(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:l,operation:d.createFilter(this.assignPatternSources(d,d.createPattern(u.subject,w,u.object,u.graph),_),d.createOperatorExpression("=",[d.createTermExpression(u.subject),d.createTermExpression(u.object)]))})).bindingsStream.map(F=>F.delete(w));b=new e.UnionIterator([O,m.bindingsStream],{autoStart:!1})}else u.subject.termType==="Variable"&&g.push(h.bindings([[u.subject,u.object]])),u.object.termType==="Variable"&&g.push(h.bindings([[u.object,u.subject]])),b=m.bindingsStream.prepend(g);return{type:"bindings",bindingsStream:b,metadata:async()=>{const w=await m.metadata();return{...w,cardinality:{...w.cardinality,value:w.cardinality.value+1}}}}}};return f3.ActorQueryOperationPathZeroOrOne=s,f3}var Pte;function F2e(){return Pte||(Pte=1,function(a){var t=hf&&hf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=hf&&hf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(R2e(),a)}(hf)),hf}var pf={},h3={},Lte;function N2e(){if(Lte)return h3;Lte=1,Object.defineProperty(h3,"__esModule",{value:!0}),h3.ActorQueryOperationUpdateDeleteInsert=void 0;const a=lY(),t=Vt(),o=tt(),n=kt(),r=At(),e=Tt();let i=class extends t.ActorQueryOperationTypedMediated{constructor(c){super(c,"deleteinsert"),this.blankNodeCounter=0}async testOperation(c,u){return(0,r.testReadOnly)(u)}async runOperation(c,u){const l=u.getSafe(o.KeysInitQuery.dataFactory),f=await n.BindingsFactory.create(this.mediatorMergeBindingsContext,u,l),d=c.where?(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:c.where,context:u})).bindingsStream:new e.ArrayIterator([f.bindings()],{autoStart:!1});let h,p;c.insert&&(h=new a.BindingsToQuadsIterator(l,c.insert.map(a.BindingsToQuadsIterator.localizeQuad.bind(null,l,this.blankNodeCounter)),d.clone()),this.blankNodeCounter++),c.delete&&(p=new a.BindingsToQuadsIterator(l,c.delete.map(a.BindingsToQuadsIterator.localizeQuad.bind(null,l,this.blankNodeCounter)),d.clone()),this.blankNodeCounter++);const{execute:_}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:h,quadStreamDelete:p,context:u});return{type:"void",execute:_}}};return h3.ActorQueryOperationUpdateDeleteInsert=i,h3}var jte;function D2e(){return jte||(jte=1,function(a){var t=pf&&pf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=pf&&pf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(N2e(),a)}(pf)),pf}var yf={},p3={},bf={},y3={},Mte;function P2e(){if(Mte)return y3;Mte=1,Object.defineProperty(y3,"__esModule",{value:!0}),y3.ActorQueryProcess=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n)}};return y3.ActorQueryProcess=t,y3}var qte;function sE(){return qte||(qte=1,function(a){var t=bf&&bf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=bf&&bf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(P2e(),a)}(bf)),bf}var Cte;function L2e(){if(Cte)return p3;Cte=1,Object.defineProperty(p3,"__esModule",{value:!0}),p3.ActorQueryProcessSequential=void 0;const a=sE(),t=tt(),o=De(),n=kt(),r=At(),e=mt();let i=class extends a.ActorQueryProcess{constructor(c){super(c)}async test(c){return c.context.get(t.KeysInitQuery.explain)??c.context.get(new o.ActionContextKey("explain"))?(0,o.failTest)(`${this.name} is not able to explain queries.`):(0,o.passTestVoid)()}async run(c){let{operation:u,context:l}=await this.parse(c.query,c.context);return{operation:u,context:l}=await this.optimize(u,l),{result:await this.evaluate(u,l)}}async parse(c,u){u=(await this.mediatorContextPreprocess.mediate({context:u,initialize:!0})).context;let l;if(typeof c=="string"){u=u.set(t.KeysInitQuery.queryString,c);const f=u.get(t.KeysInitQuery.baseIRI),d=u.get(t.KeysInitQuery.queryFormat),h=await this.mediatorQueryParse.mediate({context:u,query:c,queryFormat:d,baseIRI:f});l=h.operation,h.baseIRI&&(u=u.set(t.KeysInitQuery.baseIRI,h.baseIRI))}else l=c;if(u.has(t.KeysInitQuery.initialBindings)){const f=u.getSafe(t.KeysInitQuery.dataFactory),d=new e.Factory(f),h=await n.BindingsFactory.create(this.mediatorMergeBindingsContext,u,f);l=(0,r.materializeOperation)(l,u.get(t.KeysInitQuery.initialBindings),d,h),u=u.delete(t.KeysInitQuery.queryString)}return{operation:l,context:u}}async optimize(c,u){return u=u.set(t.KeysInitQuery.query,c),{operation:c,context:u}=await this.mediatorOptimizeQueryOperation.mediate({context:u,operation:c}),u=u.set(t.KeysInitQuery.query,c),{operation:c,context:u}}async evaluate(c,u){const l=await this.mediatorQueryOperation.mediate({context:u,operation:c});return l.context=u,l}};return p3.ActorQueryProcessSequential=i,p3}var Bte;function j2e(){return Bte||(Bte=1,function(a){var t=yf&&yf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=yf&&yf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(L2e(),a)}(yf)),yf}var _f={},b3={},_3={},m3={},$te;function M2e(){var d,h,_,g,y,m,b,T,w,O,F,Q,j,x,I,D,C,X,z,J,ie,se,ye,K,Te,Ne,_e,$,f6,qe,Ce,xe,we,Nae,M,B,R,Za,eo,h6,ix,ax,or,p6,OO,to,y6;if($te)return m3;$te=1,Object.defineProperty(m3,"__esModule",{value:!0}),m3.LRUCache=void 0;const a=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,t=new Set,o=typeof xr=="object"&&xr?xr:{},n=(Ae,A,E,P)=>{typeof o.emitWarning=="function"?o.emitWarning(Ae,A,E,P):console.error(`[${E}] ${A}: ${Ae}`)};let r=globalThis.AbortController,e=globalThis.AbortSignal;if(typeof r>"u"){e=class{constructor(){We(this,"onabort");We(this,"_onabort",[]);We(this,"reason");We(this,"aborted",!1)}addEventListener(P,k){this._onabort.push(k)}},r=class{constructor(){We(this,"signal",new e);A()}abort(P){var k,N;if(!this.signal.aborted){this.signal.reason=P,this.signal.aborted=!0;for(const S of this.signal._onabort)S(P);(N=(k=this.signal).onabort)==null||N.call(k,P)}}};let Ae=((d=o.env)==null?void 0:d.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const A=()=>{Ae&&(Ae=!1,n("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",A))}}const i=Ae=>!t.has(Ae),s=Ae=>Ae&&Ae===Math.floor(Ae)&&Ae>0&&isFinite(Ae),c=Ae=>s(Ae)?Ae<=Math.pow(2,8)?Uint8Array:Ae<=Math.pow(2,16)?Uint16Array:Ae<=Math.pow(2,32)?Uint32Array:Ae<=Number.MAX_SAFE_INTEGER?u:null:null;class u extends Array{constructor(A){super(A),this.fill(0)}}const p=class p{constructor(A,E){We(this,"heap");We(this,"length");if(!v(p,h))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new E(A),this.length=0}static create(A){const E=c(A);if(!E)return[];be(p,h,!0);const P=new p(A,E);return be(p,h,!1),P}push(A){this.heap[this.length++]=A}pop(){return this.heap[--this.length]}};h=new WeakMap,Le(p,h,!1);let l=p;const ke=class ke{constructor(A){Le(this,$);Le(this,y);Le(this,m);Le(this,b);Le(this,T);Le(this,w);Le(this,O);We(this,"ttl");We(this,"ttlResolution");We(this,"ttlAutopurge");We(this,"updateAgeOnGet");We(this,"updateAgeOnHas");We(this,"allowStale");We(this,"noDisposeOnSet");We(this,"noUpdateTTL");We(this,"maxEntrySize");We(this,"sizeCalculation");We(this,"noDeleteOnFetchRejection");We(this,"noDeleteOnStaleGet");We(this,"allowStaleOnFetchAbort");We(this,"allowStaleOnFetchRejection");We(this,"ignoreFetchAbort");Le(this,F);Le(this,Q);Le(this,j);Le(this,x);Le(this,I);Le(this,D);Le(this,C);Le(this,X);Le(this,z);Le(this,J);Le(this,ie);Le(this,se);Le(this,ye);Le(this,K);Le(this,Te);Le(this,Ne);Le(this,_e);Le(this,qe,()=>{});Le(this,Ce,()=>{});Le(this,xe,()=>{});Le(this,we,()=>!1);Le(this,M,A=>{});Le(this,B,(A,E,P)=>{});Le(this,R,(A,E,P,k)=>{if(P||k)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});We(this,_,"LRUCache");const{max:E=0,ttl:P,ttlResolution:k=1,ttlAutopurge:N,updateAgeOnGet:S,updateAgeOnHas:L,allowStale:U,dispose:Z,disposeAfter:me,noDisposeOnSet:pe,noUpdateTTL:Xe,maxSize:ne=0,maxEntrySize:Ie=0,sizeCalculation:ve,fetchMethod:Re,memoMethod:ce,noDeleteOnFetchRejection:Pe,noDeleteOnStaleGet:ze,allowStaleOnFetchRejection:Ue,allowStaleOnFetchAbort:Ye,ignoreFetchAbort:fe}=A;if(E!==0&&!s(E))throw new TypeError("max option must be a nonnegative integer");const H=E?c(E):Array;if(!H)throw new Error("invalid max value: "+E);if(be(this,y,E),be(this,m,ne),this.maxEntrySize=Ie||v(this,m),this.sizeCalculation=ve,this.sizeCalculation){if(!v(this,m)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(ce!==void 0&&typeof ce!="function")throw new TypeError("memoMethod must be a function if defined");if(be(this,O,ce),Re!==void 0&&typeof Re!="function")throw new TypeError("fetchMethod must be a function if specified");if(be(this,w,Re),be(this,Ne,!!Re),be(this,j,new Map),be(this,x,new Array(E).fill(void 0)),be(this,I,new Array(E).fill(void 0)),be(this,D,new H(E)),be(this,C,new H(E)),be(this,X,0),be(this,z,0),be(this,J,l.create(E)),be(this,F,0),be(this,Q,0),typeof Z=="function"&&be(this,b,Z),typeof me=="function"?(be(this,T,me),be(this,ie,[])):(be(this,T,void 0),be(this,ie,void 0)),be(this,Te,!!v(this,b)),be(this,_e,!!v(this,T)),this.noDisposeOnSet=!!pe,this.noUpdateTTL=!!Xe,this.noDeleteOnFetchRejection=!!Pe,this.allowStaleOnFetchRejection=!!Ue,this.allowStaleOnFetchAbort=!!Ye,this.ignoreFetchAbort=!!fe,this.maxEntrySize!==0){if(v(this,m)!==0&&!s(v(this,m)))throw new TypeError("maxSize must be a positive integer if specified");if(!s(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");ae(this,$,Nae).call(this)}if(this.allowStale=!!U,this.noDeleteOnStaleGet=!!ze,this.updateAgeOnGet=!!S,this.updateAgeOnHas=!!L,this.ttlResolution=s(k)||k===0?k:1,this.ttlAutopurge=!!N,this.ttl=P||0,this.ttl){if(!s(this.ttl))throw new TypeError("ttl must be a positive integer if specified");ae(this,$,f6).call(this)}if(v(this,y)===0&&this.ttl===0&&v(this,m)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!v(this,y)&&!v(this,m)){const V="LRU_CACHE_UNBOUNDED";i(V)&&(t.add(V),n("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",V,ke))}}static unsafeExposeInternals(A){return{starts:v(A,ye),ttls:v(A,K),sizes:v(A,se),keyMap:v(A,j),keyList:v(A,x),valList:v(A,I),next:v(A,D),prev:v(A,C),get head(){return v(A,X)},get tail(){return v(A,z)},free:v(A,J),isBackgroundFetch:E=>{var P;return ae(P=A,$,or).call(P,E)},backgroundFetch:(E,P,k,N)=>{var S;return ae(S=A,$,ax).call(S,E,P,k,N)},moveToTail:E=>{var P;return ae(P=A,$,OO).call(P,E)},indexes:E=>{var P;return ae(P=A,$,Za).call(P,E)},rindexes:E=>{var P;return ae(P=A,$,eo).call(P,E)},isStale:E=>{var P;return v(P=A,we).call(P,E)}}}get max(){return v(this,y)}get maxSize(){return v(this,m)}get calculatedSize(){return v(this,Q)}get size(){return v(this,F)}get fetchMethod(){return v(this,w)}get memoMethod(){return v(this,O)}get dispose(){return v(this,b)}get disposeAfter(){return v(this,T)}getRemainingTTL(A){return v(this,j).has(A)?1/0:0}*entries(){for(const A of ae(this,$,Za).call(this))v(this,I)[A]!==void 0&&v(this,x)[A]!==void 0&&!ae(this,$,or).call(this,v(this,I)[A])&&(yield[v(this,x)[A],v(this,I)[A]])}*rentries(){for(const A of ae(this,$,eo).call(this))v(this,I)[A]!==void 0&&v(this,x)[A]!==void 0&&!ae(this,$,or).call(this,v(this,I)[A])&&(yield[v(this,x)[A],v(this,I)[A]])}*keys(){for(const A of ae(this,$,Za).call(this)){const E=v(this,x)[A];E!==void 0&&!ae(this,$,or).call(this,v(this,I)[A])&&(yield E)}}*rkeys(){for(const A of ae(this,$,eo).call(this)){const E=v(this,x)[A];E!==void 0&&!ae(this,$,or).call(this,v(this,I)[A])&&(yield E)}}*values(){for(const A of ae(this,$,Za).call(this))v(this,I)[A]!==void 0&&!ae(this,$,or).call(this,v(this,I)[A])&&(yield v(this,I)[A])}*rvalues(){for(const A of ae(this,$,eo).call(this))v(this,I)[A]!==void 0&&!ae(this,$,or).call(this,v(this,I)[A])&&(yield v(this,I)[A])}[(g=Symbol.iterator,_=Symbol.toStringTag,g)](){return this.entries()}find(A,E={}){for(const P of ae(this,$,Za).call(this)){const k=v(this,I)[P],N=ae(this,$,or).call(this,k)?k.__staleWhileFetching:k;if(N!==void 0&&A(N,v(this,x)[P],this))return this.get(v(this,x)[P],E)}}forEach(A,E=this){for(const P of ae(this,$,Za).call(this)){const k=v(this,I)[P],N=ae(this,$,or).call(this,k)?k.__staleWhileFetching:k;N!==void 0&&A.call(E,N,v(this,x)[P],this)}}rforEach(A,E=this){for(const P of ae(this,$,eo).call(this)){const k=v(this,I)[P],N=ae(this,$,or).call(this,k)?k.__staleWhileFetching:k;N!==void 0&&A.call(E,N,v(this,x)[P],this)}}purgeStale(){let A=!1;for(const E of ae(this,$,eo).call(this,{allowStale:!0}))v(this,we).call(this,E)&&(ae(this,$,to).call(this,v(this,x)[E],"expire"),A=!0);return A}info(A){const E=v(this,j).get(A);if(E===void 0)return;const P=v(this,I)[E],k=ae(this,$,or).call(this,P)?P.__staleWhileFetching:P;if(k===void 0)return;const N={value:k};if(v(this,K)&&v(this,ye)){const S=v(this,K)[E],L=v(this,ye)[E];if(S&&L){const U=S-(a.now()-L);N.ttl=U,N.start=Date.now()}}return v(this,se)&&(N.size=v(this,se)[E]),N}dump(){const A=[];for(const E of ae(this,$,Za).call(this,{allowStale:!0})){const P=v(this,x)[E],k=v(this,I)[E],N=ae(this,$,or).call(this,k)?k.__staleWhileFetching:k;if(N===void 0||P===void 0)continue;const S={value:N};if(v(this,K)&&v(this,ye)){S.ttl=v(this,K)[E];const L=a.now()-v(this,ye)[E];S.start=Math.floor(Date.now()-L)}v(this,se)&&(S.size=v(this,se)[E]),A.unshift([P,S])}return A}load(A){this.clear();for(const[E,P]of A){if(P.start){const k=Date.now()-P.start;P.start=a.now()-k}this.set(E,P.value,P)}}set(A,E,P={}){var Xe,ne,Ie,ve,Re;if(E===void 0)return this.delete(A),this;const{ttl:k=this.ttl,start:N,noDisposeOnSet:S=this.noDisposeOnSet,sizeCalculation:L=this.sizeCalculation,status:U}=P;let{noUpdateTTL:Z=this.noUpdateTTL}=P;const me=v(this,R).call(this,A,E,P.size||0,L);if(this.maxEntrySize&&me>this.maxEntrySize)return U&&(U.set="miss",U.maxEntrySizeExceeded=!0),ae(this,$,to).call(this,A,"set"),this;let pe=v(this,F)===0?void 0:v(this,j).get(A);if(pe===void 0)pe=v(this,F)===0?v(this,z):v(this,J).length!==0?v(this,J).pop():v(this,F)===v(this,y)?ae(this,$,ix).call(this,!1):v(this,F),v(this,x)[pe]=A,v(this,I)[pe]=E,v(this,j).set(A,pe),v(this,D)[v(this,z)]=pe,v(this,C)[pe]=v(this,z),be(this,z,pe),Fr(this,F)._++,v(this,B).call(this,pe,me,U),U&&(U.set="add"),Z=!1;else{ae(this,$,OO).call(this,pe);const ce=v(this,I)[pe];if(E!==ce){if(v(this,Ne)&&ae(this,$,or).call(this,ce)){ce.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:Pe}=ce;Pe!==void 0&&!S&&(v(this,Te)&&((Xe=v(this,b))==null||Xe.call(this,Pe,A,"set")),v(this,_e)&&((ne=v(this,ie))==null||ne.push([Pe,A,"set"])))}else S||(v(this,Te)&&((Ie=v(this,b))==null||Ie.call(this,ce,A,"set")),v(this,_e)&&((ve=v(this,ie))==null||ve.push([ce,A,"set"])));if(v(this,M).call(this,pe),v(this,B).call(this,pe,me,U),v(this,I)[pe]=E,U){U.set="replace";const Pe=ce&&ae(this,$,or).call(this,ce)?ce.__staleWhileFetching:ce;Pe!==void 0&&(U.oldValue=Pe)}}else U&&(U.set="update")}if(k!==0&&!v(this,K)&&ae(this,$,f6).call(this),v(this,K)&&(Z||v(this,xe).call(this,pe,k,N),U&&v(this,Ce).call(this,U,pe)),!S&&v(this,_e)&&v(this,ie)){const ce=v(this,ie);let Pe;for(;Pe=ce==null?void 0:ce.shift();)(Re=v(this,T))==null||Re.call(this,...Pe)}return this}pop(){var A;try{for(;v(this,F);){const E=v(this,I)[v(this,X)];if(ae(this,$,ix).call(this,!0),ae(this,$,or).call(this,E)){if(E.__staleWhileFetching)return E.__staleWhileFetching}else if(E!==void 0)return E}}finally{if(v(this,_e)&&v(this,ie)){const E=v(this,ie);let P;for(;P=E==null?void 0:E.shift();)(A=v(this,T))==null||A.call(this,...P)}}}has(A,E={}){const{updateAgeOnHas:P=this.updateAgeOnHas,status:k}=E,N=v(this,j).get(A);if(N!==void 0){const S=v(this,I)[N];if(ae(this,$,or).call(this,S)&&S.__staleWhileFetching===void 0)return!1;if(v(this,we).call(this,N))k&&(k.has="stale",v(this,Ce).call(this,k,N));else return P&&v(this,qe).call(this,N),k&&(k.has="hit",v(this,Ce).call(this,k,N)),!0}else k&&(k.has="miss");return!1}peek(A,E={}){const{allowStale:P=this.allowStale}=E,k=v(this,j).get(A);if(k===void 0||!P&&v(this,we).call(this,k))return;const N=v(this,I)[k];return ae(this,$,or).call(this,N)?N.__staleWhileFetching:N}async fetch(A,E={}){const{allowStale:P=this.allowStale,updateAgeOnGet:k=this.updateAgeOnGet,noDeleteOnStaleGet:N=this.noDeleteOnStaleGet,ttl:S=this.ttl,noDisposeOnSet:L=this.noDisposeOnSet,size:U=0,sizeCalculation:Z=this.sizeCalculation,noUpdateTTL:me=this.noUpdateTTL,noDeleteOnFetchRejection:pe=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Xe=this.allowStaleOnFetchRejection,ignoreFetchAbort:ne=this.ignoreFetchAbort,allowStaleOnFetchAbort:Ie=this.allowStaleOnFetchAbort,context:ve,forceRefresh:Re=!1,status:ce,signal:Pe}=E;if(!v(this,Ne))return ce&&(ce.fetch="get"),this.get(A,{allowStale:P,updateAgeOnGet:k,noDeleteOnStaleGet:N,status:ce});const ze={allowStale:P,updateAgeOnGet:k,noDeleteOnStaleGet:N,ttl:S,noDisposeOnSet:L,size:U,sizeCalculation:Z,noUpdateTTL:me,noDeleteOnFetchRejection:pe,allowStaleOnFetchRejection:Xe,allowStaleOnFetchAbort:Ie,ignoreFetchAbort:ne,status:ce,signal:Pe};let Ue=v(this,j).get(A);if(Ue===void 0){ce&&(ce.fetch="miss");const Ye=ae(this,$,ax).call(this,A,Ue,ze,ve);return Ye.__returned=Ye}else{const Ye=v(this,I)[Ue];if(ae(this,$,or).call(this,Ye)){const oe=P&&Ye.__staleWhileFetching!==void 0;return ce&&(ce.fetch="inflight",oe&&(ce.returnedStale=!0)),oe?Ye.__staleWhileFetching:Ye.__returned=Ye}const fe=v(this,we).call(this,Ue);if(!Re&&!fe)return ce&&(ce.fetch="hit"),ae(this,$,OO).call(this,Ue),k&&v(this,qe).call(this,Ue),ce&&v(this,Ce).call(this,ce,Ue),Ye;const H=ae(this,$,ax).call(this,A,Ue,ze,ve),G=H.__staleWhileFetching!==void 0&&P;return ce&&(ce.fetch=fe?"stale":"refresh",G&&fe&&(ce.returnedStale=!0)),G?H.__staleWhileFetching:H.__returned=H}}async forceFetch(A,E={}){const P=await this.fetch(A,E);if(P===void 0)throw new Error("fetch() returned undefined");return P}memo(A,E={}){const P=v(this,O);if(!P)throw new Error("no memoMethod provided to constructor");const{context:k,forceRefresh:N,...S}=E,L=this.get(A,S);if(!N&&L!==void 0)return L;const U=P(A,L,{options:S,context:k});return this.set(A,U,S),U}get(A,E={}){const{allowStale:P=this.allowStale,updateAgeOnGet:k=this.updateAgeOnGet,noDeleteOnStaleGet:N=this.noDeleteOnStaleGet,status:S}=E,L=v(this,j).get(A);if(L!==void 0){const U=v(this,I)[L],Z=ae(this,$,or).call(this,U);return S&&v(this,Ce).call(this,S,L),v(this,we).call(this,L)?(S&&(S.get="stale"),Z?(S&&P&&U.__staleWhileFetching!==void 0&&(S.returnedStale=!0),P?U.__staleWhileFetching:void 0):(N||ae(this,$,to).call(this,A,"expire"),S&&P&&(S.returnedStale=!0),P?U:void 0)):(S&&(S.get="hit"),Z?U.__staleWhileFetching:(ae(this,$,OO).call(this,L),k&&v(this,qe).call(this,L),U))}else S&&(S.get="miss")}delete(A){return ae(this,$,to).call(this,A,"delete")}clear(){return ae(this,$,y6).call(this,"delete")}};y=new WeakMap,m=new WeakMap,b=new WeakMap,T=new WeakMap,w=new WeakMap,O=new WeakMap,F=new WeakMap,Q=new WeakMap,j=new WeakMap,x=new WeakMap,I=new WeakMap,D=new WeakMap,C=new WeakMap,X=new WeakMap,z=new WeakMap,J=new WeakMap,ie=new WeakMap,se=new WeakMap,ye=new WeakMap,K=new WeakMap,Te=new WeakMap,Ne=new WeakMap,_e=new WeakMap,$=new WeakSet,f6=function(){const A=new u(v(this,y)),E=new u(v(this,y));be(this,K,A),be(this,ye,E),be(this,xe,(N,S,L=a.now())=>{if(E[N]=S!==0?L:0,A[N]=S,S!==0&&this.ttlAutopurge){const U=setTimeout(()=>{v(this,we).call(this,N)&&ae(this,$,to).call(this,v(this,x)[N],"expire")},S+1);U.unref&&U.unref()}}),be(this,qe,N=>{E[N]=A[N]!==0?a.now():0}),be(this,Ce,(N,S)=>{if(A[S]){const L=A[S],U=E[S];if(!L||!U)return;N.ttl=L,N.start=U,N.now=P||k();const Z=N.now-U;N.remainingTTL=L-Z}});let P=0;const k=()=>{const N=a.now();if(this.ttlResolution>0){P=N;const S=setTimeout(()=>P=0,this.ttlResolution);S.unref&&S.unref()}return N};this.getRemainingTTL=N=>{const S=v(this,j).get(N);if(S===void 0)return 0;const L=A[S],U=E[S];if(!L||!U)return 1/0;const Z=(P||k())-U;return L-Z},be(this,we,N=>{const S=E[N],L=A[N];return!!L&&!!S&&(P||k())-S>L})},qe=new WeakMap,Ce=new WeakMap,xe=new WeakMap,we=new WeakMap,Nae=function(){const A=new u(v(this,y));be(this,Q,0),be(this,se,A),be(this,M,E=>{be(this,Q,v(this,Q)-A[E]),A[E]=0}),be(this,R,(E,P,k,N)=>{if(ae(this,$,or).call(this,P))return 0;if(!s(k))if(N){if(typeof N!="function")throw new TypeError("sizeCalculation must be a function");if(k=N(P,E),!s(k))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return k}),be(this,B,(E,P,k)=>{if(A[E]=P,v(this,m)){const N=v(this,m)-A[E];for(;v(this,Q)>N;)ae(this,$,ix).call(this,!0)}be(this,Q,v(this,Q)+A[E]),k&&(k.entrySize=P,k.totalCalculatedSize=v(this,Q))})},M=new WeakMap,B=new WeakMap,R=new WeakMap,Za=function*({allowStale:A=this.allowStale}={}){if(v(this,F))for(let E=v(this,z);!(!ae(this,$,h6).call(this,E)||((A||!v(this,we).call(this,E))&&(yield E),E===v(this,X)));)E=v(this,C)[E]},eo=function*({allowStale:A=this.allowStale}={}){if(v(this,F))for(let E=v(this,X);!(!ae(this,$,h6).call(this,E)||((A||!v(this,we).call(this,E))&&(yield E),E===v(this,z)));)E=v(this,D)[E]},h6=function(A){return A!==void 0&&v(this,j).get(v(this,x)[A])===A},ix=function(A){var N,S;const E=v(this,X),P=v(this,x)[E],k=v(this,I)[E];return v(this,Ne)&&ae(this,$,or).call(this,k)?k.__abortController.abort(new Error("evicted")):(v(this,Te)||v(this,_e))&&(v(this,Te)&&((N=v(this,b))==null||N.call(this,k,P,"evict")),v(this,_e)&&((S=v(this,ie))==null||S.push([k,P,"evict"]))),v(this,M).call(this,E),A&&(v(this,x)[E]=void 0,v(this,I)[E]=void 0,v(this,J).push(E)),v(this,F)===1?(be(this,X,be(this,z,0)),v(this,J).length=0):be(this,X,v(this,D)[E]),v(this,j).delete(P),Fr(this,F)._--,E},ax=function(A,E,P,k){const N=E===void 0?void 0:v(this,I)[E];if(ae(this,$,or).call(this,N))return N;const S=new r,{signal:L}=P;L==null||L.addEventListener("abort",()=>S.abort(L.reason),{signal:S.signal});const U={signal:S.signal,options:P,context:k},Z=(ve,Re=!1)=>{const{aborted:ce}=S.signal,Pe=P.ignoreFetchAbort&&ve!==void 0;if(P.status&&(ce&&!Re?(P.status.fetchAborted=!0,P.status.fetchError=S.signal.reason,Pe&&(P.status.fetchAbortIgnored=!0)):P.status.fetchResolved=!0),ce&&!Pe&&!Re)return pe(S.signal.reason);const ze=ne;return v(this,I)[E]===ne&&(ve===void 0?ze.__staleWhileFetching?v(this,I)[E]=ze.__staleWhileFetching:ae(this,$,to).call(this,A,"fetch"):(P.status&&(P.status.fetchUpdated=!0),this.set(A,ve,U.options))),ve},me=ve=>(P.status&&(P.status.fetchRejected=!0,P.status.fetchError=ve),pe(ve)),pe=ve=>{const{aborted:Re}=S.signal,ce=Re&&P.allowStaleOnFetchAbort,Pe=ce||P.allowStaleOnFetchRejection,ze=Pe||P.noDeleteOnFetchRejection,Ue=ne;if(v(this,I)[E]===ne&&(!ze||Ue.__staleWhileFetching===void 0?ae(this,$,to).call(this,A,"fetch"):ce||(v(this,I)[E]=Ue.__staleWhileFetching)),Pe)return P.status&&Ue.__staleWhileFetching!==void 0&&(P.status.returnedStale=!0),Ue.__staleWhileFetching;if(Ue.__returned===Ue)throw ve},Xe=(ve,Re)=>{var Pe;const ce=(Pe=v(this,w))==null?void 0:Pe.call(this,A,N,U);ce&&ce instanceof Promise&&ce.then(ze=>ve(ze===void 0?void 0:ze),Re),S.signal.addEventListener("abort",()=>{(!P.ignoreFetchAbort||P.allowStaleOnFetchAbort)&&(ve(void 0),P.allowStaleOnFetchAbort&&(ve=ze=>Z(ze,!0)))})};P.status&&(P.status.fetchDispatched=!0);const ne=new Promise(Xe).then(Z,me),Ie=Object.assign(ne,{__abortController:S,__staleWhileFetching:N,__returned:void 0});return E===void 0?(this.set(A,Ie,{...U.options,status:void 0}),E=v(this,j).get(A)):v(this,I)[E]=Ie,Ie},or=function(A){if(!v(this,Ne))return!1;const E=A;return!!E&&E instanceof Promise&&E.hasOwnProperty("__staleWhileFetching")&&E.__abortController instanceof r},p6=function(A,E){v(this,C)[E]=A,v(this,D)[A]=E},OO=function(A){A!==v(this,z)&&(A===v(this,X)?be(this,X,v(this,D)[A]):ae(this,$,p6).call(this,v(this,C)[A],v(this,D)[A]),ae(this,$,p6).call(this,v(this,z),A),be(this,z,A))},to=function(A,E){var k,N,S,L;let P=!1;if(v(this,F)!==0){const U=v(this,j).get(A);if(U!==void 0)if(P=!0,v(this,F)===1)ae(this,$,y6).call(this,E);else{v(this,M).call(this,U);const Z=v(this,I)[U];if(ae(this,$,or).call(this,Z)?Z.__abortController.abort(new Error("deleted")):(v(this,Te)||v(this,_e))&&(v(this,Te)&&((k=v(this,b))==null||k.call(this,Z,A,E)),v(this,_e)&&((N=v(this,ie))==null||N.push([Z,A,E]))),v(this,j).delete(A),v(this,x)[U]=void 0,v(this,I)[U]=void 0,U===v(this,z))be(this,z,v(this,C)[U]);else if(U===v(this,X))be(this,X,v(this,D)[U]);else{const me=v(this,C)[U];v(this,D)[me]=v(this,D)[U];const pe=v(this,D)[U];v(this,C)[pe]=v(this,C)[U]}Fr(this,F)._--,v(this,J).push(U)}}if(v(this,_e)&&((S=v(this,ie))!=null&&S.length)){const U=v(this,ie);let Z;for(;Z=U==null?void 0:U.shift();)(L=v(this,T))==null||L.call(this,...Z)}return P},y6=function(A){var E,P,k;for(const N of ae(this,$,eo).call(this,{allowStale:!0})){const S=v(this,I)[N];if(ae(this,$,or).call(this,S))S.__abortController.abort(new Error("deleted"));else{const L=v(this,x)[N];v(this,Te)&&((E=v(this,b))==null||E.call(this,S,L,A)),v(this,_e)&&((P=v(this,ie))==null||P.push([S,L,A]))}}if(v(this,j).clear(),v(this,I).fill(void 0),v(this,x).fill(void 0),v(this,K)&&v(this,ye)&&(v(this,K).fill(0),v(this,ye).fill(0)),v(this,se)&&v(this,se).fill(0),be(this,X,0),be(this,z,0),v(this,J).length=0,be(this,Q,0),be(this,F,0),v(this,_e)&&v(this,ie)){const N=v(this,ie);let S;for(;S=N==null?void 0:N.shift();)(k=v(this,T))==null||k.call(this,...S)}};let f=ke;return m3.LRUCache=f,m3}var g3={},v3={},Ute;function q2e(){if(Ute)return v3;Ute=1,Object.defineProperty(v3,"__esModule",{value:!0}),v3.LinkedRdfSourcesAsyncRdfIterator=void 0;const a=tt(),t=Nr(),o=Tt();let n=class extends o.BufferedIterator{constructor(e,i,s,c,u,l,f,d){if(super({autoStart:!1,...d}),this.started=!1,this.currentIterators=[],this.iteratorsPendingCreation=0,this.iteratorsPendingTermination=0,this.accumulatedMetadata=Promise.resolve(void 0),this._reading=!1,this.cacheSize=e,this.operation=i,this.queryBindingsOptions=s,this.context=c,this.firstUrl=u,this.maxIterators=l,this.sourceStateGetter=f,this.maxIterators<=0)throw new Error(`LinkedRdfSourcesAsyncRdfIterator.maxIterators must be larger than zero, but got ${this.maxIterators}`)}kickstart(){this.started||this._fillBufferAsync()}getProperty(e,i){return e==="metadata"&&!this.started&&(this.preflightMetadata||(this.preflightMetadata=new Promise((s,c)=>{this.sourceStateGetter({url:this.firstUrl},{}).then(u=>{const l=u.source.queryBindings(this.operation,this.context);l.getProperty("metadata",f=>{f.state=new t.MetadataValidationState,l.destroy(),this.accumulateMetadata(u.metadata,f).then(d=>{const h={...u.metadata,...f,...d};s(h)}).catch(()=>{s({...u.metadata,state:new t.MetadataValidationState})})})}).catch(c)})),this.preflightMetadata.then(s=>this.setProperty("metadata",s)).catch(()=>{})),super.getProperty(e,i)}_end(e){for(const i of this.currentIterators)i.destroy();super._end(e)}_read(e,i){if(this.started){for(const s of this.currentIterators){for(;e>0;){const c=s.read();if(c===null)break;e--,this._push(c)}if(e<=0)break}e>=0&&this.canStartNewIterator()?this.sourceStateGetter({url:this.firstUrl},{}).then(s=>{this.startIteratorsForNextUrls(s.handledDatasets,!1),i()}):i()}else this.started=!0,this.sourceStateGetter({url:this.firstUrl},{}).then(s=>{this.startIterator(s),i()}).catch(s=>setTimeout(()=>this.destroy(s)))}canStartNewIterator(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination<this.maxIterators&&(!this.canStartNewIteratorConsiderReadable()||!this.readable)}canStartNewIteratorConsiderReadable(){return!0}areIteratorsRunning(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination>0}startIterator(e){try{const i=e.source.queryBindings(this.operation,this.context,this.queryBindingsOptions);this.currentIterators.push(i);let s=!1,c=!1;i._destination=this,i.on("error",u=>this.destroy(u)),i.on("readable",()=>this._fillBuffer()),i.on("end",()=>{this.currentIterators.splice(this.currentIterators.indexOf(i),1),s=!0,c||this.iteratorsPendingTermination++,c&&this.startIteratorsForNextUrls(e.handledDatasets,!0)}),i.getProperty("metadata",u=>{this.accumulatedMetadata=this.accumulatedMetadata.then(l=>(async()=>(l||(l=e.metadata),this.accumulateMetadata(l,u)))().then(f=>{const d={...e.metadata,...u,...f};return d.state=new t.MetadataValidationState,this.updateMetadata(d),this.preflightMetadata&&this.preflightMetadata.then(h=>h.state.invalidate()).catch(()=>{}),this.getSourceLinks(d,e).then(h=>Promise.all(h)).then(async h=>{const p=await this.getLinkQueue();for(const _ of h)p.push(_,e.link);c=!0,s&&this.iteratorsPendingTermination--,this.startIteratorsForNextUrls(e.handledDatasets,!0)}).catch(h=>this.destroy(h)),d})).catch(l=>(this.destroy(l),{}))})}catch(i){this.destroy(i)}}updateMetadata(e){const i=this.getProperty("metadata");this.setProperty("metadata",e),i==null||i.state.invalidate()}isRunning(){return!this.done}startIteratorsForNextUrls(e,i){this.getLinkQueue().then(s=>{for(;this.canStartNewIterator()&&this.isRunning();){const c=s.pop();if(c)this.iteratorsPendingCreation++,this.sourceStateGetter(c,e).then(u=>{const l=this.context.get(a.KeysStatistics.dereferencedLinks);l&&l.updateStatistic({url:u.link.url,metadata:{...u.metadata,...u.link.metadata}},u.source),this.iteratorsPendingCreation--,this.startIterator(u)}).catch(u=>this.emit("error",u));else break}i&&this.isCloseable(s,!0)&&this.close()}).catch(s=>this.destroy(s))}isCloseable(e,i){return e.isEmpty()&&!this.areIteratorsRunning()}};return v3.LinkedRdfSourcesAsyncRdfIterator=n,v3}var Vte;function C2e(){if(Vte)return g3;Vte=1,Object.defineProperty(g3,"__esModule",{value:!0}),g3.MediatedLinkedRdfSourcesAsyncRdfIterator=void 0;const a=tt(),t=q2e();let o=class extends t.LinkedRdfSourcesAsyncRdfIterator{constructor(r,e,i,s,c,u,l,f,d,h,p,_,g,y){super(r,e,i,s,u,l,f,d?{maxBufferSize:Number.POSITIVE_INFINITY}:void 0),this.wasForcefullyClosed=!1,this.forceSourceType=c,this.mediatorMetadataAccumulate=h,this.mediatorRdfResolveHypermediaLinks=p,this.mediatorRdfResolveHypermediaLinksQueue=_,this.handledUrls={[u]:!0},this.aggregatedStore=d,this.dataFactory=g,this.algebraFactory=y}close(){if(!this.aggregatedStore){super.close();return}this.getLinkQueue().then(r=>{this.isCloseable(r,!1)?(this.aggregatedStore&&setTimeout(()=>this.aggregatedStore.end()),super.close()):this.wasForcefullyClosed=!0}).catch(r=>super.destroy(r))}destroy(r){if(!this.aggregatedStore){super.destroy(r);return}this.getLinkQueue().then(e=>{r??this.isCloseable(e,!1)?(this.aggregatedStore&&setTimeout(()=>this.aggregatedStore.end()),super.destroy(r)):this.wasForcefullyClosed=!0}).catch(e=>super.destroy(e))}isCloseable(r,e){return(e?r.isEmpty():this.wasForcefullyClosed||r.isEmpty())&&!this.areIteratorsRunning()}canStartNewIterator(){return!this.wasForcefullyClosed&&this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||super.canStartNewIterator()}canStartNewIteratorConsiderReadable(){return!this.aggregatedStore}isRunning(){return this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||!this.done}getLinkQueue(){return this.linkQueue||(this.linkQueue=this.mediatorRdfResolveHypermediaLinksQueue.mediate({firstUrl:this.firstUrl,context:this.context}).then(r=>r.linkQueue)),this.linkQueue}async getSourceLinks(r,e){try{const{links:i}=await this.mediatorRdfResolveHypermediaLinks.mediate({context:this.context,metadata:r}),s=this.context.get(a.KeysStatistics.discoveredLinks);if(s)for(const c of i)s.updateStatistic({url:c.url,metadata:{...c.metadata}},e.link);return i.filter(c=>this.handledUrls[c.url]?!1:(this.handledUrls[c.url]=!0,!0))}catch{return[]}}startIterator(r){var e;if(this.aggregatedStore&&!this.aggregatedStore.containedSources.has(r.link.url)){(e=this.aggregatedStore)==null||e.containedSources.add(r.link.url);const i=r.source.queryBindings(this.algebraFactory.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g")),this.context.set(a.KeysQueryOperation.unionDefaultGraph,!0)).map(s=>this.dataFactory.quad(s.get("s"),s.get("p"),s.get("o"),s.get("g")));this.aggregatedStore.import(i).on("end",()=>{super.startIterator(r)})}else super.startIterator(r)}async accumulateMetadata(r,e){return(await this.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:r,appendingMetadata:e,context:this.context})).metadata}updateMetadata(r){var e;super.updateMetadata(r),(e=this.aggregatedStore)==null||e.setBaseMetadata(r,!0)}};return g3.MediatedLinkedRdfSourcesAsyncRdfIterator=o,g3}var T3={},mf={},w3={},Qte;function Hte(){if(Qte)return w3;Qte=1,Object.defineProperty(w3,"__esModule",{value:!0}),w3.PendingStreamsIndex=void 0;const a=$t(),t=Mr();let o=class nh{constructor(){this.indexedStreams=new Map,this.allStreams=[]}termToString(r){return r&&r.termType!=="Variable"?(0,a.termToString)(r):nh.ID_VARIABLE}addPatternListener(r,e,i,s,c){this.allStreams.push(r);const u=`${this.termToString(e)}${nh.ID_SEPARATOR}${this.termToString(i)}${nh.ID_SEPARATOR}${this.termToString(s)}${nh.ID_SEPARATOR}${this.termToString(c)}`;let l=this.indexedStreams.get(u);l||(l=[],this.indexedStreams.set(u,l)),l.push(r)}getPendingStreamsForQuad(r){let e=[(0,t.getTerms)(r).map(s=>(0,a.termToString)(s))];for(let s=0;s<t.QUAD_TERM_NAMES.length;s++){const c=e;e=[];for(const u of c){e.push(u);const l=[...u];l[s]=nh.ID_VARIABLE,e.push(l)}}const i=[];for(const s of e){const c=this.indexedStreams.get(s.join(nh.ID_SEPARATOR));c&&i.push(...c)}return i}};return o.ID_VARIABLE="?",o.ID_SEPARATOR=":",w3.PendingStreamsIndex=o,w3}var ai={},Gte;function B2e(){if(Gte)return ai;Gte=1;var a=ai&&ai.__asyncValues||function(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=s[Symbol.asyncIterator],u;return c?c.call(s):(s=typeof __values=="function"?__values(s):s[Symbol.iterator](),u={},l("next"),l("throw"),l("return"),u[Symbol.asyncIterator]=function(){return this},u);function l(d){u[d]=s[d]&&function(h){return new Promise(function(p,_){h=s[d](h),f(p,_,h.done,h.value)})}}function f(d,h,p,_){Promise.resolve(_).then(function(g){d({value:g,done:p})},h)}},t=ai&&ai.__await||function(s){return this instanceof t?(this.v=s,this):new t(s)},o=ai&&ai.__asyncGenerator||function(s,c,u){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=u.apply(s,c||[]),f,d=[];return f={},h("next"),h("throw"),h("return"),f[Symbol.asyncIterator]=function(){return this},f;function h(b){l[b]&&(f[b]=function(T){return new Promise(function(w,O){d.push([b,T,w,O])>1||p(b,T)})})}function p(b,T){try{_(l[b](T))}catch(w){m(d[0][3],w)}}function _(b){b.value instanceof t?Promise.resolve(b.value.v).then(g,y):m(d[0][2],b)}function g(b){p("next",b)}function y(b){p("throw",b)}function m(b,T){b(T),d.shift(),d.length&&p(d[0][0],d[0][1])}};Object.defineProperty(ai,"__esModule",{value:!0}),ai.StreamingStore=void 0;const n=ma,r=qt(),e=Hte();let i=class Dae{constructor(c=new n.Store){this.pendingStreams=new e.PendingStreamsIndex,this.ended=!1,this.store=c}end(){this.ended=!0;for(const c of this.pendingStreams.allStreams)c.push(null)}importToListeners(c){c.on("data",u=>{if(!this.ended&&!this.store.countQuads(u.subject,u.predicate,u.object,u.graph))for(const l of this.pendingStreams.getPendingStreamsForQuad(u))l.isInitialized&&(l.push(u),l.emit("quad",u))})}static concatStreams(c){return o(this,arguments,function*(){var l,f,d,h;for(const y of c)try{for(var p=!0,_=(f=void 0,a(y)),g;g=yield t(_.next()),l=g.done,!l;){h=g.value,p=!1;try{yield yield t(h)}finally{p=!0}}}catch(m){f={error:m}}finally{try{!p&&!l&&(d=_.return)&&(yield t(d.call(_)))}finally{if(f)throw f.error}}})}import(c){if(this.ended)throw new Error("Attempted to import into an ended StreamingStore");return this.importToListeners(c),this.store.import(c)}match(c,u,l,f){const d=this.store.match(c,u,l,f);let h=d;if(!this.ended){const p=new r.PassThrough({objectMode:!0});this.pendingStreams.addPatternListener(p,c,u,l,f),h=r.Readable.from(Dae.concatStreams([d,p])),h._pipeSource=d;const _=d._read;d._read=g=>{p.isInitialized=!0,_.call(d,g)}}return h}getStore(){return this.store}};return ai.StreamingStore=i,ai}var zte;function $2e(){return zte||(zte=1,function(a){var t=mf&&mf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=mf&&mf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Hte(),a),o(B2e(),a)}(mf)),mf}var kte;function U2e(){if(kte)return T3;kte=1,Object.defineProperty(T3,"__esModule",{value:!0}),T3.StreamingStoreMetadata=void 0;const a=Sa(),t=Nr(),o=$2e();let n=class extends o.StreamingStore{constructor(e,i){super(e),this.started=!1,this.containedSources=new Set,this.runningIterators=new Set,this.iteratorCreatedListeners=new Set,this.baseMetadata={state:new t.MetadataValidationState,cardinality:{type:"exact",value:0},variables:[]},this.metadataAccumulator=i}import(e){return this.ended||super.import(e),e}hasRunningIterators(){return this.runningIterators.size>0}match(e,i,s,c){const u=super.match(e,i,s,c),l=new a.ClosableTransformIterator(u,{autoStart:!1,onClose:()=>{this.runningIterators.delete(l)}});let f=this.getStore().countQuads(e,i,s,c);const d={state:new t.MetadataValidationState,cardinality:{type:"estimate",value:f}};l.setProperty("metadata",d),l.setProperty("lastCount",f),u.on("quad",()=>{l.setProperty("lastCount",++f),this.updateMetadataState(l,f)}),this.runningIterators.add(l);for(const h of this.iteratorCreatedListeners)h();return l}setBaseMetadata(e,i){if(this.baseMetadata={...e},this.baseMetadata.cardinality={type:"exact",value:0},i)for(const s of this.runningIterators){const c=s.getProperty("lastCount");this.updateMetadataState(s,c)}}updateMetadataState(e,i){const s={state:new t.MetadataValidationState,cardinality:{type:"estimate",value:i},variables:[]};this.metadataAccumulator(this.baseMetadata,s).then(c=>{c.state=new t.MetadataValidationState;const u=e.getProperty("metadata");e.setProperty("metadata",c),u==null||u.state.invalidate()}).catch(()=>{})}addIteratorCreatedListener(e){this.iteratorCreatedListeners.add(e)}removeIteratorCreatedListener(e){this.iteratorCreatedListeners.delete(e)}};return T3.StreamingStoreMetadata=n,T3}var Xte;function Wte(){if(Xte)return _3;Xte=1,Object.defineProperty(_3,"__esModule",{value:!0}),_3.QuerySourceHypermedia=void 0;const a=MN(),t=tt(),o=Tt(),n=M2e(),r=qt(),e=mt(),i=C2e(),s=U2e();let c=class{constructor(l,f,d,h,p,_,g,y,m){this.referenceValue=f,this.cacheSize=l,this.firstUrl=f,this.forceSourceType=d,this.maxIterators=h,this.mediators=_,this.aggregateStore=p,this.logWarning=g,this.dataFactory=y,this.bindingsFactory=m,this.sourcesState=new n.LRUCache({max:this.cacheSize})}async getSelectorShape(l){return(await this.getSourceCached({url:this.firstUrl},{},l,this.getAggregateStore(l))).source.getSelectorShape(l)}queryBindings(l,f,d){const h=this.getAggregateStore(f);if(h&&l.type==="pattern"&&h.started)return new a.QuerySourceRdfJs(h,f.getSafe(t.KeysInitQuery.dataFactory),this.bindingsFactory).queryBindings(l,f);this.sourcesState.size===0&&this.getSourceCached({url:this.firstUrl},{},f,h).catch(y=>g.destroy(y));const p=f.getSafe(t.KeysInitQuery.dataFactory),_=new e.Factory(p),g=new i.MediatedLinkedRdfSourcesAsyncRdfIterator(this.cacheSize,l,d,f,this.forceSourceType,this.firstUrl,this.maxIterators,(y,m)=>this.getSourceCached(y,m,f,h),h,this.mediators.mediatorMetadataAccumulate,this.mediators.mediatorRdfResolveHypermediaLinks,this.mediators.mediatorRdfResolveHypermediaLinksQueue,p,_);if(h){h.started=!0;const y=()=>g.kickstart();h.addIteratorCreatedListener(y),g.on("end",()=>h.removeIteratorCreatedListener(y))}return g}queryQuads(l,f){return new o.TransformIterator(async()=>(await this.getSourceCached({url:this.firstUrl},{},f,this.getAggregateStore(f))).source.queryQuads(l,f))}async queryBoolean(l,f){return await(await this.getSourceCached({url:this.firstUrl},{},f,this.getAggregateStore(f))).source.queryBoolean(l,f)}async queryVoid(l,f){return await(await this.getSourceCached({url:this.firstUrl},{},f,this.getAggregateStore(f))).source.queryVoid(l,f)}async getSource(l,f,d,h){var b;l.context&&(d=d.merge(l.context));let p=l.url,_,g;try{const T=await this.mediators.mediatorDereferenceRdf.mediate({context:d,url:p});p=T.url;const w=await this.mediators.mediatorMetadata.mediate({context:d,url:p,quads:T.data,triples:(b=T.metadata)==null?void 0:b.triples});w.data.on("error",()=>{}),g=(await this.mediators.mediatorMetadataExtract.mediate({context:d,url:p,metadata:w.metadata,headers:T.headers,requestTime:T.requestTime})).metadata,_=w.data,l.transform&&(_=await l.transform(_))}catch(T){_=new r.Readable,_.read=()=>(setTimeout(()=>_.emit("error",T)),null),{metadata:g}=await this.mediators.mediatorMetadataAccumulate.mediate({context:d,mode:"initialize"}),this.logWarning(`Metadata extraction for ${p} failed: ${T.message}`)}h==null||h.setBaseMetadata(g,!1),h==null||h.containedSources.add(l.url),h==null||h.import(_);const{source:y,dataset:m}=await this.mediators.mediatorQuerySourceIdentifyHypermedia.mediate({context:d,forceSourceType:l.url===this.firstUrl?this.forceSourceType:void 0,handledDatasets:f,metadata:g,quads:_,url:p});return m&&(f[m]=!0),{link:l,source:y,metadata:g,handledDatasets:f}}getSourceCached(l,f,d,h){let p=this.sourcesState.get(l.url);return p||(p=this.getSource(l,f,d,h),(l.url===this.firstUrl||h===void 0)&&this.sourcesState.set(l.url,p),p)}getAggregateStore(l){let f;if(this.aggregateStore){const d=l.get(t.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores);if(d)return f=d.get(this.firstUrl),f||(f=new s.StreamingStoreMetadata(void 0,async(h,p)=>(await this.mediators.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:h,appendingMetadata:p,context:l})).metadata),d.set(this.firstUrl,f)),f}}toString(){return`QuerySourceHypermedia(${this.firstUrl})`}};return _3.QuerySourceHypermedia=c,_3}var Jte;function V2e(){if(Jte)return b3;Jte=1,Object.defineProperty(b3,"__esModule",{value:!0}),b3.ActorQuerySourceIdentifyHypermedia=void 0;const a=OS(),t=tt(),o=De(),n=kt(),r=Wte();let e=class extends a.ActorQuerySourceIdentify{constructor(s){super(s)}async test(s){return typeof s.querySourceUnidentified.value!="string"?(0,o.failTest)(`${this.name} requires a single query source with a URL value to be present in the context.`):(0,o.passTestVoid)()}async run(s){var u;const c=s.context.getSafe(t.KeysInitQuery.dataFactory);return{querySource:{source:new r.QuerySourceHypermedia(this.cacheSize,s.querySourceUnidentified.value,s.querySourceUnidentified.type,this.maxIterators,this.aggregateTraversalStore&&!!((u=s.querySourceUnidentified.context)!=null&&u.get(t.KeysQuerySourceIdentify.traverse)),{mediatorMetadata:this.mediatorMetadata,mediatorMetadataExtract:this.mediatorMetadataExtract,mediatorMetadataAccumulate:this.mediatorMetadataAccumulate,mediatorDereferenceRdf:this.mediatorDereferenceRdf,mediatorQuerySourceIdentifyHypermedia:this.mediatorQuerySourceIdentifyHypermedia,mediatorRdfResolveHypermediaLinks:this.mediatorRdfResolveHypermediaLinks,mediatorRdfResolveHypermediaLinksQueue:this.mediatorRdfResolveHypermediaLinksQueue},l=>this.logWarn(s.context,l),c,await n.BindingsFactory.create(this.mediatorMergeBindingsContext,s.context,c)),context:s.querySourceUnidentified.context??new o.ActionContext}}}};return b3.ActorQuerySourceIdentifyHypermedia=e,b3}var Kte;function Q2e(){return Kte||(Kte=1,function(a){var t=_f&&_f.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=_f&&_f.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(V2e(),a),o(Wte(),a)}(_f)),_f}var gf={},S3={},Yte;function H2e(){if(Yte)return S3;Yte=1,Object.defineProperty(S3,"__esModule",{value:!0}),S3.ActorRdfJoinNone=void 0;const a=un(),t=tt(),o=De(),n=kt(),r=Nr(),e=Tt();let i=class extends a.ActorRdfJoin{constructor(c){super(c,{logicalType:"inner",physicalName:"none",limitEntries:0})}async test(c){return c.entries.length>0?(0,o.failTest)(`Actor ${this.name} can only join zero entries`):await this.getJoinCoefficients(c,void 0)}async getOutput(c){const u=c.context.getSafe(t.KeysInitQuery.dataFactory),l=await n.BindingsFactory.create(this.mediatorMergeBindingsContext,c.context,u);return{result:{bindingsStream:new e.ArrayIterator([l.bindings()],{autoStart:!1}),metadata:()=>Promise.resolve({state:new r.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]}),type:"bindings"}}}async getJoinCoefficients(c,u){return(0,o.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},u)}};return S3.ActorRdfJoinNone=i,S3}var Zte;function G2e(){return Zte||(Zte=1,function(a){var t=gf&&gf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=gf&&gf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(H2e(),a)}(gf)),gf}var vf={},O3={},Tf={},A3={},ere;function z2e(){if(ere)return A3;ere=1,Object.defineProperty(A3,"__esModule",{value:!0}),A3.ActorRdfJoinMultiBind=void 0;const a=un(),t=tt(),o=De(),n=kt(),r=At(),e=Tt(),i=mt();let s=class Pae extends a.ActorRdfJoin{constructor(u){super(u,{logicalType:"inner",physicalName:"bind",canHandleUndefs:!0,isLeaf:!1})}static createBindStream(u,l,f,d,h,p,_){const g=u==="depth-first",y=m=>{const b=f.map(w=>(0,r.materializeOperation)(w,m,p,_,{bindFilter:!0})),T=w=>w.merge(m);return new e.TransformIterator(async()=>(await d(b,m)).transform({map:T}),{maxBufferSize:128,autoStart:g})};switch(u){case"depth-first":return new e.MultiTransformIterator(l,{autoStart:!1,multiTransform:y,optional:h});case"breadth-first":return new e.UnionIterator(l.transform({map:y,optional:h}),{autoStart:!1});default:throw new Error(`Received request for unknown bind order: ${u}`)}}async getOutput(u,l){const f=u.context.getSafe(t.KeysInitQuery.dataFactory),d=new i.Factory(f),h=await n.BindingsFactory.create(this.mediatorMergeBindingsContext,u.context,f),p=l.entriesSorted;this.logDebug(u.context,"First entry for Bind Join: ",()=>({entry:p[0].operation,metadata:p[0].metadata}));for(const[b,T]of p.entries())b!==0&&T.output.bindingsStream.close();const _=p[0].output,g=[...p];g.splice(0,1);const y=u.context.set(t.KeysQueryOperation.joinLeftMetadata,p[0].metadata).set(t.KeysQueryOperation.joinRightMetadatas,g.map(b=>b.metadata));return{result:{type:"bindings",bindingsStream:Pae.createBindStream(this.bindOrder,_.bindingsStream,g.map(b=>b.operation),async(b,T)=>{const w=b.length===1?b[0]:d.createJoin(b);return(0,r.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:w,context:y==null?void 0:y.set(t.KeysQueryOperation.joinBindings,T)})).bindingsStream},!1,d,h),metadata:()=>this.constructResultMetadata(p,p.map(b=>b.metadata),u.context)},physicalPlanMetadata:{bindIndex:l.entriesUnsorted.indexOf(p[0]),bindOperation:p[0].operation,bindOperationCardinality:p[0].metadata.cardinality,bindOrder:this.bindOrder}}}canBindWithOperation(u){let l=!0;return i.Util.recurseOperation(u,{[i.Algebra.types.EXTEND](){return l=!1,!1},[i.Algebra.types.GROUP](){return l=!1,!1}}),l}async getJoinCoefficients(u,l){let{metadatas:f}=l;const d=u.entries.map((j,x)=>({...j,metadata:f[x]})),h=await a.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,d,u.context);if(h.isFailed())return h;const p=h.get();f=p.map(j=>j.metadata);const _=a.ActorRdfJoin.getRequestInitialTimes(f),g=a.ActorRdfJoin.getRequestItemTimes(f),y=[...p],m=[..._],b=[...g];if(y.splice(0,1),m.splice(0,1),b.splice(0,1),y.some(j=>!this.canBindWithOperation(j.operation)))return(0,o.failTest)(`Actor ${this.name} can not bind on Extend and Group operations`);if(y.some(j=>j.operationModified))return(0,o.failTest)(`Actor ${this.name} can not be used over remaining entries with modified operations`);const T=g.some(j=>j>0);if(f[0].cardinality.value*this.minMaxCardinalityRatio/(T?1:3)>Math.max(...f.map(j=>j.cardinality.value)))return(0,o.failTest)(`Actor ${this.name} can only run if the smallest stream is much smaller than largest stream`);const w=await Promise.all(y.map(async j=>(await this.mediatorJoinSelectivity.mediate({entries:[p[0],j],context:u.context})).selectivity*this.selectivityModifier)),O=y.map((j,x)=>j.metadata.cardinality.value*w[x]).reduce((j,x)=>j+x,0),F=m.reduce((j,x)=>j+x,0),Q=b.reduce((j,x)=>j+x,0);return(0,o.passTestWithSideData)({iterations:f[0].cardinality.value*O,persistedItems:0,blockingItems:0,requestTime:_[0]+f[0].cardinality.value*(g[0]+F+O*Q)},{...l,entriesUnsorted:d,entriesSorted:p})}};return A3.ActorRdfJoinMultiBind=s,A3}var tre;function rre(){return tre||(tre=1,function(a){var t=Tf&&Tf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Tf&&Tf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(z2e(),a)}(Tf)),Tf}var nre;function k2e(){if(nre)return O3;nre=1,Object.defineProperty(O3,"__esModule",{value:!0}),O3.ActorRdfJoinOptionalBind=void 0;const a=rre(),t=un(),o=tt(),n=De(),r=kt(),e=At(),i=mt();let s=class extends t.ActorRdfJoin{constructor(u){super(u,{logicalType:"optional",physicalName:"bind",limitEntries:2,canHandleUndefs:!0,isLeaf:!1,requiresVariableOverlap:!0})}async getOutput(u){const l=u.context.getSafe(o.KeysInitQuery.dataFactory),f=new i.Factory(l),d=await r.BindingsFactory.create(this.mediatorMergeBindingsContext,u.context,l);u.entries[1].output.bindingsStream.close();const h=u.context.set(o.KeysQueryOperation.joinLeftMetadata,await u.entries[0].output.metadata()).set(o.KeysQueryOperation.joinRightMetadatas,[await u.entries[1].output.metadata()]);return{result:{type:"bindings",bindingsStream:a.ActorRdfJoinMultiBind.createBindStream(this.bindOrder,u.entries[0].output.bindingsStream,[u.entries[1].operation],async(_,g)=>{const y=_[0];return(0,e.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:y,context:h==null?void 0:h.set(o.KeysQueryOperation.joinBindings,g)})).bindingsStream},!0,f,d),metadata:async()=>await this.constructResultMetadata(u.entries,await t.ActorRdfJoin.getMetadatas(u.entries),u.context,{},!0)}}}async getJoinCoefficients(u,l){const{metadatas:f}=l,d=t.ActorRdfJoin.getRequestInitialTimes(f),h=t.ActorRdfJoin.getRequestItemTimes(f);if(u.entries[1].operation.type===i.Algebra.types.EXTEND||u.entries[1].operation.type===i.Algebra.types.GROUP)return(0,n.failTest)(`Actor ${this.name} can not bind on Extend and Group operations`);const p=(await this.mediatorJoinSelectivity.mediate({entries:u.entries,context:u.context})).selectivity*this.selectivityModifier;return(0,n.passTestWithSideData)({iterations:f[0].cardinality.value*f[1].cardinality.value*p,persistedItems:0,blockingItems:0,requestTime:d[0]+f[0].cardinality.value*(h[0]+d[1]+p*f[1].cardinality.value*h[1])},l)}};return O3.ActorRdfJoinOptionalBind=s,O3}var ire;function X2e(){return ire||(ire=1,function(a){var t=vf&&vf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=vf&&vf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(k2e(),a)}(vf)),vf}var wf={},E3={},Sf={},x3={},are;function W2e(){if(are)return x3;are=1,Object.defineProperty(x3,"__esModule",{value:!0}),x3.ActorTermComparatorFactory=void 0;const a=De();let t=class extends a.Actor{constructor(n){super(n),this.mediatorQueryOperation=n.mediatorQueryOperation,this.mediatorFunctionFactory=n.mediatorFunctionFactory,this.mediatorMergeBindingsContext=n.mediatorMergeBindingsContext}};return x3.ActorTermComparatorFactory=t,x3}var ore;function J2e(){return ore||(ore=1,function(a){var t=Sf&&Sf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Sf&&Sf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(W2e(),a)}(Sf)),Sf}var I3={},sre;function K2e(){if(sre)return I3;sre=1,Object.defineProperty(I3,"__esModule",{value:!0}),I3.TermComparatorExpressionEvaluator=void 0;let a=class{constructor(o,n,r){this.internalEvaluator=o,this.equalityFunction=n,this.lessThanFunction=r,this._TERM_ORDERING_PRIORITY={Variable:0,BlankNode:1,NamedNode:2,Literal:3,Quad:4,DefaultGraph:5}}orderTypes(o,n){if(o===n)return 0;if(o===void 0)return-1;if(n===void 0)return 1;if(o.termType!==n.termType)return this._TERM_ORDERING_PRIORITY[o.termType]<this._TERM_ORDERING_PRIORITY[n.termType]?-1:1;if(o.equals(n))return 0;if(o.termType==="Quad"&&n.termType==="Quad"){const r=this.orderTypes(o.subject,n.subject);if(r!==0)return r;const e=this.orderTypes(o.predicate,n.predicate);if(e!==0)return e;const i=this.orderTypes(o.object,n.object);return i!==0?i:this.orderTypes(o.graph,n.graph)}return o.termType==="Literal"?this.orderLiteralTypes(o,n):this.comparePrimitives(o.value,n.value)}orderLiteralTypes(o,n){const r=this.internalEvaluator.transformer.transformLiteral(o),e=this.internalEvaluator.transformer.transformLiteral(n);try{return this.equalityFunction.applyOnTerms([r,e],this.internalEvaluator).typedValue?0:this.lessThanFunction.applyOnTerms([r,e],this.internalEvaluator).typedValue?-1:1}catch{const i=this.comparePrimitives(r.dataType,e.dataType);return i!==0?i:this.comparePrimitives(r.str(),e.str())}}comparePrimitives(o,n){return o===n?0:o<n?-1:1}};return I3.TermComparatorExpressionEvaluator=a,I3}var ure;function Y2e(){if(ure)return E3;ure=1,Object.defineProperty(E3,"__esModule",{value:!0}),E3.ActorTermComparatorFactoryExpressionEvaluator=void 0;const a=yte(),t=J2e(),o=tt(),n=De(),r=kt(),e=Me(),i=K2e();let s=class extends t.ActorTermComparatorFactory{async test(u){return(0,n.passTestVoid)()}async run({context:u}){return u=e.prepareEvaluatorActionContext(u),new i.TermComparatorExpressionEvaluator(new a.InternalEvaluator(u,this.mediatorFunctionFactory,this.mediatorQueryOperation,await r.BindingsFactory.create(this.mediatorMergeBindingsContext,u,u.getSafe(o.KeysInitQuery.dataFactory))),await this.mediatorFunctionFactory.mediate({functionName:e.SparqlOperator.EQUAL,context:u,requireTermExpression:!0}),await this.mediatorFunctionFactory.mediate({functionName:e.SparqlOperator.LT,context:u,requireTermExpression:!0}))}};return E3.ActorTermComparatorFactoryExpressionEvaluator=s,E3}var cre;function Z2e(){return cre||(cre=1,function(a){var t=wf&&wf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=wf&&wf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Y2e(),a)}(wf)),wf}var Of={},R3={},lre;function eTe(){if(lre)return R3;lre=1,Object.defineProperty(R3,"__esModule",{value:!0}),R3.ActorRdfJoinMultiSmallestFilterBindings=void 0;const a=un(),t=tt(),o=De(),n=kt(),r=Sa(),e=At(),i=Tt(),s=mt();let c=class extends a.ActorRdfJoin{constructor(l){super(l,{logicalType:"inner",physicalName:"multi-smallest-filter-bindings",limitEntries:2,limitEntriesMin:!0,isLeaf:!1})}async sortJoinEntries(l,f){let{entries:d}=await this.mediatorJoinEntriesSort.mediate({entries:l,context:f});d=d.sort((m,b)=>m.operationModified&&!b.operationModified?-1:0);const h=d.splice(0,1)[0];let p,_=-1,g=0;for(const[m,b]of d.entries()){const T=h.metadata.variables.filter(w=>b.metadata.variables.some(O=>w.variable.equals(O.variable))).length;(!p||T>g||T===g&&(b.metadata.variables.length<p.metadata.variables.length||b.metadata.variables.length===p.metadata.variables.length&&b.metadata.cardinality.value<p.metadata.cardinality.value))&&(p=b,_=m,g=T)}if(g===0)return(0,o.failTest)(`Actor ${this.name} can only join with common variables`);const y=d;return y.splice(_,1),(0,o.passTest)({first:h,second:p,remaining:y})}async getOutput(l){const f=l.context.getSafe(t.KeysInitQuery.dataFactory),d=new s.Factory(f),h=await a.ActorRdfJoin.getEntriesWithMetadatas([...l.entries]),{first:p,second:_,remaining:g}=(await this.sortJoinEntries(h,l.context)).getOrThrow(),y=p.output.bindingsStream;p.output.bindingsStream=y.clone();const m=p.metadata.variables.filter(I=>_.metadata.variables.some(D=>I.variable.equals(D.variable))),b={},T=y.clone().map(I=>I.filter((D,C)=>m.some(X=>X.variable.equals(C)))).filter(I=>{const D=(0,n.bindingsToString)(I);return!(D in b)&&(b[D]=!0)}),w=new r.ChunkedIterator(T,this.blockSize,{autoStart:!1}),O=(0,e.getOperationSource)(_.operation),Q={output:{type:"bindings",bindingsStream:new i.UnionIterator(w.map(I=>O.source.queryBindings(_.operation,O.context?l.context.merge(O.context):l.context,{filterBindings:{bindings:I,metadata:p.metadata}}))),metadata:_.output.metadata},operation:_.operation,operationModified:!0};_.output.bindingsStream.destroy();const j={output:(0,e.getSafeBindings)(await this.mediatorJoin.mediate({type:l.type,entries:[p,Q],context:l.context.set(t.KeysRdfJoin.lastPhysicalJoin,this.physicalName)})),operation:d.createJoin([p.operation,Q.operation],!1),operationModified:!0},x=g;return x.unshift(j),{result:await this.mediatorJoin.mediate({type:l.type,entries:x,context:l.context}),physicalPlanMetadata:{firstIndex:h.indexOf(p),secondIndex:h.indexOf(_)}}}async getJoinCoefficients(l,f){let{metadatas:d}=f;if(l.context.get(t.KeysRdfJoin.lastPhysicalJoin)===this.physicalName)return(0,o.failTest)(`Actor ${this.name} can not be called recursively`);d=[...d];const h=await this.sortJoinEntries(l.entries.map((Q,j)=>({...Q,metadata:d[j]})),l.context);if(h.isFailed())return h;const{first:p,second:_,remaining:g}=h.get(),y=(0,e.getOperationSource)(_.operation);if(!y)return(0,o.failTest)(`Actor ${this.name} can only process if entries[1] has a source`);const m=_.operation,b=await y.source.getSelectorShape(l.context);if(!(0,e.doesShapeAcceptOperation)(b,m,{filterBindings:!0}))return(0,o.failTest)(`Actor ${this.name} can only process if entries[1] accept filterBindings`);d=[p.metadata,_.metadata,...g.map(Q=>Q.metadata)];const T=a.ActorRdfJoin.getRequestInitialTimes(d),w=a.ActorRdfJoin.getRequestItemTimes(d),{selectivity:O}=await this.mediatorJoinSelectivity.mediate({entries:[p,_],context:l.context}),F=g.reduce((Q,j)=>Q*j.metadata.cardinality.value*this.selectivityModifier,1);return(0,o.passTestWithSideData)({iterations:O*this.selectivityModifier*_.metadata.cardinality.value*F,persistedItems:p.metadata.cardinality.value,blockingItems:p.metadata.cardinality.value,requestTime:T[0]+d[0].cardinality.value*w[0]+T[1]+F*w[1]},f)}};return R3.ActorRdfJoinMultiSmallestFilterBindings=c,R3}var dre;function tTe(){return dre||(dre=1,function(a){var t=Of&&Of.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Of&&Of.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(eTe(),a)}(Of)),Of}var Af={},F3={},fre;function rTe(){if(fre)return F3;fre=1,Object.defineProperty(F3,"__esModule",{value:!0}),F3.ActorQueryProcessExplainParsed=void 0;const a=sE(),t=tt(),o=De();let n=class extends a.ActorQueryProcess{constructor(e){super(e)}async test(e){return(e.context.get(t.KeysInitQuery.explain)??e.context.get(new o.ActionContextKey("explain")))!=="parsed"?(0,o.failTest)(`${this.name} can only explain in 'parsed' mode.`):(0,o.passTestVoid)()}async run(e){const{operation:i}=await this.queryProcessor.parse(e.query,e.context);return{result:{explain:!0,type:"parsed",data:i}}}};return F3.ActorQueryProcessExplainParsed=n,F3}var hre;function nTe(){return hre||(hre=1,function(a){var t=Af&&Af.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Af&&Af.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(rTe(),a)}(Af)),Af}var Ef={},N3={},pre;function iTe(){if(pre)return N3;pre=1,Object.defineProperty(N3,"__esModule",{value:!0}),N3.ActorQueryProcessExplainLogical=void 0;const a=sE(),t=tt(),o=De();let n=class extends a.ActorQueryProcess{constructor(e){super(e)}async test(e){return(e.context.get(t.KeysInitQuery.explain)??e.context.get(new o.ActionContextKey("explain")))!=="logical"?(0,o.failTest)(`${this.name} can only explain in 'logical' mode.`):(0,o.passTestVoid)()}async run(e){let{operation:i,context:s}=await this.queryProcessor.parse(e.query,e.context);return{operation:i,context:s}=await this.queryProcessor.optimize(i,s),{result:{explain:!0,type:"logical",data:i}}}};return N3.ActorQueryProcessExplainLogical=n,N3}var yre;function aTe(){return yre||(yre=1,function(a){var t=Ef&&Ef.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ef&&Ef.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(iTe(),a)}(Ef)),Ef}var xf={},D3={},If={},bre;function _re(){if(bre)return If;bre=1,Object.defineProperty(If,"__esModule",{value:!0}),If.numberToString=If.MemoryPhysicalQueryPlanLogger=void 0;const a=$t();let t=class{constructor(){this.planNodes=new Map}logOperation(r,e,i,s,c,u){const l={actor:c,logicalOperator:r,physicalOperator:e,rawNode:i,children:[],metadata:u};if(this.planNodes.set(i,l),this.rootNode){if(!s)throw new Error("Detected more than one parent-less node");const f=this.planNodes.get(s);if(!f)throw new Error("Could not find parent node");f.children.push(l)}else{if(s)throw new Error("No root node has been set yet, while a parent is being referenced");this.rootNode=l}}stashChildren(r,e){const i=this.planNodes.get(r);if(!i)throw new Error("Could not find plan node");i.children=e?i.children.filter(e):[]}unstashChild(r,e){const i=this.planNodes.get(r);if(i){const s=this.planNodes.get(e);if(!s)throw new Error("Could not find plan parent node");s.children.push(i)}}appendMetadata(r,e){const i=this.planNodes.get(r);i&&(i.metadata={...i.metadata,...e})}toJson(){return this.rootNode?this.planNodeToJson(this.rootNode):{}}planNodeToJson(r){var i;const e={logical:r.logicalOperator,physical:r.physicalOperator,...this.getLogicalMetadata(r.rawNode),...this.compactMetadata(r.metadata)};if(r.children.length>0&&(e.children=r.children.map(s=>this.planNodeToJson(s))),e.physical==="bind"&&e.children){const s={};for(const u of e.children){const l=((i=u.children)==null?void 0:i.at(-1))??u,f=this.getPlanHash(l).join(",");s[f]||(s[f]=[]),s[f].push(u)}const c=[];for(const u of Object.values(s))c.push({occurrences:u.length,firstOccurrence:u[0]});e.childrenCompact=c,delete e.children}return e}getPlanHash(r){let e=[`${r.logical}-${r.physical}`];return r.children?e=[...e,...r.children.flatMap(i=>this.getPlanHash(i))]:r.childrenCompact&&(e=[...e,...r.childrenCompact.flatMap(i=>this.getPlanHash(i.firstOccurrence))]),e}compactMetadata(r){return Object.fromEntries(Object.entries(r).map(([e,i])=>[e,this.compactMetadataValue(i)]))}compactMetadataValue(r){return r&&typeof r=="object"&&"termType"in r?this.getLogicalMetadata(r):r}getLogicalMetadata(r){var i;const e={};if("type"in r){const s=r;switch((i=s.metadata)!=null&&i.scopedSource&&(e.source=s.metadata.scopedSource.source.toString()),s.type){case"pattern":e.pattern=this.quadToString(s);break;case"project":e.variables=s.variables.map(c=>c.value);break}}return e}quadToString(r){return`${(0,a.termToString)(r.subject)} ${(0,a.termToString)(r.predicate)} ${(0,a.termToString)(r.object)}${r.graph.termType==="DefaultGraph"?"":` ${(0,a.termToString)(r.graph)}`}`}toCompactString(){const r=this.toJson(),e=[],i=new Map;if("logical"in r?this.nodeToCompactString(e,i,"",r):e.push("Empty"),i.size>0){e.push(""),e.push("sources:");for(const[s,c]of i.entries())e.push(`  ${c}: ${s}`)}return e.join(`
`)}nodeToCompactString(r,e,i,s,c){let u;s.source&&(u=e.get(s.source),u===void 0&&(u=e.size,e.set(s.source,u))),r.push(`${i}${s.logical}${s.physical?`(${s.physical})`:""}${s.pattern?` (${s.pattern})`:""}${s.variables?` (${s.variables.join(",")})`:""}${s.bindOperation?` bindOperation:(${s.bindOperation.pattern}) bindCardEst:${s.bindOperationCardinality.type==="estimate"?"~":""}${o(s.bindOperationCardinality.value)}`:""}${s.cardinality?` cardEst:${s.cardinality.type==="estimate"?"~":""}${o(s.cardinality.value)}`:""}${s.source?` src:${u}`:""}${s.cardinalityReal?` cardReal:${s.cardinalityReal}`:""}${s.timeSelf?` timeSelf:${o(s.timeSelf)}ms`:""}${s.timeLife?` timeLife:${o(s.timeLife)}ms`:""}${c?` ${c}`:""}`);for(const l of s.children??[])this.nodeToCompactString(r,e,`${i}  `,l);for(const l of s.childrenCompact??[])this.nodeToCompactString(r,e,`${i}  `,l.firstOccurrence,`compacted-occurrences:${l.occurrences}`)}};If.MemoryPhysicalQueryPlanLogger=t;function o(n){return n.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:3})}return If.numberToString=o,If}var mre;function oTe(){if(mre)return D3;mre=1,Object.defineProperty(D3,"__esModule",{value:!0}),D3.ActorQueryProcessExplainPhysical=void 0;const a=sE(),t=tt(),o=De(),n=_re();let r=class extends a.ActorQueryProcess{constructor(i){super(i)}async test(i){const s=i.context.get(t.KeysInitQuery.explain)??i.context.get(new o.ActionContextKey("explain"));return s!=="physical"&&s!=="physical-json"?(0,o.failTest)(`${this.name} can only explain in 'physical' or 'physical-json' mode.`):(0,o.passTestVoid)()}async run(i){let{operation:s,context:c}=await this.queryProcessor.parse(i.query,i.context);({operation:s,context:c}=await this.queryProcessor.optimize(s,c));const u=new n.MemoryPhysicalQueryPlanLogger;c=c.set(t.KeysInitQuery.physicalQueryPlanLogger,u);const l=await this.queryProcessor.evaluate(s,c);switch(l.type){case"bindings":await l.bindingsStream.toArray();break;case"quads":await l.quadStream.toArray();break;case"boolean":await l.execute();break;case"void":await l.execute();break}const f=i.context.get(t.KeysInitQuery.explain)??i.context.getSafe(new o.ActionContextKey("explain"));return{result:{explain:!0,type:f,data:f==="physical"?u.toCompactString():u.toJson()}}}};return D3.ActorQueryProcessExplainPhysical=r,D3}var gre;function sTe(){return gre||(gre=1,function(a){var t=xf&&xf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=xf&&xf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(oTe(),a),o(_re(),a)}(xf)),xf}var Rf={},P3={},vre;function uTe(){if(vre)return P3;vre=1,Object.defineProperty(P3,"__esModule",{value:!0}),P3.ActorOptimizeQueryOperationPruneEmptySourceOperations=void 0;const a=Pn(),t=tt(),o=De(),n=At(),r=mt();let e=class AO extends a.ActorOptimizeQueryOperation{constructor(s){super(s)}async test(s){return(0,n.getOperationSource)(s.operation)?(0,o.failTest)(`Actor ${this.name} does not work with top-level operation sources.`):(0,o.passTestVoid)()}async run(s){const c=s.context.getSafe(t.KeysInitQuery.dataFactory),u=new r.Factory(c);let l=s.operation;const f=[],d=this;r.Util.recurseOperation(l,{[r.Algebra.types.UNION](p){return d.collectMultiOperationInputs(p.input,f,r.Algebra.types.PATTERN),!0},[r.Algebra.types.ALT](p){return d.collectMultiOperationInputs(p.input,f,r.Algebra.types.LINK),!1},[r.Algebra.types.SERVICE](){return!1}});const h=new Set;return await Promise.all(f.map(async p=>{const _=p.type==="link"?u.createPattern(c.variable("?s"),p.iri,c.variable("?o")):p;await this.hasSourceResults(u,(0,n.getOperationSource)(p),_,s.context)||h.add(p)})),h.size>0&&(this.logDebug(s.context,`Pruning ${h.size} source-specific operations`),l=r.Util.mapOperation(l,{[r.Algebra.types.UNION](p,_){return d.mapMultiOperation(p,h,g=>_.createUnion(g))},[r.Algebra.types.ALT](p,_){return d.mapMultiOperation(p,h,g=>_.createAlt(g))}},u),l=r.Util.mapOperation(l,{[r.Algebra.types.PROJECT](p,_){return AO.hasEmptyOperation(p)?{recurse:!1,result:_.createUnion([])}:{recurse:!0,result:p}},[r.Algebra.types.LEFT_JOIN](p){return AO.hasEmptyOperation(p.input[1])?{recurse:!0,result:p.input[0]}:{recurse:!0,result:p}}},u)),{operation:l,context:s.context}}static hasEmptyOperation(s){let c=!1;return r.Util.recurseOperation(s,{[r.Algebra.types.UNION](u){return u.input.every(l=>AO.hasEmptyOperation(l))&&(c=!0),!1},[r.Algebra.types.ALT](u){return u.input.length===0&&(c=!0),!1},[r.Algebra.types.LEFT_JOIN](u){return AO.hasEmptyOperation(u.input[0])&&(c=!0),!1}}),c}collectMultiOperationInputs(s,c,u){for(const l of s)(0,n.getOperationSource)(l)&&l.type===u&&c.push(l)}mapMultiOperation(s,c,u){const l=s.input.filter(f=>!c.has(f));return l.length===s.input.length?{result:s,recurse:!0}:l.length===0?{result:u([]),recurse:!1}:l.length===1?{result:l[0],recurse:!0}:{result:u(l),recurse:!0}}async hasSourceResults(s,c,u,l){var d;if(((d=c.context)==null?void 0:d.get(t.KeysQuerySourceIdentify.traverse))??l.get(t.KeysQuerySourceIdentify.traverse))return!0;if(this.useAskIfSupported){const h=s.createAsk(u);if((0,n.doesShapeAcceptOperation)(await c.source.getSelectorShape(l),h))return c.source.queryBoolean(h,l)}const f=c.source.queryBindings(u,l);return new Promise((h,p)=>{f.on("error",p),f.getProperty("metadata",_=>{f.destroy(),h(_.cardinality.value>0)})})}};return P3.ActorOptimizeQueryOperationPruneEmptySourceOperations=e,P3}var Tre;function cTe(){return Tre||(Tre=1,function(a){var t=Rf&&Rf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Rf&&Rf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(uTe(),a)}(Rf)),Rf}var Ff={},L3={},wre;function lTe(){if(wre)return L3;wre=1,Object.defineProperty(L3,"__esModule",{value:!0}),L3.ActorHttpRetry=void 0;const a=wa(),t=tt(),o=De();let n=class ih extends a.ActorHttp{constructor(e){super(e),this.activeDelays={},this.httpInvalidator=e.httpInvalidator,this.httpInvalidator.addInvalidateListener(i=>this.handleHttpInvalidateEvent(i)),this.mediatorHttp=e.mediatorHttp}async test(e){if(e.context.has(ih.keyWrapped))return(0,o.failTest)(`${this.name} can only wrap a request once`);const i=e.context.get(t.KeysHttp.httpRetryCount);return!i||i<1?(0,o.failTest)(`${this.name} requires a retry count greater than zero to function`):(0,o.passTest)({time:0})}async run(e){const i=a.ActorHttp.getInputUrl(e.input),s=e.context.getSafe(t.KeysHttp.httpRetryCount)+1,c=e.context.get(t.KeysHttp.httpRetryDelayFallback)??0,u=e.context.get(t.KeysHttp.httpRetryDelayLimit),l=e.context.get(t.KeysHttp.httpRetryStatusCodes);for(let f=1;f<=s;f++){const d=i.host in this.activeDelays?this.activeDelays[i.host].date.getTime()-Date.now():c;if(u&&d>u){this.logWarn(e.context,"Requested delay exceeds the limit",()=>({url:i.href,delay:d,delayDate:this.activeDelays[i.host].date.toISOString(),delayLimit:u,currentAttempt:`${f} / ${s}`}));break}else d>0&&f>1&&(this.logDebug(e.context,"Delaying request",()=>({url:i.href,delay:d,currentAttempt:`${f} / ${s}`})),await ih.sleep(d));const h=await this.mediatorHttp.mediate({...e,context:e.context.set(ih.keyWrapped,!0)});if(h.ok)return h;if(l&&l.includes(h.status)){this.logDebug(e.context,"Status code in force retry list, forcing retry",()=>({url:i.href,status:h.status,statusText:h.statusText,currentAttempt:`${f} / ${s}`}));continue}if(h.status===504){this.logDebug(e.context,"Received proxy timeout",()=>({url:i.href,status:h.status,statusText:h.statusText,currentAttempt:`${f} / ${s}`}));continue}if(h.status===429||h.status===503){const p=h.headers.get("retry-after");if(p){const _=ih.parseRetryAfterHeader(p);_?(i.host in this.activeDelays&&clearTimeout(this.activeDelays[i.host].timeout),this.activeDelays[i.host]={date:_,timeout:setTimeout(()=>delete this.activeDelays[i.host],Date.now()-_.getTime())}):this.logDebug(e.context,"Invalid Retry-After header value from server",()=>({url:i.href,status:h.status,statusText:h.statusText,retryAfterHeader:p,currentAttempt:`${f} / ${s}`}))}this.logDebug(e.context,"Server temporarily unavailable",()=>({url:i.href,status:h.status,statusText:h.statusText,currentAttempt:`${f} / ${s}`}));continue}if(h.status>=400&&h.status<500){this.logDebug(e.context,"Server reported client-side error",()=>({url:i.href,status:h.status,statusText:h.statusText,currentAttempt:`${f} / ${s}`}));break}if(h.status>=500&&h.status<600){this.logDebug(e.context,"Server-side error encountered, terminating",()=>({url:i.href,status:h.status,statusText:h.statusText,currentAttempt:`${f} / ${s}`}));break}this.logDebug(e.context,"Request failed",()=>({url:i.href,status:h.status,statusText:h.statusText,currentAttempt:`${f} / ${s}`}))}throw new Error(`Request failed: ${i.href}`)}static async sleep(e){e>0&&await new Promise(i=>setTimeout(i,e))}static parseRetryAfterHeader(e){if(ih.numberRegex.test(e))return new Date(Date.now()+Number.parseInt(e,10)*1e3);if(ih.dateRegex.test(e))return new Date(e)}handleHttpInvalidateEvent(e){const i=e.url?new URL(e.url).host:void 0;for(const s of Object.keys(this.activeDelays))(!i||s===i)&&(clearTimeout(this.activeDelays[s].timeout),delete this.activeDelays[s])}};return L3.ActorHttpRetry=n,n.dateRegex=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), [0-9]{2} (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) [0-9]{4} [0-9]{2}:[0-9]{2}:[0-9]{2} GMT$/u,n.numberRegex=/^[0-9]+$/u,n.keyWrapped=new o.ActionContextKey("urn:comunica:actor-http-retry#wrapped"),L3}var Sre;function dTe(){return Sre||(Sre=1,function(a){var t=Ff&&Ff.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Ff&&Ff.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(lTe(),a)}(Ff)),Ff}var Nf={},j3={},Ore;function fTe(){if(Ore)return j3;Ore=1,Object.defineProperty(j3,"__esModule",{value:!0}),j3.ActorQuerySourceIdentifySerialized=void 0;const a=OS(),t=De(),o=ste(),n=qt();let r=class extends a.ActorQuerySourceIdentify{constructor(i){super(i)}async test(i){return this.isStringSource(i.querySourceUnidentified)?(0,t.passTestVoid)():(0,t.failTest)(`${this.name} requires a single query source with serialized type to be present in the context.`)}async run(i){return await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{type:"rdfjs",value:await this.getRdfSource(i.context,i.querySourceUnidentified),context:i.querySourceUnidentified.context},context:i.context})}async getRdfSource(i,s){const c=new n.Readable({objectMode:!0});c._read=()=>{},c.push(s.value),c.push(null);const u={context:i,handle:{metadata:{baseIRI:s.baseIRI},data:c,context:i},handleMediaType:s.mediaType},l=await this.mediatorRdfParse.mediate(u);return await(0,o.storeStream)(l.handle.data)}isStringSource(i){return"type"in i?i.type==="serialized":typeof i.value!="string"?!1:"mediaType"in i}};return j3.ActorQuerySourceIdentifySerialized=r,j3}var Are;function hTe(){return Are||(Are=1,function(a){var t=Nf&&Nf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Nf&&Nf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(fTe(),a)}(Nf)),Nf}var Df={},M3={},Ere;function pTe(){if(Ere)return M3;Ere=1,Object.defineProperty(M3,"__esModule",{value:!0}),M3.ActorRdfJoinMultiBindSource=void 0;const a=un(),t=tt(),o=De(),n=Sa(),r=At(),e=Tt(),i=mt();let s=class extends a.ActorRdfJoin{constructor(u){super(u,{logicalType:"inner",physicalName:"bind-source",canHandleUndefs:!0})}async getOutput(u,l){const f=u.context.getSafe(t.KeysInitQuery.dataFactory),d=new i.Factory(f),h=l.entriesSorted;this.logDebug(u.context,"First entry for Bind Join Source: ",()=>({entry:h[0].operation,metadata:h[0].metadata}));for(const[w,O]of h.entries())w!==0&&O.output.bindingsStream.close();const p=h[0].output,_=h[0].metadata,g=[...h];g.splice(0,1);const y=(0,r.getOperationSource)(g[0].operation),m=this.createOperationFromEntries(d,g),b=new n.ChunkedIterator(p.bindingsStream,this.blockSize,{autoStart:!1});return{result:{type:"bindings",bindingsStream:new e.UnionIterator(b.map(w=>y.source.queryBindings(m,y.context?u.context.merge(y.context):u.context,{joinBindings:{bindings:w,metadata:_}}))),metadata:()=>this.constructResultMetadata(h,h.map(w=>w.metadata),u.context)},physicalPlanMetadata:{bindIndex:l.entriesUnsorted.indexOf(h[0])}}}async sortJoinEntries(u,l){const f=await a.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,u,l);return f.isFailed()?f:(u=f.get(),u=u.sort((d,h)=>d.operationModified&&!h.operationModified?-1:0),(0,o.passTest)(u))}async getJoinCoefficients(u,l){let{metadatas:f}=l;const d=u.context.getSafe(t.KeysInitQuery.dataFactory),h=new i.Factory(d),p=u.entries.map((x,I)=>({...x,metadata:f[I]})),_=await this.sortJoinEntries(p,u.context);if(_.isFailed())return _;const g=_.get();f=g.map(x=>x.metadata);const y=a.ActorRdfJoin.getRequestInitialTimes(f),m=a.ActorRdfJoin.getRequestItemTimes(f),b=[...g];[...y],[...m],b.splice(0,1);const T=b.map(x=>(0,r.getOperationSource)(x.operation));if(T.some(x=>!x))return(0,o.failTest)(`Actor ${this.name} can not bind on remaining operations without source annotation`);if(T.some(x=>x!==T[0]))return(0,o.failTest)(`Actor ${this.name} can not bind on remaining operations with non-equal source annotation`);const w=T[0],O=this.createOperationFromEntries(h,b),F=await w.source.getSelectorShape(u.context);if(!(0,r.doesShapeAcceptOperation)(F,O,{joinBindings:!0}))return(0,o.failTest)(`Actor ${this.name} detected a source that can not handle passing down join bindings`);const Q=await Promise.all(b.map(async x=>(await this.mediatorJoinSelectivity.mediate({entries:[g[0],x],context:u.context})).selectivity*this.selectivityModifier)),j=b.map((x,I)=>x.metadata.cardinality.value*Q[I]).reduce((x,I)=>x+I,0);return(0,o.passTestWithSideData)({iterations:1,persistedItems:f[0].cardinality.value,blockingItems:f[0].cardinality.value,requestTime:y[0]+f[0].cardinality.value*m[0]+y[1]+j*m[1]},{...l,entriesUnsorted:p,entriesSorted:g})}createOperationFromEntries(u,l){return l.length===1?l[0].operation:u.createJoin(l.map(f=>f.operation),!0)}};return M3.ActorRdfJoinMultiBindSource=s,M3}var xre;function yTe(){return xre||(xre=1,function(a){var t=Df&&Df.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Df&&Df.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(pTe(),a)}(Df)),Df}var Pf={},q3={},Ire;function bTe(){if(Ire)return q3;Ire=1,Object.defineProperty(q3,"__esModule",{value:!0}),q3.ActorOptimizeQueryOperationJoinConnected=void 0;const a=Pn(),t=tt(),o=De(),n=mt();let r=class ox extends a.ActorOptimizeQueryOperation{async test(i){return(0,o.passTestVoid)()}async run(i){const s=i.context.getSafe(t.KeysInitQuery.dataFactory),c=new n.Factory(s);return{operation:n.Util.mapOperation(i.operation,{join(l,f){return{recurse:!1,result:ox.cluster(l,f)}}},c),context:i.context}}static cluster(i,s){const c=i.input.map(d=>({inScopeVariables:Object.fromEntries(n.Util.inScopeVariables(d).map(h=>[h.value,!0])),entries:[d]}));let u,l=c;do u=l,l=ox.clusterIteration(u);while(u.length!==l.length);const f=l.map(d=>d.entries.length===1?d.entries[0]:s.createJoin(d.entries));return f.length===1?f[0]:s.createJoin(f,!1)}static clusterIteration(i){const s=[];for(const c of i){let u=!1;for(const l of s)if(ox.haveOverlappingVariables(c.inScopeVariables,l.inScopeVariables)){l.entries=[...l.entries,...c.entries],l.inScopeVariables={...l.inScopeVariables,...c.inScopeVariables},u=!0;break}u||s.push({inScopeVariables:c.inScopeVariables,entries:c.entries})}return s}static haveOverlappingVariables(i,s){for(const c of Object.keys(i))if(s[c])return!0;return!1}};return q3.ActorOptimizeQueryOperationJoinConnected=r,q3}var Rre;function _Te(){return Rre||(Rre=1,function(a){var t=Pf&&Pf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Pf&&Pf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(bTe(),a)}(Pf)),Pf}var Lf={},C3={},Fre;function mTe(){if(Fre)return C3;Fre=1,Object.defineProperty(C3,"__esModule",{value:!0}),C3.ActorOptimizeQueryOperationBgpToJoin=void 0;const a=Pn(),t=tt(),o=De(),n=mt();let r=class extends a.ActorOptimizeQueryOperation{async test(i){return(0,o.passTestVoid)()}async run(i){const s=i.context.getSafe(t.KeysInitQuery.dataFactory),c=new n.Factory(s);return{operation:n.Util.mapOperation(i.operation,{bgp(l,f){return{recurse:!1,result:f.createJoin(l.patterns)}}},c),context:i.context}}};return C3.ActorOptimizeQueryOperationBgpToJoin=r,C3}var Nre;function gTe(){return Nre||(Nre=1,function(a){var t=Lf&&Lf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Lf&&Lf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(mTe(),a)}(Lf)),Lf}var jf={},B3={},Dre;function vTe(){if(Dre)return B3;Dre=1,Object.defineProperty(B3,"__esModule",{value:!0}),B3.ActorOptimizeQueryOperationJoinBgp=void 0;const a=Pn(),t=tt(),o=De(),n=mt();let r=class extends a.ActorOptimizeQueryOperation{async test(i){return(0,o.passTestVoid)()}async run(i){const s=i.context.getSafe(t.KeysInitQuery.dataFactory),c=new n.Factory(s);return{operation:n.Util.mapOperation(i.operation,{join(l,f){return l.input.every(d=>d.type==="bgp")?{recurse:!1,result:f.createBgp(l.input.flatMap(d=>d.patterns))}:{recurse:!1,result:l}}},c),context:i.context}}};return B3.ActorOptimizeQueryOperationJoinBgp=r,B3}var Pre;function TTe(){return Pre||(Pre=1,function(a){var t=jf&&jf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=jf&&jf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(vTe(),a)}(jf)),jf}var Mf={},$3={},Lre;function wTe(){if(Lre)return $3;Lre=1,Object.defineProperty($3,"__esModule",{value:!0}),$3.ActorOptimizeQueryOperationAssignSourcesExhaustive=void 0;const a=Pn(),t=KF(),o=tt(),n=De(),r=At(),e=mt();let i=class extends a.ActorOptimizeQueryOperation{constructor(c){super(c)}async test(c){return(0,n.passTestVoid)()}async run(c){const u=c.context.getSafe(o.KeysInitQuery.dataFactory),l=new e.Factory(u),f=c.context.get(o.KeysQueryOperation.querySources)??[];if(f.length===0)return{operation:c.operation,context:c.context};if(f.length===1){const d=f[0],h=c.context.get(o.KeysRdfUpdateQuads.destination);if(!h||d.source.referenceValue===(0,t.getDataDestinationValue)(h))try{const p=await d.source.getSelectorShape(c.context);if((0,r.doesShapeAcceptOperation)(p,c.operation))return{operation:(0,r.assignOperationSource)(c.operation,d),context:c.context}}catch{}}return{operation:this.assignExhaustive(l,c.operation,f),context:c.context.delete(o.KeysInitQuery.queryString)}}assignExhaustive(c,u,l){const f=this;return e.Util.mapOperation(u,{[e.Algebra.types.PATTERN](d,h){return l.length===1?{result:(0,r.assignOperationSource)(d,l[0]),recurse:!1}:{result:h.createUnion(l.map(p=>(0,r.assignOperationSource)(d,p))),recurse:!1}},[e.Algebra.types.LINK](d,h){return l.length===1?{result:(0,r.assignOperationSource)(d,l[0]),recurse:!1}:{result:h.createAlt(l.map(p=>(0,r.assignOperationSource)(d,p))),recurse:!1}},[e.Algebra.types.NPS](d,h){return l.length===1?{result:(0,r.assignOperationSource)(d,l[0]),recurse:!1}:{result:h.createAlt(l.map(p=>(0,r.assignOperationSource)(d,p))),recurse:!1}},[e.Algebra.types.SERVICE](d){return{result:d,recurse:!1}},[e.Algebra.types.CONSTRUCT](d,h){return{result:h.createConstruct(f.assignExhaustive(c,d.input,l),d.template),recurse:!1}},[e.Algebra.types.DELETE_INSERT](d,h){return{result:h.createDeleteInsert(d.delete,d.insert,d.where?f.assignExhaustive(c,d.where,l):void 0),recurse:!1}}},c)}};return $3.ActorOptimizeQueryOperationAssignSourcesExhaustive=i,$3}var jre;function STe(){return jre||(jre=1,function(a){var t=Mf&&Mf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Mf&&Mf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(wTe(),a)}(Mf)),Mf}var qf={},U3={},Mre;function OTe(){if(Mre)return U3;Mre=1,Object.defineProperty(U3,"__esModule",{value:!0}),U3.ActorOptimizeQueryOperationDescribeToConstructsSubject=void 0;const a=Pn(),t=tt(),o=De(),n=mt();let r=class extends a.ActorOptimizeQueryOperation{constructor(i){super(i)}async test(i){return i.operation.type!==n.Algebra.types.DESCRIBE?(0,o.failTest)(`Actor ${this.name} only supports describe operations, but got ${i.operation.type}`):(0,o.passTest)(!0)}async run(i){const s=i.context.getSafe(t.KeysInitQuery.dataFactory),c=new n.Factory(s),u=i.operation,l=u.terms.filter(d=>d.termType!=="Variable").map(d=>{const h=[s.quad(d,s.variable("__predicate"),s.variable("__object"))];return h.forEach(_=>_.type="pattern"),{input:{type:n.Algebra.types.BGP,patterns:h},template:h,type:"construct"}});if(l.length!==u.terms.length){let d=[];u.terms.filter(h=>h.termType==="Variable").forEach((h,p)=>{const _=[s.quad(h,s.variable(`__predicate${p}`),s.variable(`__object${p}`))];_.forEach(g=>g.type="pattern"),d=[...d,..._]}),l.push({input:{type:n.Algebra.types.JOIN,input:[u.input,{type:n.Algebra.types.BGP,patterns:d}]},template:d,type:n.Algebra.types.CONSTRUCT})}return{operation:c.createUnion(l,!1),context:i.context}}};return U3.ActorOptimizeQueryOperationDescribeToConstructsSubject=r,U3}var qre;function ATe(){return qre||(qre=1,function(a){var t=qf&&qf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=qf&&qf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(OTe(),a)}(qf)),qf}var HN,Cre;function ETe(){return Cre||(Cre=1,HN=function(a){const t=new(ise()).LoggerVoid,o=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^4.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),n=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^4.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),r=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^4.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),e=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-quads/^4.0.0/components/ActorHashQuads.jsonld#ActorHashQuads_default_bus"}),i=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^4.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),s=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^4.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),c=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^4.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),u=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify-hypermedia/^4.0.0/components/ActorQuerySourceIdentifyHypermedia.jsonld#ActorQuerySourceIdentifyHypermedia_default_bus"}),l=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference/^4.0.0/components/ActorDereference.jsonld#ActorDereference_default_bus"}),f=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^4.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),d=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^4.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),h=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^4.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),p=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/^4.0.0/components/ActorRdfMetadata.jsonld#ActorRdfMetadata_default_bus"}),_=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-accumulate/^4.0.0/components/ActorRdfMetadataAccumulate.jsonld#ActorRdfMetadataAccumulate_default_bus"}),g=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/^4.0.0/components/ActorRdfMetadataExtract.jsonld#ActorRdfMetadataExtract_default_bus"}),y=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse/^4.0.0/components/ActorRdfParse.jsonld#ActorRdfParse_default_bus"}),m=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-parse-html/^4.0.0/components/ActorRdfParseHtml.jsonld#ActorRdfParseHtml_default_bus"}),b=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/^4.0.0/components/ActorRdfResolveHypermediaLinks.jsonld#ActorRdfResolveHypermediaLinks_default_bus"}),T=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links-queue/^4.0.0/components/ActorRdfResolveHypermediaLinksQueue.jsonld#ActorRdfResolveHypermediaLinksQueue_default_bus"}),w=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/^4.0.0/components/ActorRdfSerialize.jsonld#ActorRdfSerialize_default_bus"}),O=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-hypermedia/^4.0.0/components/ActorRdfUpdateHypermedia.jsonld#ActorRdfUpdateHypermedia_default_bus"}),F=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^4.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),Q=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-bindings-aggregator-factory/^4.0.0/components/ActorBindingsAggregatorFactory.jsonld#ActorBindingsAggregatorFactory_default_bus"}),j=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-expression-evaluator-factory/^4.0.0/components/ActorExpressionEvaluatorFactory.jsonld#ActorExpressionEvaluatorFactory_default_bus"}),x=new($e()).BusFunctionFactory({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-function-factory/^4.0.0/components/ActorFunctionFactory.jsonld#ActorFunctionFactory_default_bus"}),I=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),D=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_fallback_bus"}),C=new(Vt()).BusQueryOperation({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^4.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),X=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-process/^4.0.0/components/ActorQueryProcess.jsonld#ActorQueryProcess_default_bus"}),z=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify/^4.0.0/components/ActorQuerySourceIdentify.jsonld#ActorQuerySourceIdentify_default_bus"}),J=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^4.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),ie=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-term-comparator-factory/^4.0.0/components/ActorTermComparatorFactory.jsonld#ActorTermComparatorFactory_default_bus"}),se=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^4.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"}),ye=new(De()).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-merge-bindings-context/^4.0.0/components/ActorMergeBindingsContext.jsonld#ActorMergeBindingsContext_default_bus"});new(Wse()).ActorContextPreprocessConvertShortcuts({contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",dataFactory:"@comunica/actor-init-query:dataFactory",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",distinctConstruct:"@comunica/actor-init-query:distinctConstruct",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",fetch:"@comunica/bus-http:fetch",functionArgumentsCache:"@comunica/actor-init-query:functionArgumentsCache",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpRetryCount:"@comunica/bus-http:http-retry-count",httpRetryDelayFallback:"@comunica/bus-http:http-retry-delay-fallback",httpRetryDelayLimit:"@comunica/bus-http:http-retry-delay-limit",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",invalidateCache:"@comunica/actor-init-query:invalidateCache",lenient:"@comunica/actor-init-query:lenient",log:"@comunica/core:log",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",queryTimestampHighResolution:"@comunica/actor-init-query:queryTimestampHighResolution",readOnly:"@comunica/bus-query-operation:readOnly",recoverBrokenLinks:"@comunica/bus-http-wayback:recover-broken-links",sources:"@comunica/actor-init-query:querySourcesUnidentified",traverse:"@comunica/bus-query-source-identify:traverse",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:context-preprocess/actors#convert-shortcuts",bus:n,busFailMessage:"Context preprocessing failed"}),new(Zse()).ActorContextPreprocessSetDefaults({logger:t,name:"urn:comunica:default:context-preprocess/actors#set-defaults",bus:n,busFailMessage:"Context preprocessing failed"}),new(tue()).ActorContextPreprocessSourceToDestination({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:n,busFailMessage:"Context preprocessing failed"});const K=new(Qj()).ActorContextPreprocessQuerySourceSkolemize({name:"urn:comunica:default:context-preprocess/actors#query-source-skolemize",bus:n,busFailMessage:"Context preprocessing failed"}),Te=new(zj()).MediatorCombinePipeline({name:"urn:comunica:default:context-preprocess/mediators#main",bus:n});new(due()).ActorHashBindingsMurmur({name:"urn:comunica:default:hash-bindings/actors#murmur",bus:r,busFailMessage:"Failed to obtaining hash functions for bindings"});const Ne=new(wr()).MediatorRace({name:"urn:comunica:default:hash-bindings/mediators#main",bus:r});new(bue()).ActorHashQuadsMurmur({name:"urn:comunica:default:hash-quads/actors#murmur",bus:e,busFailMessage:"Failed to obtaining hash functions for quads"});const _e=new(wr()).MediatorRace({name:"urn:comunica:default:hash-quads/mediators#main",bus:e});new(gue()).ActorOptimizeQueryOperationRewriteCopy({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-copy",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(Tue()).ActorOptimizeQueryOperationRewriteMove({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-move",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(Aue()).ActorOptimizeQueryOperationRewriteAdd({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-add",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"});const $=new(Fue()).ActorOptimizeQueryOperationGroupSources({name:"urn:comunica:default:optimize-query-operation/actors#group-sources",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"});new(Due()).ActorOptimizeQueryOperationConstructDistinct({name:"urn:comunica:default:optimize-query-operation/actors#construct-distinct",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"});const He=new(zj()).MediatorCombinePipeline({filterFailures:!0,name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:i});new(jue()).ActorQueryParseSparql({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:s,busFailMessage:'Query parsing failed: none of the configured parsers were able to the query "${action.query}"'}),new(Tle()).ActorQueryParseGraphql({name:"urn:comunica:default:query-parse/actors#graphql",bus:s,busFailMessage:'Query parsing failed: none of the configured parsers were able to the query "${action.query}"'});const qe=new(wr()).MediatorRace({name:"urn:comunica:default:query-parse/mediators#main",bus:s});new(Nle()).ActorQueryResultSerializeJson({mediaTypePriorities:{"application/json":1},mediaTypeFormats:{"application/json":"https://comunica.linkeddatafragments.org/#results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#json",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(Ple()).ActorQueryResultSerializeSimple({mediaTypePriorities:{simple:.9},mediaTypeFormats:{simple:"https://comunica.linkeddatafragments.org/#results_simple"},name:"urn:comunica:default:query-result-serialize/actors#simple",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(jle()).ActorQueryResultSerializeSparqlCsv({mediaTypePriorities:{"text/csv":.75},mediaTypeFormats:{"text/csv":"http://www.w3.org/ns/formats/SPARQL_Results_CSV"},name:"urn:comunica:default:query-result-serialize/actors#csv",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new($le()).ActorQueryResultSerializeSparqlTsv({mediaTypePriorities:{"text/tab-separated-values":.75},mediaTypeFormats:{"text/tab-separated-values":"http://www.w3.org/ns/formats/SPARQL_Results_TSV"},name:"urn:comunica:default:query-result-serialize/actors#sparql-tsv",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(Qle()).ActorQueryResultSerializeSparqlXml({mediaTypePriorities:{"application/sparql-results+xml":.8},mediaTypeFormats:{"application/sparql-results+xml":"http://www.w3.org/ns/formats/SPARQL_Results_XML"},name:"urn:comunica:default:query-result-serialize/actors#sparql-xml",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(Gle()).ActorQueryResultSerializeTable({columnWidth:50,mediaTypePriorities:{table:.6},mediaTypeFormats:{table:"https://comunica.linkeddatafragments.org/#results_table"},name:"urn:comunica:default:query-result-serialize/actors#table",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(ode()).ActorQueryResultSerializeTree({mediaTypePriorities:{tree:.5},mediaTypeFormats:{tree:"https://comunica.linkeddatafragments.org/#results_tree"},name:"urn:comunica:default:query-result-serialize/actors#tree",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"});const Ce=new(wr()).MediatorRace({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:c}),xe=new(pa()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:c}),we=new(pa()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:c}),ee=new(Ob()).MediatorNumber({field:"filterFactor",type:"max",ignoreFailures:!0,name:"urn:comunica:default:query-source-identify-hypermedia/mediators#main",bus:u}),M=new(fde()).ActorDereferenceFallback({name:"urn:comunica:default:dereference/actors#fallback",bus:l,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}"}),B=new(wr()).MediatorRace({name:"urn:comunica:default:dereference/mediators#main",bus:l}),R=new(wr()).MediatorRace({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:f});new(bde()).ActorRdfJoinEntriesSortCardinality({name:"urn:comunica:default:rdf-join-entries-sort/actors#cardinality",bus:d,busFailMessage:"Sorting join entries failed: none of the configured actors were able to sort"});const q=new(wr()).MediatorRace({name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:d});new(vde()).ActorRdfJoinSelectivityVariableCounting({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:h,busFailMessage:"Determining join selectivity failed: none of the configured actors were able to calculate selectivities"});const W=new(Ob()).MediatorNumber({field:"accuracy",type:"max",ignoreFailures:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:h});new(Sde()).ActorRdfMetadataPrimaryTopic({metadataToData:!1,dataToMetadataOnInvalidMetadataGraph:!0,name:"urn:comunica:default:rdf-metadata/actors#primary-topic",bus:p,busFailMessage:"Metadata splicing failed: none of the configured actors were able to splice metadata from ${action.url}"}),new(Ade()).ActorRdfMetadataAll({name:"urn:comunica:default:rdf-metadata/actors#all",bus:p,busFailMessage:"Metadata splicing failed: none of the configured actors were able to splice metadata from ${action.url}"});const re=new(wr()).MediatorRace({name:"urn:comunica:default:rdf-metadata/mediators#main",bus:p});new(Ide()).ActorRdfMetadataAccumulateCardinality({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cardinality",bus:_,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),new(Fde()).ActorRdfMetadataAccumulatePageSize({name:"urn:comunica:default:rdf-metadata-accumulate/actors#pagesize",bus:_,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),new(Dde()).ActorRdfMetadataAccumulateRequestTime({name:"urn:comunica:default:rdf-metadata-accumulate/actors#requesttime",bus:_,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"});const Y=new(pa()).MediatorCombineUnion({field:"metadata",name:"urn:comunica:default:rdf-metadata-accumulate/mediators#main",bus:_});new(Mde()).ActorRdfMetadataExtractHydraControls({name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-controls",bus:g,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(Cde()).ActorRdfMetadataExtractHydraCount({predicates:["http://www.w3.org/ns/hydra/core#totalItems","http://rdfs.org/ns/void#triples"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-count",bus:g,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new($de()).ActorRdfMetadataExtractHydraPagesize({predicates:["http://www.w3.org/ns/hydra/core#itemsPerPage"],name:"urn:comunica:default:rdf-metadata-extract/actors#hydra-pagesize",bus:g,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(Vde()).ActorRdfMetadataExtractRequestTime({name:"urn:comunica:default:rdf-metadata-extract/actors#request-time",bus:g,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(Hde()).ActorRdfMetadataExtractAllowHttpMethods({name:"urn:comunica:default:rdf-metadata-extract/actors#allow-http-methods",bus:g,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(zde()).ActorRdfMetadataExtractPutAccepted({name:"urn:comunica:default:rdf-metadata-extract/actors#put-accepted",bus:g,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(Xde()).ActorRdfMetadataExtractPatchSparqlUpdate({name:"urn:comunica:default:rdf-metadata-extract/actors#patch-sparql-update",bus:g,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"}),new(Jde()).ActorRdfMetadataExtractSparqlService({inferHttpsEndpoint:!0,name:"urn:comunica:default:rdf-metadata-extract/actors#sparql-service",bus:g,busFailMessage:"Metadata extraction failed: none of the configured actors were able to extract metadata from ${action.url}"});const ue=new(pa()).MediatorCombineUnion({filterFailures:!0,field:"metadata",name:"urn:comunica:default:rdf-metadata-extract/mediators#main",bus:g});new(vfe()).ActorRdfParseN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},priorityScale:1,name:"urn:comunica:default:rdf-parse/actors#n3",bus:y,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(Dfe()).ActorRdfParseRdfXml({mediaTypePriorities:{"application/rdf+xml":1},mediaTypeFormats:{"application/rdf+xml":"http://www.w3.org/ns/formats/RDF_XML"},priorityScale:.5,name:"urn:comunica:default:rdf-parse/actors#rdfxml",bus:y,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(Zfe()).ActorRdfParseXmlRdfa({mediaTypePriorities:{"application/xml":1,"image/svg+xml":1,"text/xml":1},mediaTypeFormats:{"application/xml":"http://www.w3.org/ns/formats/RDFa","image/svg+xml":"http://www.w3.org/ns/formats/RDFa","text/xml":"http://www.w3.org/ns/formats/RDFa"},priorityScale:.3,name:"urn:comunica:default:rdf-parse/actors#xmlrdfa",bus:y,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(ihe()).ActorRdfParseShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-parse/actors#shaclc",bus:y,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"});const te=new(wr()).MediatorRace({name:"urn:comunica:default:rdf-parse/mediators#parse",bus:y}),le=new(pa()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-parse/mediators#mediaType",bus:y});new(she()).ActorRdfParseHtml({busRdfParseHtml:m,mediaTypePriorities:{"application/xhtml+xml":.9,"text/html":1},mediaTypeFormats:{"application/xhtml+xml":"http://www.w3.org/ns/formats/HTML","text/html":"http://www.w3.org/ns/formats/HTML"},priorityScale:.2,name:"urn:comunica:default:rdf-parse/actors#html",bus:y,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(vhe()).ActorRdfParseHtmlMicrodata({name:"urn:comunica:default:rdf-parse-html/actors#microdata",bus:m,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(whe()).ActorRdfParseHtmlRdfa({name:"urn:comunica:default:rdf-parse-html/actors#rdfa",bus:m,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(Ehe()).ActorRdfResolveHypermediaLinksNext({name:"urn:comunica:default:rdf-resolve-hypermedia-links/actors#next",bus:b,busFailMessage:"Hypermedia link resolution failed: none of the configured actors were able to resolve links from metadata"});const Oe=new(wr()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links/mediators#main",bus:b});new(Dhe()).ActorRdfResolveHypermediaLinksQueueFifo({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/actors#fifo",bus:T,busFailMessage:"Link queue creation failed: none of the configured actors were able to create a link queue starting from ${action.firstUrl}"});const Se=new(wr()).MediatorRace({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/mediators#main",bus:T});new(Mhe()).ActorRdfSerializeN3({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},name:"urn:comunica:default:rdf-serialize/actors#n3",bus:w,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"}),new(Hhe()).ActorRdfSerializeJsonLd({jsonStringifyIndentSpaces:2,mediaTypePriorities:{"application/ld+json":1},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-serialize/actors#jsonld",bus:w,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"}),new(spe()).ActorRdfSerializeShaclc({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-serialize/actors#shaclc",bus:w,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"});const Ve=new(wr()).MediatorRace({name:"urn:comunica:default:rdf-serialize/mediators#serialize",bus:w}),ke=new(pa()).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:rdf-serialize/mediators#mediaType",bus:w}),Ae=new(pa()).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:rdf-serialize/mediators#mediaTypeFormat",bus:w}),A=new(wr()).MediatorRace({name:"urn:comunica:default:rdf-update-hypermedia/mediators#main",bus:O});new(hpe()).ActorRdfUpdateQuadsRdfJsStore({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:F,busFailMessage:"RDF updating failed: none of the configured actors were able to handle an update"});const E=new(wr()).MediatorRace({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:F}),P=new(wr()).MediatorRace({name:"urn:comunica:default:bindings-aggregator-factory/mediators#main",bus:Q}),k=new(wr()).MediatorRace({name:"urn:comunica:default:expression-evaluator-factory/mediators#main",bus:j});new(bpe()).ActorFunctionFactoryExpressionBound({name:"urn:comunica:default:function-factory/actors#expression-function-bound",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(gpe()).ActorFunctionFactoryExpressionBnode({name:"urn:comunica:default:function-factory/actors#expression-function-bnode",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(wpe()).ActorFunctionFactoryExpressionCoalesce({name:"urn:comunica:default:function-factory/actors#expression-function-coalesce",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Ape()).ActorFunctionFactoryExpressionConcat({name:"urn:comunica:default:function-factory/actors#expression-function-concat",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Fpe()).ActorFunctionFactoryExpressionExtensions({name:"urn:comunica:default:function-factory/actors#expression-function-extensions",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Ppe()).ActorFunctionFactoryExpressionIf({name:"urn:comunica:default:function-factory/actors#expression-function-if",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Mpe()).ActorFunctionFactoryExpressionLogicalAnd({name:"urn:comunica:default:function-factory/actors#expression-function-logical-and",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Bpe()).ActorFunctionFactoryExpressionLogicalOr({name:"urn:comunica:default:function-factory/actors#expression-function-logical-or",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Vpe()).ActorFunctionFactoryExpressionSameTerm({name:"urn:comunica:default:function-factory/actors#expression-function-same-term",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Gpe()).ActorFunctionFactoryTermAbs({name:"urn:comunica:default:function-factory/actors#term-function-abs",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Wpe()).ActorFunctionFactoryTermAddition({name:"urn:comunica:default:function-factory/actors#term-function-addition",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Ype()).ActorFunctionFactoryTermCeil({name:"urn:comunica:default:function-factory/actors#term-function-ceil",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(t0e()).ActorFunctionFactoryTermContains({name:"urn:comunica:default:function-factory/actors#term-function-contains",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(i0e()).ActorFunctionFactoryTermDatatype({name:"urn:comunica:default:function-factory/actors#term-function-datatype",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(s0e()).ActorFunctionFactoryTermDay({name:"urn:comunica:default:function-factory/actors#term-function-day",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(l0e()).ActorFunctionFactoryTermDivision({name:"urn:comunica:default:function-factory/actors#term-function-division",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(h0e()).ActorFunctionFactoryTermEncodeForUri({name:"urn:comunica:default:function-factory/actors#term-function-encode-for-uri",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(b0e()).ActorFunctionFactoryTermEquality({name:"urn:comunica:default:function-factory/actors#term-function-equality",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(g0e()).ActorFunctionFactoryTermFloor({name:"urn:comunica:default:function-factory/actors#term-function-floor",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(w0e()).ActorFunctionFactoryTermHours({name:"urn:comunica:default:function-factory/actors#term-function-hours",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(A0e()).ActorFunctionFactoryTermIri({name:"urn:comunica:default:function-factory/actors#term-function-iri",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(I0e()).ActorFunctionFactoryTermIsBlank({name:"urn:comunica:default:function-factory/actors#term-function-is-blank",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(N0e()).ActorFunctionFactoryTermIsIri({name:"urn:comunica:default:function-factory/actors#term-function-is-iri",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(L0e()).ActorFunctionFactoryTermIsNumeric({name:"urn:comunica:default:function-factory/actors#term-function-is-numeric",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(q0e()).ActorFunctionFactoryTermIsTriple({name:"urn:comunica:default:function-factory/actors#term-function-is-triple",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new($0e()).ActorFunctionFactoryTermIsLiteral({name:"urn:comunica:default:function-factory/actors#term-function-is-literal",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q0e()).ActorFunctionFactoryTermLang({name:"urn:comunica:default:function-factory/actors#term-function-lang",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(z0e()).ActorFunctionFactoryTermLcase({name:"urn:comunica:default:function-factory/actors#term-function-lcase",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(W0e()).ActorFunctionFactoryTermLangmatches({name:"urn:comunica:default:function-factory/actors#term-function-langmatches",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Y0e()).ActorFunctionFactoryTermMinutes({name:"urn:comunica:default:function-factory/actors#term-function-minutes",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(rye()).ActorFunctionFactoryTermMd5({name:"urn:comunica:default:function-factory/actors#term-function-md5",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(aye()).ActorFunctionFactoryTermMultiplication({name:"urn:comunica:default:function-factory/actors#term-function-multiplication",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(uye()).ActorFunctionFactoryTermMonth({name:"urn:comunica:default:function-factory/actors#term-function-month",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(dye()).ActorFunctionFactoryTermNot({name:"urn:comunica:default:function-factory/actors#term-function-not",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(pye()).ActorFunctionFactoryTermObject({name:"urn:comunica:default:function-factory/actors#term-function-object",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(_ye()).ActorFunctionFactoryTermNow({name:"urn:comunica:default:function-factory/actors#term-function-now",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(vye()).ActorFunctionFactoryTermPredicate({name:"urn:comunica:default:function-factory/actors#term-function-predicate",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Sye()).ActorFunctionFactoryTermRand({name:"urn:comunica:default:function-factory/actors#term-function-rand",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(bG()).ActorFunctionFactoryTermRegex({name:"urn:comunica:default:function-factory/actors#term-function-regex",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(xye()).ActorFunctionFactoryTermReplace({name:"urn:comunica:default:function-factory/actors#term-function-replace",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Fye()).ActorFunctionFactoryTermRound({name:"urn:comunica:default:function-factory/actors#term-function-round",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Pye()).ActorFunctionFactoryTermSeconds({name:"urn:comunica:default:function-factory/actors#term-function-seconds",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Mye()).ActorFunctionFactoryTermSha256({name:"urn:comunica:default:function-factory/actors#term-function-sha256",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Bye()).ActorFunctionFactoryTermSha1({name:"urn:comunica:default:function-factory/actors#term-function-sha1",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Vye()).ActorFunctionFactoryTermSha384({name:"urn:comunica:default:function-factory/actors#term-function-sha384",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Gye()).ActorFunctionFactoryTermSha512({name:"urn:comunica:default:function-factory/actors#term-function-sha512",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Xye()).ActorFunctionFactoryTermStrAfter({name:"urn:comunica:default:function-factory/actors#term-function-str-after",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Kye()).ActorFunctionFactoryTermStrBefore({name:"urn:comunica:default:function-factory/actors#term-function-str-before",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(e1e()).ActorFunctionFactoryTermStrDt({name:"urn:comunica:default:function-factory/actors#term-function-str-dt",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(n1e()).ActorFunctionFactoryTermStrEnds({name:"urn:comunica:default:function-factory/actors#term-function-str-ends",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(o1e()).ActorFunctionFactoryTermStrLang({name:"urn:comunica:default:function-factory/actors#term-function-str-lang",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(c1e()).ActorFunctionFactoryTermStrLen({name:"urn:comunica:default:function-factory/actors#term-function-str-len",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(f1e()).ActorFunctionFactoryTermStrStarts({name:"urn:comunica:default:function-factory/actors#term-function-str-starts",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(I1e()).ActorFunctionFactoryTermStrUuid({name:"urn:comunica:default:function-factory/actors#term-function-str-uuid",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(N1e()).ActorFunctionFactoryTermStr({name:"urn:comunica:default:function-factory/actors#term-function-str",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(L1e()).ActorFunctionFactoryTermSubStr({name:"urn:comunica:default:function-factory/actors#term-function-sub-str",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(q1e()).ActorFunctionFactoryTermSubject({name:"urn:comunica:default:function-factory/actors#term-function-subject",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new($1e()).ActorFunctionFactoryTermSubtraction({name:"urn:comunica:default:function-factory/actors#term-function-subtraction",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q1e()).ActorFunctionFactoryTermTimezone({name:"urn:comunica:default:function-factory/actors#term-function-timezone",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(z1e()).ActorFunctionFactoryTermTriple({name:"urn:comunica:default:function-factory/actors#term-function-triple",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(W1e()).ActorFunctionFactoryTermTz({name:"urn:comunica:default:function-factory/actors#term-function-tz",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Y1e()).ActorFunctionFactoryTermUcase({name:"urn:comunica:default:function-factory/actors#term-function-ucase",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(tbe()).ActorFunctionFactoryTermUnaryMinus({name:"urn:comunica:default:function-factory/actors#term-function-unary-minus",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(ibe()).ActorFunctionFactoryTermUnaryPlus({name:"urn:comunica:default:function-factory/actors#term-function-unary-plus",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(sbe()).ActorFunctionFactoryTermUuid({name:"urn:comunica:default:function-factory/actors#term-function-uuid",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(lbe()).ActorFunctionFactoryTermXsdToBoolean({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-boolean",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(hbe()).ActorFunctionFactoryTermXsdToDate({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-date",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(bbe()).ActorFunctionFactoryTermXsdToDatetime({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-datetime",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(gbe()).ActorFunctionFactoryTermXsdToDayTimeDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-day-time-duration",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(wbe()).ActorFunctionFactoryTermXsdToDouble({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-double",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Abe()).ActorFunctionFactoryTermXsdToDecimal({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-decimal",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Ibe()).ActorFunctionFactoryTermXsdToDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-duration",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Nbe()).ActorFunctionFactoryTermXsdToFloat({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-float",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Lbe()).ActorFunctionFactoryTermXsdToInteger({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-integer",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(qbe()).ActorFunctionFactoryTermXsdToTime({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-time",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new($be()).ActorFunctionFactoryTermXsdToString({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-string",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Qbe()).ActorFunctionFactoryTermXsdToYearMonthDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-year-month-duration",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(zbe()).ActorFunctionFactoryTermYear({name:"urn:comunica:default:function-factory/actors#term-function-year",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"});const N=new(wr()).MediatorRace({name:"urn:comunica:default:function-factory/mediators#main",bus:x}),S=new(e_e()).ActorHttpFetch({agentOptions:{keepAlive:!0,maxSockets:5},name:"urn:comunica:default:http/actors#fetch",bus:I,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}"}),L=new(Ob()).MediatorNumber({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#no-fallback",bus:I}),U=new(Ob()).MediatorNumber({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#main",bus:D});new(r_e()).ActorQueryOperationSource({name:"urn:comunica:default:query-operation/actors#source",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const Z=new(Ob()).MediatorNumber({field:"httpRequests",type:"min",ignoreFailures:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:C}),me=new(wr()).MediatorRace({name:"urn:comunica:default:query-process/mediators#main",bus:X}),pe=new(wr()).MediatorRace({name:"urn:comunica:default:query-source-identify/mediators#main",bus:z}),Xe=new(i_e()).MediatorJoinCoefficientsFixed({cpuWeight:10,memoryWeight:1,timeWeight:2,ioWeight:10,name:"urn:comunica:default:rdf-join/mediators#main",bus:J}),ne=new(wr()).MediatorRace({name:"urn:comunica:default:term-comparator-factory/mediators#main",bus:ie}),Ie=new(w2()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-context-preprocess-query-source-identify/^4.0.0/components/ActorContextPreprocessQuerySourceIdentify.jsonld#IActorContextPreprocessQuerySourceIdentifyArgs_default_invalidator",bus:se,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),ve=new(s_e()).MediatorAll({name:"urn:comunica:default:http-invalidate/mediators#main",bus:se}),Re=new(w2()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-rdf-update-quads-hypermedia/^4.0.0/components/ActorRdfUpdateQuadsHypermedia.jsonld#IActorRdfUpdateQuadsHypermediaArgs_default_invalidator",bus:se,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),ce=new(w2()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-http-retry/^4.0.0/components/ActorHttpRetry.jsonld#IActorHttpQueueArgs_default_invalidator",bus:se,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),Pe=new(w2()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^4.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:se,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),ze=new(w2()).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^4.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:se,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),Ue=new(pa()).MediatorCombineUnion({field:"mergeHandlers",name:"urn:comunica:default:merge-bindings-context/mediators#main",bus:ye});new(p_e()).ActorRdfJoinSingle({mediatorJoinSelectivity:W,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:J,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(b_e()).ActorRdfJoinMultiEmpty({mediatorJoinSelectivity:W,name:"urn:comunica:default:rdf-join/actors#inner-multi-empty",bus:J,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"});const Ye=new(UX()).ActorRdfJoinHash({mediatorHashBindings:Ne,canHandleUndefs:!1,mediatorJoinSelectivity:W,name:"urn:comunica:default:rdf-join/actors#inner-hash-def",bus:J,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),fe=new(UX()).ActorRdfJoinHash({mediatorHashBindings:Ne,canHandleUndefs:!0,mediatorJoinSelectivity:W,name:"urn:comunica:default:rdf-join/actors#inner-hash-undef",bus:J,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),H=new(x_e()).ActorRdfJoinSymmetricHash({mediatorHashBindings:Ne,mediatorJoinSelectivity:W,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:J,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),V=new(R_e()).ActorRdfJoinNestedLoop({mediatorJoinSelectivity:W,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:J,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"});new(eW()).ActorRdfJoinMinusHash({canHandleUndefs:!1,mediatorJoinSelectivity:W,name:"urn:comunica:default:rdf-join/actors#minus-hash-def",bus:J,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(eW()).ActorRdfJoinMinusHash({canHandleUndefs:!0,mediatorJoinSelectivity:W,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:J,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(iE()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!1,mediatorJoinSelectivity:W,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-nonblocking",bus:J,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(iE()).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!0,mediatorJoinSelectivity:W,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-blocking",bus:J,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(iE()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!1,mediatorJoinSelectivity:W,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-nonblocking",bus:J,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(iE()).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!0,mediatorJoinSelectivity:W,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-blocking",bus:J,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(L_e()).ActorRdfJoinOptionalNestedLoop({mediatorJoinSelectivity:W,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:J,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(C_e()).ActorDereferenceRdfParse({mediatorDereference:B,mediatorParse:te,mediatorParseMediatypes:le,mediaMappings:{htm:"text/html",html:"text/html",json:"application/json",jsonld:"application/ld+json",n3:"text/n3",nq:"application/n-quads",nquads:"application/n-quads",nt:"application/n-triples",ntriples:"application/n-triples",owl:"application/rdf+xml",rdf:"application/rdf+xml",rdfxml:"application/rdf+xml",shaclc:"text/shaclc",shaclce:"text/shaclc-ext",shc:"text/shaclc",shce:"text/shaclc-ext",svg:"image/svg+xml",svgz:"image/svg+xml",trig:"application/trig",ttl:"text/turtle",turtle:"text/turtle",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xml:"application/xml"},name:"urn:comunica:default:dereference-rdf/actors#parse",bus:f,busFailMessage:"RDF dereferencing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(U_e()).ActorRdfParseHtmlScript({mediatorRdfParseMediatypes:le,mediatorRdfParseHandle:te,name:"urn:comunica:default:rdf-parse-html/actors#script",bus:m,busFailMessage:"RDF HTML parsing failed: none of the configured parsers were able to parse RDF in HTML"}),new(Q_e()).ActorQueryResultSerializeRdf({mediatorRdfSerialize:Ve,mediatorMediaTypeCombiner:ke,mediatorMediaTypeFormatCombiner:Ae,name:"urn:comunica:default:query-result-serialize/actors#rdf",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(k_e()).ActorBindingsAggregatorFactoryCount({mediatorExpressionEvaluatorFactory:k,name:"urn:comunica:default:bindings-aggregator-factory/actors#count",bus:Q,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(W_e()).ActorBindingsAggregatorFactoryGroupConcat({mediatorExpressionEvaluatorFactory:k,name:"urn:comunica:default:bindings-aggregator-factory/actors#group-concat",bus:Q,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(K_e()).ActorBindingsAggregatorFactorySample({mediatorExpressionEvaluatorFactory:k,name:"urn:comunica:default:bindings-aggregator-factory/actors#sample",bus:Q,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(Z_e()).ActorBindingsAggregatorFactoryWildcardCount({mediatorExpressionEvaluatorFactory:k,name:"urn:comunica:default:bindings-aggregator-factory/actors#wildcard-count",bus:Q,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(tme()).ActorBindingsAggregatorFactoryAverage({mediatorFunctionFactory:N,mediatorExpressionEvaluatorFactory:k,name:"urn:comunica:default:bindings-aggregator-factory/actors#average",bus:Q,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(nme()).ActorBindingsAggregatorFactorySum({mediatorFunctionFactory:N,mediatorExpressionEvaluatorFactory:k,name:"urn:comunica:default:bindings-aggregator-factory/actors#sum",bus:Q,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(ome()).ActorFunctionFactoryExpressionIn({mediatorFunctionFactory:N,name:"urn:comunica:default:function-factory/actors#expression-function-in",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(cme()).ActorFunctionFactoryExpressionNotIn({mediatorFunctionFactory:N,name:"urn:comunica:default:function-factory/actors#expression-function-not-in",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(fme()).ActorFunctionFactoryTermGreaterThanEqual({mediatorFunctionFactory:N,name:"urn:comunica:default:function-factory/actors#term-function-greater-than-equal",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(yme()).ActorFunctionFactoryTermGreaterThan({mediatorFunctionFactory:N,name:"urn:comunica:default:function-factory/actors#term-function-greater-than",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(mme()).ActorFunctionFactoryTermInequality({mediatorFunctionFactory:N,name:"urn:comunica:default:function-factory/actors#term-function-inequality",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Tme()).ActorFunctionFactoryTermLesserThanEqual({mediatorFunctionFactory:N,name:"urn:comunica:default:function-factory/actors#term-function-lesser-than-equal",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Ome()).ActorFunctionFactoryTermLesserThan({mediatorFunctionFactory:N,name:"urn:comunica:default:function-factory/actors#term-function-lesser-than",bus:x,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Eme()).ActorHttpWayback({mediatorHttp:L,name:"urn:comunica:default:http/actors#wayback",bus:D,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}"}),new(rge()).ActorRdfParseJsonLd({mediatorHttp:U,mediaTypePriorities:{"application/json":.15,"application/ld+json":1},mediaTypeFormats:{"application/json":"http://www.w3.org/ns/formats/JSON-LD","application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-parse/actors#jsonld",bus:y,busFailMessage:"RDF parsing failed: none of the configured parsers were able to handle the media type ${action.handle.mediaType} for ${action.handle.url}"}),new(age()).ActorRdfUpdateHypermediaPatchSparqlUpdate({mediatorHttp:U,name:"urn:comunica:default:rdf-update-hypermedia/actors#patch-sparql-update",bus:O,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(sge()).ActorRdfUpdateHypermediaPutLdp({mediatorHttp:U,mediatorRdfSerializeMediatypes:ke,mediatorRdfSerialize:Ve,name:"urn:comunica:default:rdf-update-hypermedia/actors#put-ldp",bus:O,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(_ge()).ActorRdfUpdateHypermediaSparql({mediatorHttp:U,checkUrlSuffixSparql:!0,checkUrlSuffixUpdate:!0,name:"urn:comunica:default:rdf-update-hypermedia/actors#sparql",bus:O,busFailMessage:"RDF hypermedia updating failed: none of the configured actors were able to handle an update for ${action.url}"}),new(gge()).ActorQueryOperationAsk({mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#ask",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Tge()).ActorQueryOperationBgpJoin({mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#bgp",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(lY()).ActorQueryOperationConstruct({mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#construct",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Oge()).ActorQueryOperationDistinctHash({mediatorHashBindings:Ne,mediatorHashQuads:_e,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#distinct",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Ege()).ActorQueryOperationExtend({mediatorExpressionEvaluatorFactory:k,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#extend",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Ige()).ActorQueryOperationFilter({mediatorExpressionEvaluatorFactory:k,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#filter",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Fge()).ActorQueryOperationFromQuad({mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#from",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Dge()).ActorQueryOperationProject({mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#project",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(jge()).ActorQueryOperationReducedHash({mediatorHashBindings:Ne,cacheSize:100,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#reduced",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(qge()).ActorQueryOperationSlice({mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#slice",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(IY()).ActorQueryOperationUnion({mediatorRdfMetadataAccumulate:Y,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#union",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Uge()).ActorQueryOperationPathAlt({mediatorRdfMetadataAccumulate:Y,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#path-alt",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Qge()).ActorQueryOperationPathInv({mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#path-inv",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Gge()).ActorQueryOperationPathLink({mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#path-link",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(kge()).ActorQueryOperationPathNps({mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#path-nps",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Wge()).ActorQueryOperationClear({mediatorUpdateQuads:E,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#update-clear",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Kge()).ActorQueryOperationUpdateCompositeUpdate({mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#update-composite",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Zge()).ActorQueryOperationCreate({mediatorUpdateQuads:E,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#update-create",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(tve()).ActorQueryOperationDrop({mediatorUpdateQuads:E,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#update-drop",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(nve()).ActorQueryOperationLoad({mediatorUpdateQuads:E,mediatorQuerySourceIdentify:pe,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#update-load",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(sve()).ActorQueryOperationJoin({mediatorJoin:Xe,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#join",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(cve()).ActorQueryOperationLeftJoin({mediatorJoin:Xe,mediatorExpressionEvaluatorFactory:k,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(dve()).ActorQueryOperationMinus({mediatorJoin:Xe,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#minus",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(hve()).ActorQueryOperationPathSeq({mediatorJoin:Xe,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#path-seq",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const G=new(yve()).ActorRdfJoinMultiSmallest({mediatorJoinEntriesSort:q,mediatorJoin:Xe,mediatorJoinSelectivity:W,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:J,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"});new(_ve()).ActorBindingsAggregatorFactoryMax({mediatorTermComparatorFactory:ne,mediatorExpressionEvaluatorFactory:k,name:"urn:comunica:default:bindings-aggregator-factory/actors#max",bus:Q,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(gve()).ActorBindingsAggregatorFactoryMin({mediatorTermComparatorFactory:ne,mediatorExpressionEvaluatorFactory:k,name:"urn:comunica:default:bindings-aggregator-factory/actors#min",bus:Q,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(wve()).ActorQueryOperationOrderBy({mediatorExpressionEvaluatorFactory:k,mediatorTermComparatorFactory:ne,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#orderby",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const oe=new(Ove()).ActorOptimizeQueryOperationFilterPushdown({aggressivePushdown:!1,maxIterations:10,splitConjunctive:!0,mergeConjunctive:!0,pushIntoLeftJoins:!0,pushEqualityIntoPatterns:!0,name:"urn:comunica:default:optimize-query-operation/actors#filter-pushdown",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[$]});new(Eve()).ActorDereferenceHttp({mediatorHttp:U,maxAcceptHeaderLength:1024,maxAcceptHeaderLengthBrowser:128,name:"urn:comunica:default:dereference/actors#http",bus:l,busFailMessage:"Dereferencing failed: none of the configured actors were able to handle ${action.url}",beforeActors:[M]});const Fe=new(Rve()).ActorHttpProxy({mediatorHttp:U,name:"urn:comunica:default:http/actors#proxy",bus:I,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[S]});new(Dve()).ActorContextPreprocessQuerySourceIdentify({cacheSize:100,httpInvalidator:Ie,mediatorQuerySourceIdentify:pe,mediatorContextPreprocess:Te,name:"urn:comunica:default:context-preprocess/actors#query-source-identify",bus:n,busFailMessage:"Context preprocessing failed",beforeActors:[K]});const Ee=new(oP()).ActorInitQuery({mediatorQueryProcess:me,mediatorQueryResultSerialize:Ce,mediatorQueryResultSerializeMediaTypeCombiner:xe,mediatorQueryResultSerializeMediaTypeFormatCombiner:we,mediatorHttpInvalidate:ve,defaultQueryInputFormat:"sparql",allowNoSources:!1,name:"urn:comunica:default:init/actors#query",bus:o,busFailMessage:"Initialization failed: none of the configured actors were to initialize"});new(jve()).ActorRdfUpdateQuadsHypermedia({cacheSize:100,httpInvalidator:Re,mediatorDereferenceRdf:R,mediatorMetadata:re,mediatorMetadataExtract:ue,mediatorRdfUpdateHypermedia:A,name:"urn:comunica:default:rdf-update-quads/actors#hypermedia",bus:F,busFailMessage:"RDF updating failed: none of the configured actors were able to handle an update"});const Qe=new(WZ()).ActionObserverHttp({httpInvalidator:Pe,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^4.0.0/components/ActorQueryResultSerializeSparqlJson.jsonld#ActorQueryResultSerializeSparqlJson_default_observer",bus:I}),Je=new(ZZ()).ActionObserverHttp({httpInvalidator:ze,name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^4.0.0/components/ActorQueryResultSerializeStats.jsonld#ActorQueryResultSerializeStats_default_observer",bus:I});new(Hve()).ActorQuerySourceIdentifyHypermediaQpf({mediatorMetadata:re,mediatorMetadataExtract:ue,mediatorDereferenceRdf:R,mediatorMergeBindingsContext:Ue,subjectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicateUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",objectUri:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",graphUri:"http://www.w3.org/ns/sparql-service-description#graph",name:"urn:comunica:default:query-source-identify-hypermedia/actors#qpf",bus:u,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(kve()).ActorQuerySourceIdentifyHypermediaSparql({mediatorHttp:U,mediatorMergeBindingsContext:Ue,checkUrlSuffix:!0,forceHttpGet:!1,cacheSize:1024,bindMethod:"values",countTimeout:3e3,name:"urn:comunica:default:rdf-resolve-quad-pattern/actors#sparql",bus:u,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(l2e()).ActorQuerySourceIdentifyHypermediaNone({mediatorMergeBindingsContext:Ue,name:"urn:comunica:default:query-source-identify-hypermedia/actors#none",bus:u,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),new(y2e()).ActorExpressionEvaluatorFactoryDefault({mediatorQueryOperation:Z,mediatorFunctionFactory:N,mediatorMergeBindingsContext:Ue,name:"urn:comunica:default:expression-evaluator-factory/actors#default",bus:j,busFailMessage:"Creation of Expression Evaluator failed"}),new(m2e()).ActorQueryOperationGroup({mediatorMergeBindingsContext:Ue,mediatorBindingsAggregatorFactory:P,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#group",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(v2e()).ActorQueryOperationNop({mediatorMergeBindingsContext:Ue,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#nop",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(w2e()).ActorQueryOperationService({forceSparqlEndpoint:!1,mediatorMergeBindingsContext:Ue,mediatorQuerySourceIdentify:pe,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#service",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(O2e()).ActorQueryOperationValues({mediatorMergeBindingsContext:Ue,name:"urn:comunica:default:query-operation/actors#values",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(E2e()).ActorQueryOperationPathOneOrMore({mediatorMergeBindingsContext:Ue,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(I2e()).ActorQueryOperationPathZeroOrMore({mediatorMergeBindingsContext:Ue,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(F2e()).ActorQueryOperationPathZeroOrOne({mediatorMergeBindingsContext:Ue,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(D2e()).ActorQueryOperationUpdateDeleteInsert({mediatorUpdateQuads:E,mediatorMergeBindingsContext:Ue,mediatorQueryOperation:Z,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:C,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const rt=new(j2e()).ActorQueryProcessSequential({mediatorContextPreprocess:Te,mediatorQueryParse:qe,mediatorOptimizeQueryOperation:He,mediatorQueryOperation:Z,mediatorMergeBindingsContext:Ue,name:"urn:comunica:default:query-process/actors#sequential",bus:X,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),it=new(Q2e()).ActorQuerySourceIdentifyHypermedia({cacheSize:100,maxIterators:64,aggregateTraversalStore:!0,mediatorDereferenceRdf:R,mediatorMetadata:re,mediatorMetadataExtract:ue,mediatorMetadataAccumulate:Y,mediatorQuerySourceIdentifyHypermedia:ee,mediatorRdfResolveHypermediaLinks:Oe,mediatorRdfResolveHypermediaLinksQueue:Se,mediatorMergeBindingsContext:Ue,name:"urn:comunica:default:query-source-identify/actors#hypermedia",bus:z,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}"});new(G2e()).ActorRdfJoinNone({mediatorMergeBindingsContext:Ue,mediatorJoinSelectivity:W,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:J,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(X2e()).ActorRdfJoinOptionalBind({bindOrder:"depth-first",selectivityModifier:1e-6,mediatorQueryOperation:Z,mediatorMergeBindingsContext:Ue,mediatorJoinSelectivity:W,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:J,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(Z2e()).ActorTermComparatorFactoryExpressionEvaluator({mediatorQueryOperation:Z,mediatorFunctionFactory:N,mediatorMergeBindingsContext:Ue,name:"urn:comunica:default:term-comparator-factory/actors#expression-evaluator",bus:ie,busFailMessage:"Creation of term comparator failed"});const ht=new(rre()).ActorRdfJoinMultiBind({bindOrder:"depth-first",selectivityModifier:1e-4,minMaxCardinalityRatio:60,mediatorJoinEntriesSort:q,mediatorQueryOperation:Z,mediatorMergeBindingsContext:Ue,mediatorJoinSelectivity:W,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:J,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[G,Ye,fe,H,V]});new(tTe()).ActorRdfJoinMultiSmallestFilterBindings({selectivityModifier:1e-4,blockSize:64,mediatorJoinEntriesSort:q,mediatorJoin:Xe,mediatorJoinSelectivity:W,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest-filter-bindings",bus:J,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[G,Ye,fe,H,V]}),new(WZ()).ActorQueryResultSerializeSparqlJson({emitMetadata:!0,httpObserver:Qe,mediaTypePriorities:{"application/sparql-results+json":.8},mediaTypeFormats:{"application/sparql-results+json":"http://www.w3.org/ns/formats/SPARQL_Results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#sparql-json",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(ZZ()).ActorQueryResultSerializeStats({httpObserver:Je,mediaTypePriorities:{stats:.5},mediaTypeFormats:{stats:"https://comunica.linkeddatafragments.org/#results_stats"},name:"urn:comunica:default:query-result-serialize/actors#stats",bus:c,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),new(nTe()).ActorQueryProcessExplainParsed({queryProcessor:rt,name:"urn:comunica:default:query-process/actors#explain-parsed",bus:X,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),new(aTe()).ActorQueryProcessExplainLogical({queryProcessor:rt,name:"urn:comunica:default:query-process/actors#explain-logical",bus:X,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),new(sTe()).ActorQueryProcessExplainPhysical({queryProcessor:rt,name:"urn:comunica:default:query-process/actors#explain-physical",bus:X,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'});const st=new(cTe()).ActorOptimizeQueryOperationPruneEmptySourceOperations({useAskIfSupported:!1,name:"urn:comunica:default:optimize-query-operation/actors#prune-empty-source-operations",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[oe]});new(dTe()).ActorHttpRetry({mediatorHttp:U,httpInvalidator:ce,name:"urn:comunica:default:http/actors#retry",bus:I,busFailMessage:"HTTP request failed: none of the configured actors were able to handle ${action.input}",beforeActors:[Fe]}),new(MN()).ActorQuerySourceIdentifyRdfJs({mediatorMergeBindingsContext:Ue,name:"urn:comunica:default:query-source-identify/actors#rdfjs",bus:z,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}",beforeActors:[it]}),new(hTe()).ActorQuerySourceIdentifySerialized({mediatorRdfParse:te,mediatorQuerySourceIdentify:pe,name:"urn:comunica:default:query-source-identify/actors#serialized",bus:z,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}",beforeActors:[it]}),new(yTe()).ActorRdfJoinMultiBindSource({selectivityModifier:1e-4,blockSize:16,mediatorJoinEntriesSort:q,mediatorJoinSelectivity:W,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind-source",bus:J,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[G,ht,Ye,fe,H,V]});const ot=new(_Te()).ActorOptimizeQueryOperationJoinConnected({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[st]}),Kr=new(gTe()).ActorOptimizeQueryOperationBgpToJoin({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[ot]}),nt=new(TTe()).ActorOptimizeQueryOperationJoinBgp({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Kr]}),ge=new(STe()).ActorOptimizeQueryOperationAssignSourcesExhaustive({name:"urn:comunica:default:optimize-query-operation/actors#assign-sources-exhaustive",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[nt]});return new(ATe()).ActorOptimizeQueryOperationDescribeToConstructsSubject({name:"urn:comunica:default:optimize-query-operation/actors#describe-to-constructs-subject",bus:i,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[ge]}),Ee}),HN}var Bre;function xTe(){if(Bre)return ro;Bre=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.QueryEngine=void 0;const a=oP(),t=ETe();let o=class extends a.QueryEngineBase{constructor(r=t()){super(r)}};return ro.QueryEngine=o,ro}var $re;function ITe(){return $re||($re=1,function(a){var t=En&&En.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=En&&En.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(xTe(),a)}(En)),En}var RTe=ITe(),Cf={},V3={},Ure;function Vre(){if(Ure)return V3;Ure=1,Object.defineProperty(V3,"__esModule",{value:!0}),V3.BlankNode=void 0;let a=class{constructor(o){this.termType="BlankNode",this.value=o}equals(o){return!!o&&o.termType==="BlankNode"&&o.value===this.value}};return V3.BlankNode=a,V3}var Q3={},H3={},Qre;function Hre(){if(Qre)return H3;Qre=1,Object.defineProperty(H3,"__esModule",{value:!0}),H3.DefaultGraph=void 0;let a=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(o){return!!o&&o.termType==="DefaultGraph"}};return H3.DefaultGraph=a,a.INSTANCE=new a,H3}var G3={},z3={},Gre;function GN(){if(Gre)return z3;Gre=1,Object.defineProperty(z3,"__esModule",{value:!0}),z3.NamedNode=void 0;let a=class{constructor(o){this.termType="NamedNode",this.value=o}equals(o){return!!o&&o.termType==="NamedNode"&&o.value===this.value}};return z3.NamedNode=a,z3}var zre;function kre(){if(zre)return G3;zre=1,Object.defineProperty(G3,"__esModule",{value:!0}),G3.Literal=void 0;const a=GN();let t=class EO{constructor(n,r){this.termType="Literal",this.value=n,typeof r=="string"?(this.language=r,this.datatype=EO.RDF_LANGUAGE_STRING,this.direction=""):r?"termType"in r?(this.language="",this.datatype=r,this.direction=""):(this.language=r.language,this.datatype=r.direction?EO.RDF_DIRECTIONAL_LANGUAGE_STRING:EO.RDF_LANGUAGE_STRING,this.direction=r.direction||""):(this.language="",this.datatype=EO.XSD_STRING,this.direction="")}equals(n){return!!n&&n.termType==="Literal"&&n.value===this.value&&n.language===this.language&&(n.direction===this.direction||!n.direction&&this.direction==="")&&this.datatype.equals(n.datatype)}};return G3.Literal=t,t.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.RDF_DIRECTIONAL_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),t.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string"),G3}var k3={},Xre;function Wre(){if(Xre)return k3;Xre=1,Object.defineProperty(k3,"__esModule",{value:!0}),k3.Quad=void 0;let a=class{constructor(o,n,r,e){this.termType="Quad",this.value="",this.subject=o,this.predicate=n,this.object=r,this.graph=e}equals(o){return!!o&&(o.termType==="Quad"||!o.termType)&&this.subject.equals(o.subject)&&this.predicate.equals(o.predicate)&&this.object.equals(o.object)&&this.graph.equals(o.graph)}};return k3.Quad=a,k3}var X3={},Jre;function Kre(){if(Jre)return X3;Jre=1,Object.defineProperty(X3,"__esModule",{value:!0}),X3.Variable=void 0;let a=class{constructor(o){this.termType="Variable",this.value=o}equals(o){return!!o&&o.termType==="Variable"&&o.value===this.value}};return X3.Variable=a,X3}var Yre;function FTe(){if(Yre)return Q3;Yre=1,Object.defineProperty(Q3,"__esModule",{value:!0}),Q3.DataFactory=void 0;const a=Vre(),t=Hre(),o=kre(),n=GN(),r=Wre(),e=Kre();let i=0,s=class{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${i++}_`}namedNode(u){return new n.NamedNode(u)}blankNode(u){return new a.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,l){return new o.Literal(u,l)}variable(u){return new e.Variable(u)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(u,l,f,d){return new r.Quad(u,l,f,d||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(o.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}};return Q3.DataFactory=s,Q3}var Zre;function NTe(){return Zre||(Zre=1,function(a){var t=Cf&&Cf.__createBinding||(Object.create?function(n,r,e,i){i===void 0&&(i=e);var s=Object.getOwnPropertyDescriptor(r,e);(!s||("get"in s?!r.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return r[e]}}),Object.defineProperty(n,i,s)}:function(n,r,e,i){i===void 0&&(i=e),n[i]=r[e]}),o=Cf&&Cf.__exportStar||function(n,r){for(var e in n)e!=="default"&&!Object.prototype.hasOwnProperty.call(r,e)&&t(r,n,e)};Object.defineProperty(a,"__esModule",{value:!0}),o(Vre(),a),o(FTe(),a),o(Hre(),a),o(kre(),a),o(GN(),a),o(Wre(),a),o(Kre(),a)}(Cf)),Cf}var DTe=NTe();class Bf extends Error{}class PTe extends Bf{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class LTe extends Bf{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class jTe extends Bf{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Qh extends Bf{}class ene extends Bf{constructor(t){super(`Invalid unit ${t}`)}}class Wr extends Bf{}class xa extends Bf{constructor(){super("Zone is an abstract class")}}const dt="numeric",oi="short",wn="long",uE={year:dt,month:dt,day:dt},tne={year:dt,month:oi,day:dt},MTe={year:dt,month:oi,day:dt,weekday:oi},rne={year:dt,month:wn,day:dt},nne={year:dt,month:wn,day:dt,weekday:wn},ine={hour:dt,minute:dt},ane={hour:dt,minute:dt,second:dt},one={hour:dt,minute:dt,second:dt,timeZoneName:oi},sne={hour:dt,minute:dt,second:dt,timeZoneName:wn},une={hour:dt,minute:dt,hourCycle:"h23"},cne={hour:dt,minute:dt,second:dt,hourCycle:"h23"},lne={hour:dt,minute:dt,second:dt,hourCycle:"h23",timeZoneName:oi},dne={hour:dt,minute:dt,second:dt,hourCycle:"h23",timeZoneName:wn},fne={year:dt,month:dt,day:dt,hour:dt,minute:dt},hne={year:dt,month:dt,day:dt,hour:dt,minute:dt,second:dt},pne={year:dt,month:oi,day:dt,hour:dt,minute:dt},yne={year:dt,month:oi,day:dt,hour:dt,minute:dt,second:dt},qTe={year:dt,month:oi,day:dt,weekday:oi,hour:dt,minute:dt},bne={year:dt,month:wn,day:dt,hour:dt,minute:dt,timeZoneName:oi},_ne={year:dt,month:wn,day:dt,hour:dt,minute:dt,second:dt,timeZoneName:oi},mne={year:dt,month:wn,day:dt,weekday:wn,hour:dt,minute:dt,timeZoneName:wn},gne={year:dt,month:wn,day:dt,weekday:wn,hour:dt,minute:dt,second:dt,timeZoneName:wn};class W3{get type(){throw new xa}get name(){throw new xa}get ianaName(){return this.name}get isUniversal(){throw new xa}offsetName(t,o){throw new xa}formatOffset(t,o){throw new xa}offset(t){throw new xa}equals(t){throw new xa}get isValid(){throw new xa}}let zN=null;class cE extends W3{static get instance(){return zN===null&&(zN=new cE),zN}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:o,locale:n}){return Hne(t,o,n)}formatOffset(t,o){return Z3(this.offset(t),o)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}let lE={};function CTe(a){return lE[a]||(lE[a]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:a,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),lE[a]}const BTe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function $Te(a,t){const o=a.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(o),[,r,e,i,s,c,u,l]=n;return[i,r,e,s,c,u,l]}function UTe(a,t){const o=a.formatToParts(t),n=[];for(let r=0;r<o.length;r++){const{type:e,value:i}=o[r],s=BTe[e];e==="era"?n[s]=i:vt(s)||(n[s]=parseInt(i,10))}return n}let dE={};class Gi extends W3{static create(t){return dE[t]||(dE[t]=new Gi(t)),dE[t]}static resetCache(){dE={},lE={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=Gi.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:o,locale:n}){return Hne(t,o,n,this.name)}formatOffset(t,o){return Z3(this.offset(t),o)}offset(t){const o=new Date(t);if(isNaN(o))return NaN;const n=CTe(this.name);let[r,e,i,s,c,u,l]=n.formatToParts?UTe(n,o):$Te(n,o);s==="BC"&&(r=-Math.abs(r)+1);const d=bE({year:r,month:e,day:i,hour:c===24?0:c,minute:u,second:l,millisecond:0});let h=+o;const p=h%1e3;return h-=p>=0?p:1e3+p,(d-h)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let vne={};function VTe(a,t={}){const o=JSON.stringify([a,t]);let n=vne[o];return n||(n=new Intl.ListFormat(a,t),vne[o]=n),n}let kN={};function XN(a,t={}){const o=JSON.stringify([a,t]);let n=kN[o];return n||(n=new Intl.DateTimeFormat(a,t),kN[o]=n),n}let WN={};function QTe(a,t={}){const o=JSON.stringify([a,t]);let n=WN[o];return n||(n=new Intl.NumberFormat(a,t),WN[o]=n),n}let JN={};function HTe(a,t={}){const{base:o,...n}=t,r=JSON.stringify([a,n]);let e=JN[r];return e||(e=new Intl.RelativeTimeFormat(a,t),JN[r]=e),e}let J3=null;function GTe(){return J3||(J3=new Intl.DateTimeFormat().resolvedOptions().locale,J3)}let Tne={};function zTe(a){let t=Tne[a];if(!t){const o=new Intl.Locale(a);t="getWeekInfo"in o?o.getWeekInfo():o.weekInfo,Tne[a]=t}return t}function kTe(a){const t=a.indexOf("-x-");t!==-1&&(a=a.substring(0,t));const o=a.indexOf("-u-");if(o===-1)return[a];{let n,r;try{n=XN(a).resolvedOptions(),r=a}catch{const c=a.substring(0,o);n=XN(c).resolvedOptions(),r=c}const{numberingSystem:e,calendar:i}=n;return[r,e,i]}}function XTe(a,t,o){return(o||t)&&(a.includes("-u-")||(a+="-u"),o&&(a+=`-ca-${o}`),t&&(a+=`-nu-${t}`)),a}function WTe(a){const t=[];for(let o=1;o<=12;o++){const n=bt.utc(2009,o,1);t.push(a(n))}return t}function JTe(a){const t=[];for(let o=1;o<=7;o++){const n=bt.utc(2016,11,13+o);t.push(a(n))}return t}function fE(a,t,o,n){const r=a.listingMode();return r==="error"?null:r==="en"?o(t):n(t)}function KTe(a){return a.numberingSystem&&a.numberingSystem!=="latn"?!1:a.numberingSystem==="latn"||!a.locale||a.locale.startsWith("en")||new Intl.DateTimeFormat(a.intl).resolvedOptions().numberingSystem==="latn"}class YTe{constructor(t,o,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:r,floor:e,...i}=n;if(!o||Object.keys(i).length>0){const s={useGrouping:!1,...n};n.padTo>0&&(s.minimumIntegerDigits=n.padTo),this.inf=QTe(t,s)}}format(t){if(this.inf){const o=this.floor?Math.floor(t):t;return this.inf.format(o)}else{const o=this.floor?Math.floor(t):iD(t,3);return Or(o,this.padTo)}}}class ZTe{constructor(t,o,n){this.opts=n,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const i=-1*(t.offset/60),s=i>=0?`Etc/GMT+${i}`:`Etc/GMT${i}`;t.offset!==0&&Gi.create(s).valid?(r=s,this.dt=t):(r="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,r=t.zone.name):(r="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const e={...this.opts};e.timeZone=e.timeZone||r,this.dtf=XN(o,e)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(o=>{if(o.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...o,value:n}}else return o}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class ewe{constructor(t,o,n){this.opts={style:"long",...n},!o&&$ne()&&(this.rtf=HTe(t,n))}format(t,o){return this.rtf?this.rtf.format(t,o):Swe(o,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,o){return this.rtf?this.rtf.formatToParts(t,o):[]}}const twe={firstDay:1,minimalDays:4,weekend:[6,7]};class Ct{static fromOpts(t){return Ct.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,o,n,r,e=!1){const i=t||hr.defaultLocale,s=i||(e?"en-US":GTe()),c=o||hr.defaultNumberingSystem,u=n||hr.defaultOutputCalendar,l=rD(r)||hr.defaultWeekSettings;return new Ct(s,c,u,l,i)}static resetCache(){J3=null,kN={},WN={},JN={}}static fromObject({locale:t,numberingSystem:o,outputCalendar:n,weekSettings:r}={}){return Ct.create(t,o,n,r)}constructor(t,o,n,r,e){const[i,s,c]=kTe(t);this.locale=i,this.numberingSystem=o||s||null,this.outputCalendar=n||c||null,this.weekSettings=r,this.intl=XTe(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=e,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=KTe(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),o=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&o?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:Ct.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,rD(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,o=!1){return fE(this,t,kne,()=>{const n=o?{month:t,day:"numeric"}:{month:t},r=o?"format":"standalone";return this.monthsCache[r][t]||(this.monthsCache[r][t]=WTe(e=>this.extract(e,n,"month"))),this.monthsCache[r][t]})}weekdays(t,o=!1){return fE(this,t,Jne,()=>{const n=o?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},r=o?"format":"standalone";return this.weekdaysCache[r][t]||(this.weekdaysCache[r][t]=JTe(e=>this.extract(e,n,"weekday"))),this.weekdaysCache[r][t]})}meridiems(){return fE(this,void 0,()=>Kne,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[bt.utc(2016,11,13,9),bt.utc(2016,11,13,19)].map(o=>this.extract(o,t,"dayperiod"))}return this.meridiemCache})}eras(t){return fE(this,t,Yne,()=>{const o={era:t};return this.eraCache[t]||(this.eraCache[t]=[bt.utc(-40,1,1),bt.utc(2017,1,1)].map(n=>this.extract(n,o,"era"))),this.eraCache[t]})}extract(t,o,n){const r=this.dtFormatter(t,o),e=r.formatToParts(),i=e.find(s=>s.type.toLowerCase()===n);return i?i.value:null}numberFormatter(t={}){return new YTe(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,o={}){return new ZTe(t,this.intl,o)}relFormatter(t={}){return new ewe(this.intl,this.isEnglish(),t)}listFormatter(t={}){return VTe(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Une()?zTe(this.locale):twe}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let KN=null;class cn extends W3{static get utcInstance(){return KN===null&&(KN=new cn(0)),KN}static instance(t){return t===0?cn.utcInstance:new cn(t)}static parseSpecifier(t){if(t){const o=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(o)return new cn(_E(o[1],o[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Z3(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Z3(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,o){return Z3(this.fixed,o)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class rwe extends W3{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ia(a,t){if(vt(a)||a===null)return t;if(a instanceof W3)return a;if(uwe(a)){const o=a.toLowerCase();return o==="default"?t:o==="local"||o==="system"?cE.instance:o==="utc"||o==="gmt"?cn.utcInstance:cn.parseSpecifier(o)||Gi.create(a)}else return Ra(a)?cn.instance(a):typeof a=="object"&&"offset"in a&&typeof a.offset=="function"?a:new rwe(a)}const YN={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},wne={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},nwe=YN.hanidec.replace(/[\[|\]]/g,"").split("");function iwe(a){let t=parseInt(a,10);if(isNaN(t)){t="";for(let o=0;o<a.length;o++){const n=a.charCodeAt(o);if(a[o].search(YN.hanidec)!==-1)t+=nwe.indexOf(a[o]);else for(const r in wne){const[e,i]=wne[r];n>=e&&n<=i&&(t+=n-e)}}return parseInt(t,10)}else return t}let Hh={};function awe(){Hh={}}function si({numberingSystem:a},t=""){const o=a||"latn";return Hh[o]||(Hh[o]={}),Hh[o][t]||(Hh[o][t]=new RegExp(`${YN[o]}${t}`)),Hh[o][t]}let Sne=()=>Date.now(),One="system",Ane=null,Ene=null,xne=null,Ine=60,Rne,Fne=null;class hr{static get now(){return Sne}static set now(t){Sne=t}static set defaultZone(t){One=t}static get defaultZone(){return Ia(One,cE.instance)}static get defaultLocale(){return Ane}static set defaultLocale(t){Ane=t}static get defaultNumberingSystem(){return Ene}static set defaultNumberingSystem(t){Ene=t}static get defaultOutputCalendar(){return xne}static set defaultOutputCalendar(t){xne=t}static get defaultWeekSettings(){return Fne}static set defaultWeekSettings(t){Fne=rD(t)}static get twoDigitCutoffYear(){return Ine}static set twoDigitCutoffYear(t){Ine=t%100}static get throwOnInvalid(){return Rne}static set throwOnInvalid(t){Rne=t}static resetCaches(){Ct.resetCache(),Gi.resetCache(),bt.resetCache(),awe()}}class ui{constructor(t,o){this.reason=t,this.explanation=o}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Nne=[0,31,59,90,120,151,181,212,243,273,304,334],Dne=[0,31,60,91,121,152,182,213,244,274,305,335];function Mn(a,t){return new ui("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${a}, which is invalid`)}function ZN(a,t,o){const n=new Date(Date.UTC(a,t-1,o));a<100&&a>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const r=n.getUTCDay();return r===0?7:r}function Pne(a,t,o){return o+(K3(a)?Dne:Nne)[t-1]}function Lne(a,t){const o=K3(a)?Dne:Nne,n=o.findIndex(e=>e<t),r=t-o[n];return{month:n+1,day:r}}function eD(a,t){return(a-t+7)%7+1}function hE(a,t=4,o=1){const{year:n,month:r,day:e}=a,i=Pne(n,r,e),s=eD(ZN(n,r,e),o);let c=Math.floor((i-s+14-t)/7),u;return c<1?(u=n-1,c=Y3(u,t,o)):c>Y3(n,t,o)?(u=n+1,c=1):u=n,{weekYear:u,weekNumber:c,weekday:s,...gE(a)}}function jne(a,t=4,o=1){const{weekYear:n,weekNumber:r,weekday:e}=a,i=eD(ZN(n,1,t),o),s=zh(n);let c=r*7+e-i-7+t,u;c<1?(u=n-1,c+=zh(u)):c>s?(u=n+1,c-=zh(n)):u=n;const{month:l,day:f}=Lne(u,c);return{year:u,month:l,day:f,...gE(a)}}function tD(a){const{year:t,month:o,day:n}=a,r=Pne(t,o,n);return{year:t,ordinal:r,...gE(a)}}function Mne(a){const{year:t,ordinal:o}=a,{month:n,day:r}=Lne(t,o);return{year:t,month:n,day:r,...gE(a)}}function qne(a,t){if(!vt(a.localWeekday)||!vt(a.localWeekNumber)||!vt(a.localWeekYear)){if(!vt(a.weekday)||!vt(a.weekNumber)||!vt(a.weekYear))throw new Qh("Cannot mix locale-based week fields with ISO-based week fields");return vt(a.localWeekday)||(a.weekday=a.localWeekday),vt(a.localWeekNumber)||(a.weekNumber=a.localWeekNumber),vt(a.localWeekYear)||(a.weekYear=a.localWeekYear),delete a.localWeekday,delete a.localWeekNumber,delete a.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function owe(a,t=4,o=1){const n=pE(a.weekYear),r=qn(a.weekNumber,1,Y3(a.weekYear,t,o)),e=qn(a.weekday,1,7);return n?r?e?!1:Mn("weekday",a.weekday):Mn("week",a.weekNumber):Mn("weekYear",a.weekYear)}function swe(a){const t=pE(a.year),o=qn(a.ordinal,1,zh(a.year));return t?o?!1:Mn("ordinal",a.ordinal):Mn("year",a.year)}function Cne(a){const t=pE(a.year),o=qn(a.month,1,12),n=qn(a.day,1,yE(a.year,a.month));return t?o?n?!1:Mn("day",a.day):Mn("month",a.month):Mn("year",a.year)}function Bne(a){const{hour:t,minute:o,second:n,millisecond:r}=a,e=qn(t,0,23)||t===24&&o===0&&n===0&&r===0,i=qn(o,0,59),s=qn(n,0,59),c=qn(r,0,999);return e?i?s?c?!1:Mn("millisecond",r):Mn("second",n):Mn("minute",o):Mn("hour",t)}function vt(a){return typeof a>"u"}function Ra(a){return typeof a=="number"}function pE(a){return typeof a=="number"&&a%1===0}function uwe(a){return typeof a=="string"}function cwe(a){return Object.prototype.toString.call(a)==="[object Date]"}function $ne(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Une(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function lwe(a){return Array.isArray(a)?a:[a]}function Vne(a,t,o){if(a.length!==0)return a.reduce((n,r)=>{const e=[t(r),r];return n&&o(n[0],e[0])===n[0]?n:e},null)[1]}function dwe(a,t){return t.reduce((o,n)=>(o[n]=a[n],o),{})}function Gh(a,t){return Object.prototype.hasOwnProperty.call(a,t)}function rD(a){if(a==null)return null;if(typeof a!="object")throw new Wr("Week settings must be an object");if(!qn(a.firstDay,1,7)||!qn(a.minimalDays,1,7)||!Array.isArray(a.weekend)||a.weekend.some(t=>!qn(t,1,7)))throw new Wr("Invalid week settings");return{firstDay:a.firstDay,minimalDays:a.minimalDays,weekend:Array.from(a.weekend)}}function qn(a,t,o){return pE(a)&&a>=t&&a<=o}function fwe(a,t){return a-t*Math.floor(a/t)}function Or(a,t=2){const o=a<0;let n;return o?n="-"+(""+-a).padStart(t,"0"):n=(""+a).padStart(t,"0"),n}function Fa(a){if(!(vt(a)||a===null||a===""))return parseInt(a,10)}function $f(a){if(!(vt(a)||a===null||a===""))return parseFloat(a)}function nD(a){if(!(vt(a)||a===null||a==="")){const t=parseFloat("0."+a)*1e3;return Math.floor(t)}}function iD(a,t,o=!1){const n=10**t;return(o?Math.trunc:Math.round)(a*n)/n}function K3(a){return a%4===0&&(a%100!==0||a%400===0)}function zh(a){return K3(a)?366:365}function yE(a,t){const o=fwe(t-1,12)+1,n=a+(t-o)/12;return o===2?K3(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][o-1]}function bE(a){let t=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond);return a.year<100&&a.year>=0&&(t=new Date(t),t.setUTCFullYear(a.year,a.month-1,a.day)),+t}function Qne(a,t,o){return-eD(ZN(a,1,t),o)+t-1}function Y3(a,t=4,o=1){const n=Qne(a,t,o),r=Qne(a+1,t,o);return(zh(a)-n+r)/7}function aD(a){return a>99?a:a>hr.twoDigitCutoffYear?1900+a:2e3+a}function Hne(a,t,o,n=null){const r=new Date(a),e={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(e.timeZone=n);const i={timeZoneName:t,...e},s=new Intl.DateTimeFormat(o,i).formatToParts(r).find(c=>c.type.toLowerCase()==="timezonename");return s?s.value:null}function _E(a,t){let o=parseInt(a,10);Number.isNaN(o)&&(o=0);const n=parseInt(t,10)||0,r=o<0||Object.is(o,-0)?-n:n;return o*60+r}function Gne(a){const t=Number(a);if(typeof a=="boolean"||a===""||Number.isNaN(t))throw new Wr(`Invalid unit value ${a}`);return t}function mE(a,t){const o={};for(const n in a)if(Gh(a,n)){const r=a[n];if(r==null)continue;o[t(n)]=Gne(r)}return o}function Z3(a,t){const o=Math.trunc(Math.abs(a/60)),n=Math.trunc(Math.abs(a%60)),r=a>=0?"+":"-";switch(t){case"short":return`${r}${Or(o,2)}:${Or(n,2)}`;case"narrow":return`${r}${o}${n>0?`:${n}`:""}`;case"techie":return`${r}${Or(o,2)}${Or(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function gE(a){return dwe(a,["hour","minute","second","millisecond"])}const hwe=["January","February","March","April","May","June","July","August","September","October","November","December"],zne=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pwe=["J","F","M","A","M","J","J","A","S","O","N","D"];function kne(a){switch(a){case"narrow":return[...pwe];case"short":return[...zne];case"long":return[...hwe];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Xne=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Wne=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ywe=["M","T","W","T","F","S","S"];function Jne(a){switch(a){case"narrow":return[...ywe];case"short":return[...Wne];case"long":return[...Xne];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Kne=["AM","PM"],bwe=["Before Christ","Anno Domini"],_we=["BC","AD"],mwe=["B","A"];function Yne(a){switch(a){case"narrow":return[...mwe];case"short":return[..._we];case"long":return[...bwe];default:return null}}function gwe(a){return Kne[a.hour<12?0:1]}function vwe(a,t){return Jne(t)[a.weekday-1]}function Twe(a,t){return kne(t)[a.month-1]}function wwe(a,t){return Yne(t)[a.year<0?0:1]}function Swe(a,t,o="always",n=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},e=["hours","minutes","seconds"].indexOf(a)===-1;if(o==="auto"&&e){const f=a==="days";switch(t){case 1:return f?"tomorrow":`next ${r[a][0]}`;case-1:return f?"yesterday":`last ${r[a][0]}`;case 0:return f?"today":`this ${r[a][0]}`}}const i=Object.is(t,-0)||t<0,s=Math.abs(t),c=s===1,u=r[a],l=n?c?u[1]:u[2]||u[1]:c?r[a][0]:a;return i?`${s} ${l} ago`:`in ${s} ${l}`}function Zne(a,t){let o="";for(const n of a)n.literal?o+=n.val:o+=t(n.val);return o}const Owe={D:uE,DD:tne,DDD:rne,DDDD:nne,t:ine,tt:ane,ttt:one,tttt:sne,T:une,TT:cne,TTT:lne,TTTT:dne,f:fne,ff:pne,fff:bne,ffff:mne,F:hne,FF:yne,FFF:_ne,FFFF:gne};class Jr{static create(t,o={}){return new Jr(t,o)}static parseFormat(t){let o=null,n="",r=!1;const e=[];for(let i=0;i<t.length;i++){const s=t.charAt(i);s==="'"?(n.length>0&&e.push({literal:r||/^\s+$/.test(n),val:n}),o=null,n="",r=!r):r||s===o?n+=s:(n.length>0&&e.push({literal:/^\s+$/.test(n),val:n}),n=s,o=s)}return n.length>0&&e.push({literal:r||/^\s+$/.test(n),val:n}),e}static macroTokenToFormatOpts(t){return Owe[t]}constructor(t,o){this.opts=o,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,o){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...o}).format()}dtFormatter(t,o={}){return this.loc.dtFormatter(t,{...this.opts,...o})}formatDateTime(t,o){return this.dtFormatter(t,o).format()}formatDateTimeParts(t,o){return this.dtFormatter(t,o).formatToParts()}formatInterval(t,o){return this.dtFormatter(t.start,o).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,o){return this.dtFormatter(t,o).resolvedOptions()}num(t,o=0){if(this.opts.forceSimple)return Or(t,o);const n={...this.opts};return o>0&&(n.padTo=o),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,o){const n=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",e=(h,p)=>this.loc.extract(t,h,p),i=h=>t.isOffsetFixed&&t.offset===0&&h.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,h.format):"",s=()=>n?gwe(t):e({hour:"numeric",hourCycle:"h12"},"dayperiod"),c=(h,p)=>n?Twe(t,h):e(p?{month:h}:{month:h,day:"numeric"},"month"),u=(h,p)=>n?vwe(t,h):e(p?{weekday:h}:{weekday:h,month:"long",day:"numeric"},"weekday"),l=h=>{const p=Jr.macroTokenToFormatOpts(h);return p?this.formatWithSystemDefault(t,p):h},f=h=>n?wwe(t,h):e({era:h},"era"),d=h=>{switch(h){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return i({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return i({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return i({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return s();case"d":return r?e({day:"numeric"},"day"):this.num(t.day);case"dd":return r?e({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return r?e({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return r?e({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return r?e({month:"numeric"},"month"):this.num(t.month);case"MM":return r?e({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return r?e({year:"numeric"},"year"):this.num(t.year);case"yy":return r?e({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return r?e({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return r?e({year:"numeric"},"year"):this.num(t.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return l(h)}};return Zne(Jr.parseFormat(o),d)}formatDurationFromString(t,o){const n=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=c=>u=>{const l=n(u);return l?this.num(c.get(l),u.length):u},e=Jr.parseFormat(o),i=e.reduce((c,{literal:u,val:l})=>u?c:c.concat(l),[]),s=t.shiftTo(...i.map(n).filter(c=>c));return Zne(e,r(s))}}const eie=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function kh(...a){const t=a.reduce((o,n)=>o+n.source,"");return RegExp(`^${t}$`)}function Xh(...a){return t=>a.reduce(([o,n,r],e)=>{const[i,s,c]=e(t,r);return[{...o,...i},s||n,c]},[{},null,1]).slice(0,2)}function Wh(a,...t){if(a==null)return[null,null];for(const[o,n]of t){const r=o.exec(a);if(r)return n(r)}return[null,null]}function tie(...a){return(t,o)=>{const n={};let r;for(r=0;r<a.length;r++)n[a[r]]=Fa(t[o+r]);return[n,null,o+r]}}const rie=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Awe=`(?:${rie.source}?(?:\\[(${eie.source})\\])?)?`,oD=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,nie=RegExp(`${oD.source}${Awe}`),sD=RegExp(`(?:T${nie.source})?`),Ewe=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,xwe=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Iwe=/(\d{4})-?(\d{3})/,Rwe=tie("weekYear","weekNumber","weekDay"),Fwe=tie("year","ordinal"),Nwe=/(\d{4})-(\d\d)-(\d\d)/,iie=RegExp(`${oD.source} ?(?:${rie.source}|(${eie.source}))?`),Dwe=RegExp(`(?: ${iie.source})?`);function Jh(a,t,o){const n=a[t];return vt(n)?o:Fa(n)}function Pwe(a,t){return[{year:Jh(a,t),month:Jh(a,t+1,1),day:Jh(a,t+2,1)},null,t+3]}function Kh(a,t){return[{hours:Jh(a,t,0),minutes:Jh(a,t+1,0),seconds:Jh(a,t+2,0),milliseconds:nD(a[t+3])},null,t+4]}function eO(a,t){const o=!a[t]&&!a[t+1],n=_E(a[t+1],a[t+2]),r=o?null:cn.instance(n);return[{},r,t+3]}function tO(a,t){const o=a[t]?Gi.create(a[t]):null;return[{},o,t+1]}const Lwe=RegExp(`^T?${oD.source}$`),jwe=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Mwe(a){const[t,o,n,r,e,i,s,c,u]=a,l=t[0]==="-",f=c&&c[0]==="-",d=(h,p=!1)=>h!==void 0&&(p||h&&l)?-h:h;return[{years:d($f(o)),months:d($f(n)),weeks:d($f(r)),days:d($f(e)),hours:d($f(i)),minutes:d($f(s)),seconds:d($f(c),c==="-0"),milliseconds:d(nD(u),f)}]}const qwe={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function uD(a,t,o,n,r,e,i){const s={year:t.length===2?aD(Fa(t)):Fa(t),month:zne.indexOf(o)+1,day:Fa(n),hour:Fa(r),minute:Fa(e)};return i&&(s.second=Fa(i)),a&&(s.weekday=a.length>3?Xne.indexOf(a)+1:Wne.indexOf(a)+1),s}const Cwe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Bwe(a){const[,t,o,n,r,e,i,s,c,u,l,f]=a,d=uD(t,r,n,o,e,i,s);let h;return c?h=qwe[c]:u?h=0:h=_E(l,f),[d,new cn(h)]}function $we(a){return a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Uwe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Vwe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Qwe=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function aie(a){const[,t,o,n,r,e,i,s]=a;return[uD(t,r,n,o,e,i,s),cn.utcInstance]}function Hwe(a){const[,t,o,n,r,e,i,s]=a;return[uD(t,s,o,n,r,e,i),cn.utcInstance]}const Gwe=kh(Ewe,sD),zwe=kh(xwe,sD),kwe=kh(Iwe,sD),Xwe=kh(nie),oie=Xh(Pwe,Kh,eO,tO),Wwe=Xh(Rwe,Kh,eO,tO),Jwe=Xh(Fwe,Kh,eO,tO),Kwe=Xh(Kh,eO,tO);function Ywe(a){return Wh(a,[Gwe,oie],[zwe,Wwe],[kwe,Jwe],[Xwe,Kwe])}function Zwe(a){return Wh($we(a),[Cwe,Bwe])}function eSe(a){return Wh(a,[Uwe,aie],[Vwe,aie],[Qwe,Hwe])}function tSe(a){return Wh(a,[jwe,Mwe])}const rSe=Xh(Kh);function nSe(a){return Wh(a,[Lwe,rSe])}const iSe=kh(Nwe,Dwe),aSe=kh(iie),oSe=Xh(Kh,eO,tO);function sSe(a){return Wh(a,[iSe,oie],[aSe,oSe])}const sie="Invalid Duration",uie={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},uSe={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...uie},Cn=146097/400,Yh=146097/4800,cSe={years:{quarters:4,months:12,weeks:Cn/7,days:Cn,hours:Cn*24,minutes:Cn*24*60,seconds:Cn*24*60*60,milliseconds:Cn*24*60*60*1e3},quarters:{months:3,weeks:Cn/28,days:Cn/4,hours:Cn*24/4,minutes:Cn*24*60/4,seconds:Cn*24*60*60/4,milliseconds:Cn*24*60*60*1e3/4},months:{weeks:Yh/7,days:Yh,hours:Yh*24,minutes:Yh*24*60,seconds:Yh*24*60*60,milliseconds:Yh*24*60*60*1e3},...uie},Uf=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],lSe=Uf.slice(0).reverse();function Na(a,t,o=!1){const n={values:o?t.values:{...a.values,...t.values||{}},loc:a.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||a.conversionAccuracy,matrix:t.matrix||a.matrix};return new Lt(n)}function cie(a,t){let o=t.milliseconds??0;for(const n of lSe.slice(1))t[n]&&(o+=t[n]*a[n].milliseconds);return o}function lie(a,t){const o=cie(a,t)<0?-1:1;Uf.reduceRight((n,r)=>{if(vt(t[r]))return n;if(n){const e=t[n]*o,i=a[r][n],s=Math.floor(e/i);t[r]+=s*o,t[n]-=s*i*o}return r},null),Uf.reduce((n,r)=>{if(vt(t[r]))return n;if(n){const e=t[n]%1;t[n]-=e,t[r]+=e*a[n][r]}return r},null)}function dSe(a){const t={};for(const[o,n]of Object.entries(a))n!==0&&(t[o]=n);return t}class Lt{constructor(t){const o=t.conversionAccuracy==="longterm"||!1;let n=o?cSe:uSe;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||Ct.create(),this.conversionAccuracy=o?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,o){return Lt.fromObject({milliseconds:t},o)}static fromObject(t,o={}){if(t==null||typeof t!="object")throw new Wr(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Lt({values:mE(t,Lt.normalizeUnit),loc:Ct.fromObject(o),conversionAccuracy:o.conversionAccuracy,matrix:o.matrix})}static fromDurationLike(t){if(Ra(t))return Lt.fromMillis(t);if(Lt.isDuration(t))return t;if(typeof t=="object")return Lt.fromObject(t);throw new Wr(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,o){const[n]=tSe(t);return n?Lt.fromObject(n,o):Lt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,o){const[n]=nSe(t);return n?Lt.fromObject(n,o):Lt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,o=null){if(!t)throw new Wr("need to specify a reason the Duration is invalid");const n=t instanceof ui?t:new ui(t,o);if(hr.throwOnInvalid)throw new jTe(n);return new Lt({invalid:n})}static normalizeUnit(t){const o={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!o)throw new ene(t);return o}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,o={}){const n={...o,floor:o.round!==!1&&o.floor!==!1};return this.isValid?Jr.create(this.loc,n).formatDurationFromString(this,t):sie}toHuman(t={}){if(!this.isValid)return sie;const o=Uf.map(n=>{const r=this.values[n];return vt(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(r)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(o)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=iD(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const o=this.toMillis();return o<0||o>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},bt.fromMillis(o,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?cie(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const o=Lt.fromDurationLike(t),n={};for(const r of Uf)(Gh(o.values,r)||Gh(this.values,r))&&(n[r]=o.get(r)+this.get(r));return Na(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const o=Lt.fromDurationLike(t);return this.plus(o.negate())}mapUnits(t){if(!this.isValid)return this;const o={};for(const n of Object.keys(this.values))o[n]=Gne(t(this.values[n],n));return Na(this,{values:o},!0)}get(t){return this[Lt.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const o={...this.values,...mE(t,Lt.normalizeUnit)};return Na(this,{values:o})}reconfigure({locale:t,numberingSystem:o,conversionAccuracy:n,matrix:r}={}){const i={loc:this.loc.clone({locale:t,numberingSystem:o}),matrix:r,conversionAccuracy:n};return Na(this,i)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return lie(this.matrix,t),Na(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=dSe(this.normalize().shiftToAll().toObject());return Na(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(i=>Lt.normalizeUnit(i));const o={},n={},r=this.toObject();let e;for(const i of Uf)if(t.indexOf(i)>=0){e=i;let s=0;for(const u in n)s+=this.matrix[u][i]*n[u],n[u]=0;Ra(r[i])&&(s+=r[i]);const c=Math.trunc(s);o[i]=c,n[i]=(s*1e3-c*1e3)/1e3}else Ra(r[i])&&(n[i]=r[i]);for(const i in n)n[i]!==0&&(o[e]+=i===e?n[i]:n[i]/this.matrix[e][i]);return lie(this.matrix,o),Na(this,{values:o},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const o of Object.keys(this.values))t[o]=this.values[o]===0?0:-this.values[o];return Na(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function o(n,r){return n===void 0||n===0?r===void 0||r===0:n===r}for(const n of Uf)if(!o(this.values[n],t.values[n]))return!1;return!0}}const Zh="Invalid Interval";function fSe(a,t){return!a||!a.isValid?pr.invalid("missing or invalid start"):!t||!t.isValid?pr.invalid("missing or invalid end"):t<a?pr.invalid("end before start",`The end of an interval must be after its start, but you had start=${a.toISO()} and end=${t.toISO()}`):null}class pr{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,o=null){if(!t)throw new Wr("need to specify a reason the Interval is invalid");const n=t instanceof ui?t:new ui(t,o);if(hr.throwOnInvalid)throw new LTe(n);return new pr({invalid:n})}static fromDateTimes(t,o){const n=nO(t),r=nO(o),e=fSe(n,r);return e??new pr({start:n,end:r})}static after(t,o){const n=Lt.fromDurationLike(o),r=nO(t);return pr.fromDateTimes(r,r.plus(n))}static before(t,o){const n=Lt.fromDurationLike(o),r=nO(t);return pr.fromDateTimes(r.minus(n),r)}static fromISO(t,o){const[n,r]=(t||"").split("/",2);if(n&&r){let e,i;try{e=bt.fromISO(n,o),i=e.isValid}catch{i=!1}let s,c;try{s=bt.fromISO(r,o),c=s.isValid}catch{c=!1}if(i&&c)return pr.fromDateTimes(e,s);if(i){const u=Lt.fromISO(r,o);if(u.isValid)return pr.after(e,u)}else if(c){const u=Lt.fromISO(n,o);if(u.isValid)return pr.before(s,u)}}return pr.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",o){if(!this.isValid)return NaN;const n=this.start.startOf(t,o);let r;return o!=null&&o.useLocaleWeeks?r=this.end.reconfigure({locale:n.locale}):r=this.end,r=r.startOf(t,o),Math.floor(r.diff(n,t).get(t))+(r.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:o}={}){return this.isValid?pr.fromDateTimes(t||this.s,o||this.e):this}splitAt(...t){if(!this.isValid)return[];const o=t.map(nO).filter(i=>this.contains(i)).sort((i,s)=>i.toMillis()-s.toMillis()),n=[];let{s:r}=this,e=0;for(;r<this.e;){const i=o[e]||this.e,s=+i>+this.e?this.e:i;n.push(pr.fromDateTimes(r,s)),r=s,e+=1}return n}splitBy(t){const o=Lt.fromDurationLike(t);if(!this.isValid||!o.isValid||o.as("milliseconds")===0)return[];let{s:n}=this,r=1,e;const i=[];for(;n<this.e;){const s=this.start.plus(o.mapUnits(c=>c*r));e=+s>+this.e?this.e:s,i.push(pr.fromDateTimes(n,e)),n=e,r+=1}return i}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const o=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return o>=n?null:pr.fromDateTimes(o,n)}union(t){if(!this.isValid)return this;const o=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return pr.fromDateTimes(o,n)}static merge(t){const[o,n]=t.sort((r,e)=>r.s-e.s).reduce(([r,e],i)=>e?e.overlaps(i)||e.abutsStart(i)?[r,e.union(i)]:[r.concat([e]),i]:[r,i],[[],null]);return n&&o.push(n),o}static xor(t){let o=null,n=0;const r=[],e=t.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),i=Array.prototype.concat(...e),s=i.sort((c,u)=>c.time-u.time);for(const c of s)n+=c.type==="s"?1:-1,n===1?o=c.time:(o&&+o!=+c.time&&r.push(pr.fromDateTimes(o,c.time)),o=null);return pr.merge(r)}difference(...t){return pr.xor([this].concat(t)).map(o=>this.intersection(o)).filter(o=>o&&!o.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Zh}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=uE,o={}){return this.isValid?Jr.create(this.s.loc.clone(o),t).formatInterval(this):Zh}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Zh}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Zh}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Zh}toFormat(t,{separator:o="  "}={}){return this.isValid?`${this.s.toFormat(t)}${o}${this.e.toFormat(t)}`:Zh}toDuration(t,o){return this.isValid?this.e.diff(this.s,t,o):Lt.invalid(this.invalidReason)}mapEndpoints(t){return pr.fromDateTimes(t(this.s),t(this.e))}}class vE{static hasDST(t=hr.defaultZone){const o=bt.now().setZone(t).set({month:12});return!t.isUniversal&&o.offset!==o.set({month:6}).offset}static isValidIANAZone(t){return Gi.isValidZone(t)}static normalizeZone(t){return Ia(t,hr.defaultZone)}static getStartOfWeek({locale:t=null,locObj:o=null}={}){return(o||Ct.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:o=null}={}){return(o||Ct.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:o=null}={}){return(o||Ct.create(t)).getWeekendDays().slice()}static months(t="long",{locale:o=null,numberingSystem:n=null,locObj:r=null,outputCalendar:e="gregory"}={}){return(r||Ct.create(o,n,e)).months(t)}static monthsFormat(t="long",{locale:o=null,numberingSystem:n=null,locObj:r=null,outputCalendar:e="gregory"}={}){return(r||Ct.create(o,n,e)).months(t,!0)}static weekdays(t="long",{locale:o=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Ct.create(o,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:o=null,numberingSystem:n=null,locObj:r=null}={}){return(r||Ct.create(o,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Ct.create(t).meridiems()}static eras(t="short",{locale:o=null}={}){return Ct.create(o,null,"gregory").eras(t)}static features(){return{relative:$ne(),localeWeek:Une()}}}function die(a,t){const o=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=o(t)-o(a);return Math.floor(Lt.fromMillis(n).as("days"))}function hSe(a,t,o){const n=[["years",(c,u)=>u.year-c.year],["quarters",(c,u)=>u.quarter-c.quarter+(u.year-c.year)*4],["months",(c,u)=>u.month-c.month+(u.year-c.year)*12],["weeks",(c,u)=>{const l=die(c,u);return(l-l%7)/7}],["days",die]],r={},e=a;let i,s;for(const[c,u]of n)o.indexOf(c)>=0&&(i=c,r[c]=u(a,t),s=e.plus(r),s>t?(r[c]--,a=e.plus(r),a>t&&(s=a,r[c]--,a=e.plus(r))):a=s);return[a,r,s,i]}function pSe(a,t,o,n){let[r,e,i,s]=hSe(a,t,o);const c=t-r,u=o.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);u.length===0&&(i<t&&(i=r.plus({[s]:1})),i!==r&&(e[s]=(e[s]||0)+c/(i-r)));const l=Lt.fromObject(e,n);return u.length>0?Lt.fromMillis(c,n).shiftTo(...u).plus(l):l}const ySe="missing Intl.DateTimeFormat.formatToParts support";function Mt(a,t=o=>o){return{regex:a,deser:([o])=>t(iwe(o))}}const fie="[ ]",hie=new RegExp(fie,"g");function bSe(a){return a.replace(/\./g,"\\.?").replace(hie,fie)}function pie(a){return a.replace(/\./g,"").replace(hie," ").toLowerCase()}function ci(a,t){return a===null?null:{regex:RegExp(a.map(bSe).join("|")),deser:([o])=>a.findIndex(n=>pie(o)===pie(n))+t}}function yie(a,t){return{regex:a,deser:([,o,n])=>_E(o,n),groups:t}}function TE(a){return{regex:a,deser:([t])=>t}}function _Se(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function mSe(a,t){const o=si(t),n=si(t,"{2}"),r=si(t,"{3}"),e=si(t,"{4}"),i=si(t,"{6}"),s=si(t,"{1,2}"),c=si(t,"{1,3}"),u=si(t,"{1,6}"),l=si(t,"{1,9}"),f=si(t,"{2,4}"),d=si(t,"{4,6}"),h=g=>({regex:RegExp(_Se(g.val)),deser:([y])=>y,literal:!0}),_=(g=>{if(a.literal)return h(g);switch(g.val){case"G":return ci(t.eras("short"),0);case"GG":return ci(t.eras("long"),0);case"y":return Mt(u);case"yy":return Mt(f,aD);case"yyyy":return Mt(e);case"yyyyy":return Mt(d);case"yyyyyy":return Mt(i);case"M":return Mt(s);case"MM":return Mt(n);case"MMM":return ci(t.months("short",!0),1);case"MMMM":return ci(t.months("long",!0),1);case"L":return Mt(s);case"LL":return Mt(n);case"LLL":return ci(t.months("short",!1),1);case"LLLL":return ci(t.months("long",!1),1);case"d":return Mt(s);case"dd":return Mt(n);case"o":return Mt(c);case"ooo":return Mt(r);case"HH":return Mt(n);case"H":return Mt(s);case"hh":return Mt(n);case"h":return Mt(s);case"mm":return Mt(n);case"m":return Mt(s);case"q":return Mt(s);case"qq":return Mt(n);case"s":return Mt(s);case"ss":return Mt(n);case"S":return Mt(c);case"SSS":return Mt(r);case"u":return TE(l);case"uu":return TE(s);case"uuu":return Mt(o);case"a":return ci(t.meridiems(),0);case"kkkk":return Mt(e);case"kk":return Mt(f,aD);case"W":return Mt(s);case"WW":return Mt(n);case"E":case"c":return Mt(o);case"EEE":return ci(t.weekdays("short",!1),1);case"EEEE":return ci(t.weekdays("long",!1),1);case"ccc":return ci(t.weekdays("short",!0),1);case"cccc":return ci(t.weekdays("long",!0),1);case"Z":case"ZZ":return yie(new RegExp(`([+-]${s.source})(?::(${n.source}))?`),2);case"ZZZ":return yie(new RegExp(`([+-]${s.source})(${n.source})?`),2);case"z":return TE(/[a-z_+-/]{1,256}?/i);case" ":return TE(/[^\S\n\r]/);default:return h(g)}})(a)||{invalidReason:ySe};return _.token=a,_}const gSe={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function vSe(a,t,o){const{type:n,value:r}=a;if(n==="literal"){const c=/^\s+$/.test(r);return{literal:!c,val:c?" ":r}}const e=t[n];let i=n;n==="hour"&&(t.hour12!=null?i=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?i="hour12":i="hour24":i=o.hour12?"hour12":"hour24");let s=gSe[i];if(typeof s=="object"&&(s=s[e]),s)return{literal:!1,val:s}}function TSe(a){return[`^${a.map(o=>o.regex).reduce((o,n)=>`${o}(${n.source})`,"")}$`,a]}function wSe(a,t,o){const n=a.match(t);if(n){const r={};let e=1;for(const i in o)if(Gh(o,i)){const s=o[i],c=s.groups?s.groups+1:1;!s.literal&&s.token&&(r[s.token.val[0]]=s.deser(n.slice(e,e+c))),e+=c}return[n,r]}else return[n,{}]}function SSe(a){const t=e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let o=null,n;return vt(a.z)||(o=Gi.create(a.z)),vt(a.Z)||(o||(o=new cn(a.Z)),n=a.Z),vt(a.q)||(a.M=(a.q-1)*3+1),vt(a.h)||(a.h<12&&a.a===1?a.h+=12:a.h===12&&a.a===0&&(a.h=0)),a.G===0&&a.y&&(a.y=-a.y),vt(a.u)||(a.S=nD(a.u)),[Object.keys(a).reduce((e,i)=>{const s=t(i);return s&&(e[s]=a[i]),e},{}),o,n]}let cD=null;function OSe(){return cD||(cD=bt.fromMillis(1555555555555)),cD}function ASe(a,t){if(a.literal)return a;const o=Jr.macroTokenToFormatOpts(a.val),n=gie(o,t);return n==null||n.includes(void 0)?a:n}function bie(a,t){return Array.prototype.concat(...a.map(o=>ASe(o,t)))}class _ie{constructor(t,o){if(this.locale=t,this.format=o,this.tokens=bie(Jr.parseFormat(o),t),this.units=this.tokens.map(n=>mSe(n,t)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,r]=TSe(this.units);this.regex=RegExp(n,"i"),this.handlers=r}}explainFromTokens(t){if(this.isValid){const[o,n]=wSe(t,this.regex,this.handlers),[r,e,i]=n?SSe(n):[null,null,void 0];if(Gh(n,"a")&&Gh(n,"H"))throw new Qh("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:o,matches:n,result:r,zone:e,specificOffset:i}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function mie(a,t,o){return new _ie(a,o).explainFromTokens(t)}function ESe(a,t,o){const{result:n,zone:r,specificOffset:e,invalidReason:i}=mie(a,t,o);return[n,r,e,i]}function gie(a,t){if(!a)return null;const n=Jr.create(t,a).dtFormatter(OSe()),r=n.formatToParts(),e=n.resolvedOptions();return r.map(i=>vSe(i,a,e))}const lD="Invalid DateTime",xSe=864e13;function rO(a){return new ui("unsupported zone",`the zone "${a.name}" is not supported`)}function dD(a){return a.weekData===null&&(a.weekData=hE(a.c)),a.weekData}function fD(a){return a.localWeekData===null&&(a.localWeekData=hE(a.c,a.loc.getMinDaysInFirstWeek(),a.loc.getStartOfWeek())),a.localWeekData}function Vf(a,t){const o={ts:a.ts,zone:a.zone,c:a.c,o:a.o,loc:a.loc,invalid:a.invalid};return new bt({...o,...t,old:o})}function vie(a,t,o){let n=a-t*60*1e3;const r=o.offset(n);if(t===r)return[n,t];n-=(r-t)*60*1e3;const e=o.offset(n);return r===e?[n,r]:[a-Math.min(r,e)*60*1e3,Math.max(r,e)]}function wE(a,t){a+=t*60*1e3;const o=new Date(a);return{year:o.getUTCFullYear(),month:o.getUTCMonth()+1,day:o.getUTCDate(),hour:o.getUTCHours(),minute:o.getUTCMinutes(),second:o.getUTCSeconds(),millisecond:o.getUTCMilliseconds()}}function SE(a,t,o){return vie(bE(a),t,o)}function Tie(a,t){const o=a.o,n=a.c.year+Math.trunc(t.years),r=a.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,e={...a.c,year:n,month:r,day:Math.min(a.c.day,yE(n,r))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},i=Lt.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),s=bE(e);let[c,u]=vie(s,o,a.zone);return i!==0&&(c+=i,u=a.zone.offset(c)),{ts:c,o:u}}function ep(a,t,o,n,r,e){const{setZone:i,zone:s}=o;if(a&&Object.keys(a).length!==0||t){const c=t||s,u=bt.fromObject(a,{...o,zone:c,specificOffset:e});return i?u:u.setZone(s)}else return bt.invalid(new ui("unparsable",`the input "${r}" can't be parsed as ${n}`))}function OE(a,t,o=!0){return a.isValid?Jr.create(Ct.create("en-US"),{allowZ:o,forceSimple:!0}).formatDateTimeFromString(a,t):null}function hD(a,t){const o=a.c.year>9999||a.c.year<0;let n="";return o&&a.c.year>=0&&(n+="+"),n+=Or(a.c.year,o?6:4),t?(n+="-",n+=Or(a.c.month),n+="-",n+=Or(a.c.day)):(n+=Or(a.c.month),n+=Or(a.c.day)),n}function wie(a,t,o,n,r,e){let i=Or(a.c.hour);return t?(i+=":",i+=Or(a.c.minute),(a.c.millisecond!==0||a.c.second!==0||!o)&&(i+=":")):i+=Or(a.c.minute),(a.c.millisecond!==0||a.c.second!==0||!o)&&(i+=Or(a.c.second),(a.c.millisecond!==0||!n)&&(i+=".",i+=Or(a.c.millisecond,3))),r&&(a.isOffsetFixed&&a.offset===0&&!e?i+="Z":a.o<0?(i+="-",i+=Or(Math.trunc(-a.o/60)),i+=":",i+=Or(Math.trunc(-a.o%60))):(i+="+",i+=Or(Math.trunc(a.o/60)),i+=":",i+=Or(Math.trunc(a.o%60)))),e&&(i+="["+a.zone.ianaName+"]"),i}const Sie={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},ISe={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},RSe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Oie=["year","month","day","hour","minute","second","millisecond"],FSe=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],NSe=["year","ordinal","hour","minute","second","millisecond"];function DSe(a){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[a.toLowerCase()];if(!t)throw new ene(a);return t}function Aie(a){switch(a.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return DSe(a)}}function PSe(a){return EE[a]||(AE===void 0&&(AE=hr.now()),EE[a]=a.offset(AE)),EE[a]}function Eie(a,t){const o=Ia(t.zone,hr.defaultZone);if(!o.isValid)return bt.invalid(rO(o));const n=Ct.fromObject(t);let r,e;if(vt(a.year))r=hr.now();else{for(const c of Oie)vt(a[c])&&(a[c]=Sie[c]);const i=Cne(a)||Bne(a);if(i)return bt.invalid(i);const s=PSe(o);[r,e]=SE(a,s,o)}return new bt({ts:r,zone:o,loc:n,o:e})}function xie(a,t,o){const n=vt(o.round)?!0:o.round,r=(i,s)=>(i=iD(i,n||o.calendary?0:2,!0),t.loc.clone(o).relFormatter(o).format(i,s)),e=i=>o.calendary?t.hasSame(a,i)?0:t.startOf(i).diff(a.startOf(i),i).get(i):t.diff(a,i).get(i);if(o.unit)return r(e(o.unit),o.unit);for(const i of o.units){const s=e(i);if(Math.abs(s)>=1)return r(s,i)}return r(a>t?-0:0,o.units[o.units.length-1])}function Iie(a){let t={},o;return a.length>0&&typeof a[a.length-1]=="object"?(t=a[a.length-1],o=Array.from(a).slice(0,a.length-1)):o=Array.from(a),[t,o]}let AE,EE={};class bt{constructor(t){const o=t.zone||hr.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new ui("invalid input"):null)||(o.isValid?null:rO(o));this.ts=vt(t.ts)?hr.now():t.ts;let r=null,e=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(o))[r,e]=[t.old.c,t.old.o];else{const s=Ra(t.o)&&!t.old?t.o:o.offset(this.ts);r=wE(this.ts,s),n=Number.isNaN(r.year)?new ui("invalid input"):null,r=n?null:r,e=n?null:s}this._zone=o,this.loc=t.loc||Ct.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=r,this.o=e,this.isLuxonDateTime=!0}static now(){return new bt({})}static local(){const[t,o]=Iie(arguments),[n,r,e,i,s,c,u]=o;return Eie({year:n,month:r,day:e,hour:i,minute:s,second:c,millisecond:u},t)}static utc(){const[t,o]=Iie(arguments),[n,r,e,i,s,c,u]=o;return t.zone=cn.utcInstance,Eie({year:n,month:r,day:e,hour:i,minute:s,second:c,millisecond:u},t)}static fromJSDate(t,o={}){const n=cwe(t)?t.valueOf():NaN;if(Number.isNaN(n))return bt.invalid("invalid input");const r=Ia(o.zone,hr.defaultZone);return r.isValid?new bt({ts:n,zone:r,loc:Ct.fromObject(o)}):bt.invalid(rO(r))}static fromMillis(t,o={}){if(Ra(t))return t<-864e13||t>xSe?bt.invalid("Timestamp out of range"):new bt({ts:t,zone:Ia(o.zone,hr.defaultZone),loc:Ct.fromObject(o)});throw new Wr(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,o={}){if(Ra(t))return new bt({ts:t*1e3,zone:Ia(o.zone,hr.defaultZone),loc:Ct.fromObject(o)});throw new Wr("fromSeconds requires a numerical input")}static fromObject(t,o={}){t=t||{};const n=Ia(o.zone,hr.defaultZone);if(!n.isValid)return bt.invalid(rO(n));const r=Ct.fromObject(o),e=mE(t,Aie),{minDaysInFirstWeek:i,startOfWeek:s}=qne(e,r),c=hr.now(),u=vt(o.specificOffset)?n.offset(c):o.specificOffset,l=!vt(e.ordinal),f=!vt(e.year),d=!vt(e.month)||!vt(e.day),h=f||d,p=e.weekYear||e.weekNumber;if((h||l)&&p)throw new Qh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&l)throw new Qh("Can't mix ordinal dates with month/day");const _=p||e.weekday&&!h;let g,y,m=wE(c,u);_?(g=FSe,y=ISe,m=hE(m,i,s)):l?(g=NSe,y=RSe,m=tD(m)):(g=Oie,y=Sie);let b=!1;for(const x of g){const I=e[x];vt(I)?b?e[x]=y[x]:e[x]=m[x]:b=!0}const T=_?owe(e,i,s):l?swe(e):Cne(e),w=T||Bne(e);if(w)return bt.invalid(w);const O=_?jne(e,i,s):l?Mne(e):e,[F,Q]=SE(O,u,n),j=new bt({ts:F,zone:n,o:Q,loc:r});return e.weekday&&h&&t.weekday!==j.weekday?bt.invalid("mismatched weekday",`you can't specify both a weekday of ${e.weekday} and a date of ${j.toISO()}`):j.isValid?j:bt.invalid(j.invalid)}static fromISO(t,o={}){const[n,r]=Ywe(t);return ep(n,r,o,"ISO 8601",t)}static fromRFC2822(t,o={}){const[n,r]=Zwe(t);return ep(n,r,o,"RFC 2822",t)}static fromHTTP(t,o={}){const[n,r]=eSe(t);return ep(n,r,o,"HTTP",o)}static fromFormat(t,o,n={}){if(vt(t)||vt(o))throw new Wr("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:e=null}=n,i=Ct.fromOpts({locale:r,numberingSystem:e,defaultToEN:!0}),[s,c,u,l]=ESe(i,t,o);return l?bt.invalid(l):ep(s,c,n,`format ${o}`,t,u)}static fromString(t,o,n={}){return bt.fromFormat(t,o,n)}static fromSQL(t,o={}){const[n,r]=sSe(t);return ep(n,r,o,"SQL",t)}static invalid(t,o=null){if(!t)throw new Wr("need to specify a reason the DateTime is invalid");const n=t instanceof ui?t:new ui(t,o);if(hr.throwOnInvalid)throw new PTe(n);return new bt({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,o={}){const n=gie(t,Ct.fromObject(o));return n?n.map(r=>r?r.val:null).join(""):null}static expandFormat(t,o={}){return bie(Jr.parseFormat(t),Ct.fromObject(o)).map(r=>r.val).join("")}static resetCache(){AE=void 0,EE={}}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?dD(this).weekYear:NaN}get weekNumber(){return this.isValid?dD(this).weekNumber:NaN}get weekday(){return this.isValid?dD(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?fD(this).weekday:NaN}get localWeekNumber(){return this.isValid?fD(this).weekNumber:NaN}get localWeekYear(){return this.isValid?fD(this).weekYear:NaN}get ordinal(){return this.isValid?tD(this.c).ordinal:NaN}get monthShort(){return this.isValid?vE.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?vE.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?vE.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?vE.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,o=6e4,n=bE(this.c),r=this.zone.offset(n-t),e=this.zone.offset(n+t),i=this.zone.offset(n-r*o),s=this.zone.offset(n-e*o);if(i===s)return[this];const c=n-i*o,u=n-s*o,l=wE(c,i),f=wE(u,s);return l.hour===f.hour&&l.minute===f.minute&&l.second===f.second&&l.millisecond===f.millisecond?[Vf(this,{ts:c}),Vf(this,{ts:u})]:[this]}get isInLeapYear(){return K3(this.year)}get daysInMonth(){return yE(this.year,this.month)}get daysInYear(){return this.isValid?zh(this.year):NaN}get weeksInWeekYear(){return this.isValid?Y3(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Y3(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:o,numberingSystem:n,calendar:r}=Jr.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:o,numberingSystem:n,outputCalendar:r}}toUTC(t=0,o={}){return this.setZone(cn.instance(t),o)}toLocal(){return this.setZone(hr.defaultZone)}setZone(t,{keepLocalTime:o=!1,keepCalendarTime:n=!1}={}){if(t=Ia(t,hr.defaultZone),t.equals(this.zone))return this;if(t.isValid){let r=this.ts;if(o||n){const e=t.offset(this.ts),i=this.toObject();[r]=SE(i,e,t)}return Vf(this,{ts:r,zone:t})}else return bt.invalid(rO(t))}reconfigure({locale:t,numberingSystem:o,outputCalendar:n}={}){const r=this.loc.clone({locale:t,numberingSystem:o,outputCalendar:n});return Vf(this,{loc:r})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const o=mE(t,Aie),{minDaysInFirstWeek:n,startOfWeek:r}=qne(o,this.loc),e=!vt(o.weekYear)||!vt(o.weekNumber)||!vt(o.weekday),i=!vt(o.ordinal),s=!vt(o.year),c=!vt(o.month)||!vt(o.day),u=s||c,l=o.weekYear||o.weekNumber;if((u||i)&&l)throw new Qh("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&i)throw new Qh("Can't mix ordinal dates with month/day");let f;e?f=jne({...hE(this.c,n,r),...o},n,r):vt(o.ordinal)?(f={...this.toObject(),...o},vt(o.day)&&(f.day=Math.min(yE(f.year,f.month),f.day))):f=Mne({...tD(this.c),...o});const[d,h]=SE(f,this.o,this.zone);return Vf(this,{ts:d,o:h})}plus(t){if(!this.isValid)return this;const o=Lt.fromDurationLike(t);return Vf(this,Tie(this,o))}minus(t){if(!this.isValid)return this;const o=Lt.fromDurationLike(t).negate();return Vf(this,Tie(this,o))}startOf(t,{useLocaleWeeks:o=!1}={}){if(!this.isValid)return this;const n={},r=Lt.normalizeUnit(t);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks")if(o){const e=this.loc.getStartOfWeek(),{weekday:i}=this;i<e&&(n.weekNumber=this.weekNumber-1),n.weekday=e}else n.weekday=1;if(r==="quarters"){const e=Math.ceil(this.month/3);n.month=(e-1)*3+1}return this.set(n)}endOf(t,o){return this.isValid?this.plus({[t]:1}).startOf(t,o).minus(1):this}toFormat(t,o={}){return this.isValid?Jr.create(this.loc.redefaultToEN(o)).formatDateTimeFromString(this,t):lD}toLocaleString(t=uE,o={}){return this.isValid?Jr.create(this.loc.clone(o),t).formatDateTime(this):lD}toLocaleParts(t={}){return this.isValid?Jr.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:o=!1,suppressMilliseconds:n=!1,includeOffset:r=!0,extendedZone:e=!1}={}){if(!this.isValid)return null;const i=t==="extended";let s=hD(this,i);return s+="T",s+=wie(this,i,o,n,r,e),s}toISODate({format:t="extended"}={}){return this.isValid?hD(this,t==="extended"):null}toISOWeekDate(){return OE(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:o=!1,includeOffset:n=!0,includePrefix:r=!1,extendedZone:e=!1,format:i="extended"}={}){return this.isValid?(r?"T":"")+wie(this,i==="extended",o,t,n,e):null}toRFC2822(){return OE(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return OE(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?hD(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:o=!1,includeOffsetSpace:n=!0}={}){let r="HH:mm:ss.SSS";return(o||t)&&(n&&(r+=" "),o?r+="z":t&&(r+="ZZ")),OE(this,r,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():lD}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const o={...this.c};return t.includeConfig&&(o.outputCalendar=this.outputCalendar,o.numberingSystem=this.loc.numberingSystem,o.locale=this.loc.locale),o}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,o="milliseconds",n={}){if(!this.isValid||!t.isValid)return Lt.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...n},e=lwe(o).map(Lt.normalizeUnit),i=t.valueOf()>this.valueOf(),s=i?this:t,c=i?t:this,u=pSe(s,c,e,r);return i?u.negate():u}diffNow(t="milliseconds",o={}){return this.diff(bt.now(),t,o)}until(t){return this.isValid?pr.fromDateTimes(this,t):this}hasSame(t,o,n){if(!this.isValid)return!1;const r=t.valueOf(),e=this.setZone(t.zone,{keepLocalTime:!0});return e.startOf(o,n)<=r&&r<=e.endOf(o,n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const o=t.base||bt.fromObject({},{zone:this.zone}),n=t.padding?this<o?-t.padding:t.padding:0;let r=["years","months","days","hours","minutes","seconds"],e=t.unit;return Array.isArray(t.unit)&&(r=t.unit,e=void 0),xie(o,this.plus(n),{...t,numeric:"always",units:r,unit:e})}toRelativeCalendar(t={}){return this.isValid?xie(t.base||bt.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(bt.isDateTime))throw new Wr("min requires all arguments be DateTimes");return Vne(t,o=>o.valueOf(),Math.min)}static max(...t){if(!t.every(bt.isDateTime))throw new Wr("max requires all arguments be DateTimes");return Vne(t,o=>o.valueOf(),Math.max)}static fromFormatExplain(t,o,n={}){const{locale:r=null,numberingSystem:e=null}=n,i=Ct.fromOpts({locale:r,numberingSystem:e,defaultToEN:!0});return mie(i,t,o)}static fromStringExplain(t,o,n={}){return bt.fromFormatExplain(t,o,n)}static buildFormatParser(t,o={}){const{locale:n=null,numberingSystem:r=null}=o,e=Ct.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0});return new _ie(e,t)}static fromFormatParser(t,o,n={}){if(vt(t)||vt(o))throw new Wr("fromFormatParser requires an input string and a format parser");const{locale:r=null,numberingSystem:e=null}=n,i=Ct.fromOpts({locale:r,numberingSystem:e,defaultToEN:!0});if(!i.equals(o.locale))throw new Wr(`fromFormatParser called with a locale of ${i}, but the format parser was created for ${o.locale}`);const{result:s,zone:c,specificOffset:u,invalidReason:l}=o.explainFromTokens(t);return l?bt.invalid(l):ep(s,c,n,`format ${o.format}`,t,u)}static get DATE_SHORT(){return uE}static get DATE_MED(){return tne}static get DATE_MED_WITH_WEEKDAY(){return MTe}static get DATE_FULL(){return rne}static get DATE_HUGE(){return nne}static get TIME_SIMPLE(){return ine}static get TIME_WITH_SECONDS(){return ane}static get TIME_WITH_SHORT_OFFSET(){return one}static get TIME_WITH_LONG_OFFSET(){return sne}static get TIME_24_SIMPLE(){return une}static get TIME_24_WITH_SECONDS(){return cne}static get TIME_24_WITH_SHORT_OFFSET(){return lne}static get TIME_24_WITH_LONG_OFFSET(){return dne}static get DATETIME_SHORT(){return fne}static get DATETIME_SHORT_WITH_SECONDS(){return hne}static get DATETIME_MED(){return pne}static get DATETIME_MED_WITH_SECONDS(){return yne}static get DATETIME_MED_WITH_WEEKDAY(){return qTe}static get DATETIME_FULL(){return bne}static get DATETIME_FULL_WITH_SECONDS(){return _ne}static get DATETIME_HUGE(){return mne}static get DATETIME_HUGE_WITH_SECONDS(){return gne}}function nO(a){if(bt.isDateTime(a))return a;if(a&&a.valueOf&&Ra(a.valueOf()))return bt.fromJSDate(a);if(a&&typeof a=="object")return bt.fromObject(a);throw new Wr(`Unknown datetime argument: ${a}, of type ${typeof a}`)}const LSe=new RTe.QueryEngine,pD=new DTe.DataFactory;self.onmessage=async a=>{const{sources:t,query:o}=a.data;await jSe(t,o)};async function jSe(a,t){(await LSe.queryBindings(t,{sources:[a],lenient:!0,extensionFunctions:{async"http://www.w3.org/2006/time#defaultTimezone"(n){if(n.length!==2)throw new Error("Invalid number of arguments for http://www.w3.org/2006/time#defaultTimezone");return MSe(n[0],n[1])},async"http://www.w3.org/2006/time#periodMinInclusive"(n){if(n.length!==1)throw new Error("Invalid number of arguments for http://www.w3.org/2006/time#periodMinInclusive");return xE(n[0],!0,!0)},async"http://www.w3.org/2006/time#periodMinExclusive"(n){if(n.length!==1)throw new Error("Invalid number of arguments for http://www.w3.org/2006/time#periodMinExclusive");return xE(n[0],!0,!1)},async"http://www.w3.org/2006/time#periodMaxInclusive"(n){if(n.length!==1)throw new Error("Invalid number of arguments for http://www.w3.org/2006/time#periodMaxInclusive");return xE(n[0],!1,!0)},async"http://www.w3.org/2006/time#periodMaxExclusive"(n){if(n.length!==1)throw new Error("Invalid number of arguments for http://www.w3.org/2006/time#periodMaxExclusive");return xE(n[0],!1,!1)}}})).on("data",n=>{postMessage(n.toString())})}function MSe(a,t){if(a.termType!=="Literal"||a.datatype.value!=="http://www.w3.org/2001/XMLSchema#dateTime"&&a.datatype.value!=="http://www.w3.org/2001/XMLSchema#date")return console.error(`Invalid dateTime Term: ${a.value}`),a;if(!(t.termType==="Literal"&&t.datatype.value==="http://www.w3.org/2001/XMLSchema#string"))return console.error(`Invalid timezone Term: ${t.value}`),a;let o=bt.fromISO(a.value,{setZone:!0});return!o.isValid||/(Z|[+-]\d{2}:\d{2})$/.test(a.value)?a:(o=bt.fromISO(a.value,{zone:t.value}),o.isValid?pD.literal(a.datatype.value==="http://www.w3.org/2001/XMLSchema#dateTime"?o.toISO():o.toFormat("yyyy-MM-ddZZ"),a.datatype):(console.error(`Invalid timezone: ${t.value}`),a))}function qSe(a){return pD.namedNode(iO(a))}function iO(a){return`http://www.w3.org/2001/XMLSchema#${a}`}function xE(a,t,o){if(a.termType!=="Literal")return console.error(`Invalid term: ${a.value}. Must be Literal.`),a;let n,r,e,i;if(a.datatype.value===iO("gYear")){const c=a.value.match(/^(-?([1-9][0-9]{3,}|0[0-9]{3}))(Z|([+\-])((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/);if(!c)return console.error(`Invalid xsd:gYear: ${a.value}`),a;n=c[1],r=c[3],e="year",i={year:1}}else if(a.datatype.value===iO("gYearMonth")){const c=a.value.match(/^(-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2]))(Z|([+\-])((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/);if(!c)return console.error(`Invalid xsd:gYearMonth: ${a.value}`),a;n=c[1],r=c[4],e="month",i={month:1}}else if(a.datatype.value===iO("date")){const c=a.value.match(/^(-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01]))(Z|([+\-])((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/);if(!c)return console.error(`Invalid xsd:date: ${a.value}`),a;n=c[1],r=c[5],e="day",i={day:1}}else if(a.datatype.value===iO("dateTime")){const c=a.value.match(/^(-?([1-9][0-9]{3,}|0[0-9]{3})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\.[0-9]+)?|(24:00:00(\.0+)?)))(Z|([+\-])((0[0-9]|1[0-3]):[0-5][0-9]|14:00))?$/);if(!c)return console.error(`Invalid xsd:dateTime: ${a.value}`),a;n=c[1],r=c[10],e="millisecond",i={millisecond:1}}else return a;r||(r=t?"-14:00":"+14:00"),r==="Z"&&(r="+00:00");let s;return t?s=o?bt.fromISO(n,{zone:r}).startOf(e).setZone(r).toISO():bt.fromISO(n,{zone:r}).minus(i).endOf(e).setZone(r).toISO():s=o?bt.fromISO(n,{zone:r}).endOf(e).setZone(r).toISO():bt.fromISO(n,{zone:r}).plus(i).startOf(e).setZone(r).toISO(),s?pD.literal(s,qSe("dateTime")):(console.error(`Invalid value for dateTime: ${a.value}`),a)}})();
